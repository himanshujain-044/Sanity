function Aft(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function CC(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function wm(t){return CC(t)&&typeof t._ref=="string"}function Ift(t){return CC(t)&&wm(t.asset)&&t.asset._ref.startsWith("image-")}function EPe(t){return CC(t)&&typeof t._ref=="string"&&typeof t._dataset=="string"&&typeof t._projectId=="string"}function qCr(t){return CC(t)&&typeof t._id=="string"&&typeof t._type=="string"}function LX(t){return CC(t)&&typeof t._type=="string"}function hm(t){return CC(t)&&typeof t._key=="string"}function Dft(t){return t.level==="error"}const Rft=/_key\s*==\s*['"](.*)['"]/,jft=/^\d*:\d*$/;function tm(t){return typeof t=="number"||typeof t=="string"&&/^\[\d+\]$/.test(t)}function jo(t){return typeof t=="string"?Rft.test(t.trim()):typeof t=="object"&&"_key"in t}function Ix(t){if(typeof t=="string"&&jft.test(t))return!0;if(!Array.isArray(t)||t.length!==2)return!1;const[e,n]=t;return(typeof e=="number"||e==="")&&(typeof n=="number"||n==="")}function Wj(t){return!!t&&(typeof t=="object"||typeof t=="function")}function EC(t){return Wj(t)&&typeof t._type=="string"&&Array.isArray(t.children)&&t.children.every(e=>Wj(e))&&("markDefs"in t?Array.isArray(t.markDefs)&&t.markDefs.every(e=>Wj(e)):!1)&&("style"in t?typeof t.style=="string":!0)}function lv(t){return Wj(t)&&t._type==="span"&&typeof t.text=="string"&&("marks"in t?Array.isArray(t.marks)&&t.marks.every(e=>typeof e=="string"):!0)}function Oft(t){return EC(t)&&"listItem"in t&&typeof t.listItem=="string"&&"level"in t&&Number.isInteger(t.level)}function Jx(t){return!!t&&(typeof t=="object"||typeof t=="function")}function Yh(t){return Jx(t)?t.jsonType==="object":!1}function _m(t){return Jx(t)?t.jsonType==="array":!1}function PX(t){return _m(t)&&t.of.every(e=>Yh(e))}function Lft(t){return _m(t)&&t.of.every(e=>TPe(e))}function B3(t){return Jx(t)?t.jsonType==="boolean":!1}function SPe(t){return Jx(t)?t.jsonType==="string":!1}function Dx(t){return Jx(t)?t.jsonType==="number":!1}function TPe(t){return B3(t)||SPe(t)||Dx(t)}function Iv(t){return Jx(t)&&(t.name==="reference"||Iv(t.type))}function kPe(t){return Jx(t)&&(t.name==="crossDatasetReference"||kPe(t.type))}function MX(t){return typeof t=="object"&&t!==null&&"title"in t&&"value"in t}function Cm(t,e){return t}function Fn(t,e){return t}function Jw(t,e){return t}function Pft(t){return t.level==="error"}function Mft(t){return t.level==="warning"}var co=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function $ft(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var APe={exports:{}},H8={},IPe={exports:{}},Pr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N3=Symbol.for("react.element"),Fft=Symbol.for("react.portal"),Bft=Symbol.for("react.fragment"),Nft=Symbol.for("react.strict_mode"),Vft=Symbol.for("react.profiler"),Uft=Symbol.for("react.provider"),Hft=Symbol.for("react.context"),zft=Symbol.for("react.forward_ref"),Wft=Symbol.for("react.suspense"),Gft=Symbol.for("react.memo"),qft=Symbol.for("react.lazy"),Xle=Symbol.iterator;function Yft(t){return t===null||typeof t!="object"?null:(t=Xle&&t[Xle]||t["@@iterator"],typeof t=="function"?t:null)}var DPe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},RPe=Object.assign,jPe={};function SC(t,e,n){this.props=t,this.context=e,this.refs=jPe,this.updater=n||DPe}SC.prototype.isReactComponent={};SC.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};SC.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function OPe(){}OPe.prototype=SC.prototype;function $X(t,e,n){this.props=t,this.context=e,this.refs=jPe,this.updater=n||DPe}var FX=$X.prototype=new OPe;FX.constructor=$X;RPe(FX,SC.prototype);FX.isPureReactComponent=!0;var Qle=Array.isArray,LPe=Object.prototype.hasOwnProperty,BX={current:null},PPe={key:!0,ref:!0,__self:!0,__source:!0};function MPe(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)LPe.call(e,r)&&!PPe.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:N3,type:t,key:s,ref:o,props:i,_owner:BX.current}}function Kft(t,e){return{$$typeof:N3,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function NX(t){return typeof t=="object"&&t!==null&&t.$$typeof===N3}function Zft(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Jle=/\/+/g;function mN(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Zft(""+t.key):e.toString(36)}function Gj(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case N3:case Fft:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+mN(o,0):r,Qle(i)?(n="",t!=null&&(n=t.replace(Jle,"$&/")+"/"),Gj(i,e,n,"",function(u){return u})):i!=null&&(NX(i)&&(i=Kft(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Jle,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Qle(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+mN(s,a);o+=Gj(s,e,n,l,i)}else if(l=Yft(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+mN(s,a++),o+=Gj(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xR(t,e,n){if(t==null)return t;var r=[],i=0;return Gj(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Xft(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qu={current:null},qj={transition:null},Qft={ReactCurrentDispatcher:qu,ReactCurrentBatchConfig:qj,ReactCurrentOwner:BX};Pr.Children={map:xR,forEach:function(t,e,n){xR(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xR(t,function(){e++}),e},toArray:function(t){return xR(t,function(e){return e})||[]},only:function(t){if(!NX(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pr.Component=SC;Pr.Fragment=Bft;Pr.Profiler=Vft;Pr.PureComponent=$X;Pr.StrictMode=Nft;Pr.Suspense=Wft;Pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qft;Pr.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=RPe({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=BX.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)LPe.call(e,l)&&!PPe.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:N3,type:t.type,key:i,ref:s,props:r,_owner:o}};Pr.createContext=function(t){return t={$$typeof:Hft,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Uft,_context:t},t.Consumer=t};Pr.createElement=MPe;Pr.createFactory=function(t){var e=MPe.bind(null,t);return e.type=t,e};Pr.createRef=function(){return{current:null}};Pr.forwardRef=function(t){return{$$typeof:zft,render:t}};Pr.isValidElement=NX;Pr.lazy=function(t){return{$$typeof:qft,_payload:{_status:-1,_result:t},_init:Xft}};Pr.memo=function(t,e){return{$$typeof:Gft,type:t,compare:e===void 0?null:e}};Pr.startTransition=function(t){var e=qj.transition;qj.transition={};try{t()}finally{qj.transition=e}};Pr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Pr.useCallback=function(t,e){return qu.current.useCallback(t,e)};Pr.useContext=function(t){return qu.current.useContext(t)};Pr.useDebugValue=function(){};Pr.useDeferredValue=function(t){return qu.current.useDeferredValue(t)};Pr.useEffect=function(t,e){return qu.current.useEffect(t,e)};Pr.useId=function(){return qu.current.useId()};Pr.useImperativeHandle=function(t,e,n){return qu.current.useImperativeHandle(t,e,n)};Pr.useInsertionEffect=function(t,e){return qu.current.useInsertionEffect(t,e)};Pr.useLayoutEffect=function(t,e){return qu.current.useLayoutEffect(t,e)};Pr.useMemo=function(t,e){return qu.current.useMemo(t,e)};Pr.useReducer=function(t,e,n){return qu.current.useReducer(t,e,n)};Pr.useRef=function(t){return qu.current.useRef(t)};Pr.useState=function(t){return qu.current.useState(t)};Pr.useSyncExternalStore=function(t,e,n){return qu.current.useSyncExternalStore(t,e,n)};Pr.useTransition=function(){return qu.current.useTransition()};Pr.version="18.2.0";IPe.exports=Pr;var m=IPe.exports;const re=vt(m),eue=Aft({__proto__:null,default:re},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jft=m,eht=Symbol.for("react.element"),tht=Symbol.for("react.fragment"),nht=Object.prototype.hasOwnProperty,rht=Jft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iht={key:!0,ref:!0,__self:!0,__source:!0};function $Pe(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)nht.call(e,r)&&!iht.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:eht,type:t,key:s,ref:o,props:i,_owner:rht.current}}H8.Fragment=tht;H8.jsx=$Pe;H8.jsxs=$Pe;APe.exports=H8;var c=APe.exports;const sht=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oht=/_key\s*==\s*['"](.*)['"]/,FPe=[],BPe="$";function TC(t,e,n){const r=typeof e=="string"?rP(e):e;if(!Array.isArray(r))throw new Error("Path must be an array or a string");let i=t;for(let s=0;s<r.length;s++){const o=r[s];if(tm(o)){if(!Array.isArray(i))return n;i=i[o]}if(jo(o)){if(!Array.isArray(i))return n;i=i.find(a=>a._key===o._key)}if(typeof o=="string"&&(i=typeof i=="object"&&i!==null?i[o]:void 0),typeof i>"u")return n}return i}const gN=new Map;function ew(t){if(t.length===0)return FPe;const e=Uu(t);return gN.has(e)?gN.get(e):(gN.set(e,t),Object.freeze(t),t)}function Li(t,e){return t.length===e.length&&t.every((n,r)=>z8(n,e[r]))}function aht(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)if(!z8(t[r],e[r]))return r;return n}function z8(t,e){return jo(t)&&jo(e)?t._key===e._key:tm(t)?Number(t)===Number(e):Ix(t)&&Ix(e)?t[0]===e[0]&&t[1]===e[1]:t===e}function ou(t,e){return t.every((n,r)=>z8(n,e[r]))}function tk(t,e){if(t.length===0||e.length===0)return e;const[n,...r]=t,[i,...s]=e;return z8(n,i)?ew(tk(r,s)):e}function VX(t,e){return ou(t,e)?tk(t,e):FPe}function Uu(t){if(!Array.isArray(t))throw new Error("Path is not an array");return t.reduce((e,n,r)=>{const i=typeof n;if(i==="number")return"".concat(e,"[").concat(n,"]");if(i==="string"){const s=r===0?"":".";return"".concat(e).concat(s).concat(n)}if(jo(n)&&n._key)return"".concat(e,'[_key=="').concat(n._key,'"]');if(Array.isArray(n)){const[s,o]=n;return"".concat(e,"[").concat(s,":").concat(o,"]")}throw new Error("Unsupported path segment `".concat(JSON.stringify(n),"`"))},"")}function xW(t,e){if(e.length===0)return e;const[n,...r]=e;if(typeof n=="number"){if(!Array.isArray(t)||!(n in t))return[];const s=t[n];return[typeof(s==null?void 0:s._key)=="string"?{_key:s._key}:n,...xW(s,r)]}const i=TC(t,[n]);return[n,...xW(i,r)]}function lht(t,e){if(!Array.isArray(e))throw new Error("Path is not an array");return ew(xW(t,e))}function rP(t){if(typeof t!="string")throw new Error("Path is not a string");const e=t.match(sht);if(!e)throw new Error("Invalid path string");return e.map(uht)}function uht(t){return tm(t)?cht(t):jo(t)?dht(t):Ix(t)?fht(t):t}function cht(t){return Number(t.replace(/[^\d]/g,""))}function dht(t){return{_key:t.match(oht)[1]}}function fht(t){const[e,n]=t.split(":").map(r=>r===""?r:Number(r));return[e,n]}var hht=typeof Element<"u",pht=typeof Map=="function",mht=typeof Set=="function",ght=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Yj(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Yj(t[r],e[r]))return!1;return!0}var s;if(pht&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!Yj(r.value[1],e.get(r.value[0])))return!1;return!0}if(mht&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(ght&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(hht&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!Yj(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var vht=function(e,n){try{return Yj(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const UX=vt(vht);function yht(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Bf=yht;const V3=vt(Bf);var bht=typeof co=="object"&&co&&co.Object===Object&&co,NPe=bht,xht=NPe,wht=typeof self=="object"&&self&&self.Object===Object&&self,_ht=xht||wht||Function("return this")(),Kh=_ht,Cht=Kh,Eht=function(){return Cht.Date.now()},Sht=Eht,Tht=/\s/;function kht(t){for(var e=t.length;e--&&Tht.test(t.charAt(e)););return e}var Aht=kht,Iht=Aht,Dht=/^\s+/;function Rht(t){return t&&t.slice(0,Iht(t)+1).replace(Dht,"")}var VPe=Rht,jht=Kh,Oht=jht.Symbol,kC=Oht,tue=kC,UPe=Object.prototype,Lht=UPe.hasOwnProperty,Pht=UPe.toString,oS=tue?tue.toStringTag:void 0;function Mht(t){var e=Lht.call(t,oS),n=t[oS];try{t[oS]=void 0;var r=!0}catch{}var i=Pht.call(t);return r&&(e?t[oS]=n:delete t[oS]),i}var $ht=Mht,Fht=Object.prototype,Bht=Fht.toString;function Nht(t){return Bht.call(t)}var Vht=Nht,nue=kC,Uht=$ht,Hht=Vht,zht="[object Null]",Wht="[object Undefined]",rue=nue?nue.toStringTag:void 0;function Ght(t){return t==null?t===void 0?Wht:zht:rue&&rue in Object(t)?Uht(t):Hht(t)}var sy=Ght;function qht(t){return t!=null&&typeof t=="object"}var Nf=qht,Yht=sy,Kht=Nf,Zht="[object Symbol]";function Xht(t){return typeof t=="symbol"||Kht(t)&&Yht(t)==Zht}var tw=Xht,Qht=VPe,iue=Bf,Jht=tw,sue=0/0,ept=/^[-+]0x[0-9a-f]+$/i,tpt=/^0b[01]+$/i,npt=/^0o[0-7]+$/i,rpt=parseInt;function ipt(t){if(typeof t=="number")return t;if(Jht(t))return sue;if(iue(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=iue(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Qht(t);var n=tpt.test(t);return n||npt.test(t)?rpt(t.slice(2),n?2:8):ept.test(t)?sue:+t}var HPe=ipt,spt=Bf,vN=Sht,oue=HPe,opt="Expected a function",apt=Math.max,lpt=Math.min;function upt(t,e,n){var r,i,s,o,a,l,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(opt);e=oue(e)||0,spt(n)&&(d=!!n.leading,f="maxWait"in n,s=f?apt(oue(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function p(T){var A=r,k=i;return r=i=void 0,u=T,o=t.apply(k,A),o}function g(T){return u=T,a=setTimeout(x,e),d?p(T):o}function v(T){var A=T-l,k=T-u,I=e-A;return f?lpt(I,s-k):I}function y(T){var A=T-l,k=T-u;return l===void 0||A>=e||A<0||f&&k>=s}function x(){var T=vN();if(y(T))return b(T);a=setTimeout(x,v(T))}function b(T){return a=void 0,h&&r?p(T):(r=i=void 0,o)}function _(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function C(){return a===void 0?o:b(vN())}function S(){var T=vN(),A=y(T);if(r=arguments,i=this,l=T,A){if(a===void 0)return g(l);if(f)return clearTimeout(a),a=setTimeout(x,e),p(l)}return a===void 0&&(a=setTimeout(x,e)),o}return S.cancel=_,S.flush=C,S}var zPe=upt;const U3=vt(zPe);function HX(){var t=Object.create(null),e=0;function n(i){var s=e++;return t[s]=i,function(){delete t[s]}}function r(i){for(var s in t)t[s](i)}return{publish:r,subscribe:n}}var WPe={exports:{}},Bi={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zX=Symbol.for("react.element"),WX=Symbol.for("react.portal"),W8=Symbol.for("react.fragment"),G8=Symbol.for("react.strict_mode"),q8=Symbol.for("react.profiler"),Y8=Symbol.for("react.provider"),K8=Symbol.for("react.context"),cpt=Symbol.for("react.server_context"),Z8=Symbol.for("react.forward_ref"),X8=Symbol.for("react.suspense"),Q8=Symbol.for("react.suspense_list"),J8=Symbol.for("react.memo"),e7=Symbol.for("react.lazy"),dpt=Symbol.for("react.offscreen"),GPe;GPe=Symbol.for("react.module.reference");function Vf(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case zX:switch(t=t.type,t){case W8:case q8:case G8:case X8:case Q8:return t;default:switch(t=t&&t.$$typeof,t){case cpt:case K8:case Z8:case e7:case J8:case Y8:return t;default:return e}}case WX:return e}}}Bi.ContextConsumer=K8;Bi.ContextProvider=Y8;Bi.Element=zX;Bi.ForwardRef=Z8;Bi.Fragment=W8;Bi.Lazy=e7;Bi.Memo=J8;Bi.Portal=WX;Bi.Profiler=q8;Bi.StrictMode=G8;Bi.Suspense=X8;Bi.SuspenseList=Q8;Bi.isAsyncMode=function(){return!1};Bi.isConcurrentMode=function(){return!1};Bi.isContextConsumer=function(t){return Vf(t)===K8};Bi.isContextProvider=function(t){return Vf(t)===Y8};Bi.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===zX};Bi.isForwardRef=function(t){return Vf(t)===Z8};Bi.isFragment=function(t){return Vf(t)===W8};Bi.isLazy=function(t){return Vf(t)===e7};Bi.isMemo=function(t){return Vf(t)===J8};Bi.isPortal=function(t){return Vf(t)===WX};Bi.isProfiler=function(t){return Vf(t)===q8};Bi.isStrictMode=function(t){return Vf(t)===G8};Bi.isSuspense=function(t){return Vf(t)===X8};Bi.isSuspenseList=function(t){return Vf(t)===Q8};Bi.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===W8||t===q8||t===G8||t===X8||t===Q8||t===dpt||typeof t=="object"&&t!==null&&(t.$$typeof===e7||t.$$typeof===J8||t.$$typeof===Y8||t.$$typeof===K8||t.$$typeof===Z8||t.$$typeof===GPe||t.getModuleId!==void 0)};Bi.typeOf=Vf;WPe.exports=Bi;var ws=WPe.exports;const fpt=vt(ws);function hpt(t){function e(X,fe,ue,te,F){for(var ne=0,ce=0,me=0,pe=0,Ie,xe,Pe=0,we=0,De,de=De=Ie=0,be=0,ve=0,ze=0,He=0,Ne=ue.length,Fe=Ne-1,nt,Ye="",Ge="",Ct="",wt="",pt;be<Ne;){if(xe=ue.charCodeAt(be),be===Fe&&ce+pe+me+ne!==0&&(ce!==0&&(xe=ce===47?10:47),pe=me=ne=0,Ne++,Fe++),ce+pe+me+ne===0){if(be===Fe&&(0<ve&&(Ye=Ye.replace(h,"")),0<Ye.trim().length)){switch(xe){case 32:case 9:case 59:case 13:case 10:break;default:Ye+=ue.charAt(be)}xe=59}switch(xe){case 123:for(Ye=Ye.trim(),Ie=Ye.charCodeAt(0),De=1,He=++be;be<Ne;){switch(xe=ue.charCodeAt(be)){case 123:De++;break;case 125:De--;break;case 47:switch(xe=ue.charCodeAt(be+1)){case 42:case 47:e:{for(de=be+1;de<Fe;++de)switch(ue.charCodeAt(de)){case 47:if(xe===42&&ue.charCodeAt(de-1)===42&&be+2!==de){be=de+1;break e}break;case 10:if(xe===47){be=de+1;break e}}be=de}}break;case 91:xe++;case 40:xe++;case 34:case 39:for(;be++<Fe&&ue.charCodeAt(be)!==xe;);}if(De===0)break;be++}switch(De=ue.substring(He,be),Ie===0&&(Ie=(Ye=Ye.replace(f,"").trim()).charCodeAt(0)),Ie){case 64:switch(0<ve&&(Ye=Ye.replace(h,"")),xe=Ye.charCodeAt(1),xe){case 100:case 109:case 115:case 45:ve=fe;break;default:ve=B}if(De=e(fe,ve,De,xe,F+1),He=De.length,0<V&&(ve=n(B,Ye,ze),pt=a(3,De,ve,fe,L,O,He,xe,F,te),Ye=ve.join(""),pt!==void 0&&(He=(De=pt.trim()).length)===0&&(xe=0,De="")),0<He)switch(xe){case 115:Ye=Ye.replace(T,o);case 100:case 109:case 45:De=Ye+"{"+De+"}";break;case 107:Ye=Ye.replace(b,"$1 $2"),De=Ye+"{"+De+"}",De=$===1||$===2&&s("@"+De,3)?"@-webkit-"+De+"@"+De:"@"+De;break;default:De=Ye+De,te===112&&(De=(Ge+=De,""))}else De="";break;default:De=e(fe,n(fe,Ye,ze),De,te,F+1)}Ct+=De,De=ze=ve=de=Ie=0,Ye="",xe=ue.charCodeAt(++be);break;case 125:case 59:if(Ye=(0<ve?Ye.replace(h,""):Ye).trim(),1<(He=Ye.length))switch(de===0&&(Ie=Ye.charCodeAt(0),Ie===45||96<Ie&&123>Ie)&&(He=(Ye=Ye.replace(" ",":")).length),0<V&&(pt=a(1,Ye,fe,X,L,O,Ge.length,te,F,te))!==void 0&&(He=(Ye=pt.trim()).length)===0&&(Ye="\0\0"),Ie=Ye.charCodeAt(0),xe=Ye.charCodeAt(1),Ie){case 0:break;case 64:if(xe===105||xe===99){wt+=Ye+ue.charAt(be);break}default:Ye.charCodeAt(He-1)!==58&&(Ge+=i(Ye,Ie,xe,Ye.charCodeAt(2)))}ze=ve=de=Ie=0,Ye="",xe=ue.charCodeAt(++be)}}switch(xe){case 13:case 10:ce===47?ce=0:1+Ie===0&&te!==107&&0<Ye.length&&(ve=1,Ye+="\0"),0<V*ie&&a(0,Ye,fe,X,L,O,Ge.length,te,F,te),O=1,L++;break;case 59:case 125:if(ce+pe+me+ne===0){O++;break}default:switch(O++,nt=ue.charAt(be),xe){case 9:case 32:if(pe+ne+ce===0)switch(Pe){case 44:case 58:case 9:case 32:nt="";break;default:xe!==32&&(nt=" ")}break;case 0:nt="\\0";break;case 12:nt="\\f";break;case 11:nt="\\v";break;case 38:pe+ce+ne===0&&(ve=ze=1,nt="\f"+nt);break;case 108:if(pe+ce+ne+P===0&&0<de)switch(be-de){case 2:Pe===112&&ue.charCodeAt(be-3)===58&&(P=Pe);case 8:we===111&&(P=we)}break;case 58:pe+ce+ne===0&&(de=be);break;case 44:ce+me+pe+ne===0&&(ve=1,nt+="\r");break;case 34:case 39:ce===0&&(pe=pe===xe?0:pe===0?xe:pe);break;case 91:pe+ce+me===0&&ne++;break;case 93:pe+ce+me===0&&ne--;break;case 41:pe+ce+ne===0&&me--;break;case 40:if(pe+ce+ne===0){if(Ie===0)switch(2*Pe+3*we){case 533:break;default:Ie=1}me++}break;case 64:ce+me+pe+ne+de+De===0&&(De=1);break;case 42:case 47:if(!(0<pe+ne+me))switch(ce){case 0:switch(2*xe+3*ue.charCodeAt(be+1)){case 235:ce=47;break;case 220:He=be,ce=42}break;case 42:xe===47&&Pe===42&&He+2!==be&&(ue.charCodeAt(He+2)===33&&(Ge+=ue.substring(He,be+1)),nt="",ce=0)}}ce===0&&(Ye+=nt)}we=Pe,Pe=xe,be++}if(He=Ge.length,0<He){if(ve=fe,0<V&&(pt=a(2,Ge,ve,X,L,O,He,te,F,te),pt!==void 0&&(Ge=pt).length===0))return wt+Ge+Ct;if(Ge=ve.join(",")+"{"+Ge+"}",$*P!==0){switch($!==2||s(Ge,2)||(P=0),P){case 111:Ge=Ge.replace(C,":-moz-$1")+Ge;break;case 112:Ge=Ge.replace(_,"::-webkit-input-$1")+Ge.replace(_,"::-moz-$1")+Ge.replace(_,":-ms-input-$1")+Ge}P=0}}return wt+Ge+Ct}function n(X,fe,ue){var te=fe.trim().split(y);fe=te;var F=te.length,ne=X.length;switch(ne){case 0:case 1:var ce=0;for(X=ne===0?"":X[0]+" ";ce<F;++ce)fe[ce]=r(X,fe[ce],ue).trim();break;default:var me=ce=0;for(fe=[];ce<F;++ce)for(var pe=0;pe<ne;++pe)fe[me++]=r(X[pe]+" ",te[ce],ue).trim()}return fe}function r(X,fe,ue){var te=fe.charCodeAt(0);switch(33>te&&(te=(fe=fe.trim()).charCodeAt(0)),te){case 38:return fe.replace(x,"$1"+X.trim());case 58:return X.trim()+fe.replace(x,"$1"+X.trim());default:if(0<1*ue&&0<fe.indexOf("\f"))return fe.replace(x,(X.charCodeAt(0)===58?"":"$1")+X.trim())}return X+fe}function i(X,fe,ue,te){var F=X+";",ne=2*fe+3*ue+4*te;if(ne===944){X=F.indexOf(":",9)+1;var ce=F.substring(X,F.length-1).trim();return ce=F.substring(0,X).trim()+ce+";",$===1||$===2&&s(ce,1)?"-webkit-"+ce+ce:ce}if($===0||$===2&&!s(F,1))return F;switch(ne){case 1015:return F.charCodeAt(10)===97?"-webkit-"+F+F:F;case 951:return F.charCodeAt(3)===116?"-webkit-"+F+F:F;case 963:return F.charCodeAt(5)===110?"-webkit-"+F+F:F;case 1009:if(F.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+F+F;case 978:return"-webkit-"+F+"-moz-"+F+F;case 1019:case 983:return"-webkit-"+F+"-moz-"+F+"-ms-"+F+F;case 883:if(F.charCodeAt(8)===45)return"-webkit-"+F+F;if(0<F.indexOf("image-set(",11))return F.replace(R,"$1-webkit-$2")+F;break;case 932:if(F.charCodeAt(4)===45)switch(F.charCodeAt(5)){case 103:return"-webkit-box-"+F.replace("-grow","")+"-webkit-"+F+"-ms-"+F.replace("grow","positive")+F;case 115:return"-webkit-"+F+"-ms-"+F.replace("shrink","negative")+F;case 98:return"-webkit-"+F+"-ms-"+F.replace("basis","preferred-size")+F}return"-webkit-"+F+"-ms-"+F+F;case 964:return"-webkit-"+F+"-ms-flex-"+F+F;case 1023:if(F.charCodeAt(8)!==99)break;return ce=F.substring(F.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+ce+"-webkit-"+F+"-ms-flex-pack"+ce+F;case 1005:return g.test(F)?F.replace(p,":-webkit-")+F.replace(p,":-moz-")+F:F;case 1e3:switch(ce=F.substring(13).trim(),fe=ce.indexOf("-")+1,ce.charCodeAt(0)+ce.charCodeAt(fe)){case 226:ce=F.replace(S,"tb");break;case 232:ce=F.replace(S,"tb-rl");break;case 220:ce=F.replace(S,"lr");break;default:return F}return"-webkit-"+F+"-ms-"+ce+F;case 1017:if(F.indexOf("sticky",9)===-1)break;case 975:switch(fe=(F=X).length-10,ce=(F.charCodeAt(fe)===33?F.substring(0,fe):F).substring(X.indexOf(":",7)+1).trim(),ne=ce.charCodeAt(0)+(ce.charCodeAt(7)|0)){case 203:if(111>ce.charCodeAt(8))break;case 115:F=F.replace(ce,"-webkit-"+ce)+";"+F;break;case 207:case 102:F=F.replace(ce,"-webkit-"+(102<ne?"inline-":"")+"box")+";"+F.replace(ce,"-webkit-"+ce)+";"+F.replace(ce,"-ms-"+ce+"box")+";"+F}return F+";";case 938:if(F.charCodeAt(5)===45)switch(F.charCodeAt(6)){case 105:return ce=F.replace("-items",""),"-webkit-"+F+"-webkit-box-"+ce+"-ms-flex-"+ce+F;case 115:return"-webkit-"+F+"-ms-flex-item-"+F.replace(k,"")+F;default:return"-webkit-"+F+"-ms-flex-line-pack"+F.replace("align-content","").replace(k,"")+F}break;case 973:case 989:if(F.charCodeAt(3)!==45||F.charCodeAt(4)===122)break;case 931:case 953:if(D.test(X)===!0)return(ce=X.substring(X.indexOf(":")+1)).charCodeAt(0)===115?i(X.replace("stretch","fill-available"),fe,ue,te).replace(":fill-available",":stretch"):F.replace(ce,"-webkit-"+ce)+F.replace(ce,"-moz-"+ce.replace("fill-",""))+F;break;case 962:if(F="-webkit-"+F+(F.charCodeAt(5)===102?"-ms-"+F:"")+F,ue+te===211&&F.charCodeAt(13)===105&&0<F.indexOf("transform",10))return F.substring(0,F.indexOf(";",27)+1).replace(v,"$1-webkit-$2")+F}return F}function s(X,fe){var ue=X.indexOf(fe===1?":":"{"),te=X.substring(0,fe!==3?ue:10);return ue=X.substring(ue+1,X.length-1),Z(fe!==2?te:te.replace(I,"$1"),ue,fe)}function o(X,fe){var ue=i(fe,fe.charCodeAt(0),fe.charCodeAt(1),fe.charCodeAt(2));return ue!==fe+";"?ue.replace(A," or ($1)").substring(4):"("+fe+")"}function a(X,fe,ue,te,F,ne,ce,me,pe,Ie){for(var xe=0,Pe=fe,we;xe<V;++xe)switch(we=Q[xe].call(d,X,Pe,ue,te,F,ne,ce,me,pe,Ie)){case void 0:case!1:case!0:case null:break;default:Pe=we}if(Pe!==fe)return Pe}function l(X){switch(X){case void 0:case null:V=Q.length=0;break;default:if(typeof X=="function")Q[V++]=X;else if(typeof X=="object")for(var fe=0,ue=X.length;fe<ue;++fe)l(X[fe]);else ie=!!X|0}return l}function u(X){return X=X.prefix,X!==void 0&&(Z=null,X?typeof X!="function"?$=1:($=2,Z=X):$=0),u}function d(X,fe){var ue=X;if(33>ue.charCodeAt(0)&&(ue=ue.trim()),J=ue,ue=[J],0<V){var te=a(-1,fe,ue,ue,L,O,0,0,0,0);te!==void 0&&typeof te=="string"&&(fe=te)}var F=e(B,ue,fe,0,0);return 0<V&&(te=a(-2,F,ue,ue,L,O,F.length,0,0,0),te!==void 0&&(F=te)),J="",P=0,O=L=1,F}var f=/^\0+/g,h=/[\0\r\f]/g,p=/: */g,g=/zoo|gra/,v=/([,: ])(transform)/g,y=/,\r+?/g,x=/([\t\r\n ])*\f?&/g,b=/@(k\w+)\s*(\S*)\s*/,_=/::(place)/g,C=/:(read-only)/g,S=/[svh]\w+-[tblr]{2}/,T=/\(\s*(.*)\s*\)/g,A=/([\s\S]*?);/g,k=/-self|flex-/g,I=/[^]*?(:[rp][el]a[\w-]+)[^]*/,D=/stretch|:\s*\w+\-(?:conte|avail)/,R=/([^-])(image-set\()/,O=1,L=1,P=0,$=1,B=[],Q=[],V=0,Z=null,ie=0,J="";return d.use=l,d.set=u,t!==void 0&&u(t),d}var ppt={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function mpt(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var gpt=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,aue=mpt(function(t){return gpt.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),qPe={exports:{}},Ni={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var al=typeof Symbol=="function"&&Symbol.for,GX=al?Symbol.for("react.element"):60103,qX=al?Symbol.for("react.portal"):60106,t7=al?Symbol.for("react.fragment"):60107,n7=al?Symbol.for("react.strict_mode"):60108,r7=al?Symbol.for("react.profiler"):60114,i7=al?Symbol.for("react.provider"):60109,s7=al?Symbol.for("react.context"):60110,YX=al?Symbol.for("react.async_mode"):60111,o7=al?Symbol.for("react.concurrent_mode"):60111,a7=al?Symbol.for("react.forward_ref"):60112,l7=al?Symbol.for("react.suspense"):60113,vpt=al?Symbol.for("react.suspense_list"):60120,u7=al?Symbol.for("react.memo"):60115,c7=al?Symbol.for("react.lazy"):60116,ypt=al?Symbol.for("react.block"):60121,bpt=al?Symbol.for("react.fundamental"):60117,xpt=al?Symbol.for("react.responder"):60118,wpt=al?Symbol.for("react.scope"):60119;function Dd(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case GX:switch(t=t.type,t){case YX:case o7:case t7:case r7:case n7:case l7:return t;default:switch(t=t&&t.$$typeof,t){case s7:case a7:case c7:case u7:case i7:return t;default:return e}}case qX:return e}}}function YPe(t){return Dd(t)===o7}Ni.AsyncMode=YX;Ni.ConcurrentMode=o7;Ni.ContextConsumer=s7;Ni.ContextProvider=i7;Ni.Element=GX;Ni.ForwardRef=a7;Ni.Fragment=t7;Ni.Lazy=c7;Ni.Memo=u7;Ni.Portal=qX;Ni.Profiler=r7;Ni.StrictMode=n7;Ni.Suspense=l7;Ni.isAsyncMode=function(t){return YPe(t)||Dd(t)===YX};Ni.isConcurrentMode=YPe;Ni.isContextConsumer=function(t){return Dd(t)===s7};Ni.isContextProvider=function(t){return Dd(t)===i7};Ni.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===GX};Ni.isForwardRef=function(t){return Dd(t)===a7};Ni.isFragment=function(t){return Dd(t)===t7};Ni.isLazy=function(t){return Dd(t)===c7};Ni.isMemo=function(t){return Dd(t)===u7};Ni.isPortal=function(t){return Dd(t)===qX};Ni.isProfiler=function(t){return Dd(t)===r7};Ni.isStrictMode=function(t){return Dd(t)===n7};Ni.isSuspense=function(t){return Dd(t)===l7};Ni.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===t7||t===o7||t===r7||t===n7||t===l7||t===vpt||typeof t=="object"&&t!==null&&(t.$$typeof===c7||t.$$typeof===u7||t.$$typeof===i7||t.$$typeof===s7||t.$$typeof===a7||t.$$typeof===bpt||t.$$typeof===xpt||t.$$typeof===wpt||t.$$typeof===ypt)};Ni.typeOf=Dd;qPe.exports=Ni;var _pt=qPe.exports,KX=_pt,Cpt={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Ept={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Spt={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},KPe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ZX={};ZX[KX.ForwardRef]=Spt;ZX[KX.Memo]=KPe;function lue(t){return KX.isMemo(t)?KPe:ZX[t.$$typeof]||Cpt}var Tpt=Object.defineProperty,kpt=Object.getOwnPropertyNames,uue=Object.getOwnPropertySymbols,Apt=Object.getOwnPropertyDescriptor,Ipt=Object.getPrototypeOf,cue=Object.prototype;function ZPe(t,e,n){if(typeof e!="string"){if(cue){var r=Ipt(e);r&&r!==cue&&ZPe(t,r,n)}var i=kpt(e);uue&&(i=i.concat(uue(e)));for(var s=lue(t),o=lue(e),a=0;a<i.length;++a){var l=i[a];if(!Ept[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var u=Apt(e,l);try{Tpt(t,l,u)}catch{}}}}return t}var Dpt=ZPe;const Rpt=vt(Dpt);function Ch(){return(Ch=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var due=function(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n},wW=function(t){return t!==null&&typeof t=="object"&&(t.toString?t.toString():Object.prototype.toString.call(t))==="[object Object]"&&!ws.typeOf(t)},iP=Object.freeze([]),uv=Object.freeze({});function O_(t){return typeof t=="function"}function fue(t){return t.displayName||t.name||"Component"}function XX(t){return t&&typeof t.styledComponentId=="string"}var L_=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",QX=typeof window<"u"&&"HTMLElement"in window,jpt=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY)),Opt={};function Rx(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+t+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var Lpt=function(){function t(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var e=t.prototype;return e.indexOfGroup=function(n){for(var r=0,i=0;i<n;i++)r+=this.groupSizes[i];return r},e.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,o=s;n>=o;)(o<<=1)<0&&Rx(16,""+n);this.groupSizes=new Uint32Array(o),this.groupSizes.set(i),this.length=o;for(var a=s;a<o;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(n+1),u=0,d=r.length;u<d;u++)this.tag.insertRule(l,r[u])&&(this.groupSizes[n]++,l++)},e.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],i=this.indexOfGroup(n),s=i+r;this.groupSizes[n]=0;for(var o=i;o<s;o++)this.tag.deleteRule(i)}},e.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var i=this.groupSizes[n],s=this.indexOfGroup(n),o=s+i,a=s;a<o;a++)r+=this.tag.getRule(a)+`/*!sc*/
`;return r},t}(),Kj=new Map,sP=new Map,nk=1,wR=function(t){if(Kj.has(t))return Kj.get(t);for(;sP.has(nk);)nk++;var e=nk++;return Kj.set(t,e),sP.set(e,t),e},Ppt=function(t){return sP.get(t)},Mpt=function(t,e){e>=nk&&(nk=e+1),Kj.set(t,e),sP.set(e,t)},$pt="style["+L_+'][data-styled-version="5.3.11"]',Fpt=new RegExp("^"+L_+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Bpt=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},Npt=function(t,e){for(var n=(e.textContent||"").split(`/*!sc*/
`),r=[],i=0,s=n.length;i<s;i++){var o=n[i].trim();if(o){var a=o.match(Fpt);if(a){var l=0|parseInt(a[1],10),u=a[2];l!==0&&(Mpt(u,l),Bpt(t,u,a[3]),t.getTag().insertRules(l,r)),r.length=0}else r.push(o)}}},Vpt=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},XPe=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){for(var l=a.childNodes,u=l.length;u>=0;u--){var d=l[u];if(d&&d.nodeType===1&&d.hasAttribute(L_))return d}}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(L_,"active"),r.setAttribute("data-styled-version","5.3.11");var o=Vpt();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},Upt=function(){function t(n){var r=this.element=XPe(n);r.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var s=document.styleSheets,o=0,a=s.length;o<a;o++){var l=s[o];if(l.ownerNode===i)return l}Rx(17)}(r),this.length=0}var e=t.prototype;return e.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch{return!1}},e.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},e.getRule=function(n){var r=this.sheet.cssRules[n];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},t}(),Hpt=function(){function t(n){var r=this.element=XPe(n);this.nodes=r.childNodes,this.length=0}var e=t.prototype;return e.insertRule=function(n,r){if(n<=this.length&&n>=0){var i=document.createTextNode(r),s=this.nodes[n];return this.element.insertBefore(i,s||null),this.length++,!0}return!1},e.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},e.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},t}(),zpt=function(){function t(n){this.rules=[],this.length=0}var e=t.prototype;return e.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},e.deleteRule=function(n){this.rules.splice(n,1),this.length--},e.getRule=function(n){return n<this.length?this.rules[n]:""},t}(),hue=QX,Wpt={isServer:!QX,useCSSOMInjection:!jpt},oP=function(){function t(n,r,i){n===void 0&&(n=uv),r===void 0&&(r={}),this.options=Ch({},Wpt,{},n),this.gs=r,this.names=new Map(i),this.server=!!n.isServer,!this.server&&QX&&hue&&(hue=!1,function(s){for(var o=document.querySelectorAll($pt),a=0,l=o.length;a<l;a++){var u=o[a];u&&u.getAttribute(L_)!=="active"&&(Npt(s,u),u.parentNode&&u.parentNode.removeChild(u))}}(this))}t.registerId=function(n){return wR(n)};var e=t.prototype;return e.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new t(Ch({},this.options,{},n),this.gs,r&&this.names||void 0)},e.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},e.getTag=function(){return this.tag||(this.tag=(i=(r=this.options).isServer,s=r.useCSSOMInjection,o=r.target,n=i?new zpt(o):s?new Upt(o):new Hpt(o),new Lpt(n)));var n,r,i,s,o},e.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},e.registerName=function(n,r){if(wR(n),this.names.has(n))this.names.get(n).add(r);else{var i=new Set;i.add(r),this.names.set(n,i)}},e.insertRules=function(n,r,i){this.registerName(n,r),this.getTag().insertRules(wR(n),i)},e.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},e.clearRules=function(n){this.getTag().clearGroup(wR(n)),this.clearNames(n)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(n){for(var r=n.getTag(),i=r.length,s="",o=0;o<i;o++){var a=Ppt(o);if(a!==void 0){var l=n.names.get(a),u=r.getGroup(o);if(l&&u&&l.size){var d=L_+".g"+o+'[id="'+a+'"]',f="";l!==void 0&&l.forEach(function(h){h.length>0&&(f+=h+",")}),s+=""+u+d+'{content:"'+f+`"}/*!sc*/
`}}}return s}(this)},t}(),Gpt=/(a)(d)/gi,pue=function(t){return String.fromCharCode(t+(t>25?39:97))};function _W(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=pue(e%52)+n;return(pue(e%52)+n).replace(Gpt,"$1-$2")}var c5=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},QPe=function(t){return c5(5381,t)};function JPe(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(O_(n)&&!XX(n))return!1}return!0}var qpt=QPe("5.3.11"),Ypt=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&JPe(e),this.componentId=n,this.baseHash=c5(qpt,n),this.baseStyle=r,oP.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(e,n,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(i,this.staticRulesId))s.push(this.staticRulesId);else{var o=jx(this.rules,e,n,r).join(""),a=_W(c5(this.baseHash,o)>>>0);if(!n.hasNameForId(i,a)){var l=r(o,"."+a,void 0,i);n.insertRules(i,a,l)}s.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,d=c5(this.baseHash,r.hash),f="",h=0;h<u;h++){var p=this.rules[h];if(typeof p=="string")f+=p;else if(p){var g=jx(p,e,n,r),v=Array.isArray(g)?g.join(""):g;d=c5(d,v+h),f+=v}}if(f){var y=_W(d>>>0);if(!n.hasNameForId(i,y)){var x=r(f,"."+y,void 0,i);n.insertRules(i,y,x)}s.push(y)}}return s.join(" ")},t}(),Kpt=/^\s*\/\/.*$/gm,Zpt=[":","[",".","#"];function Xpt(t){var e,n,r,i,s=t===void 0?uv:t,o=s.options,a=o===void 0?uv:o,l=s.plugins,u=l===void 0?iP:l,d=new hpt(a),f=[],h=function(v){function y(x){if(x)try{v(x+"}")}catch{}}return function(x,b,_,C,S,T,A,k,I,D){switch(x){case 1:if(I===0&&b.charCodeAt(0)===64)return v(b+";"),"";break;case 2:if(k===0)return b+"/*|*/";break;case 3:switch(k){case 102:case 112:return v(_[0]+b),"";default:return b+(D===0?"/*|*/":"")}case-2:b.split("/*|*/}").forEach(y)}}}(function(v){f.push(v)}),p=function(v,y,x){return y===0&&Zpt.indexOf(x[n.length])!==-1||x.match(i)?v:"."+e};function g(v,y,x,b){b===void 0&&(b="&");var _=v.replace(Kpt,""),C=y&&x?x+" "+y+" { "+_+" }":_;return e=b,n=y,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),d(x||!y?"":y,C)}return d.use([].concat(u,[function(v,y,x){v===2&&x.length&&x[0].lastIndexOf(n)>0&&(x[0]=x[0].replace(r,p))},h,function(v){if(v===-2){var y=f;return f=[],y}}])),g.hash=u.length?u.reduce(function(v,y){return y.name||Rx(15),c5(v,y.name)},5381).toString():"",g}var eMe=re.createContext();eMe.Consumer;var tMe=re.createContext(),Qpt=(tMe.Consumer,new oP),CW=Xpt();function nMe(){return m.useContext(eMe)||Qpt}function rMe(){return m.useContext(tMe)||CW}var iMe=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=CW);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.toString=function(){return Rx(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=n}return t.prototype.getName=function(e){return e===void 0&&(e=CW),this.name+e.hash},t}(),Jpt=/([A-Z])/,emt=/([A-Z])/g,tmt=/^ms-/,nmt=function(t){return"-"+t.toLowerCase()};function mue(t){return Jpt.test(t)?t.replace(emt,nmt).replace(tmt,"-ms-"):t}var gue=function(t){return t==null||t===!1||t===""};function jx(t,e,n,r){if(Array.isArray(t)){for(var i,s=[],o=0,a=t.length;o<a;o+=1)(i=jx(t[o],e,n,r))!==""&&(Array.isArray(i)?s.push.apply(s,i):s.push(i));return s}if(gue(t))return"";if(XX(t))return"."+t.styledComponentId;if(O_(t)){if(typeof(u=t)!="function"||u.prototype&&u.prototype.isReactComponent||!e)return t;var l=t(e);return jx(l,e,n,r)}var u;return t instanceof iMe?n?(t.inject(n,r),t.getName(r)):t:wW(t)?function d(f,h){var p,g,v=[];for(var y in f)f.hasOwnProperty(y)&&!gue(f[y])&&(Array.isArray(f[y])&&f[y].isCss||O_(f[y])?v.push(mue(y)+":",f[y],";"):wW(f[y])?v.push.apply(v,d(f[y],y)):v.push(mue(y)+": "+(p=y,(g=f[y])==null||typeof g=="boolean"||g===""?"":typeof g!="number"||g===0||p in ppt||p.startsWith("--")?String(g).trim():g+"px")+";"));return h?[h+" {"].concat(v,["}"]):v}(t):t.toString()}var vue=function(t){return Array.isArray(t)&&(t.isCss=!0),t};function qe(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return O_(t)||wW(t)?vue(jx(due(iP,[t].concat(n)))):n.length===0&&t.length===1&&typeof t[0]=="string"?t:vue(jx(due(t,n)))}var sMe=function(t,e,n){return n===void 0&&(n=uv),t.theme!==n.theme&&t.theme||e||n.theme},rmt=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,imt=/(^-|-$)/g;function yN(t){return t.replace(rmt,"-").replace(imt,"")}var JX=function(t){return _W(QPe(t)>>>0)};function _R(t){return typeof t=="string"&&!0}var EW=function(t){return typeof t=="function"||typeof t=="object"&&t!==null&&!Array.isArray(t)},smt=function(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"};function omt(t,e,n){var r=t[n];EW(e)&&EW(r)?oMe(r,e):t[n]=e}function oMe(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,s=n;i<s.length;i++){var o=s[i];if(EW(o))for(var a in o)smt(a)&&omt(t,o[a],a)}return t}var P_=re.createContext();P_.Consumer;function amt(t){var e=m.useContext(P_),n=m.useMemo(function(){return function(r,i){if(!r)return Rx(14);if(O_(r)){var s=r(i);return s}return Array.isArray(r)||typeof r!="object"?Rx(8):i?Ch({},i,{},r):r}(t.theme,e)},[t.theme,e]);return t.children?re.createElement(P_.Provider,{value:n},t.children):null}var bN={};function aMe(t,e,n){var r=XX(t),i=!_R(t),s=e.attrs,o=s===void 0?iP:s,a=e.componentId,l=a===void 0?function(b,_){var C=typeof b!="string"?"sc":yN(b);bN[C]=(bN[C]||0)+1;var S=C+"-"+JX("5.3.11"+C+bN[C]);return _?_+"-"+S:S}(e.displayName,e.parentComponentId):a,u=e.displayName,d=u===void 0?function(b){return _R(b)?"styled."+b:"Styled("+fue(b)+")"}(t):u,f=e.displayName&&e.componentId?yN(e.displayName)+"-"+e.componentId:e.componentId||l,h=r&&t.attrs?Array.prototype.concat(t.attrs,o).filter(Boolean):o,p=e.shouldForwardProp;r&&t.shouldForwardProp&&(p=e.shouldForwardProp?function(b,_,C){return t.shouldForwardProp(b,_,C)&&e.shouldForwardProp(b,_,C)}:t.shouldForwardProp);var g,v=new Ypt(n,f,r?t.componentStyle:void 0),y=v.isStatic&&o.length===0,x=function(b,_){return function(C,S,T,A){var k=C.attrs,I=C.componentStyle,D=C.defaultProps,R=C.foldedComponentIds,O=C.shouldForwardProp,L=C.styledComponentId,P=C.target,$=function(te,F,ne){te===void 0&&(te=uv);var ce=Ch({},F,{theme:te}),me={};return ne.forEach(function(pe){var Ie,xe,Pe,we=pe;for(Ie in O_(we)&&(we=we(ce)),we)ce[Ie]=me[Ie]=Ie==="className"?(xe=me[Ie],Pe=we[Ie],xe&&Pe?xe+" "+Pe:xe||Pe):we[Ie]}),[ce,me]}(sMe(S,m.useContext(P_),D)||uv,S,k),B=$[0],Q=$[1],V=function(te,F,ne,ce){var me=nMe(),pe=rMe(),Ie=F?te.generateAndInjectStyles(uv,me,pe):te.generateAndInjectStyles(ne,me,pe);return Ie}(I,A,B),Z=T,ie=Q.$as||S.$as||Q.as||S.as||P,J=_R(ie),X=Q!==S?Ch({},S,{},Q):S,fe={};for(var ue in X)ue[0]!=="$"&&ue!=="as"&&(ue==="forwardedAs"?fe.as=X[ue]:(O?O(ue,aue,ie):!J||aue(ue))&&(fe[ue]=X[ue]));return S.style&&Q.style!==S.style&&(fe.style=Ch({},S.style,{},Q.style)),fe.className=Array.prototype.concat(R,L,V!==L?V:null,S.className,Q.className).filter(Boolean).join(" "),fe.ref=Z,m.createElement(ie,fe)}(g,b,_,y)};return x.displayName=d,(g=re.forwardRef(x)).attrs=h,g.componentStyle=v,g.displayName=d,g.shouldForwardProp=p,g.foldedComponentIds=r?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):iP,g.styledComponentId=f,g.target=r?t.target:t,g.withComponent=function(b){var _=e.componentId,C=function(T,A){if(T==null)return{};var k,I,D={},R=Object.keys(T);for(I=0;I<R.length;I++)k=R[I],A.indexOf(k)>=0||(D[k]=T[k]);return D}(e,["componentId"]),S=_&&_+"-"+(_R(b)?b:yN(fue(b)));return aMe(b,Ch({},C,{attrs:h,componentId:S}),n)},Object.defineProperty(g,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(b){this._foldedDefaultProps=r?oMe({},t.defaultProps,b):b}}),Object.defineProperty(g,"toString",{value:function(){return"."+g.styledComponentId}}),i&&Rpt(g,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),g}var SW=function(t){return function e(n,r,i){if(i===void 0&&(i=uv),!ws.isValidElementType(r))return Rx(1,String(r));var s=function(){return n(r,i,qe.apply(void 0,arguments))};return s.withConfig=function(o){return e(n,r,Ch({},i,{},o))},s.attrs=function(o){return e(n,r,Ch({},i,{attrs:Array.prototype.concat(i.attrs,o).filter(Boolean)}))},s}(aMe,t)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(t){SW[t]=SW(t)});var lmt=function(){function t(n,r){this.rules=n,this.componentId=r,this.isStatic=JPe(n),oP.registerId(this.componentId+1)}var e=t.prototype;return e.createStyles=function(n,r,i,s){var o=s(jx(this.rules,r,i,s).join(""),""),a=this.componentId+n;i.insertRules(a,a,o)},e.removeStyles=function(n,r){r.clearRules(this.componentId+n)},e.renderStyles=function(n,r,i,s){n>2&&oP.registerId(this.componentId+n),this.removeStyles(n,i),this.createStyles(n,r,i,s)},t}();function lMe(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=qe.apply(void 0,[t].concat(n)),s="sc-global-"+JX(JSON.stringify(i)),o=new lmt(i,s);function a(u){var d=nMe(),f=rMe(),h=m.useContext(P_),p=m.useRef(d.allocateGSInstance(s)).current;return d.server&&l(p,u,d,h,f),m.useLayoutEffect(function(){if(!d.server)return l(p,u,d,h,f),function(){return o.removeStyles(p,d)}},[p,u,d,h,f]),null}function l(u,d,f,h,p){if(o.isStatic)o.renderStyles(u,Opt,f,p);else{var g=Ch({},d,{theme:sMe(d,h,a.defaultProps)});o.renderStyles(u,g,f,p)}}return re.memo(a)}function d7(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=qe.apply(void 0,[t].concat(n)).join(""),s=JX(i);return new iMe(s,i)}var uMe=function(){return m.useContext(P_)};const H=SW,umt="#101112",cmt="#fff",Zj={50:{title:"Gray 50",hex:"#f2f3f5"},100:{title:"Gray 100",hex:"#e6e8ec"},200:{title:"Gray 200",hex:"#ced2d9"},300:{title:"Gray 300",hex:"#b6bcc6"},400:{title:"Gray 400",hex:"#9ea6b3"},500:{title:"Gray 500",hex:"#8690a0"},600:{title:"Gray 600",hex:"#6e7683"},700:{title:"Gray 700",hex:"#565d67"},800:{title:"Gray 800",hex:"#3f434a"},900:{title:"Gray 900",hex:"#272a2e"},950:{title:"Gray 950",hex:"#1b1d20"}},vT={50:{title:"Blue 50",hex:"#e8f1fe"},100:{title:"Blue 100",hex:"#d2e3fe"},200:{title:"Blue 200",hex:"#a6c8fd"},300:{title:"Blue 300",hex:"#7aacfd"},400:{title:"Blue 400",hex:"#4e91fc"},500:{title:"Blue 500",hex:"#2276fc"},600:{title:"Blue 600",hex:"#1e61cd"},700:{title:"Blue 700",hex:"#1a4d9e"},800:{title:"Blue 800",hex:"#17396f"},900:{title:"Blue 900",hex:"#132540"},950:{title:"Blue 950",hex:"#111b29"}},dmt={50:{title:"Purple 50",hex:"#f8e9fe"},100:{title:"Purple 100",hex:"#f2d3fe"},200:{title:"Purple 200",hex:"#e6a7fd"},300:{title:"Purple 300",hex:"#d97bfd"},400:{title:"Purple 400",hex:"#cd4efc"},500:{title:"Purple 500",hex:"#c123fc"},600:{title:"Purple 600",hex:"#9d1fcd"},700:{title:"Purple 700",hex:"#7a1b9e"},800:{title:"Purple 800",hex:"#56186f"},900:{title:"Purple 900",hex:"#331440"},950:{title:"Purple 950",hex:"#211229"}},fmt={50:{title:"Magenta 50",hex:"#fcebf5"},100:{title:"Magenta 100",hex:"#f9d7eb"},200:{title:"Magenta 200",hex:"#f4afd8"},300:{title:"Magenta 300",hex:"#ef87c4"},400:{title:"Magenta 400",hex:"#ea5fb1"},500:{title:"Magenta 500",hex:"#e5389e"},600:{title:"Magenta 600",hex:"#ba3082"},700:{title:"Magenta 700",hex:"#8f2866"},800:{title:"Magenta 800",hex:"#65204a"},900:{title:"Magenta 900",hex:"#3a182d"},950:{title:"Magenta 950",hex:"#25141f"}},TW={50:{title:"Red 50",hex:"#fdebea"},100:{title:"Red 100",hex:"#fcd8d5"},200:{title:"Red 200",hex:"#f9b1ab"},300:{title:"Red 300",hex:"#f68b82"},400:{title:"Red 400",hex:"#f36458"},500:{title:"Red 500",hex:"#f03e2f"},600:{title:"Red 600",hex:"#c33529"},700:{title:"Red 700",hex:"#962c23"},800:{title:"Red 800",hex:"#69231d"},900:{title:"Red 900",hex:"#3c1a17"},950:{title:"Red 950",hex:"#261514"}},hmt={50:{title:"Orange 50",hex:"#fef0e6"},100:{title:"Orange 100",hex:"#fee2ce"},200:{title:"Orange 200",hex:"#fdc59d"},300:{title:"Orange 300",hex:"#fca86d"},400:{title:"Orange 400",hex:"#fb8b3c"},500:{title:"Orange 500",hex:"#e57322"},600:{title:"Orange 600",hex:"#ba5f1f"},700:{title:"Orange 700",hex:"#904b1b"},800:{title:"Orange 800",hex:"#653818"},900:{title:"Orange 900",hex:"#3a2415"},950:{title:"Orange 950",hex:"#251a13"}},kW={50:{title:"Yellow 50",hex:"#fef7da"},100:{title:"Yellow 100",hex:"#fdefb6"},200:{title:"Yellow 200",hex:"#fcdf6d"},300:{title:"Yellow 300",hex:"#fbd024"},400:{title:"Yellow 400",hex:"#d9b421"},500:{title:"Yellow 500",hex:"#b7991e"},600:{title:"Yellow 600",hex:"#967e1c"},700:{title:"Yellow 700",hex:"#746219"},800:{title:"Yellow 800",hex:"#534717"},900:{title:"Yellow 900",hex:"#312c14"},950:{title:"Yellow 950",hex:"#201e13"}},AW={50:{title:"Green 50",hex:"#e7f9ed"},100:{title:"Green 100",hex:"#d0f4dc"},200:{title:"Green 200",hex:"#a1eaba"},300:{title:"Green 300",hex:"#72e097"},400:{title:"Green 400",hex:"#43d675"},500:{title:"Green 500",hex:"#3ab564"},600:{title:"Green 600",hex:"#329454"},700:{title:"Green 700",hex:"#297343"},800:{title:"Green 800",hex:"#215233"},900:{title:"Green 900",hex:"#183122"},950:{title:"Green 950",hex:"#14211a"}},pmt={50:{title:"Cyan 50",hex:"#e3fafd"},100:{title:"Cyan 100",hex:"#c7f5fc"},200:{title:"Cyan 200",hex:"#90ecf9"},300:{title:"Cyan 300",hex:"#59e3f6"},400:{title:"Cyan 400",hex:"#22daf4"},500:{title:"Cyan 500",hex:"#1fb8ce"},600:{title:"Cyan 600",hex:"#1c97a8"},700:{title:"Cyan 700",hex:"#197583"},800:{title:"Cyan 800",hex:"#16545d"},900:{title:"Cyan 900",hex:"#133237"},950:{title:"Cyan 950",hex:"#112124"}},Ke={gray:Zj,blue:vT,purple:dmt,magenta:fmt,red:TW,orange:hmt,yellow:kW,green:AW,cyan:pmt},cMe=["gray","blue","purple","magenta","red","orange","yellow","green","cyan"],Rp={title:"Black",hex:umt},cf={title:"White",hex:cmt},Dv=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"access-denied",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M18.1568 6.84315C21.281 9.96734 21.281 15.0327 18.1568 18.1569C15.0326 21.281 9.96733 21.281 6.84313 18.1569C3.71894 15.0327 3.71894 9.96734 6.84313 6.84315C9.96733 3.71895 15.0326 3.71895 18.1568 6.84315ZM18.1568 6.84315L6.844 18.156",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),mmt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"activity",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M21 15H19L15.5 7L11 18L8 12L6 15H4",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),IW=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"add-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M8 12.4H17M12.5 8V17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Qa=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"add",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M12.5 5V20M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),gmt=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"api",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M5.93047 13.2107L6.66782 10.3728H6.73089L7.45854 13.2107H5.93047ZM8.17164 16H9.66089L7.56041 9H5.93047L3.82999 16H5.20767L5.65396 14.2876H7.73505L8.17164 16Z",fill:"currentColor"}),c.jsx("path",{d:"M10.5389 9V16H11.9166V13.7782H13.0323C14.541 13.7782 15.5015 12.8517 15.5015 11.3964C15.5015 9.92654 14.5701 9 13.1003 9H10.5389ZM11.9166 10.1303H12.751C13.6533 10.1303 14.1044 10.5475 14.1044 11.3867C14.1044 12.2308 13.6533 12.6431 12.751 12.6431H11.9166V10.1303Z",fill:"currentColor"}),c.jsx("path",{d:"M21.1675 16V14.8164H19.717V10.1836H21.1675V9H16.8889V10.1836H18.3393V14.8164H16.8889V16H21.1675Z",fill:"currentColor"})]})}),vmt=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"archive",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M12.5 10.5V17M20.5 7.5V20.5H4.5V7.5L7.5 4.5H17.5L20.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M4.5 7.5H20.5M16 14L12.5 17.5L9 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),dMe=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"arrow-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M12.5 19.5V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M18 14L12.5 19.5L7 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),eQ=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"arrow-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M5.5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11 18L5.5 12.5L11 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),fMe=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M19.5 12.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M14 7L19.5 12.5L14 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),ymt=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"arrow-top-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M16.5 8.5L7 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M9 8.5H16.5V16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),bmt=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"arrow-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M7 11L12.5 5.5L18 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M12.5 5.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),xmt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"bar-chart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M5.5 5V19.5H20M8.5 18V13M11.5 18V9M14.5 18V11M17.5 18V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),wmt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"basket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M8.5 10.5H5L6.5 19.5H18.5L20 10.5H16.5M8.5 10.5L10.2721 5.18377C10.4082 4.77543 10.7903 4.5 11.2208 4.5H13.7792C14.2097 4.5 14.5918 4.77543 14.7279 5.18377L16.5 10.5M8.5 10.5H16.5M8.5 10.5L9.5 19.5M16.5 10.5L15.5 19.5M12.5 10.5V19.5M19.5 13.5H5.5M19 16.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_mt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"bell",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M10.5 17.5V18.5C10.5 20 11.5 20.5 12.5 20.5C13.5 20.5 14.5 20 14.5 18.5V17.5M5.5 17.5C6.5 16 6.5 15 6.5 12C6.5 8 8.5 5.5 12.5 5.5C16.5 5.5 18.5 8 18.5 12C18.5 15 18.5 16 19.5 17.5H5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Cmt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"bill",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M6.50001 5.5C8.50003 5.5 8.50003 8 8.50003 8V9.5M6.50001 5.5C4.5 5.5 4.5 8 4.5 8L4.50001 9.5H8.50003M6.50001 5.5C6.50001 5.5 15.8333 5.5 17.6667 5.5C19.5 5.5 19.5 8.5 19.5 8.5V20L17.6667 19L15.8333 20L14 19L12.1667 20L10.3334 19L8.50003 20V9.5M11 12.5H15M11 9.5H16M11 15.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),AC=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"binary-document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M9.5 12.5V17.5M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM12.5 12.5V17.5H15.5V12.5H12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})]})}),hMe=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"block-content",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 7.60002L11 7.60003V6.40003L21 6.40002V7.60002Z",fill:"currentColor"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 11.2667L12.4833 11.2667V10.0667L21 10.0667V11.2667Z",fill:"currentColor"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 14.9334H13.9254V13.7334L21 13.7334V14.9334Z",fill:"currentColor"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 18.6002H4V17.4002H21V18.6002Z",fill:"currentColor"}),c.jsx("path",{d:"M9.86438 15.6H11.2L8.27623 7.60003H6.92377L4 15.6H5.29072L6.0371 13.4767H9.12362L9.86438 15.6ZM7.53546 9.05255H7.63086L8.80374 12.4344H6.35698L7.53546 9.05255Z",fill:"currentColor"})]})}),pMe=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"block-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M5 19.5H20M5 5.5H20M6.5 8.5H18.5V16.5H6.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Emt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"blockquote",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M10 17.5H19M6 7.5H19M10 12.5H17M6.5 12V18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),mMe=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"bold",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M13.2087 18C15.5322 18 16.9731 16.793 16.9731 14.8844C16.9731 13.4812 15.9245 12.3949 14.4836 12.2892V12.1534C15.6001 11.9875 16.4526 10.9841 16.4526 9.82991C16.4526 8.14761 15.1927 7.11409 13.0804 7.11409H8.32019V18H13.2087ZM10.5985 8.85674H12.4995C13.5859 8.85674 14.212 9.37727 14.212 10.2448C14.212 11.1199 13.5406 11.6254 12.3109 11.6254H10.5985V8.85674ZM10.5985 16.2574V13.1643H12.575C13.9178 13.1643 14.6496 13.6924 14.6496 14.6882C14.6496 15.7066 13.9404 16.2574 12.6278 16.2574H10.5985Z",fill:"currentColor"})})}),Smt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"book",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M20.5 17.5V5.5L12.5 6.5M20.5 17.5L12.5 18.5M20.5 17.5V18.5M4.5 17.5V5.5L12.5 6.5M4.5 17.5L12.5 18.5M4.5 17.5V18.5M12.5 18.5L4.5 19.5V18.5M12.5 18.5L20.5 19.5V18.5M12.5 18.5V6.5M12.5 18.5H4.5M12.5 18.5H20.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Tmt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"bottle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M7.5 17.5L17.5 17.5M17.5 13C17.5 12.087 17.5 11.3518 17.5 11C17.5 8.5 14.5 9 14.5 7.37494L14.5 5.5M17.5 13C17.5 15.1229 17.5 18.7543 17.5 20.5022C17.5 21.0545 17.0523 21.5 16.5 21.5L8.5 21.5C7.94772 21.5 7.5 21.0547 7.5 20.5024C7.5 18.8157 7.5 15.3546 7.5 13M17.5 13L7.5 13M7.5 13C7.5 12.2538 7.5 11.5648 7.5 11C7.5 8.5 10.5 9 10.5 7.37494L10.5 5.5M10.5 5.5L10.5 3.99999C10.5 3.72385 10.7239 3.49999 11 3.49999L14 3.49999C14.2761 3.49999 14.5 3.72385 14.5 3.99999L14.5 5.5M10.5 5.5L14.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),kmt=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"bulb-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H14V20.5C14 21.0523 13.5523 21.5 13 21.5H12C11.4477 21.5 11 21.0523 11 20.5V19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10C18 11.94 17.3978 12.9767 16.4272 14.3368Z",fill:"currentColor"}),c.jsx("path",{d:"M16.4272 14.3368L15.9388 13.9883L16.4272 14.3368ZM14 19.5V18.9H13.4V19.5H14ZM11 19.5H11.6V18.9H11V19.5ZM8.57284 14.3368L9.06122 13.9883H9.06122L8.57284 14.3368ZM16.1 17.212C16.1 16.3069 16.3868 15.4261 16.9155 14.6853L15.9388 13.9883C15.2678 14.9284 14.9 16.0519 14.9 17.212H16.1ZM16.1 18.5V17.212H14.9V18.5H16.1ZM14.5 20.1C15.3837 20.1 16.1 19.3837 16.1 18.5H14.9C14.9 18.7209 14.7209 18.9 14.5 18.9V20.1ZM14 20.1H14.5V18.9H14V20.1ZM13.4 19.5V20.5H14.6V19.5H13.4ZM13.4 20.5C13.4 20.7209 13.2209 20.9 13 20.9V22.1C13.8837 22.1 14.6 21.3837 14.6 20.5H13.4ZM13 20.9H12V22.1H13V20.9ZM12 20.9C11.7791 20.9 11.6 20.7209 11.6 20.5H10.4C10.4 21.3837 11.1163 22.1 12 22.1V20.9ZM11.6 20.5V19.5H10.4V20.5H11.6ZM10.5 20.1H11V18.9H10.5V20.1ZM8.9 18.5C8.9 19.3837 9.61634 20.1 10.5 20.1V18.9C10.2791 18.9 10.1 18.7209 10.1 18.5H8.9ZM8.9 17.212V18.5H10.1V17.212H8.9ZM8.08446 14.6853C8.61315 15.4261 8.9 16.3069 8.9 17.212H10.1C10.1 16.0519 9.73217 14.9284 9.06122 13.9883L8.08446 14.6853ZM6.4 10C6.4 11.0377 6.56208 11.8595 6.86624 12.611C7.16624 13.3521 7.59495 13.9995 8.08446 14.6853L9.06122 13.9883C8.58004 13.314 8.22233 12.7629 7.97858 12.1607C7.739 11.5688 7.6 10.9023 7.6 10H6.4ZM12.5 3.9C9.16863 3.9 6.4 6.66863 6.4 10H7.6C7.6 7.33137 9.83137 5.1 12.5 5.1V3.9ZM18.6 10C18.6 6.66863 15.8314 3.9 12.5 3.9V5.1C15.1686 5.1 17.4 7.33137 17.4 10H18.6ZM16.9155 14.6853C17.4051 13.9995 17.8338 13.3521 18.1338 12.611C18.4379 11.8595 18.6 11.0377 18.6 10H17.4C17.4 10.9023 17.261 11.5688 17.0214 12.1607C16.7777 12.7629 16.42 13.314 15.9388 13.9883L16.9155 14.6853Z",fill:"currentColor"})]})}),f7=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"bulb-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M9.5 16.5H15.5M11 20V20.5C11 21.0523 11.4477 21.5 12 21.5H13C13.5523 21.5 14 21.0523 14 20.5V20M18 10C18 11.94 17.3978 12.9767 16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10Z",stroke:"currentColor",strokeWidth:1.2})})}),U1=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"calendar",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M4.5 10.5V19.5H20.5V10.5M4.5 10.5V5.5H20.5V10.5M4.5 10.5H12.5H20.5M20.5 13.5H16.5M16.5 13.5H12.5M16.5 13.5V10.5M16.5 13.5V16.5M12.5 13.5H8.5M12.5 13.5V16.5M12.5 13.5V10.5M8.5 13.5H4.5M8.5 13.5V10.5M8.5 13.5V16.5M20.5 16.5H16.5M16.5 16.5H12.5M16.5 16.5V19.5M12.5 16.5H8.5M12.5 16.5V19.5M8.5 16.5H4.5M8.5 16.5V19.5M17.5 8V3M7.5 8V3",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Amt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"case",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M9 8.5122V6C9 5.44772 9.44772 5 10 5H15C15.5523 5 16 5.44772 16 6V8.5122M4.5 12V18.5C4.5 19.0523 4.94772 19.5 5.5 19.5H19.5C20.0523 19.5 20.5 19.0523 20.5 18.5V12M4.5 12V9.5122C4.5 8.95991 4.94772 8.5122 5.5 8.5122H19.5C20.0523 8.5122 20.5 8.95991 20.5 9.5122V12M4.5 12L11.7978 14.7367C12.2505 14.9064 12.7495 14.9064 13.2022 14.7367L20.5 12",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Imt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"chart-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M5.5 5V19.5H20M7.5 16L11.5 11.5L15.5 14L19.5 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),tQ=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"checkmark-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M9.5 12.1316L11.7414 14.5L16 10M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Uf=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"checkmark",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M5.5 11.5L10.5 16.5L19.5 7.60001",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_0=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M17 10.5L12.5 15L8 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),h7=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M14.5 17L10 12.5L14.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),nw=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M10.5 8L15 12.5L10.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),gMe=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M8 14.5L12.5 10L17 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Dmt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),nQ=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"clipboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M8 5.5H6.5V19.5H18.5V5.5H17M12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Rmt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"clipboard-image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M8 5.5H6.5V19.5H10.5M17 5.5H18.5V11.5M10.5 18.5L12.73 15.8983C13.1327 15.4285 13.8613 15.4335 14.2575 15.909L15.299 17.1588C15.6754 17.6105 16.3585 17.6415 16.7743 17.2257L16.9903 17.0097C17.2947 16.7053 17.7597 16.6298 18.1447 16.8223L20.5 18M10.5 11.5H20.5V21.5H10.5V11.5ZM12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),p7=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"clock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M12.5 8V12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),jmt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"close-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M9.5 15.5L12.5 12.5M12.5 12.5L15.5 9.5M12.5 12.5L9.5 9.5M12.5 12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Rd=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"close",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M18 7L7 18M7 7L18 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),vMe=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"code-block",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M11 15L8.5 12.5L11 10M14 10L16.5 12.5L14 15M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),yMe=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"code",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M11 16L7.5 12.5L11 9M14 9L17.5 12.5L14 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),H3=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"cog",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M14.2624 5.40607L13.8714 4.42848C13.6471 3.86771 13.104 3.5 12.5 3.5C11.896 3.5 11.3529 3.86771 11.1286 4.42848L10.7376 5.40607C10.5857 5.78585 10.2869 6.08826 9.90901 6.2448C9.53111 6.40133 9.10603 6.39874 8.73006 6.23761L7.76229 5.82285C7.20716 5.58494 6.56311 5.70897 6.13604 6.13604C5.70897 6.56311 5.58494 7.20716 5.82285 7.76229L6.23761 8.73006C6.39874 9.10602 6.40133 9.53111 6.2448 9.90901C6.08826 10.2869 5.78585 10.5857 5.40607 10.7376L4.42848 11.1286C3.86771 11.3529 3.5 11.896 3.5 12.5C3.5 13.104 3.86771 13.6471 4.42848 13.8714L5.40607 14.2624C5.78585 14.4143 6.08826 14.7131 6.2448 15.091C6.40133 15.4689 6.39874 15.894 6.23761 16.2699L5.82285 17.2377C5.58494 17.7928 5.70897 18.4369 6.13604 18.864C6.56311 19.291 7.20716 19.4151 7.76229 19.1772L8.73006 18.7624C9.10603 18.6013 9.53111 18.5987 9.90901 18.7552C10.2869 18.9117 10.5857 19.2141 10.7376 19.5939L11.1286 20.5715C11.3529 21.1323 11.896 21.5 12.5 21.5C13.104 21.5 13.6471 21.1323 13.8714 20.5715L14.2624 19.5939C14.4143 19.2141 14.7131 18.9117 15.091 18.7552C15.4689 18.5987 15.894 18.6013 16.2699 18.7624L17.2377 19.1771C17.7928 19.4151 18.4369 19.291 18.864 18.864C19.291 18.4369 19.4151 17.7928 19.1771 17.2377L18.7624 16.2699C18.6013 15.894 18.5987 15.4689 18.7552 15.091C18.9117 14.7131 19.2141 14.4143 19.5939 14.2624L20.5715 13.8714C21.1323 13.6471 21.5 13.104 21.5 12.5C21.5 11.896 21.1323 11.3529 20.5715 11.1286L19.5939 10.7376C19.2141 10.5857 18.9117 10.2869 18.7552 9.90901C18.5987 9.53111 18.6013 9.10602 18.7624 8.73006L19.1772 7.76229C19.4151 7.20716 19.291 6.56311 18.864 6.13604C18.4369 5.70897 17.7928 5.58494 17.2377 5.82285L16.2699 6.23761C15.894 6.39874 15.4689 6.40133 15.091 6.2448C14.7131 6.08826 14.4143 5.78585 14.2624 5.40607Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16.5 12.5C16.5 14.7091 14.7091 16.5 12.5 16.5C10.2909 16.5 8.5 14.7091 8.5 12.5C8.5 10.2909 10.2909 8.5 12.5 8.5C14.7091 8.5 16.5 10.2909 16.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),bMe=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"collapse",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M6 14.5L10.5 14.5V19M19 10.5H14.5L14.5 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10.5 14.5L6 19M14.5 10.5L19 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Omt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"color-wheel",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M9.43853 5.10896L11.1606 9.26642M13.8394 15.7336L15.5615 19.891M15.7336 11.1606L19.891 9.43853M9.26642 13.8394L5.10896 15.5615M5.3139 9.52342L9.23359 11.147M15.7664 13.853L19.6861 15.4766M13.853 9.23359L15.4766 5.3139M9.52342 19.6861L11.147 15.7664M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5ZM16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Lmt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M7.5 16.5H9.5V20.5L13.5 16.5H17.5C18.6046 16.5 19.5 15.6046 19.5 14.5V8.5C19.5 7.39543 18.6046 6.5 17.5 6.5H7.5C6.39543 6.5 5.5 7.39543 5.5 8.5V14.5C5.5 15.6046 6.39543 16.5 7.5 16.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Pmt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"component",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M8.5 8.5L12.5 12.5M12.5 12.5L16.5 16.5M12.5 12.5L16.5 8.5M12.5 12.5L8.5 16.5M12.5 4L21 12.5L12.5 21L4 12.5L12.5 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),mx=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"compose",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M17 6L19 8M14 5.5H5.5V19.5H19.5V11M9 16L9.5 13.5L19 4L21 6L11.5 15.5L9 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),m7=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"controls",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M6.5 5V7.5M6.5 7.5C5.39543 7.5 4.5 8.39543 4.5 9.5C4.5 10.6046 5.39543 11.5 6.5 11.5M6.5 7.5C7.60457 7.5 8.5 8.39543 8.5 9.5C8.5 10.6046 7.60457 11.5 6.5 11.5M6.5 11.5V20M12.5 5V13.5M12.5 13.5C11.3954 13.5 10.5 14.3954 10.5 15.5C10.5 16.6046 11.3954 17.5 12.5 17.5M12.5 13.5C13.6046 13.5 14.5 14.3954 14.5 15.5C14.5 16.6046 13.6046 17.5 12.5 17.5M12.5 17.5V20M18.5 5V7.5M18.5 7.5C17.3954 7.5 16.5 8.39543 16.5 9.5C16.5 10.6046 17.3954 11.5 18.5 11.5M18.5 7.5C19.6046 7.5 20.5 8.39543 20.5 9.5C20.5 10.6046 19.6046 11.5 18.5 11.5M18.5 11.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ox=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"copy",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M8.5 8.5H5.5V20.5H16.5V16.5M19.5 4.5H8.5V16.5H19.5V4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Mmt=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"credit-card",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M20.5 9.5H4.5V11.5H20.5V9.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7 15.5H14M5.5 18.5H19.5C20.0523 18.5 20.5 18.0523 20.5 17.5V7.5C20.5 6.94772 20.0523 6.5 19.5 6.5H5.5C4.94772 6.5 4.5 6.94772 4.5 7.5V17.5C4.5 18.0523 4.94772 18.5 5.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),rQ=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"crop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M9.5 5V15.5H20M5 9.5H15.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$mt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"dashboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M14.5 19.5V12.5M10.5 12.5V5.5M5.5 12.5H19.5M5.5 19.5H19.5V5.5H5.5V19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Fmt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"database",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M18.5 7V17.5C18.5 19.0594 16.0504 20.5 12.5 20.5C8.9496 20.5 6.5 19.0594 6.5 17.5V7M18.5 7C18.5 8.45543 15.8137 9.5 12.5 9.5C9.18629 9.5 6.5 8.45543 6.5 7C6.5 5.54457 9.18629 4.5 12.5 4.5C15.8137 4.5 18.5 5.54457 18.5 7Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),xMe=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"desktop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M4.5 13.5V15.5C4.5 16.0523 4.94772 16.5 5.5 16.5H12.5M4.5 13.5V6.5C4.5 5.94772 4.94772 5.5 5.5 5.5H19.5C20.0523 5.5 20.5 5.94772 20.5 6.5V13.5M4.5 13.5H20.5M20.5 13.5V15.5C20.5 16.0523 20.0523 16.5 19.5 16.5H12.5M12.5 16.5V19.5M12.5 19.5H8M12.5 19.5H17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Rv=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5L6.5 9.5M11.5 4.5L6.5 9.5M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Bmt=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"document-pdf",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M12.7127 13.8012L12.7193 13.77C12.8488 13.2366 13.0117 12.5716 12.8845 11.969C12.7997 11.4937 12.4493 11.3084 12.1503 11.295C11.7977 11.2794 11.483 11.4803 11.4049 11.7726C11.2576 12.3082 11.3893 13.0402 11.6303 13.973C11.3268 14.6961 10.8425 15.7472 10.4877 16.3721C9.8271 16.7135 8.94113 17.2402 8.80946 17.9053C8.78268 18.028 8.81392 18.1842 8.88757 18.3248C8.97014 18.481 9.10181 18.6015 9.25579 18.6596C9.32274 18.6841 9.40308 18.7042 9.49681 18.7042C9.88959 18.7042 10.5256 18.3873 11.3736 16.9322C11.5031 16.8898 11.637 16.8452 11.7664 16.8006C12.3734 16.5953 13.0028 16.381 13.5718 16.2851C14.2012 16.622 14.9175 16.8385 15.404 16.8385C15.8861 16.8385 16.0758 16.5529 16.1472 16.381C16.2722 16.0797 16.2119 15.7004 16.0088 15.4973C15.7143 15.2072 14.9979 15.1313 13.882 15.2696C13.3331 14.9349 12.9738 14.4796 12.7127 13.8012ZM10.2645 17.1911C9.95431 17.6419 9.71998 17.8673 9.59278 17.9655C9.7423 17.691 10.0346 17.4009 10.2645 17.1911ZM12.2195 11.9355C12.3355 12.1341 12.3199 12.7345 12.2306 13.038C12.1213 12.5939 12.1056 11.9645 12.1704 11.8909L12.2195 11.9355ZM12.1837 14.6247C12.4225 15.0376 12.7238 15.3924 13.0563 15.6557C12.5743 15.7651 12.1346 15.9458 11.7419 16.1065C11.6481 16.1445 11.5566 16.1824 11.4674 16.2181C11.7642 15.6803 12.0119 15.071 12.1837 14.6247ZM15.6562 16.0864L15.6428 16.1065C15.6428 16.1065 15.4375 16.2315 14.6497 15.9213C15.5558 15.8789 15.6562 16.0864 15.6562 16.0864Z",fill:"currentColor"}),c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Nmt=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"document-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M6.5 14V20.5H18.5V14M6.5 11V9.5L11.5 4.5H18.5V11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Vmt=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"document-sheet",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10.4 19V16.4M10.4 16.4L10.4 13.4M10.4 16.4H8M10.4 16.4H14.4M10.4 13.4V11M10.4 13.4H8M10.4 13.4H14.4M14.4 19V16.4M14.4 16.4V13.4M14.4 16.4H17M14.4 13.4V11M14.4 13.4H17M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Umt=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"document-text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16 13H9M14 16H9M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),wMe=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"document-video",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M11.5 16.5V13.5L14 15L11.5 16.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Hmt=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"document-word",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M12.4699 13.4588H12.5263L13.6328 17H14.5435L16 12H14.9952L14.0656 15.7214H14.0129L12.929 12H12.0672L10.9984 15.7214H10.9419L10.0124 12H9L10.4565 17H11.371L12.4699 13.4588Z",fill:"currentColor"}),c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),zmt=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"document-zip",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M15 4.5L13.5 5L15.5 6L13.5 7L15.5 8L13.5 9L15.5 10L13.5 11L14.5 11.5V13M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM13.5 13H15.5L16 17H13L13.5 13Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),iQ=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"documents",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M10.5 4.5V9.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16.5 7.5H19.5V21.5H8.5V18.5M10.5 4.5H16.5V18.5H5.5V9.5L10.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Wmt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"dot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("circle",{cx:12.5,cy:12.5,r:1.5,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2})})}),Gmt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"double-chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M17 8.5L12.5 13L8 8.5M17 12.5L12.5 17L8 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),qmt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"double-chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M12.5 17L8 12.5L12.5 8M16.5 17L12 12.5L16.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ymt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"double-chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M12.5 8L17 12.5L12.5 17M8.5 8L13 12.5L8.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Kmt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"double-chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M8 12.5L12.5 8L17 12.5M8 16.5L12.5 12L17 16.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),sQ=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"download",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M19.5 17V19.5H5.5V17M12.5 16L12.5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),_Me=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"drag-handle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M9.5 8C10.3284 8 11 7.32843 11 6.5C11 5.67157 10.3284 5 9.5 5C8.67157 5 8 5.67157 8 6.5C8 7.32843 8.67157 8 9.5 8Z",fill:"currentColor"}),c.jsx("path",{d:"M9.5 14C10.3284 14 11 13.3284 11 12.5C11 11.6716 10.3284 11 9.5 11C8.67157 11 8 11.6716 8 12.5C8 13.3284 8.67157 14 9.5 14Z",fill:"currentColor"}),c.jsx("path",{d:"M11 18.5C11 19.3284 10.3284 20 9.5 20C8.67157 20 8 19.3284 8 18.5C8 17.6716 8.67157 17 9.5 17C10.3284 17 11 17.6716 11 18.5Z",fill:"currentColor"}),c.jsx("path",{d:"M15.5 8C16.3284 8 17 7.32843 17 6.5C17 5.67157 16.3284 5 15.5 5C14.6716 5 14 5.67157 14 6.5C14 7.32843 14.6716 8 15.5 8Z",fill:"currentColor"}),c.jsx("path",{d:"M17 12.5C17 13.3284 16.3284 14 15.5 14C14.6716 14 14 13.3284 14 12.5C14 11.6716 14.6716 11 15.5 11C16.3284 11 17 11.6716 17 12.5Z",fill:"currentColor"}),c.jsx("path",{d:"M15.5 20C16.3284 20 17 19.3284 17 18.5C17 17.6716 16.3284 17 15.5 17C14.6716 17 14 17.6716 14 18.5C14 19.3284 14.6716 20 15.5 20Z",fill:"currentColor"})]})}),Zmt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"drop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M18.5 14.5C18.5 18 16 20.5 12.5 20.5C9 20.5 6.5 18 6.5 14.5C6.5 11 9.5 7.50001 12.5 4.5C15.5 7.5 18.5 11 18.5 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),CMe=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"earth-americas",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M7 13L5.5 9L10 5H15V10L14 9H11L9.5 11L10.5 12H12V13L13 14.5H15.5L18.5 17L15.5 19.5L10.5 20V17L12.5 15L9 13L7 10.5V13Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Xmt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"earth-globe",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M5.5 16.5H19.5M5.5 8.5H19.5M4.5 12.5H20.5M12.5 20.5C12.5 20.5 8 18.5 8 12.5C8 6.5 12.5 4.5 12.5 4.5M12.5 4.5C12.5 4.5 17 6.5 17 12.5C17 18.5 12.5 20.5 12.5 20.5M12.5 4.5V20.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ph=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"edit",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Qmt=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"ellipsis-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M6.5 11C7.32843 11 8 11.6716 8 12.5C8 13.3284 7.32843 14 6.5 14C5.67157 14 5 13.3284 5 12.5C5 11.6716 5.67157 11 6.5 11Z",fill:"currentColor"}),c.jsx("path",{d:"M12.5 11C13.3284 11 14 11.6716 14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11Z",fill:"currentColor"}),c.jsx("path",{d:"M18.5 11C19.3284 11 20 11.6716 20 12.5C20 13.3284 19.3284 14 18.5 14C17.6716 14 17 13.3284 17 12.5C17 11.6716 17.6716 11 18.5 11Z",fill:"currentColor"})]})}),ll=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"ellipsis-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M14 6.5C14 7.32843 13.3284 8 12.5 8C11.6716 8 11 7.32843 11 6.5C11 5.67157 11.6716 5 12.5 5C13.3284 5 14 5.67157 14 6.5Z",fill:"currentColor"}),c.jsx("path",{d:"M14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11C13.3284 11 14 11.6716 14 12.5Z",fill:"currentColor"}),c.jsx("path",{d:"M14 18.5C14 19.3284 13.3284 20 12.5 20C11.6716 20 11 19.3284 11 18.5C11 17.6716 11.6716 17 12.5 17C13.3284 17 14 17.6716 14 18.5Z",fill:"currentColor"})]})}),Jmt=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"enter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M6 14.5H19.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10 18.5L6 14.5L10 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),egt=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"enter-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M19 14.5H5.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M15 18.5L19 14.5L15 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),tgt=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"envelope",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M20.5 18.5H4.5V6.5H20.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M20.5 18.5L17.75 15.5L15 12.5M4.5 18.5L10 12.5M20.5 6.5L12.5 15L4.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),ngt=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"equal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M7.5 4.5H3.5V20.5H7.5",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M17.5 20.5L21.5 20.5L21.5 4.5L17.5 4.5",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M9 10.5H16",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M9 14.5H16",stroke:"currentColor",strokeWidth:1.2})]})}),rgt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"error-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5ZM13 14.5V16H12V14.5H13ZM12 9V13H13V9H12Z",fill:"currentColor"})})}),Yu=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"error-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M12.5 16V14.5M12.5 9V13M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),EMe=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"expand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M14 6.5H18.5V11M11 18.5H6.5V14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M18.5 6.5L14 11M6.5 18.5L11 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),igt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"eye-closed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M7 15.5L5.5 17.5M20.5 12.5C19.8612 13.5647 19.041 14.6294 18.0008 15.501M18.0008 15.501C16.5985 16.676 14.7965 17.5 12.5 17.5M18.0008 15.501L18 15.5M18.0008 15.501L19.5 17.5M12.5 17.5C8.5 17.5 6 15 4.5 12.5M12.5 17.5V20M15.5 17L16.5 19.5M9.5 17L8.5 19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),oQ=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"eye-open",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.39999 12.5C9.39999 10.7879 10.7879 9.39999 12.5 9.39999C14.2121 9.39999 15.6 10.7879 15.6 12.5C15.6 14.2121 14.2121 15.6 12.5 15.6C10.7879 15.6 9.39999 14.2121 9.39999 12.5Z",fill:"currentColor"}),c.jsx("path",{d:"M12.5 7.5C8.5 7.5 6 10 4.5 12.5C6 15 8.5 17.5 12.5 17.5C16.5 17.5 19 15 20.5 12.5C19 10 16.5 7.5 12.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),sgt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"filter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M11 12L6 7V6L19 6L19 7L14 12V17L11 19V12Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),ogt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"folder",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M11.5 8.5H19.5V18.5H5.5V5.5H10.5L11.5 8.5ZM11.5 8.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),agt=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"generate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M9 5.30423C6.33576 6.60253 4.5 9.33688 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5V14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16 11L12.5 14.5L9 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),lgt=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"groq",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M13 13H21L13 21L13 13Z",fill:"currentColor"}),c.jsx("path",{d:"M12 12V4L4 12H12Z",fill:"currentColor"}),c.jsx("path",{d:"M12 13H4L12 21V13Z",fill:"currentColor"})]})}),ugt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"heart-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),cgt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"heart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),M_=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"help-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),dgt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"home",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M6.5 8.75V18.5H18.5V8.75M4.5 10L12.5 5L20.5 10M14.5 18.5V11.5H10.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),fgt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"ice-cream",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M9.5 13.5L12.5 20.5L15.5 13.5M12.5 8.26389C11.9692 7.78885 11.2684 7.5 10.5 7.5C8.84315 7.5 7.5 8.84315 7.5 10.5C7.5 12.1569 8.84315 13.5 10.5 13.5C11.2684 13.5 11.9692 13.2111 12.5 12.7361M9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5M17.5 10.5C17.5 12.1569 16.1569 13.5 14.5 13.5C12.8431 13.5 11.5 12.1569 11.5 10.5C11.5 8.84315 12.8431 7.5 14.5 7.5C16.1569 7.5 17.5 8.84315 17.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Mh=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M5.5 15.5L8.79289 12.2071C9.18342 11.8166 9.81658 11.8166 10.2071 12.2071L12.8867 14.8867C13.2386 15.2386 13.7957 15.2782 14.1938 14.9796L15.1192 14.2856C15.3601 14.1049 15.6696 14.0424 15.9618 14.1154L19.5 15M5.5 6.5H19.5V18.5H5.5V6.5ZM15.5 10.5C15.5 11.0523 15.0523 11.5 14.5 11.5C13.9477 11.5 13.5 11.0523 13.5 10.5C13.5 9.94772 13.9477 9.5 14.5 9.5C15.0523 9.5 15.5 9.94772 15.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),hgt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"image-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M5.5 11V6.5H19.5V11M5.5 14V18.5H19.5V14M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),pgt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"images",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M18.5 7.5H20.5V19.5H6.5V17.5M4.5 14.5L7.79289 11.2071C8.18342 10.8166 8.81658 10.8166 9.20711 11.2071L11.8867 13.8867C12.2386 14.2386 12.7957 14.2782 13.1938 13.9796L14.1192 13.2856C14.3601 13.1049 14.6696 13.0424 14.9618 13.1154L18.5 14M4.5 5.5H18.5V17.5H4.5V5.5ZM14.5 9.5C14.5 10.0523 14.0523 10.5 13.5 10.5C12.9477 10.5 12.5 10.0523 12.5 9.5C12.5 8.94772 12.9477 8.5 13.5 8.5C14.0523 8.5 14.5 8.94772 14.5 9.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),mgt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"info-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5ZM12 10.5V9H13V10.5H12ZM13 16V12H12V16H13Z",fill:"currentColor"})})}),rw=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"info-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M12.5 10.5V9M12.5 12V16M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),SMe=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"inline-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M5.5 5V20M19.5 5V20M8.5 6.5H16.5V18.5H8.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ggt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"inline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M12.5 6.5H19.5V18.5H12.5M12.5 6.5H5.5V18.5H12.5M12.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),TMe=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"insert-above",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M14.5 10.5556L10.5 10.5556M12.5 12.5L12.5 8.5M18.5 5.5L6.5 5.5M18.5 19.5L6.5 19.5L6.5 15.5L18.5 15.5L18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),kMe=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"insert-below",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M10.5 14.5H14.5M12.5 12.5V16.5M6.5 19.5H18.5M6.5 5.5H18.5V9.5H6.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),AMe=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"italic",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M10.43 18H11.7276L13.4551 9.86763H12.1576L10.43 18ZM13.3043 8.29849C13.8022 8.29849 14.2095 7.89112 14.2095 7.39322C14.2095 6.89532 13.8022 6.48795 13.3043 6.48795C12.8064 6.48795 12.399 6.89532 12.399 7.39322C12.399 7.89112 12.8064 8.29849 13.3043 8.29849Z",fill:"currentColor"})})}),vgt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"joystick",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M9.5 16V14.5H15.5V16M13.5 10.5V14.5M11.5 10.5V14.5M15.5 7.5C15.5 9.15685 14.1569 10.5 12.5 10.5C10.8431 10.5 9.5 9.15685 9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5ZM18.5 19.5H6.5C5.94772 19.5 5.5 19.0523 5.5 18.5V17.5C5.5 16.9477 5.94772 16.5 6.5 16.5H18.5C19.0523 16.5 19.5 16.9477 19.5 17.5V18.5C19.5 19.0523 19.0523 19.5 18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),z3=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"launch",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M14 6.5H5.5V19.5H18.5V11M20.5 4.5L10.5 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16 4.5H20.5V9",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),aQ=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"leave",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M15.5 15V18.5H5.5V6.5H15.5V10M9 12.5H21.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M18.5 9.5L21.5 12.5L18.5 15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),ygt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"lemon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M10.6569 10.3431L6.41422 14.5858C7.58579 15.7574 9.12132 16.3431 10.6569 16.3431M10.6569 10.3431L14.8995 6.1005C16.0711 7.27208 16.6569 8.80761 16.6569 10.3431M10.6569 10.3431L10.6569 16.3431M10.6569 10.3431L16.6569 10.3431M10.6569 10.3431L14.8995 14.5858M14.8995 14.5858C13.7279 15.7574 12.1924 16.3431 10.6569 16.3431M14.8995 14.5858C16.0711 13.4142 16.6569 11.8787 16.6569 10.3431M16.3137 4.68629C19.4379 7.81049 19.4379 12.8758 16.3137 16C13.1895 19.1242 8.12419 19.1242 5 16L16.3137 4.68629Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Lx=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"link",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M11 12.5L12.5 14C13.281 14.781 14.719 14.781 15.5 14L18.5 11C19.281 10.219 19.281 8.78105 18.5 8L18 7.5C17.2189 6.71895 15.781 6.71895 15 7.5L13 9.5M12 15.5L10 17.5C9.21895 18.281 7.78105 18.281 7 17.5L6.5 17C5.71895 16.219 5.71896 14.781 6.5 14L9.50001 11C10.2811 10.219 11.719 10.2189 12.5 11L14 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),bgt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"link-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M18.5 11C19.281 10.219 19.281 8.78108 18.5 8.00003L18 7.50003C17.2189 6.71898 15.781 6.71898 15 7.50003L13 9.50003M15.5 14C14.7189 14.7811 13.281 14.7811 12.5 14M6.5 14C5.71895 14.7811 5.71894 16.219 6.49999 17L6.99999 17.5C7.78104 18.2811 9.21894 18.2811 9.99999 17.5L12 15.5M12.5 11C11.719 10.219 10.281 10.219 9.5 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),aP=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"lock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M15.5 11.5V8.5C15.5 6.5 14 5.5 12.5 5.5C11 5.5 9.5 6.5 9.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),xgt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"logo-js",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM12.5254 16.1572C12.5254 17.4189 11.7742 18.1536 10.4792 18.1536C9.24243 18.1536 8.49121 17.4189 8.45801 16.2942V16.261H9.67407V16.2859C9.69897 16.7466 9.9729 17.0703 10.4626 17.0703C10.9939 17.0703 11.272 16.7507 11.272 16.1489V12.011H12.5254V16.1572ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),wgt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"logo-ts",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM11.0769 18H9.82349V13.0444H8.02637V12.011H12.874V13.0444H11.0769V18ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),IMe=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"master-detail",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M7 9.5H10M11.5 6.5V18.5M7 12.5H10M13 9.5H18M7 15.5H10M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),DMe=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"menu",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M6 7.5H19M6 17.5H19M6 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_gt=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"mobile-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M7.5 6.5C7.5 5.39543 8.39543 4.5 9.5 4.5H15.5C16.6046 4.5 17.5 5.39543 17.5 6.5V18.5C17.5 19.6046 16.6046 20.5 15.5 20.5H9.5C8.39543 20.5 7.5 19.6046 7.5 18.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M13.5 17.5C13.5 18.0523 13.0523 18.5 12.5 18.5C11.9477 18.5 11.5 18.0523 11.5 17.5C11.5 16.9477 11.9477 16.5 12.5 16.5C13.0523 16.5 13.5 16.9477 13.5 17.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),RMe=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"moon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M19.6065 16.1775C18.9417 16.387 18.234 16.5 17.5 16.5C13.634 16.5 10.5 13.366 10.5 9.5C10.5 7.54163 11.3042 5.77109 12.6004 4.50062C12.567 4.50021 12.5335 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C15.5924 20.5 18.275 18.7454 19.6065 16.1775Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),jMe=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"number",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.0165 17.6336H3.83636V16.4336H21.0165V17.6336Z",fill:"currentColor"}),c.jsx("path",{d:"M7.09808 13.3967V7.508H5.74066L3.83636 8.78241V10.091L5.65277 8.88495H5.74066V13.3967H3.84125V14.5539H8.89984V13.3967H7.09808Z",fill:"currentColor"}),c.jsx("path",{d:"M9.81781 9.63202V9.66132H11.1069V9.62714C11.1069 8.95331 11.5756 8.49432 12.2739 8.49432C12.9575 8.49432 13.4018 8.89471 13.4018 9.50507C13.4018 9.9787 13.1528 10.3498 12.1909 11.3117L9.89594 13.5822V14.5539H14.8618V13.3869H11.7807V13.299L13.1577 11.9855C14.3491 10.843 14.7543 10.1838 14.7543 9.41229C14.7543 8.19159 13.7729 7.36639 12.3178 7.36639C10.8383 7.36639 9.81781 8.28436 9.81781 9.63202Z",fill:"currentColor"}),c.jsx("path",{d:"M17.6694 11.4631H18.5092C19.3198 11.4631 19.8422 11.8683 19.8422 12.4982C19.8422 13.1183 19.3295 13.5139 18.5239 13.5139C17.767 13.5139 17.2592 13.133 17.2104 12.5324H15.9262C15.9897 13.8508 17.0248 14.6955 18.5629 14.6955C20.1401 14.6955 21.2192 13.841 21.2192 12.591C21.2192 11.6584 20.6528 11.0334 19.7006 10.9211V10.8332C20.4721 10.6769 20.9457 10.0666 20.9457 9.23651C20.9457 8.12323 19.9741 7.36639 18.5434 7.36639C17.0541 7.36639 16.1118 8.17694 16.0629 9.50018H17.2983C17.3422 8.88007 17.8061 8.48456 18.4995 8.48456C19.2075 8.48456 19.6567 8.85565 19.6567 9.44159C19.6567 10.0324 19.1977 10.4182 18.4946 10.4182H17.6694V11.4631Z",fill:"currentColor"})]})}),Cgt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"ok-hand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M15.9957 11.5C14.8197 10.912 11.9957 9 10.4957 9C8.9957 9 5.17825 11.7674 6 13C7 14.5 9.15134 11.7256 10.4957 12C11.8401 12.2744 13 13.5 13 14.5C13 15.5 11.8401 16.939 10.4957 16.5C9.15134 16.061 8.58665 14.3415 7.4957 14C6.21272 13.5984 5.05843 14.6168 5.5 15.5C5.94157 16.3832 7.10688 17.6006 8.4957 19C9.74229 20.2561 11.9957 21.5 14.9957 20C17.9957 18.5 18.5 16.2498 18.5 13C18.5 11.5 13.7332 5.36875 11.9957 4.5C10.9957 4 10 5 10.9957 6.5C11.614 7.43149 13.5 9.27705 14 10.3751M15.5 8C15.5 8 15.3707 7.5 14.9957 6C14.4957 4 15.9957 3.5 16.4957 4.5C17.1281 5.76491 18.2872 10.9147 18.4957 13",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),OMe=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"olist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M10 7.5H19M10 12.5H19M10 17.5H19M5 18.5H7.5L7 17.5L7.5 16.5H5M5 6.5H6.5V8.5M5 8.5H6.5M6.5 8.5H8M8 13.5H6L7 11.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Egt=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"overage",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M18.5 11V6.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M6.5 18.5L9 16L12 13L18.5 6.5M3 13.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Sgt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"package",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M12.5 13V22M12.5 13L4.5 8M12.5 13L20.5 8M8.5 5.5L16.5 10.5M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Tgt=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"pause",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",fill:"currentColor"}),c.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",fill:"currentColor"}),c.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",stroke:"currentColor",strokeWidth:1.2})]})}),kgt=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"pin",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 14 15.5 17.5 12.5 20.5C9.5 17.5 6.5 14 6.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M14 10.5C14 11.3284 13.3284 12 12.5 12C11.6716 12 11 11.3284 11 10.5C11 9.67157 11.6716 9 12.5 9C13.3284 9 14 9.67157 14 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Agt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"pin-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M7.39787 14C8.51075 16.2897 10.5054 18.5054 12.5 20.5C14.4946 18.5054 16.4892 16.2897 17.6021 14M6.52009 11C6.50681 10.8334 6.5 10.6667 6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 10.6667 18.4932 10.8334 18.4799 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),LMe=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"play",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M7.5 18.5V6.5L17.5 12.5L7.5 18.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),W3=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"plug",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M13.25 8.5L16.75 5M16.25 11.5L19.75 8M9.25 15.5L5.25 19.5M7.75 14L9.75 12C8.25 10 8.75 9 9.75 8C10.15 7.6 11.25 6.5 11.25 6.5L18.25 13.5C18.25 13.5 17.3825 14.3675 16.75 15C15.75 16 14.75 16.5 12.75 15L10.75 17L7.75 14Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Igt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"presentation",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M10.5 18H5.5V8.5H19.5V18H14.5M10.5 18L9 22M10.5 18H14.5M14.5 18L16 22M4.5 8.5H20.5V6.5H4.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),IC=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"publish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M4.99997 5.50006H20M12.5 9.00005V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7.5 14L12.5 9.00006L17.5 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),lQ=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"read-only",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M15 7L18 10M10 12L7 15L6 19L10 18L13 15M12 10L17 5L20 8L15 13M19 19L5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Dgt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"remove-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M8 12.4H17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),lP=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),pm=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"reset",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M4.56189 13.5L4.14285 13.9294C4.25676 14.0406 4.41017 14.1019 4.56932 14.1C4.72847 14.098 4.88032 14.0329 4.99144 13.9189L4.56189 13.5ZM9.92427 15.9243L15.9243 9.92427L15.0757 9.07574L9.07574 15.0757L9.92427 15.9243ZM9.07574 9.92426L15.0757 15.9243L15.9243 15.0757L9.92426 9.07574L9.07574 9.92426ZM19.9 12.5C19.9 16.5869 16.5869 19.9 12.5 19.9V21.1C17.2496 21.1 21.1 17.2496 21.1 12.5H19.9ZM5.1 12.5C5.1 8.41309 8.41309 5.1 12.5 5.1V3.9C7.75035 3.9 3.9 7.75035 3.9 12.5H5.1ZM12.5 5.1C16.5869 5.1 19.9 8.41309 19.9 12.5H21.1C21.1 7.75035 17.2496 3.9 12.5 3.9V5.1ZM5.15728 13.4258C5.1195 13.1227 5.1 12.8138 5.1 12.5H3.9C3.9 12.8635 3.92259 13.2221 3.9665 13.5742L5.15728 13.4258ZM12.5 19.9C9.9571 19.9 7.71347 18.6179 6.38048 16.6621L5.38888 17.3379C6.93584 19.6076 9.54355 21.1 12.5 21.1V19.9ZM4.99144 13.9189L7.42955 11.4189L6.57045 10.5811L4.13235 13.0811L4.99144 13.9189ZM4.98094 13.0706L2.41905 10.5706L1.58095 11.4294L4.14285 13.9294L4.98094 13.0706Z",fill:"currentColor"})})}),uQ=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"restore",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M5.88468 17C7.32466 19.1128 9.75033 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5V13.5M12.5 8V12.5L15.5 15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7 11L4.5 13.5L2 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Rgt=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"retrieve",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M16 14L12.5 10.5L9 14M5.5 7.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M12.5 10.5L12.5 17.5M19.5 7.5V19.5H5.5V7.5L7.5 5.5H17.5L19.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),jgt=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"retry",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M20 9L10 9C7.51472 9 5.5 11.0147 5.5 13.5C5.5 15.9853 7.51472 18 10 18H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16 13L20 9L16 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),g7=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"revert",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M5 9L15 9C17.4853 9 19.5 11.0147 19.5 13.5C19.5 15.9853 17.4853 18 15 18H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M9 13L5 9L9 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),PMe=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"robot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M12.5 15.5V17.5M12.5 8.5V6.5M12.5 6.5C13.3284 6.5 14 5.82843 14 5C14 4.17157 13.3284 3.5 12.5 3.5C11.6716 3.5 11 4.17157 11 5C11 5.82843 11.6716 6.5 12.5 6.5ZM20.5 20.5V19.5C20.5 18.3954 19.6046 17.5 18.5 17.5H6.5C5.39543 17.5 4.5 18.3954 4.5 19.5V20.5H20.5ZM11.5 12C11.5 12.5523 11.0523 13 10.5 13C9.94772 13 9.5 12.5523 9.5 12C9.5 11.4477 9.94772 11 10.5 11C11.0523 11 11.5 11.4477 11.5 12ZM15.5 12C15.5 12.5523 15.0523 13 14.5 13C13.9477 13 13.5 12.5523 13.5 12C13.5 11.4477 13.9477 11 14.5 11C15.0523 11 15.5 11.4477 15.5 12ZM8.5 15.5H16.5C17.6046 15.5 18.5 14.6046 18.5 13.5V10.5C18.5 9.39543 17.6046 8.5 16.5 8.5H8.5C7.39543 8.5 6.5 9.39543 6.5 10.5V13.5C6.5 14.6046 7.39543 15.5 8.5 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ogt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"rocket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M12.5 20.5L15.5 14M11 9.49999L4.5 12.5M9 14C9 14 7.54688 14.9531 6.5 16C5.5 17 4.5 20.5 4.5 20.5C4.5 20.5 8 19.5 9 18.5C10 17.5 11 16 11 16M9 14C9 14 10.1 9.9 12.5 7.5C15.5 4.5 20.5 4.5 20.5 4.5C20.5 4.5 20.5 9.5 17.5 12.5C15.7492 14.2508 11 16 11 16L9 14ZM16.5 9.99999C16.5 10.8284 15.8284 11.5 15 11.5C14.1716 11.5 13.5 10.8284 13.5 9.99999C13.5 9.17157 14.1716 8.49999 15 8.49999C15.8284 8.49999 16.5 9.17157 16.5 9.99999Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Lgt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"schema",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M12.5 9.5V12.5M12.5 12.5H8.5V15.5M12.5 12.5H16.5V15.5M10.5 5.5H14.5V9.5H10.5V5.5ZM6.5 15.5H10.5V19.5H6.5V15.5ZM14.5 15.5H18.5V19.5H14.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),nl=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"search",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M15.0355 15.0355L19 19M16.5 11.5C16.5 14.2614 14.2614 16.5 11.5 16.5C8.73858 16.5 6.5 14.2614 6.5 11.5C6.5 8.73858 8.73858 6.5 11.5 6.5C14.2614 6.5 16.5 8.73858 16.5 11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),C0=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"select",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M16.5 15.5L12.5 19.5L8.5 15.5M8.5 9.5L12.5 5.5L16.5 9.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Pgt=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"share",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M15 9.5H18.5V19.5H6.5L6.5 9.5H10M12.5 16V3.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M9.5 6.5L12.5 3.5L15.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),v7=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"sort",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M8.5 18.5V6M16.5 19V6.5M12 15L8.5 18.5L5 15M13 10L16.5 6.5L20 10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Mgt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"sparkle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M10.5 10.5C8.5 12.5 5 12.5 5 12.5C5 12.5 8.5 12.5 10.5 14.5C12.5 16.5 12.5 20 12.5 20C12.5 20 12.5 16.5 14.5 14.5C16.5 12.5 20 12.5 20 12.5C20 12.5 16.5 12.5 14.5 10.5C12.5 8.5 12.5 5 12.5 5C12.5 5 12.5 8.5 10.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$gt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"sparkles",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M11 3.5V5M11 5V6.5M11 5H12.5M11 5H9.5M9.5 15C9.5 15 12.2308 14.7692 13.5 13.5C14.7692 12.2308 15 9.5 15 9.5C15 9.5 15.2308 12.2308 16.5 13.5C17.7692 14.7692 20.5 15 20.5 15C20.5 15 17.7692 15.2308 16.5 16.5C15.2308 17.7692 15 20.5 15 20.5C15 20.5 14.7692 17.7692 13.5 16.5C12.2308 15.2308 9.5 15 9.5 15ZM4.5 10C4.5 10 5.72308 9.87692 6.3 9.3C6.87692 8.72308 7 7.5 7 7.5C7 7.5 7.12308 8.72308 7.7 9.3C8.27692 9.87692 9.5 10 9.5 10C9.5 10 8.27692 10.1231 7.7 10.7C7.12308 11.2769 7 12.5 7 12.5C7 12.5 6.87692 11.2769 6.3 10.7C5.72308 10.1231 4.5 10 4.5 10Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})})}),y7=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"spinner",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Fgt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"split-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M19.5 10.5V20.5H5.5V10.5M19.5 10.5H5.5M19.5 10.5V4.5H5.5V10.5M12.5 13V15.5M12.5 18V15.5M12.5 15.5H15M12.5 15.5H10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Bgt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"split-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M10.5 5.5V19.5M13 12.5H15.5M18 12.5H15.5M15.5 12.5V15M15.5 12.5V10M4.5 5.5H20.5V19.5H4.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ngt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"square",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("rect",{x:5.5,y:5.5,width:14,height:14,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),MMe=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"stack-compact",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M5.5 15.5V18.5H19.5V15.5M5.5 15.5H19.5M5.5 15.5V9.5M19.5 15.5V9.5M5.5 9.5V6.5H19.5V9.5M5.5 9.5H19.5M5.5 12.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$Me=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"stack",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M5.5 12.5H19.5M5.5 18.5H19.5V6.5H5.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Vgt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"star",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M13 4L15.2747 9.8691L21.5595 10.2188L16.6806 14.1959L18.2901 20.2812L13 16.87L7.70993 20.2812L9.31941 14.1959L4.44049 10.2188L10.7253 9.8691L13 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ugt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"stop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("rect",{x:7.5,y:7.5,width:10,height:10,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),FMe=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"strikethrough",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M12.5656 7.73438C11.0656 7.73438 10.0734 8.48438 10.0734 9.625C10.0734 10.2317 10.3649 10.6613 11.0519 11H8.90358C8.71703 10.6199 8.62813 10.1801 8.62813 9.67188C8.62813 7.75781 10.2297 6.46094 12.6125 6.46094C14.7922 6.46094 16.4172 7.75781 16.5344 9.57812H15.1203C14.925 8.42188 13.9719 7.73438 12.5656 7.73438Z",fill:"currentColor"}),c.jsx("path",{d:"M12.4875 18.2656C10.0969 18.2656 8.44844 17 8.3 15.0547H9.72188C9.89375 16.2344 11.0188 16.9844 12.6203 16.9844C14.1359 16.9844 15.2531 16.1641 15.2531 15.0469C15.2531 14.6375 15.1255 14.292 14.8589 14H16.5912C16.6638 14.266 16.6984 14.5566 16.6984 14.875C16.6984 16.9453 15.0656 18.2656 12.4875 18.2656Z",fill:"currentColor"}),c.jsx("path",{d:"M7 13.1H18V11.9H7V13.1Z",fill:"currentColor"})]})}),O2=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"string",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M11.6748 15.5227H13.1855L9.87842 6.36304H8.34863L5.0415 15.5227H6.50146L7.3457 13.0916H10.8369L11.6748 15.5227ZM9.04053 8.02612H9.14844L10.4751 11.8982H7.70752L9.04053 8.02612Z",fill:"currentColor"}),c.jsx("path",{d:"M16.8101 14.488C16.0674 14.488 15.5278 14.1262 15.5278 13.5042C15.5278 12.8948 15.9595 12.571 16.9116 12.5076L18.6001 12.3997V12.9773C18.6001 13.8342 17.8384 14.488 16.8101 14.488ZM16.4609 15.637C17.3687 15.637 18.124 15.2434 18.5366 14.5515H18.6445V15.5227H19.9585V10.8C19.9585 9.34009 18.981 8.47681 17.248 8.47681C15.6802 8.47681 14.563 9.23853 14.4233 10.4255H15.7437C15.896 9.93677 16.4229 9.65747 17.1846 9.65747C18.1177 9.65747 18.6001 10.0701 18.6001 10.8V11.3967L16.7275 11.5046C15.0835 11.6062 14.1567 12.3235 14.1567 13.5676C14.1567 14.8308 15.1279 15.637 16.4609 15.637Z",fill:"currentColor"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.9585 18.637L5.0415 18.637V17.437L19.9585 17.437V18.637Z",fill:"currentColor"})]})}),BMe=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"sun",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M19 12.5H22M3 12.5H6M12.5 6V3M12.5 22V19M17.3891 7.61091L19.5104 5.48959M5.48959 19.5104L7.61091 17.3891M7.61091 7.61091L5.48959 5.48959M19.5104 19.5104L17.3891 17.3891M16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),b7=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"sync",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M13.5 4.5H12.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 15.6631 6.33576 18.3975 9 19.6958M11.5 20.5H12.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 9.33688 18.6642 6.60253 16 5.30423",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Hgt=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"tag",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M12.5 20L5 20L5 12.5L12.5 5L20 12.5L12.5 20Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11 15.5C11 16.3284 10.3284 17 9.5 17C8.67157 17 8 16.3284 8 15.5C8 14.6716 8.67157 14 9.5 14C10.3284 14 11 14.6716 11 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),zgt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"tags",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M12.1562 7.93179L13.9717 6.11633L20.3553 12.5L13.9717 18.8836L10.6855 18.8836M11.0283 18.8836L17.4119 12.5L11.0283 6.11633L4.64462 12.5L4.64462 18.8836L11.0283 18.8836ZM9.75153 15.0534C9.75153 15.7585 9.17992 16.3302 8.47481 16.3302C7.76969 16.3302 7.19808 15.7585 7.19808 15.0534C7.19808 14.3483 7.76969 13.7767 8.47481 13.7767C9.17992 13.7767 9.75153 14.3483 9.75153 15.0534Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Wgt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"terminal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M8.5 9.5L11.5 12.5L8.5 15.5M13 15.5H17M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ggt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"th-large",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M12.5 6.5V12.5M12.5 12.5V18.5M12.5 12.5H20.5M12.5 12.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),qgt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"th-list",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M9.5 6.5V10.5M9.5 10.5V14.5M9.5 10.5H20.5M9.5 10.5H4.5M9.5 14.5V18.5M9.5 14.5H20.5M9.5 14.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ygt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"tiers",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M16.5 14.5L20.5 16.5L12.5 20.5L4.5 16.5L8.5 14.5M16.5 10.5L20.5 12.5L12.5 16.5L4.5 12.5L8.5 10.5M12.5 12.5L20.5 8.5L12.5 4.5L4.5 8.5L12.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),x7=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"toggle-arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M10 16.5V8.5L16 12.5L10 16.5Z",fill:"currentColor",stroke:"currentColor",strokeLinejoin:"round"})})}),Kgt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"token",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M17.5711 12.5C17.5711 15.2614 15.3325 17.5 12.5711 17.5M7.57107 12.5C7.57107 9.73858 9.80964 7.5 12.5711 7.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Zgt=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"transfer",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M19.5 16.5H6M5.5 8.5L19 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16 13L19.5 16.5L16 20M9 12L5.5 8.5L9 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Xgt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"translate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.4 5.4H4V6.6H13.2189C13.1612 6.78478 13.0895 6.99578 13.0025 7.22211C12.7032 8.00031 12.2402 8.91125 11.5757 9.57574L10 11.1515L9.42426 10.5757C8.72102 9.8725 8.25297 9.16987 7.96199 8.64611C7.81668 8.38455 7.71617 8.16874 7.65305 8.02146C7.62151 7.94787 7.59937 7.89154 7.5857 7.85534C7.57886 7.83725 7.57415 7.8242 7.57144 7.81657L7.56886 7.80922C7.56886 7.80922 7.56921 7.81026 7 8C6.43079 8.18974 6.43091 8.19009 6.43091 8.19009L6.43133 8.19135L6.43206 8.19351L6.4341 8.19948L6.44052 8.21786C6.44587 8.23292 6.45336 8.25357 6.46313 8.27942C6.48266 8.33112 6.5113 8.40369 6.55008 8.49416C6.62758 8.67501 6.74582 8.92795 6.91301 9.22889C7.24703 9.83013 7.77898 10.6275 8.57574 11.4243L9.15147 12L4.57964 16.5718L4.57655 16.5749L4.57577 16.5757L5.4243 17.4242L5.42688 17.4216L10.0368 12.8117L12.6159 14.9609L13.3841 14.0391L10.8888 11.9597L12.4243 10.4243C13.2598 9.58875 13.7968 8.49969 14.1225 7.65289C14.2818 7.23863 14.395 6.87072 14.4696 6.6H16V5.4H10.6V4H9.4V5.4ZM17.4405 10L21.553 19.7672H20.2509L19.1279 17.1H14.8721L13.7491 19.7672H12.447L16.5595 10H17.4405ZM15.3773 15.9H18.6227L17 12.0462L15.3773 15.9Z",fill:"currentColor"})})}),Qo=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"trash",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M5 6.5H20M10 6.5V4.5C10 3.94772 10.4477 3.5 11 3.5H14C14.5523 3.5 15 3.94772 15 4.5V6.5M12.5 9V17M15.5 9L15 17M9.5 9L10 17M18.5 6.5L17.571 18.5767C17.5309 19.0977 17.0965 19.5 16.574 19.5H8.42603C7.90349 19.5 7.46905 19.0977 7.42898 18.5767L6.5 6.5H18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Qgt=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"trend-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M4.5 18.5L11.5 10.5L13.5 14.5L20.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M20.5 11V6.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Jgt=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"triangle-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M20.5 18.5H4.5L12.5 5.5L20.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),e0t=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"trolley",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M8 17.5L5.81763 6.26772C5.71013 5.81757 5.30779 5.5 4.84498 5.5H3M8 17.5H17M8 17.5C8.82843 17.5 9.5 18.1716 9.5 19C9.5 19.8284 8.82843 20.5 8 20.5C7.17157 20.5 6.5 19.8284 6.5 19C6.5 18.1716 7.17157 17.5 8 17.5ZM17 17.5C17.8284 17.5 18.5 18.1716 18.5 19C18.5 19.8284 17.8284 20.5 17 20.5C16.1716 20.5 15.5 19.8284 15.5 19C15.5 18.1716 16.1716 17.5 17 17.5ZM7.78357 14.5H17.5L19 7.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),t0t=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"truncate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M5 12.5H20M8.5 19.5L12.5 15.5L16.5 19.5M16.5 5.5L12.5 9.5L8.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),n0t=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"twitter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M18.8738 6.65751C18.1994 5.9447 17.2445 5.5 16.1857 5.5C14.1423 5.5 12.4857 7.15655 12.4857 9.2C12.4857 9.55263 12.535 9.89374 12.6272 10.2168C7.0826 9.56422 4.55703 6.02857 4.55703 6.02857C4.55703 6.02857 4.02846 9.2 6.14274 11.3143C5.08571 11.3143 4.55703 10.7857 4.55703 10.7857C4.55703 10.7857 4.55703 13.4286 7.19989 14.4857C6.67143 15.0143 5.61417 14.4857 5.61417 14.4857C5.97533 15.9303 7.45606 16.8562 8.82133 17.1358C6.67298 19.1676 3.5 18.7143 3.5 18.7143C5.14562 19.771 7.21334 20.3 9.31429 20.3C16.1214 20.3 19.8162 15.6315 19.8848 9.37762C20.8722 8.58943 22 7.08571 22 7.08571C22 7.08571 21.277 7.45458 19.6913 7.98315C21.277 6.92601 21.4714 5.5 21.4714 5.5C21.4714 5.5 20.4135 6.55789 18.8738 6.65751Z",fill:"currentColor"})})}),rk=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"ulist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M7.10153 17.5001C7.10153 17.8323 6.83221 18.1016 6.5 18.1016C6.16778 18.1016 5.89847 17.8323 5.89847 17.5001C5.89847 17.1678 6.16778 16.8985 6.5 16.8985C6.83221 16.8985 7.10153 17.1678 7.10153 17.5001Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7.10153 7.5C7.10153 7.83221 6.83221 8.10153 6.5 8.10153C6.16778 8.10153 5.89847 7.83221 5.89847 7.5C5.89847 7.16778 6.16778 6.89847 6.5 6.89847C6.83221 6.89847 7.10153 7.16778 7.10153 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7.10153 12.5C7.10153 12.8322 6.83221 13.1015 6.5 13.1015C6.16778 13.1015 5.89847 12.8322 5.89847 12.5C5.89847 12.1678 6.16778 11.8985 6.5 11.8985C6.83221 11.8985 7.10153 12.1678 7.10153 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10 7.5H19M10 17.5H19M10 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),NMe=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"underline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M9.52791 7.11407H8.17V14.2582C8.17 16.5817 9.79195 18.2565 12.4927 18.2565C15.1934 18.2565 16.8154 16.5817 16.8154 14.2582V7.11407H15.4574V14.1677C15.4574 15.8122 14.3787 17.0042 12.4927 17.0042C10.6067 17.0042 9.52791 15.8122 9.52791 14.1677V7.11407Z",fill:"currentColor"}),c.jsx("path",{d:"M7 20.5H18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),DW=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"undo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M5.88468 17C7.32466 19.1128 9.75033 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5V13.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7 11L4.5 13.5L2 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),kh=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"unknown",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M5.5 5.5H19.5V19.5H5.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),r0t=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"unlock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M9.5 11.5V8.5C9.5 6.5 8 5.5 6.5 5.5C5 5.5 3.5 6.5 3.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),uP=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"unpublish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M5 19.5H20M12.5 16V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),DC=m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"upload",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:[c.jsx("path",{d:"M12.5 6.00003V15.5M5.5 15.5H19.5V19.5H5.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7.5 11L12.5 6.00003L17.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),i0t=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"user",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M8 14.5C7 15 5.5 16 5.5 19.5H19.5C19.5 16 18.3416 15.1708 17 14.5C16 14 14 14 14 12.5C14 11 15 10.25 15 8.25C15 6.25 14 5.25 12.5 5.25C11 5.25 10 6.25 10 8.25C10 10.25 11 11 11 12.5C11 14 9 14 8 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),w7=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"users",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M17.5 18.5H21.5C21.5 15 20.8416 14.1708 19.5 13.5C18.5 13 16.5 12.5 16.5 11C16.5 9.5 17.5 9 17.5 7C17.5 5 16.5 4 15 4C13.6628 4 12.723 4.79472 12.5347 6.38415M4.5 20.5C4.5 17 5.5 16 6.5 15.5C7.5 15 9.5 14.5 9.5 13C9.5 11.5 8.5 11 8.5 9C8.5 7 9.5 6 11 6C12.5 6 13.5 7 13.5 9C13.5 11 12.5 11.5 12.5 13C12.5 14.5 14.5 15 15.5 15.5C16.8416 16.1708 17.5 17 17.5 20.5H4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),s0t=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"warning-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.741 5.12637C13.7357 3.41737 11.2643 3.41737 10.259 5.12637L3.7558 16.1818C2.73624 17.915 3.98595 20.1 5.99683 20.1H19.0032C21.014 20.1 22.2637 17.915 21.2442 16.1818L14.741 5.12637ZM11.9 9V13H13.1V9H11.9ZM13.1 16V14.5H11.9V16H13.1Z",fill:"currentColor"})})}),vo=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"warning-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M12.5 9V13M12.5 16V14.5M14.2239 5.43058L20.727 16.486C21.5113 17.8192 20.55 19.5 19.0032 19.5H5.99683C4.45 19.5 3.48869 17.8192 4.27297 16.486L10.7761 5.43058C11.5494 4.11596 13.4506 4.11596 14.2239 5.43058Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),o0t=m.forwardRef(function(e,n){return c.jsx("svg",{"data-sanity-icon":"wrench",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...e,children:c.jsx("path",{d:"M17.0407 5.14624L17.4649 5.57051C17.6166 5.41887 17.6757 5.19783 17.6202 4.99071C17.5646 4.78359 17.4027 4.62189 17.1955 4.56656L17.0407 5.14624ZM14.4013 7.7856L13.977 7.36134C13.8288 7.50959 13.7687 7.72447 13.8185 7.92813L14.4013 7.7856ZM12.8778 6.26211L12.4535 5.83784V5.83784L12.8778 6.26211ZM11.8309 10.6568L12.2552 11.0811C12.4152 10.9211 12.4716 10.6847 12.401 10.4697L11.8309 10.6568ZM5.63925 16.8485L5.21498 16.4242H5.21498L5.63925 16.8485ZM5.63925 19.935L6.06351 19.5108H6.06351L5.63925 19.935ZM8.72581 19.935L9.15007 20.3593L8.72581 19.935ZM15.1184 13.5425L15.2301 12.953C15.0351 12.916 14.8344 12.9779 14.6941 13.1182L15.1184 13.5425ZM18.9718 12.3561L19.3961 12.7804L18.9718 12.3561ZM20.0877 8.19324L20.6674 8.03843C20.612 7.83125 20.4503 7.66934 20.2432 7.61375C20.0361 7.55816 19.815 7.61734 19.6634 7.76898L20.0877 8.19324ZM17.4483 10.8326L17.3058 11.4154C17.5094 11.4652 17.7243 11.4051 17.8726 11.2569L17.4483 10.8326ZM15 10.2339L14.4172 10.3764C14.4704 10.5938 14.6401 10.7635 14.8575 10.8167L15 10.2339ZM16.6164 4.72198L13.977 7.36134L14.8256 8.20986L17.4649 5.57051L16.6164 4.72198ZM13.3021 6.68637C14.2723 5.71612 15.6467 5.39501 16.8859 5.72593L17.1955 4.56656C15.5595 4.12966 13.7389 4.55245 12.4535 5.83784L13.3021 6.68637ZM12.401 10.4697C11.9779 9.18109 12.2794 7.70907 13.3021 6.68637L12.4535 5.83784C11.0985 7.19284 10.7021 9.14218 11.2608 10.844L12.401 10.4697ZM11.4066 10.2326L5.21498 16.4242L6.06351 17.2727L12.2552 11.0811L11.4066 10.2326ZM5.21498 16.4242C4.12834 17.5109 4.12834 19.2727 5.21498 20.3593L6.06351 19.5108C5.4455 18.8928 5.4455 17.8908 6.06351 17.2727L5.21498 16.4242ZM5.21498 20.3593C6.30163 21.446 8.06343 21.446 9.15007 20.3593L8.30155 19.5108C7.68353 20.1288 6.68153 20.1288 6.06351 19.5108L5.21498 20.3593ZM9.15007 20.3593L15.5426 13.9668L14.6941 13.1182L8.30155 19.5108L9.15007 20.3593ZM18.5475 11.9318C17.6463 12.8331 16.3968 13.1742 15.2301 12.953L15.0066 14.132C16.5466 14.4239 18.2023 13.9741 19.3961 12.7804L18.5475 11.9318ZM19.508 8.34804C19.8389 9.58721 19.5178 10.9616 18.5475 11.9318L19.3961 12.7804C20.6815 11.495 21.1043 9.67445 20.6674 8.03843L19.508 8.34804ZM17.8726 11.2569L20.5119 8.6175L19.6634 7.76898L17.024 10.4083L17.8726 11.2569ZM14.8575 10.8167L17.3058 11.4154L17.5908 10.2498L15.1426 9.65106L14.8575 10.8167ZM13.8185 7.92813L14.4172 10.3764L15.5829 10.0914L14.9841 7.64307L13.8185 7.92813Z",fill:"currentColor"})})}),a0t={"access-denied":Dv,activity:mmt,"add-circle":IW,add:Qa,api:gmt,archive:vmt,"arrow-down":dMe,"arrow-left":eQ,"arrow-right":fMe,"arrow-top-right":ymt,"arrow-up":bmt,"bar-chart":xmt,basket:wmt,bell:_mt,bill:Cmt,"binary-document":AC,"block-content":hMe,"block-element":pMe,blockquote:Emt,bold:mMe,book:Smt,bottle:Tmt,"bulb-filled":kmt,"bulb-outline":f7,calendar:U1,case:Amt,"chart-upward":Imt,"checkmark-circle":tQ,checkmark:Uf,"chevron-down":_0,"chevron-left":h7,"chevron-right":nw,"chevron-up":gMe,circle:Dmt,clipboard:nQ,"clipboard-image":Rmt,clock:p7,"close-circle":jmt,close:Rd,"code-block":vMe,code:yMe,cog:H3,collapse:bMe,"color-wheel":Omt,comment:Lmt,component:Pmt,compose:mx,controls:m7,copy:Ox,"credit-card":Mmt,crop:rQ,dashboard:$mt,database:Fmt,desktop:xMe,document:Rv,"document-pdf":Bmt,"document-remove":Nmt,"document-sheet":Vmt,"document-text":Umt,"document-video":wMe,"document-word":Hmt,"document-zip":zmt,documents:iQ,dot:Wmt,"double-chevron-down":Gmt,"double-chevron-left":qmt,"double-chevron-right":Ymt,"double-chevron-up":Kmt,download:sQ,"drag-handle":_Me,drop:Zmt,"earth-americas":CMe,"earth-globe":Xmt,edit:Ph,"ellipsis-horizontal":Qmt,"ellipsis-vertical":ll,enter:Jmt,"enter-right":egt,envelope:tgt,equal:ngt,"error-filled":rgt,"error-outline":Yu,expand:EMe,"eye-closed":igt,"eye-open":oQ,filter:sgt,folder:ogt,generate:agt,groq:lgt,"heart-filled":ugt,heart:cgt,"help-circle":M_,home:dgt,"ice-cream":fgt,image:Mh,"image-remove":hgt,images:pgt,"info-filled":mgt,"info-outline":rw,"inline-element":SMe,inline:ggt,"insert-above":TMe,"insert-below":kMe,italic:AMe,joystick:vgt,launch:z3,leave:aQ,lemon:ygt,link:Lx,"link-removed":bgt,lock:aP,"logo-js":xgt,"logo-ts":wgt,"master-detail":IMe,menu:DMe,"mobile-device":_gt,moon:RMe,number:jMe,"ok-hand":Cgt,olist:OMe,overage:Egt,package:Sgt,pause:Tgt,pin:kgt,"pin-removed":Agt,play:LMe,plug:W3,presentation:Igt,publish:IC,"read-only":lQ,"remove-circle":Dgt,remove:lP,reset:pm,restore:uQ,retrieve:Rgt,retry:jgt,revert:g7,robot:PMe,rocket:Ogt,schema:Lgt,search:nl,select:C0,share:Pgt,sort:v7,sparkle:Mgt,sparkles:$gt,spinner:y7,"split-horizontal":Fgt,"split-vertical":Bgt,square:Ngt,"stack-compact":MMe,stack:$Me,star:Vgt,stop:Ugt,strikethrough:FMe,string:O2,sun:BMe,sync:b7,tag:Hgt,tags:zgt,terminal:Wgt,"th-large":Ggt,"th-list":qgt,tiers:Ygt,"toggle-arrow-right":x7,token:Kgt,transfer:Zgt,translate:Xgt,trash:Qo,"trend-upward":Qgt,"triangle-outline":Jgt,trolley:e0t,truncate:t0t,twitter:n0t,ulist:rk,underline:NMe,undo:DW,unknown:kh,unlock:r0t,unpublish:uP,upload:DC,user:i0t,users:w7,"warning-filled":s0t,"warning-outline":vo,wrench:o0t};m.forwardRef(function(e,n){const{symbol:r,...i}=e,s=a0t[r];return s?m.createElement(s,{...i,ref:n}):null});var VMe={exports:{}},l0t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",u0t=l0t,c0t=u0t;function UMe(){}function HMe(){}HMe.resetWarningCache=UMe;var d0t=function(){function t(r,i,s,o,a,l){if(l!==c0t){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:HMe,resetWarningCache:UMe};return n.PropTypes=n,n};VMe.exports=d0t();var zMe=VMe.exports;const wr=vt(zMe);var f0t=p0t,h0t=Object.prototype.hasOwnProperty;function p0t(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var r in n)h0t.call(n,r)&&(t[r]=n[r])}return t}var WMe=GMe,cQ=GMe.prototype;cQ.space=null;cQ.normal={};cQ.property={};function GMe(t,e,n){this.property=t,this.normal=e,n&&(this.space=n)}var yue=f0t,m0t=WMe,g0t=v0t;function v0t(t){for(var e=t.length,n=[],r=[],i=-1,s,o;++i<e;)s=t[i],n.push(s.property),r.push(s.normal),o=s.space;return new m0t(yue.apply(null,n),yue.apply(null,r),o)}var dQ=y0t;function y0t(t){return t.toLowerCase()}var qMe=YMe,Hf=YMe.prototype;Hf.space=null;Hf.attribute=null;Hf.property=null;Hf.boolean=!1;Hf.booleanish=!1;Hf.overloadedBoolean=!1;Hf.number=!1;Hf.commaSeparated=!1;Hf.spaceSeparated=!1;Hf.commaOrSpaceSeparated=!1;Hf.mustUseProperty=!1;Hf.defined=!1;function YMe(t,e){this.property=t,this.attribute=e}var Em={},b0t=0;Em.boolean=iw();Em.booleanish=iw();Em.overloadedBoolean=iw();Em.number=iw();Em.spaceSeparated=iw();Em.commaSeparated=iw();Em.commaOrSpaceSeparated=iw();function iw(){return Math.pow(2,++b0t)}var KMe=qMe,bue=Em,ZMe=fQ;fQ.prototype=new KMe;fQ.prototype.defined=!0;var XMe=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],x0t=XMe.length;function fQ(t,e,n,r){var i=-1,s;for(xue(this,"space",r),KMe.call(this,t,e);++i<x0t;)s=XMe[i],xue(this,s,(n&bue[s])===bue[s])}function xue(t,e,n){n&&(t[e]=n)}var wue=dQ,w0t=WMe,_0t=ZMe,G3=C0t;function C0t(t){var e=t.space,n=t.mustUseProperty||[],r=t.attributes||{},i=t.properties,s=t.transform,o={},a={},l,u;for(l in i)u=new _0t(l,s(r,l),i[l],e),n.indexOf(l)!==-1&&(u.mustUseProperty=!0),o[l]=u,a[wue(l)]=l,a[wue(u.attribute)]=l;return new w0t(o,a,e)}var E0t=G3,S0t=E0t({space:"xlink",transform:T0t,properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}});function T0t(t,e){return"xlink:"+e.slice(5).toLowerCase()}var k0t=G3,A0t=k0t({space:"xml",transform:I0t,properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function I0t(t,e){return"xml:"+e.slice(3).toLowerCase()}var D0t=R0t;function R0t(t,e){return e in t?t[e]:e}var j0t=D0t,QMe=O0t;function O0t(t,e){return j0t(t,e.toLowerCase())}var L0t=G3,P0t=QMe,M0t=L0t({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:P0t,properties:{xmlns:null,xmlnsXLink:null}}),hQ=Em,$0t=G3,dc=hQ.booleanish,Yd=hQ.number,Zy=hQ.spaceSeparated,F0t=$0t({transform:B0t,properties:{ariaActiveDescendant:null,ariaAtomic:dc,ariaAutoComplete:null,ariaBusy:dc,ariaChecked:dc,ariaColCount:Yd,ariaColIndex:Yd,ariaColSpan:Yd,ariaControls:Zy,ariaCurrent:null,ariaDescribedBy:Zy,ariaDetails:null,ariaDisabled:dc,ariaDropEffect:Zy,ariaErrorMessage:null,ariaExpanded:dc,ariaFlowTo:Zy,ariaGrabbed:dc,ariaHasPopup:null,ariaHidden:dc,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Zy,ariaLevel:Yd,ariaLive:null,ariaModal:dc,ariaMultiLine:dc,ariaMultiSelectable:dc,ariaOrientation:null,ariaOwns:Zy,ariaPlaceholder:null,ariaPosInSet:Yd,ariaPressed:dc,ariaReadOnly:dc,ariaRelevant:null,ariaRequired:dc,ariaRoleDescription:Zy,ariaRowCount:Yd,ariaRowIndex:Yd,ariaRowSpan:Yd,ariaSelected:dc,ariaSetSize:Yd,ariaSort:null,ariaValueMax:Yd,ariaValueMin:Yd,ariaValueNow:Yd,ariaValueText:null,role:null}});function B0t(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}var RC=Em,N0t=G3,V0t=QMe,xr=RC.boolean,U0t=RC.overloadedBoolean,aS=RC.booleanish,Ts=RC.number,Tu=RC.spaceSeparated,CR=RC.commaSeparated,H0t=N0t({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:V0t,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:CR,acceptCharset:Tu,accessKey:Tu,action:null,allow:null,allowFullScreen:xr,allowPaymentRequest:xr,allowUserMedia:xr,alt:null,as:null,async:xr,autoCapitalize:null,autoComplete:Tu,autoFocus:xr,autoPlay:xr,capture:xr,charSet:null,checked:xr,cite:null,className:Tu,cols:Ts,colSpan:null,content:null,contentEditable:aS,controls:xr,controlsList:Tu,coords:Ts|CR,crossOrigin:null,data:null,dateTime:null,decoding:null,default:xr,defer:xr,dir:null,dirName:null,disabled:xr,download:U0t,draggable:aS,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:xr,formTarget:null,headers:Tu,height:Ts,hidden:xr,high:Ts,href:null,hrefLang:null,htmlFor:Tu,httpEquiv:Tu,id:null,imageSizes:null,imageSrcSet:CR,inputMode:null,integrity:null,is:null,isMap:xr,itemId:null,itemProp:Tu,itemRef:Tu,itemScope:xr,itemType:Tu,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:xr,low:Ts,manifest:null,max:null,maxLength:Ts,media:null,method:null,min:null,minLength:Ts,multiple:xr,muted:xr,name:null,nonce:null,noModule:xr,noValidate:xr,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:xr,optimum:Ts,pattern:null,ping:Tu,placeholder:null,playsInline:xr,poster:null,preload:null,readOnly:xr,referrerPolicy:null,rel:Tu,required:xr,reversed:xr,rows:Ts,rowSpan:Ts,sandbox:Tu,scope:null,scoped:xr,seamless:xr,selected:xr,shape:null,size:Ts,sizes:null,slot:null,span:Ts,spellCheck:aS,src:null,srcDoc:null,srcLang:null,srcSet:CR,start:Ts,step:null,style:null,tabIndex:Ts,target:null,title:null,translate:null,type:null,typeMustMatch:xr,useMap:null,value:aS,width:Ts,wrap:null,align:null,aLink:null,archive:Tu,axis:null,background:null,bgColor:null,border:Ts,borderColor:null,bottomMargin:Ts,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:xr,declare:xr,event:null,face:null,frame:null,frameBorder:null,hSpace:Ts,leftMargin:Ts,link:null,longDesc:null,lowSrc:null,marginHeight:Ts,marginWidth:Ts,noResize:xr,noHref:xr,noShade:xr,noWrap:xr,object:null,profile:null,prompt:null,rev:null,rightMargin:Ts,rules:null,scheme:null,scrolling:aS,standby:null,summary:null,text:null,topMargin:Ts,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ts,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:xr,disableRemotePlayback:xr,prefix:null,property:null,results:Ts,security:null,unselectable:null}}),z0t=g0t,W0t=S0t,G0t=A0t,q0t=M0t,Y0t=F0t,K0t=H0t,Z0t=z0t([G0t,W0t,q0t,Y0t,K0t]),X0t=dQ,Q0t=ZMe,J0t=qMe,pQ="data",e1t=r1t,t1t=/^data[-\w.:]+$/i,JMe=/-[a-z]/g,n1t=/[A-Z]/g;function r1t(t,e){var n=X0t(e),r=e,i=J0t;return n in t.normal?t.property[t.normal[n]]:(n.length>4&&n.slice(0,4)===pQ&&t1t.test(e)&&(e.charAt(4)==="-"?r=i1t(e):e=s1t(e),i=Q0t),new i(r,e))}function i1t(t){var e=t.slice(5).replace(JMe,a1t);return pQ+e.charAt(0).toUpperCase()+e.slice(1)}function s1t(t){var e=t.slice(4);return JMe.test(e)?t:(e=e.replace(n1t,o1t),e.charAt(0)!=="-"&&(e="-"+e),pQ+e)}function o1t(t){return"-"+t.toLowerCase()}function a1t(t){return t.charAt(1).toUpperCase()}var l1t=u1t,_ue=/[#.]/g;function u1t(t,e){for(var n=t||"",r=e||"div",i={},s=0,o,a,l;s<n.length;)_ue.lastIndex=s,l=_ue.exec(n),o=n.slice(s,l?l.index:n.length),o&&(a?a==="#"?i.id=o:i.className?i.className.push(o):i.className=[o]:r=o,s+=o.length),l&&(a=l[0],s++);return{type:"element",tagName:r,properties:i,children:[]}}var mQ={};mQ.parse=f1t;mQ.stringify=h1t;var Cue="",c1t=" ",d1t=/[ \t\n\r\f]+/g;function f1t(t){var e=String(t||Cue).trim();return e===Cue?[]:e.split(d1t)}function h1t(t){return t.join(c1t).trim()}var gQ={};gQ.parse=p1t;gQ.stringify=m1t;var RW=",",Eue=" ",yT="";function p1t(t){for(var e=[],n=String(t||yT),r=n.indexOf(RW),i=0,s=!1,o;!s;)r===-1&&(r=n.length,s=!0),o=n.slice(i,r).trim(),(o||!s)&&e.push(o),i=r+1,r=n.indexOf(RW,i);return e}function m1t(t,e){var n=e||{},r=n.padLeft===!1?yT:Eue,i=n.padRight?Eue:yT;return t[t.length-1]===yT&&(t=t.concat(yT)),t.join(i+RW+r).trim()}var g1t=e1t,Sue=dQ,v1t=l1t,Tue=mQ.parse,kue=gQ.parse,y1t=x1t,b1t={}.hasOwnProperty;function x1t(t,e,n){var r=n?S1t(n):null;return i;function i(o,a){var l=v1t(o,e),u=Array.prototype.slice.call(arguments,2),d=l.tagName.toLowerCase(),f;if(l.tagName=r&&b1t.call(r,d)?r[d]:d,a&&w1t(a,l)&&(u.unshift(a),a=null),a)for(f in a)s(l.properties,f,a[f]);return e6e(l.children,u),l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}function s(o,a,l){var u,d,f;l==null||l!==l||(u=g1t(t,a),d=u.property,f=l,typeof f=="string"&&(u.spaceSeparated?f=Tue(f):u.commaSeparated?f=kue(f):u.commaOrSpaceSeparated&&(f=Tue(kue(f).join(" ")))),d==="style"&&typeof l!="string"&&(f=E1t(f)),d==="className"&&o.className&&(f=o.className.concat(f)),o[d]=C1t(u,d,f))}}function w1t(t,e){return typeof t=="string"||"length"in t||_1t(e.tagName,t)}function _1t(t,e){var n=e.type;return t==="input"||!n||typeof n!="string"?!1:typeof e.children=="object"&&"length"in e.children?!0:(n=n.toLowerCase(),t==="button"?n!=="menu"&&n!=="submit"&&n!=="reset"&&n!=="button":"value"in e)}function e6e(t,e){var n,r;if(typeof e=="string"||typeof e=="number"){t.push({type:"text",value:String(e)});return}if(typeof e=="object"&&"length"in e){for(n=-1,r=e.length;++n<r;)e6e(t,e[n]);return}if(typeof e!="object"||!("type"in e))throw new Error("Expected node, nodes, or string, got `"+e+"`");t.push(e)}function C1t(t,e,n){var r,i,s;if(typeof n!="object"||!("length"in n))return Aue(t,e,n);for(i=n.length,r=-1,s=[];++r<i;)s[r]=Aue(t,e,n[r]);return s}function Aue(t,e,n){var r=n;return t.number||t.positiveNumber?!isNaN(r)&&r!==""&&(r=Number(r)):(t.boolean||t.overloadedBoolean)&&typeof r=="string"&&(r===""||Sue(n)===Sue(e))&&(r=!0),r}function E1t(t){var e=[],n;for(n in t)e.push([n,t[n]].join(": "));return e.join("; ")}function S1t(t){for(var e=t.length,n=-1,r={},i;++n<e;)i=t[n],r[i.toLowerCase()]=i;return r}var T1t=Z0t,k1t=y1t,t6e=k1t(T1t,"div");t6e.displayName="html";var A1t=t6e,I1t=A1t;const D1t="",R1t="&",j1t="",O1t="",L1t="",P1t="",M1t="",$1t="",F1t="",B1t="",N1t="",V1t="",U1t="",H1t="",z1t="",W1t=">",G1t="",q1t="",Y1t="",K1t="",Z1t="<",X1t="",Q1t="",J1t="",evt="",tvt="",nvt="",rvt="",ivt='"',svt="",ovt="",avt="",lvt="",uvt="",cvt="",dvt="",fvt="",hvt="",pvt="",mvt="",gvt="",vvt="&",yvt="",bvt="",xvt="",wvt="",_vt="",Cvt="",Evt="",Svt="",Tvt="",kvt="",Avt="",Ivt="",Dvt="",Rvt="",jvt="",Ovt="",Lvt="",Pvt="",Mvt="",$vt=">",Fvt="",Bvt="",Nvt="",Vvt="",Uvt="",Hvt="",zvt="",Wvt="<",Gvt="",qvt="",Yvt="",Kvt="",Zvt="",Xvt="",Qvt="",Jvt="",eyt="",tyt="",nyt="",ryt="",iyt="",syt="",oyt="",ayt="",lyt="",uyt='"',cyt="",dyt="",fyt="",hyt="",pyt="",myt="",gyt="",vyt="",yyt="",byt="",xyt="",wyt="",_yt="",Cyt="",Eyt="",Syt="",Tyt="",kyt="",Ayt={AElig:D1t,AMP:R1t,Aacute:j1t,Acirc:O1t,Agrave:L1t,Aring:P1t,Atilde:M1t,Auml:$1t,COPY:F1t,Ccedil:B1t,ETH:N1t,Eacute:V1t,Ecirc:U1t,Egrave:H1t,Euml:z1t,GT:W1t,Iacute:G1t,Icirc:q1t,Igrave:Y1t,Iuml:K1t,LT:Z1t,Ntilde:X1t,Oacute:Q1t,Ocirc:J1t,Ograve:evt,Oslash:tvt,Otilde:nvt,Ouml:rvt,QUOT:ivt,REG:svt,THORN:ovt,Uacute:avt,Ucirc:lvt,Ugrave:uvt,Uuml:cvt,Yacute:dvt,aacute:fvt,acirc:hvt,acute:pvt,aelig:mvt,agrave:gvt,amp:vvt,aring:yvt,atilde:bvt,auml:xvt,brvbar:wvt,ccedil:_vt,cedil:Cvt,cent:Evt,copy:Svt,curren:Tvt,deg:kvt,divide:Avt,eacute:Ivt,ecirc:Dvt,egrave:Rvt,eth:jvt,euml:Ovt,frac12:Lvt,frac14:Pvt,frac34:Mvt,gt:$vt,iacute:Fvt,icirc:Bvt,iexcl:Nvt,igrave:Vvt,iquest:Uvt,iuml:Hvt,laquo:zvt,lt:Wvt,macr:Gvt,micro:qvt,middot:Yvt,nbsp:Kvt,not:Zvt,ntilde:Xvt,oacute:Qvt,ocirc:Jvt,ograve:eyt,ordf:tyt,ordm:nyt,oslash:ryt,otilde:iyt,ouml:syt,para:oyt,plusmn:ayt,pound:lyt,quot:uyt,raquo:cyt,reg:dyt,sect:fyt,shy:hyt,sup1:pyt,sup2:myt,sup3:gyt,szlig:vyt,thorn:yyt,times:byt,uacute:xyt,ucirc:wyt,ugrave:_yt,uml:Cyt,uuml:Eyt,yacute:Syt,yen:Tyt,yuml:kyt},Iyt={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};var n6e=Dyt;function Dyt(t){var e=typeof t=="string"?t.charCodeAt(0):t;return e>=48&&e<=57}var Ryt=jyt;function jyt(t){var e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=102||e>=65&&e<=70||e>=48&&e<=57}var Oyt=Lyt;function Lyt(t){var e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=122||e>=65&&e<=90}var Pyt=Oyt,Myt=n6e,$yt=Fyt;function Fyt(t){return Pyt(t)||Myt(t)}var ER,Byt=59,Nyt=Vyt;function Vyt(t){var e="&"+t+";",n;return ER=ER||document.createElement("i"),ER.innerHTML=e,n=ER.textContent,n.charCodeAt(n.length-1)===Byt&&t!=="semi"||n===e?!1:n}var Iue=Ayt,Due=Iyt,Uyt=n6e,Hyt=Ryt,r6e=$yt,zyt=Nyt,Wyt=ibt,Gyt={}.hasOwnProperty,e2=String.fromCharCode,qyt=Function.prototype,Rue={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},Yyt=9,jue=10,Kyt=12,Zyt=32,Oue=38,Xyt=59,Qyt=60,Jyt=61,ebt=35,tbt=88,nbt=120,rbt=65533,L2="named",vQ="hexadecimal",yQ="decimal",bQ={};bQ[vQ]=16;bQ[yQ]=10;var _7={};_7[L2]=r6e;_7[yQ]=Uyt;_7[vQ]=Hyt;var i6e=1,s6e=2,o6e=3,a6e=4,l6e=5,jW=6,u6e=7,oy={};oy[i6e]="Named character references must be terminated by a semicolon";oy[s6e]="Numeric character references must be terminated by a semicolon";oy[o6e]="Named character references cannot be empty";oy[a6e]="Numeric character references cannot be empty";oy[l6e]="Named character references must be known";oy[jW]="Numeric character references cannot be disallowed";oy[u6e]="Numeric character references cannot be outside the permissible Unicode range";function ibt(t,e){var n={},r,i;e||(e={});for(i in Rue)r=e[i],n[i]=r??Rue[i];return(n.position.indent||n.position.start)&&(n.indent=n.position.indent||[],n.position=n.position.start),sbt(t,n)}function sbt(t,e){var n=e.additional,r=e.nonTerminated,i=e.text,s=e.reference,o=e.warning,a=e.textContext,l=e.referenceContext,u=e.warningContext,d=e.position,f=e.indent||[],h=t.length,p=0,g=-1,v=d.column||1,y=d.line||1,x="",b=[],_,C,S,T,A,k,I,D,R,O,L,P,$,B,Q,V,Z,ie,J;for(typeof n=="string"&&(n=n.charCodeAt(0)),V=X(),D=o?fe:qyt,p--,h++;++p<h;)if(A===jue&&(v=f[g]||1),A=t.charCodeAt(p),A===Oue){if(I=t.charCodeAt(p+1),I===Yyt||I===jue||I===Kyt||I===Zyt||I===Oue||I===Qyt||I!==I||n&&I===n){x+=e2(A),v++;continue}for($=p+1,P=$,J=$,I===ebt?(J=++P,I=t.charCodeAt(J),I===tbt||I===nbt?(B=vQ,J=++P):B=yQ):B=L2,_="",L="",T="",Q=_7[B],J--;++J<h&&(I=t.charCodeAt(J),!!Q(I));)T+=e2(I),B===L2&&Gyt.call(Iue,T)&&(_=T,L=Iue[T]);S=t.charCodeAt(J)===Xyt,S&&(J++,C=B===L2?zyt(T):!1,C&&(_=T,L=C)),ie=1+J-$,!S&&!r||(T?B===L2?(S&&!L?D(l6e,1):(_!==T&&(J=P+_.length,ie=1+J-P,S=!1),S||(R=_?i6e:o6e,e.attribute?(I=t.charCodeAt(J),I===Jyt?(D(R,ie),L=null):r6e(I)?L=null:D(R,ie)):D(R,ie))),k=L):(S||D(s6e,ie),k=parseInt(T,bQ[B]),obt(k)?(D(u6e,ie),k=e2(rbt)):k in Due?(D(jW,ie),k=Due[k]):(O="",abt(k)&&D(jW,ie),k>65535&&(k-=65536,O+=e2(k>>>10|55296),k=56320|k&1023),k=O+e2(k))):B!==L2&&D(a6e,ie)),k?(ue(),V=X(),p=J-1,v+=J-$+1,b.push(k),Z=X(),Z.offset++,s&&s.call(l,k,{start:V,end:Z},t.slice($-1,J)),V=Z):(T=t.slice($-1,J),x+=T,v+=T.length,p=J-1)}else A===10&&(y++,g++,v=0),A===A?(x+=e2(A),v++):ue();return b.join("");function X(){return{line:y,column:v,offset:p+(d.offset||0)}}function fe(te,F){var ne=X();ne.column+=F,ne.offset+=F,o.call(u,oy[te],ne,te)}function ue(){x&&(b.push(x),i&&i.call(a,x,{start:V,end:X()}),x="")}}function obt(t){return t>=55296&&t<=57343||t>1114111}function abt(t){return t>=1&&t<=8||t===11||t>=13&&t<=31||t>=127&&t<=159||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534}var c6e={exports:{}};(function(t){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,s=0,o={},a={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function b(_){return _ instanceof l?new l(_.type,b(_.content),_.alias):Array.isArray(_)?_.map(b):_.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(b){return Object.prototype.toString.call(b).slice(8,-1)},objId:function(b){return b.__id||Object.defineProperty(b,"__id",{value:++s}),b.__id},clone:function b(_,C){C=C||{};var S,T;switch(a.util.type(_)){case"Object":if(T=a.util.objId(_),C[T])return C[T];S={},C[T]=S;for(var A in _)_.hasOwnProperty(A)&&(S[A]=b(_[A],C));return S;case"Array":return T=a.util.objId(_),C[T]?C[T]:(S=[],C[T]=S,_.forEach(function(k,I){S[I]=b(k,C)}),S);default:return _}},getLanguage:function(b){for(;b;){var _=i.exec(b.className);if(_)return _[1].toLowerCase();b=b.parentElement}return"none"},setLanguage:function(b,_){b.className=b.className.replace(RegExp(i,"gi"),""),b.classList.add("language-"+_)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(S){var b=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(S.stack)||[])[1];if(b){var _=document.getElementsByTagName("script");for(var C in _)if(_[C].src==b)return _[C]}return null}},isActive:function(b,_,C){for(var S="no-"+_;b;){var T=b.classList;if(T.contains(_))return!0;if(T.contains(S))return!1;b=b.parentElement}return!!C}},languages:{plain:o,plaintext:o,text:o,txt:o,extend:function(b,_){var C=a.util.clone(a.languages[b]);for(var S in _)C[S]=_[S];return C},insertBefore:function(b,_,C,S){S=S||a.languages;var T=S[b],A={};for(var k in T)if(T.hasOwnProperty(k)){if(k==_)for(var I in C)C.hasOwnProperty(I)&&(A[I]=C[I]);C.hasOwnProperty(k)||(A[k]=T[k])}var D=S[b];return S[b]=A,a.languages.DFS(a.languages,function(R,O){O===D&&R!=b&&(this[R]=A)}),A},DFS:function b(_,C,S,T){T=T||{};var A=a.util.objId;for(var k in _)if(_.hasOwnProperty(k)){C.call(_,k,_[k],S||k);var I=_[k],D=a.util.type(I);D==="Object"&&!T[A(I)]?(T[A(I)]=!0,b(I,C,null,T)):D==="Array"&&!T[A(I)]&&(T[A(I)]=!0,b(I,C,k,T))}}},plugins:{},highlightAll:function(b,_){a.highlightAllUnder(document,b,_)},highlightAllUnder:function(b,_,C){var S={callback:C,container:b,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",S),S.elements=Array.prototype.slice.apply(S.container.querySelectorAll(S.selector)),a.hooks.run("before-all-elements-highlight",S);for(var T=0,A;A=S.elements[T++];)a.highlightElement(A,_===!0,S.callback)},highlightElement:function(b,_,C){var S=a.util.getLanguage(b),T=a.languages[S];a.util.setLanguage(b,S);var A=b.parentElement;A&&A.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(A,S);var k=b.textContent,I={element:b,language:S,grammar:T,code:k};function D(O){I.highlightedCode=O,a.hooks.run("before-insert",I),I.element.innerHTML=I.highlightedCode,a.hooks.run("after-highlight",I),a.hooks.run("complete",I),C&&C.call(I.element)}if(a.hooks.run("before-sanity-check",I),A=I.element.parentElement,A&&A.nodeName.toLowerCase()==="pre"&&!A.hasAttribute("tabindex")&&A.setAttribute("tabindex","0"),!I.code){a.hooks.run("complete",I),C&&C.call(I.element);return}if(a.hooks.run("before-highlight",I),!I.grammar){D(a.util.encode(I.code));return}if(_&&r.Worker){var R=new Worker(a.filename);R.onmessage=function(O){D(O.data)},R.postMessage(JSON.stringify({language:I.language,code:I.code,immediateClose:!0}))}else D(a.highlight(I.code,I.grammar,I.language))},highlight:function(b,_,C){var S={code:b,grammar:_,language:C};if(a.hooks.run("before-tokenize",S),!S.grammar)throw new Error('The language "'+S.language+'" has no grammar.');return S.tokens=a.tokenize(S.code,S.grammar),a.hooks.run("after-tokenize",S),l.stringify(a.util.encode(S.tokens),S.language)},tokenize:function(b,_){var C=_.rest;if(C){for(var S in C)_[S]=C[S];delete _.rest}var T=new f;return h(T,T.head,b),d(b,T,_,T.head,0),g(T)},hooks:{all:{},add:function(b,_){var C=a.hooks.all;C[b]=C[b]||[],C[b].push(_)},run:function(b,_){var C=a.hooks.all[b];if(!(!C||!C.length))for(var S=0,T;T=C[S++];)T(_)}},Token:l};r.Prism=a;function l(b,_,C,S){this.type=b,this.content=_,this.alias=C,this.length=(S||"").length|0}l.stringify=function b(_,C){if(typeof _=="string")return _;if(Array.isArray(_)){var S="";return _.forEach(function(D){S+=b(D,C)}),S}var T={type:_.type,content:b(_.content,C),tag:"span",classes:["token",_.type],attributes:{},language:C},A=_.alias;A&&(Array.isArray(A)?Array.prototype.push.apply(T.classes,A):T.classes.push(A)),a.hooks.run("wrap",T);var k="";for(var I in T.attributes)k+=" "+I+'="'+(T.attributes[I]||"").replace(/"/g,"&quot;")+'"';return"<"+T.tag+' class="'+T.classes.join(" ")+'"'+k+">"+T.content+"</"+T.tag+">"};function u(b,_,C,S){b.lastIndex=_;var T=b.exec(C);if(T&&S&&T[1]){var A=T[1].length;T.index+=A,T[0]=T[0].slice(A)}return T}function d(b,_,C,S,T,A){for(var k in C)if(!(!C.hasOwnProperty(k)||!C[k])){var I=C[k];I=Array.isArray(I)?I:[I];for(var D=0;D<I.length;++D){if(A&&A.cause==k+","+D)return;var R=I[D],O=R.inside,L=!!R.lookbehind,P=!!R.greedy,$=R.alias;if(P&&!R.pattern.global){var B=R.pattern.toString().match(/[imsuy]*$/)[0];R.pattern=RegExp(R.pattern.source,B+"g")}for(var Q=R.pattern||R,V=S.next,Z=T;V!==_.tail&&!(A&&Z>=A.reach);Z+=V.value.length,V=V.next){var ie=V.value;if(_.length>b.length)return;if(!(ie instanceof l)){var J=1,X;if(P){if(X=u(Q,Z,b,L),!X||X.index>=b.length)break;var F=X.index,fe=X.index+X[0].length,ue=Z;for(ue+=V.value.length;F>=ue;)V=V.next,ue+=V.value.length;if(ue-=V.value.length,Z=ue,V.value instanceof l)continue;for(var te=V;te!==_.tail&&(ue<fe||typeof te.value=="string");te=te.next)J++,ue+=te.value.length;J--,ie=b.slice(Z,ue),X.index-=Z}else if(X=u(Q,0,ie,L),!X)continue;var F=X.index,ne=X[0],ce=ie.slice(0,F),me=ie.slice(F+ne.length),pe=Z+ie.length;A&&pe>A.reach&&(A.reach=pe);var Ie=V.prev;ce&&(Ie=h(_,Ie,ce),Z+=ce.length),p(_,Ie,J);var xe=new l(k,O?a.tokenize(ne,O):ne,$,ne);if(V=h(_,Ie,xe),me&&h(_,V,me),J>1){var Pe={cause:k+","+D,reach:pe};d(b,_,C,V.prev,Z,Pe),A&&Pe.reach>A.reach&&(A.reach=Pe.reach)}}}}}}function f(){var b={value:null,prev:null,next:null},_={value:null,prev:b,next:null};b.next=_,this.head=b,this.tail=_,this.length=0}function h(b,_,C){var S=_.next,T={value:C,prev:_,next:S};return _.next=T,S.prev=T,b.length++,T}function p(b,_,C){for(var S=_.next,T=0;T<C&&S!==b.tail;T++)S=S.next;_.next=S,S.prev=_,b.length-=T}function g(b){for(var _=[],C=b.head.next;C!==b.tail;)_.push(C.value),C=C.next;return _}if(!r.document)return r.addEventListener&&(a.disableWorkerMessageHandler||r.addEventListener("message",function(b){var _=JSON.parse(b.data),C=_.language,S=_.code,T=_.immediateClose;r.postMessage(a.highlight(S,a.languages[C],C)),T&&r.close()},!1)),a;var v=a.util.currentScript();v&&(a.filename=v.src,v.hasAttribute("data-manual")&&(a.manual=!0));function y(){a.manual||a.highlightAll()}if(!a.manual){var x=document.readyState;x==="loading"||x==="interactive"&&v&&v.defer?document.addEventListener("DOMContentLoaded",y):window.requestAnimationFrame?window.requestAnimationFrame(y):window.setTimeout(y,16)}return a}(e);t.exports&&(t.exports=n),typeof co<"u"&&(co.Prism=n)})(c6e);var lbt=c6e.exports,ubt=xQ;xQ.displayName="markup";xQ.aliases=["html","mathml","svg","xml","ssml","atom","rss"];function xQ(t){t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(e){e.type==="entity"&&(e.attributes.title=e.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(n,r){var i={};i["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[r]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;var s={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};s["language-"+r]={pattern:/[\s\S]+/,inside:t.languages[r]};var o={};o[n]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return n}),"i"),lookbehind:!0,greedy:!0,inside:s},t.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(e,n){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:t.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml}var cbt=wQ;wQ.displayName="css";wQ.aliases=[];function wQ(t){(function(e){var n=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+n.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+n.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+n.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:n,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var r=e.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))})(t)}var dbt=_Q;_Q.displayName="clike";_Q.aliases=[];function _Q(t){t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}var d6e=CQ;CQ.displayName="javascript";CQ.aliases=["js"];function CQ(t){t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript}const fbt=vt(d6e);var bT=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof co=="object"?co:{},hbt=Ibt();bT.Prism={manual:!0,disableWorkerMessageHandler:!0};var pbt=I1t,mbt=Wyt,f6e=lbt,gbt=ubt,vbt=cbt,ybt=dbt,bbt=d6e;hbt();var EQ={}.hasOwnProperty;function h6e(){}h6e.prototype=f6e;var fa=new h6e,xbt=fa;fa.highlight=_bt;fa.register=q3;fa.alias=wbt;fa.registered=Cbt;fa.listLanguages=Ebt;q3(gbt);q3(vbt);q3(ybt);q3(bbt);fa.util.encode=kbt;fa.Token.stringify=Sbt;function q3(t){if(typeof t!="function"||!t.displayName)throw new Error("Expected `function` for `grammar`, got `"+t+"`");fa.languages[t.displayName]===void 0&&t(fa)}function wbt(t,e){var n=fa.languages,r=t,i,s,o,a;e&&(r={},r[t]=e);for(i in r)for(s=r[i],s=typeof s=="string"?[s]:s,o=s.length,a=-1;++a<o;)n[s[a]]=n[i]}function _bt(t,e){var n=f6e.highlight,r;if(typeof t!="string")throw new Error("Expected `string` for `value`, got `"+t+"`");if(fa.util.type(e)==="Object")r=e,e=null;else{if(typeof e!="string")throw new Error("Expected `string` for `name`, got `"+e+"`");if(EQ.call(fa.languages,e))r=fa.languages[e];else throw new Error("Unknown language: `"+e+"` is not registered")}return n.call(this,t,r,e)}function Cbt(t){if(typeof t!="string")throw new Error("Expected `string` for `language`, got `"+t+"`");return EQ.call(fa.languages,t)}function Ebt(){var t=fa.languages,e=[],n;for(n in t)EQ.call(t,n)&&typeof t[n]=="object"&&e.push(n);return e}function Sbt(t,e,n){var r;return typeof t=="string"?{type:"text",value:t}:fa.util.type(t)==="Array"?Tbt(t,e):(r={type:t.type,content:fa.Token.stringify(t.content,e,n),tag:"span",classes:["token",t.type],attributes:{},language:e,parent:n},t.alias&&(r.classes=r.classes.concat(t.alias)),fa.hooks.run("wrap",r),pbt(r.tag+"."+r.classes.join("."),Abt(r.attributes),r.content))}function Tbt(t,e){for(var n=[],r=t.length,i=-1,s;++i<r;)s=t[i],s!==""&&s!==null&&s!==void 0&&n.push(s);for(i=-1,r=n.length;++i<r;)s=n[i],n[i]=fa.Token.stringify(s,e,n);return n}function kbt(t){return t}function Abt(t){var e;for(e in t)t[e]=mbt(t[e]);return t}function Ibt(){var t="Prism"in bT,e=t?bT.Prism:void 0;return n;function n(){t?bT.Prism=e:delete bT.Prism,t=void 0,e=void 0}}var p6e={},Dbt=m;function Rbt(t,e,n){if(t.tagName){var r=t.properties&&Array.isArray(t.properties.className)?t.properties.className.join(" "):t.properties.className;return Dbt.createElement(t.tagName,Object.assign({key:"fract-".concat(n,"-").concat(e)},t.properties,{className:r}),t.children&&t.children.map(m6e(n+1)))}return t.value}function m6e(t){return function(n,r){return Rbt(n,r,t)}}p6e.depth=m6e;var g6e=v6e;function v6e(t){if(t==null)return Pbt;if(typeof t=="string")return Lbt(t);if(typeof t=="object")return"length"in t?Obt(t):jbt(t);if(typeof t=="function")return t;throw new Error("Expected function, string, or object as test")}function jbt(t){return e;function e(n){var r;for(r in t)if(n[r]!==t[r])return!1;return!0}}function Obt(t){for(var e=[],n=-1;++n<t.length;)e[n]=v6e(t[n]);return r;function r(){for(var i=-1;++i<e.length;)if(e[i].apply(this,arguments))return!0;return!1}}function Lbt(t){return e;function e(n){return!!(n&&n.type===t)}}function Pbt(){return!0}var Mbt=g6e,$bt=Bbt,Fbt={}.hasOwnProperty;function Bbt(t,e,n){var r=Mbt(n||e),i=e.cascade==null?!0:e.cascade;return s(t,null,null);function s(o,a,l){var u,d,f,h,p;if(!r(o,a,l))return null;if(o.children){for(u=[],d=-1;++d<o.children.length;)f=s(o.children[d],d,o),f&&u.push(f);if(i&&o.children.length&&!u.length)return null}h={};for(p in o)Fbt.call(o,p)&&(h[p]=p==="children"?u:o[p]);return h}}var Nbt=Vbt;function Vbt(t){return t}var Ubt=C7,Hbt=g6e,zbt=Nbt,y6e=!0,b6e="skip",OW=!1;C7.CONTINUE=y6e;C7.SKIP=b6e;C7.EXIT=OW;function C7(t,e,n,r){var i,s;typeof e=="function"&&typeof n!="function"&&(r=n,n=e,e=null),s=Hbt(e),i=r?-1:1,o(t,null,[])();function o(a,l,u){var d=typeof a=="object"&&a!==null?a:{},f;return typeof d.type=="string"&&(f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0,h.displayName="node ("+zbt(d.type+(f?"<"+f+">":""))+")"),h;function h(){var p=u.concat(a),g=[],v,y;if((!e||s(a,l,u[u.length-1]||null))&&(g=Wbt(n(a,u)),g[0]===OW))return g;if(a.children&&g[0]!==b6e)for(y=(r?a.children.length:-1)+i;y>-1&&y<a.children.length;){if(v=o(a.children[y],y,p)(),v[0]===OW)return v;y=typeof v[1]=="number"?v[1]:y+i}return g}}}function Wbt(t){return t!==null&&typeof t=="object"&&"length"in t?t:typeof t=="number"?[y6e,t]:[t]}var Gbt=typeof WeakMap=="function"?Y3:K3;function Y3(){this.map=new WeakMap}Y3.prototype.has=function(t){return this.map.has(t)};Y3.prototype.set=function(t,e){return this.map.set(t,e),this};Y3.prototype.get=function(t){return this.map.get(t)};Y3.prototype.clear=function(){};function K3(){this.keys=[],this.values=[]}K3.prototype.has=function(t){return this.keys.indexOf(t)!==-1};K3.prototype.set=function(t,e){var n=this.keys.indexOf(t);return n===-1?(this.keys.push(t),this.values.push(e)):this.values[n]=e,this};K3.prototype.get=function(t){var e=this.keys.indexOf(t);return e===-1?void 0:this.values[e]};K3.prototype.clear=function(){this.keys=[],this.values=[]};var qbt=$bt,Lue=Ubt,xN=Gbt;function x6e(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{lineNumber:1};return t.reduce(function(n,r){var i=e.lineNumber;if(r.type==="text"){if(r.value.indexOf(`
`)===-1)return r.lineStart=i,r.lineEnd=i,n.nodes.push(r),n;for(var s=r.value.split(`
`),o=0;o<s.length;o++){var a=o===0?e.lineNumber:++e.lineNumber;n.nodes.push({type:"text",value:o===s.length-1?s[o]:"".concat(s[o],`
`),lineStart:a,lineEnd:a})}return n.lineNumber=e.lineNumber,n}if(r.children){var l=x6e(r.children,e),u=l.nodes[0],d=l.nodes[l.nodes.length-1];return r.lineStart=u?u.lineStart:i,r.lineEnd=d?d.lineEnd:i,r.children=l.nodes,n.lineNumber=l.lineNumber,n.nodes.push(r),n}return n.nodes.push(r),n},{nodes:[],lineNumber:e.lineNumber})}function Ybt(t,e){var n={type:"root",children:e},r=new xN,i=new xN,s=new xN,o=[];function a(f,h,p){o.push(h),p.forEach(function(b){f.has(b)||(f.set(b,Object.assign({},b,{children:[]})),b!==n&&o.push(b))});for(var g=p.length;g--;){var v=f.get(p[g]),y=p[g+1],x=f.get(y)||h;v.children.indexOf(x)===-1&&v.children.push(x)}}Lue(n,function(f,h){if(!f.children){if(f.lineStart<t){a(r,f,h);return}if(f.lineStart===t){a(i,f,h);return}f.lineEnd>t&&o.some(function(p){return h.indexOf(p)!==-1})&&a(s,f,h)}});var l=qbt(n,function(f){return o.indexOf(f)===-1}),u=function(h){var p=h.get(n);return p?(Lue(p,function(g,v){if(g.children){g.lineStart=0,g.lineEnd=0;return}v.forEach(function(y){y.lineStart=Math.max(y.lineStart,g.lineStart),y.lineEnd=Math.max(y.lineEnd,g.lineEnd)})}),p.children):[]},d=[].concat(u(r),u(i),u(s),l?l.children:[]);return r.clear(),i.clear(),s.clear(),d}function Kbt(t,e,n){var r=e.className||"refractor-marker";return{type:"element",tagName:e.component||"div",properties:e.component?Object.assign({},n,{className:r}):{className:r},children:t,lineStart:e.line,lineEnd:t[t.length-1].lineEnd,isMarker:!0}}function Zbt(t,e,n){if(e.length===0||t.length===0)return t;for(var r=e.reduce(function(f,h){return Ybt(h.line,f)},t),i=[],s=0,o=0;o<e.length;o++){for(var a=e[o],l=r[s];l&&l.lineEnd<a.line;l=r[++s])i.push(l);for(var u=[],d=r[s];d&&d.lineEnd===a.line;d=r[++s])u.push(d);u.length>0&&i.push(Kbt(u,a,n))}for(;s<r.length;)i.push(r[s++]);return i}function Xbt(t,e){var n=e.markers.map(function(i){return i.line?i:{line:i}}).sort(function(i,s){return i.line-s.line}),r=x6e(t).nodes;return Zbt(r,n,e)}var Qbt=Xbt,Jbt=m,nd=zMe,SQ=xbt,ext=p6e,txt=Qbt,Pue=Jbt.createElement;function Z3(t){var e="language-".concat(t.language),n={className:e},r={className:[t.className,e].filter(Boolean).join(" ")};t.inline&&(n.style={display:"inline"},n.className=t.className);var i=SQ.highlight(t.value,t.language);t.markers&&t.markers.length>0&&(i=txt(i,{markers:t.markers}));var s=i.length===0?t.value:i.map(ext.depth(0)),o=Pue("code",n,s);return t.inline?o:Pue("pre",r,o)}Z3.propTypes={className:nd.string,inline:nd.bool,language:nd.string.isRequired,value:nd.string.isRequired,markers:nd.arrayOf(nd.oneOfType([nd.number,nd.shape({line:nd.number.isRequired,className:nd.string,component:nd.oneOfType([nd.node,nd.func])})]))};Z3.defaultProps={className:"refractor",inline:!1};Z3.registerLanguage=function(t){return SQ.register(t)};Z3.hasLanguage=function(t){return SQ.registered(t)};var nxt=Z3;const Px=vt(nxt),rxt=["top","right","bottom","left"],$_=Math.min,gx=Math.max,cP=Math.round,SR=Math.floor,jv=t=>({x:t,y:t}),ixt={left:"right",right:"left",bottom:"top",top:"bottom"},sxt={start:"end",end:"start"};function LW(t,e,n){return gx(t,$_(e,n))}function jC(t,e){return typeof t=="function"?t(e):t}function Mx(t){return t.split("-")[0]}function X3(t){return t.split("-")[1]}function w6e(t){return t==="x"?"y":"x"}function TQ(t){return t==="y"?"height":"width"}function E7(t){return["top","bottom"].includes(Mx(t))?"y":"x"}function kQ(t){return w6e(E7(t))}function oxt(t,e,n){n===void 0&&(n=!1);const r=X3(t),i=kQ(t),s=TQ(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=dP(o)),[o,dP(o)]}function axt(t){const e=dP(t);return[PW(t),e,PW(e)]}function PW(t){return t.replace(/start|end/g,e=>sxt[e])}function lxt(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function uxt(t,e,n,r){const i=X3(t);let s=lxt(Mx(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(PW)))),s}function dP(t){return t.replace(/left|right|bottom|top/g,e=>ixt[e])}function cxt(t){return{top:0,right:0,bottom:0,left:0,...t}}function _6e(t){return typeof t!="number"?cxt(t):{top:t,right:t,bottom:t,left:t}}function fP(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Mue(t,e,n){let{reference:r,floating:i}=t;const s=E7(e),o=kQ(e),a=TQ(o),l=Mx(e),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(X3(e)){case"start":p[o]-=h*(n&&u?-1:1);break;case"end":p[o]+=h*(n&&u?-1:1);break}return p}const dxt=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=Mue(u,r,l),h=r,p={},g=0;for(let v=0;v<a.length;v++){const{name:y,fn:x}=a[v],{x:b,y:_,data:C,reset:S}=await x({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:t,floating:e}});if(d=b??d,f=_??f,p={...p,[y]:{...p[y],...C}},S&&g<=50){g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):S.rects),{x:d,y:f}=Mue(u,h,l)),v=-1;continue}}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function tA(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=jC(e,t),g=_6e(p),y=a[h?f==="floating"?"reference":"floating":f],x=fP(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),b=f==="floating"?{...o.floating,x:r,y:i}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),C=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},S=fP(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:b,offsetParent:_,strategy:l}):b);return{top:(x.top-S.top+g.top)/C.y,bottom:(S.bottom-x.bottom+g.bottom)/C.y,left:(x.left-S.left+g.left)/C.x,right:(S.right-x.right+g.right)/C.x}}const $ue=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a}=e,{element:l,padding:u=0}=jC(t,e)||{};if(l==null)return{};const d=_6e(u),f={x:n,y:r},h=kQ(i),p=TQ(h),g=await o.getDimensions(l),v=h==="y",y=v?"top":"left",x=v?"bottom":"right",b=v?"clientHeight":"clientWidth",_=s.reference[p]+s.reference[h]-f[h]-s.floating[p],C=f[h]-s.reference[h],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let T=S?S[b]:0;(!T||!await(o.isElement==null?void 0:o.isElement(S)))&&(T=a.floating[b]||s.floating[p]);const A=_/2-C/2,k=T/2-g[p]/2-1,I=$_(d[y],k),D=$_(d[x],k),R=I,O=T-g[p]-D,L=T/2-g[p]/2+A,P=LW(R,L,O),B=X3(i)!=null&&L!=P&&s.reference[p]/2-(L<R?I:D)-g[p]/2<0?L<R?R-L:O-L:0;return{[h]:f[h]-B,data:{[h]:P,centerOffset:L-P+B}}}}),C6e=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:r,middlewareData:i,rects:s,initialPlacement:o,platform:a,elements:l}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...v}=jC(t,e),y=Mx(r),x=Mx(o)===o,b=await(a.isRTL==null?void 0:a.isRTL(l.floating)),_=f||(x||!g?[dP(o)]:axt(o));!f&&p!=="none"&&_.push(...uxt(o,g,p,b));const C=[o,..._],S=await tA(e,v),T=[];let A=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&T.push(S[y]),d){const R=oxt(r,s,b);T.push(S[R[0]],S[R[1]])}if(A=[...A,{placement:r,overflows:T}],!T.every(R=>R<=0)){var k,I;const R=(((k=i.flip)==null?void 0:k.index)||0)+1,O=C[R];if(O)return{data:{index:R,overflows:A},reset:{placement:O}};let L=(I=A.filter(P=>P.overflows[0]<=0).sort((P,$)=>P.overflows[1]-$.overflows[1])[0])==null?void 0:I.placement;if(!L)switch(h){case"bestFit":{var D;const P=(D=A.map($=>[$.placement,$.overflows.filter(B=>B>0).reduce((B,Q)=>B+Q,0)]).sort(($,B)=>$[1]-B[1])[0])==null?void 0:D[0];P&&(L=P);break}case"initialPlacement":L=o;break}if(r!==L)return{reset:{placement:L}}}return{}}}};function Fue(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Bue(t){return rxt.some(e=>t[e]>=0)}const fxt=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=jC(t,e);switch(r){case"referenceHidden":{const s=await tA(e,{...i,elementContext:"reference"}),o=Fue(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Bue(o)}}}case"escaped":{const s=await tA(e,{...i,altBoundary:!0}),o=Fue(s,n.floating);return{data:{escapedOffsets:o,escaped:Bue(o)}}}default:return{}}}}};async function hxt(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Mx(n),a=X3(n),l=E7(n)==="y",u=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,f=jC(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),l?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const E6e=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:r}=e,i=await hxt(e,t);return{x:n+i.x,y:r+i.y,data:i}}}},S6e=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x,y:b}=y;return{x,y:b}}},...l}=jC(t,e),u={x:n,y:r},d=await tA(e,l),f=E7(Mx(i)),h=w6e(f);let p=u[h],g=u[f];if(s){const y=h==="y"?"top":"left",x=h==="y"?"bottom":"right",b=p+d[y],_=p-d[x];p=LW(b,p,_)}if(o){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",b=g+d[y],_=g-d[x];g=LW(b,g,_)}const v=a.fn({...e,[h]:p,[f]:g});return{...v,data:{x:v.x-n,y:v.y-r}}}}};function Ov(t){return T6e(t)?(t.nodeName||"").toLowerCase():"#document"}function bd(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function E0(t){var e;return(e=(T6e(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function T6e(t){return t instanceof Node||t instanceof bd(t).Node}function Xg(t){return t instanceof Element||t instanceof bd(t).Element}function mm(t){return t instanceof HTMLElement||t instanceof bd(t).HTMLElement}function Nue(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof bd(t).ShadowRoot}function Q3(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=jf(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function pxt(t){return["table","td","th"].includes(Ov(t))}function AQ(t){const e=IQ(),n=jf(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function mxt(t){let e=F_(t);for(;mm(e)&&!S7(e);){if(AQ(e))return e;e=F_(e)}return null}function IQ(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function S7(t){return["html","body","#document"].includes(Ov(t))}function jf(t){return bd(t).getComputedStyle(t)}function T7(t){return Xg(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function F_(t){if(Ov(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Nue(t)&&t.host||E0(t);return Nue(e)?e.host:e}function k6e(t){const e=F_(t);return S7(e)?t.ownerDocument?t.ownerDocument.body:t.body:mm(e)&&Q3(e)?e:k6e(e)}function hP(t,e){var n;e===void 0&&(e=[]);const r=k6e(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=bd(r);return i?e.concat(s,s.visualViewport||[],Q3(r)?r:[]):e.concat(r,hP(r))}function A6e(t){const e=jf(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=mm(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=cP(n)!==s||cP(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function DQ(t){return Xg(t)?t:t.contextElement}function z5(t){const e=DQ(t);if(!mm(e))return jv(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=A6e(e);let o=(s?cP(n.width):n.width)/r,a=(s?cP(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const gxt=jv(0);function I6e(t){const e=bd(t);return!IQ()||!e.visualViewport?gxt:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function vxt(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==bd(t)?!1:e}function $x(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=DQ(t);let o=jv(1);e&&(r?Xg(r)&&(o=z5(r)):o=z5(t));const a=vxt(s,n,r)?I6e(s):jv(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const h=bd(s),p=r&&Xg(r)?bd(r):r;let g=h.frameElement;for(;g&&r&&p!==h;){const v=z5(g),y=g.getBoundingClientRect(),x=jf(g),b=y.left+(g.clientLeft+parseFloat(x.paddingLeft))*v.x,_=y.top+(g.clientTop+parseFloat(x.paddingTop))*v.y;l*=v.x,u*=v.y,d*=v.x,f*=v.y,l+=b,u+=_,g=bd(g).frameElement}}return fP({width:d,height:f,x:l,y:u})}function yxt(t){let{rect:e,offsetParent:n,strategy:r}=t;const i=mm(n),s=E0(n);if(n===s)return e;let o={scrollLeft:0,scrollTop:0},a=jv(1);const l=jv(0);if((i||!i&&r!=="fixed")&&((Ov(n)!=="body"||Q3(s))&&(o=T7(n)),mm(n))){const u=$x(n);a=z5(n),l.x=u.x+n.clientLeft,l.y=u.y+n.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-o.scrollLeft*a.x+l.x,y:e.y*a.y-o.scrollTop*a.y+l.y}}function bxt(t){return Array.from(t.getClientRects())}function D6e(t){return $x(E0(t)).left+T7(t).scrollLeft}function xxt(t){const e=E0(t),n=T7(t),r=t.ownerDocument.body,i=gx(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=gx(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+D6e(t);const a=-n.scrollTop;return jf(r).direction==="rtl"&&(o+=gx(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function wxt(t,e){const n=bd(t),r=E0(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=IQ();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function _xt(t,e){const n=$x(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=mm(t)?z5(t):jv(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function Vue(t,e,n){let r;if(e==="viewport")r=wxt(t,n);else if(e==="document")r=xxt(E0(t));else if(Xg(e))r=_xt(e,n);else{const i=I6e(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return fP(r)}function R6e(t,e){const n=F_(t);return n===e||!Xg(n)||S7(n)?!1:jf(n).position==="fixed"||R6e(n,e)}function Cxt(t,e){const n=e.get(t);if(n)return n;let r=hP(t).filter(a=>Xg(a)&&Ov(a)!=="body"),i=null;const s=jf(t).position==="fixed";let o=s?F_(t):t;for(;Xg(o)&&!S7(o);){const a=jf(o),l=AQ(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Q3(o)&&!l&&R6e(t,o))?r=r.filter(d=>d!==o):i=a,o=F_(o)}return e.set(t,r),r}function Ext(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Cxt(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const f=Vue(e,d,i);return u.top=gx(f.top,u.top),u.right=$_(f.right,u.right),u.bottom=$_(f.bottom,u.bottom),u.left=gx(f.left,u.left),u},Vue(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Sxt(t){return A6e(t)}function Txt(t,e,n){const r=mm(e),i=E0(e),s=n==="fixed",o=$x(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=jv(0);if(r||!r&&!s)if((Ov(e)!=="body"||Q3(i))&&(a=T7(e)),r){const u=$x(e,!0,s,e);l.x=u.x+e.clientLeft,l.y=u.y+e.clientTop}else i&&(l.x=D6e(i));return{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Uue(t,e){return!mm(t)||jf(t).position==="fixed"?null:e?e(t):t.offsetParent}function j6e(t,e){const n=bd(t);if(!mm(t))return n;let r=Uue(t,e);for(;r&&pxt(r)&&jf(r).position==="static";)r=Uue(r,e);return r&&(Ov(r)==="html"||Ov(r)==="body"&&jf(r).position==="static"&&!AQ(r))?n:r||mxt(t)||n}const kxt=async function(t){let{reference:e,floating:n,strategy:r}=t;const i=this.getOffsetParent||j6e,s=this.getDimensions;return{reference:Txt(e,await i(n),r),floating:{x:0,y:0,...await s(n)}}};function Axt(t){return jf(t).direction==="rtl"}const Ixt={convertOffsetParentRelativeRectToViewportRelativeRect:yxt,getDocumentElement:E0,getClippingRect:Ext,getOffsetParent:j6e,getElementRects:kxt,getClientRects:bxt,getDimensions:Sxt,getScale:z5,isElement:Xg,isRTL:Axt};function Dxt(t,e){let n=null,r;const i=E0(t);function s(){clearTimeout(r),n&&n.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:d,width:f,height:h}=t.getBoundingClientRect();if(a||e(),!f||!h)return;const p=SR(d),g=SR(i.clientWidth-(u+f)),v=SR(i.clientHeight-(d+h)),y=SR(u),b={rootMargin:-p+"px "+-g+"px "+-v+"px "+-y+"px",threshold:gx(0,$_(1,l))||1};let _=!0;function C(S){const T=S[0].intersectionRatio;if(T!==l){if(!_)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},100)}_=!1}try{n=new IntersectionObserver(C,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,b)}n.observe(t)}return o(!0),s}function RQ(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=DQ(t),d=i||s?[...u?hP(u):[],...hP(e)]:[];d.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),s&&x.addEventListener("resize",n)});const f=u&&a?Dxt(u,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{p&&p.observe(e)})),n()}),u&&!l&&p.observe(u),p.observe(e));let g,v=l?$x(t):null;l&&y();function y(){const x=$x(t);v&&(x.x!==v.x||x.y!==v.y||x.width!==v.width||x.height!==v.height)&&n(),v=x,g=requestAnimationFrame(y)}return n(),()=>{d.forEach(x=>{i&&x.removeEventListener("scroll",n),s&&x.removeEventListener("resize",n)}),f&&f(),p&&p.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const Rxt=(t,e,n)=>{const r=new Map,i={platform:Ixt,...n},s={...i.platform,_c:r};return dxt(t,e,{...i,platform:s})};var O6e={exports:{}},jd={},L6e={exports:{}},P6e={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,Z){var ie=V.length;V.push(Z);e:for(;0<ie;){var J=ie-1>>>1,X=V[J];if(0<i(X,Z))V[J]=Z,V[ie]=X,ie=J;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var Z=V[0],ie=V.pop();if(ie!==Z){V[0]=ie;e:for(var J=0,X=V.length,fe=X>>>1;J<fe;){var ue=2*(J+1)-1,te=V[ue],F=ue+1,ne=V[F];if(0>i(te,ie))F<X&&0>i(ne,te)?(V[J]=ne,V[F]=ie,J=F):(V[J]=te,V[ue]=ie,J=ue);else if(F<X&&0>i(ne,ie))V[J]=ne,V[F]=ie,J=F;else break e}}return Z}function i(V,Z){var ie=V.sortIndex-Z.sortIndex;return ie!==0?ie:V.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,h=3,p=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(V){for(var Z=n(u);Z!==null;){if(Z.callback===null)r(u);else if(Z.startTime<=V)r(u),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=n(u)}}function C(V){if(v=!1,_(V),!g)if(n(l)!==null)g=!0,B(S);else{var Z=n(u);Z!==null&&Q(C,Z.startTime-V)}}function S(V,Z){g=!1,v&&(v=!1,x(k),k=-1),p=!0;var ie=h;try{for(_(Z),f=n(l);f!==null&&(!(f.expirationTime>Z)||V&&!R());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var X=J(f.expirationTime<=Z);Z=t.unstable_now(),typeof X=="function"?f.callback=X:f===n(l)&&r(l),_(Z)}else r(l);f=n(l)}if(f!==null)var fe=!0;else{var ue=n(u);ue!==null&&Q(C,ue.startTime-Z),fe=!1}return fe}finally{f=null,h=ie,p=!1}}var T=!1,A=null,k=-1,I=5,D=-1;function R(){return!(t.unstable_now()-D<I)}function O(){if(A!==null){var V=t.unstable_now();D=V;var Z=!0;try{Z=A(!0,V)}finally{Z?L():(T=!1,A=null)}}else T=!1}var L;if(typeof b=="function")L=function(){b(O)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,$=P.port2;P.port1.onmessage=O,L=function(){$.postMessage(null)}}else L=function(){y(O,0)};function B(V){A=V,T||(T=!0,L())}function Q(V,Z){k=y(function(){V(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,B(S))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var Z=3;break;default:Z=h}var ie=h;h=Z;try{return V()}finally{h=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,Z){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ie=h;h=V;try{return Z()}finally{h=ie}},t.unstable_scheduleCallback=function(V,Z,ie){var J=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?J+ie:J):ie=J,V){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ie+X,V={id:d++,callback:Z,priorityLevel:V,startTime:ie,expirationTime:X,sortIndex:-1},ie>J?(V.sortIndex=ie,e(u,V),n(l)===null&&V===n(u)&&(v?(x(k),k=-1):v=!0,Q(C,ie-J))):(V.sortIndex=X,e(l,V),g||p||(g=!0,B(S))),V},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(V){var Z=h;return function(){var ie=h;h=Z;try{return V.apply(this,arguments)}finally{h=ie}}}})(P6e);L6e.exports=P6e;var jxt=L6e.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M6e=m,Sd=jxt;function ht(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $6e=new Set,nA={};function sw(t,e){B_(t,e),B_(t+"Capture",e)}function B_(t,e){for(nA[t]=e,t=0;t<e.length;t++)$6e.add(e[t])}var Qg=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),MW=Object.prototype.hasOwnProperty,Oxt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hue={},zue={};function Lxt(t){return MW.call(zue,t)?!0:MW.call(Hue,t)?!1:Oxt.test(t)?zue[t]=!0:(Hue[t]=!0,!1)}function Pxt(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Mxt(t,e,n,r){if(e===null||typeof e>"u"||Pxt(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ku(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Rl={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rl[t]=new Ku(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rl[e]=new Ku(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rl[t]=new Ku(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rl[t]=new Ku(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rl[t]=new Ku(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rl[t]=new Ku(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rl[t]=new Ku(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rl[t]=new Ku(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rl[t]=new Ku(t,5,!1,t.toLowerCase(),null,!1,!1)});var jQ=/[\-:]([a-z])/g;function OQ(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jQ,OQ);Rl[e]=new Ku(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jQ,OQ);Rl[e]=new Ku(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jQ,OQ);Rl[e]=new Ku(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rl[t]=new Ku(t,1,!1,t.toLowerCase(),null,!1,!1)});Rl.xlinkHref=new Ku("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rl[t]=new Ku(t,1,!1,t.toLowerCase(),null,!0,!0)});function LQ(t,e,n,r){var i=Rl.hasOwnProperty(e)?Rl[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Mxt(e,n,i,r)&&(n=null),r||i===null?Lxt(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var S0=M6e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,TR=Symbol.for("react.element"),d5=Symbol.for("react.portal"),f5=Symbol.for("react.fragment"),PQ=Symbol.for("react.strict_mode"),$W=Symbol.for("react.profiler"),F6e=Symbol.for("react.provider"),B6e=Symbol.for("react.context"),MQ=Symbol.for("react.forward_ref"),FW=Symbol.for("react.suspense"),BW=Symbol.for("react.suspense_list"),$Q=Symbol.for("react.memo"),T1=Symbol.for("react.lazy"),N6e=Symbol.for("react.offscreen"),Wue=Symbol.iterator;function lS(t){return t===null||typeof t!="object"?null:(t=Wue&&t[Wue]||t["@@iterator"],typeof t=="function"?t:null)}var mo=Object.assign,wN;function xT(t){if(wN===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);wN=e&&e[1]||""}return`
`+wN+t}var _N=!1;function CN(t,e){if(!t||_N)return"";_N=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{_N=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?xT(t):""}function $xt(t){switch(t.tag){case 5:return xT(t.type);case 16:return xT("Lazy");case 13:return xT("Suspense");case 19:return xT("SuspenseList");case 0:case 2:case 15:return t=CN(t.type,!1),t;case 11:return t=CN(t.type.render,!1),t;case 1:return t=CN(t.type,!0),t;default:return""}}function NW(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case f5:return"Fragment";case d5:return"Portal";case $W:return"Profiler";case PQ:return"StrictMode";case FW:return"Suspense";case BW:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case B6e:return(t.displayName||"Context")+".Consumer";case F6e:return(t._context.displayName||"Context")+".Provider";case MQ:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $Q:return e=t.displayName||null,e!==null?e:NW(t.type)||"Memo";case T1:e=t._payload,t=t._init;try{return NW(t(e))}catch{}}return null}function Fxt(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return NW(e);case 8:return e===PQ?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Lv(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function V6e(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Bxt(t){var e=V6e(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kR(t){t._valueTracker||(t._valueTracker=Bxt(t))}function U6e(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=V6e(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function pP(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function VW(t,e){var n=e.checked;return mo({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Gue(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Lv(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function H6e(t,e){e=e.checked,e!=null&&LQ(t,"checked",e,!1)}function UW(t,e){H6e(t,e);var n=Lv(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?HW(t,e.type,n):e.hasOwnProperty("defaultValue")&&HW(t,e.type,Lv(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function que(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function HW(t,e,n){(e!=="number"||pP(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var wT=Array.isArray;function W5(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Lv(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zW(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ht(91));return mo({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Yue(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ht(92));if(wT(n)){if(1<n.length)throw Error(ht(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Lv(n)}}function z6e(t,e){var n=Lv(e.value),r=Lv(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Kue(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function W6e(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function WW(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?W6e(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var AR,G6e=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(AR=AR||document.createElement("div"),AR.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=AR.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function rA(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ik={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nxt=["Webkit","ms","Moz","O"];Object.keys(ik).forEach(function(t){Nxt.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ik[e]=ik[t]})});function q6e(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ik.hasOwnProperty(t)&&ik[t]?(""+e).trim():e+"px"}function Y6e(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=q6e(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Vxt=mo({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function GW(t,e){if(e){if(Vxt[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ht(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ht(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ht(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ht(62))}}function qW(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var YW=null;function FQ(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var KW=null,G5=null,q5=null;function Zue(t){if(t=tI(t)){if(typeof KW!="function")throw Error(ht(280));var e=t.stateNode;e&&(e=R7(e),KW(t.stateNode,t.type,e))}}function K6e(t){G5?q5?q5.push(t):q5=[t]:G5=t}function Z6e(){if(G5){var t=G5,e=q5;if(q5=G5=null,Zue(t),e)for(t=0;t<e.length;t++)Zue(e[t])}}function X6e(t,e){return t(e)}function Q6e(){}var EN=!1;function J6e(t,e,n){if(EN)return t(e,n);EN=!0;try{return X6e(t,e,n)}finally{EN=!1,(G5!==null||q5!==null)&&(Q6e(),Z6e())}}function iA(t,e){var n=t.stateNode;if(n===null)return null;var r=R7(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ht(231,e,typeof n));return n}var ZW=!1;if(Qg)try{var uS={};Object.defineProperty(uS,"passive",{get:function(){ZW=!0}}),window.addEventListener("test",uS,uS),window.removeEventListener("test",uS,uS)}catch{ZW=!1}function Uxt(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var sk=!1,mP=null,gP=!1,XW=null,Hxt={onError:function(t){sk=!0,mP=t}};function zxt(t,e,n,r,i,s,o,a,l){sk=!1,mP=null,Uxt.apply(Hxt,arguments)}function Wxt(t,e,n,r,i,s,o,a,l){if(zxt.apply(this,arguments),sk){if(sk){var u=mP;sk=!1,mP=null}else throw Error(ht(198));gP||(gP=!0,XW=u)}}function ow(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function e8e(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Xue(t){if(ow(t)!==t)throw Error(ht(188))}function Gxt(t){var e=t.alternate;if(!e){if(e=ow(t),e===null)throw Error(ht(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Xue(i),t;if(s===r)return Xue(i),e;s=s.sibling}throw Error(ht(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ht(189))}}if(n.alternate!==r)throw Error(ht(190))}if(n.tag!==3)throw Error(ht(188));return n.stateNode.current===n?t:e}function t8e(t){return t=Gxt(t),t!==null?n8e(t):null}function n8e(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=n8e(t);if(e!==null)return e;t=t.sibling}return null}var r8e=Sd.unstable_scheduleCallback,Que=Sd.unstable_cancelCallback,qxt=Sd.unstable_shouldYield,Yxt=Sd.unstable_requestPaint,Yo=Sd.unstable_now,Kxt=Sd.unstable_getCurrentPriorityLevel,BQ=Sd.unstable_ImmediatePriority,i8e=Sd.unstable_UserBlockingPriority,vP=Sd.unstable_NormalPriority,Zxt=Sd.unstable_LowPriority,s8e=Sd.unstable_IdlePriority,k7=null,nm=null;function Xxt(t){if(nm&&typeof nm.onCommitFiberRoot=="function")try{nm.onCommitFiberRoot(k7,t,void 0,(t.current.flags&128)===128)}catch{}}var Ah=Math.clz32?Math.clz32:ewt,Qxt=Math.log,Jxt=Math.LN2;function ewt(t){return t>>>=0,t===0?32:31-(Qxt(t)/Jxt|0)|0}var IR=64,DR=4194304;function _T(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yP(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=_T(a):(s&=o,s!==0&&(r=_T(s)))}else o=n&~i,o!==0?r=_T(o):s!==0&&(r=_T(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ah(e),i=1<<n,r|=t[n],e&=~i;return r}function twt(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nwt(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ah(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=twt(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function QW(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function o8e(){var t=IR;return IR<<=1,!(IR&4194240)&&(IR=64),t}function SN(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function J3(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ah(e),t[e]=n}function rwt(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ah(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function NQ(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ah(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Mi=0;function a8e(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var l8e,VQ,u8e,c8e,d8e,JW=!1,RR=[],cv=null,dv=null,fv=null,sA=new Map,oA=new Map,L1=[],iwt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jue(t,e){switch(t){case"focusin":case"focusout":cv=null;break;case"dragenter":case"dragleave":dv=null;break;case"mouseover":case"mouseout":fv=null;break;case"pointerover":case"pointerout":sA.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":oA.delete(e.pointerId)}}function cS(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=tI(e),e!==null&&VQ(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function swt(t,e,n,r,i){switch(e){case"focusin":return cv=cS(cv,t,e,n,r,i),!0;case"dragenter":return dv=cS(dv,t,e,n,r,i),!0;case"mouseover":return fv=cS(fv,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return sA.set(s,cS(sA.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,oA.set(s,cS(oA.get(s)||null,t,e,n,r,i)),!0}return!1}function f8e(t){var e=Yb(t.target);if(e!==null){var n=ow(e);if(n!==null){if(e=n.tag,e===13){if(e=e8e(n),e!==null){t.blockedOn=e,d8e(t.priority,function(){u8e(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xj(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=eG(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);YW=r,n.target.dispatchEvent(r),YW=null}else return e=tI(n),e!==null&&VQ(e),t.blockedOn=n,!1;e.shift()}return!0}function ece(t,e,n){Xj(t)&&n.delete(e)}function owt(){JW=!1,cv!==null&&Xj(cv)&&(cv=null),dv!==null&&Xj(dv)&&(dv=null),fv!==null&&Xj(fv)&&(fv=null),sA.forEach(ece),oA.forEach(ece)}function dS(t,e){t.blockedOn===e&&(t.blockedOn=null,JW||(JW=!0,Sd.unstable_scheduleCallback(Sd.unstable_NormalPriority,owt)))}function aA(t){function e(i){return dS(i,t)}if(0<RR.length){dS(RR[0],t);for(var n=1;n<RR.length;n++){var r=RR[n];r.blockedOn===t&&(r.blockedOn=null)}}for(cv!==null&&dS(cv,t),dv!==null&&dS(dv,t),fv!==null&&dS(fv,t),sA.forEach(e),oA.forEach(e),n=0;n<L1.length;n++)r=L1[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<L1.length&&(n=L1[0],n.blockedOn===null);)f8e(n),n.blockedOn===null&&L1.shift()}var Y5=S0.ReactCurrentBatchConfig,bP=!0;function awt(t,e,n,r){var i=Mi,s=Y5.transition;Y5.transition=null;try{Mi=1,UQ(t,e,n,r)}finally{Mi=i,Y5.transition=s}}function lwt(t,e,n,r){var i=Mi,s=Y5.transition;Y5.transition=null;try{Mi=4,UQ(t,e,n,r)}finally{Mi=i,Y5.transition=s}}function UQ(t,e,n,r){if(bP){var i=eG(t,e,n,r);if(i===null)PN(t,e,r,xP,n),Jue(t,r);else if(swt(i,t,e,n,r))r.stopPropagation();else if(Jue(t,r),e&4&&-1<iwt.indexOf(t)){for(;i!==null;){var s=tI(i);if(s!==null&&l8e(s),s=eG(t,e,n,r),s===null&&PN(t,e,r,xP,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else PN(t,e,r,null,n)}}var xP=null;function eG(t,e,n,r){if(xP=null,t=FQ(r),t=Yb(t),t!==null)if(e=ow(t),e===null)t=null;else if(n=e.tag,n===13){if(t=e8e(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xP=t,null}function h8e(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kxt()){case BQ:return 1;case i8e:return 4;case vP:case Zxt:return 16;case s8e:return 536870912;default:return 16}default:return 16}}var H1=null,HQ=null,Qj=null;function p8e(){if(Qj)return Qj;var t,e=HQ,n=e.length,r,i="value"in H1?H1.value:H1.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Qj=i.slice(t,1<r?1-r:void 0)}function Jj(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function jR(){return!0}function tce(){return!1}function Od(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?jR:tce,this.isPropagationStopped=tce,this}return mo(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jR)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jR)},persist:function(){},isPersistent:jR}),e}var OC={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zQ=Od(OC),eI=mo({},OC,{view:0,detail:0}),uwt=Od(eI),TN,kN,fS,A7=mo({},eI,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:WQ,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fS&&(fS&&t.type==="mousemove"?(TN=t.screenX-fS.screenX,kN=t.screenY-fS.screenY):kN=TN=0,fS=t),TN)},movementY:function(t){return"movementY"in t?t.movementY:kN}}),nce=Od(A7),cwt=mo({},A7,{dataTransfer:0}),dwt=Od(cwt),fwt=mo({},eI,{relatedTarget:0}),AN=Od(fwt),hwt=mo({},OC,{animationName:0,elapsedTime:0,pseudoElement:0}),pwt=Od(hwt),mwt=mo({},OC,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gwt=Od(mwt),vwt=mo({},OC,{data:0}),rce=Od(vwt),ywt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bwt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xwt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wwt(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xwt[t])?!!e[t]:!1}function WQ(){return wwt}var _wt=mo({},eI,{key:function(t){if(t.key){var e=ywt[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jj(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bwt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:WQ,charCode:function(t){return t.type==="keypress"?Jj(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jj(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cwt=Od(_wt),Ewt=mo({},A7,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ice=Od(Ewt),Swt=mo({},eI,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:WQ}),Twt=Od(Swt),kwt=mo({},OC,{propertyName:0,elapsedTime:0,pseudoElement:0}),Awt=Od(kwt),Iwt=mo({},A7,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Dwt=Od(Iwt),Rwt=[9,13,27,32],GQ=Qg&&"CompositionEvent"in window,ok=null;Qg&&"documentMode"in document&&(ok=document.documentMode);var jwt=Qg&&"TextEvent"in window&&!ok,m8e=Qg&&(!GQ||ok&&8<ok&&11>=ok),sce=String.fromCharCode(32),oce=!1;function g8e(t,e){switch(t){case"keyup":return Rwt.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function v8e(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var h5=!1;function Owt(t,e){switch(t){case"compositionend":return v8e(e);case"keypress":return e.which!==32?null:(oce=!0,sce);case"textInput":return t=e.data,t===sce&&oce?null:t;default:return null}}function Lwt(t,e){if(h5)return t==="compositionend"||!GQ&&g8e(t,e)?(t=p8e(),Qj=HQ=H1=null,h5=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return m8e&&e.locale!=="ko"?null:e.data;default:return null}}var Pwt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ace(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Pwt[t.type]:e==="textarea"}function y8e(t,e,n,r){K6e(r),e=wP(e,"onChange"),0<e.length&&(n=new zQ("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ak=null,lA=null;function Mwt(t){I8e(t,0)}function I7(t){var e=g5(t);if(U6e(e))return t}function $wt(t,e){if(t==="change")return e}var b8e=!1;if(Qg){var IN;if(Qg){var DN="oninput"in document;if(!DN){var lce=document.createElement("div");lce.setAttribute("oninput","return;"),DN=typeof lce.oninput=="function"}IN=DN}else IN=!1;b8e=IN&&(!document.documentMode||9<document.documentMode)}function uce(){ak&&(ak.detachEvent("onpropertychange",x8e),lA=ak=null)}function x8e(t){if(t.propertyName==="value"&&I7(lA)){var e=[];y8e(e,lA,t,FQ(t)),J6e(Mwt,e)}}function Fwt(t,e,n){t==="focusin"?(uce(),ak=e,lA=n,ak.attachEvent("onpropertychange",x8e)):t==="focusout"&&uce()}function Bwt(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return I7(lA)}function Nwt(t,e){if(t==="click")return I7(e)}function Vwt(t,e){if(t==="input"||t==="change")return I7(e)}function Uwt(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $h=typeof Object.is=="function"?Object.is:Uwt;function uA(t,e){if($h(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!MW.call(e,i)||!$h(t[i],e[i]))return!1}return!0}function cce(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dce(t,e){var n=cce(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cce(n)}}function w8e(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?w8e(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _8e(){for(var t=window,e=pP();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=pP(t.document)}return e}function qQ(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Hwt(t){var e=_8e(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&w8e(n.ownerDocument.documentElement,n)){if(r!==null&&qQ(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=dce(n,s);var o=dce(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zwt=Qg&&"documentMode"in document&&11>=document.documentMode,p5=null,tG=null,lk=null,nG=!1;function fce(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nG||p5==null||p5!==pP(r)||(r=p5,"selectionStart"in r&&qQ(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lk&&uA(lk,r)||(lk=r,r=wP(tG,"onSelect"),0<r.length&&(e=new zQ("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=p5)))}function OR(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var m5={animationend:OR("Animation","AnimationEnd"),animationiteration:OR("Animation","AnimationIteration"),animationstart:OR("Animation","AnimationStart"),transitionend:OR("Transition","TransitionEnd")},RN={},C8e={};Qg&&(C8e=document.createElement("div").style,"AnimationEvent"in window||(delete m5.animationend.animation,delete m5.animationiteration.animation,delete m5.animationstart.animation),"TransitionEvent"in window||delete m5.transitionend.transition);function D7(t){if(RN[t])return RN[t];if(!m5[t])return t;var e=m5[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in C8e)return RN[t]=e[n];return t}var E8e=D7("animationend"),S8e=D7("animationiteration"),T8e=D7("animationstart"),k8e=D7("transitionend"),A8e=new Map,hce="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ay(t,e){A8e.set(t,e),sw(e,[t])}for(var jN=0;jN<hce.length;jN++){var ON=hce[jN],Wwt=ON.toLowerCase(),Gwt=ON[0].toUpperCase()+ON.slice(1);ay(Wwt,"on"+Gwt)}ay(E8e,"onAnimationEnd");ay(S8e,"onAnimationIteration");ay(T8e,"onAnimationStart");ay("dblclick","onDoubleClick");ay("focusin","onFocus");ay("focusout","onBlur");ay(k8e,"onTransitionEnd");B_("onMouseEnter",["mouseout","mouseover"]);B_("onMouseLeave",["mouseout","mouseover"]);B_("onPointerEnter",["pointerout","pointerover"]);B_("onPointerLeave",["pointerout","pointerover"]);sw("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sw("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sw("onBeforeInput",["compositionend","keypress","textInput","paste"]);sw("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sw("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sw("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var CT="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qwt=new Set("cancel close invalid load scroll toggle".split(" ").concat(CT));function pce(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Wxt(r,e,void 0,t),t.currentTarget=null}function I8e(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;pce(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;pce(i,a,u),s=l}}}if(gP)throw t=XW,gP=!1,XW=null,t}function As(t,e){var n=e[aG];n===void 0&&(n=e[aG]=new Set);var r=t+"__bubble";n.has(r)||(D8e(e,t,2,!1),n.add(r))}function LN(t,e,n){var r=0;e&&(r|=4),D8e(n,t,r,e)}var LR="_reactListening"+Math.random().toString(36).slice(2);function cA(t){if(!t[LR]){t[LR]=!0,$6e.forEach(function(n){n!=="selectionchange"&&(qwt.has(n)||LN(n,!1,t),LN(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[LR]||(e[LR]=!0,LN("selectionchange",!1,e))}}function D8e(t,e,n,r){switch(h8e(e)){case 1:var i=awt;break;case 4:i=lwt;break;default:i=UQ}n=i.bind(null,e,n,t),i=void 0,!ZW||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function PN(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Yb(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}J6e(function(){var u=s,d=FQ(n),f=[];e:{var h=A8e.get(t);if(h!==void 0){var p=zQ,g=t;switch(t){case"keypress":if(Jj(n)===0)break e;case"keydown":case"keyup":p=Cwt;break;case"focusin":g="focus",p=AN;break;case"focusout":g="blur",p=AN;break;case"beforeblur":case"afterblur":p=AN;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=nce;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=dwt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Twt;break;case E8e:case S8e:case T8e:p=pwt;break;case k8e:p=Awt;break;case"scroll":p=uwt;break;case"wheel":p=Dwt;break;case"copy":case"cut":case"paste":p=gwt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ice}var v=(e&4)!==0,y=!v&&t==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var b=u,_;b!==null;){_=b;var C=_.stateNode;if(_.tag===5&&C!==null&&(_=C,x!==null&&(C=iA(b,x),C!=null&&v.push(dA(b,C,_)))),y)break;b=b.return}0<v.length&&(h=new p(h,g,null,n,d),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==YW&&(g=n.relatedTarget||n.fromElement)&&(Yb(g)||g[Jg]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?Yb(g):null,g!==null&&(y=ow(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(v=nce,C="onMouseLeave",x="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(v=ice,C="onPointerLeave",x="onPointerEnter",b="pointer"),y=p==null?h:g5(p),_=g==null?h:g5(g),h=new v(C,b+"leave",p,n,d),h.target=y,h.relatedTarget=_,C=null,Yb(d)===u&&(v=new v(x,b+"enter",g,n,d),v.target=_,v.relatedTarget=y,C=v),y=C,p&&g)t:{for(v=p,x=g,b=0,_=v;_;_=t2(_))b++;for(_=0,C=x;C;C=t2(C))_++;for(;0<b-_;)v=t2(v),b--;for(;0<_-b;)x=t2(x),_--;for(;b--;){if(v===x||x!==null&&v===x.alternate)break t;v=t2(v),x=t2(x)}v=null}else v=null;p!==null&&mce(f,h,p,v,!1),g!==null&&y!==null&&mce(f,y,g,v,!0)}}e:{if(h=u?g5(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=$wt;else if(ace(h))if(b8e)S=Vwt;else{S=Bwt;var T=Fwt}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=Nwt);if(S&&(S=S(t,u))){y8e(f,S,n,d);break e}T&&T(t,h,u),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&HW(h,"number",h.value)}switch(T=u?g5(u):window,t){case"focusin":(ace(T)||T.contentEditable==="true")&&(p5=T,tG=u,lk=null);break;case"focusout":lk=tG=p5=null;break;case"mousedown":nG=!0;break;case"contextmenu":case"mouseup":case"dragend":nG=!1,fce(f,n,d);break;case"selectionchange":if(zwt)break;case"keydown":case"keyup":fce(f,n,d)}var A;if(GQ)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else h5?g8e(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(m8e&&n.locale!=="ko"&&(h5||k!=="onCompositionStart"?k==="onCompositionEnd"&&h5&&(A=p8e()):(H1=d,HQ="value"in H1?H1.value:H1.textContent,h5=!0)),T=wP(u,k),0<T.length&&(k=new rce(k,t,null,n,d),f.push({event:k,listeners:T}),A?k.data=A:(A=v8e(n),A!==null&&(k.data=A)))),(A=jwt?Owt(t,n):Lwt(t,n))&&(u=wP(u,"onBeforeInput"),0<u.length&&(d=new rce("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=A))}I8e(f,e)})}function dA(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wP(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=iA(t,n),s!=null&&r.unshift(dA(t,s,i)),s=iA(t,e),s!=null&&r.push(dA(t,s,i))),t=t.return}return r}function t2(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function mce(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=iA(n,s),l!=null&&o.unshift(dA(n,l,a))):i||(l=iA(n,s),l!=null&&o.push(dA(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Ywt=/\r\n?/g,Kwt=/\u0000|\uFFFD/g;function gce(t){return(typeof t=="string"?t:""+t).replace(Ywt,`
`).replace(Kwt,"")}function PR(t,e,n){if(e=gce(e),gce(t)!==e&&n)throw Error(ht(425))}function _P(){}var rG=null,iG=null;function sG(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var oG=typeof setTimeout=="function"?setTimeout:void 0,Zwt=typeof clearTimeout=="function"?clearTimeout:void 0,vce=typeof Promise=="function"?Promise:void 0,Xwt=typeof queueMicrotask=="function"?queueMicrotask:typeof vce<"u"?function(t){return vce.resolve(null).then(t).catch(Qwt)}:oG;function Qwt(t){setTimeout(function(){throw t})}function MN(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),aA(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);aA(e)}function hv(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function yce(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var LC=Math.random().toString(36).slice(2),Up="__reactFiber$"+LC,fA="__reactProps$"+LC,Jg="__reactContainer$"+LC,aG="__reactEvents$"+LC,Jwt="__reactListeners$"+LC,e2t="__reactHandles$"+LC;function Yb(t){var e=t[Up];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Jg]||n[Up]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=yce(t);t!==null;){if(n=t[Up])return n;t=yce(t)}return e}t=n,n=t.parentNode}return null}function tI(t){return t=t[Up]||t[Jg],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function g5(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ht(33))}function R7(t){return t[fA]||null}var lG=[],v5=-1;function ly(t){return{current:t}}function Os(t){0>v5||(t.current=lG[v5],lG[v5]=null,v5--)}function ys(t,e){v5++,lG[v5]=t.current,t.current=e}var Pv={},mu=ly(Pv),Mc=ly(!1),Fx=Pv;function N_(t,e){var n=t.type.contextTypes;if(!n)return Pv;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function $c(t){return t=t.childContextTypes,t!=null}function CP(){Os(Mc),Os(mu)}function bce(t,e,n){if(mu.current!==Pv)throw Error(ht(168));ys(mu,e),ys(Mc,n)}function R8e(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ht(108,Fxt(t)||"Unknown",i));return mo({},n,r)}function EP(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pv,Fx=mu.current,ys(mu,t),ys(Mc,Mc.current),!0}function xce(t,e,n){var r=t.stateNode;if(!r)throw Error(ht(169));n?(t=R8e(t,e,Fx),r.__reactInternalMemoizedMergedChildContext=t,Os(Mc),Os(mu),ys(mu,t)):Os(Mc),ys(Mc,n)}var Tg=null,j7=!1,$N=!1;function j8e(t){Tg===null?Tg=[t]:Tg.push(t)}function t2t(t){j7=!0,j8e(t)}function uy(){if(!$N&&Tg!==null){$N=!0;var t=0,e=Mi;try{var n=Tg;for(Mi=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Tg=null,j7=!1}catch(i){throw Tg!==null&&(Tg=Tg.slice(t+1)),r8e(BQ,uy),i}finally{Mi=e,$N=!1}}return null}var y5=[],b5=0,SP=null,TP=0,ff=[],hf=0,Bx=null,Og=1,Lg="";function mb(t,e){y5[b5++]=TP,y5[b5++]=SP,SP=t,TP=e}function O8e(t,e,n){ff[hf++]=Og,ff[hf++]=Lg,ff[hf++]=Bx,Bx=t;var r=Og;t=Lg;var i=32-Ah(r)-1;r&=~(1<<i),n+=1;var s=32-Ah(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Og=1<<32-Ah(e)+i|n<<i|r,Lg=s+t}else Og=1<<s|n<<i|r,Lg=t}function YQ(t){t.return!==null&&(mb(t,1),O8e(t,1,0))}function KQ(t){for(;t===SP;)SP=y5[--b5],y5[b5]=null,TP=y5[--b5],y5[b5]=null;for(;t===Bx;)Bx=ff[--hf],ff[hf]=null,Lg=ff[--hf],ff[hf]=null,Og=ff[--hf],ff[hf]=null}var xd=null,yd=null,zs=!1,fh=null;function L8e(t,e){var n=yf(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function wce(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xd=t,yd=hv(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xd=t,yd=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Bx!==null?{id:Og,overflow:Lg}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=yf(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xd=t,yd=null,!0):!1;default:return!1}}function uG(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cG(t){if(zs){var e=yd;if(e){var n=e;if(!wce(t,e)){if(uG(t))throw Error(ht(418));e=hv(n.nextSibling);var r=xd;e&&wce(t,e)?L8e(r,n):(t.flags=t.flags&-4097|2,zs=!1,xd=t)}}else{if(uG(t))throw Error(ht(418));t.flags=t.flags&-4097|2,zs=!1,xd=t}}}function _ce(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xd=t}function MR(t){if(t!==xd)return!1;if(!zs)return _ce(t),zs=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sG(t.type,t.memoizedProps)),e&&(e=yd)){if(uG(t))throw P8e(),Error(ht(418));for(;e;)L8e(t,e),e=hv(e.nextSibling)}if(_ce(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ht(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){yd=hv(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}yd=null}}else yd=xd?hv(t.stateNode.nextSibling):null;return!0}function P8e(){for(var t=yd;t;)t=hv(t.nextSibling)}function V_(){yd=xd=null,zs=!1}function ZQ(t){fh===null?fh=[t]:fh.push(t)}var n2t=S0.ReactCurrentBatchConfig;function ch(t,e){if(t&&t.defaultProps){e=mo({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var kP=ly(null),AP=null,x5=null,XQ=null;function QQ(){XQ=x5=AP=null}function JQ(t){var e=kP.current;Os(kP),t._currentValue=e}function dG(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function K5(t,e){AP=t,XQ=x5=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Oc=!0),t.firstContext=null)}function Of(t){var e=t._currentValue;if(XQ!==t)if(t={context:t,memoizedValue:e,next:null},x5===null){if(AP===null)throw Error(ht(308));x5=t,AP.dependencies={lanes:0,firstContext:t}}else x5=x5.next=t;return e}var Kb=null;function eJ(t){Kb===null?Kb=[t]:Kb.push(t)}function M8e(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,eJ(e)):(n.next=i.next,i.next=n),e.interleaved=n,e0(t,r)}function e0(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var k1=!1;function tJ(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $8e(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hg(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function pv(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Jr&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e0(t,n)}return i=r.interleaved,i===null?(e.next=e,eJ(r)):(e.next=i.next,i.next=e),r.interleaved=e,e0(t,n)}function eO(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,NQ(t,n)}}function Cce(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function IP(t,e,n,r){var i=t.updateQueue;k1=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=u=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(h=e,p=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=mo({},f,h);break e;case 2:k1=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Vx|=o,t.lanes=o,t.memoizedState=f}}function Ece(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ht(191,i));i.call(r)}}}var F8e=new M6e.Component().refs;function fG(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:mo({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var O7={isMounted:function(t){return(t=t._reactInternals)?ow(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Bu(),i=gv(t),s=Hg(r,i);s.payload=e,n!=null&&(s.callback=n),e=pv(t,s,i),e!==null&&(Ih(e,t,i,r),eO(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Bu(),i=gv(t),s=Hg(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=pv(t,s,i),e!==null&&(Ih(e,t,i,r),eO(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Bu(),r=gv(t),i=Hg(n,r);i.tag=2,e!=null&&(i.callback=e),e=pv(t,i,r),e!==null&&(Ih(e,t,r,n),eO(e,t,r))}};function Sce(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!uA(n,r)||!uA(i,s):!0}function B8e(t,e,n){var r=!1,i=Pv,s=e.contextType;return typeof s=="object"&&s!==null?s=Of(s):(i=$c(e)?Fx:mu.current,r=e.contextTypes,s=(r=r!=null)?N_(t,i):Pv),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=O7,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Tce(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&O7.enqueueReplaceState(e,e.state,null)}function hG(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=F8e,tJ(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Of(s):(s=$c(e)?Fx:mu.current,i.context=N_(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(fG(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&O7.enqueueReplaceState(i,i.state,null),IP(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function hS(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ht(309));var r=n.stateNode}if(!r)throw Error(ht(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===F8e&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ht(284));if(!n._owner)throw Error(ht(290,t))}return t}function $R(t,e){throw t=Object.prototype.toString.call(e),Error(ht(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function kce(t){var e=t._init;return e(t._payload)}function N8e(t){function e(x,b){if(t){var _=x.deletions;_===null?(x.deletions=[b],x.flags|=16):_.push(b)}}function n(x,b){if(!t)return null;for(;b!==null;)e(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=vv(x,b),x.index=0,x.sibling=null,x}function s(x,b,_){return x.index=_,t?(_=x.alternate,_!==null?(_=_.index,_<b?(x.flags|=2,b):_):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,b,_,C){return b===null||b.tag!==6?(b=zN(_,x.mode,C),b.return=x,b):(b=i(b,_),b.return=x,b)}function l(x,b,_,C){var S=_.type;return S===f5?d(x,b,_.props.children,C,_.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===T1&&kce(S)===b.type)?(C=i(b,_.props),C.ref=hS(x,b,_),C.return=x,C):(C=oO(_.type,_.key,_.props,null,x.mode,C),C.ref=hS(x,b,_),C.return=x,C)}function u(x,b,_,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=WN(_,x.mode,C),b.return=x,b):(b=i(b,_.children||[]),b.return=x,b)}function d(x,b,_,C,S){return b===null||b.tag!==7?(b=yx(_,x.mode,C,S),b.return=x,b):(b=i(b,_),b.return=x,b)}function f(x,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=zN(""+b,x.mode,_),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case TR:return _=oO(b.type,b.key,b.props,null,x.mode,_),_.ref=hS(x,null,b),_.return=x,_;case d5:return b=WN(b,x.mode,_),b.return=x,b;case T1:var C=b._init;return f(x,C(b._payload),_)}if(wT(b)||lS(b))return b=yx(b,x.mode,_,null),b.return=x,b;$R(x,b)}return null}function h(x,b,_,C){var S=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:a(x,b,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case TR:return _.key===S?l(x,b,_,C):null;case d5:return _.key===S?u(x,b,_,C):null;case T1:return S=_._init,h(x,b,S(_._payload),C)}if(wT(_)||lS(_))return S!==null?null:d(x,b,_,C,null);$R(x,_)}return null}function p(x,b,_,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(_)||null,a(b,x,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case TR:return x=x.get(C.key===null?_:C.key)||null,l(b,x,C,S);case d5:return x=x.get(C.key===null?_:C.key)||null,u(b,x,C,S);case T1:var T=C._init;return p(x,b,_,T(C._payload),S)}if(wT(C)||lS(C))return x=x.get(_)||null,d(b,x,C,S,null);$R(b,C)}return null}function g(x,b,_,C){for(var S=null,T=null,A=b,k=b=0,I=null;A!==null&&k<_.length;k++){A.index>k?(I=A,A=null):I=A.sibling;var D=h(x,A,_[k],C);if(D===null){A===null&&(A=I);break}t&&A&&D.alternate===null&&e(x,A),b=s(D,b,k),T===null?S=D:T.sibling=D,T=D,A=I}if(k===_.length)return n(x,A),zs&&mb(x,k),S;if(A===null){for(;k<_.length;k++)A=f(x,_[k],C),A!==null&&(b=s(A,b,k),T===null?S=A:T.sibling=A,T=A);return zs&&mb(x,k),S}for(A=r(x,A);k<_.length;k++)I=p(A,x,k,_[k],C),I!==null&&(t&&I.alternate!==null&&A.delete(I.key===null?k:I.key),b=s(I,b,k),T===null?S=I:T.sibling=I,T=I);return t&&A.forEach(function(R){return e(x,R)}),zs&&mb(x,k),S}function v(x,b,_,C){var S=lS(_);if(typeof S!="function")throw Error(ht(150));if(_=S.call(_),_==null)throw Error(ht(151));for(var T=S=null,A=b,k=b=0,I=null,D=_.next();A!==null&&!D.done;k++,D=_.next()){A.index>k?(I=A,A=null):I=A.sibling;var R=h(x,A,D.value,C);if(R===null){A===null&&(A=I);break}t&&A&&R.alternate===null&&e(x,A),b=s(R,b,k),T===null?S=R:T.sibling=R,T=R,A=I}if(D.done)return n(x,A),zs&&mb(x,k),S;if(A===null){for(;!D.done;k++,D=_.next())D=f(x,D.value,C),D!==null&&(b=s(D,b,k),T===null?S=D:T.sibling=D,T=D);return zs&&mb(x,k),S}for(A=r(x,A);!D.done;k++,D=_.next())D=p(A,x,k,D.value,C),D!==null&&(t&&D.alternate!==null&&A.delete(D.key===null?k:D.key),b=s(D,b,k),T===null?S=D:T.sibling=D,T=D);return t&&A.forEach(function(O){return e(x,O)}),zs&&mb(x,k),S}function y(x,b,_,C){if(typeof _=="object"&&_!==null&&_.type===f5&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case TR:e:{for(var S=_.key,T=b;T!==null;){if(T.key===S){if(S=_.type,S===f5){if(T.tag===7){n(x,T.sibling),b=i(T,_.props.children),b.return=x,x=b;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===T1&&kce(S)===T.type){n(x,T.sibling),b=i(T,_.props),b.ref=hS(x,T,_),b.return=x,x=b;break e}n(x,T);break}else e(x,T);T=T.sibling}_.type===f5?(b=yx(_.props.children,x.mode,C,_.key),b.return=x,x=b):(C=oO(_.type,_.key,_.props,null,x.mode,C),C.ref=hS(x,b,_),C.return=x,x=C)}return o(x);case d5:e:{for(T=_.key;b!==null;){if(b.key===T)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){n(x,b.sibling),b=i(b,_.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else e(x,b);b=b.sibling}b=WN(_,x.mode,C),b.return=x,x=b}return o(x);case T1:return T=_._init,y(x,b,T(_._payload),C)}if(wT(_))return g(x,b,_,C);if(lS(_))return v(x,b,_,C);$R(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(n(x,b.sibling),b=i(b,_),b.return=x,x=b):(n(x,b),b=zN(_,x.mode,C),b.return=x,x=b),o(x)):n(x,b)}return y}var U_=N8e(!0),V8e=N8e(!1),nI={},rm=ly(nI),hA=ly(nI),pA=ly(nI);function Zb(t){if(t===nI)throw Error(ht(174));return t}function nJ(t,e){switch(ys(pA,e),ys(hA,t),ys(rm,nI),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:WW(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=WW(e,t)}Os(rm),ys(rm,e)}function H_(){Os(rm),Os(hA),Os(pA)}function U8e(t){Zb(pA.current);var e=Zb(rm.current),n=WW(e,t.type);e!==n&&(ys(hA,t),ys(rm,n))}function rJ(t){hA.current===t&&(Os(rm),Os(hA))}var lo=ly(0);function DP(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var FN=[];function iJ(){for(var t=0;t<FN.length;t++)FN[t]._workInProgressVersionPrimary=null;FN.length=0}var tO=S0.ReactCurrentDispatcher,BN=S0.ReactCurrentBatchConfig,Nx=0,po=null,ka=null,qa=null,RP=!1,uk=!1,mA=0,r2t=0;function Nl(){throw Error(ht(321))}function sJ(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$h(t[n],e[n]))return!1;return!0}function oJ(t,e,n,r,i,s){if(Nx=s,po=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tO.current=t===null||t.memoizedState===null?a2t:l2t,t=n(r,i),uk){s=0;do{if(uk=!1,mA=0,25<=s)throw Error(ht(301));s+=1,qa=ka=null,e.updateQueue=null,tO.current=u2t,t=n(r,i)}while(uk)}if(tO.current=jP,e=ka!==null&&ka.next!==null,Nx=0,qa=ka=po=null,RP=!1,e)throw Error(ht(300));return t}function aJ(){var t=mA!==0;return mA=0,t}function Tp(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qa===null?po.memoizedState=qa=t:qa=qa.next=t,qa}function Lf(){if(ka===null){var t=po.alternate;t=t!==null?t.memoizedState:null}else t=ka.next;var e=qa===null?po.memoizedState:qa.next;if(e!==null)qa=e,ka=t;else{if(t===null)throw Error(ht(310));ka=t,t={memoizedState:ka.memoizedState,baseState:ka.baseState,baseQueue:ka.baseQueue,queue:ka.queue,next:null},qa===null?po.memoizedState=qa=t:qa=qa.next=t}return qa}function gA(t,e){return typeof e=="function"?e(t):e}function NN(t){var e=Lf(),n=e.queue;if(n===null)throw Error(ht(311));n.lastRenderedReducer=t;var r=ka,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Nx&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,po.lanes|=d,Vx|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,$h(r,e.memoizedState)||(Oc=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,po.lanes|=s,Vx|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function VN(t){var e=Lf(),n=e.queue;if(n===null)throw Error(ht(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);$h(s,e.memoizedState)||(Oc=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function H8e(){}function z8e(t,e){var n=po,r=Lf(),i=e(),s=!$h(r.memoizedState,i);if(s&&(r.memoizedState=i,Oc=!0),r=r.queue,lJ(q8e.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||qa!==null&&qa.memoizedState.tag&1){if(n.flags|=2048,vA(9,G8e.bind(null,n,r,i,e),void 0,null),rl===null)throw Error(ht(349));Nx&30||W8e(n,e,i)}return i}function W8e(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=po.updateQueue,e===null?(e={lastEffect:null,stores:null},po.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function G8e(t,e,n,r){e.value=n,e.getSnapshot=r,Y8e(e)&&K8e(t)}function q8e(t,e,n){return n(function(){Y8e(e)&&K8e(t)})}function Y8e(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$h(t,n)}catch{return!0}}function K8e(t){var e=e0(t,1);e!==null&&Ih(e,t,1,-1)}function Ace(t){var e=Tp();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gA,lastRenderedState:t},e.queue=t,t=t.dispatch=o2t.bind(null,po,t),[e.memoizedState,t]}function vA(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=po.updateQueue,e===null?(e={lastEffect:null,stores:null},po.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Z8e(){return Lf().memoizedState}function nO(t,e,n,r){var i=Tp();po.flags|=t,i.memoizedState=vA(1|e,n,void 0,r===void 0?null:r)}function L7(t,e,n,r){var i=Lf();r=r===void 0?null:r;var s=void 0;if(ka!==null){var o=ka.memoizedState;if(s=o.destroy,r!==null&&sJ(r,o.deps)){i.memoizedState=vA(e,n,s,r);return}}po.flags|=t,i.memoizedState=vA(1|e,n,s,r)}function Ice(t,e){return nO(8390656,8,t,e)}function lJ(t,e){return L7(2048,8,t,e)}function X8e(t,e){return L7(4,2,t,e)}function Q8e(t,e){return L7(4,4,t,e)}function J8e(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function e7e(t,e,n){return n=n!=null?n.concat([t]):null,L7(4,4,J8e.bind(null,e,t),n)}function uJ(){}function t7e(t,e){var n=Lf();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sJ(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function n7e(t,e){var n=Lf();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sJ(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function r7e(t,e,n){return Nx&21?($h(n,e)||(n=o8e(),po.lanes|=n,Vx|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Oc=!0),t.memoizedState=n)}function i2t(t,e){var n=Mi;Mi=n!==0&&4>n?n:4,t(!0);var r=BN.transition;BN.transition={};try{t(!1),e()}finally{Mi=n,BN.transition=r}}function i7e(){return Lf().memoizedState}function s2t(t,e,n){var r=gv(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},s7e(t))o7e(e,n);else if(n=M8e(t,e,n,r),n!==null){var i=Bu();Ih(n,t,r,i),a7e(n,e,r)}}function o2t(t,e,n){var r=gv(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(s7e(t))o7e(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,$h(a,o)){var l=e.interleaved;l===null?(i.next=i,eJ(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=M8e(t,e,i,r),n!==null&&(i=Bu(),Ih(n,t,r,i),a7e(n,e,r))}}function s7e(t){var e=t.alternate;return t===po||e!==null&&e===po}function o7e(t,e){uk=RP=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function a7e(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,NQ(t,n)}}var jP={readContext:Of,useCallback:Nl,useContext:Nl,useEffect:Nl,useImperativeHandle:Nl,useInsertionEffect:Nl,useLayoutEffect:Nl,useMemo:Nl,useReducer:Nl,useRef:Nl,useState:Nl,useDebugValue:Nl,useDeferredValue:Nl,useTransition:Nl,useMutableSource:Nl,useSyncExternalStore:Nl,useId:Nl,unstable_isNewReconciler:!1},a2t={readContext:Of,useCallback:function(t,e){return Tp().memoizedState=[t,e===void 0?null:e],t},useContext:Of,useEffect:Ice,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nO(4194308,4,J8e.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nO(4194308,4,t,e)},useInsertionEffect:function(t,e){return nO(4,2,t,e)},useMemo:function(t,e){var n=Tp();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Tp();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=s2t.bind(null,po,t),[r.memoizedState,t]},useRef:function(t){var e=Tp();return t={current:t},e.memoizedState=t},useState:Ace,useDebugValue:uJ,useDeferredValue:function(t){return Tp().memoizedState=t},useTransition:function(){var t=Ace(!1),e=t[0];return t=i2t.bind(null,t[1]),Tp().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=po,i=Tp();if(zs){if(n===void 0)throw Error(ht(407));n=n()}else{if(n=e(),rl===null)throw Error(ht(349));Nx&30||W8e(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ice(q8e.bind(null,r,s,t),[t]),r.flags|=2048,vA(9,G8e.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Tp(),e=rl.identifierPrefix;if(zs){var n=Lg,r=Og;n=(r&~(1<<32-Ah(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=mA++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=r2t++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},l2t={readContext:Of,useCallback:t7e,useContext:Of,useEffect:lJ,useImperativeHandle:e7e,useInsertionEffect:X8e,useLayoutEffect:Q8e,useMemo:n7e,useReducer:NN,useRef:Z8e,useState:function(){return NN(gA)},useDebugValue:uJ,useDeferredValue:function(t){var e=Lf();return r7e(e,ka.memoizedState,t)},useTransition:function(){var t=NN(gA)[0],e=Lf().memoizedState;return[t,e]},useMutableSource:H8e,useSyncExternalStore:z8e,useId:i7e,unstable_isNewReconciler:!1},u2t={readContext:Of,useCallback:t7e,useContext:Of,useEffect:lJ,useImperativeHandle:e7e,useInsertionEffect:X8e,useLayoutEffect:Q8e,useMemo:n7e,useReducer:VN,useRef:Z8e,useState:function(){return VN(gA)},useDebugValue:uJ,useDeferredValue:function(t){var e=Lf();return ka===null?e.memoizedState=t:r7e(e,ka.memoizedState,t)},useTransition:function(){var t=VN(gA)[0],e=Lf().memoizedState;return[t,e]},useMutableSource:H8e,useSyncExternalStore:z8e,useId:i7e,unstable_isNewReconciler:!1};function z_(t,e){try{var n="",r=e;do n+=$xt(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function UN(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function pG(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var c2t=typeof WeakMap=="function"?WeakMap:Map;function l7e(t,e,n){n=Hg(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){LP||(LP=!0,EG=r),pG(t,e)},n}function u7e(t,e,n){n=Hg(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){pG(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){pG(t,e),typeof r!="function"&&(mv===null?mv=new Set([this]):mv.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Dce(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new c2t;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=E2t.bind(null,t,e,n),e.then(t,t))}function Rce(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jce(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Hg(-1,1),e.tag=2,pv(n,e,1))),n.lanes|=1),t)}var d2t=S0.ReactCurrentOwner,Oc=!1;function ju(t,e,n,r){e.child=t===null?V8e(e,null,n,r):U_(e,t.child,n,r)}function Oce(t,e,n,r,i){n=n.render;var s=e.ref;return K5(e,i),r=oJ(t,e,n,r,s,i),n=aJ(),t!==null&&!Oc?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,t0(t,e,i)):(zs&&n&&YQ(e),e.flags|=1,ju(t,e,r,i),e.child)}function Lce(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!vJ(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,c7e(t,e,s,r,i)):(t=oO(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:uA,n(o,r)&&t.ref===e.ref)return t0(t,e,i)}return e.flags|=1,t=vv(s,r),t.ref=e.ref,t.return=e,e.child=t}function c7e(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(uA(s,r)&&t.ref===e.ref)if(Oc=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Oc=!0);else return e.lanes=t.lanes,t0(t,e,i)}return mG(t,e,n,r,i)}function d7e(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ys(_5,ad),ad|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ys(_5,ad),ad|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ys(_5,ad),ad|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ys(_5,ad),ad|=r;return ju(t,e,i,n),e.child}function f7e(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function mG(t,e,n,r,i){var s=$c(n)?Fx:mu.current;return s=N_(e,s),K5(e,i),n=oJ(t,e,n,r,s,i),r=aJ(),t!==null&&!Oc?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,t0(t,e,i)):(zs&&r&&YQ(e),e.flags|=1,ju(t,e,n,i),e.child)}function Pce(t,e,n,r,i){if($c(n)){var s=!0;EP(e)}else s=!1;if(K5(e,i),e.stateNode===null)rO(t,e),B8e(e,n,r),hG(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Of(u):(u=$c(n)?Fx:mu.current,u=N_(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Tce(e,o,r,u),k1=!1;var h=e.memoizedState;o.state=h,IP(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Mc.current||k1?(typeof d=="function"&&(fG(e,n,d,r),l=e.memoizedState),(a=k1||Sce(e,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,$8e(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ch(e.type,a),o.props=u,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Of(l):(l=$c(n)?Fx:mu.current,l=N_(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Tce(e,o,r,l),k1=!1,h=e.memoizedState,o.state=h,IP(e,r,o,i);var g=e.memoizedState;a!==f||h!==g||Mc.current||k1?(typeof p=="function"&&(fG(e,n,p,r),g=e.memoizedState),(u=k1||Sce(e,n,u,r,h,g,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return gG(t,e,n,r,s,i)}function gG(t,e,n,r,i,s){f7e(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&xce(e,n,!1),t0(t,e,s);r=e.stateNode,d2t.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=U_(e,t.child,null,s),e.child=U_(e,null,a,s)):ju(t,e,a,s),e.memoizedState=r.state,i&&xce(e,n,!0),e.child}function h7e(t){var e=t.stateNode;e.pendingContext?bce(t,e.pendingContext,e.pendingContext!==e.context):e.context&&bce(t,e.context,!1),nJ(t,e.containerInfo)}function Mce(t,e,n,r,i){return V_(),ZQ(i),e.flags|=256,ju(t,e,n,r),e.child}var vG={dehydrated:null,treeContext:null,retryLane:0};function yG(t){return{baseLanes:t,cachePool:null,transitions:null}}function p7e(t,e,n){var r=e.pendingProps,i=lo.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ys(lo,i&1),t===null)return cG(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=$7(o,r,0,null),t=yx(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=yG(n),e.memoizedState=vG,t):cJ(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return f2t(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=vv(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=vv(a,s):(s=yx(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?yG(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=vG,r}return s=t.child,t=s.sibling,r=vv(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function cJ(t,e){return e=$7({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function FR(t,e,n,r){return r!==null&&ZQ(r),U_(e,t.child,null,n),t=cJ(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function f2t(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=UN(Error(ht(422))),FR(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=$7({mode:"visible",children:r.children},i,0,null),s=yx(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&U_(e,t.child,null,o),e.child.memoizedState=yG(o),e.memoizedState=vG,s);if(!(e.mode&1))return FR(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ht(419)),r=UN(s,r,void 0),FR(t,e,o,r)}if(a=(o&t.childLanes)!==0,Oc||a){if(r=rl,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,e0(t,i),Ih(r,t,i,-1))}return gJ(),r=UN(Error(ht(421))),FR(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=S2t.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,yd=hv(i.nextSibling),xd=e,zs=!0,fh=null,t!==null&&(ff[hf++]=Og,ff[hf++]=Lg,ff[hf++]=Bx,Og=t.id,Lg=t.overflow,Bx=e),e=cJ(e,r.children),e.flags|=4096,e)}function $ce(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),dG(t.return,e,n)}function HN(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function m7e(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ju(t,e,r.children,n),r=lo.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$ce(t,n,e);else if(t.tag===19)$ce(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ys(lo,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&DP(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),HN(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&DP(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}HN(e,!0,n,null,s);break;case"together":HN(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rO(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function t0(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Vx|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ht(153));if(e.child!==null){for(t=e.child,n=vv(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vv(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function h2t(t,e,n){switch(e.tag){case 3:h7e(e),V_();break;case 5:U8e(e);break;case 1:$c(e.type)&&EP(e);break;case 4:nJ(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ys(kP,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ys(lo,lo.current&1),e.flags|=128,null):n&e.child.childLanes?p7e(t,e,n):(ys(lo,lo.current&1),t=t0(t,e,n),t!==null?t.sibling:null);ys(lo,lo.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return m7e(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ys(lo,lo.current),r)break;return null;case 22:case 23:return e.lanes=0,d7e(t,e,n)}return t0(t,e,n)}var g7e,bG,v7e,y7e;g7e=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bG=function(){};v7e=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Zb(rm.current);var s=null;switch(n){case"input":i=VW(t,i),r=VW(t,r),s=[];break;case"select":i=mo({},i,{value:void 0}),r=mo({},r,{value:void 0}),s=[];break;case"textarea":i=zW(t,i),r=zW(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_P)}GW(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(nA.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(nA.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&As("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};y7e=function(t,e,n,r){n!==r&&(e.flags|=4)};function pS(t,e){if(!zs)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Vl(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function p2t(t,e,n){var r=e.pendingProps;switch(KQ(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vl(e),null;case 1:return $c(e.type)&&CP(),Vl(e),null;case 3:return r=e.stateNode,H_(),Os(Mc),Os(mu),iJ(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(MR(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fh!==null&&(kG(fh),fh=null))),bG(t,e),Vl(e),null;case 5:rJ(e);var i=Zb(pA.current);if(n=e.type,t!==null&&e.stateNode!=null)v7e(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ht(166));return Vl(e),null}if(t=Zb(rm.current),MR(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Up]=e,r[fA]=s,t=(e.mode&1)!==0,n){case"dialog":As("cancel",r),As("close",r);break;case"iframe":case"object":case"embed":As("load",r);break;case"video":case"audio":for(i=0;i<CT.length;i++)As(CT[i],r);break;case"source":As("error",r);break;case"img":case"image":case"link":As("error",r),As("load",r);break;case"details":As("toggle",r);break;case"input":Gue(r,s),As("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},As("invalid",r);break;case"textarea":Yue(r,s),As("invalid",r)}GW(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&PR(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&PR(r.textContent,a,t),i=["children",""+a]):nA.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&As("scroll",r)}switch(n){case"input":kR(r),que(r,s,!0);break;case"textarea":kR(r),Kue(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=_P)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=W6e(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Up]=e,t[fA]=r,g7e(t,e,!1,!1),e.stateNode=t;e:{switch(o=qW(n,r),n){case"dialog":As("cancel",t),As("close",t),i=r;break;case"iframe":case"object":case"embed":As("load",t),i=r;break;case"video":case"audio":for(i=0;i<CT.length;i++)As(CT[i],t);i=r;break;case"source":As("error",t),i=r;break;case"img":case"image":case"link":As("error",t),As("load",t),i=r;break;case"details":As("toggle",t),i=r;break;case"input":Gue(t,r),i=VW(t,r),As("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=mo({},r,{value:void 0}),As("invalid",t);break;case"textarea":Yue(t,r),i=zW(t,r),As("invalid",t);break;default:i=r}GW(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Y6e(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&G6e(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&rA(t,l):typeof l=="number"&&rA(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(nA.hasOwnProperty(s)?l!=null&&s==="onScroll"&&As("scroll",t):l!=null&&LQ(t,s,l,o))}switch(n){case"input":kR(t),que(t,r,!1);break;case"textarea":kR(t),Kue(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Lv(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?W5(t,!!r.multiple,s,!1):r.defaultValue!=null&&W5(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=_P)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vl(e),null;case 6:if(t&&e.stateNode!=null)y7e(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ht(166));if(n=Zb(pA.current),Zb(rm.current),MR(e)){if(r=e.stateNode,n=e.memoizedProps,r[Up]=e,(s=r.nodeValue!==n)&&(t=xd,t!==null))switch(t.tag){case 3:PR(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&PR(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Up]=e,e.stateNode=r}return Vl(e),null;case 13:if(Os(lo),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(zs&&yd!==null&&e.mode&1&&!(e.flags&128))P8e(),V_(),e.flags|=98560,s=!1;else if(s=MR(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ht(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ht(317));s[Up]=e}else V_(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vl(e),s=!1}else fh!==null&&(kG(fh),fh=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||lo.current&1?ja===0&&(ja=3):gJ())),e.updateQueue!==null&&(e.flags|=4),Vl(e),null);case 4:return H_(),bG(t,e),t===null&&cA(e.stateNode.containerInfo),Vl(e),null;case 10:return JQ(e.type._context),Vl(e),null;case 17:return $c(e.type)&&CP(),Vl(e),null;case 19:if(Os(lo),s=e.memoizedState,s===null)return Vl(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)pS(s,!1);else{if(ja!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=DP(t),o!==null){for(e.flags|=128,pS(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ys(lo,lo.current&1|2),e.child}t=t.sibling}s.tail!==null&&Yo()>W_&&(e.flags|=128,r=!0,pS(s,!1),e.lanes=4194304)}else{if(!r)if(t=DP(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),pS(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!zs)return Vl(e),null}else 2*Yo()-s.renderingStartTime>W_&&n!==1073741824&&(e.flags|=128,r=!0,pS(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Yo(),e.sibling=null,n=lo.current,ys(lo,r?n&1|2:n&1),e):(Vl(e),null);case 22:case 23:return mJ(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ad&1073741824&&(Vl(e),e.subtreeFlags&6&&(e.flags|=8192)):Vl(e),null;case 24:return null;case 25:return null}throw Error(ht(156,e.tag))}function m2t(t,e){switch(KQ(e),e.tag){case 1:return $c(e.type)&&CP(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return H_(),Os(Mc),Os(mu),iJ(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rJ(e),null;case 13:if(Os(lo),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ht(340));V_()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Os(lo),null;case 4:return H_(),null;case 10:return JQ(e.type._context),null;case 22:case 23:return mJ(),null;case 24:return null;default:return null}}var BR=!1,au=!1,g2t=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function w5(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){To(t,e,r)}else n.current=null}function xG(t,e,n){try{n()}catch(r){To(t,e,r)}}var Fce=!1;function v2t(t,e){if(rG=bP,t=_8e(),qQ(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++d===r&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(iG={focusedElem:t,selectionRange:n},bP=!1,Gt=e;Gt!==null;)if(e=Gt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Gt=t;else for(;Gt!==null;){e=Gt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,y=g.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:ch(e.type,v),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ht(163))}}catch(C){To(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Gt=t;break}Gt=e.return}return g=Fce,Fce=!1,g}function ck(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&xG(e,n,s)}i=i.next}while(i!==r)}}function P7(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function wG(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function b7e(t){var e=t.alternate;e!==null&&(t.alternate=null,b7e(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Up],delete e[fA],delete e[aG],delete e[Jwt],delete e[e2t])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function x7e(t){return t.tag===5||t.tag===3||t.tag===4}function Bce(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||x7e(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _G(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_P));else if(r!==4&&(t=t.child,t!==null))for(_G(t,e,n),t=t.sibling;t!==null;)_G(t,e,n),t=t.sibling}function CG(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(CG(t,e,n),t=t.sibling;t!==null;)CG(t,e,n),t=t.sibling}var yl=null,dh=!1;function e1(t,e,n){for(n=n.child;n!==null;)w7e(t,e,n),n=n.sibling}function w7e(t,e,n){if(nm&&typeof nm.onCommitFiberUnmount=="function")try{nm.onCommitFiberUnmount(k7,n)}catch{}switch(n.tag){case 5:au||w5(n,e);case 6:var r=yl,i=dh;yl=null,e1(t,e,n),yl=r,dh=i,yl!==null&&(dh?(t=yl,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yl.removeChild(n.stateNode));break;case 18:yl!==null&&(dh?(t=yl,n=n.stateNode,t.nodeType===8?MN(t.parentNode,n):t.nodeType===1&&MN(t,n),aA(t)):MN(yl,n.stateNode));break;case 4:r=yl,i=dh,yl=n.stateNode.containerInfo,dh=!0,e1(t,e,n),yl=r,dh=i;break;case 0:case 11:case 14:case 15:if(!au&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&xG(n,e,o),i=i.next}while(i!==r)}e1(t,e,n);break;case 1:if(!au&&(w5(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){To(n,e,a)}e1(t,e,n);break;case 21:e1(t,e,n);break;case 22:n.mode&1?(au=(r=au)||n.memoizedState!==null,e1(t,e,n),au=r):e1(t,e,n);break;default:e1(t,e,n)}}function Nce(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new g2t),e.forEach(function(r){var i=T2t.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function th(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:yl=a.stateNode,dh=!1;break e;case 3:yl=a.stateNode.containerInfo,dh=!0;break e;case 4:yl=a.stateNode.containerInfo,dh=!0;break e}a=a.return}if(yl===null)throw Error(ht(160));w7e(s,o,i),yl=null,dh=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){To(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_7e(e,t),e=e.sibling}function _7e(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(th(e,t),up(t),r&4){try{ck(3,t,t.return),P7(3,t)}catch(v){To(t,t.return,v)}try{ck(5,t,t.return)}catch(v){To(t,t.return,v)}}break;case 1:th(e,t),up(t),r&512&&n!==null&&w5(n,n.return);break;case 5:if(th(e,t),up(t),r&512&&n!==null&&w5(n,n.return),t.flags&32){var i=t.stateNode;try{rA(i,"")}catch(v){To(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&H6e(i,s),qW(a,o);var u=qW(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?Y6e(i,f):d==="dangerouslySetInnerHTML"?G6e(i,f):d==="children"?rA(i,f):LQ(i,d,f,u)}switch(a){case"input":UW(i,s);break;case"textarea":z6e(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?W5(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?W5(i,!!s.multiple,s.defaultValue,!0):W5(i,!!s.multiple,s.multiple?[]:"",!1))}i[fA]=s}catch(v){To(t,t.return,v)}}break;case 6:if(th(e,t),up(t),r&4){if(t.stateNode===null)throw Error(ht(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){To(t,t.return,v)}}break;case 3:if(th(e,t),up(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{aA(e.containerInfo)}catch(v){To(t,t.return,v)}break;case 4:th(e,t),up(t);break;case 13:th(e,t),up(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(hJ=Yo())),r&4&&Nce(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(au=(u=au)||d,th(e,t),au=u):th(e,t),up(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Gt=t,d=t.child;d!==null;){for(f=Gt=d;Gt!==null;){switch(h=Gt,p=h.child,h.tag){case 0:case 11:case 14:case 15:ck(4,h,h.return);break;case 1:w5(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){To(r,n,v)}}break;case 5:w5(h,h.return);break;case 22:if(h.memoizedState!==null){Uce(f);continue}}p!==null?(p.return=h,Gt=p):Uce(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=q6e("display",o))}catch(v){To(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){To(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:th(e,t),up(t),r&4&&Nce(t);break;case 21:break;default:th(e,t),up(t)}}function up(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(x7e(n)){var r=n;break e}n=n.return}throw Error(ht(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(rA(i,""),r.flags&=-33);var s=Bce(t);CG(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Bce(t);_G(t,a,o);break;default:throw Error(ht(161))}}catch(l){To(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function y2t(t,e,n){Gt=t,C7e(t)}function C7e(t,e,n){for(var r=(t.mode&1)!==0;Gt!==null;){var i=Gt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||BR;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||au;a=BR;var u=au;if(BR=o,(au=l)&&!u)for(Gt=i;Gt!==null;)o=Gt,l=o.child,o.tag===22&&o.memoizedState!==null?Hce(i):l!==null?(l.return=o,Gt=l):Hce(i);for(;s!==null;)Gt=s,C7e(s),s=s.sibling;Gt=i,BR=a,au=u}Vce(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Gt=s):Vce(t)}}function Vce(t){for(;Gt!==null;){var e=Gt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:au||P7(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!au)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ch(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ece(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ece(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&aA(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ht(163))}au||e.flags&512&&wG(e)}catch(h){To(e,e.return,h)}}if(e===t){Gt=null;break}if(n=e.sibling,n!==null){n.return=e.return,Gt=n;break}Gt=e.return}}function Uce(t){for(;Gt!==null;){var e=Gt;if(e===t){Gt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Gt=n;break}Gt=e.return}}function Hce(t){for(;Gt!==null;){var e=Gt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{P7(4,e)}catch(l){To(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){To(e,i,l)}}var s=e.return;try{wG(e)}catch(l){To(e,s,l)}break;case 5:var o=e.return;try{wG(e)}catch(l){To(e,o,l)}}}catch(l){To(e,e.return,l)}if(e===t){Gt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Gt=a;break}Gt=e.return}}var b2t=Math.ceil,OP=S0.ReactCurrentDispatcher,dJ=S0.ReactCurrentOwner,Af=S0.ReactCurrentBatchConfig,Jr=0,rl=null,da=null,kl=0,ad=0,_5=ly(0),ja=0,yA=null,Vx=0,M7=0,fJ=0,dk=null,Sc=null,hJ=0,W_=1/0,wg=null,LP=!1,EG=null,mv=null,NR=!1,z1=null,PP=0,fk=0,SG=null,iO=-1,sO=0;function Bu(){return Jr&6?Yo():iO!==-1?iO:iO=Yo()}function gv(t){return t.mode&1?Jr&2&&kl!==0?kl&-kl:n2t.transition!==null?(sO===0&&(sO=o8e()),sO):(t=Mi,t!==0||(t=window.event,t=t===void 0?16:h8e(t.type)),t):1}function Ih(t,e,n,r){if(50<fk)throw fk=0,SG=null,Error(ht(185));J3(t,n,r),(!(Jr&2)||t!==rl)&&(t===rl&&(!(Jr&2)&&(M7|=n),ja===4&&P1(t,kl)),Fc(t,r),n===1&&Jr===0&&!(e.mode&1)&&(W_=Yo()+500,j7&&uy()))}function Fc(t,e){var n=t.callbackNode;nwt(t,e);var r=yP(t,t===rl?kl:0);if(r===0)n!==null&&Que(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Que(n),e===1)t.tag===0?t2t(zce.bind(null,t)):j8e(zce.bind(null,t)),Xwt(function(){!(Jr&6)&&uy()}),n=null;else{switch(a8e(r)){case 1:n=BQ;break;case 4:n=i8e;break;case 16:n=vP;break;case 536870912:n=s8e;break;default:n=vP}n=R7e(n,E7e.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function E7e(t,e){if(iO=-1,sO=0,Jr&6)throw Error(ht(327));var n=t.callbackNode;if(Z5()&&t.callbackNode!==n)return null;var r=yP(t,t===rl?kl:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=MP(t,r);else{e=r;var i=Jr;Jr|=2;var s=T7e();(rl!==t||kl!==e)&&(wg=null,W_=Yo()+500,vx(t,e));do try{_2t();break}catch(a){S7e(t,a)}while(1);QQ(),OP.current=s,Jr=i,da!==null?e=0:(rl=null,kl=0,e=ja)}if(e!==0){if(e===2&&(i=QW(t),i!==0&&(r=i,e=TG(t,i))),e===1)throw n=yA,vx(t,0),P1(t,r),Fc(t,Yo()),n;if(e===6)P1(t,r);else{if(i=t.current.alternate,!(r&30)&&!x2t(i)&&(e=MP(t,r),e===2&&(s=QW(t),s!==0&&(r=s,e=TG(t,s))),e===1))throw n=yA,vx(t,0),P1(t,r),Fc(t,Yo()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ht(345));case 2:gb(t,Sc,wg);break;case 3:if(P1(t,r),(r&130023424)===r&&(e=hJ+500-Yo(),10<e)){if(yP(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Bu(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=oG(gb.bind(null,t,Sc,wg),e);break}gb(t,Sc,wg);break;case 4:if(P1(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ah(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Yo()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*b2t(r/1960))-r,10<r){t.timeoutHandle=oG(gb.bind(null,t,Sc,wg),r);break}gb(t,Sc,wg);break;case 5:gb(t,Sc,wg);break;default:throw Error(ht(329))}}}return Fc(t,Yo()),t.callbackNode===n?E7e.bind(null,t):null}function TG(t,e){var n=dk;return t.current.memoizedState.isDehydrated&&(vx(t,e).flags|=256),t=MP(t,e),t!==2&&(e=Sc,Sc=n,e!==null&&kG(e)),t}function kG(t){Sc===null?Sc=t:Sc.push.apply(Sc,t)}function x2t(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!$h(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function P1(t,e){for(e&=~fJ,e&=~M7,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ah(e),r=1<<n;t[n]=-1,e&=~r}}function zce(t){if(Jr&6)throw Error(ht(327));Z5();var e=yP(t,0);if(!(e&1))return Fc(t,Yo()),null;var n=MP(t,e);if(t.tag!==0&&n===2){var r=QW(t);r!==0&&(e=r,n=TG(t,r))}if(n===1)throw n=yA,vx(t,0),P1(t,e),Fc(t,Yo()),n;if(n===6)throw Error(ht(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,gb(t,Sc,wg),Fc(t,Yo()),null}function pJ(t,e){var n=Jr;Jr|=1;try{return t(e)}finally{Jr=n,Jr===0&&(W_=Yo()+500,j7&&uy())}}function Ux(t){z1!==null&&z1.tag===0&&!(Jr&6)&&Z5();var e=Jr;Jr|=1;var n=Af.transition,r=Mi;try{if(Af.transition=null,Mi=1,t)return t()}finally{Mi=r,Af.transition=n,Jr=e,!(Jr&6)&&uy()}}function mJ(){ad=_5.current,Os(_5)}function vx(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Zwt(n)),da!==null)for(n=da.return;n!==null;){var r=n;switch(KQ(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&CP();break;case 3:H_(),Os(Mc),Os(mu),iJ();break;case 5:rJ(r);break;case 4:H_();break;case 13:Os(lo);break;case 19:Os(lo);break;case 10:JQ(r.type._context);break;case 22:case 23:mJ()}n=n.return}if(rl=t,da=t=vv(t.current,null),kl=ad=e,ja=0,yA=null,fJ=M7=Vx=0,Sc=dk=null,Kb!==null){for(e=0;e<Kb.length;e++)if(n=Kb[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Kb=null}return t}function S7e(t,e){do{var n=da;try{if(QQ(),tO.current=jP,RP){for(var r=po.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}RP=!1}if(Nx=0,qa=ka=po=null,uk=!1,mA=0,dJ.current=null,n===null||n.return===null){ja=1,yA=e,da=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=kl,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Rce(o);if(p!==null){p.flags&=-257,jce(p,o,a,s,e),p.mode&1&&Dce(s,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){Dce(s,u,e),gJ();break e}l=Error(ht(426))}}else if(zs&&a.mode&1){var y=Rce(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),jce(y,o,a,s,e),ZQ(z_(l,a));break e}}s=l=z_(l,a),ja!==4&&(ja=2),dk===null?dk=[s]:dk.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=l7e(s,l,e);Cce(s,x);break e;case 1:a=l;var b=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(mv===null||!mv.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=u7e(s,a,e);Cce(s,C);break e}}s=s.return}while(s!==null)}A7e(n)}catch(S){e=S,da===n&&n!==null&&(da=n=n.return);continue}break}while(1)}function T7e(){var t=OP.current;return OP.current=jP,t===null?jP:t}function gJ(){(ja===0||ja===3||ja===2)&&(ja=4),rl===null||!(Vx&268435455)&&!(M7&268435455)||P1(rl,kl)}function MP(t,e){var n=Jr;Jr|=2;var r=T7e();(rl!==t||kl!==e)&&(wg=null,vx(t,e));do try{w2t();break}catch(i){S7e(t,i)}while(1);if(QQ(),Jr=n,OP.current=r,da!==null)throw Error(ht(261));return rl=null,kl=0,ja}function w2t(){for(;da!==null;)k7e(da)}function _2t(){for(;da!==null&&!qxt();)k7e(da)}function k7e(t){var e=D7e(t.alternate,t,ad);t.memoizedProps=t.pendingProps,e===null?A7e(t):da=e,dJ.current=null}function A7e(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=m2t(n,e),n!==null){n.flags&=32767,da=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ja=6,da=null;return}}else if(n=p2t(n,e,ad),n!==null){da=n;return}if(e=e.sibling,e!==null){da=e;return}da=e=t}while(e!==null);ja===0&&(ja=5)}function gb(t,e,n){var r=Mi,i=Af.transition;try{Af.transition=null,Mi=1,C2t(t,e,n,r)}finally{Af.transition=i,Mi=r}return null}function C2t(t,e,n,r){do Z5();while(z1!==null);if(Jr&6)throw Error(ht(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ht(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(rwt(t,s),t===rl&&(da=rl=null,kl=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||NR||(NR=!0,R7e(vP,function(){return Z5(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Af.transition,Af.transition=null;var o=Mi;Mi=1;var a=Jr;Jr|=4,dJ.current=null,v2t(t,n),_7e(n,t),Hwt(iG),bP=!!rG,iG=rG=null,t.current=n,y2t(n),Yxt(),Jr=a,Mi=o,Af.transition=s}else t.current=n;if(NR&&(NR=!1,z1=t,PP=i),s=t.pendingLanes,s===0&&(mv=null),Xxt(n.stateNode),Fc(t,Yo()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(LP)throw LP=!1,t=EG,EG=null,t;return PP&1&&t.tag!==0&&Z5(),s=t.pendingLanes,s&1?t===SG?fk++:(fk=0,SG=t):fk=0,uy(),null}function Z5(){if(z1!==null){var t=a8e(PP),e=Af.transition,n=Mi;try{if(Af.transition=null,Mi=16>t?16:t,z1===null)var r=!1;else{if(t=z1,z1=null,PP=0,Jr&6)throw Error(ht(331));var i=Jr;for(Jr|=4,Gt=t.current;Gt!==null;){var s=Gt,o=s.child;if(Gt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Gt=u;Gt!==null;){var d=Gt;switch(d.tag){case 0:case 11:case 15:ck(8,d,s)}var f=d.child;if(f!==null)f.return=d,Gt=f;else for(;Gt!==null;){d=Gt;var h=d.sibling,p=d.return;if(b7e(d),d===u){Gt=null;break}if(h!==null){h.return=p,Gt=h;break}Gt=p}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}Gt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Gt=o;else e:for(;Gt!==null;){if(s=Gt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ck(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,Gt=x;break e}Gt=s.return}}var b=t.current;for(Gt=b;Gt!==null;){o=Gt;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Gt=_;else e:for(o=b;Gt!==null;){if(a=Gt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:P7(9,a)}}catch(S){To(a,a.return,S)}if(a===o){Gt=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Gt=C;break e}Gt=a.return}}if(Jr=i,uy(),nm&&typeof nm.onPostCommitFiberRoot=="function")try{nm.onPostCommitFiberRoot(k7,t)}catch{}r=!0}return r}finally{Mi=n,Af.transition=e}}return!1}function Wce(t,e,n){e=z_(n,e),e=l7e(t,e,1),t=pv(t,e,1),e=Bu(),t!==null&&(J3(t,1,e),Fc(t,e))}function To(t,e,n){if(t.tag===3)Wce(t,t,n);else for(;e!==null;){if(e.tag===3){Wce(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mv===null||!mv.has(r))){t=z_(n,t),t=u7e(e,t,1),e=pv(e,t,1),t=Bu(),e!==null&&(J3(e,1,t),Fc(e,t));break}}e=e.return}}function E2t(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Bu(),t.pingedLanes|=t.suspendedLanes&n,rl===t&&(kl&n)===n&&(ja===4||ja===3&&(kl&130023424)===kl&&500>Yo()-hJ?vx(t,0):fJ|=n),Fc(t,e)}function I7e(t,e){e===0&&(t.mode&1?(e=DR,DR<<=1,!(DR&130023424)&&(DR=4194304)):e=1);var n=Bu();t=e0(t,e),t!==null&&(J3(t,e,n),Fc(t,n))}function S2t(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),I7e(t,n)}function T2t(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ht(314))}r!==null&&r.delete(e),I7e(t,n)}var D7e;D7e=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mc.current)Oc=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Oc=!1,h2t(t,e,n);Oc=!!(t.flags&131072)}else Oc=!1,zs&&e.flags&1048576&&O8e(e,TP,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rO(t,e),t=e.pendingProps;var i=N_(e,mu.current);K5(e,n),i=oJ(null,e,r,t,i,n);var s=aJ();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$c(r)?(s=!0,EP(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,tJ(e),i.updater=O7,e.stateNode=i,i._reactInternals=e,hG(e,r,t,n),e=gG(null,e,r,!0,s,n)):(e.tag=0,zs&&s&&YQ(e),ju(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(rO(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=A2t(r),t=ch(r,t),i){case 0:e=mG(null,e,r,t,n);break e;case 1:e=Pce(null,e,r,t,n);break e;case 11:e=Oce(null,e,r,t,n);break e;case 14:e=Lce(null,e,r,ch(r.type,t),n);break e}throw Error(ht(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ch(r,i),mG(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ch(r,i),Pce(t,e,r,i,n);case 3:e:{if(h7e(e),t===null)throw Error(ht(387));r=e.pendingProps,s=e.memoizedState,i=s.element,$8e(t,e),IP(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=z_(Error(ht(423)),e),e=Mce(t,e,r,n,i);break e}else if(r!==i){i=z_(Error(ht(424)),e),e=Mce(t,e,r,n,i);break e}else for(yd=hv(e.stateNode.containerInfo.firstChild),xd=e,zs=!0,fh=null,n=V8e(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(V_(),r===i){e=t0(t,e,n);break e}ju(t,e,r,n)}e=e.child}return e;case 5:return U8e(e),t===null&&cG(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,sG(r,i)?o=null:s!==null&&sG(r,s)&&(e.flags|=32),f7e(t,e),ju(t,e,o,n),e.child;case 6:return t===null&&cG(e),null;case 13:return p7e(t,e,n);case 4:return nJ(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=U_(e,null,r,n):ju(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ch(r,i),Oce(t,e,r,i,n);case 7:return ju(t,e,e.pendingProps,n),e.child;case 8:return ju(t,e,e.pendingProps.children,n),e.child;case 12:return ju(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ys(kP,r._currentValue),r._currentValue=o,s!==null)if($h(s.value,o)){if(s.children===i.children&&!Mc.current){e=t0(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Hg(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),dG(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ht(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),dG(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ju(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,K5(e,n),i=Of(i),r=r(i),e.flags|=1,ju(t,e,r,n),e.child;case 14:return r=e.type,i=ch(r,e.pendingProps),i=ch(r.type,i),Lce(t,e,r,i,n);case 15:return c7e(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ch(r,i),rO(t,e),e.tag=1,$c(r)?(t=!0,EP(e)):t=!1,K5(e,n),B8e(e,r,i),hG(e,r,i,n),gG(null,e,r,!0,t,n);case 19:return m7e(t,e,n);case 22:return d7e(t,e,n)}throw Error(ht(156,e.tag))};function R7e(t,e){return r8e(t,e)}function k2t(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yf(t,e,n,r){return new k2t(t,e,n,r)}function vJ(t){return t=t.prototype,!(!t||!t.isReactComponent)}function A2t(t){if(typeof t=="function")return vJ(t)?1:0;if(t!=null){if(t=t.$$typeof,t===MQ)return 11;if(t===$Q)return 14}return 2}function vv(t,e){var n=t.alternate;return n===null?(n=yf(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function oO(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")vJ(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case f5:return yx(n.children,i,s,e);case PQ:o=8,i|=8;break;case $W:return t=yf(12,n,e,i|2),t.elementType=$W,t.lanes=s,t;case FW:return t=yf(13,n,e,i),t.elementType=FW,t.lanes=s,t;case BW:return t=yf(19,n,e,i),t.elementType=BW,t.lanes=s,t;case N6e:return $7(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case F6e:o=10;break e;case B6e:o=9;break e;case MQ:o=11;break e;case $Q:o=14;break e;case T1:o=16,r=null;break e}throw Error(ht(130,t==null?t:typeof t,""))}return e=yf(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function yx(t,e,n,r){return t=yf(7,t,r,e),t.lanes=n,t}function $7(t,e,n,r){return t=yf(22,t,r,e),t.elementType=N6e,t.lanes=n,t.stateNode={isHidden:!1},t}function zN(t,e,n){return t=yf(6,t,null,e),t.lanes=n,t}function WN(t,e,n){return e=yf(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function I2t(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=SN(0),this.expirationTimes=SN(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=SN(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function yJ(t,e,n,r,i,s,o,a,l){return t=new I2t(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=yf(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tJ(s),t}function D2t(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d5,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function j7e(t){if(!t)return Pv;t=t._reactInternals;e:{if(ow(t)!==t||t.tag!==1)throw Error(ht(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($c(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ht(171))}if(t.tag===1){var n=t.type;if($c(n))return R8e(t,n,e)}return e}function O7e(t,e,n,r,i,s,o,a,l){return t=yJ(n,r,!0,t,i,s,o,a,l),t.context=j7e(null),n=t.current,r=Bu(),i=gv(n),s=Hg(r,i),s.callback=e??null,pv(n,s,i),t.current.lanes=i,J3(t,i,r),Fc(t,r),t}function F7(t,e,n,r){var i=e.current,s=Bu(),o=gv(i);return n=j7e(n),e.context===null?e.context=n:e.pendingContext=n,e=Hg(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=pv(i,e,o),t!==null&&(Ih(t,i,o,s),eO(t,i,o)),o}function $P(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Gce(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function bJ(t,e){Gce(t,e),(t=t.alternate)&&Gce(t,e)}function R2t(){return null}var L7e=typeof reportError=="function"?reportError:function(t){console.error(t)};function xJ(t){this._internalRoot=t}B7.prototype.render=xJ.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ht(409));F7(t,e,null,null)};B7.prototype.unmount=xJ.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ux(function(){F7(null,t,null,null)}),e[Jg]=null}};function B7(t){this._internalRoot=t}B7.prototype.unstable_scheduleHydration=function(t){if(t){var e=c8e();t={blockedOn:null,target:t,priority:e};for(var n=0;n<L1.length&&e!==0&&e<L1[n].priority;n++);L1.splice(n,0,t),n===0&&f8e(t)}};function wJ(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function N7(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qce(){}function j2t(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=$P(o);s.call(u)}}var o=O7e(e,r,t,0,null,!1,!1,"",qce);return t._reactRootContainer=o,t[Jg]=o.current,cA(t.nodeType===8?t.parentNode:t),Ux(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=$P(l);a.call(u)}}var l=yJ(t,0,!1,null,null,!1,!1,"",qce);return t._reactRootContainer=l,t[Jg]=l.current,cA(t.nodeType===8?t.parentNode:t),Ux(function(){F7(e,l,n,r)}),l}function V7(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=$P(o);a.call(l)}}F7(e,o,t,i)}else o=j2t(n,e,t,i,r);return $P(o)}l8e=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=_T(e.pendingLanes);n!==0&&(NQ(e,n|1),Fc(e,Yo()),!(Jr&6)&&(W_=Yo()+500,uy()))}break;case 13:Ux(function(){var r=e0(t,1);if(r!==null){var i=Bu();Ih(r,t,1,i)}}),bJ(t,1)}};VQ=function(t){if(t.tag===13){var e=e0(t,134217728);if(e!==null){var n=Bu();Ih(e,t,134217728,n)}bJ(t,134217728)}};u8e=function(t){if(t.tag===13){var e=gv(t),n=e0(t,e);if(n!==null){var r=Bu();Ih(n,t,e,r)}bJ(t,e)}};c8e=function(){return Mi};d8e=function(t,e){var n=Mi;try{return Mi=t,e()}finally{Mi=n}};KW=function(t,e,n){switch(e){case"input":if(UW(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=R7(r);if(!i)throw Error(ht(90));U6e(r),UW(r,i)}}}break;case"textarea":z6e(t,n);break;case"select":e=n.value,e!=null&&W5(t,!!n.multiple,e,!1)}};X6e=pJ;Q6e=Ux;var O2t={usingClientEntryPoint:!1,Events:[tI,g5,R7,K6e,Z6e,pJ]},mS={findFiberByHostInstance:Yb,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},L2t={bundleType:mS.bundleType,version:mS.version,rendererPackageName:mS.rendererPackageName,rendererConfig:mS.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S0.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=t8e(t),t===null?null:t.stateNode},findFiberByHostInstance:mS.findFiberByHostInstance||R2t,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var VR=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!VR.isDisabled&&VR.supportsFiber)try{k7=VR.inject(L2t),nm=VR}catch{}}jd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O2t;jd.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wJ(e))throw Error(ht(200));return D2t(t,e,null,n)};jd.createRoot=function(t,e){if(!wJ(t))throw Error(ht(299));var n=!1,r="",i=L7e;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=yJ(t,1,!1,null,null,n,!1,r,i),t[Jg]=e.current,cA(t.nodeType===8?t.parentNode:t),new xJ(e)};jd.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ht(188)):(t=Object.keys(t).join(","),Error(ht(268,t)));return t=t8e(e),t=t===null?null:t.stateNode,t};jd.flushSync=function(t){return Ux(t)};jd.hydrate=function(t,e,n){if(!N7(e))throw Error(ht(200));return V7(null,t,e,!0,n)};jd.hydrateRoot=function(t,e,n){if(!wJ(t))throw Error(ht(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=L7e;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=O7e(e,null,t,1,n??null,i,!1,s,o),t[Jg]=e.current,cA(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new B7(e)};jd.render=function(t,e,n){if(!N7(e))throw Error(ht(200));return V7(null,t,e,!1,n)};jd.unmountComponentAtNode=function(t){if(!N7(t))throw Error(ht(40));return t._reactRootContainer?(Ux(function(){V7(null,null,t,!1,function(){t._reactRootContainer=null,t[Jg]=null})}),!0):!1};jd.unstable_batchedUpdates=pJ;jd.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!N7(n))throw Error(ht(200));if(t==null||t._reactInternals===void 0)throw Error(ht(38));return V7(t,e,n,!1,r)};jd.version="18.2.0-next-9e3b772b8-20220608";function P7e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P7e)}catch(t){console.error(t)}}P7e(),O6e.exports=jd;var vf=O6e.exports;const M7e=vt(vf),$7e=t=>{const{element:e,padding:n}=t;function r(i){return{}.hasOwnProperty.call(i,"current")}return{name:"arrow",options:t,fn(i){return e&&r(e)?e.current!=null?$ue({element:e.current,padding:n}).fn(i):{}:e?$ue({element:e,padding:n}).fn(i):{}}}};var aO=typeof document<"u"?m.useLayoutEffect:m.useEffect;function FP(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!FP(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!FP(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function F7e(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Yce(t,e){const n=F7e(t);return Math.round(e*n)/n}function Kce(t){const e=m.useRef(t);return aO(()=>{e.current=t}),e}function B7e(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,f]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=m.useState(r);FP(h,r)||p(r);const[g,v]=m.useState(null),[y,x]=m.useState(null),b=m.useCallback(B=>{B!=T.current&&(T.current=B,v(B))},[v]),_=m.useCallback(B=>{B!==A.current&&(A.current=B,x(B))},[x]),C=s||g,S=o||y,T=m.useRef(null),A=m.useRef(null),k=m.useRef(d),I=Kce(l),D=Kce(i),R=m.useCallback(()=>{if(!T.current||!A.current)return;const B={placement:e,strategy:n,middleware:h};D.current&&(B.platform=D.current),Rxt(T.current,A.current,B).then(Q=>{const V={...Q,isPositioned:!0};O.current&&!FP(k.current,V)&&(k.current=V,vf.flushSync(()=>{f(V)}))})},[h,e,n,D]);aO(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(B=>({...B,isPositioned:!1})))},[u]);const O=m.useRef(!1);aO(()=>(O.current=!0,()=>{O.current=!1}),[]),aO(()=>{if(C&&(T.current=C),S&&(A.current=S),C&&S){if(I.current)return I.current(C,S,R);R()}},[C,S,R,I]);const L=m.useMemo(()=>({reference:T,floating:A,setReference:b,setFloating:_}),[b,_]),P=m.useMemo(()=>({reference:C,floating:S}),[C,S]),$=m.useMemo(()=>{const B={position:n,left:0,top:0};if(!P.floating)return B;const Q=Yce(P.floating,d.x),V=Yce(P.floating,d.y);return a?{...B,transform:"translate("+Q+"px, "+V+"px)",...F7e(P.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Q,top:V}},[n,a,P.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:R,refs:L,elements:P,floatingStyles:$}),[d,R,L,P,$])}const N7e=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),U7=m.createContext({}),H7=m.createContext(null),z7=typeof document<"u",_J=z7?m.useLayoutEffect:m.useEffect,V7e=m.createContext({strict:!1});function P2t(t,e,n,r){const{visualElement:i}=m.useContext(U7),s=m.useContext(V7e),o=m.useContext(H7),a=m.useContext(N7e).reducedMotion,l=m.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;m.useInsertionEffect(()=>{u&&u.update(n,o)});const d=m.useRef(!!window.HandoffAppearAnimations);return _J(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),m.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,d.current=!1)}),u}function C5(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function M2t(t,e,n){return m.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):C5(n)&&(n.current=r))},[e])}function bA(t){return typeof t=="string"||Array.isArray(t)}function W7(t){return typeof t=="object"&&typeof t.start=="function"}const CJ=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],EJ=["initial",...CJ];function G7(t){return W7(t.animate)||EJ.some(e=>bA(t[e]))}function U7e(t){return!!(G7(t)||t.variants)}function $2t(t,e){if(G7(t)){const{initial:n,animate:r}=t;return{initial:n===!1||bA(n)?n:void 0,animate:bA(r)?r:void 0}}return t.inherit!==!1?e:{}}function F2t(t){const{initial:e,animate:n}=$2t(t,m.useContext(U7));return m.useMemo(()=>({initial:e,animate:n}),[Zce(e),Zce(n)])}function Zce(t){return Array.isArray(t)?t.join(" "):t}const Xce={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xA={};for(const t in Xce)xA[t]={isEnabled:e=>Xce[t].some(n=>!!e[n])};function B2t(t){for(const e in t)xA[e]={...xA[e],...t[e]}}const SJ=m.createContext({}),H7e=m.createContext({}),N2t=Symbol.for("motionComponentSymbol");function V2t({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&B2t(t);function s(a,l){let u;const d={...m.useContext(N7e),...a,layoutId:U2t(a)},{isStatic:f}=d,h=F2t(a),p=r(a,f);if(!f&&z7){h.visualElement=P2t(i,p,d,e);const g=m.useContext(H7e),v=m.useContext(V7e).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,v,t,g))}return m.createElement(U7.Provider,{value:h},u&&h.visualElement?m.createElement(u,{visualElement:h.visualElement,...d}):null,n(i,a,M2t(p,h.visualElement,l),p,f,h.visualElement))}const o=m.forwardRef(s);return o[N2t]=i,o}function U2t({layoutId:t}){const e=m.useContext(SJ).id;return e&&t!==void 0?e+"-"+t:t}function H2t(t){function e(r,i={}){return V2t(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const z2t=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function TJ(t){return typeof t!="string"||t.includes("-")?!1:!!(z2t.indexOf(t)>-1||/[A-Z]/.test(t))}const BP={};function W2t(t){Object.assign(BP,t)}const rI=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],aw=new Set(rI);function z7e(t,{layout:e,layoutId:n}){return aw.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!BP[t]||t==="opacity")}const Nc=t=>!!(t&&t.getVelocity),G2t={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},q2t=rI.length;function Y2t(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<q2t;o++){const a=rI[o];if(t[a]!==void 0){const l=G2t[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const W7e=t=>e=>typeof e=="string"&&e.startsWith(t),G7e=W7e("--"),AG=W7e("var(--"),K2t=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Z2t=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Mv=(t,e,n)=>Math.min(Math.max(n,t),e),lw={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},hk={...lw,transform:t=>Mv(0,1,t)},UR={...lw,default:1},pk=t=>Math.round(t*1e5)/1e5,q7=/(-)?([\d]*\.?[\d])+/g,q7e=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,X2t=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function iI(t){return typeof t=="string"}const sI=t=>({test:e=>iI(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),m1=sI("deg"),im=sI("%"),An=sI("px"),Q2t=sI("vh"),J2t=sI("vw"),Qce={...im,parse:t=>im.parse(t)/100,transform:t=>im.transform(t*100)},Jce={...lw,transform:Math.round},Y7e={borderWidth:An,borderTopWidth:An,borderRightWidth:An,borderBottomWidth:An,borderLeftWidth:An,borderRadius:An,radius:An,borderTopLeftRadius:An,borderTopRightRadius:An,borderBottomRightRadius:An,borderBottomLeftRadius:An,width:An,maxWidth:An,height:An,maxHeight:An,size:An,top:An,right:An,bottom:An,left:An,padding:An,paddingTop:An,paddingRight:An,paddingBottom:An,paddingLeft:An,margin:An,marginTop:An,marginRight:An,marginBottom:An,marginLeft:An,rotate:m1,rotateX:m1,rotateY:m1,rotateZ:m1,scale:UR,scaleX:UR,scaleY:UR,scaleZ:UR,skew:m1,skewX:m1,skewY:m1,distance:An,translateX:An,translateY:An,translateZ:An,x:An,y:An,z:An,perspective:An,transformPerspective:An,opacity:hk,originX:Qce,originY:Qce,originZ:An,zIndex:Jce,fillOpacity:hk,strokeOpacity:hk,numOctaves:Jce};function kJ(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,u=!1,d=!0;for(const f in e){const h=e[f];if(G7e(f)){s[f]=h;continue}const p=Y7e[f],g=Z2t(h,p);if(aw.has(f)){if(l=!0,o[f]=g,!d)continue;h!==(p.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,a[f]=g):i[f]=g}if(e.transform||(l||r?i.transform=Y2t(t.transform,n,d,r):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:p=0}=a;i.transformOrigin=`${f} ${h} ${p}`}}const AJ=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function K7e(t,e,n){for(const r in e)!Nc(e[r])&&!z7e(r,n)&&(t[r]=e[r])}function e5t({transformTemplate:t},e,n){return m.useMemo(()=>{const r=AJ();return kJ(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function t5t(t,e,n){const r=t.style||{},i={};return K7e(i,r,t),Object.assign(i,e5t(t,e,n)),t.transformValues?t.transformValues(i):i}function n5t(t,e,n){const r={},i=t5t(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const r5t=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function NP(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||r5t.has(t)}let Z7e=t=>!NP(t);function i5t(t){t&&(Z7e=e=>e.startsWith("on")?!NP(e):t(e))}try{i5t(require("@emotion/is-prop-valid").default)}catch{}function s5t(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Z7e(i)||n===!0&&NP(i)||!e&&!NP(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function ede(t,e,n){return typeof t=="string"?t:An.transform(e+n*t)}function o5t(t,e,n){const r=ede(e,t.x,t.width),i=ede(n,t.y,t.height);return`${r} ${i}`}const a5t={offset:"stroke-dashoffset",array:"stroke-dasharray"},l5t={offset:"strokeDashoffset",array:"strokeDasharray"};function u5t(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?a5t:l5t;t[s.offset]=An.transform(-r);const o=An.transform(e),a=An.transform(n);t[s.array]=`${o} ${a}`}function IJ(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,f,h){if(kJ(t,u,d,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g,dimensions:v}=t;p.transform&&(v&&(g.transform=p.transform),delete p.transform),v&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=o5t(v,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&u5t(p,o,a,l,!1)}const X7e=()=>({...AJ(),attrs:{}}),DJ=t=>typeof t=="string"&&t.toLowerCase()==="svg";function c5t(t,e,n,r){const i=m.useMemo(()=>{const s=X7e();return IJ(s,e,{enableHardwareAcceleration:!1},DJ(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};K7e(s,t.style,t),i.style={...s,...i.style}}return i}function d5t(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(TJ(n)?c5t:n5t)(r,s,o,n),d={...s5t(r,typeof n=="string",t),...l,ref:i},{children:f}=r,h=m.useMemo(()=>Nc(f)?f.get():f,[f]);return m.createElement(n,{...d,children:h})}}const RJ=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function Q7e(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const J7e=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function e9e(t,e,n,r){Q7e(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(J7e.has(i)?i:RJ(i),e.attrs[i])}function jJ(t,e){const{style:n}=t,r={};for(const i in n)(Nc(n[i])||e.style&&Nc(e.style[i])||z7e(i,t))&&(r[i]=n[i]);return r}function t9e(t,e){const n=jJ(t,e);for(const r in t)if(Nc(t[r])||Nc(e[r])){const i=rI.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function OJ(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function n9e(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}const VP=t=>Array.isArray(t),f5t=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),h5t=t=>VP(t)?t[t.length-1]||0:t;function lO(t){const e=Nc(t)?t.get():t;return f5t(e)?e.toValue():e}function p5t({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:m5t(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const r9e=t=>(e,n)=>{const r=m.useContext(U7),i=m.useContext(H7),s=()=>p5t(t,e,r,i);return n?s():n9e(s)};function m5t(t,e,n,r){const i={},s=r(t,{});for(const h in s)i[h]=lO(s[h]);let{initial:o,animate:a}=t;const l=G7(t),u=U7e(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?a:o;return f&&typeof f!="boolean"&&!W7(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const g=OJ(t,p);if(!g)return;const{transitionEnd:v,transition:y,...x}=g;for(const b in x){let _=x[b];if(Array.isArray(_)){const C=d?_.length-1:0;_=_[C]}_!==null&&(i[b]=_)}for(const b in v)i[b]=v[b]}),i}const Io=t=>t;function g5t(t){let e=[],n=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,d=!1)=>{const f=d&&i,h=f?e:n;return u&&o.add(l),h.indexOf(l)===-1&&(h.push(l),f&&i&&(r=e.length)),l},cancel:l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let u=0;u<r;u++){const d=e[u];d(l),o.has(d)&&(a.schedule(d),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const HR=["prepare","read","update","preRender","render","postRender"],v5t=40;function y5t(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=HR.reduce((f,h)=>(f[h]=g5t(()=>n=!0),f),{}),o=f=>s[f].process(i),a=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,v5t),1),i.timestamp=f,i.isProcessing=!0,HR.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:HR.reduce((f,h)=>{const p=s[h];return f[h]=(g,v=!1,y=!1)=>(n||l(),p.schedule(g,v,y)),f},{}),cancel:f=>HR.forEach(h=>s[h].cancel(f)),state:i,steps:s}}const{schedule:bs,cancel:n0,state:nu,steps:GN}=y5t(typeof requestAnimationFrame<"u"?requestAnimationFrame:Io,!0),b5t={useVisualState:r9e({scrapeMotionValuesFromProps:t9e,createRenderState:X7e,onMount:(t,e,{renderState:n,latestValues:r})=>{bs.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),bs.render(()=>{IJ(n,r,{enableHardwareAcceleration:!1},DJ(e.tagName),t.transformTemplate),e9e(e,n)})}})},x5t={useVisualState:r9e({scrapeMotionValuesFromProps:jJ,createRenderState:AJ})};function w5t(t,{forwardMotionProps:e=!1},n,r){return{...TJ(t)?b5t:x5t,preloadedFeatures:n,useRender:d5t(e),createVisualElement:r,Component:t}}function Pg(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const i9e=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Y7(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const _5t=t=>e=>i9e(e)&&t(e,Y7(e));function zg(t,e,n,r){return Pg(t,e,_5t(n),r)}const C5t=(t,e)=>n=>e(t(n)),yv=(...t)=>t.reduce(C5t);function s9e(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const tde=s9e("dragHorizontal"),nde=s9e("dragVertical");function o9e(t){let e=!1;if(t==="y")e=nde();else if(t==="x")e=tde();else{const n=tde(),r=nde();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function a9e(){const t=o9e(!0);return t?(t(),!1):!0}class cy{constructor(e){this.isMounted=!1,this.node=e}update(){}}function rde(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||a9e())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&bs.update(()=>a[r](s,o))};return zg(t.current,n,i,{passive:!t.getProps()[r]})}class E5t extends cy{mount(){this.unmount=yv(rde(this.node,!0),rde(this.node,!1))}unmount(){}}class S5t extends cy{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yv(Pg(this.node.current,"focus",()=>this.onFocus()),Pg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const l9e=(t,e)=>e?t===e?!0:l9e(t,e.parentElement):!1;function qN(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Y7(n))}class T5t extends cy{constructor(){super(...arguments),this.removeStartListeners=Io,this.removeEndListeners=Io,this.removeAccessibleListeners=Io,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=zg(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d}=this.node.getProps();bs.update(()=>{l9e(this.node.current,a.target)?u&&u(a,l):d&&d(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=zg(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=yv(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||qN("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&bs.update(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=Pg(this.node.current,"keyup",o),qN("down",(a,l)=>{this.startPress(a,l)})},n=Pg(this.node.current,"keydown",e),r=()=>{this.isPressing&&qN("cancel",(s,o)=>this.cancelPress(s,o))},i=Pg(this.node.current,"blur",r);this.removeAccessibleListeners=yv(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&bs.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!a9e()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&bs.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=zg(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Pg(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=yv(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const IG=new WeakMap,YN=new WeakMap,k5t=t=>{const e=IG.get(t.target);e&&e(t)},A5t=t=>{t.forEach(k5t)};function I5t({root:t,...e}){const n=t||document;YN.has(n)||YN.set(n,{});const r=YN.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(A5t,{root:t,...e})),r[i]}function D5t(t,e,n){const r=I5t(e);return IG.set(t,n),r.observe(t),()=>{IG.delete(t),r.unobserve(t)}}const R5t={some:0,all:1};class j5t extends cy{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:R5t[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(l)};return D5t(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(O5t(e,n))&&this.startObserver()}unmount(){}}function O5t({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const L5t={inView:{Feature:j5t},tap:{Feature:T5t},focus:{Feature:S5t},hover:{Feature:E5t}};function u9e(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function P5t(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function M5t(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function K7(t,e,n){const r=t.getProps();return OJ(r,e,n!==void 0?n:r.custom,P5t(t),M5t(t))}const $5t="framerAppearId",F5t="data-"+RJ($5t);let B5t=Io,LJ=Io;const bv=t=>t*1e3,Wg=t=>t/1e3,N5t={current:!1},c9e=t=>Array.isArray(t)&&typeof t[0]=="number";function d9e(t){return!!(!t||typeof t=="string"&&f9e[t]||c9e(t)||Array.isArray(t)&&t.every(d9e))}const ET=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,f9e={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ET([0,.65,.55,1]),circOut:ET([.55,0,1,.45]),backIn:ET([.31,.01,.66,-.59]),backOut:ET([.33,1.53,.69,.99])};function h9e(t){if(t)return c9e(t)?ET(t):Array.isArray(t)?t.map(h9e):f9e[t]}function V5t(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const d=h9e(a);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function U5t(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const p9e=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,H5t=1e-7,z5t=12;function W5t(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=p9e(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>H5t&&++a<z5t);return o}function oI(t,e,n,r){if(t===e&&n===r)return Io;const i=s=>W5t(s,0,1,t,n);return s=>s===0||s===1?s:p9e(i(s),e,r)}const G5t=oI(.42,0,1,1),q5t=oI(0,0,.58,1),m9e=oI(.42,0,.58,1),Y5t=t=>Array.isArray(t)&&typeof t[0]!="number",g9e=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,v9e=t=>e=>1-t(1-e),y9e=t=>1-Math.sin(Math.acos(t)),PJ=v9e(y9e),K5t=g9e(PJ),b9e=oI(.33,1.53,.69,.99),MJ=v9e(b9e),Z5t=g9e(MJ),X5t=t=>(t*=2)<1?.5*MJ(t):.5*(2-Math.pow(2,-10*(t-1))),Q5t={linear:Io,easeIn:G5t,easeInOut:m9e,easeOut:q5t,circIn:y9e,circInOut:K5t,circOut:PJ,backIn:MJ,backInOut:Z5t,backOut:b9e,anticipate:X5t},ide=t=>{if(Array.isArray(t)){LJ(t.length===4);const[e,n,r,i]=t;return oI(e,n,r,i)}else if(typeof t=="string")return Q5t[t];return t},$J=(t,e)=>n=>!!(iI(n)&&X2t.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),x9e=(t,e,n)=>r=>{if(!iI(r))return r;const[i,s,o,a]=r.match(q7);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},J5t=t=>Mv(0,255,t),KN={...lw,transform:t=>Math.round(J5t(t))},Xb={test:$J("rgb","red"),parse:x9e("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+KN.transform(t)+", "+KN.transform(e)+", "+KN.transform(n)+", "+pk(hk.transform(r))+")"};function e_t(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const DG={test:$J("#"),parse:e_t,transform:Xb.transform},E5={test:$J("hsl","hue"),parse:x9e("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+im.transform(pk(e))+", "+im.transform(pk(n))+", "+pk(hk.transform(r))+")"},Ru={test:t=>Xb.test(t)||DG.test(t)||E5.test(t),parse:t=>Xb.test(t)?Xb.parse(t):E5.test(t)?E5.parse(t):DG.parse(t),transform:t=>iI(t)?t:t.hasOwnProperty("red")?Xb.transform(t):E5.transform(t)},fo=(t,e,n)=>-n*t+n*e+t;function ZN(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function t_t({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=ZN(l,a,t+1/3),s=ZN(l,a,t),o=ZN(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const XN=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},n_t=[DG,Xb,E5],r_t=t=>n_t.find(e=>e.test(t));function sde(t){const e=r_t(t);let n=e.parse(t);return e===E5&&(n=t_t(n)),n}const w9e=(t,e)=>{const n=sde(t),r=sde(e),i={...n};return s=>(i.red=XN(n.red,r.red,s),i.green=XN(n.green,r.green,s),i.blue=XN(n.blue,r.blue,s),i.alpha=fo(n.alpha,r.alpha,s),Xb.transform(i))};function i_t(t){var e,n;return isNaN(t)&&iI(t)&&(((e=t.match(q7))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(q7e))===null||n===void 0?void 0:n.length)||0)>0}const _9e={regex:K2t,countKey:"Vars",token:"${v}",parse:Io},C9e={regex:q7e,countKey:"Colors",token:"${c}",parse:Ru.parse},E9e={regex:q7,countKey:"Numbers",token:"${n}",parse:lw.parse};function QN(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function UP(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&QN(n,_9e),QN(n,C9e),QN(n,E9e),n}function S9e(t){return UP(t).values}function T9e(t){const{values:e,numColors:n,numVars:r,tokenised:i}=UP(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(_9e.token,o[l]):l<r+n?a=a.replace(C9e.token,Ru.transform(o[l])):a=a.replace(E9e.token,pk(o[l]));return a}}const s_t=t=>typeof t=="number"?0:t;function o_t(t){const e=S9e(t);return T9e(t)(e.map(s_t))}const $v={test:i_t,parse:S9e,createTransformer:T9e,getAnimatableNone:o_t},k9e=(t,e)=>n=>`${n>0?e:t}`;function A9e(t,e){return typeof t=="number"?n=>fo(t,e,n):Ru.test(t)?w9e(t,e):t.startsWith("var(")?k9e(t,e):D9e(t,e)}const I9e=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>A9e(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},a_t=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=A9e(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},D9e=(t,e)=>{const n=$v.createTransformer(e),r=UP(t),i=UP(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?yv(I9e(r.values,i.values),n):k9e(t,e)},wA=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ode=(t,e)=>n=>fo(t,e,n);function l_t(t){return typeof t=="number"?ode:typeof t=="string"?Ru.test(t)?w9e:D9e:Array.isArray(t)?I9e:typeof t=="object"?a_t:ode}function u_t(t,e,n){const r=[],i=n||l_t(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Io:e;a=yv(l,a)}r.push(a)}return r}function R9e(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(LJ(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=u_t(e,r,i),a=o.length,l=u=>{let d=0;if(a>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const f=wA(t[d],t[d+1],u);return o[d](f)};return n?u=>l(Mv(t[0],t[s-1],u)):l}function c_t(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=wA(0,e,r);t.push(fo(n,1,i))}}function d_t(t){const e=[0];return c_t(e,t.length-1),e}function f_t(t,e){return t.map(n=>n*e)}function h_t(t,e){return t.map(()=>e||m9e).splice(0,t.length-1)}function HP({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Y5t(r)?r.map(ide):ide(r),s={done:!1,value:e[0]},o=f_t(n&&n.length===e.length?n:d_t(e),t),a=R9e(o,e,{ease:Array.isArray(i)?i:h_t(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function j9e(t,e){return e?t*(1e3/e):0}const p_t=5;function O9e(t,e,n){const r=Math.max(e-p_t,0);return j9e(n-t(r),e-r)}const JN=.001,m_t=.01,ade=10,g_t=.05,v_t=1;function y_t({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;B5t(t<=bv(ade));let o=1-e;o=Mv(g_t,v_t,o),t=Mv(m_t,ade,Wg(t)),o<1?(i=u=>{const d=u*o,f=d*t,h=d-n,p=RG(u,o),g=Math.exp(-f);return JN-h/p*g},s=u=>{const f=u*o*t,h=f*n+n,p=Math.pow(o,2)*Math.pow(u,2)*t,g=Math.exp(-f),v=RG(Math.pow(u,2),o);return(-i(u)+JN>0?-1:1)*((h-p)*g)/v}):(i=u=>{const d=Math.exp(-u*t),f=(u-n)*t+1;return-JN+d*f},s=u=>{const d=Math.exp(-u*t),f=(n-u)*(t*t);return d*f});const a=5/t,l=x_t(i,s,a);if(t=bv(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const b_t=12;function x_t(t,e,n){let r=n;for(let i=1;i<b_t;i++)r=r-t(r)/e(r);return r}function RG(t,e){return t*Math.sqrt(1-e*e)}const w_t=["duration","bounce"],__t=["stiffness","damping","mass"];function lde(t,e){return e.some(n=>t[n]!==void 0)}function C_t(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!lde(t,__t)&&lde(t,w_t)){const n=y_t(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function L9e({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,velocity:d,duration:f,isResolvedFromDuration:h}=C_t(r),p=d?-Wg(d):0,g=l/(2*Math.sqrt(a*u)),v=s-i,y=Wg(Math.sqrt(a/u)),x=Math.abs(v)<5;n||(n=x?.01:2),e||(e=x?.005:.5);let b;if(g<1){const _=RG(y,g);b=C=>{const S=Math.exp(-g*y*C);return s-S*((p+g*y*v)/_*Math.sin(_*C)+v*Math.cos(_*C))}}else if(g===1)b=_=>s-Math.exp(-y*_)*(v+(p+y*v)*_);else{const _=y*Math.sqrt(g*g-1);b=C=>{const S=Math.exp(-g*y*C),T=Math.min(_*C,300);return s-S*((p+g*y*v)*Math.sinh(T)+_*v*Math.cosh(T))/_}}return{calculatedDuration:h&&f||null,next:_=>{const C=b(_);if(h)o.done=_>=f;else{let S=p;_!==0&&(g<1?S=O9e(b,_,C):S=0);const T=Math.abs(S)<=n,A=Math.abs(s-C)<=e;o.done=T&&A}return o.value=o.done?s:C,o}}}function ude({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const f=t[0],h={done:!1,value:f},p=k=>a!==void 0&&k<a||l!==void 0&&k>l,g=k=>a===void 0?l:l===void 0||Math.abs(a-k)<Math.abs(l-k)?a:l;let v=n*e;const y=f+v,x=o===void 0?y:o(y);x!==y&&(v=x-f);const b=k=>-v*Math.exp(-k/r),_=k=>x+b(k),C=k=>{const I=b(k),D=_(k);h.done=Math.abs(I)<=u,h.value=h.done?x:D};let S,T;const A=k=>{p(h.value)&&(S=k,T=L9e({keyframes:[h.value,g(h.value)],velocity:O9e(_,k,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return A(0),{calculatedDuration:null,next:k=>{let I=!1;return!T&&S===void 0&&(I=!0,C(k),A(k)),S!==void 0&&k>S?T.next(k-S):(!I&&C(k),h)}}}const E_t=t=>{const e=({timestamp:n})=>t(n);return{start:()=>bs.update(e,!0),stop:()=>n0(e),now:()=>nu.isProcessing?nu.timestamp:performance.now()}},cde=2e4;function dde(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<cde;)e+=n,r=t.next(e);return e>=cde?1/0:e}const S_t={decay:ude,inertia:ude,tween:HP,keyframes:HP,spring:L9e};function zP({autoplay:t=!0,delay:e=0,driver:n=E_t,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:d,onUpdate:f,...h}){let p=1,g=!1,v,y;const x=()=>{y=new Promise(J=>{v=J})};x();let b;const _=S_t[i]||HP;let C;_!==HP&&typeof r[0]!="number"&&(C=R9e([0,100],r,{clamp:!1}),r=[0,100]);const S=_({...h,keyframes:r});let T;a==="mirror"&&(T=_({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let A="idle",k=null,I=null,D=null;S.calculatedDuration===null&&s&&(S.calculatedDuration=dde(S));const{calculatedDuration:R}=S;let O=1/0,L=1/0;R!==null&&(O=R+o,L=O*(s+1)-o);let P=0;const $=J=>{if(I===null)return;p>0&&(I=Math.min(I,J)),p<0&&(I=Math.min(J-L/p,I)),k!==null?P=k:P=Math.round(J-I)*p;const X=P-e*(p>=0?1:-1),fe=p>=0?X<0:X>L;P=Math.max(X,0),A==="finished"&&k===null&&(P=L);let ue=P,te=S;if(s){const me=P/O;let pe=Math.floor(me),Ie=me%1;!Ie&&me>=1&&(Ie=1),Ie===1&&pe--,pe=Math.min(pe,s+1);const xe=!!(pe%2);xe&&(a==="reverse"?(Ie=1-Ie,o&&(Ie-=o/O)):a==="mirror"&&(te=T));let Pe=Mv(0,1,Ie);P>L&&(Pe=a==="reverse"&&xe?1:0),ue=Pe*O}const F=fe?{done:!1,value:r[0]}:te.next(ue);C&&(F.value=C(F.value));let{done:ne}=F;!fe&&R!==null&&(ne=p>=0?P>=L:P<=0);const ce=k===null&&(A==="finished"||A==="running"&&ne);return f&&f(F.value),ce&&V(),F},B=()=>{b&&b.stop(),b=void 0},Q=()=>{A="idle",B(),v(),x(),I=D=null},V=()=>{A="finished",d&&d(),B(),v()},Z=()=>{if(g)return;b||(b=n($));const J=b.now();l&&l(),k!==null?I=J-k:(!I||A==="finished")&&(I=J),A==="finished"&&x(),D=I,k=null,A="running",b.start()};t&&Z();const ie={then(J,X){return y.then(J,X)},get time(){return Wg(P)},set time(J){J=bv(J),P=J,k!==null||!b||p===0?k=J:I=b.now()-J/p},get duration(){const J=S.calculatedDuration===null?dde(S):S.calculatedDuration;return Wg(J)},get speed(){return p},set speed(J){J===p||!b||(p=J,ie.time=Wg(P))},get state(){return A},play:Z,pause:()=>{A="paused",k=P},stop:()=>{g=!0,A!=="idle"&&(A="idle",u&&u(),Q())},cancel:()=>{D!==null&&$(D),Q()},complete:()=>{A="finished"},sample:J=>(I=0,$(J))};return ie}function T_t(t){let e;return()=>(e===void 0&&(e=t()),e)}const k_t=T_t(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),A_t=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),zR=10,I_t=2e4,D_t=(t,e)=>e.type==="spring"||t==="backgroundColor"||!d9e(e.ease);function R_t(t,e,{onUpdate:n,onComplete:r,...i}){if(!(k_t()&&A_t.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const u=()=>{l=new Promise(b=>{a=b})};u();let{keyframes:d,duration:f=300,ease:h,times:p}=i;if(D_t(e,i)){const b=zP({...i,repeat:0,delay:0});let _={done:!1,value:d[0]};const C=[];let S=0;for(;!_.done&&S<I_t;)_=b.sample(S),C.push(_.value),S+=zR;p=void 0,d=C,f=S-zR,h="linear"}const g=V5t(t.owner.current,e,d,{...i,duration:f,ease:h,times:p}),v=()=>g.cancel(),y=()=>{bs.update(v),a(),u()};return g.onfinish=()=>{t.set(U5t(d,i)),r&&r(),y()},{then(b,_){return l.then(b,_)},attachTimeline(b){return g.timeline=b,g.onfinish=null,Io},get time(){return Wg(g.currentTime||0)},set time(b){g.currentTime=bv(b)},get speed(){return g.playbackRate},set speed(b){g.playbackRate=b},get duration(){return Wg(f)},play:()=>{o||(g.play(),n0(v))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:b}=g;if(b){const _=zP({...i,autoplay:!1});t.setWithVelocity(_.sample(b-zR).value,_.sample(b).value,zR)}y()},complete:()=>g.finish(),cancel:y}}function j_t({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Io,pause:Io,stop:Io,then:s=>(s(),Promise.resolve()),cancel:Io,complete:Io});return e?zP({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const O_t={type:"spring",stiffness:500,damping:25,restSpeed:10},L_t=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),P_t={type:"keyframes",duration:.8},M_t={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$_t=(t,{keyframes:e})=>e.length>2?P_t:aw.has(t)?t.startsWith("scale")?L_t(e[1]):O_t:M_t,jG=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&($v.test(e)||e==="0")&&!e.startsWith("url(")),F_t=new Set(["brightness","contrast","saturate","opacity"]);function B_t(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(q7)||[];if(!r)return t;const i=n.replace(r,"");let s=F_t.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const N_t=/([a-z-]*)\(.*?\)/g,OG={...$v,getAnimatableNone:t=>{const e=t.match(N_t);return e?e.map(B_t).join(" "):t}},V_t={...Y7e,color:Ru,backgroundColor:Ru,outlineColor:Ru,fill:Ru,stroke:Ru,borderColor:Ru,borderTopColor:Ru,borderRightColor:Ru,borderBottomColor:Ru,borderLeftColor:Ru,filter:OG,WebkitFilter:OG},FJ=t=>V_t[t];function P9e(t,e){let n=FJ(t);return n!==OG&&(n=$v),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const M9e=t=>/^0[^.\s]+$/.test(t);function U_t(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||M9e(t)}function H_t(t,e,n,r){const i=jG(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),U_t(s[u])&&l.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const d=l[u];s[d]=P9e(e,a)}return s}function z_t({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function $9e(t,e){return t[e]||t.default||t}const BJ=(t,e,n,r={})=>i=>{const s=$9e(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-bv(o);const l=H_t(e,t,n,s),u=l[0],d=l[l.length-1],f=jG(t,u),h=jG(t,d);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:g=>{e.set(g),s.onUpdate&&s.onUpdate(g)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(z_t(s)||(p={...p,...$_t(t,p)}),p.duration&&(p.duration=bv(p.duration)),p.repeatDelay&&(p.repeatDelay=bv(p.repeatDelay)),!f||!h||N5t.current||s.type===!1)return j_t(p);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const g=R_t(e,t,p);if(g)return g}return zP(p)};function WP(t){return!!(Nc(t)&&t.add)}const F9e=t=>/^\-?\d*\.?\d+$/.test(t);function NJ(t,e){t.indexOf(e)===-1&&t.push(e)}function VJ(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class UJ{constructor(){this.subscriptions=[]}add(e){return NJ(this.subscriptions,e),()=>VJ(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const W_t=t=>!isNaN(parseFloat(t));class G_t{constructor(e,n={}){this.version="10.16.1",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=nu;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,bs.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>bs.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=W_t(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new UJ);const r=this.events[e].add(n);return e==="change"?()=>{r(),bs.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?j9e(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function G_(t,e){return new G_t(t,e)}const B9e=t=>e=>e.test(t),q_t={test:t=>t==="auto",parse:t=>t},N9e=[lw,An,im,m1,J2t,Q2t,q_t],gS=t=>N9e.find(B9e(t)),Y_t=[...N9e,Ru,$v],K_t=t=>Y_t.find(B9e(t));function Z_t(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,G_(n))}function X_t(t,e){const n=K7(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=h5t(s[o]);Z_t(t,o,a)}}function Q_t(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),d!=null&&(typeof d=="string"&&(F9e(d)||M9e(d))?d=parseFloat(d):!K_t(d)&&$v.test(u)&&(d=P9e(l,u)),t.addValue(l,G_(d,{owner:t})),n[l]===void 0&&(n[l]=d),d!==null&&t.setBaseTarget(l,d))}}function J_t(t,e){return e?(e[t]||e.default||e).from:void 0}function eCt(t,e,n){const r={};for(const i in t){const s=J_t(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function tCt({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function V9e(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in a){const h=t.getValue(f),p=a[f];if(!h||p===void 0||d&&tCt(d,f))continue;const g={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!h.hasAnimated){const y=t.getProps()[F5t];y&&(g.elapsed=window.HandoffAppearAnimations(y,f,h,bs))}h.start(BJ(f,h,p,t.shouldReduceMotion&&aw.has(f)?{type:!1}:g));const v=h.animation;WP(l)&&(l.add(f),v.then(()=>l.remove(f))),u.push(v)}return o&&Promise.all(u).then(()=>{o&&X_t(t,o)}),u}function LG(t,e,n={}){const r=K7(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(V9e(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=i;return nCt(t,e,u+l,d,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function nCt(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(rCt).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(LG(u,e,{...s,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function rCt(t,e){return t.sortNodePosition(e)}function iCt(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>LG(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=LG(t,e,n);else{const i=typeof e=="function"?K7(t,e,n.custom):e;r=Promise.all(V9e(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const sCt=[...CJ].reverse(),oCt=CJ.length;function aCt(t){return e=>Promise.all(e.map(({animation:n,options:r})=>iCt(t,n,r)))}function lCt(t){let e=aCt(t);const n=cCt();let r=!0;const i=(l,u)=>{const d=K7(t,u);if(d){const{transition:f,transitionEnd:h,...p}=d;l={...l,...p,...h}}return l};function s(l){e=l(t)}function o(l,u){const d=t.getProps(),f=t.getVariantContext(!0)||{},h=[],p=new Set;let g={},v=1/0;for(let x=0;x<oCt;x++){const b=sCt[x],_=n[b],C=d[b]!==void 0?d[b]:f[b],S=bA(C),T=b===u?_.isActive:null;T===!1&&(v=x);let A=C===f[b]&&C!==d[b]&&S;if(A&&r&&t.manuallyAnimateOnMount&&(A=!1),_.protectedKeys={...g},!_.isActive&&T===null||!C&&!_.prevProp||W7(C)||typeof C=="boolean")continue;const k=uCt(_.prevProp,C);let I=k||b===u&&_.isActive&&!A&&S||x>v&&S;const D=Array.isArray(C)?C:[C];let R=D.reduce(i,{});T===!1&&(R={});const{prevResolvedValues:O={}}=_,L={...O,...R},P=$=>{I=!0,p.delete($),_.needsAnimating[$]=!0};for(const $ in L){const B=R[$],Q=O[$];g.hasOwnProperty($)||(B!==Q?VP(B)&&VP(Q)?!u9e(B,Q)||k?P($):_.protectedKeys[$]=!0:B!==void 0?P($):p.add($):B!==void 0&&p.has($)?P($):_.protectedKeys[$]=!0)}_.prevProp=C,_.prevResolvedValues=R,_.isActive&&(g={...g,...R}),r&&t.blockInitialAnimation&&(I=!1),I&&!A&&h.push(...D.map($=>({animation:$,options:{type:b,...l}})))}if(p.size){const x={};p.forEach(b=>{const _=t.getBaseTarget(b);_!==void 0&&(x[b]=_)}),h.push({animation:x})}let y=!!h.length;return r&&d.initial===!1&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(h):Promise.resolve()}function a(l,u,d){var f;if(n[l].isActive===u)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(l,u)}),n[l].isActive=u;const h=o(d,l);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function uCt(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!u9e(e,t):!1}function Xy(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cCt(){return{animate:Xy(!0),whileInView:Xy(),whileHover:Xy(),whileTap:Xy(),whileDrag:Xy(),whileFocus:Xy(),exit:Xy()}}class dCt extends cy{constructor(e){super(e),e.animationState||(e.animationState=lCt(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),W7(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let fCt=0;class hCt extends cy{constructor(){super(...arguments),this.id=fCt++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const pCt={animation:{Feature:dCt},exit:{Feature:hCt}},fde=(t,e)=>Math.abs(t-e);function mCt(t,e){const n=fde(t.x,e.x),r=fde(t.y,e.y);return Math.sqrt(n**2+r**2)}class U9e{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=tV(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,f=mCt(u.offset,{x:0,y:0})>=3;if(!d&&!f)return;const{point:h}=u,{timestamp:p}=nu;this.history.push({...h,timestamp:p});const{onStart:g,onMove:v}=this.handlers;d||(g&&g(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,u)},this.handlePointerMove=(u,d)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=eV(d,this.transformPagePoint),bs.update(this.updatePoint,!0)},this.handlePointerUp=(u,d)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:f,onSessionEnd:h}=this.handlers,p=tV(u.type==="pointercancel"?this.lastMoveEventInfo:eV(d,this.transformPagePoint),this.history);this.startEvent&&f&&f(u,p),h&&h(u,p)},!i9e(e))return;this.handlers=n,this.transformPagePoint=r;const i=Y7(e),s=eV(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=nu;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(e,tV(s,this.history)),this.removeListeners=yv(zg(window,"pointermove",this.handlePointerMove),zg(window,"pointerup",this.handlePointerUp),zg(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),n0(this.updatePoint)}}function eV(t,e){return e?{point:e(t.point)}:t}function hde(t,e){return{x:t.x-e.x,y:t.y-e.y}}function tV({point:t},e){return{point:t,delta:hde(t,H9e(e)),offset:hde(t,gCt(e)),velocity:vCt(e,.1)}}function gCt(t){return t[0]}function H9e(t){return t[t.length-1]}function vCt(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=H9e(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>bv(e)));)n--;if(!r)return{x:0,y:0};const s=Wg(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Td(t){return t.max-t.min}function PG(t,e=0,n=.01){return Math.abs(t-e)<=n}function pde(t,e,n,r=.5){t.origin=r,t.originPoint=fo(e.min,e.max,t.origin),t.scale=Td(n)/Td(e),(PG(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=fo(n.min,n.max,t.origin)-t.originPoint,(PG(t.translate)||isNaN(t.translate))&&(t.translate=0)}function mk(t,e,n,r){pde(t.x,e.x,n.x,r?r.originX:void 0),pde(t.y,e.y,n.y,r?r.originY:void 0)}function mde(t,e,n){t.min=n.min+e.min,t.max=t.min+Td(e)}function yCt(t,e,n){mde(t.x,e.x,n.x),mde(t.y,e.y,n.y)}function gde(t,e,n){t.min=e.min-n.min,t.max=t.min+Td(e)}function gk(t,e,n){gde(t.x,e.x,n.x),gde(t.y,e.y,n.y)}function bCt(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?fo(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?fo(n,t,r.max):Math.min(t,n)),t}function vde(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function xCt(t,{top:e,left:n,bottom:r,right:i}){return{x:vde(t.x,n,i),y:vde(t.y,e,r)}}function yde(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function wCt(t,e){return{x:yde(t.x,e.x),y:yde(t.y,e.y)}}function _Ct(t,e){let n=.5;const r=Td(t),i=Td(e);return i>r?n=wA(e.min,e.max-r,t.min):r>i&&(n=wA(t.min,t.max-i,e.min)),Mv(0,1,n)}function CCt(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const MG=.35;function ECt(t=MG){return t===!1?t=0:t===!0&&(t=MG),{x:bde(t,"left","right"),y:bde(t,"top","bottom")}}function bde(t,e,n){return{min:xde(t,e),max:xde(t,n)}}function xde(t,e){return typeof t=="number"?t:t[e]||0}const wde=()=>({translate:0,scale:1,origin:0,originPoint:0}),S5=()=>({x:wde(),y:wde()}),_de=()=>({min:0,max:0}),sa=()=>({x:_de(),y:_de()});function kp(t){return[t("x"),t("y")]}function z9e({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function SCt({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function TCt(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function nV(t){return t===void 0||t===1}function $G({scale:t,scaleX:e,scaleY:n}){return!nV(t)||!nV(e)||!nV(n)}function vb(t){return $G(t)||W9e(t)||t.z||t.rotate||t.rotateX||t.rotateY}function W9e(t){return Cde(t.x)||Cde(t.y)}function Cde(t){return t&&t!=="0%"}function GP(t,e,n){const r=t-n,i=e*r;return n+i}function Ede(t,e,n,r,i){return i!==void 0&&(t=GP(t,i,r)),GP(t,n,r)+e}function FG(t,e=0,n=1,r,i){t.min=Ede(t.min,e,n,r,i),t.max=Ede(t.max,e,n,r,i)}function G9e(t,{x:e,y:n}){FG(t.x,e.translate,e.scale,e.originPoint),FG(t.y,n.translate,n.scale,n.originPoint)}function kCt(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&T5(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,G9e(t,o)),r&&vb(s.latestValues)&&T5(t,s.latestValues))}e.x=Sde(e.x),e.y=Sde(e.y)}function Sde(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function A1(t,e){t.min=t.min+e,t.max=t.max+e}function Tde(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=fo(t.min,t.max,s);FG(t,e[n],e[r],o,e.scale)}const ACt=["x","scaleX","originX"],ICt=["y","scaleY","originY"];function T5(t,e){Tde(t.x,e,ACt),Tde(t.y,e,ICt)}function q9e(t,e){return z9e(TCt(t.getBoundingClientRect(),e))}function DCt(t,e,n){const r=q9e(t,n),{scroll:i}=e;return i&&(A1(r.x,i.offset.x),A1(r.y,i.offset.y)),r}const RCt=new WeakMap;class jCt{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=sa(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),n&&this.snapToCursor(Y7(l,"page").point)},s=(l,u)=>{const{drag:d,dragPropagation:f,onDragStart:h}=this.getProps();if(d&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=o9e(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),kp(g=>{let v=this.getAxisMotionValue(g).get()||0;if(im.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const x=y.layout.layoutBox[g];x&&(v=Td(x)*(parseFloat(v)/100))}}this.originPoint[g]=v}),h&&bs.update(()=>h(l,u),!1,!0);const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:d,dragDirectionLock:f,onDirectionLock:h,onDrag:p}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:g}=u;if(f&&this.currentDirection===null){this.currentDirection=OCt(g),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",u.point,g),this.updateAxis("y",u.point,g),this.visualElement.render(),p&&p(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new U9e(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&bs.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!WR(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=bCt(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&C5(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=xCt(r.layoutBox,e):this.constraints=!1,this.elastic=ECt(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&kp(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=CCt(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!C5(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=DCt(r,i.root,this.visualElement.getTransformPagePoint());let o=wCt(i.layout.layoutBox,s);if(n){const a=n(SCt(o));this.hasMutatedConstraints=!!a,a&&(o=z9e(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=kp(d=>{if(!WR(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,g={type:"inertia",velocity:r?e[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(BJ(e,r,0,n))}stopAnimation(){kp(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){kp(n=>{const{drag:r}=this.getProps();if(!WR(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-fo(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!C5(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};kp(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=_Ct({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),kp(o=>{if(!WR(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(fo(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;RCt.set(this.visualElement,this);const e=this.visualElement.current,n=zg(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();C5(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Pg(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(kp(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=MG,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function WR(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function OCt(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class LCt extends cy{constructor(e){super(e),this.removeGroupControls=Io,this.removeListeners=Io,this.controls=new jCt(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Io}unmount(){this.removeGroupControls(),this.removeListeners()}}const kde=t=>(e,n)=>{t&&bs.update(()=>t(e,n))};class PCt extends cy{constructor(){super(...arguments),this.removePointerDownListener=Io}onPointerDown(e){this.session=new U9e(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:kde(e),onStart:kde(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&bs.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=zg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function MCt(){const t=m.useContext(H7);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=m.useId();return m.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const uO={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ade(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const vS={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(An.test(t))t=parseFloat(t);else return t;const n=Ade(t,e.target.x),r=Ade(t,e.target.y);return`${n}% ${r}%`}},$Ct={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=$v.parse(t);if(i.length>5)return r;const s=$v.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=fo(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class FCt extends re.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;W2t(BCt),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),uO.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||bs.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Y9e(t){const[e,n]=MCt(),r=m.useContext(SJ);return re.createElement(FCt,{...t,layoutGroup:r,switchLayoutGroup:m.useContext(H7e),isPresent:e,safeToRemove:n})}const BCt={borderRadius:{...vS,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vS,borderTopRightRadius:vS,borderBottomLeftRadius:vS,borderBottomRightRadius:vS,boxShadow:$Ct},K9e=["TopLeft","TopRight","BottomLeft","BottomRight"],NCt=K9e.length,Ide=t=>typeof t=="string"?parseFloat(t):t,Dde=t=>typeof t=="number"||An.test(t);function VCt(t,e,n,r,i,s){i?(t.opacity=fo(0,n.opacity!==void 0?n.opacity:1,UCt(r)),t.opacityExit=fo(e.opacity!==void 0?e.opacity:1,0,HCt(r))):s&&(t.opacity=fo(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<NCt;o++){const a=`border${K9e[o]}Radius`;let l=Rde(e,a),u=Rde(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Dde(l)===Dde(u)?(t[a]=Math.max(fo(Ide(l),Ide(u),r),0),(im.test(u)||im.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=fo(e.rotate||0,n.rotate||0,r))}function Rde(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const UCt=Z9e(0,.5,PJ),HCt=Z9e(.5,.95,Io);function Z9e(t,e,n){return r=>r<t?0:r>e?1:n(wA(t,e,r))}function jde(t,e){t.min=e.min,t.max=e.max}function Kd(t,e){jde(t.x,e.x),jde(t.y,e.y)}function Ode(t,e,n,r,i){return t-=e,t=GP(t,1/n,r),i!==void 0&&(t=GP(t,1/i,r)),t}function zCt(t,e=0,n=1,r=.5,i,s=t,o=t){if(im.test(e)&&(e=parseFloat(e),e=fo(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=fo(s.min,s.max,r);t===s&&(a-=e),t.min=Ode(t.min,e,n,a,i),t.max=Ode(t.max,e,n,a,i)}function Lde(t,e,[n,r,i],s,o){zCt(t,e[n],e[r],e[i],e.scale,s,o)}const WCt=["x","scaleX","originX"],GCt=["y","scaleY","originY"];function Pde(t,e,n,r){Lde(t.x,e,WCt,n?n.x:void 0,r?r.x:void 0),Lde(t.y,e,GCt,n?n.y:void 0,r?r.y:void 0)}function Mde(t){return t.translate===0&&t.scale===1}function X9e(t){return Mde(t.x)&&Mde(t.y)}function qCt(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function Q9e(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function $de(t){return Td(t.x)/Td(t.y)}class YCt{constructor(){this.members=[]}add(e){NJ(this.members,e),e.scheduleRender()}remove(e){if(VJ(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Fde(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const KCt=(t,e)=>t.depth-e.depth;class ZCt{constructor(){this.children=[],this.isDirty=!1}add(e){NJ(this.children,e),this.isDirty=!0}remove(e){VJ(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(KCt),this.isDirty=!1,this.children.forEach(e)}}function XCt(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(n0(r),t(s-e))};return bs.read(r,!0),()=>n0(r)}function QCt(t){window.MotionDebug&&window.MotionDebug.record(t)}function JCt(t){return t instanceof SVGElement&&t.tagName!=="svg"}function eEt(t,e,n){const r=Nc(t)?t:G_(t);return r.start(BJ("",r,e,n)),r.animation}const Bde=["","X","Y","Z"],Nde=1e3;let tEt=0;const yb={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function J9e({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=tEt++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{yb.totalNodes=yb.resolvedTargetDeltas=yb.recalculatedProjection=0,this.nodes.forEach(iEt),this.nodes.forEach(uEt),this.nodes.forEach(cEt),this.nodes.forEach(sEt),QCt(yb)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new ZCt)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new UJ),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=JCt(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=XCt(h,250),uO.hasAnimatedSinceResize&&(uO.hasAnimatedSinceResize=!1,this.nodes.forEach(Ude))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||mEt,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=d.getProps(),b=!this.targetLayout||!Q9e(this.targetLayout,g)||p,_=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,_);const C={...$9e(v,"layout"),onPlay:y,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else h||Ude(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,n0(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dEt),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Vde);return}this.isUpdating||this.nodes.forEach(aEt),this.isUpdating=!1,this.nodes.forEach(lEt),this.nodes.forEach(nEt),this.nodes.forEach(rEt),this.clearAllSnapshots();const a=performance.now();nu.delta=Mv(0,1e3/60,a-nu.timestamp),nu.timestamp=a,nu.isProcessing=!0,GN.update.process(nu),GN.preRender.process(nu),GN.render.process(nu),nu.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(oEt),this.sharedNodes.forEach(fEt)}scheduleUpdateProjection(){bs.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){bs.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=sa(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!X9e(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||vb(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),gEt(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return sa();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(A1(a.x,l.offset.x),A1(a.y,l.offset.y)),a}removeElementScroll(o){const a=sa();Kd(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Kd(a,o);const{scroll:h}=this.root;h&&(A1(a.x,-h.offset.x),A1(a.y,-h.offset.y))}A1(a.x,d.offset.x),A1(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=sa();Kd(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&T5(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),vb(d.latestValues)&&T5(l,d.latestValues)}return vb(this.latestValues)&&T5(l,this.latestValues),l}removeTransform(o){const a=sa();Kd(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!vb(u.latestValues))continue;$G(u.latestValues)&&u.updateSnapshot();const d=sa(),f=u.measurePageBox();Kd(d,f),Pde(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return vb(this.latestValues)&&Pde(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nu.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=nu.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sa(),this.relativeTargetOrigin=sa(),gk(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Kd(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=sa(),this.targetWithTransforms=sa()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yCt(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Kd(this.target,this.layout.layoutBox),G9e(this.target,this.targetDelta)):Kd(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sa(),this.relativeTargetOrigin=sa(),gk(this.relativeTargetOrigin,this.target,p.target),Kd(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}yb.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||$G(this.parent.latestValues)||W9e(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===nu.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Kd(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;kCt(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:g}=a;if(!g){this.projectionTransform&&(this.projectionDelta=S5(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=S5(),this.projectionDeltaWithTransform=S5());const v=this.projectionTransform;mk(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=Fde(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),yb.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},f=S5();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=sa(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,v=p!==g,y=this.getStack(),x=!y||y.members.length<=1,b=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(pEt));this.animationProgress=0;let _;this.mixTargetDelta=C=>{const S=C/1e3;Hde(f.x,o.x,S),Hde(f.y,o.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gk(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hEt(this.relativeTarget,this.relativeTargetOrigin,h,S),_&&qCt(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=sa()),Kd(_,this.relativeTarget)),v&&(this.animationValues=d,VCt(d,u,this.latestValues,S,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(n0(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=bs.update(()=>{uO.hasAnimatedSinceResize=!0,this.currentAnimation=eEt(0,Nde,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Nde),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&e$e(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||sa();const f=Td(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=Td(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Kd(a,l),T5(a,d),mk(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new YCt),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<Bde.length;d++){const f="rotate"+Bde[d];l[f]&&(u[f]=l[f],o.setStaticValue(f,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=lO(o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=lO(o.pointerEvents)||""),this.hasProjected&&!vb(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=Fde(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:p,y:g}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in BP){if(h[v]===void 0)continue;const{correct:y,applyTo:x}=BP[v],b=u.transform==="none"?h[v]:y(h[v],f);if(x){const _=x.length;for(let C=0;C<_;C++)u[x[C]]=b}else u[v]=b}return this.options.layoutId&&(u.pointerEvents=f===this?lO(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Vde),this.root.sharedNodes.clear()}}}function nEt(t){t.updateLayout()}function rEt(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?kp(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],p=Td(h);h.min=r[f].min,h.max=h.min+p}):e$e(s,n.layoutBox,r)&&kp(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],p=Td(r[f]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const a=S5();mk(a,r,n.layoutBox);const l=S5();o?mk(l,t.applyTransform(i,!0),n.measuredBox):mk(l,r,n.layoutBox);const u=!X9e(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const g=sa();gk(g,n.layoutBox,h.layoutBox);const v=sa();gk(v,r,p.layoutBox),Q9e(g,v)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=g,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function iEt(t){yb.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function sEt(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function oEt(t){t.clearSnapshot()}function Vde(t){t.clearMeasurements()}function aEt(t){t.isLayoutDirty=!1}function lEt(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Ude(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function uEt(t){t.resolveTargetDelta()}function cEt(t){t.calcProjection()}function dEt(t){t.resetRotation()}function fEt(t){t.removeLeadSnapshot()}function Hde(t,e,n){t.translate=fo(e.translate,0,n),t.scale=fo(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function zde(t,e,n,r){t.min=fo(e.min,n.min,r),t.max=fo(e.max,n.max,r)}function hEt(t,e,n,r){zde(t.x,e.x,n.x,r),zde(t.y,e.y,n.y,r)}function pEt(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const mEt={duration:.45,ease:[.4,0,.1,1]},Wde=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),Gde=Wde("applewebkit/")&&!Wde("chrome/")?Math.round:Io;function qde(t){t.min=Gde(t.min),t.max=Gde(t.max)}function gEt(t){qde(t.x),qde(t.y)}function e$e(t,e,n){return t==="position"||t==="preserve-aspect"&&!PG($de(e),$de(n),.2)}const vEt=J9e({attachResizeListener:(t,e)=>Pg(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rV={current:void 0},t$e=J9e({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!rV.current){const t=new vEt({});t.mount(window),t.setOptions({layoutScroll:!0}),rV.current=t}return rV.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),yEt={pan:{Feature:PCt},drag:{Feature:LCt,ProjectionNode:t$e,MeasureLayout:Y9e}},bEt=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function xEt(t){const e=bEt.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function BG(t,e,n=1){const[r,i]=xEt(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return F9e(o)?parseFloat(o):o}else return AG(i)?BG(i,e,n+1):i}function wEt(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!AG(s))return;const o=BG(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!AG(s))continue;const o=BG(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const _Et=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),n$e=t=>_Et.has(t),CEt=t=>Object.keys(t).some(n$e),Yde=t=>t===lw||t===An,Kde=(t,e)=>parseFloat(t.split(", ")[e]),Zde=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return Kde(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?Kde(s[1],t):0}},EEt=new Set(["x","y","z"]),SEt=rI.filter(t=>!EEt.has(t));function TEt(t){const e=[];return SEt.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const q_={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Zde(4,13),y:Zde(5,14)};q_.translateX=q_.x;q_.translateY=q_.y;const kEt=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=q_[u](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const d=e.getValue(u);d&&d.jump(a[u]),t[u]=q_[u](l,s)}),t},AEt=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(n$e);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let d=n[l],f=gS(d);const h=e[l];let p;if(VP(h)){const g=h.length,v=h[0]===null?1:0;d=h[v],f=gS(d);for(let y=v;y<g&&h[y]!==null;y++)p?LJ(gS(h[y])===p):p=gS(h[y])}else p=gS(h);if(f!==p)if(Yde(f)&&Yde(p)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&p===An&&(e[l]=h.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(d===0||h===0)?d===0?u.set(p.transform(d)):e[l]=f.transform(h):(o||(s=TEt(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=kEt(e,t,a);return s.length&&s.forEach(([d,f])=>{t.getValue(d).set(f)}),t.render(),z7&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function IEt(t,e,n,r){return CEt(e)?AEt(t,e,n,r):{target:e,transitionEnd:r}}const DEt=(t,e,n,r)=>{const i=wEt(t,e,r);return e=i.target,r=i.transitionEnd,IEt(t,e,n,r)},NG={current:null},r$e={current:!1};function REt(){if(r$e.current=!0,!!z7)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>NG.current=t.matches;t.addListener(e),e()}else NG.current=!1}function jEt(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(Nc(s))t.addValue(i,s),WP(r)&&r.add(i);else if(Nc(o))t.addValue(i,G_(s,{owner:t})),WP(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,G_(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Xde=new WeakMap,i$e=Object.keys(xA),OEt=i$e.length,Qde=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],LEt=EJ.length;class PEt{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>bs.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=G7(n),this.isVariantNode=U7e(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];a[f]!==void 0&&Nc(h)&&(h.set(a[f],!1),WP(u)&&u.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,Xde.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),r$e.current||REt(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:NG.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Xde.delete(this.current),this.projection&&this.projection.unmount(),n0(this.notifyUpdate),n0(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=aw.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&bs.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<OEt;l++){const u=i$e[l],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:p}=xA[u];h&&(o=h),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),p&&(a=p))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:p}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||f&&C5(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:h,layoutRoot:p})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):sa()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Qde.length;r++){const i=Qde[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=jEt(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<LEt;r++){const i=EJ[r],s=this.props[i];(bA(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=G_(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=OJ(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Nc(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new UJ),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class s$e extends PEt{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=eCt(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){Q_t(this,r,o);const a=DEt(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function MEt(t){return window.getComputedStyle(t)}class $Et extends s$e{readValueFromInstance(e,n){if(aw.has(n)){const r=FJ(n);return r&&r.default||0}else{const r=MEt(e),i=(G7e(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return q9e(e,n)}build(e,n,r,i){kJ(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return jJ(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Nc(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){Q7e(e,n,r,i)}}class FEt extends s$e{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(aw.has(n)){const r=FJ(n);return r&&r.default||0}return n=J7e.has(n)?n:RJ(n),e.getAttribute(n)}measureInstanceViewportBox(){return sa()}scrapeMotionValuesFromProps(e,n){return t9e(e,n)}build(e,n,r,i){IJ(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){e9e(e,n,r,i)}mount(e){this.isSVGTag=DJ(e.tagName),super.mount(e)}}const BEt=(t,e)=>TJ(t)?new FEt(e,{enableHardwareAcceleration:!1}):new $Et(e,{enableHardwareAcceleration:!0}),NEt={layout:{ProjectionNode:t$e,MeasureLayout:Y9e}},VEt={...pCt,...L5t,...yEt,...NEt},HJ=H2t((t,e)=>w5t(t,e,VEt,BEt));function o$e(){const t=m.useRef(!1);return _J(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function UEt(){const t=o$e(),[e,n]=m.useState(0),r=m.useCallback(()=>{t.current&&n(e+1)},[e]);return[m.useCallback(()=>bs.postRender(r),[r]),e]}class HEt extends m.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function zEt({children:t,isPresent:e}){const n=m.useId(),r=m.useRef(null),i=m.useRef({width:0,height:0,top:0,left:0});return m.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),m.createElement(HEt,{isPresent:e,childRef:r,sizeRef:i},m.cloneElement(t,{ref:r}))}const iV=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=n9e(WEt),l=m.useId(),u=m.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:d=>{a.set(d,!0);for(const f of a.values())if(!f)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),s?void 0:[n]);return m.useMemo(()=>{a.forEach((d,f)=>a.set(f,!1))},[n]),m.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=m.createElement(zEt,{isPresent:n},t)),m.createElement(H7.Provider,{value:u},t)};function WEt(){return new Map}function GEt(t){return m.useEffect(()=>()=>t(),[])}const P2=t=>t.key||"";function qEt(t,e){t.forEach(n=>{const r=P2(n);e.set(r,n)})}function YEt(t){const e=[];return m.Children.forEach(t,n=>{m.isValidElement(n)&&e.push(n)}),e}const a$e=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=m.useContext(SJ).forceRender||UEt()[0],l=o$e(),u=YEt(t);let d=u;const f=m.useRef(new Map).current,h=m.useRef(d),p=m.useRef(new Map).current,g=m.useRef(!0);if(_J(()=>{g.current=!1,qEt(u,p),h.current=d}),GEt(()=>{g.current=!0,p.clear(),f.clear()}),g.current)return m.createElement(m.Fragment,null,d.map(b=>m.createElement(iV,{key:P2(b),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},b)));d=[...d];const v=h.current.map(P2),y=u.map(P2),x=v.length;for(let b=0;b<x;b++){const _=v[b];y.indexOf(_)===-1&&!f.has(_)&&f.set(_,void 0)}return o==="wait"&&f.size&&(d=[]),f.forEach((b,_)=>{if(y.indexOf(_)!==-1)return;const C=p.get(_);if(!C)return;const S=v.indexOf(_);let T=b;if(!T){const A=()=>{p.delete(_),f.delete(_);const k=h.current.findIndex(I=>I.key===_);if(h.current.splice(k,1),!f.size){if(h.current=u,l.current===!1)return;a(),r&&r()}};T=m.createElement(iV,{key:P2(C),isPresent:!1,onExitComplete:A,custom:e,presenceAffectsLayout:s,mode:o},C),f.set(_,T)}d.splice(S,0,T)}),d=d.map(b=>{const _=b.key;return f.has(_)?b:m.createElement(iV,{key:P2(b),isPresent:!0,presenceAffectsLayout:s,mode:o},b)}),m.createElement(m.Fragment,null,f.size?d:d.map(b=>m.cloneElement(b)))},aI=[],xv={},l$e={top:"bottom",right:"left",bottom:"top",left:"right"};function KEt(t,e){return t.reduce((n,r)=>(n[r]=e,n),{})}function Xe(t){return t===0?0:"".concat(t/16,"rem")}function Vn(t,e,n){return((e==null?void 0:e.map(n))||[]).map((i,s)=>s===0?i:{["@media screen and (min-width: ".concat(t[s-1],"px)")]:i})}function ZEt(t,e){return t===void 0?e||aI:Array.isArray(t)?t:[t]}function Ec(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:aI;if(!Array.isArray(n))throw new Error("the property must be array of numbers");return n.length===0?null:Vn(t.sanity.media,n,r=>KEt(e,Xe(t.sanity.space[r])))}function Y_(t,e){const{$size:n,$weight:r,theme:i}=e,{fonts:s,media:o}=i.sanity,{family:a,sizes:l,weights:u}=s[t],d=r&&u[r]||u.regular,f=l[2],h={position:"relative",fontFamily:a,fontWeight:d,padding:"1px 0",margin:0,"&:before":{content:'""',display:"block",height:0},"&:after":{content:'""',display:"block",height:0},"& > code, & > span":{display:"block"},"&:not([hidden])":{display:"block"}};if(!n)return Y_.warned||(console.warn("No size specified for responsive font",{fontKey:t,$size:n,props:e,base:h}),Y_.warned=!0),[h];const p=Vn(o,n,g=>XEt(l[g]||f));return[h,...p]}function XEt(t){const{ascenderHeight:e,descenderHeight:n,fontSize:r,iconSize:i,letterSpacing:s,lineHeight:o}=t,a=e+n,l=o-a,u=(l-i)/2,d=Math.floor(r*1.125/2)*2+1,f=(l-d)/2;return{fontSize:Xe(r),lineHeight:"calc(".concat(o," / ").concat(r,")"),letterSpacing:Xe(s),transform:"translateY(".concat(Xe(n),")"),"&:before":{marginTop:"calc(".concat(Xe(0-a)," - 1px)")},"&:after":{marginBottom:"-1px"},"& svg:not([data-sanity-icon])":{fontSize:"calc(".concat(d," / 16 * 1rem)"),margin:Xe(f)},"& [data-sanity-icon]":{fontSize:"calc(".concat(i," / 16 * 1rem)"),margin:Xe(u)}}}function QEt(t){return Y_("code",t)}function JEt(t){return Y_("heading",t)}function eSt(t){return Y_("label",t)}function zJ(t){const{theme:e}=t;return Vn(e.sanity.media,t.$align,n=>({textAlign:n}))}function tSt(t){return Y_("text",t)}function ot(t,e){const n=m.useMemo(()=>JSON.stringify(t??e),[e,t]);return m.useMemo(()=>ZEt(t,e),[n])}function Jde(t,e){const n=[t];for(const r of e)Array.isArray(r)?n.push(...r):n.push(r);return n.filter(Boolean)}function ga(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:aI,n=arguments.length>2?arguments[2]:void 0;const[r,i]=m.useState(null),[s,o]=m.useState(()=>Jde(r,e)),a=m.useRef(s);return m.useEffect(()=>{const l=a.current,u=Jde(r,e);if(l.length!==u.length){o(u),a.current=u;return}for(const d of l)if(!u.includes(d)){o(u),a.current=u;return}for(const d of u)if(!l.includes(d)){o(u),a.current=u;return}},[r,e]),m.useEffect(()=>{if(!t)return;const l=u=>{const d=u.target;if(d instanceof Node&&!(n&&!n.contains(d))){for(const f of s)if(d===f||f.contains(d))return;t(u)}};return window.addEventListener("mousedown",l),()=>{window.removeEventListener("mousedown",l)}},[n,t,s]),i}var bx=[],nSt=function(){return bx.some(function(t){return t.activeTargets.length>0})},rSt=function(){return bx.some(function(t){return t.skippedTargets.length>0})},efe="ResizeObserver loop completed with undelivered notifications.",iSt=function(){var t;typeof ErrorEvent=="function"?t=new ErrorEvent("error",{message:efe}):(t=document.createEvent("Event"),t.initEvent("error",!1,!1),t.message=efe),window.dispatchEvent(t)},_A;(function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(_A||(_A={}));var xx=function(t){return Object.freeze(t)},sSt=function(){function t(e,n){this.inlineSize=e,this.blockSize=n,xx(this)}return t}(),u$e=function(){function t(e,n,r,i){return this.x=e,this.y=n,this.width=r,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,xx(this)}return t.prototype.toJSON=function(){var e=this,n=e.x,r=e.y,i=e.top,s=e.right,o=e.bottom,a=e.left,l=e.width,u=e.height;return{x:n,y:r,top:i,right:s,bottom:o,left:a,width:l,height:u}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),WJ=function(t){return t instanceof SVGElement&&"getBBox"in t},c$e=function(t){if(WJ(t)){var e=t.getBBox(),n=e.width,r=e.height;return!n&&!r}var i=t,s=i.offsetWidth,o=i.offsetHeight;return!(s||o||t.getClientRects().length)},tfe=function(t){var e;if(t instanceof Element)return!0;var n=(e=t==null?void 0:t.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(n&&t instanceof n.Element)},oSt=function(t){switch(t.tagName){case"INPUT":if(t.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},vk=typeof window<"u"?window:{},GR=new WeakMap,nfe=/auto|scroll/,aSt=/^tb|vertical/,lSt=/msie|trident/i.test(vk.navigator&&vk.navigator.userAgent),cp=function(t){return parseFloat(t||"0")},X5=function(t,e,n){return t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=!1),new sSt((n?e:t)||0,(n?t:e)||0)},rfe=xx({devicePixelContentBoxSize:X5(),borderBoxSize:X5(),contentBoxSize:X5(),contentRect:new u$e(0,0,0,0)}),d$e=function(t,e){if(e===void 0&&(e=!1),GR.has(t)&&!e)return GR.get(t);if(c$e(t))return GR.set(t,rfe),rfe;var n=getComputedStyle(t),r=WJ(t)&&t.ownerSVGElement&&t.getBBox(),i=!lSt&&n.boxSizing==="border-box",s=aSt.test(n.writingMode||""),o=!r&&nfe.test(n.overflowY||""),a=!r&&nfe.test(n.overflowX||""),l=r?0:cp(n.paddingTop),u=r?0:cp(n.paddingRight),d=r?0:cp(n.paddingBottom),f=r?0:cp(n.paddingLeft),h=r?0:cp(n.borderTopWidth),p=r?0:cp(n.borderRightWidth),g=r?0:cp(n.borderBottomWidth),v=r?0:cp(n.borderLeftWidth),y=f+u,x=l+d,b=v+p,_=h+g,C=a?t.offsetHeight-_-t.clientHeight:0,S=o?t.offsetWidth-b-t.clientWidth:0,T=i?y+b:0,A=i?x+_:0,k=r?r.width:cp(n.width)-T-S,I=r?r.height:cp(n.height)-A-C,D=k+y+S+b,R=I+x+C+_,O=xx({devicePixelContentBoxSize:X5(Math.round(k*devicePixelRatio),Math.round(I*devicePixelRatio),s),borderBoxSize:X5(D,R,s),contentBoxSize:X5(k,I,s),contentRect:new u$e(f,l,k,I)});return GR.set(t,O),O},f$e=function(t,e,n){var r=d$e(t,n),i=r.borderBoxSize,s=r.contentBoxSize,o=r.devicePixelContentBoxSize;switch(e){case _A.DEVICE_PIXEL_CONTENT_BOX:return o;case _A.BORDER_BOX:return i;default:return s}},uSt=function(){function t(e){var n=d$e(e);this.target=e,this.contentRect=n.contentRect,this.borderBoxSize=xx([n.borderBoxSize]),this.contentBoxSize=xx([n.contentBoxSize]),this.devicePixelContentBoxSize=xx([n.devicePixelContentBoxSize])}return t}(),h$e=function(t){if(c$e(t))return 1/0;for(var e=0,n=t.parentNode;n;)e+=1,n=n.parentNode;return e},cSt=function(){var t=1/0,e=[];bx.forEach(function(o){if(o.activeTargets.length!==0){var a=[];o.activeTargets.forEach(function(u){var d=new uSt(u.target),f=h$e(u.target);a.push(d),u.lastReportedSize=f$e(u.target,u.observedBox),f<t&&(t=f)}),e.push(function(){o.callback.call(o.observer,a,o.observer)}),o.activeTargets.splice(0,o.activeTargets.length)}});for(var n=0,r=e;n<r.length;n++){var i=r[n];i()}return t},ife=function(t){bx.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(i){i.isActive()&&(h$e(i.target)>t?n.activeTargets.push(i):n.skippedTargets.push(i))})})},dSt=function(){var t=0;for(ife(t);nSt();)t=cSt(),ife(t);return rSt()&&iSt(),t>0},sV,p$e=[],fSt=function(){return p$e.splice(0).forEach(function(t){return t()})},hSt=function(t){if(!sV){var e=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return fSt()}).observe(n,r),sV=function(){n.textContent="".concat(e?e--:e++)}}p$e.push(t),sV()},pSt=function(t){hSt(function(){requestAnimationFrame(t)})},cO=0,mSt=function(){return!!cO},gSt=250,vSt={attributes:!0,characterData:!0,childList:!0,subtree:!0},sfe=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],ofe=function(t){return t===void 0&&(t=0),Date.now()+t},oV=!1,ySt=function(){function t(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return t.prototype.run=function(e){var n=this;if(e===void 0&&(e=gSt),!oV){oV=!0;var r=ofe(e);pSt(function(){var i=!1;try{i=dSt()}finally{if(oV=!1,e=r-ofe(),!mSt())return;i?n.run(1e3):e>0?n.run(e):n.start()}})}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var e=this,n=function(){return e.observer&&e.observer.observe(document.body,vSt)};document.body?n():vk.addEventListener("DOMContentLoaded",n)},t.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),sfe.forEach(function(n){return vk.addEventListener(n,e.listener,!0)}))},t.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),sfe.forEach(function(n){return vk.removeEventListener(n,e.listener,!0)}),this.stopped=!0)},t}(),VG=new ySt,afe=function(t){!cO&&t>0&&VG.start(),cO+=t,!cO&&VG.stop()},bSt=function(t){return!WJ(t)&&!oSt(t)&&getComputedStyle(t).display==="inline"},xSt=function(){function t(e,n){this.target=e,this.observedBox=n||_A.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var e=f$e(this.target,this.observedBox,!0);return bSt(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),wSt=function(){function t(e,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=n}return t}(),qR=new WeakMap,lfe=function(t,e){for(var n=0;n<t.length;n+=1)if(t[n].target===e)return n;return-1},YR=function(){function t(){}return t.connect=function(e,n){var r=new wSt(e,n);qR.set(e,r)},t.observe=function(e,n,r){var i=qR.get(e),s=i.observationTargets.length===0;lfe(i.observationTargets,n)<0&&(s&&bx.push(i),i.observationTargets.push(new xSt(n,r&&r.box)),afe(1),VG.schedule())},t.unobserve=function(e,n){var r=qR.get(e),i=lfe(r.observationTargets,n),s=r.observationTargets.length===1;i>=0&&(s&&bx.splice(bx.indexOf(r),1),r.observationTargets.splice(i,1),afe(-1))},t.disconnect=function(e){var n=this,r=qR.get(e);r.observationTargets.slice().forEach(function(i){return n.unobserve(e,i.target)}),r.activeTargets.splice(0,r.activeTargets.length)},t}(),_St=function(){function t(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");YR.connect(this,e)}return t.prototype.observe=function(e,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!tfe(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");YR.observe(this,e,n)},t.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!tfe(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");YR.unobserve(this,e)},t.prototype.disconnect=function(){YR.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}();const m$e=typeof document<"u"&&typeof window<"u"&&window.ResizeObserver?window.ResizeObserver:_St,CSt=SSt();function ESt(){return{subscribe(t,e){const n=new m$e(r=>{let[i]=r;e({_contentRect:i.contentRect,border:{width:i.borderBoxSize[0].inlineSize,height:i.borderBoxSize[0].blockSize},content:{width:i.contentRect.width,height:i.contentRect.height}})});return n.observe(t),()=>{n.unobserve(t),n.disconnect()}}}}function SSt(){const t=new WeakMap,e=new WeakMap;return{subscribe(n,r){const i=e.get(n)||[];let s=t.get(n);return e.has(n)||(e.set(n,i),s=ESt().subscribe(n,a=>{for(const l of i)l(a)})),i.push(r),()=>{const o=i.indexOf(r);o>-1&&i.splice(o,1),i.length===0&&s&&s()}}}}function Z7(t){const[e,n]=m.useState(null);return m.useEffect(()=>{if(t)return CSt.subscribe(t,n)},[t]),e}function lI(t){const e=Z7(t);return(e==null?void 0:e._contentRect)||null}function zf(t){return m.useEffect(()=>(addEventListener("keydown",t),()=>removeEventListener("keydown",t)),[t])}function aV(t,e){return t*e}function TSt(t,e){return{r:Math.round(lV(aV(t.r/255,e.r/255)*255)),g:Math.round(lV(aV(t.g/255,e.g/255)*255)),b:Math.round(lV(aV(t.b/255,e.b/255)*255))}}function lV(t){return Math.max(Math.min(t,255),0)}function uV(t,e){return t+e-t*e}function kSt(t,e){return{r:Math.round(cV(uV(t.r/255,e.r/255)*255)),g:Math.round(cV(uV(t.g/255,e.g/255)*255)),b:Math.round(cV(uV(t.b/255,e.b/255)*255))}}function cV(t){return Math.max(Math.min(t,255),0)}function ASt(t){if(t.length===4){const e=t.slice(1,2),n=t.slice(2,3),r=t.slice(3,4);return{r:parseInt(e+e,16),g:parseInt(n+n,16),b:parseInt(r+r,16)}}return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16)}}function g$e(t){let{r:e,g:n,b:r}=t;return"#"+((1<<24)+(e<<16)+(n<<8)+r).toString(16).slice(1)}function ISt(t){const e=t.s/100,n=t.l/100,r=(1-Math.abs(2*n-1))*e,i=r*(1-Math.abs(t.h/60%2-1)),s=n-r/2;let o=0,a=0,l=0;return 0<=t.h&&t.h<60?(o=r,a=i,l=0):60<=t.h&&t.h<120?(o=i,a=r,l=0):120<=t.h&&t.h<180?(o=0,a=r,l=i):180<=t.h&&t.h<240?(o=0,a=i,l=r):240<=t.h&&t.h<300?(o=i,a=0,l=r):300<=t.h&&t.h<360&&(o=r,a=0,l=i),{r:Math.round((o+s)*255),g:Math.round((a+s)*255),b:Math.round((l+s)*255)}}const DSt="0123456789ABCDEFabcdef",RSt=/hsl\(\s*(\d+)\s*,\s*((\d+(?:\.\d+)?)%)\s*,\s*((\d+(?:\.\d+)?)%)\s*\)/i;function jSt(t){for(const e of t)if(DSt.indexOf(e)===-1)return!1;return!0}function OSt(t){return t[0]!=="#"||!(t.length===4||t.length===7)?!1:jSt(t.slice(1))}function LSt(t){const e=RSt.exec(t);if(!e)throw new Error('parseHsl: string is not a HSL color: "'.concat(t,'"'));return{h:parseInt(e[1]),s:parseFloat(e[3]),l:parseFloat(e[5])}}function CA(t){if(!t)return{r:0,g:0,b:0};if(typeof t!="string")throw new Error("parseColor: expected a string");if(OSt(t))return ASt(t);if(t.startsWith("hsl("))return ISt(LSt(t));throw new Error('parseColor: unexpected color format: "'.concat(t,'"'))}function fr(t,e){const n=CA(t);return"rgba(".concat(n.r,",").concat(n.g,",").concat(n.b,",").concat(e,")")}function dV(t,e,n,r,i,s){return{default:t.button({base:e,dark:n,solid:r.default,muted:i.default,mode:s}),primary:t.button({base:e,dark:n,solid:r.primary,muted:i.primary,mode:s}),positive:t.button({base:e,dark:n,solid:r.positive,muted:i.positive,mode:s}),caution:t.button({base:e,dark:n,solid:r.caution,muted:i.caution,mode:s}),critical:t.button({base:e,dark:n,solid:r.critical,muted:i.critical,mode:s})}}function PSt(t,e,n,r,i){return{default:dV(t,e,n,r,i,"default"),ghost:dV(t,e,n,r,i,"ghost"),bleed:dV(t,e,n,r,i,"bleed")}}function MSt(t,e,n,r,i,s){return{enabled:t.card({base:e,dark:n,name:r,state:"enabled",solid:i,muted:s}),disabled:t.card({base:e,dark:n,name:r,state:"disabled",solid:i,muted:s}),hovered:t.card({base:e,dark:n,name:r,state:"hovered",solid:i,muted:s}),pressed:t.card({base:e,dark:n,name:r,state:"pressed",solid:i,muted:s}),selected:t.card({base:e,dark:n,name:r,state:"selected",solid:i,muted:s})}}const ut="hsl(0, 0%, 0%)",n2="hsl(0, 0%, 100%)",Hn={default:{lightest:"hsl(0, 0%, 95%)",lighter:"hsl(0, 0%, 70%)",light:"hsl(0, 0%, 65%)",base:"hsl(0, 0%, 50%)",dark:"hsl(0, 0%, 35%)",darker:"hsl(0, 0%, 20%)",darkest:"hsl(0, 0%, 5%)"},transparent:{lightest:"hsl(240, 100%, 95%)",lighter:"hsl(240, 100%, 70%)",light:"hsl(240, 100%, 65%)",base:"hsl(240, 100%, 50%)",dark:"hsl(240, 100%, 35%)",darker:"hsl(240, 100%, 20%)",darkest:"hsl(240, 100%, 5%)"},primary:{lightest:"hsl(240, 100%, 95%)",lighter:"hsl(240, 100%, 70%)",light:"hsl(240, 100%, 65%)",base:"hsl(240, 100%, 50%)",dark:"hsl(240, 100%, 35%)",darker:"hsl(240, 100%, 20%)",darkest:"hsl(240, 100%, 5%)"},positive:{lightest:"hsl(120, 100%, 95%)",lighter:"hsl(120, 100%, 70%)",light:"hsl(120, 100%, 65%)",base:"hsl(120, 100%, 50%)",dark:"hsl(120, 100%, 35%)",darker:"hsl(120, 100%, 20%)",darkest:"hsl(120, 100%, 5%)"},caution:{lightest:"hsl(60, 100%, 95%)",lighter:"hsl(60, 100%, 70%)",light:"hsl(60, 100%, 65%)",base:"hsl(60, 100%, 50%)",dark:"hsl(60, 100%, 35%)",darker:"hsl(60, 100%, 20%)",darkest:"hsl(60, 100%, 5%)"},critical:{lightest:"hsl(0, 100%, 95%)",lighter:"hsl(0, 100%, 70%)",light:"hsl(0, 100%, 65%)",base:"hsl(0, 100%, 50%)",dark:"hsl(0, 100%, 35%)",darker:"hsl(0, 100%, 20%)",darkest:"hsl(0, 100%, 5%)"}},$St={gray:"hsl(0, 0%, 50%)",red:"hsl(0, 100%, 50%)",orange:"hsl(30, 100%, 50%)",yellow:"hsl(60, 100%, 50%)",green:"hsl(120, 100%, 50%)",cyan:"hsl(180, 100%, 50%)",blue:"hsl(240, 100%, 50%)",purple:"hsl(270, 100%, 50%)",magenta:"hsl(300, 100%, 50%)"},KR={transparent:{bg:[Hn.transparent.darkest,Hn.transparent.lightest],fg:[Hn.transparent.lightest,Hn.transparent.darkest],border:[Hn.transparent.darker,Hn.transparent.lighter],focusRing:[Hn.transparent.base,Hn.transparent.base]},primary:{bg:[Hn.primary.darkest,Hn.primary.lightest],fg:[Hn.primary.lightest,Hn.primary.darkest],border:[Hn.primary.darker,Hn.primary.lighter],focusRing:[Hn.primary.base,Hn.primary.base]},positive:{bg:[Hn.positive.darkest,Hn.positive.lightest],fg:[Hn.positive.lightest,Hn.positive.darkest],border:[Hn.positive.darker,Hn.positive.lighter],focusRing:[Hn.positive.base,Hn.positive.base]},caution:{bg:[Hn.caution.darkest,Hn.caution.lightest],fg:[Hn.caution.lightest,Hn.caution.darkest],border:[Hn.caution.darker,Hn.caution.lighter],focusRing:[Hn.caution.base,Hn.caution.base]},critical:{bg:[Hn.critical.darkest,Hn.critical.lightest],fg:[Hn.critical.lightest,Hn.critical.darkest],border:[Hn.critical.darker,Hn.critical.lighter],focusRing:[Hn.critical.base,Hn.critical.base]}},FSt={base:t=>{let{dark:e,name:n}=t;return n==="default"?{bg:e?ut:n2,fg:e?n2:ut,border:e?Hn.default.darkest:Hn.default.lightest,focusRing:Hn.primary.base,shadow:{outline:ut,umbra:ut,penumbra:ut,ambient:ut},skeleton:{from:e?n2:ut,to:e?n2:ut}}:{bg:KR[n].bg[e?0:1],fg:KR[n].fg[e?0:1],border:KR[n].border[e?0:1],focusRing:KR[n].focusRing[e?0:1],shadow:{outline:ut,umbra:ut,penumbra:ut,ambient:ut},skeleton:{from:e?n2:ut,to:e?n2:ut}}},solid:t=>{let{base:e,dark:n,state:r,tone:i}=t;const s=Hn[i];return r==="hovered"?{bg:n?s.light:s.dark,bg2:n?s.light:s.dark,border:n?s.lighter:s.darker,fg:n?s.darkest:s.lightest,muted:{fg:ut},accent:{fg:ut},link:{fg:ut},code:{bg:ut,fg:ut},skeleton:e.skeleton}:{bg:s.base,bg2:s.base,border:n?s.light:s.dark,fg:n?s.darkest:s.lightest,muted:{fg:ut},accent:{fg:ut},link:{fg:ut},code:{bg:ut,fg:ut},skeleton:e.skeleton}},muted:t=>{let{base:e,dark:n,state:r,tone:i}=t;const s=Hn[i];return r==="hovered"?{bg:n?s.darker:s.lighter,bg2:n?s.darker:s.lighter,border:n?s.lighter:s.darker,fg:n?s.lightest:s.darkest,muted:{fg:ut},accent:{fg:ut},link:{fg:ut},code:{bg:ut,fg:ut},skeleton:e.skeleton}:{bg:n?s.darkest:s.lightest,bg2:n?s.darkest:s.lightest,border:n?s.darker:s.lighter,fg:n?s.lighter:s.darker,muted:{fg:ut},accent:{fg:ut},link:{fg:ut},code:{bg:ut,fg:ut},skeleton:e.skeleton}},button:t=>{let{base:e,mode:n,muted:r,solid:i}=t;return n==="bleed"?{...r,enabled:{bg:"transparent",bg2:"transparent",fg:r.enabled.fg,border:"transparent",muted:{fg:ut},accent:{fg:ut},link:{fg:ut},code:{bg:ut,fg:ut},skeleton:e.skeleton},hovered:{bg:r.enabled.bg,bg2:r.enabled.bg,fg:r.hovered.fg,border:"transparent",muted:{fg:ut},accent:{fg:ut},link:{fg:ut},code:{bg:ut,fg:ut},skeleton:e.skeleton}}:n==="ghost"?{...i,enabled:r.enabled}:i},card:t=>{let{base:e}=t;return{bg:ut,bg2:ut,fg:ut,border:ut,muted:{fg:ut},accent:{fg:ut},link:{fg:ut},code:{bg:ut,fg:ut},skeleton:e.skeleton}},input:()=>({bg:ut,fg:ut,border:ut,placeholder:ut}),selectable:t=>{let{muted:e,state:n,tone:r}=t;return e[r][n]},spot:t=>{let{key:e}=t;return $St[e]},syntax:()=>({atrule:ut,attrName:ut,attrValue:ut,attribute:ut,boolean:ut,builtin:ut,cdata:ut,char:ut,class:ut,className:ut,comment:ut,constant:ut,deleted:ut,doctype:ut,entity:ut,function:ut,hexcode:ut,id:ut,important:ut,inserted:ut,keyword:ut,number:ut,operator:ut,prolog:ut,property:ut,pseudoClass:ut,pseudoElement:ut,punctuation:ut,regex:ut,selector:ut,string:ut,symbol:ut,tag:ut,unit:ut,url:ut,variable:ut})};function BSt(t,e,n,r,i){return{default:{enabled:t.input({base:e,dark:n,mode:"default",state:"enabled",solid:r.default,muted:i.default}),disabled:t.input({base:e,dark:n,mode:"default",state:"disabled",solid:r.default,muted:i.default}),hovered:t.input({base:e,dark:n,mode:"default",state:"hovered",solid:r.default,muted:i.default}),readOnly:t.input({base:e,dark:n,mode:"default",state:"readOnly",solid:r.default,muted:i.default})},invalid:{enabled:t.input({base:e,dark:n,mode:"invalid",state:"enabled",solid:r.default,muted:i.default}),disabled:t.input({base:e,dark:n,mode:"invalid",state:"disabled",solid:r.default,muted:i.default}),hovered:t.input({base:e,dark:n,mode:"invalid",state:"hovered",solid:r.default,muted:i.default}),readOnly:t.input({base:e,dark:n,mode:"invalid",state:"readOnly",solid:r.default,muted:i.default})}}}function NSt(t,e,n,r){return{default:{enabled:t.muted({base:e,dark:n,tone:"default",name:r,state:"enabled"}),disabled:t.muted({base:e,dark:n,tone:"default",name:r,state:"disabled"}),hovered:t.muted({base:e,dark:n,tone:"default",name:r,state:"hovered"}),pressed:t.muted({base:e,dark:n,tone:"default",name:r,state:"pressed"}),selected:t.muted({base:e,dark:n,tone:"default",name:r,state:"selected"})},transparent:{enabled:t.muted({base:e,dark:n,tone:"transparent",name:r,state:"enabled"}),disabled:t.muted({base:e,dark:n,tone:"transparent",name:r,state:"disabled"}),hovered:t.muted({base:e,dark:n,tone:"transparent",name:r,state:"hovered"}),pressed:t.muted({base:e,dark:n,tone:"transparent",name:r,state:"pressed"}),selected:t.muted({base:e,dark:n,tone:"transparent",name:r,state:"selected"})},primary:{enabled:t.muted({base:e,dark:n,tone:"primary",name:r,state:"enabled"}),disabled:t.muted({base:e,dark:n,tone:"primary",name:r,state:"disabled"}),hovered:t.muted({base:e,dark:n,tone:"primary",name:r,state:"hovered"}),pressed:t.muted({base:e,dark:n,tone:"primary",name:r,state:"pressed"}),selected:t.muted({base:e,dark:n,tone:"primary",name:r,state:"selected"})},positive:{enabled:t.muted({base:e,dark:n,tone:"positive",name:r,state:"enabled"}),disabled:t.muted({base:e,dark:n,tone:"positive",name:r,state:"disabled"}),hovered:t.muted({base:e,dark:n,tone:"positive",name:r,state:"hovered"}),pressed:t.muted({base:e,dark:n,tone:"positive",name:r,state:"pressed"}),selected:t.muted({base:e,dark:n,tone:"positive",name:r,state:"selected"})},caution:{enabled:t.muted({base:e,dark:n,tone:"caution",name:r,state:"enabled"}),disabled:t.muted({base:e,dark:n,tone:"caution",name:r,state:"disabled"}),hovered:t.muted({base:e,dark:n,tone:"caution",name:r,state:"hovered"}),pressed:t.muted({base:e,dark:n,tone:"caution",name:r,state:"pressed"}),selected:t.muted({base:e,dark:n,tone:"caution",name:r,state:"selected"})},critical:{enabled:t.muted({base:e,dark:n,tone:"critical",name:r,state:"enabled"}),disabled:t.muted({base:e,dark:n,tone:"critical",name:r,state:"disabled"}),hovered:t.muted({base:e,dark:n,tone:"critical",name:r,state:"hovered"}),pressed:t.muted({base:e,dark:n,tone:"critical",name:r,state:"pressed"}),selected:t.muted({base:e,dark:n,tone:"critical",name:r,state:"selected"})}}}function VSt(t,e,n,r,i){return{default:yS(t,e,n,r,i,"default"),primary:yS(t,e,n,r,i,"primary"),positive:yS(t,e,n,r,i,"positive"),caution:yS(t,e,n,r,i,"caution"),critical:yS(t,e,n,r,i,"critical")}}function yS(t,e,n,r,i,s){return{enabled:t.selectable({base:e,dark:n,solid:r,muted:i,state:"enabled",tone:s}),hovered:t.selectable({base:e,dark:n,solid:r,muted:i,state:"hovered",tone:s}),pressed:t.selectable({base:e,dark:n,solid:r,muted:i,state:"pressed",tone:s}),selected:t.selectable({base:e,dark:n,solid:r,muted:i,state:"selected",tone:s}),disabled:t.selectable({base:e,dark:n,solid:r,muted:i,state:"disabled",tone:s})}}function USt(t,e,n,r){return{default:{enabled:t.solid({base:e,dark:n,tone:"default",name:r,state:"enabled"}),disabled:t.solid({base:e,dark:n,tone:"default",name:r,state:"disabled"}),hovered:t.solid({base:e,dark:n,tone:"default",name:r,state:"hovered"}),pressed:t.solid({base:e,dark:n,tone:"default",name:r,state:"pressed"}),selected:t.solid({base:e,dark:n,tone:"default",name:r,state:"selected"})},transparent:{enabled:t.solid({base:e,dark:n,tone:"transparent",name:r,state:"enabled"}),disabled:t.solid({base:e,dark:n,tone:"transparent",name:r,state:"disabled"}),hovered:t.solid({base:e,dark:n,tone:"transparent",name:r,state:"hovered"}),pressed:t.solid({base:e,dark:n,tone:"transparent",name:r,state:"pressed"}),selected:t.solid({base:e,dark:n,tone:"transparent",name:r,state:"selected"})},primary:{enabled:t.solid({base:e,dark:n,tone:"primary",name:r,state:"enabled"}),disabled:t.solid({base:e,dark:n,tone:"primary",name:r,state:"disabled"}),hovered:t.solid({base:e,dark:n,tone:"primary",name:r,state:"hovered"}),pressed:t.solid({base:e,dark:n,tone:"primary",name:r,state:"pressed"}),selected:t.solid({base:e,dark:n,tone:"primary",name:r,state:"selected"})},positive:{enabled:t.solid({base:e,dark:n,tone:"positive",name:r,state:"enabled"}),disabled:t.solid({base:e,dark:n,tone:"positive",name:r,state:"disabled"}),hovered:t.solid({base:e,dark:n,tone:"positive",name:r,state:"hovered"}),pressed:t.solid({base:e,dark:n,tone:"positive",name:r,state:"pressed"}),selected:t.solid({base:e,dark:n,tone:"positive",name:r,state:"selected"})},caution:{enabled:t.solid({base:e,dark:n,tone:"caution",name:r,state:"enabled"}),disabled:t.solid({base:e,dark:n,tone:"caution",name:r,state:"disabled"}),hovered:t.solid({base:e,dark:n,tone:"caution",name:r,state:"hovered"}),pressed:t.solid({base:e,dark:n,tone:"caution",name:r,state:"pressed"}),selected:t.solid({base:e,dark:n,tone:"caution",name:r,state:"selected"})},critical:{enabled:t.solid({base:e,dark:n,tone:"critical",name:r,state:"enabled"}),disabled:t.solid({base:e,dark:n,tone:"critical",name:r,state:"disabled"}),hovered:t.solid({base:e,dark:n,tone:"critical",name:r,state:"hovered"}),pressed:t.solid({base:e,dark:n,tone:"critical",name:r,state:"pressed"}),selected:t.solid({base:e,dark:n,tone:"critical",name:r,state:"selected"})}}}function HSt(t,e,n){return{gray:t.spot({base:e,dark:n,key:"gray"}),blue:t.spot({base:e,dark:n,key:"blue"}),purple:t.spot({base:e,dark:n,key:"purple"}),magenta:t.spot({base:e,dark:n,key:"magenta"}),red:t.spot({base:e,dark:n,key:"red"}),orange:t.spot({base:e,dark:n,key:"orange"}),yellow:t.spot({base:e,dark:n,key:"yellow"}),green:t.spot({base:e,dark:n,key:"green"}),cyan:t.spot({base:e,dark:n,key:"cyan"})}}function zSt(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e={...FSt,...t};return{light:ufe(e,!1),dark:ufe(e,!0)}}function ufe(t,e){return{default:r2(t,e,"default"),transparent:r2(t,e,"transparent"),primary:r2(t,e,"primary"),positive:r2(t,e,"positive"),caution:r2(t,e,"caution"),critical:r2(t,e,"critical")}}function r2(t,e,n){const r=t.base({dark:e,name:n}),i=USt(t,r,e,n),s=NSt(t,r,e,n);return{base:r,button:PSt(t,r,e,i,s),card:MSt(t,r,e,n,i,s),dark:e,input:BSt(t,r,e,i,s),selectable:VSt(t,r,e,i,s),spot:HSt(t,r,e),syntax:t.syntax({base:r,dark:e}),solid:i,muted:s}}function Qy(t,e){const n=CA(t),r=CA(e);return g$e(TSt(n,r))}function Jy(t,e){const n=CA(t),r=CA(e);return g$e(kSt(n,r))}const ku={default:Ke.gray,transparent:Ke.gray,primary:Ke.blue,positive:Ke.green,caution:Ke.yellow,critical:Ke.red},bS=["default","transparent"],WSt=zSt({base:t=>{let{dark:e,name:n}=t;if(n==="default"){const s=Ke.gray,o=e?s[900].hex:s[100].hex;return{fg:e?cf.hex:Rp.hex,bg:e?Rp.hex:cf.hex,border:s[e?800:200].hex,focusRing:Ke.blue[500].hex,shadow:{outline:fr(s[500].hex,.4),umbra:e?fr(s[950].hex,.4):fr(s[500].hex,.2),penumbra:e?fr(s[950].hex,.28):fr(s[500].hex,.14),ambient:e?fr(s[950].hex,.24):fr(s[500].hex,.12)},skeleton:{from:o,to:fr(o,.5)}}}if(n==="transparent"){const s=ku.default,o=s[e?800:200].hex;return{fg:s[e?100:900].hex,bg:s[e?950:50].hex,border:s[e?800:300].hex,focusRing:Ke.blue[500].hex,shadow:{outline:fr(s[500].hex,.4),umbra:e?fr(s[900].hex,.4):fr(s[500].hex,.2),penumbra:e?fr(s[900].hex,.28):fr(s[500].hex,.14),ambient:e?fr(s[900].hex,.24):fr(s[500].hex,.12)},skeleton:{from:o,to:fr(o,.5)}}}const r=ku[n]||ku.default,i=r[e?800:200].hex;return{fg:r[e?100:900].hex,bg:r[e?950:50].hex,border:r[e?800:200].hex,focusRing:r[500].hex,shadow:{outline:fr(r[500].hex,.4),umbra:e?fr(r[900].hex,.4):fr(r[500].hex,.2),penumbra:e?fr(r[900].hex,.28):fr(r[500].hex,.14),ambient:e?fr(r[900].hex,.24):fr(r[500].hex,.12)},skeleton:{from:i,to:fr(i,.5)}}},solid:t=>{let{base:e,dark:n,name:r,state:i,tone:s}=t;const o=n?Jy:Qy,a=n?Qy:Jy,l=ku[r]||ku.default,u=bS.includes(r)&&bS.includes(s);let d=ku[s==="default"?r:s]||l;if(i==="disabled"){d=l;const p=o(e.bg,d[n?800:200].hex),g=a(p,d[n?200:800].hex);return{bg:p,bg2:a(p,d[n?50:950].hex),border:o(e.bg,d[n?800:200].hex),fg:o(e.bg,n?Rp.hex:cf.hex),muted:{fg:o(e.bg,d[n?950:50].hex)},accent:{fg:o(e.bg,d[n?950:50].hex)},link:{fg:o(e.bg,d[n?950:50].hex)},code:{bg:p,fg:o(e.bg,d[n?950:50].hex)},skeleton:{from:g,to:fr(g,.5)}}}if(i==="hovered"){const p=o(e.bg,d[n?300:600].hex),g=a(p,d[n?200:800].hex);return{bg:p,bg2:a(p,d[n?50:950].hex),border:o(e.bg,d[n?300:600].hex),fg:o(e.bg,n?Rp.hex:cf.hex),muted:{fg:o(e.bg,d[n?800:200].hex)},accent:{fg:a(p,Ke.red[n?800:200].hex)},link:{fg:a(p,Ke.blue[n?800:200].hex)},code:{bg:o(p,d[n?950:50].hex),fg:o(e.bg,d[n?800:200].hex)},skeleton:{from:g,to:fr(g,.5)}}}if(i==="pressed"){const p=o(e.bg,d[n?200:800].hex),g=a(p,d[n?200:800].hex);return{bg:o(e.bg,d[n?200:800].hex),bg2:a(p,d[n?50:950].hex),border:o(e.bg,d[n?200:800].hex),fg:o(e.bg,n?Rp.hex:cf.hex),muted:{fg:o(e.bg,d[n?800:200].hex)},accent:{fg:a(p,Ke.red[n?800:200].hex)},link:{fg:a(p,Ke.blue[n?800:200].hex)},code:{bg:o(p,d[n?950:50].hex),fg:o(e.bg,d[n?800:200].hex)},skeleton:{from:g,to:fr(g,.5)}}}if(i==="selected"){u&&(d=ku.primary);const p=o(e.bg,d[n?200:800].hex),g=a(p,d[n?200:800].hex);return{bg:p,bg2:a(p,d[n?50:950].hex),border:o(e.bg,d[n?200:800].hex),fg:o(e.bg,n?Rp.hex:cf.hex),muted:{fg:o(e.bg,d[n?800:200].hex)},accent:{fg:a(p,Ke.red[n?800:200].hex)},link:{fg:a(p,Ke.blue[n?800:200].hex)},code:{bg:o(p,d[n?950:50].hex),fg:o(e.bg,d[n?800:200].hex)},skeleton:{from:g,to:fr(g,.5)}}}const f=o(e.bg,d[n?400:500].hex),h=a(f,d[n?200:800].hex);return{bg:f,bg2:a(f,d[n?50:950].hex),border:o(e.bg,d[n?400:500].hex),fg:o(e.bg,n?Rp.hex:cf.hex),muted:{fg:o(e.bg,d[n?900:100].hex)},accent:{fg:a(f,Ke.red[n?900:100].hex)},link:{fg:a(f,Ke.blue[n?900:100].hex)},code:{bg:o(f,d[n?950:50].hex),fg:o(e.bg,d[n?900:100].hex)},skeleton:{from:h,to:fr(h,.5)}}},muted:t=>{let{base:e,dark:n,name:r,state:i,tone:s}=t;const o=n?Jy:Qy,a=ku[r]||ku.default,l=bS.includes(r)&&bS.includes(s);let u=ku[s==="default"?r:s]||a;if(i==="disabled"){u=a;const h=e.bg,p=o(h,u[n?900:100].hex);return{bg:h,bg2:o(h,u[n?950:50].hex),border:o(h,u[n?950:50].hex),fg:o(h,u[n?800:200].hex),muted:{fg:o(h,u[n?900:100].hex)},accent:{fg:o(h,u[n?900:100].hex)},link:{fg:o(h,u[n?900:100].hex)},code:{bg:h,fg:o(h,u[n?900:100].hex)},skeleton:{from:fr(p,.5),to:fr(p,.25)}}}if(i==="hovered"){const h=o(e.bg,u[n?950:50].hex),p=o(h,u[n?900:100].hex);return{bg:h,bg2:o(h,u[n?950:50].hex),border:o(h,u[n?900:100].hex),fg:o(e.bg,u[n?200:800].hex),muted:{fg:o(e.bg,u[n?400:600].hex)},accent:{fg:o(e.bg,Ke.red[n?400:500].hex)},link:{fg:o(e.bg,Ke.blue[n?400:600].hex)},code:{bg:o(h,u[n?950:50].hex),fg:o(e.bg,u[n?400:600].hex)},skeleton:{from:p,to:fr(p,.5)}}}if(i==="pressed"){l&&(u=ku.primary);const h=o(e.bg,u[n?900:100].hex),p=o(h,u[n?900:100].hex);return{bg:h,bg2:o(h,u[n?950:50].hex),border:o(h,u[n?900:100].hex),fg:o(e.bg,u[n?200:800].hex),muted:{fg:o(e.bg,u[n?400:600].hex)},accent:{fg:o(h,Ke.red[n?400:500].hex)},link:{fg:o(h,Ke.blue[n?400:600].hex)},code:{bg:o(h,u[n?950:50].hex),fg:o(e.bg,u[n?400:600].hex)},skeleton:{from:p,to:fr(p,.5)}}}if(i==="selected"){l&&(u=ku.primary);const h=o(e.bg,u[n?900:100].hex),p=o(h,u[n?900:100].hex);return{bg:h,bg2:o(h,u[n?950:50].hex),border:o(h,u[n?900:100].hex),fg:o(e.bg,u[n?200:800].hex),muted:{fg:o(e.bg,u[n?400:600].hex)},accent:{fg:o(h,Ke.red[n?400:500].hex)},link:{fg:o(h,Ke.blue[n?400:600].hex)},code:{bg:o(h,u[n?950:50].hex),fg:o(e.bg,u[n?400:600].hex)},skeleton:{from:p,to:fr(p,.5)}}}const d=e.bg,f=o(d,u[n?900:100].hex);return{bg:d,bg2:o(d,u[n?950:50].hex),border:o(d,u[n?900:100].hex),fg:o(e.bg,u[n?300:700].hex),muted:{fg:o(e.bg,u[n?400:600].hex)},accent:{fg:o(e.bg,Ke.red[n?400:500].hex)},link:{fg:o(e.bg,Ke.blue[n?400:600].hex)},code:{bg:o(e.bg,u[n?950:50].hex),fg:o(e.bg,u[n?400:600].hex)},skeleton:{from:f,to:fr(f,.5)}}},button:t=>{let{base:e,mode:n,muted:r,solid:i}=t;return n==="bleed"?{enabled:{...r.enabled,border:r.enabled.bg},hovered:{...r.hovered,border:r.hovered.bg},pressed:{...r.pressed,border:r.pressed.bg},selected:{...r.selected,border:r.selected.bg},disabled:{...r.disabled,border:r.disabled.bg}}:n==="ghost"?{...i,enabled:{...r.enabled,border:e.border},disabled:r.disabled}:i},card:t=>{let{base:e,dark:n,muted:r,name:i,solid:s,state:o}=t;if(o==="hovered")return r[i].hovered;if(o==="disabled")return r[i].disabled;const a=bS.includes(i),l=ku[i]||ku.default,u=n?Jy:Qy;if(o==="pressed")return a?r.primary.pressed:r[i].pressed;if(o==="selected")return a?s.primary.enabled:s[i].enabled;const d=e.bg,f=u(e.bg,l[n?900:100].hex);return{bg:d,bg2:u(d,l[n?950:50].hex),fg:e.fg,border:e.border,muted:{fg:u(e.bg,l[n?400:600].hex)},accent:{fg:u(e.bg,Ke.red[n?400:500].hex)},link:{fg:u(e.bg,Ke.blue[n?400:600].hex)},code:{bg:u(e.bg,l[n?950:50].hex),fg:l[n?400:600].hex},skeleton:{from:f,to:fr(f,.5)}}},input:t=>{let{base:e,dark:n,mode:r,state:i}=t;const s=n?Jy:Qy;if(r==="invalid"){const o=ku.critical;return{bg:s(e.bg,o[n?950:50].hex),fg:s(e.bg,o[n?400:600].hex),border:s(e.bg,o[n?800:200].hex),placeholder:s(e.bg,o[n?600:400].hex)}}return i==="hovered"?{bg:e.bg,fg:e.fg,border:s(e.bg,Ke.gray[n?700:300].hex),placeholder:s(e.bg,Ke.gray[n?600:400].hex)}:i==="disabled"?{bg:s(e.bg,Ke.gray[n?950:50].hex),fg:s(e.bg,Ke.gray[n?700:300].hex),border:s(e.bg,Ke.gray[n?900:100].hex),placeholder:s(e.bg,Ke.gray[n?800:200].hex)}:i==="readOnly"?{bg:s(e.bg,Ke.gray[n?950:50].hex),fg:s(e.bg,Ke.gray[n?200:800].hex),border:s(e.bg,Ke.gray[n?800:200].hex),placeholder:s(e.bg,Ke.gray[n?600:400].hex)}:{bg:e.bg,fg:e.fg,border:e.border,placeholder:s(e.bg,Ke.gray[n?600:400].hex)}},selectable:t=>{let{base:e,muted:n,tone:r,solid:i,state:s}=t;return s==="enabled"?{...n[r].enabled,bg:e.bg}:s==="pressed"?r==="default"?n.primary.pressed:n[r].pressed:s==="selected"?r==="default"?i.primary.enabled:i[r].enabled:s==="disabled"?{...n[r].disabled,bg:e.bg}:n[r][s]},spot:t=>{let{base:e,dark:n,key:r}=t;return(n?Jy:Qy)(e.bg,Ke[r][n?400:500].hex)},syntax:t=>{let{base:e,dark:n}=t;const r=n?Jy:Qy,i=n?400:600,s=n?600:400;return{atrule:r(e.bg,Ke.purple[i].hex),attrName:r(e.bg,Ke.green[i].hex),attrValue:r(e.bg,Ke.yellow[i].hex),attribute:r(e.bg,Ke.yellow[i].hex),boolean:r(e.bg,Ke.purple[i].hex),builtin:r(e.bg,Ke.purple[i].hex),cdata:r(e.bg,Ke.yellow[i].hex),char:r(e.bg,Ke.yellow[i].hex),class:r(e.bg,Ke.orange[i].hex),className:r(e.bg,Ke.cyan[i].hex),comment:r(e.bg,Ke.gray[s].hex),constant:r(e.bg,Ke.purple[i].hex),deleted:r(e.bg,Ke.red[i].hex),doctype:r(e.bg,Ke.gray[s].hex),entity:r(e.bg,Ke.red[i].hex),function:r(e.bg,Ke.green[i].hex),hexcode:r(e.bg,Ke.blue[i].hex),id:r(e.bg,Ke.purple[i].hex),important:r(e.bg,Ke.purple[i].hex),inserted:r(e.bg,Ke.yellow[i].hex),keyword:r(e.bg,Ke.magenta[i].hex),number:r(e.bg,Ke.purple[i].hex),operator:r(e.bg,Ke.magenta[i].hex),prolog:r(e.bg,Ke.gray[s].hex),property:r(e.bg,Ke.blue[i].hex),pseudoClass:r(e.bg,Ke.yellow[i].hex),pseudoElement:r(e.bg,Ke.yellow[i].hex),punctuation:r(e.bg,Ke.gray[i].hex),regex:r(e.bg,Ke.blue[i].hex),selector:r(e.bg,Ke.red[i].hex),string:r(e.bg,Ke.yellow[i].hex),symbol:r(e.bg,Ke.purple[i].hex),tag:r(e.bg,Ke.red[i].hex),unit:r(e.bg,Ke.orange[i].hex),url:r(e.bg,Ke.red[i].hex),variable:r(e.bg,Ke.red[i].hex)}}}),GSt={code:{family:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace",weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:3,descenderHeight:3,fontSize:10,iconSize:17,lineHeight:13,letterSpacing:0},{ascenderHeight:4,descenderHeight:4,fontSize:13,iconSize:21,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:19,iconSize:29,lineHeight:25,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:22,iconSize:33,lineHeight:29,letterSpacing:0}]},heading:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:700,medium:800,semibold:900,bold:900},sizes:[{ascenderHeight:4,descenderHeight:4,fontSize:12,iconSize:17,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:21,iconSize:33,lineHeight:27,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:27,iconSize:41,lineHeight:33,letterSpacing:0},{ascenderHeight:8,descenderHeight:8,fontSize:33,iconSize:49,lineHeight:39,letterSpacing:0},{ascenderHeight:9,descenderHeight:9,fontSize:38,iconSize:53,lineHeight:45,letterSpacing:0}]},label:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", system-ui, sans-serif',weights:{regular:600,medium:700,semibold:800,bold:900},sizes:[{ascenderHeight:2,descenderHeight:2,fontSize:9.8,iconSize:15,lineHeight:11,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:11.25,iconSize:17,lineHeight:12,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:12.75,iconSize:19,lineHeight:13,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:14,iconSize:21,lineHeight:14,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:15.5,iconSize:23,lineHeight:15,letterSpacing:.5}]},text:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:3,descenderHeight:3,fontSize:10,iconSize:17,lineHeight:13,letterSpacing:0},{ascenderHeight:4,descenderHeight:4,fontSize:13,iconSize:21,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:19,iconSize:29,lineHeight:25,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:22,iconSize:33,lineHeight:29,letterSpacing:0}]}},qi={avatar:{sizes:[{distance:-3,size:25},{distance:-6,size:35},{distance:-9,size:55}]},button:{textWeight:"medium"},color:WSt,container:[320,640,960,1280,1600,1920],focusRing:{offset:1,width:2},fonts:GSt,media:[360,600,900,1200,1800,2400],radius:[0,1,3,6,9,12,21],shadows:[null,{umbra:[0,0,0,0],penumbra:[0,0,0,0],ambient:[0,0,0,0]},{umbra:[0,3,5,-1],penumbra:[0,6,10,0],ambient:[0,1,18,0]},{umbra:[0,7,8,-4],penumbra:[0,12,17,2],ambient:[0,5,22,4]},{umbra:[0,9,11,-5],penumbra:[0,18,28,2],ambient:[0,7,34,6]},{umbra:[0,11,15,-7],penumbra:[0,24,38,3],ambient:[0,9,46,8]}],space:[0,4,8,12,20,32,52,84,136,220],input:{checkbox:{size:17},radio:{size:17,markSize:9},switch:{width:33,height:17,padding:4,transitionDurationMs:150,transitionTimingFunction:"ease-out"},border:{width:1}}},qSt={dialog:{zOffset:600},popover:{zOffset:400},tooltip:{zOffset:200}};function YSt(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const gi=YSt(),UG=Symbol.for("@sanity/ui/context/theme");gi[UG]=gi[UG]||m.createContext(null);const HG=gi[UG];function EA(t){const e=m.useContext(HG),{children:n,scheme:r=(e==null?void 0:e.scheme)||"light",theme:i=(e==null?void 0:e.theme)||null,tone:s=(e==null?void 0:e.tone)||"default"}=t,o=m.useMemo(()=>{if(!i)return null;const{color:l,layer:u,...d}=i,f=l[r]||l.light,h=f[s]||f.default;return{sanity:{...d,color:h,layer:u||qSt}}},[r,i,s]),a=m.useMemo(()=>i&&{version:0,theme:i,scheme:r,tone:s},[i,r,s]);return o?c.jsx(HG.Provider,{value:a,children:c.jsx(amt,{theme:o,children:n})}):c.jsx("pre",{children:'ThemeProvider: no "theme" property provided'})}function PC(t){return!!(t&&typeof t=="object")}function MC(){const t=m.useContext(HG);if(!t)throw new Error("useRootTheme(): missing context value");if(!PC(t)||t.version!==0)throw new Error("useRootTheme(): the context value is not compatible");return t}function KSt(t){const{children:e,scheme:n,tone:r}=t,i=MC();return c.jsx(EA,{scheme:n||i.scheme,theme:i.theme,tone:r,children:e})}function Zu(){return uMe()}const cfe=new WeakMap;function ZSt(t,e){return e===0?"screen and (max-width: ".concat(t[e]-1,"px)"):e===t.length?"screen and (min-width: ".concat(t[e-1],"px)"):"screen and (min-width: ".concat(t[e-1],"px) and (max-width: ").concat(t[e]-1,"px)")}function XSt(t){const e=t.length;let n;const r=()=>{if(!n){n=[];for(let o=e;o>-1;o-=1){const a=ZSt(t,o);n.push({index:o,mq:window.matchMedia(a)})}}return n};return{getSnapshot:()=>{for(const{index:o,mq:a}of r())if(a.matches)return o;return 0},subscribe:o=>{const a=[];for(const{mq:l}of r()){const u=()=>{l.matches&&o()};l.addEventListener("change",u),a.push(()=>l.removeEventListener("change",u))}return()=>{for(const l of a)l()}}}}function QSt(){return 0}function T0(){const t=Zu(),{media:e}=t.sanity;let n=cfe.get(e);return n||(n=XSt(e),cfe.set(e,n)),m.useSyncExternalStore(n.subscribe,n.getSnapshot,QSt)}let fV;function v$e(){return fV||(fV=window.matchMedia("(prefers-color-scheme: dark)")),fV}function JSt(t){const e=v$e();return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}function eTt(){return v$e().matches}function tTt(){return!1}function nTt(){return m.useSyncExternalStore(JSt,eTt,tTt)}const rTt=typeof window<"u"?m.useLayoutEffect:m.useEffect;function Ms(t){const e=m.useRef(null);return rTt(()=>{t&&(typeof t=="function"?t(e.current):t.current=e.current)}),e}function uI(t,e){m.useEffect(()=>{t.current&&t.current.setCustomValidity(e||"")},[e,t])}const cI="1px solid var(--card-border-color)";function iTt(){return[sTt,oTt,aTt,lTt,uTt]}function sTt(t){const{theme:e}=t,{media:n}=e.sanity;return Vn(n,t.$border,r=>r?{"&&":{border:cI}}:{"&&":{border:0}})}function oTt(t){const{theme:e}=t,{media:n}=e.sanity;return Vn(n,t.$borderTop,r=>r?{"&&":{borderTop:cI}}:{"&&":{borderTop:0}})}function aTt(t){const{theme:e}=t,{media:n}=e.sanity;return Vn(n,t.$borderRight,r=>r?{"&&":{borderRight:cI}}:{"&&":{borderRight:0}})}function lTt(t){const{theme:e}=t,{media:n}=e.sanity;return Vn(n,t.$borderBottom,r=>r?{"&&":{borderBottom:cI}}:{"&&":{borderBottom:0}})}function uTt(t){const{theme:e}=t,{media:n}=e.sanity;return Vn(n,t.$borderLeft,r=>r?{"&&":{borderLeft:cI}}:{"&&":{borderLeft:0}})}const cTt={'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},dTt={content:"content-box",border:"border-box"},fTt={stretch:"stretch",fill:"100%"};function hTt(){return cTt}function pTt(){return[gTt,vTt,yTt,mTt]}function mTt(t){const{theme:e}=t,{media:n}=e.sanity;return Vn(n,t.$display,r=>({"&:not([hidden])":{display:r}}))}function gTt(t){const{theme:e}=t,{media:n}=e.sanity;return Vn(n,t.$sizing,r=>({boxSizing:dTt[r]}))}function vTt(t){const{theme:e}=t,{media:n}=e.sanity;return Vn(n,t.$height,r=>({height:fTt[r]}))}function yTt(t){const{theme:e}=t,{media:n}=e.sanity;return Vn(n,t.$overflow,r=>({overflow:r}))}const bTt={"&&:not([hidden])":{display:"flex"}};function xTt(){return[bTt,wTt,_Tt,CTt,ETt,STt]}function wTt(t){const{theme:e}=t,{media:n}=e.sanity;return Vn(n,t.$align,r=>({alignItems:r}))}function _Tt(t){const{theme:e}=t,{media:n,space:r}=e.sanity;return Vn(n,t.$gap,i=>({gap:i?Xe(r[i]):void 0}))}function CTt(t){const{theme:e}=t,{media:n}=e.sanity;return Vn(n,t.$wrap,r=>({flexWrap:r}))}function ETt(t){const{theme:e}=t,{media:n}=e.sanity;return Vn(n,t.$justify,r=>({justifyContent:r}))}function STt(t){const{theme:e}=t,{media:n}=e.sanity;return Vn(n,t.$direction,r=>({flexDirection:r}))}const TTt={minWidth:0,minHeight:0};function y$e(){return[TTt,kTt]}function kTt(t){const{theme:e}=t,{media:n}=e.sanity;return t.$flex?Vn(n,t.$flex,r=>({flex:r})):aI}function Oa(t){return"inset 0 0 0 ".concat(t.width,"px ").concat(t.color)}function gm(t){const{base:e,border:n,focusRing:r}=t,i=r.offset+r.width,s=0-r.offset,o=e?e.bg:"var(--card-bg-color)";return[s>0&&"inset 0 0 0 ".concat(s,"px var(--card-focus-ring-color)"),n&&Oa(n),s<0&&"0 0 0 ".concat(0-s,"px ").concat(o),i>0&&"0 0 0 ".concat(i,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}const ATt={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},ITt={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},DTt={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"};function RTt(){return[ATt,jTt,OTt,LTt,PTt,MTt,$Tt,FTt,BTt]}function jTt(t){const{theme:e}=t,{media:n}=e.sanity;return Vn(n,t.$autoFlow,r=>({gridAutoFlow:r}))}function OTt(t){const{theme:e}=t,{media:n}=e.sanity;return Vn(n,t.$autoRows,r=>({gridAutoRows:r&&DTt[r]}))}function LTt(t){const{theme:e}=t,{media:n}=e.sanity;return Vn(n,t.$autoCols,r=>({gridAutoColumns:r&&ITt[r]}))}function PTt(t){const{theme:e}=t,{media:n}=e.sanity;return Vn(n,t.$columns,r=>({gridTemplateColumns:r&&"repeat(".concat(r,",minmax(0,1fr));")}))}function MTt(t){const{theme:e}=t,{media:n}=e.sanity;return Vn(n,t.$rows,r=>({gridTemplateRows:r&&"repeat(".concat(r,",minmax(0,1fr));")}))}function $Tt(t){const{theme:e}=t,{media:n,space:r}=e.sanity;return Vn(n,t.$gap,i=>({gridGap:i?Xe(r[i]):void 0}))}function FTt(t){const{theme:e}=t,{media:n,space:r}=e.sanity;return Vn(n,t.$gapX,i=>({columnGap:i?Xe(r[i]):void 0}))}function BTt(t){const{theme:e}=t,{media:n,space:r}=e.sanity;return Vn(n,t.$gapY,i=>({rowGap:i?Xe(r[i]):void 0}))}function NTt(){return[HTt,zTt,WTt,GTt,qTt,YTt]}const VTt={auto:"auto",full:"1 / -1"},UTt={auto:"auto",full:"1 / -1"};function HTt(t){const{theme:e}=t,{media:n}=e.sanity;return Vn(n,t.$row,r=>typeof r=="number"?{gridRow:"span ".concat(r," / span ").concat(r)}:{gridRow:VTt[r]})}function zTt(t){const{theme:e}=t,{media:n}=e.sanity;return Vn(n,t.$rowStart,r=>({gridRowStart:r}))}function WTt(t){const{theme:e}=t,{media:n}=e.sanity;return Vn(n,t.$rowEnd,r=>({gridRowEnd:r}))}function GTt(t){const{theme:e}=t,{media:n}=e.sanity;return Vn(n,t.$column,r=>typeof r=="number"?{gridColumn:"span ".concat(r," / span ").concat(r)}:{gridColumn:UTt[r]})}function qTt(t){const{theme:e}=t,{media:n}=e.sanity;return Vn(n,t.$columnStart,r=>({gridColumnStart:r}))}function YTt(t){const{theme:e}=t,{media:n}=e.sanity;return Vn(n,t.$columnEnd,r=>({gridColumnEnd:r}))}function GJ(t){const{$fontSize:e,$iconLeft:n,$iconRight:r,$padding:i,$space:s,theme:o}=t,{fonts:a,media:l,space:u}=o.sanity,d=Math.max(i.length,s.length,e.length),f=[],h=[],p=[];for(let g=0;g<d;g+=1)p[g]=e[g]===void 0?p[g-1]:e[g],f[g]=i[g]===void 0?f[g-1]:i[g],h[g]=s[g]===void 0?h[g-1]:s[g];return Vn(l,f,(g,v)=>{const y=a.text.sizes[p[v]]||a.text.sizes[2],x=y.lineHeight-y.ascenderHeight-y.descenderHeight,b=u[f[v]],_=u[h[v]],C={paddingTop:Xe(b-y.ascenderHeight),paddingRight:Xe(b),paddingBottom:Xe(b-y.descenderHeight),paddingLeft:Xe(b)};return r&&(C.paddingRight=Xe(b+x+_)),n&&(C.paddingLeft=Xe(b+x+_)),C})}function KTt(t){return GJ({...t,$iconRight:!0})}var dfe=Object.freeze,ZTt=Object.defineProperty,qJ=(t,e)=>dfe(ZTt(t,"raw",{value:dfe(e||t.slice())})),ffe,hfe,pfe;const XTt=qe(ffe||(ffe=qJ([`
  &:not([hidden]) {
    display: flex;
  }

  align-items: center;
`])));function b$e(){return XTt}function x$e(t){const{theme:e,$scheme:n,$tone:r,$weight:i}=t,s=e.sanity.fonts.text,o=e.sanity.color.input;return qe(hfe||(hfe=qJ([`
    appearance: none;
    background: none;
    border: 0;
    border-radius: 0;
    outline: none;
    width: 100%;
    box-sizing: border-box;
    font-family: `,`;
    font-weight: `,`;
    margin: 0;
    position: relative;
    z-index: 1;
    display: block;

    /* NOTE: This is a hack to disable Chromes autofill styles */
    &:-webkit-autofill,
    &:-webkit-autofill:hover,
    &:-webkit-autofill:focus,
    &:-webkit-autofill:active {
      -webkit-text-fill-color: var(--input-fg-color) !important;
      transition: background-color 5000s;
      transition-delay: 86400s /* 24h */;
    }

    /* &:is(textarea) */
    &[data-as='textarea'] {
      resize: none;
    }

    color: var(--input-fg-color);

    &::placeholder {
      color: var(--input-placeholder-color);
    }

    &[data-scheme='`,"'][data-tone='",`'] {
      --input-fg-color: `,`;
      --input-placeholder-color: `,`;

      /* enabled */
      &:not(:invalid):not(:disabled):not(:read-only) {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* disabled */
      &:not(:invalid):disabled {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* invalid */
      &:invalid {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* readOnly */
      &:read-only {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }
    }
  `])),s.family,i&&s.weights[i]||s.weights.regular,n,r,o.default.enabled.fg,o.default.enabled.placeholder,o.default.enabled.fg,o.default.enabled.placeholder,o.default.disabled.fg,o.default.disabled.placeholder,o.invalid.enabled.fg,o.invalid.enabled.placeholder,o.default.readOnly.fg,o.default.readOnly.placeholder)}function w$e(t){const{theme:e}=t,{fonts:n,media:r}=e.sanity;return Vn(r,t.$fontSize,i=>{const s=n.text.sizes[i]||n.text.sizes[2];return{fontSize:Xe(s.fontSize),lineHeight:s.lineHeight/s.fontSize}})}function _$e(t){const{$hasPrefix:e,$hasSuffix:n,$scheme:r,$tone:i,theme:s}=t,{focusRing:o,input:a}=s.sanity,l=s.sanity.color.input;return qe(pfe||(pfe=qJ([`
    --input-box-shadow: none;

    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: block;
    pointer-events: none;
    z-index: 0;

    background-color: var(--card-bg-color);
    box-shadow: var(--input-box-shadow);

    border-top-left-radius: `,`;
    border-bottom-left-radius: `,`;
    border-top-right-radius: `,`;
    border-bottom-right-radius: `,`;

    &[data-scheme='`,"'][data-tone='",`'] {
      --card-bg-color: `,`;
      --card-fg-color: `,`;

      /* enabled */
      *:not(:disabled) + &[data-border] {
        --input-box-shadow: `,`;
      }

      /* invalid */
      *:not(:disabled):invalid + & {
        --card-bg-color: `,`;
        --card-fg-color: `,`;

        &[data-border] {
          --input-box-shadow: `,`;
        }
      }

      /* focused */
      *:not(:disabled):focus + & {
        &[data-border] {
          --input-box-shadow: `,`;
        }

        &:not([data-border]) {
          --input-box-shadow: `,`;
        }
      }

      /* disabled */
      *:disabled + & {
        --card-bg-color: `,` !important;
        --card-fg-color: `,` !important;

        &[data-border] {
          --input-box-shadow: `,`;
        }
      }

      /* readOnly */
      *:read-only + & {
        --card-bg-color: `,` !important;
        --card-fg-color: `,` !important;
      }

      /* hovered */
      @media (hover: hover) {
        *:not(:disabled):not(:read-only):not(:invalid):hover + & {
          --card-bg-color: `,`;
          --card-fg-color: `,`;
        }

        *:not(:disabled):not(:read-only):not(:invalid):not(:focus):hover + &[data-border] {
          --input-box-shadow: `,`;
        }
      }
    }
  `])),e?0:void 0,e?0:void 0,n?0:void 0,n?0:void 0,r,i,l.default.enabled.bg,l.default.enabled.fg,Oa({color:l.default.enabled.border,width:a.border.width}),l.invalid.enabled.bg,l.invalid.enabled.fg,Oa({color:l.invalid.enabled.border,width:a.border.width}),gm({border:{color:l.default.enabled.border,width:a.border.width},focusRing:o}),gm({focusRing:o}),l.default.disabled.bg,l.default.disabled.fg,Oa({color:l.default.disabled.border,width:a.border.width}),l.default.readOnly.bg,l.default.readOnly.fg,l.default.hovered.bg,l.default.hovered.fg,Oa({color:l.default.hovered.border,width:a.border.width}))}function QTt(t){const{theme:e}=t;return[Ec(e,["margin"],t.$margin),Ec(e,["marginLeft","marginRight"],t.$marginX),Ec(e,["marginTop","marginBottom"],t.$marginY),Ec(e,["marginTop"],t.$marginTop),Ec(e,["marginRight"],t.$marginRight),Ec(e,["marginBottom"],t.$marginBottom),Ec(e,["marginLeft"],t.$marginLeft)].filter(Boolean)}function C$e(t){const{theme:e}=t;return[Ec(e,["padding"],t.$padding),Ec(e,["paddingLeft","paddingRight"],t.$paddingX),Ec(e,["paddingTop","paddingBottom"],t.$paddingY),Ec(e,["paddingTop"],t.$paddingTop),Ec(e,["paddingRight"],t.$paddingRight),Ec(e,["paddingBottom"],t.$paddingBottom),Ec(e,["paddingLeft"],t.$paddingLeft)].filter(Boolean)}function k0(t){const{theme:e}=t,{media:n,radius:r}=e.sanity;return Vn(n,t.$radius,i=>({borderRadius:Xe(r[i])}))}function hV(t,e){return"".concat(t.map(Xe).join(" ")," ").concat(e)}function JTt(t){if(!t)return xv;const e="0 0 0 ".concat(Xe(1)," var(--card-shadow-outline-color)"),n=hV(t.umbra,"var(--card-shadow-umbra-color)"),r=hV(t.penumbra,"var(--card-shadow-penumbra-color)"),i=hV(t.ambient,"var(--card-shadow-ambient-color)");return{boxShadow:"".concat(e,", ").concat(n,", ").concat(r,", ").concat(i)}}function ekt(t){const{theme:e}=t,{media:n,shadows:r}=e.sanity;return Vn(n,t.$shadow,i=>JTt(r[i]))}var mfe=Object.freeze,tkt=Object.defineProperty,pV=(t,e)=>mfe(tkt(t,"raw",{value:mfe(e||t.slice())})),gfe,vfe,yfe;function nkt(t){const{$accent:e,$muted:n,theme:r}=t,{weights:i}=r.sanity.fonts.text;return qe(yfe||(yfe=pV([`
    color: var(--card-fg-color);

    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
      background-color: var(--card-code-bg-color);
      color: var(--card-code-fg-color);
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & strong {
      font-weight: `,`;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),e&&qe(gfe||(gfe=pV([`
      color: var(--card-accent-fg-color);
    `]))),n&&qe(vfe||(vfe=pV([`
      color: var(--card-muted-fg-color);
    `]))),r.sanity.fonts.code.family,i.bold)}var bfe=Object.freeze,rkt=Object.defineProperty,ikt=(t,e)=>bfe(rkt(t,"raw",{value:bfe(e||t.slice())})),xfe;const skt=H.div(tSt,zJ,nkt),okt=H.span(xfe||(xfe=ikt([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),G=m.forwardRef(function(e,n){const{accent:r=!1,align:i,children:s,muted:o=!1,size:a=2,textOverflow:l,weight:u,...d}=e;let f=s;return l==="ellipsis"&&(f=c.jsx(okt,{children:f})),c.jsx(skt,{"data-ui":"Text",...d,$accent:r,$align:ot(i),$muted:o,ref:n,$size:ot(a),$weight:u,children:c.jsx("span",{children:f})})}),dI={root:lkt,arrow:akt,bgStroke:dkt,stroke:fkt,initials:ckt};function akt(){return{position:"absolute",boxSizing:"border-box",zIndex:0,opacity:0,transition:"all 0.2s linear",transform:"rotate(-90deg) translate3d(0, 6px, 0)",left:0,right:0,top:0,bottom:0,"& > svg":{width:"11px",height:"7px",position:"absolute",top:"-5px",left:"50%",transform:"translateX(-6px)","&:not([hidden])":{display:"block"}},"[data-arrow-position='inside'] > &":{transform:"rotate(-90deg) translate3d(0, 6px, 0)",opacity:0},"[data-arrow-position='top'] > &":{opacity:1,transform:"rotate(0deg)"},"[data-arrow-position='bottom'] > &":{opacity:1,transform:"rotate(-180deg)"}}}function lkt(t){const{$color:e,theme:n}=t,{focusRing:r}=n.sanity;return{backgroundColor:e,position:"relative",boxSizing:"border-box",userSelect:"none",boxShadow:"0 0 0 1px var(--card-bg-color)",'&[data-status="inactive"]':{opacity:.5},"&>svg":{"&:not([hidden])":{display:"block"}},'&[data-as="button"]':{WebkitFontSmoothing:"inherit",appearance:"none",margin:0,padding:0,border:0,font:"inherit",color:"inherit",outline:"none","&:focus":{boxShadow:gm({focusRing:r})},"&:focus:not(:focus-visible)":{boxShadow:"none"}}}}function ukt(t){const{theme:e}=t,{avatar:n,media:r}=e.sanity;return Vn(r,t.$size,i=>{const s=n.sizes[i]||n.sizes[0];return{width:Xe(s.size),height:Xe(s.size),borderRadius:Xe(s.size/2),"&>svg":{width:Xe(s.size),height:Xe(s.size),borderRadius:Xe(s.size/2)}}})}function ckt(t){const{theme:e}=t,{base:n}=e.sanity.color;return{width:"100%",height:"100%",color:n.fg,alignItems:"center",justifyContent:"center",textTransform:"uppercase",textAlign:"center",borderRadius:"50%","&:not([hidden])":{display:"flex"}}}function dkt(){return{strokeWidth:"4px",stroke:"var(--card-bg-color)"}}function fkt(){return{strokeWidth:"3px",'[data-status="editing"] &':{strokeDasharray:"2 4",strokeLinecap:"round"}}}const hkt=H.div(ukt,dI.root),pkt=H.div(dI.arrow),mkt=H.ellipse(dI.bgStroke),gkt=H.ellipse(dI.stroke),vkt=H.div(dI.initials),ykt=m.forwardRef(function(e,n){const{as:r,color:i="gray",src:s,title:o,initials:a,onImageLoadError:l,arrowPosition:u,animateArrowFrom:d,status:f="online",size:h=0,...p}=e,g=fpt.isValidElementType(r)?r:"div",v=ot(h),y=Zu(),x=y.sanity.color.spot[i]||y.sanity.color.spot.gray,_=(y.sanity.avatar.sizes[v[0]]||y.sanity.avatar.sizes[0]).size,C=_/2,S=m.useId(),[T,A]=m.useState(d||u||"inside"),[k,I]=m.useState(!1),D="avatar-image-".concat(S);m.useEffect(()=>{if(T===u)return;const L=requestAnimationFrame(()=>A(u));return()=>cancelAnimationFrame(L)},[T,u]),m.useEffect(()=>{s&&I(!1)},[s]);const R=m.useCallback(()=>{I(!0),l&&l(new Error("Avatar: the image failed to load"))},[l]),O=m.useMemo(()=>v.map(L=>L===0?0:L+1),[v]);return c.jsxs(hkt,{as:g,"data-as":typeof g=="string"?g:void 0,"data-ui":"Avatar",...p,$size:v,$color:x,"aria-label":o,"data-arrow-position":T,"data-status":f,ref:n,title:o,children:[c.jsx(pkt,{children:c.jsx("svg",{width:"11",height:"7",viewBox:"0 0 11 7",fill:"none",children:c.jsx("path",{d:"M6.67948 1.50115L11 7L0 7L4.32052 1.50115C4.92109 0.736796 6.07891 0.736795 6.67948 1.50115Z",fill:x})})}),!k&&s&&c.jsxs("svg",{viewBox:"0 0 ".concat(_," ").concat(_),fill:"none",children:[c.jsx("defs",{children:c.jsx("pattern",{id:D,patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:c.jsx("image",{href:s,width:"1",height:"1",onError:R})})}),c.jsx("circle",{cx:C,cy:C,r:C,fill:"url(#".concat(D,")")}),c.jsx(mkt,{cx:C,cy:C,rx:C,ry:C,vectorEffect:"non-scaling-stroke"}),c.jsx(gkt,{cx:C,cy:C,rx:C,ry:C,stroke:x,vectorEffect:"non-scaling-stroke"})]}),(k||!s)&&a&&c.jsx(c.Fragment,{children:c.jsx(vkt,{children:c.jsx(G,{as:"span",size:O,children:c.jsx("strong",{children:a})})})})]})});var wfe=Object.freeze,bkt=Object.defineProperty,xkt=(t,e)=>wfe(bkt(t,"raw",{value:wfe(e||t.slice())})),_fe;function wkt(t){const{theme:e}=t,{avatar:n,media:r}=e.sanity;return Vn(r,t.$size,i=>{const s=n.sizes[i];return s?{borderRadius:Xe(s.size/2),minWidth:Xe(s.size),height:Xe(s.size)}:xv})}function _kt(t){const{theme:e}=t;return qe(_fe||(_fe=xkt([`
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    user-select: none;
    color: inherit;
    color: var(--card-fg-color);
    background: var(--card-bg-color);
    box-shadow:
      0 0 0 1px var(--card-bg-color),
      inset 0 0 0 1.5px var(--card-hairline-hard-color);
    padding: 0 `,`;

    &:not([hidden]) {
      display: flex;
    }
  `])),Xe(e.sanity.space[2]))}const Ckt=H.div(wkt,_kt),zG=m.forwardRef(function(e,n){const{count:r,size:i=0}=e,s=ot(i),o=m.useMemo(()=>s.map(a=>a===0?0:a+1),[s]);return c.jsx(Ckt,{$size:s,"data-ui":"AvatarCounter",ref:n,children:c.jsx(G,{as:"span",size:o,children:c.jsx("strong",{children:r})})})});function E$e(t){return(Array.isArray(t)?t:[t]).filter(n=>ws.isElement(n)||ws.isFragment(n)||typeof n=="string")}var Cfe=Object.freeze,Ekt=Object.defineProperty,Skt=(t,e)=>Cfe(Ekt(t,"raw",{value:Cfe(e||t.slice())})),Efe;const Tkt=qe(Efe||(Efe=Skt([`
  white-space: nowrap;

  & > div {
    vertical-align: top;

    &:not([hidden]) {
      display: inline-block;
    }
  }
`])));function kkt(){return Tkt}function Akt(t){const{theme:e}=t,{avatar:n,media:r}=e.sanity;return Vn(r,t.$size,i=>{const s=n.sizes[i];return s?{"& > div + div":{marginLeft:Xe(s.distance)}}:xv})}const Ikt=H.div(Akt,kkt),X7=m.forwardRef(function(e,n){const{children:r,maxLength:i=4,size:s=0,...o}=e,a=E$e(r).filter(g=>typeof g!="string"),l=Math.max(i,0),u=ot(s),d=a.length,f=l-1,h=d-f,p=h>1?a.slice(h,d):a;return c.jsxs(Ikt,{"data-ui":"AvatarStack",...o,ref:n,$size:u,children:[d===0&&c.jsx("div",{children:c.jsx(zG,{count:d})}),d!==0&&h>1&&c.jsx("div",{children:c.jsx(zG,{count:h,size:u})}),p.map((g,v)=>c.jsx("div",{children:m.cloneElement(g,{size:u})},String(v)))]})}),Dkt=H.div(hTt,y$e,pTt,NTt,QTt,C$e),N=m.forwardRef(function(e,n){const{as:r="div",column:i,columnStart:s,columnEnd:o,display:a="block",flex:l,height:u,margin:d=0,marginX:f,marginY:h,marginTop:p,marginRight:g,marginBottom:v,marginLeft:y,overflow:x,padding:b=0,paddingX:_,paddingY:C,paddingTop:S,paddingRight:T,paddingBottom:A,paddingLeft:k,row:I,rowStart:D,rowEnd:R,sizing:O,...L}=e;return c.jsx(Dkt,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Box",...L,$column:ot(i),$columnStart:ot(s),$columnEnd:ot(o),$display:ot(a),$flex:ot(l),$height:ot(u),$margin:ot(d),$marginX:ot(f),$marginY:ot(h),$marginTop:ot(p),$marginRight:ot(g),$marginBottom:ot(v),$marginLeft:ot(y),$overflow:ot(x),$padding:ot(b),$paddingX:ot(_),$paddingY:ot(C),$paddingTop:ot(S),$paddingRight:ot(T),$paddingBottom:ot(A),$paddingLeft:ot(k),$row:ot(I),$rowStart:ot(D),$rowEnd:ot(R),$sizing:ot(O),as:r,ref:n,children:e.children})});var Sfe=Object.freeze,Rkt=Object.defineProperty,mV=(t,e)=>Sfe(Rkt(t,"raw",{value:Sfe(e||t.slice())})),Tfe,kfe,Afe;function jkt(t){const{$accent:e,$muted:n,theme:r}=t,{fonts:i}=r.sanity;return qe(Afe||(Afe=mV([`
    text-transform: uppercase;

    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),e&&qe(Tfe||(Tfe=mV([`
      color: var(--card-accent-fg-color);
    `]))),n&&qe(kfe||(kfe=mV([`
      color: var(--card-muted-fg-color);
    `]))),i.code.family)}var Ife=Object.freeze,Okt=Object.defineProperty,Lkt=(t,e)=>Ife(Okt(t,"raw",{value:Ife(e||t.slice())})),Dfe;const Pkt=H.div(eSt,zJ,jkt),Mkt=H.span(Dfe||(Dfe=Lkt([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),jn=m.forwardRef(function(e,n){const{accent:r,align:i,children:s,muted:o=!1,size:a=2,textOverflow:l,weight:u,...d}=e;let f=s;return l==="ellipsis"?f=c.jsx(Mkt,{children:f}):f=c.jsx("span",{children:f}),c.jsx(Pkt,{"data-ui":"Label",...d,$accent:r,$align:ot(i),$muted:o,$size:ot(a),$weight:u,ref:n,children:f})});function $kt(t){const{$mode:e,$tone:n,theme:r}=t,i=r.sanity.color[e==="outline"?"muted":"solid"],s=i[n]||i.default;return{backgroundColor:s.enabled.bg,color:s.enabled.fg,boxShadow:"inset 0 0 0 1px ".concat(s.enabled.border),cursor:"default","&:not([hidden])":{display:"inline-block"}}}const Fkt=H(N)(k0,$kt),KCr=m.forwardRef(function(e,n){const{children:r,fontSize:i,mode:s="default",padding:o=1,radius:a=2,tone:l="default",...u}=e;return c.jsx(Fkt,{"data-ui":"Badge",...u,$mode:s,$tone:l,$radius:ot(a),padding:ot(o),ref:n,children:c.jsx(jn,{size:i,children:r})})}),Bkt=H(N)(y$e,xTt),ae=m.forwardRef(function(e,n){const{align:r,as:i,direction:s="row",gap:o,justify:a,wrap:l,...u}=e;return c.jsx(Bkt,{"data-ui":"Flex",...u,$align:ot(r),$direction:ot(s),$gap:ot(o),$justify:ot(a),$wrap:ot(l),forwardedAs:i,ref:n})});var Rfe=Object.freeze,Nkt=Object.defineProperty,S$e=(t,e)=>Rfe(Nkt(t,"raw",{value:Rfe(e||t.slice())})),jfe,Ofe;const Vkt=d7(jfe||(jfe=S$e([`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`]))),Ukt=H(G)(Ofe||(Ofe=S$e([`
  & > span > svg {
    animation: `,` 500ms linear infinite;
  }
`])),Vkt),_s=m.forwardRef(function(e,n){return c.jsx(Ukt,{"data-ui":"Spinner",...e,ref:n,children:c.jsx(y7,{})})});function jr(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var r,i,s,o,a,l,u,d;return{"--card-shadow-outline-color":t.shadow.outline,"--card-shadow-umbra-color":t.shadow.umbra,"--card-shadow-penumbra-color":t.shadow.penumbra,"--card-shadow-ambient-color":t.shadow.ambient,"--card-focus-ring-color":t.focusRing,"--card-bg-color":e.bg,"--card-bg-image":n?"repeating-conic-gradient(".concat(e.bg," 0% 25%, ").concat(e.bg2||e.bg," 0% 50%)"):void 0,"--card-fg-color":e.fg,"--card-border-color":e.border,"--card-muted-fg-color":(r=e.muted)==null?void 0:r.fg,"--card-accent-fg-color":(i=e.accent)==null?void 0:i.fg,"--card-link-fg-color":(s=e.link)==null?void 0:s.fg,"--card-code-bg-color":(o=e.code)==null?void 0:o.bg,"--card-code-fg-color":(a=e.code)==null?void 0:a.fg,"--card-skeleton-color-from":(l=e.skeleton)==null?void 0:l.from,"--card-skeleton-color-to":(u=e.skeleton)==null?void 0:u.to,"--card-link-color":(d=e.link)==null?void 0:d.fg,"--card-hairline-soft-color":e.border,"--card-hairline-hard-color":e.border}}var Lfe=Object.freeze,Hkt=Object.defineProperty,zkt=(t,e)=>Lfe(Hkt(t,"raw",{value:Lfe(e||t.slice())})),Pfe;function Wkt(){return qe(Pfe||(Pfe=zkt([`
    -webkit-font-smoothing: inherit;
    appearance: none;
    display: inline-flex;
    align-items: center;
    font: inherit;
    border: 0;
    outline: none;
    user-select: none;
    text-decoration: none;
    border: 0;
    box-sizing: border-box;
    padding: 0;
    margin: 0;
    white-space: nowrap;
    text-align: left;
    position: relative;

    & > span {
      display: block;
      flex: 1;
      min-width: 0;
      border-radius: inherit;
    }

    &::-moz-focus-inner {
      border: 0;
      padding: 0;
    }
  `])))}const Gkt={border:{width:1}};function qkt(t){var e,n;const{$mode:r,theme:i}=t,{focusRing:s}=i.sanity,o=i.sanity.color.base,a=i.sanity.color.button[r]||i.sanity.color.button.default,l=a[t.$tone]||a.default,u={width:Gkt.border.width,color:"var(--card-border-color)"};return[jr(o,l.enabled),{backgroundColor:"var(--card-bg-color)",color:"var(--card-fg-color)",boxShadow:Oa(u),'&:disabled, &[data-disabled="true"]':jr(o,l.disabled),"&:not([data-disabled='true'])":{"&:focus":{boxShadow:gm({base:o,border:u,focusRing:s})},"&:focus:not(:focus-visible)":{boxShadow:Oa(u)},"@media (hover: hover)":{"&:hover":jr(o,l.hovered),"&:active":jr(o,l.pressed),"&[data-hovered]":jr(o,l.hovered)},"&[data-selected]":jr(o,l.pressed)}},(n=(e=i.sanity.styles)==null?void 0:e.button)==null?void 0:n.root].filter(Boolean)}var Mfe=Object.freeze,Ykt=Object.defineProperty,Kkt=(t,e)=>Mfe(Ykt(t,"raw",{value:Mfe(e||t.slice())})),$fe;const Zkt=H.button(k0,Wkt,qkt),Xkt=H.div($fe||($fe=Kkt([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--card-bg-color);
  border-radius: inherit;
  z-index: 1;
  box-shadow: inherit;
`]))),Ce=m.forwardRef(function(e,n){const{children:r,disabled:i,fontSize:s,icon:o,iconRight:a,justify:l="center",loading:u,mode:d="default",padding:f=3,paddingX:h,paddingY:p,paddingTop:g,paddingBottom:v,paddingLeft:y,paddingRight:x,radius:b=2,selected:_,space:C=3,text:S,textAlign:T,tone:A="default",type:k="button",...I}=e,D=ot(l),R=ot(f),O=ot(h),L=ot(p),P=ot(g),$=ot(v),B=ot(y),Q=ot(x),V=ot(b),Z=ot(C),ie=Zu(),J=m.useMemo(()=>({padding:R,paddingX:O,paddingY:L,paddingTop:P,paddingBottom:$,paddingLeft:B,paddingRight:Q}),[R,O,L,P,$,B,Q]);return c.jsxs(Zkt,{"data-ui":"Button",...I,$mode:d,$radius:V,$tone:A,"data-disabled":!!(u||i),"data-selected":_?"":void 0,disabled:!!(u||i),ref:n,type:k,children:[!!u&&c.jsx(Xkt,{children:c.jsx(_s,{})}),(o||S||a)&&c.jsx(N,{as:"span",...J,children:c.jsxs(ae,{as:"span",justify:D,children:[o&&c.jsxs(G,{size:s,children:[m.isValidElement(o)&&o,ws.isValidElementType(o)&&m.createElement(o)]}),S&&c.jsx(N,{flex:a?1:void 0,marginLeft:o?Z:void 0,marginRight:a?Z:void 0,children:c.jsx(G,{align:T,size:s,textOverflow:"ellipsis",weight:ie.sanity.button.textWeight,children:S})}),a&&c.jsxs(G,{size:s,children:[m.isValidElement(a)&&a,ws.isValidElementType(a)&&m.createElement(a)]})]})}),r&&c.jsx(N,{as:"span",...J,children:r})]})});var Ffe=Object.freeze,Qkt=Object.defineProperty,WG=(t,e)=>Ffe(Qkt(t,"raw",{value:Ffe(e||t.slice())})),Bfe,Nfe,Vfe;function Jkt(t){return[eAt(t),tAt(t)]}function eAt(t){const{$checkered:e,theme:n}=t,r=n.sanity.space;return qe(Nfe||(Nfe=WG([`
    `,`

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      outline: none;
      text-decoration: none;
    }

    /* &:is(pre) */
    &[data-as='pre'] {
      font: inherit;
    }
  `])),e&&qe(Bfe||(Bfe=WG([`
      background-size: `,"px ",`px;
      background-position: 50% 50%;
      background-image: var(--card-bg-image);
    `])),r[3],r[3]))}function tAt(t){var e,n;const{$checkered:r,$focusRing:i,theme:s}=t,{focusRing:o}=s.sanity,{base:a,card:l,dark:u}=s.sanity.color,d={width:0,color:"var(--card-border-color)"};return qe(Vfe||(Vfe=WG([`
    color-scheme: `,`;

    `,`

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);

    /* &:is(button) */
    &[data-as='button'] {
      --card-focus-ring-box-shadow: none;

      cursor: default;
      box-shadow: var(--card-focus-ring-box-shadow);

      &:disabled {
        `,`
      }

      &:not(:disabled) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }

        &:focus {
          --card-focus-ring-box-shadow: `,`;
        }

        &:focus:not(:focus-visible) {
          --card-focus-ring-box-shadow: `,`;
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      cursor: pointer;
      box-shadow: var(--card-focus-ring-box-shadow);

      &[data-disabled] {
        `,`
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }

        &:focus {
          --card-focus-ring-box-shadow: `,`;
        }

        &:focus:not(:focus-visible) {
          --card-focus-ring-box-shadow: `,`;
        }
      }
    }

    `,`
  `])),u?"dark":"light",jr(a,l.enabled,r),jr(a,l.disabled,r),jr(a,l.pressed,r),jr(a,l.selected,r),jr(a,l.hovered,r),jr(a,l.pressed,r),i?gm({base:a,border:d,focusRing:o}):void 0,i?Oa(d):void 0,jr(a,l.disabled,r),jr(a,l.pressed,r),jr(a,l.selected,r),jr(a,l.hovered,r),jr(a,l.pressed,r),i?gm({base:a,border:d,focusRing:o}):void 0,i?Oa(d):void 0,(n=(e=s.sanity.styles)==null?void 0:e.card)==null?void 0:n.root)}const nAt=H(N)(iTt,k0,ekt,Jkt),ge=m.forwardRef(function(e,n){const{__unstable_checkered:r=!1,__unstable_focusRing:i=!1,as:s,border:o,borderTop:a,borderRight:l,borderBottom:u,borderLeft:d,pressed:f,radius:h=0,scheme:p,selected:g,shadow:v,tone:y="default",...x}=e,b=ws.isValidElementType(s)?s:"div",_=MC(),C=y==="inherit"?_.tone:y;return c.jsx(KSt,{scheme:p,tone:C,children:c.jsx(nAt,{"data-as":typeof b=="string"?b:void 0,"data-scheme":_.scheme,"data-ui":"Card","data-tone":C,...x,$border:ot(o),$borderTop:ot(a),$borderRight:ot(l),$borderBottom:ot(u),$borderLeft:ot(d),$checkered:r,$focusRing:i,$radius:ot(h),$shadow:ot(v),$tone:C,"data-checkered":r?"":void 0,"data-pressed":f?"":void 0,"data-selected":g?"":void 0,forwardedAs:b,ref:n,selected:g})})});var Ufe=Object.freeze,rAt=Object.defineProperty,T$e=(t,e)=>Ufe(rAt(t,"raw",{value:Ufe(e||t.slice())})),Hfe,zfe;function iAt(){return qe(Hfe||(Hfe=T$e([`
    position: relative;
    display: inline-block;
  `])))}function sAt(t){const{theme:e}=t,n=e.sanity.color.input,{focusRing:r,input:i,radius:s}=e.sanity;return qe(zfe||(zfe=T$e([`
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    outline: none;
    opacity: 0;
    z-index: 1;
    padding: 0;
    margin: 0;

    & + span {
      position: relative;
      display: block;
      height: `,`;
      width: `,`;
      box-sizing: border-box;
      box-shadow: `,`;
      border-radius: `,`;
      line-height: 1;
      background-color: `,`;

      & > svg {
        display: block;
        position: absolute;
        opacity: 0;
        height: 100%;
        width: 100%;

        & > path {
          vector-effect: non-scaling-stroke;
          stroke-width: 2 !important;
        }
      }
    }

    &:not(:disabled):focus + span {
      box-shadow: `,`;
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: `,`;
    }

    &:checked + span > svg:first-child {
      opacity: 1;
    }

    &[data-read-only] + span {
      background-color: `,`;
      box-shadow: `,`;
      color: `,`;
    }

    &:not([data-read-only]):disabled + span {
      background-color: `,`;
      box-shadow: `,`;
      color: `,`;
    }

    &:indeterminate + span > svg:last-child {
      opacity: 1;
    }
  `])),Xe(i.checkbox.size),Xe(i.checkbox.size),Oa({color:n.default.enabled.border,width:i.border.width}),Xe(s[2]),n.default.enabled.bg,gm({border:{width:i.border.width,color:n.default.enabled.border},focusRing:r}),Oa({color:n.default.enabled.border,width:i.border.width}),n.default.readOnly.bg,Oa({width:i.border.width,color:n.default.readOnly.border}),n.default.readOnly.fg,n.default.disabled.bg,Oa({width:i.border.width,color:n.default.disabled.border}),n.default.disabled.fg)}const oAt=H.div(iAt),aAt=H.input(sAt),r0=m.forwardRef(function(e,n){const{checked:r,className:i,disabled:s,indeterminate:o,customValidity:a,readOnly:l,style:u,...d}=e,f=Ms(n);return uI(f,a),m.useEffect(()=>{f.current&&(f.current.indeterminate=o||!1)},[o,f]),c.jsxs(oAt,{className:i,"data-ui":"Checkbox",style:u,children:[c.jsx(aAt,{"data-read-only":!s&&l?"":void 0,...d,checked:r,disabled:s||l,type:"checkbox",readOnly:l,ref:f}),c.jsxs("span",{children:[c.jsx(Uf,{}),c.jsx(lP,{})]})]})});var Wfe=Object.freeze,lAt=Object.defineProperty,uAt=(t,e)=>Wfe(lAt(t,"raw",{value:Wfe(e||t.slice())})),Gfe;function cAt(t){let{theme:e}=t;const n=e.sanity.color.syntax;return{"&.atrule":{color:n.atrule},"&.attr-name":{color:n.attrName},"&.attr-value":{color:n.attrValue},"&.attribute":{color:n.attribute},"&.boolean":{color:n.boolean},"&.builtin":{color:n.builtin},"&.cdata":{color:n.cdata},"&.char":{color:n.char},"&.class":{color:n.class},"&.class-name":{color:n.className},"&.comment":{color:n.comment},"&.constant":{color:n.constant},"&.deleted":{color:n.deleted},"&.doctype":{color:n.doctype},"&.entity":{color:n.entity},"&.function":{color:n.function},"&.hexcode":{color:n.hexcode},"&.id":{color:n.id},"&.important":{color:n.important},"&.inserted":{color:n.inserted},"&.keyword":{color:n.keyword},"&.number":{color:n.number},"&.operator":{color:n.operator},"&.prolog":{color:n.prolog},"&.property":{color:n.property},"&.pseudo-class":{color:n.pseudoClass},"&.pseudo-element":{color:n.pseudoElement},"&.punctuation":{color:n.punctuation},"&.regex":{color:n.regex},"&.selector":{color:n.selector},"&.string":{color:n.string},"&.symbol":{color:n.symbol},"&.tag":{color:n.tag},"&.unit":{color:n.unit},"&.url":{color:n.url},"&.variable":{color:n.variable}}}function dAt(){return qe(Gfe||(Gfe=uAt([`
    color: var(--card-code-fg-color);

    & code {
      font-family: inherit;

      &.refractor .token {
        `,`
      }
    }

    & a {
      color: inherit;
      text-decoration: underline;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),cAt)}const fAt=H.pre(dAt,QEt),qs=m.forwardRef(function(e,n){const{children:r,language:i,size:s=2,weight:o,...a}=e,l=typeof i=="string"?i:void 0,u=l?Px.hasLanguage(l):!1;return c.jsxs(fAt,{"data-ui":"Code",...a,$size:ot(s),$weight:o,ref:n,children:[!(l&&u)&&c.jsx("code",{children:r}),l&&u&&c.jsx(Px,{inline:!0,language:l,value:String(r)})]})}),hAt={width:"100%",margin:"0 auto"};function pAt(){return hAt}function mAt(t){const{theme:e}=t,{container:n,media:r}=e.sanity;return Vn(r,t.$width,i=>({maxWidth:i==="auto"?"none":Xe(n[i])}))}const gAt=H(N)(pAt,mAt),Wc=m.forwardRef(function(e,n){const{as:r,width:i=2,...s}=e;return c.jsx(gAt,{"data-ui":"Container",...s,$width:ot(i),forwardedAs:r,ref:n})}),vAt=H(N)(RTt),Er=m.forwardRef(function(e,n){const{as:r,autoRows:i,autoCols:s,autoFlow:o,columns:a,gap:l,gapX:u,gapY:d,rows:f,children:h,...p}=e;return c.jsx(vAt,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Grid",...p,$autoRows:ot(i),$autoCols:ot(s),$autoFlow:ot(o),$columns:ot(a),$gap:ot(l),$gapX:ot(u),$gapY:ot(d),$rows:ot(f),forwardedAs:r,ref:n,children:h})});var qfe=Object.freeze,yAt=Object.defineProperty,gV=(t,e)=>qfe(yAt(t,"raw",{value:qfe(e||t.slice())})),Yfe,Kfe,Zfe;function bAt(t){const{$accent:e,$muted:n,theme:r}=t;return qe(Zfe||(Zfe=gV([`
    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),e&&qe(Yfe||(Yfe=gV([`
      color: var(--card-accent-fg-color);
    `]))),n&&qe(Kfe||(Kfe=gV([`
      color: var(--card-muted-fg-color);
    `]))),r.sanity.fonts.code.family)}var Xfe=Object.freeze,xAt=Object.defineProperty,wAt=(t,e)=>Xfe(xAt(t,"raw",{value:Xfe(e||t.slice())})),Qfe;const _At=H.div(bAt,zJ,JEt),CAt=H.span(Qfe||(Qfe=wAt([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),Ws=m.forwardRef(function(e,n){const{accent:r=!1,align:i,children:s,muted:o=!1,size:a=2,textOverflow:l,weight:u,...d}=e;let f=s;return l==="ellipsis"&&(f=c.jsx(CAt,{children:f})),c.jsx(_At,{"data-ui":"Heading",...d,$accent:r,$align:ot(i),$muted:o,$size:ot(a),$weight:u,ref:n,children:c.jsx("span",{children:f})})});function EAt(){return{lineHeight:0,"&&:not([hidden])":{display:"block"},"& > div":{display:"inline-block",verticalAlign:"middle"}}}function SAt(t){const{theme:e}=t;return Vn(e.sanity.media,t.$space,n=>{const r=Xe(e.sanity.space[n]);return{margin:"-".concat(r," 0 0 -").concat(r),"& > div":{padding:"".concat(r," 0 0 ").concat(r)}}})}const TAt=H(N)(EAt,SAt),cn=m.forwardRef(function(e,n){const{as:r,children:i,space:s,...o}=e,a=m.useMemo(()=>E$e(i).filter(Boolean).map((l,u)=>c.jsx("div",{children:l},u)),[i]);return c.jsx(TAt,{"data-ui":"Inline",...o,$space:ot(s),forwardedAs:r,ref:n,children:a})});var Jfe=Object.freeze,kAt=Object.defineProperty,AAt=(t,e)=>Jfe(kAt(t,"raw",{value:Jfe(e||t.slice())})),ehe;function IAt(){return qe(ehe||(ehe=AAt([`
    background: var(--card-bg-color);
    font: inherit;
    box-shadow: inset 0 0 0 1px var(--card-hairline-hard-color);

    &:not([hidden]) {
      display: inline-block;
    }
  `])))}const DAt=H.kbd(k0,IAt),GG=m.forwardRef(function(e,n){const{children:r,fontSize:i=1,padding:s=1,radius:o=2,...a}=e;return c.jsx(DAt,{"data-ui":"KBD",...a,$radius:ot(o),ref:n,children:c.jsx(N,{as:"span",padding:s,children:c.jsx(qs,{as:"span",muted:!0,size:i,children:r})})})}),qG=Symbol.for("@sanity/ui/context/boundaryElement");gi[qG]=gi[qG]||m.createContext(null);const k$e=gi[qG];function Q7(t){const{children:e,element:n}=t,r=m.useMemo(()=>({version:0,element:n}),[n]);return c.jsx(k$e.Provider,{value:r,children:e})}const RAt={version:0,element:null};function $C(){const t=m.useContext(k$e);if(t&&(!PC(t)||t.version!==0))throw new Error("useBoundaryElement(): the context value is not compatible");return t||RAt}function jAt(t,e){const n=[];for(let r=0;r<t.length;r+=1)t[r]>e&&n.push(r);return n}function OAt(t,e){const n=[];for(let r=0;r<t.length;r+=1)t[r]<=e&&n.push(r);return n}const LAt=m.forwardRef(function(e,n){const r=Zu(),{children:i,media:s=r.sanity.media,...o}=e,a=Ms(n),[l,u]=m.useState(null),d=Z7(l),f=m.useMemo(()=>{var v;return(v=d==null?void 0:d.border.width)!=null?v:window.innerWidth},[d]),h=m.useMemo(()=>jAt(s,f),[s,f]),p=m.useMemo(()=>OAt(s,f),[s,f]),g=m.useCallback(v=>{a.current=v,u(v)},[a]);return c.jsx("div",{"data-ui":"ElementQuery",...o,"data-eq-max":h.length?h.join(" "):void 0,"data-eq-min":p.length?p.join(" "):void 0,ref:g,children:i})});var PAt=Object.defineProperty,MAt=(t,e,n)=>e in t?PAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$At=(t,e,n)=>(MAt(t,typeof e!="symbol"?e+"":e,n),n);class fI extends m.Component{constructor(){super(...arguments),$At(this,"state",{error:null})}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,n){this.props.onCatch({error:e,info:n})}render(){const{error:e}=this.state;if(e){const n=typeof(e==null?void 0:e.message)=="string"?e.message:"Error";return c.jsx(qs,{children:n})}return this.props.children}}function A$e(t){if(!PC(t)||t.version!==0)throw new Error("the context value is not compatible");if(!t)throw new Error("components using `useLayer()` should be wrapped in a <LayerProvider>.");if(t.version===0)return t;throw new Error("could not get layer context")}const YG=Symbol.for("@sanity/ui/context/layer");gi[YG]=gi[YG]||m.createContext(null);const KG=gi[YG];function Zh(){const t=m.useContext(KG);if(!t)throw new Error("useLayer(): missing context value");try{return A$e(t)}catch(e){throw e instanceof Error?new Error("useLayer(): ".concat(e.message)):new Error("useLayer(): ".concat(e))}}function ZG(t){const e=requestAnimationFrame(t);return()=>{cancelAnimationFrame(e)}}function ZCr(t){let e=null;const n=ZG(()=>{e=ZG(t)});return()=>{e&&e(),n()}}function FAt(t){return YJ(t)||KJ(t)}function Sm(t){return t instanceof Node&&t.nodeType===Node.ELEMENT_NODE}function YJ(t){return Sm(t)&&t.nodeName==="A"}function BAt(t){return Sm(t)&&t.nodeName==="INPUT"}function KJ(t){return Sm(t)&&t.nodeName==="BUTTON"}function NAt(t){return Sm(t)&&t.nodeName==="SELECT"}function VAt(t){return Sm(t)&&t.nodeName==="TEXTAREA"}function XG(t,e){return t.contains(e)||t===e}function UAt(t){return!!document.activeElement&&t.contains(document.activeElement)}function HAt(t){return t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null?!0:YJ(t)?!!t.href&&t.rel!=="ignore":BAt(t)?t.type!=="hidden"&&t.type!=="file"&&!t.disabled:KJ(t)||NAt(t)||VAt(t)?!t.disabled:!1}function I$e(t){if(!HAt(t))return!1;try{t.focus()}catch{}return document.activeElement===t}function SA(t){for(let e=0;e<t.childNodes.length;e++){const n=t.childNodes[e];if(Sm(n)&&(I$e(n)||SA(n)))return!0}return!1}function D$e(t){for(let e=t.childNodes.length-1;e>=0;e--){const n=t.childNodes[e];if(Sm(n)&&(I$e(n)||D$e(n)))return!0}return!1}function zAt(t){if(!(t instanceof Element))return!1;const e=window.getComputedStyle(t);return e.overflowX.includes("auto")||e.overflowX.includes("scroll")||e.overflowY.includes("auto")||e.overflowY.includes("scroll")}function Fv(t){var e;const{children:n,zOffset:r=0}=t,i=m.useContext(KG),s=i&&A$e(i),o=s==null?void 0:s.registerChild,l=((e=s==null?void 0:s.level)!=null?e:0)+1,u=ot(r),d=u.length-1,f=Math.min(T0(),d),h=s?s.zIndex+u[f]:u[f],[,p]=m.useState({}),[g,v]=m.useState(0),y=g===0,x=m.useCallback(_=>{const C=o==null?void 0:o(_);return _!==void 0?p(S=>{var T;const A=(T=S[_])!=null?T:0,k={...S,[_]:A+1};return v(Object.keys(k).length),k}):v(S=>S+1),()=>{_!==void 0?p(S=>{const T={...S};return T[_]===1?(delete T[_],v(Object.keys(T).length)):T[_]-=1,T}):v(S=>S-1),C==null||C()}},[o]);m.useEffect(()=>o==null?void 0:o(l),[l,o]);const b=m.useMemo(()=>({version:0,isTopLayer:y,level:l,registerChild:x,size:g,zIndex:h}),[y,l,x,g,h]);return c.jsx(KG.Provider,{value:b,children:n})}const WAt=H.div({position:"relative"}),GAt=m.forwardRef(function(e,n){const{children:r,onActivate:i,onFocus:s,style:o=xv,...a}=e,{zIndex:l,isTopLayer:u}=Zh(),d=m.useRef(null),f=Ms(n),h=m.useRef(u);m.useEffect(()=>{h.current!==u&&u&&(i==null||i({activeElement:d.current})),h.current=u},[u,i]);const p=m.useCallback(g=>{s==null||s(g);const v=f.current,y=document.activeElement;!u||!v||!y||Sm(y)&&XG(v,y)&&(d.current=y)},[f,u,s]);return c.jsx(WAt,{...a,"data-ui":"Layer",onFocus:p,ref:f,style:{...o,zIndex:l},children:r})}),Wf=m.forwardRef(function(e,n){const{children:r,zOffset:i=1,...s}=e;return c.jsx(Fv,{zOffset:i,children:c.jsx(GAt,{...s,ref:n,children:r})})}),QG=Symbol.for("@sanity/ui/context/portal"),bb=Symbol.for("@sanity/ui/context/portal/element");gi[bb]=null;const qAt={version:0,boundaryElement:null,get element(){return typeof document>"u"?null:(gi[bb]||(gi[bb]=document.createElement("div"),gi[bb].setAttribute("data-portal",""),document.body.appendChild(gi[bb])),gi[bb])}};gi[QG]=gi[QG]||m.createContext(qAt);const R$e=gi[QG];function hI(){const t=m.useContext(R$e);if(!t)throw new Error("usePortal(): missing context value");if(!PC(t)||t.version!==0)throw new Error("usePortal(): the context value is not compatible");return t}function dy(t){var e;const{children:n,__unstable_name:r}=t,i=hI(),s=(r?i.elements&&i.elements[r]:i.element)||((e=i.elements)==null?void 0:e.default);return s?vf.createPortal(n,s):null}function YAt(t){const e=m.useRef(t);return KAt(e.current,t)||(e.current=t),e.current}function KAt(t,e){if(!t||!e)return t===e;const n=Object.keys(t),r=Object.keys(e);return n.length!==r.length?!1:n.every(i=>t[i]===e[i])}const ZAt=typeof document<"u";function J7(t){const{boundaryElement:e,children:n,element:r,__unstable_elements:i}=t,s=YAt(i),o=m.useMemo(()=>({version:0,boundaryElement:e||null,element:r||ZAt&&document.body||null,elements:s}),[e,r,s]);return c.jsx(R$e.Provider,{value:o,children:n})}var the=Object.freeze,XAt=Object.defineProperty,QAt=(t,e)=>the(XAt(t,"raw",{value:the(e||t.slice())})),nhe;const JAt=H.div(nhe||(nhe=QAt([`
  display: block;
  width: 0;
  height: 0;
  position: absolute;
  overflow: hidden;
  overflow: clip;
`])));m.forwardRef(function(e,n){const{as:r,children:i}=e;return c.jsx(JAt,{"aria-hidden":!0,as:r,"data-ui":"SrOnly",ref:n,children:i})});var rhe=Object.freeze,e3t=Object.defineProperty,j$e=(t,e)=>rhe(e3t(t,"raw",{value:rhe(e||t.slice())})),ihe,she;const t3t=H.div(ihe||(ihe=j$e([`
  position: relative;
`]))),ohe=H.div(she||(she=j$e([`
  position: absolute;
  left: 0;
  right: 0;
`])));m.forwardRef(function(e,n){const{as:r="div",gap:i=0,getItemKey:s,items:o=[],onChange:a,renderItem:l,...u}=e,{space:d}=Zu().sanity,f=Ms(n),h=m.useRef(null),[p,g]=m.useState(0),[v,y]=m.useState(0),[x,b]=m.useState(-1);m.useEffect(()=>{if(!h.current)return;const I=h.current.firstChild;I instanceof HTMLElement&&b(I.offsetHeight)},[l]),m.useEffect(()=>{if(!f.current)return;let I=f.current.parentNode;for(;I&&!zAt(I);)I=I.parentNode;if(I){const O=I;if(!(O instanceof HTMLElement))return;const L=()=>{g(O.scrollTop)};O.addEventListener("scroll",L,{passive:!0});const P=new m$e($=>{y($[0].contentRect.height)});return P.observe(O),L(),()=>{O.removeEventListener("scroll",L),P.unobserve(O),P.disconnect()}}const D=()=>{g(window.scrollY)},R=()=>{y(window.innerHeight)};return window.addEventListener("scroll",D,{passive:!0}),window.addEventListener("resize",R),y(window.innerHeight),D(),()=>{window.removeEventListener("scroll",D),window.removeEventListener("resize",R)}},[f]);const _=o.length,C=x?_*(x+d[i])-d[i]:0,S=C?Math.max(Math.floor(p/C*_)-2,0):0,T=C?Math.ceil((p+v)/C*_)+1:0;m.useEffect(()=>{a&&a({fromIndex:S,gap:d[i],itemHeight:x,scrollHeight:v,scrollTop:p,toIndex:T})},[S,i,x,a,v,p,d,T]);const A=m.useMemo(()=>!l||o.length===0?null:x===-1?[c.jsx(ohe,{children:l(o[0])},0)]:o.slice(S,T).map((I,D)=>{const R=S+D,O=l(I),L=s?s(I,R):R;return c.jsx(ohe,{style:{top:R*(x+d[i])},children:O},L)}),[S,i,s,x,o,l,d,T]),k=m.useMemo(()=>({height:C}),[C]);return c.jsx(t3t,{as:r,"data-ui":"VirtualList",...u,ref:f,children:c.jsx("div",{ref:h,style:k,children:A})})});const n3t=4,M2=4,Ap=27,r3t=11,O$e=[0,0,0,0];function i3t(t){const{apply:e,margins:n,padding:r=0}=t;return{name:"@sanity/ui/size",async fn(i){const{elements:s,placement:o,platform:a,rects:l}=i,{floating:u,reference:d}=l,f=await tA(i,{altBoundary:!0,boundary:t.boundaryElement||void 0,elementContext:"floating",padding:r,rootBoundary:"viewport"});let h=1/0,p=1/0;const g=u.width,v=u.height;o.includes("top")&&(h=g-(f.left+f.right),p=v-f.top),o.includes("right")&&(h=g-f.right,p=v-(f.top+f.bottom)),o.includes("bottom")&&(h=g-(f.left+f.right),p=v-f.bottom),o.includes("left")&&(h=g-f.left,p=v-(f.top+f.bottom)),e({availableWidth:h-n[1]-n[3],availableHeight:p-n[0]-n[2],elements:s,referenceWidth:d.width-n[1]-n[3]});const y=await a.getDimensions(s.floating),x=y.height,b=y.width;return g!==b||v!==x?{reset:{rects:!0}}:{}}}}function s3t(t){const{mediaIndex:e,theme:n,width:r}=t,i=r[e],s=i===void 0?r[r.length-1]:i;return typeof s=="number"?n.sanity.container[s]:void 0}function o3t(t){const{boundaryWidth:e,currentWidth:n}=t;if(!(n===void 0&&e===void 0))return Math.min(n??1/0,(e||1/0)-M2*2)}var ahe=Object.freeze,a3t=Object.defineProperty,ZJ=(t,e)=>ahe(a3t(t,"raw",{value:ahe(e||t.slice())})),lhe,uhe,che;const l3t=H.div(lhe||(lhe=ZJ([`
  position: absolute;
  pointer-events: none;
  width: `,`px;
  height: `,`px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    display: block;
    transform-origin: `,"px ",`px;
  }

  [data-placement^='top'] > & {
    bottom: -`,`px;
  }

  [data-placement^='right'] > & {
    left: -`,`px;

    & > svg {
      transform: rotate(90deg);
    }
  }

  [data-placement^='left'] > & {
    right: -`,`px;

    & > svg {
      transform: rotate(-90deg);
    }
  }

  [data-placement^='bottom'] > & {
    top: -`,`px;

    & > svg {
      transform: rotate(180deg);
    }
  }
`])),Ap,Ap,Ap/2,Ap/2,Ap,Ap,Ap,Ap),u3t=H.path(uhe||(uhe=ZJ([`
  fill: var(--card-shadow-outline-color);
`]))),c3t=H.path(che||(che=ZJ([`
  fill: var(--card-bg-color);
`]))),d3t=m.forwardRef(function(e,n){return c.jsx(l3t,{"data-ui":"Popover__arrow",...e,ref:n,children:c.jsxs("svg",{width:Ap,height:r3t,viewBox:"0 0 27 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx(u3t,{d:"M1.18708 1C3.29803 1.0011 5.29585 1.95479 6.62414 3.59561L11.1683 9.20895C12.369 10.6922 14.631 10.6922 15.8317 9.20894L20.3759 3.59561C21.7042 1.95478 23.702 1.0011 25.8129 1H21.9436C21.0533 1.49255 20.2545 2.15618 19.5986 2.96641L15.0545 8.57975C14.254 9.56855 12.746 9.56855 11.9455 8.57975L7.40139 2.96642C6.74548 2.15618 5.94673 1.49255 5.05643 1H1.18708Z"}),c.jsx(c3t,{d:"M1.18342 0C3.59749 0 5.88246 1.0901 7.40138 2.96642L11.9455 8.57975C12.746 9.56855 14.254 9.56855 15.0545 8.57975L19.5986 2.96641C21.1175 1.0901 23.4025 0 25.8166 0H27H0H1.18342Z"})]})})}),f3t=H(ge)({"&:not([hidden])":{display:"flex"},flexDirection:"column",width:"max-content",minWidth:"min-content"}),L$e=m.memo(m.forwardRef(function(e,n){const{__unstable_margins:r,arrow:i,arrowRef:s,arrowX:o,arrowY:a,children:l,padding:u,placement:d,overflow:f,radius:h,scheme:p,shadow:g,strategy:v,style:y,tone:x,width:b,x:_,y:C,...S}=e,{zIndex:T}=Zh(),A=m.useMemo(()=>r||O$e,[r]),k=(_??0)+A[3],I=(C??0)+A[0],D=m.useMemo(()=>({position:v,top:I,left:k,width:b,zIndex:T,...y}),[v,y,b,k,I,T]),R=d&&l$e[d.split("-")[0]],O=m.useMemo(()=>{const L={left:o!==null?o:void 0,top:a!==null?a:void 0,right:void 0,bottom:void 0};return R&&(L[R]=0-Ap),L},[o,a,R]);return c.jsxs(f3t,{"data-ui":"Popover",...S,"data-placement":d,radius:h,ref:n,scheme:p,shadow:g,sizing:"border",style:D,tone:x,children:[c.jsx(ae,{"data-ui":"Popover__wrapper",direction:"column",flex:1,overflow:f,children:c.jsx(ae,{direction:"column",flex:1,padding:u,children:l})}),i&&c.jsx(d3t,{ref:s,style:O})]})}));L$e.displayName="PopoverCard";const Ti=m.memo(m.forwardRef(function(e,n){var r,i,s,o,a,l,u;const d=Zu(),f=$C(),{__unstable_margins:h=O$e,arrow:p=!0,boundaryElement:g=f.element,children:v,constrainSize:y=!1,content:x,disabled:b,fallbackPlacements:_,matchReferenceWidth:C,floatingBoundary:S=(r=e.boundaryElement)!=null?r:f.element,open:T,overflow:A="hidden",padding:k,placement:I="bottom",portal:D,preventOverflow:R=!0,radius:O=3,referenceBoundary:L=(i=e.boundaryElement)!=null?i:f.element,referenceElement:P,scheme:$,shadow:B=3,tone:Q="inherit",width:V="auto",zOffset:Z=(s=d.sanity.layer)==null?void 0:s.popover.zOffset,updateRef:ie,...J}=e,X=(o=Z7(g))==null?void 0:o.border,fe=ot(k),ue=ot(O),te=ot(B),F=ot(V),ne=ot(Z),ce=Ms(n),me=m.useRef(null),pe="viewport",Ie=T0(),xe=y||R?X==null?void 0:X.width:void 0,Pe=s3t({mediaIndex:Ie,theme:d,width:F}),we=m.useRef(Pe);m.useEffect(()=>{we.current=Pe},[Pe]);const De=o3t({boundaryWidth:xe,currentWidth:Pe}),de=m.useRef(De);m.useEffect(()=>{de.current=De},[De]);const be=m.useRef();m.useEffect(()=>{const Kn=ce.current;if(!T||!Kn)return;const ti=be.current;C?ti!==void 0&&(Kn.style.width="".concat(ti,"px")):Pe!==void 0&&(Kn.style.width="".concat(Pe,"px")),typeof De=="number"&&(Kn.style.maxWidth="".concat(De,"px"))},[Pe,ce,C,De,T]);const ve=m.useMemo(()=>{const Kn=[];return(y||R)&&Kn.push(C6e({boundary:S||void 0,fallbackPlacements:_,padding:M2,rootBoundary:pe})),Kn.push(E6e({mainAxis:p?n3t:0})),(y||C)&&Kn.push(i3t({apply(ti){let{availableWidth:Hi,availableHeight:ea,elements:ul,referenceWidth:nc}=ti;be.current=nc;const rc=we.current,ni=de.current;C?ul.floating.style.width="".concat(nc,"px"):rc!==void 0&&(ul.floating.style.width="".concat(rc,"px")),y&&(ul.floating.style.maxWidth="".concat(Math.min(Hi,ni??1/0),"px"),ul.floating.style.maxHeight="".concat(ea,"px"))},boundaryElement:S||void 0,constrainSize:y,margins:h,matchReferenceWidth:C,padding:M2})),R&&Kn.push(S6e({boundary:S||void 0,rootBoundary:pe,padding:M2})),p&&Kn.push($7e({element:me,padding:M2})),Kn.push(fxt({boundary:L||void 0,padding:M2,strategy:"referenceHidden"})),Kn},[p,y,_,S,h,C,R,L]),{x:ze,y:He,middlewareData:Ne,placement:Fe,refs:nt,strategy:Ye,update:Ge}=B7e({middleware:ve,placement:I,whileElementsMounted:RQ}),Ct=(a=Ne.hide)==null?void 0:a.referenceHidden,wt=(l=Ne.arrow)==null?void 0:l.x,pt=(u=Ne.arrow)==null?void 0:u.y,on=m.useCallback(Kn=>{me.current=Kn},[]),mn=m.useCallback(Kn=>{ce.current=Kn,nt.setFloating(Kn)},[ce,nt]),gn=m.useCallback(Kn=>{nt.setReference(Kn);const ti=v==null?void 0:v.ref;typeof ti=="function"?ti(Kn):ti&&(ti.current=Kn)},[v,nt]),br=m.useMemo(()=>!v||P?null:m.cloneElement(v,{ref:gn}),[v,P,gn]);if(m.useEffect(()=>{ie&&(typeof ie=="function"?ie(Ge):ie&&(ie.current=Ge))},[Ge,ie]),m.useEffect(()=>{nt.setReference(P||null)},[P,nt]),b)return v||c.jsx(c.Fragment,{});const yo=c.jsx(Fv,{zOffset:ne,children:c.jsx(L$e,{...J,__unstable_margins:h,arrow:p,arrowRef:on,arrowX:wt,arrowY:pt,hidden:Ct,overflow:A,padding:fe,placement:Fe,radius:ue,ref:mn,scheme:$,shadow:te,strategy:Ye,tone:Q,width:C?be.current:Pe,x:ze,y:He,children:x})});return c.jsxs(c.Fragment,{children:[T&&c.jsx(c.Fragment,{children:D?c.jsx(dy,{__unstable_name:typeof D=="string"?D:void 0,children:yo}):yo}),br]})}));Ti.displayName="Popover";var dhe=Object.freeze,h3t=Object.defineProperty,P$e=(t,e)=>dhe(h3t(t,"raw",{value:dhe(e||t.slice())})),fhe,hhe;function p3t(){return qe(fhe||(fhe=P$e([`
    position: relative;

    &:not([hidden]) {
      display: inline-block;
    }

    &[data-read-only] {
      outline: 1px solid red;
    }
  `])))}function m3t(t){const{theme:e}=t,{focusRing:n,input:r}=e.sanity,i=e.sanity.color.input,s=(r.radio.size-r.radio.markSize)/2;return qe(hhe||(hhe=P$e([`
    appearance: none;
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    z-index: 1;
    padding: 0;
    margin: 0;
    border-radius: `,`;
    border: none;

    /* enabled */
    & + span {
      display: block;
      position: relative;
      height: `,`;
      width: `,`;
      border-radius: `,`;
      background: `,`;
      box-shadow: `,`;

      &::after {
        content: '';
        position: absolute;
        top: `,`;
        left: `,`;
        height: `,`;
        width: `,`;
        border-radius: `,`;
        background: `,`;
        opacity: 0;
      }
    }

    /* focused */
    &:not(:disabled):focus + span {
      box-shadow: `,`;
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: `,`;
    }

    &:checked + span::after {
      opacity: 1;
    }

    /* read only */
    &[data-read-only] + span {
      box-shadow: 0 0 0 1px `,`;
      background: `,`;

      &::after {
        background: `,`;
      }
    }

    /* disabled */
    &:not([data-read-only]):disabled + span {
      box-shadow: 0 0 0 1px `,`;
      background: `,`;

      &::after {
        background: `,`;
      }
    }
  `])),Xe(r.radio.size/2),Xe(r.radio.size),Xe(r.radio.size),Xe(r.radio.size/2),i.default.enabled.bg,Oa({color:i.default.enabled.border,width:r.border.width}),Xe(s),Xe(s),Xe(r.radio.markSize),Xe(r.radio.markSize),Xe(r.radio.markSize/2),i.default.enabled.fg,gm({border:{width:r.border.width,color:i.default.enabled.border},focusRing:n}),Oa({color:i.default.enabled.border,width:r.border.width}),i.default.readOnly.border,i.default.readOnly.bg,i.default.readOnly.fg,i.default.disabled.border,i.default.disabled.bg,i.default.disabled.fg)}const g3t=H.div(p3t),v3t=H.input(m3t),y3t=m.forwardRef(function(e,n){const{className:r,disabled:i,style:s,customValidity:o,readOnly:a,...l}=e,u=Ms(n);return uI(u,o),c.jsxs(g3t,{className:r,"data-ui":"Radio",style:s,children:[c.jsx(v3t,{"data-read-only":!i&&a?"":void 0,...l,disabled:i||a,readOnly:a,ref:u,type:"radio"}),c.jsx("span",{})]})});var phe=Object.freeze,b3t=Object.defineProperty,e9=(t,e)=>phe(b3t(t,"raw",{value:phe(e||t.slice())})),mhe,ghe,vhe,yhe;function x3t(){return qe(mhe||(mhe=e9([`
    position: relative;
    width: stretch;

    &:not([hidden]) {
      display: inline-block;
    }
  `])))}function w3t(t){const{theme:e}=t,n=e.sanity.fonts.text;return qe(ghe||(ghe=e9([`
    -webkit-font-smoothing: antialiased;
    appearance: none;
    border: 0;
    font-family: `,`;
    color: inherit;
    width: 100%;
    outline: none;
    margin: 0;

    &:disabled {
      opacity: 1;
    }
  `])),n.family)}function _3t(t){const{theme:e}=t,{focusRing:n,input:r}=e.sanity,i=e.sanity.color.input;return qe(vhe||(vhe=e9([`
    /* enabled */
    background-color: `,`;
    color: `,`;
    box-shadow: `,`;

    /* hovered */
    @media (hover: hover) {
      &:not(:disabled):hover {
        background-color: `,`;
        color: `,`;
        box-shadow: `,`;
      }
    }

    /* focused */
    &:not(:disabled):focus {
      box-shadow: `,`;
    }

    /* read-only */
    &[data-read-only] {
      background-color: `,`;
      color: `,`;
      box-shadow: `,`;
    }

    /* disabled */
    &:not([data-read-only]):disabled {
      background-color: `,`;
      color: `,`;
      box-shadow: `,`;
    }
  `])),i.default.enabled.bg,i.default.enabled.fg,Oa({color:i.default.enabled.border,width:r.border.width}),i.default.hovered.bg,i.default.hovered.fg,Oa({color:i.default.hovered.border,width:r.border.width}),gm({border:{width:r.border.width,color:i.default.enabled.border},focusRing:n}),i.default.readOnly.bg,i.default.readOnly.fg,Oa({color:i.default.readOnly.border,width:r.border.width}),i.default.disabled.bg,i.default.disabled.fg,Oa({color:i.default.disabled.border,width:r.border.width}))}function C3t(t){return{fontSize:Xe(t.fontSize),lineHeight:Xe(t.lineHeight)}}function E3t(t){const{theme:e,$fontSize:n}=t,{sizes:r}=e.sanity.fonts.text;return Vn(e.sanity.media,n,i=>C3t(r[i]||r[2]))}function S3t(){return[k0,w3t,_3t,E3t,KTt]}function T3t(t){const{theme:e}=t,n=e.sanity.color.input;return qe(yhe||(yhe=e9([`
    pointer-events: none;
    position: absolute;
    top: 0;
    right: 0;

    /* enabled */
    --card-fg-color: `,`;

    /* hover */
    @media (hover: hover) {
      select:not(disabled):not(:read-only):hover + && {
        --card-fg-color: `,`;
      }
    }

    /* disabled */
    select:disabled + && {
      --card-fg-color: `,`;
    }

    /* read-only */
    select[data-read-only] + && {
      --card-fg-color: `,`;
    }
  `])),n.default.enabled.fg,n.default.hovered.fg,n.default.disabled.fg,n.default.readOnly.fg)}const XJ={root:x3t,input:S3t,iconBox:T3t},k3t=H.div(XJ.root),A3t=H.select(XJ.input),I3t=H(N)(XJ.iconBox),Bv=m.forwardRef(function(e,n){const{children:r,customValidity:i,disabled:s,fontSize:o=2,padding:a=3,radius:l=1,readOnly:u,space:d=3,...f}=e,h=Ms(n);return uI(h,i),c.jsxs(k3t,{"data-ui":"Select",children:[c.jsx(A3t,{"data-read-only":!s&&u?"":void 0,"data-ui":"Select",...f,$fontSize:ot(o),$padding:ot(a),$radius:ot(l),$space:ot(d),disabled:s||u,ref:h,children:r}),c.jsx(I3t,{padding:a,children:c.jsx(G,{size:o,children:c.jsx(C0,{})})})]})}),D3t={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"},gridTemplateColumns:"minmax(0, 1fr)",gridAutoRows:"min-content"};function R3t(){return D3t}function j3t(t){const{theme:e}=t,{media:n,space:r}=e.sanity;return Vn(n,t.$space,i=>({gridGap:Xe(r[i])}))}const O3t=H(N)(R3t,j3t),Te=m.forwardRef(function(e,n){const{as:r,space:i,...s}=e;return c.jsx(O3t,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Stack",...s,$space:ot(i),forwardedAs:r,ref:n})});var bhe=Object.freeze,L3t=Object.defineProperty,wx=(t,e)=>bhe(L3t(t,"raw",{value:bhe(e||t.slice())})),xhe,whe,_he,Che,Ehe,She,The;function P3t(){return qe(xhe||(xhe=wx([`
    position: relative;
    &:not([hidden]) {
      display: inline-block;
    }
  `])))}function M3t(){return qe(whe||(whe=wx([`
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    padding: 0;
    margin: 0;

    /* Place the input element above the representation element */
    z-index: 1;
  `])))}function $3t(t){const{theme:e}=t,{focusRing:n,input:r}=e.sanity,i=e.sanity.color.button.default;return qe(_he||(_he=wx([`
    --switch-bg-color: `,`;
    --switch-fg-color: `,`;
    --switch-box-shadow: none;

    &:not([hidden]) {
      display: block;
    }
    position: relative;
    width: `,`;
    height: `,`;
    border-radius: `,`;

    /* Make sure its not possible to interact with the wrapper element */
    pointer-events: none;

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 1;
      box-shadow: var(--switch-box-shadow);
      border-radius: inherit;
    }

    /* Focus styles */
    input:focus + && {
      --switch-box-shadow: `,`;
    }

    input:focus:not(:focus-visible) + && {
      --switch-box-shadow: none;
    }

    input:checked + && {
      --switch-bg-color: `,`;
      --switch-fg-color: `,`;
    }

    @media (hover: hover) {
      input:not(:disabled):hover + && {
        --switch-bg-color: `,`;
        --switch-fg-color: `,`;
      }

      input:not(:disabled):checked:hover + && {
        --switch-bg-color: `,`;
        --switch-fg-color: `,`;
      }
    }

    input:not([data-read-only]):disabled + && {
      --switch-bg-color: `,`;
      --switch-fg-color: `,`;
    }
  `])),i.default.enabled.bg,i.default.enabled.fg,Xe(r.switch.width),Xe(r.switch.height),Xe(r.switch.height/2),gm({focusRing:n}),i.positive.enabled.bg,i.positive.enabled.fg,i.default.hovered.bg,i.default.hovered.fg,i.positive.hovered.bg,i.positive.hovered.fg,i.default.disabled.bg,i.default.disabled.fg)}function F3t(t){const{theme:e}=t,{input:n}=e.sanity;return qe(Che||(Che=wx([`
    &:not([hidden]) {
      display: block;
    }
    background-color: var(--switch-bg-color);
    position: absolute;
    left: 0;
    top: 0;
    width: `,`;
    height: `,`;
    border-radius: `,`;
  `])),Xe(n.switch.width),Xe(n.switch.height),Xe(n.switch.height/2))}function B3t(t){const{$indeterminate:e,theme:n}=t,{input:r}=n.sanity,i=r.switch.width,s=r.switch.height,o=r.switch.padding,a=s-r.switch.padding*2,l=i-o*2-a,u=i/2-a/2-o,d=e!==!0&&t.$checked===!0;return qe(The||(The=wx([`
    &:not([hidden]) {
      display: block;
    }
    position: absolute;
    left: `,`;
    top: `,`;
    height: `,`;
    width: `,`;
    border-radius: `,`;
    transition-property: transform;
    transition-duration: `,`ms;
    transition-timing-function: `,`;
    background: var(--switch-fg-color);
    transform: translate3d(0, 0, 0);

    `,`

    `,`
  `])),Xe(o),Xe(o),Xe(a),Xe(a),Xe(a/2),r.switch.transitionDurationMs,r.switch.transitionTimingFunction,d&&qe(Ehe||(Ehe=wx([`
      transform: translate3d(`,`px, 0, 0);
    `])),l),e&&qe(She||(She=wx([`
      transform: translate3d(`,`px, 0, 0);
    `])),u))}const N3t=H.span(P3t),V3t=H.input(M3t),U3t=H.span($3t),H3t=H.span(F3t),z3t=H.span(B3t),QJ=m.forwardRef(function(e,n){const{checked:r,className:i,disabled:s,indeterminate:o,readOnly:a,style:l,...u}=e,d=Ms(n);return m.useEffect(()=>{d.current&&(d.current.indeterminate=o||!1)},[o,d]),c.jsxs(N3t,{className:i,"data-ui":"Switch",style:l,children:[c.jsx(V3t,{"data-read-only":!s&&a?"":void 0,...u,checked:o!==!0&&r,disabled:s||a,type:"checkbox",ref:d}),c.jsxs(U3t,{"aria-hidden":!0,"data-name":"representation",children:[c.jsx(H3t,{}),c.jsx(z3t,{$checked:r,$indeterminate:o})]})]})});var khe=Object.freeze,W3t=Object.defineProperty,G3t=(t,e)=>khe(W3t(t,"raw",{value:khe(e||t.slice())})),Ahe;const q3t=H.span(b$e),Y3t=H.span(Ahe||(Ahe=G3t([`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`]))),K3t=H.textarea(GJ,x$e,w$e),Z3t=H.div(k0,_$e),M$e=m.forwardRef(function(e,n){const{border:r=!0,customValidity:i,disabled:s=!1,fontSize:o=2,padding:a=3,radius:l=1,weight:u,...d}=e,f=Ms(n),h=MC();return uI(f,i),c.jsx(q3t,{"data-ui":"TextArea",children:c.jsxs(Y3t,{children:[c.jsx(K3t,{"data-as":"textarea","data-scheme":h.scheme,"data-tone":h.tone,...d,$fontSize:ot(o),$padding:ot(a),$scheme:h.scheme,$space:ot(0),$tone:h.tone,$weight:u,disabled:s,ref:f}),c.jsx(Z3t,{$radius:ot(l),$scheme:h.scheme,$tone:h.tone,"data-border":r?"":void 0,"data-scheme":h.scheme,"data-tone":h.tone})]})})});var Ihe=Object.freeze,X3t=Object.defineProperty,FC=(t,e)=>Ihe(X3t(t,"raw",{value:Ihe(e||t.slice())})),Dhe,Rhe,jhe,Ohe,Lhe,Phe;const Q3t={zIndex:2},J3t=H(ge).attrs({forwardedAs:"span"})(b$e),eIt=H.span(Dhe||(Dhe=FC([`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`]))),tIt=H(ge).attrs({forwardedAs:"span"})(Rhe||(Rhe=FC([`
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`]))),nIt=H(ge).attrs({forwardedAs:"span"})(jhe||(jhe=FC([`
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`]))),rIt=H.input(GJ,x$e,w$e),iIt=H.span(k0,_$e),sIt=H(N)(Ohe||(Ohe=FC([`
  position: absolute;
  top: 0;
  left: 0;
`]))),oIt=H(N)(Lhe||(Lhe=FC([`
  position: absolute;
  top: 0;
  right: 0;
`]))),aIt=H(ge)(Phe||(Phe=FC([`
  background-color: transparent;
  position: absolute;
  top: 0;
  right: 0;
`]))),Fi=m.forwardRef(function(e,n){const{border:r=!0,clearButton:i,disabled:s=!1,fontSize:o=2,icon:a,iconRight:l,onClear:u,padding:d=3,prefix:f,radius:h=1,readOnly:p,space:g=3,suffix:v,customValidity:y,type:x="text",weight:b,..._}=e,C=Ms(n),S=MC(),T=ot(o),A=ot(d),k=ot(h),I=ot(g),D=!!i,R=!!a,O=!!l,L=!!v,P=!!f;uI(C,y);const $=m.useCallback(ue=>{ue.preventDefault(),ue.stopPropagation()},[]),B=m.useCallback(ue=>{var te;ue.preventDefault(),ue.stopPropagation(),u&&u(),(te=C.current)==null||te.focus()},[u,C]),Q=m.useMemo(()=>f&&c.jsx(tIt,{borderTop:!0,borderLeft:!0,borderBottom:!0,radius:k,sizing:"border",tone:"inherit",children:c.jsx("span",{children:f})}),[f,k]),V=m.useMemo(()=>c.jsxs(iIt,{$hasPrefix:P,$hasSuffix:L,$radius:k,$scheme:S.scheme,$tone:S.tone,"data-border":r?"":void 0,"data-scheme":S.scheme,"data-tone":S.tone,children:[a&&c.jsx(sIt,{padding:A,children:c.jsxs(G,{size:T,children:[m.isValidElement(a)&&a,ws.isValidElementType(a)&&m.createElement(a)]})}),!D&&l&&c.jsx(oIt,{padding:A,children:c.jsxs(G,{size:T,children:[m.isValidElement(l)&&l,ws.isValidElementType(l)&&m.createElement(l)]})})]}),[r,T,a,l,A,k,S,D,P,L]),Z=m.useMemo(()=>A.map(ue=>ue===0?0:ue===1||ue===2?1:ue-2),[A]),ie=m.useMemo(()=>A.map(ue=>ue===0||ue===1?0:ue===2?1:ue-1),[A]),J=m.useMemo(()=>typeof i=="object"?i:xv,[i]),X=m.useMemo(()=>!s&&!p&&i&&c.jsx(aIt,{forwardedAs:"span",padding:Z,style:Q3t,tone:y?"critical":"inherit",children:c.jsx(Ce,{"aria-label":"Clear","data-qa":"clear-button",fontSize:T,icon:Rd,mode:"bleed",padding:ie,radius:k,...J,onClick:B,onMouseDown:$})}),[i,Z,ie,J,y,s,T,B,$,k,p]),fe=m.useMemo(()=>v&&c.jsx(nIt,{borderTop:!0,borderRight:!0,borderBottom:!0,radius:k,sizing:"border",tone:"inherit",children:c.jsx("span",{children:v})}),[k,v]);return c.jsxs(J3t,{"data-ui":"TextInput",tone:S.tone,children:[Q,c.jsxs(eIt,{children:[c.jsx(rIt,{"data-as":"input","data-scheme":S.scheme,"data-tone":S.tone,..._,$fontSize:T,$iconLeft:R,$iconRight:O||D,$padding:A,$scheme:S.scheme,$space:I,$tone:S.tone,$weight:b,disabled:s,readOnly:p,ref:C,type:x}),V,X]}),fe]})});var Mhe=Object.freeze,lIt=Object.defineProperty,JJ=(t,e)=>Mhe(lIt(t,"raw",{value:Mhe(e||t.slice())})),$he,Fhe,Bhe;const uIt=H.div($he||($he=JJ([`
  position: absolute;
  pointer-events: none;
  width: 15px;
  height: 15px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    display: block;
    transform-origin: 7.5px 7.5px;
  }

  /* position: absolute;
  width: 15px;
  height: 15px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    &:not([hidden]) {
      display: block;
    }
    transform-origin: 7.5px 7.5px;
  } */

  [data-placement^='top'] > & {
    bottom: -27px;
  }

  [data-placement^='right'] > & {
    left: -27px;

    & > svg {
      transform: rotate(90deg);
    }
  }

  [data-placement^='left'] > & {
    right: -27px;

    & > svg {
      transform: rotate(-90deg);
    }
  }

  [data-placement^='bottom'] > & {
    top: -27px;

    & > svg {
      transform: rotate(180deg);
    }
  }
`]))),cIt=H.path(Fhe||(Fhe=JJ([`
  fill: var(--card-shadow-outline-color);
`]))),dIt=H.path(Bhe||(Bhe=JJ([`
  fill: var(--card-bg-color);
`]))),fIt=m.forwardRef(function(e,n){const{...r}=e;return c.jsx(uIt,{"data-ui":"Tooltip__arrow",...r,ref:n,children:c.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 15 15",children:[c.jsx(cIt,{d:"M11.5266 1C11.032 1.32802 10.5837 1.73105 10.1995 2.20057L9.04792 3.6081C8.24771 4.58614 6.7523 4.58614 5.95209 3.6081L4.80047 2.20057C4.41632 1.73105 3.96796 1.32802 3.47341 1H0.156727C1.65639 1 3.07687 1.67313 4.02651 2.83381L5.17813 4.24134C6.37844 5.70839 8.62156 5.70839 9.82187 4.24134L10.9735 2.83381C11.9231 1.67313 13.3436 1 14.8433 1H11.5266Z"}),c.jsx(dIt,{d:"M0.156725 0C1.95632 0 3.66089 0.80776 4.80047 2.20057L5.95209 3.6081C6.75229 4.58614 8.24771 4.58614 9.04791 3.6081L10.1995 2.20057C11.3391 0.80776 13.0437 0 14.8433 0H15H0H0.156725Z"})]})})});var Nhe=Object.freeze,hIt=Object.defineProperty,pIt=(t,e)=>Nhe(hIt(t,"raw",{value:Nhe(e||t.slice())})),Vhe;const mIt=H(Wf)(Vhe||(Vhe=pIt([`
  pointer-events: none;
`]))),Mn=m.forwardRef(function(e,n){var r,i,s;const o=$C(),a=Zu(),{boundaryElement:l=o==null?void 0:o.element,children:u,content:d,disabled:f,fallbackPlacements:h,padding:p,placement:g="bottom",portal:v,scheme:y,shadow:x=2,zOffset:b=(r=a.sanity.layer)==null?void 0:r.tooltip.zOffset,..._}=e,C=ot(h),S=Ms(n),[T,A]=m.useState(null),k=m.useRef(null),I="viewport",D=m.useMemo(()=>{const De=[];return De.push(C6e({boundary:l||void 0,fallbackPlacements:C,padding:4,rootBoundary:I})),De.push(E6e({mainAxis:3})),De.push(S6e({boundary:l||void 0,rootBoundary:I,padding:4})),De.push($7e({element:k,padding:2})),De},[l,C]),{x:R,y:O,placement:L,middlewareData:P,refs:$,update:B,strategy:Q}=B7e({middleware:D,placement:g,whileElementsMounted:RQ}),V=m.useMemo(()=>({position:Q,top:O??0,left:R??0}),[Q,R,O]),Z=L&&l$e[L.split("-")[0]],ie=(i=P.arrow)==null?void 0:i.x,J=(s=P.arrow)==null?void 0:s.y,X=m.useMemo(()=>{const De={left:ie!==null?ie:void 0,top:J!==null?J:void 0,right:void 0,bottom:void 0};return Z&&(De[Z]=-15),De},[ie,J,Z]),[fe,ue]=m.useState(!1),te=m.useCallback(()=>ue(!1),[]),F=m.useCallback(()=>ue(!0),[]),ne=m.useCallback(()=>ue(!0),[]),ce=m.useCallback(()=>ue(!1),[]);m.useEffect(()=>{if(!fe)return;function De(de){if(!T)return;T===de.target||de.target instanceof Node&&T.contains(de.target)||(ue(!1),window.removeEventListener("mousemove",De))}return window.addEventListener("mousemove",De),()=>{window.removeEventListener("mousemove",De)}},[fe,T]),m.useEffect(()=>{f&&ue(!1)},[f]),m.useEffect(()=>{d||ue(!1)},[d]),m.useEffect(()=>$.setReference(T),[T,$]);const me=m.useCallback(De=>{k.current=De,B()},[B]),pe=m.useCallback(De=>{S.current=De,$.setFloating(De)},[S,$]),Ie=u==null?void 0:u.ref,xe=m.useCallback(De=>{typeof Ie=="function"?Ie(De):Ie&&(Ie.current=De),A(De)},[Ie]),Pe=m.useMemo(()=>u?m.cloneElement(u,{onBlur:te,onFocus:F,onMouseEnter:ne,onMouseLeave:ce,ref:xe}):null,[u,te,F,ne,ce,xe]);if(!Pe)return c.jsx(c.Fragment,{});if(f)return Pe;const we=c.jsx(mIt,{"data-ui":"Tooltip",..._,ref:pe,style:V,zOffset:b,children:c.jsxs(ge,{"data-ui":"Tooltip__card","data-placement":L,padding:p,radius:2,scheme:y,shadow:x,children:[d,c.jsx(fIt,{ref:me,style:X})]})});return c.jsxs(c.Fragment,{children:[Pe,fe&&c.jsx(c.Fragment,{children:v?c.jsx(dy,{__unstable_name:typeof v=="string"?v:void 0,children:we}):we})]})});var Uhe=Object.freeze,gIt=Object.defineProperty,t9=(t,e)=>Uhe(gIt(t,"raw",{value:Uhe(e||t.slice())})),Hhe,zhe,Whe,Ghe;const vIt=H.div(Hhe||(Hhe=t9([`
  line-height: 0;
`]))),yIt=H(N)(zhe||(zhe=t9([`
  & > ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }
`]))),bIt=d7(Whe||(Whe=t9([`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`]))),xIt=H(y7)(Ghe||(Ghe=t9([`
  animation: `,` 500ms linear infinite;
`])),bIt);function wIt(t){const{children:e,id:n,onSelect:r,selected:i,value:s}=t,o=m.useCallback(()=>{setTimeout(()=>{r(s)},0)},[r,s]),a=m.useCallback(l=>{l.key==="Enter"&&!FAt(l.currentTarget)&&o()},[o]);return c.jsx("li",{"aria-selected":i,"data-ui":"AutocompleteOption",id:n,role:"option",onClick:o,onKeyDown:a,children:e})}function _It(t,e){return e.type==="input/change"?{...t,activeValue:null,focused:!0,query:e.query}:e.type==="input/focus"?{...t,focused:!0}:e.type==="root/blur"?{...t,focused:!1,query:null}:e.type==="root/clear"?{...t,activeValue:null,query:null,value:null}:e.type==="root/escape"?{...t,focused:!1,query:null}:e.type==="root/open"?{...t,query:t.query||e.query}:e.type==="root/setActiveValue"?{...t,activeValue:e.value,listFocused:e.listFocused||t.listFocused}:e.type==="root/setListFocused"?{...t,listFocused:e.listFocused}:e.type==="value/change"?{...t,activeValue:e.value,query:null,value:e.value}:t}const CIt=["Control","Shift","Alt","Enter","Home","End","PageUp","PageDown","Meta","Tab","CapsLock"],EIt="bottom-start",SIt=["bottom-start","top-start"],TIt=(t,e)=>e?e.value:t,kIt=(t,e)=>e.value.toLowerCase().indexOf(t.toLowerCase())>-1,AIt=m.forwardRef(function(e,n){const{border:r=!0,customValidity:i,disabled:s,filterOption:o,fontSize:a=2,icon:l,id:u,listBox:d=xv,loading:f,onBlur:h,onChange:p,onFocus:g,onQueryChange:v,onSelect:y,openButton:x,options:b,padding:_=3,popover:C=xv,prefix:S,radius:T=3,readOnly:A,relatedElements:k,renderOption:I,renderPopover:D,renderValue:R=TIt,suffix:O,value:L,...P}=e,[$,B]=m.useReducer(_It,{activeValue:L||null,focused:!1,listFocused:!1,query:null,value:L||null}),{activeValue:Q,focused:V,listFocused:Z,query:ie,value:J}=$,X=m.useCallback(Dt=>{let{value:$n}=Dt;return c.jsx(ge,{"data-as":"button",padding:_,radius:2,tone:"inherit",children:c.jsx(G,{size:a,textOverflow:"ellipsis",children:$n})})},[a,_]),fe=typeof I=="function"?I:X,ue=typeof o=="function"?o:kIt,te=m.useRef(null),F=m.useRef(null),ne=m.useRef(null),ce=m.useRef(null),me=m.useRef(!1),pe=m.useRef(J),Ie=m.useRef(L),xe=m.useRef(!1),Pe=Ms(n),we="".concat(u,"-listbox"),De=Array.isArray(b)?b:aI,de=ot(_),be=m.useMemo(()=>J!==null?De.find(Dt=>Dt.value===J):void 0,[De,J]),ve=m.useMemo(()=>De.filter(Dt=>ie?ue(ie,Dt):!0),[ue,De,ie]),ze=ve.length,He=Q?"".concat(u,"-option-").concat(Q):void 0,Ne=ie!==null&&f||V&&ie!==null,Fe=m.useCallback(Dt=>{setTimeout(()=>{if(xe.current)return;const $n=(k||[]).concat(te.current?[te.current]:[],F.current?[F.current]:[]);let fi=!1;if(document.activeElement){for(const ri of $n)if(ri===document.activeElement||ri.contains(document.activeElement)){fi=!0;break}}fi===!1&&(B({type:"root/blur"}),xe.current=!1,v&&v(null),h&&h(Dt))},0)},[h,v,k]),nt=m.useCallback(Dt=>{const $n=ce.current,fi=Dt.target instanceof HTMLElement?Dt.target:null,ri=($n==null?void 0:$n.contains(fi))||!1;ri!==me.current&&(me.current=ri,B({type:"root/setListFocused",listFocused:ri}))},[]),Ye=m.useCallback(Dt=>{var $n;B({type:"value/change",value:Dt}),xe.current=!1,y&&y(Dt),pe.current=Dt,p&&p(Dt),v&&v(null),($n=ne.current)==null||$n.focus()},[p,y,v]),Ge=m.useCallback(Dt=>{var $n,fi;if(Dt.key==="ArrowDown"){if(Dt.preventDefault(),!ze)return;const ts=ve.find(wu=>wu.value===Q),ya=ts?ve.indexOf(ts):-1,ta=ve[(ya+1)%ze];ta&&B({type:"root/setActiveValue",value:ta.value,listFocused:!0});return}if(Dt.key==="ArrowUp"){if(Dt.preventDefault(),!ze)return;const ts=ve.find(wu=>wu.value===Q),ya=ts?ve.indexOf(ts):-1,ta=ve[ya===-1?ze-1:(ze+ya-1)%ze];ta&&B({type:"root/setActiveValue",value:ta.value,listFocused:!0});return}if(Dt.key==="Escape"){B({type:"root/escape"}),xe.current=!1,v&&v(null),($n=ne.current)==null||$n.focus();return}const ri=Dt.target,$l=ce.current;if(($l===ri||$l!=null&&$l.contains(ri))&&!CIt.includes(Dt.key)){(fi=ne.current)==null||fi.focus();return}},[Q,ve,ze,v]),Ct=m.useCallback(Dt=>{const $n=Dt.currentTarget.value;B({type:"input/change",query:$n}),v&&v($n)},[v]),wt=m.useCallback(Dt=>{V||(B({type:"input/focus"}),g&&g(Dt))},[V,g]),pt=m.useCallback(()=>{xe.current=!0},[]),on=m.useCallback(()=>{xe.current=!1},[]),mn=m.useCallback(()=>{var Dt;B({type:"root/clear"}),pe.current="",p&&p(""),v&&v(null),(Dt=ne.current)==null||Dt.focus()},[p,v]),gn=m.useCallback(()=>{B({type:"input/focus"})},[]);m.useEffect(()=>{if(L!==Ie.current){Ie.current=L,L!==void 0&&(B({type:"value/change",value:L}),pe.current=L);return}L!==pe.current&&(pe.current=L||null,B({type:"value/change",value:L||null}))},[L]),m.useEffect(()=>{!V&&pe.current&&B({type:"root/setActiveValue",value:pe.current})},[V]),m.useEffect(()=>{const Dt=ce.current;if(!Dt)return;const $n=ve.find(fi=>fi.value===Q);if($n){const fi=ve.indexOf($n),ri=Dt.childNodes[fi];if(ri){if(UAt(ri))return;SA(ri)}}},[Q,ve]);const br=m.useCallback(Dt=>{ne.current=Dt,Pe.current=Dt},[Pe]),yo=m.useMemo(()=>{if(!f&&!s&&J)return{"aria-label":"Clear",onFocus:gn}},[s,gn,f,J]),Kn=m.useMemo(()=>de.map(Dt=>Dt===0?0:Dt===1||Dt===2?1:Dt-2),[de]),ti=m.useMemo(()=>de.map(Dt=>Math.max(Dt-1,0)),[de]),Hi=m.useMemo(()=>typeof x=="object"?x:xv,[x]),ea=m.useCallback(Dt=>{B({type:"root/open",query:J?R(J,be):""}),Hi.onClick&&Hi.onClick(Dt),ZG(()=>{var $n;return($n=ne.current)==null?void 0:$n.focus()})},[be,Hi,R,J]),ul=m.useMemo(()=>!s&&!A&&x?c.jsx(N,{"aria-hidden":Ne,padding:Kn,children:c.jsx(Ce,{"aria-label":"Open",disabled:Ne,fontSize:a,icon:_0,mode:"bleed",padding:ti,...Hi,onClick:ea})}):void 0,[s,Ne,a,ea,x,Kn,ti,Hi,A]),nc=m.useMemo(()=>ie===null?J!==null?R(J,be):"":ie,[be,ie,R,J]),rc=c.jsx(Fi,{...P,"aria-activedescendant":He,"aria-autocomplete":"list","aria-expanded":Ne,"aria-owns":we,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",border:r,clearButton:yo,customValidity:i,disabled:s,fontSize:a,icon:l,iconRight:f&&xIt,id:u,inputMode:"search",onChange:Ct,onClear:mn,onFocus:wt,padding:de,prefix:S,radius:T,readOnly:A,ref:br,role:"combobox",spellCheck:!1,suffix:O||ul,value:nc}),ni=m.useCallback(Dt=>{var $n;Dt.key==="Tab"&&Z&&(($n=ne.current)==null||$n.focus())},[Z]),Fs=m.useMemo(()=>ve.length===0?null:c.jsx(yIt,{"data-ui":"AutoComplete__results",onKeyDown:ni,padding:1,...d,tabIndex:-1,children:c.jsx(Te,{as:"ul","aria-multiselectable":!1,"data-ui":"AutoComplete__resultsList",id:we,ref:ce,role:"listbox",space:1,children:ve.map(Dt=>{const $n=Q!==null?Dt.value===Q:be===Dt;return c.jsx(wIt,{id:"".concat(u,"-option-").concat(Dt.value),onSelect:Ye,selected:$n,value:Dt.value,children:m.cloneElement(fe(Dt),{disabled:f,selected:$n,tabIndex:Z&&$n?0:-1})},Dt.value)})})}),[Q,be,ve,Ye,ni,u,d,we,Z,f,fe]),Ss=m.useMemo(()=>D?D({content:Fs,hidden:!Ne,inputElement:ne.current,onMouseEnter:pt,onMouseLeave:on},F):ze===0?null:c.jsx(Ti,{arrow:!1,constrainSize:!0,content:Fs,fallbackPlacements:SIt,matchReferenceWidth:!0,onMouseEnter:pt,onMouseLeave:on,open:Ne,overflow:"auto",placement:EIt,portal:!0,radius:T,ref:F,referenceElement:ne.current,...C}),[Fs,Ne,ze,pt,on,C,T,D]);return c.jsxs(vIt,{"data-ui":"Autocomplete",onBlur:Fe,onFocus:nt,onKeyDown:Ge,ref:te,children:[rc,Ss]})}),eee=AIt;var qhe=Object.freeze,IIt=Object.defineProperty,$$e=(t,e)=>qhe(IIt(t,"raw",{value:qhe(e||t.slice())})),Yhe,Khe;const DIt=H.ol(Yhe||(Yhe=$$e([`
  margin: 0;
  padding: 0;
  display: flex;
  list-style: none;
  align-items: center;
  white-space: nowrap;
  line-height: 0;
`]))),RIt=H(Ce)(Khe||(Khe=$$e([`
  appearance: none;
  margin: -4px;
`]))),F$e=m.forwardRef(function(e,n){const{children:r,maxLength:i,separator:s,space:o=2,...a}=e,l=ot(o),[u,d]=m.useState(!1),[f,h]=m.useState(null),[p,g]=m.useState(null),v=m.useCallback(()=>d(!1),[]),y=m.useCallback(()=>d(!0),[]);ga(v,[f,p]);const x=m.useMemo(()=>m.Children.toArray(r).filter(_=>m.isValidElement(_)),[r]),b=m.useMemo(()=>{const _=x.length;if(i&&_>i){const C=Math.ceil(i/2),S=Math.floor(i/2);return[...x.slice(0,C-1),c.jsx(Ti,{constrainSize:!0,content:c.jsx(Te,{as:"ol",overflow:"auto",padding:l,space:l,children:x.slice(C-1,_-S)}),open:u,placement:"top",portal:!0,ref:g,children:c.jsx(RIt,{fontSize:1,mode:"bleed",onClick:u?v:y,padding:1,ref:h,selected:u,text:""})},"button"),...x.slice(_-S)]}return x},[v,y,i,u,x,l]);return c.jsx(DIt,{"data-ui":"Breadcrumbs",...a,ref:n,children:b.map((_,C)=>c.jsxs(m.Fragment,{children:[C>0&&c.jsx(N,{"aria-hidden":!0,as:"li",paddingX:l,children:s||c.jsx(G,{muted:!0,children:"/"})}),c.jsx(N,{as:"li",children:_})]},C))})});function jIt(t){let{theme:e}=t;const n=e.sanity.color.base;return{"&:not([hidden])":{display:"flex"},top:0,left:0,right:0,bottom:0,alignItems:"center",justifyContent:"center",outline:"none",background:n.shadow.umbra}}function OIt(t){const{theme:e}=t,{media:n}=e.sanity;return Vn(n,t.$position,r=>({"&&":{position:r}}))}const JG=Symbol.for("@sanity/ui/context/dialog");gi[JG]=gi[JG]||m.createContext({version:0});const B$e=gi[JG];function LIt(){return m.useContext(B$e)}var Zhe=Object.freeze,PIt=Object.defineProperty,BC=(t,e)=>Zhe(PIt(t,"raw",{value:Zhe(e||t.slice())})),Xhe,Qhe,Jhe,epe,tpe,npe;function eq(t,e,n){return!t||!e?!0:XG(t,n)||XG(e,n)}const MIt=H(Wf)(C$e,jIt,OIt),$It=H(Wc)(Xhe||(Xhe=BC([`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  height: 100%;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`]))),FIt=H(ge)(Qhe||(Qhe=BC([`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  min-height: 0;
  max-height: 100%;
  overflow: hidden;
  overflow: clip;
`]))),BIt=H(ae)(Jhe||(Jhe=BC([`
  flex: 1;
  min-height: 0;
  width: 100%;
`]))),NIt=H(ge)(epe||(epe=BC([`
  position: relative;
  z-index: 2;

  &:after {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    bottom: -1px;
    border-bottom: 1px solid var(--card-hairline-soft-color);
  }
`]))),VIt=H(N)(tpe||(tpe=BC([`
  position: relative;
  z-index: 1;
  overflow: auto;
  outline: none;
`]))),UIt=H(N)(npe||(npe=BC([`
  position: relative;
  z-index: 3;
  border-top: 1px solid var(--card-hairline-soft-color);
`]))),HIt=m.forwardRef(function(e,n){var r;const{__unstable_autoFocus:i,__unstable_hideCloseButton:s,children:o,contentRef:a,footer:l,header:u,id:d,onClickOutside:f,onClose:h,portal:p,radius:g,scheme:v,shadow:y,width:x}=e,b=hI(),_=p?((r=b.elements)==null?void 0:r[p])||null:b.element,C=$C().element,S=ot(g),T=ot(y),A=ot(x),k=Ms(n),[I,D]=m.useState(null),R=m.useRef(null),O=Zh(),{isTopLayer:L}=O,P="".concat(d,"_label"),$=!!h&&s===!1,B=!!u||$;m.useEffect(()=>{i&&k.current&&SA(k.current)},[i,k]),zf(m.useCallback(Z=>{if(!L||!h)return;const ie=document.activeElement;ie&&!eq(C,_,ie)||Z.key==="Escape"&&(Z.preventDefault(),Z.stopPropagation(),h())},[C,L,h,_])),ga(m.useCallback(Z=>{if(!L||!f)return;const ie=Z.target;ie&&!eq(C,_,ie)||f()},[C,L,f,_]),[I]);const Q=m.useCallback(Z=>{D(Z),k.current=Z},[k]),V=m.useCallback(Z=>{R.current=Z,typeof a=="function"?a(Z):a&&(a.current=Z)},[a]);return c.jsx($It,{"data-ui":"DialogCard",width:A,children:c.jsx(FIt,{radius:S,ref:Q,scheme:v,shadow:T,children:c.jsxs(BIt,{direction:"column",children:[B&&c.jsx(NIt,{children:c.jsxs(ae,{children:[c.jsx(N,{flex:1,padding:4,children:u&&c.jsx(G,{id:P,weight:"semibold",children:u})}),$&&c.jsx(N,{padding:2,children:c.jsx(Ce,{"aria-label":"Close dialog",disabled:!h,icon:Rd,mode:"bleed",onClick:h,padding:3})})]})}),c.jsx(VIt,{flex:1,ref:V,tabIndex:-1,children:o}),l&&c.jsx(UIt,{children:l})]})})})}),pa=m.forwardRef(function(e,n){var r,i;const s=LIt(),o=Zu(),{__unstable_autoFocus:a=!0,__unstable_hideCloseButton:l=!1,cardRadius:u=3,cardShadow:d=4,children:f,contentRef:h,footer:p,header:g,id:v,onActivate:y,onClickOutside:x,onClose:b,onFocus:_,padding:C=4,portal:S,position:T=s.position||"fixed",scheme:A,width:k=0,zOffset:I=s.zOffset||((r=o.sanity.layer)==null?void 0:r.dialog.zOffset),...D}=e,R=hI(),O=S?((i=R.elements)==null?void 0:i[S])||null:R.element,L=$C().element,P=ot(u),$=ot(C),B=ot(T),Q=ot(k),V=ot(I),Z=m.useRef(null),ie=m.useRef(null),J=m.useRef(null),X=m.useRef(null),fe=m.useCallback(ne=>{_==null||_(ne);const ce=ne.target,me=J.current;if(me&&ce===Z.current){D$e(me);return}if(me&&ce===ie.current){SA(me);return}Sm(ne.target)&&(X.current=ne.target)},[_]),ue="".concat(v,"_label"),te=m.useRef(),F=m.useCallback(()=>{te.current&&clearTimeout(te.current),te.current=setTimeout(()=>{const ne=document.activeElement;if(ne&&!eq(L,O,ne)){const ce=X.current;if(!ce||!document.body.contains(ce)){const me=J.current;me&&SA(me);return}ce.focus()}},0)},[L,O]);return c.jsx(dy,{__unstable_name:S,children:c.jsxs(MIt,{...D,$padding:$,$position:B,"aria-labelledby":ue,"aria-modal":!0,"data-ui":"Dialog",id:v,onActivate:y,onClick:F,onFocus:fe,ref:n,role:"dialog",zOffset:V,children:[c.jsx("div",{ref:Z,tabIndex:0}),c.jsx(HIt,{__unstable_autoFocus:a,__unstable_hideCloseButton:l,contentRef:h,footer:p,header:g,id:v,onClickOutside:x,onClose:b,portal:S,radius:P,ref:J,scheme:A,shadow:d,width:Q,children:f}),c.jsx("div",{ref:ie,tabIndex:0})]})})});function XCr(t){const{children:e,position:n,zOffset:r}=t,i=m.useMemo(()=>({version:0,position:n,zOffset:r}),[n,r]);return c.jsx(B$e.Provider,{value:i,children:e})}var rpe=Object.freeze,zIt=Object.defineProperty,N$e=(t,e)=>rpe(zIt(t,"raw",{value:rpe(e||t.slice())})),ipe,spe;const WIt=H.kbd(ipe||(ipe=N$e([`
  &:not([hidden]) {
    display: block;
  }
  font: inherit;
`]))),GIt=H(GG)(spe||(spe=N$e([`
  &:not([hidden]) {
    display: block;
  }
`]))),tee=m.forwardRef(function(e,n){const{fontSize:r,keys:i,padding:s,radius:o,space:a=1,...l}=e,u=ot(a);return!i||i.length===0?c.jsx(c.Fragment,{}):c.jsx(WIt,{"data-ui":"Hotkeys",...l,ref:n,children:c.jsx(cn,{as:"span",space:u,children:i.map((d,f)=>c.jsx(GIt,{fontSize:r,padding:s,radius:o,children:d},f))})})}),tq=Symbol.for("@sanity/ui/context/menu");gi[tq]=gi[tq]||m.createContext(null);const V$e=gi[tq];function qIt(t){return YJ(t)&&t.getAttribute("data-disabled")!=="true"||KJ(t)&&!t.disabled}function i2(t){return t.filter(qIt)}function YIt(t,e){const n=[];let r=e;for(;r!==t;){const i=r.parentElement;if(!i)return n;const o=Array.from(i.childNodes).indexOf(r);if(n.unshift(o),i===t)return n;r=i}return n}const ope=[];function KIt(t,e){if(!t)return;const n=new WeakMap;for(const i of e)n.set(i,YIt(t,i));const r=(i,s)=>{const o=n.get(i)||ope,a=n.get(s)||ope,l=Math.max(o.length,a.length);for(let u=0;u<l;u+=1){const d=o[u]||-1,f=a[u]||-1;if(d!==f)return d-f}return 0};e.sort(r)}function ZIt(t){const{onKeyDown:e,originElement:n,shouldFocus:r}=t,i=m.useRef([]),[s,o]=m.useState(null),[a,l]=m.useState(-1),u=m.useRef(a),d=i.current[a]||null,f=!!s,h=m.useCallback(x=>{l(x),u.current=x},[]),p=m.useCallback((x,b)=>{if(!x)return()=>{};if(i.current.indexOf(x)===-1&&(i.current.push(x),KIt(s,i.current)),b){const _=i.current.indexOf(x);h(_)}return()=>{const _=i.current.indexOf(x);_>-1&&i.current.splice(_,1)}},[s,h]),g=m.useCallback(x=>{if(x.key==="Tab"){n&&n.focus();return}if(x.key==="Home"){x.preventDefault(),x.stopPropagation();const _=i2(i.current)[0];if(!_)return;const C=i.current.indexOf(_);h(C);return}if(x.key==="End"){x.preventDefault(),x.stopPropagation();const b=i2(i.current),_=b[b.length-1];if(!_)return;const C=i.current.indexOf(_);h(C);return}if(x.key==="ArrowUp"){x.preventDefault(),x.stopPropagation();const b=i2(i.current),_=b.length;if(_===0)return;const C=i.current[u.current];let S=b.indexOf(C);S=(S-1+_)%_;const T=b[S],A=i.current.indexOf(T);h(A);return}if(x.key==="ArrowDown"){x.preventDefault(),x.stopPropagation();const b=i2(i.current),_=b.length;if(_===0)return;const C=i.current[u.current];let S=b.indexOf(C);S=(S+1)%_;const T=b[S],A=i.current.indexOf(T);h(A);return}e&&e(x)},[e,n,h]),v=m.useCallback(x=>{const b=x.currentTarget,_=i.current.indexOf(b);h(_)},[h]),y=m.useCallback(()=>{h(-2),s==null||s.focus()},[h,s]);return m.useEffect(()=>{if(!f)return;const x=window.requestAnimationFrame(()=>{const b=u.current;if(b===-1){if(r==="first"){const S=i2(i.current)[0];if(S){const T=i.current.indexOf(S);h(T),u.current=T}}if(r==="last"){const C=i2(i.current),S=C[C.length-1];if(S){const T=i.current.indexOf(S);h(T),u.current=T}}return}const _=i.current[b]||null;_==null||_.focus()});return()=>{window.cancelAnimationFrame(x)}},[a,f,h,r]),{activeElement:d,activeIndex:a,handleItemMouseEnter:v,handleItemMouseLeave:y,handleKeyDown:g,mount:p,rootElement:s,setRootElement:o}}var ape=Object.freeze,XIt=Object.defineProperty,QIt=(t,e)=>ape(XIt(t,"raw",{value:ape(e||t.slice())})),lpe;const JIt=H(N)(lpe||(lpe=QIt([`
  outline: none;
  overflow: auto;
`]))),er=m.forwardRef(function(e,n){const{children:r,focusFirst:i,focusLast:s,onClickOutside:o,onEscape:a,onItemClick:l,onItemSelect:u,onKeyDown:d,originElement:f,padding:h=1,registerElement:p,shouldFocus:g=e.focusFirst&&"first"||e.focusLast&&"last"||null,space:v=1,...y}=e,x=Ms(n),{isTopLayer:b}=Zh(),{activeElement:_,activeIndex:C,handleItemMouseEnter:S,handleItemMouseLeave:T,handleKeyDown:A,mount:k,rootElement:I,setRootElement:D}=ZIt({onKeyDown:d,originElement:f,shouldFocus:g}),R=m.useCallback(L=>{D(L),x.current=L},[x,D]);m.useEffect(()=>{u&&u(C)},[C,u]),ga(m.useCallback(L=>b&&o&&o(L),[b,o]),[I]),zf(m.useCallback(L=>{b&&L.key==="Escape"&&(L.stopPropagation(),a&&a())},[b,a])),m.useEffect(()=>{if(!(!I||!p))return p(I)},[p,I]);const O=m.useMemo(()=>({version:0,activeElement:_,activeIndex:C,mount:k,onClickOutside:o,onEscape:a,onItemClick:l,onItemMouseEnter:S,onItemMouseLeave:T,registerElement:p,onMouseEnter:S,onMouseLeave:T}),[_,C,k,S,T,o,a,l,p]);return c.jsx(V$e.Provider,{value:O,children:c.jsx(JIt,{"data-ui":"Menu",...y,onKeyDown:A,padding:h,ref:R,role:"menu",tabIndex:-1,children:c.jsx(Te,{space:v,children:r})})})}),vr=m.forwardRef(function(e,n){const{__unstable_disableRestoreFocusOnClose:r=!1,boundaryElement:i,button:s,id:o,menu:a,onClose:l,onOpen:u,placement:d,popoverScheme:f,portal:h=!0,popover:p,popoverRadius:g,preventOverflow:v}=e,[y,x]=m.useState(!1),[b,_]=m.useState(null),[C,S]=m.useState(null),[T,A]=m.useState([]),k=m.useRef(y);m.useEffect(()=>{u&&y&&!k.current&&u()},[u,y]),m.useEffect(()=>{l&&!y&&k.current&&l()},[l,y]),m.useEffect(()=>{k.current=y},[y]);const I=m.useCallback(()=>{x(J=>!J),_(null)},[]),D=m.useCallback(J=>{if(J.key==="ArrowDown"||J.key==="Enter"||J.key===" "){J.preventDefault(),x(!0),_("first");return}if(J.key==="ArrowUp"){J.preventDefault(),x(!0),_("last");return}},[]),R=m.useCallback(J=>{const X=J.target;if(X instanceof Node&&!(C&&(X===C||C.contains(X)))){for(const fe of T)if(X===fe||fe.contains(X))return;x(!1)}},[C,T]),O=m.useCallback(()=>{x(!1),!r&&C&&C.focus()},[C,r]),L=m.useCallback(J=>{const X=J.relatedTarget;if(X instanceof Node){for(const fe of T)if(fe===X||fe.contains(X))return;x(!1)}},[T]),P=m.useCallback(()=>{x(!1),!r&&C&&C.focus()},[C,r]),$=m.useCallback(J=>(A(X=>X.concat([J])),()=>{A(X=>X.filter(fe=>fe!==J))}),[]),B=m.useMemo(()=>({"aria-labelledby":o,onBlurCapture:L,onClickOutside:R,onEscape:O,onItemClick:P,originElement:C,registerElement:$,shouldFocus:b}),[C,R,O,P,o,L,$,b]),Q=ws.isElement(a)?m.cloneElement(a,B):null,V=m.useCallback(J=>{typeof n=="function"?n(J):n&&(n.current=J),S(J)},[n]),Z=m.useMemo(()=>ws.isElement(s)?m.cloneElement(s,{"data-ui":"MenuButton",id:o,onClick:I,onKeyDown:D,"aria-haspopup":!0,"aria-expanded":y,ref:V,selected:y}):null,[s,I,D,o,y,V]),ie=m.useMemo(()=>({boundaryElement:i,overflow:"auto",placement:d,portal:h,preventOverflow:v,radius:g,scheme:f,...p||{}}),[i,d,g,f,h,v,p]);return c.jsx(Ti,{"data-ui":"MenuButton__popover",...ie,content:Q,open:y,children:Z||c.jsx(c.Fragment,{})})});var upe=Object.freeze,eDt=Object.defineProperty,tDt=(t,e)=>upe(eDt(t,"raw",{value:upe(e||t.slice())})),cpe;const Ci=H.hr(cpe||(cpe=tDt([`
  height: 1px;
  border: 0;
  background: var(--card-hairline-soft-color);
  margin: 0;
`])));var dpe=Object.freeze,nDt=Object.defineProperty,U$e=(t,e)=>dpe(nDt(t,"raw",{value:dpe(e||t.slice())})),fpe,hpe;function rDt(){return qe(fpe||(fpe=U$e([`
    background-color: inherit;
    color: inherit;

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      text-decoration: none;
    }
  `])))}function iDt(t){var e,n;const{$tone:r,theme:i}=t,{base:s,muted:o,selectable:a}=i.sanity.color,l=a?a[r]||a.default:o[r]||o.default;return qe(hpe||(hpe=U$e([`
    `,`

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);
    outline: none;

    /* &:is(button) */
    &[data-as='button'] {
      &:disabled {
        `,`
      }

      &:not(:disabled) {
        &[aria-pressed='true'] {
          `,`
        }

        &[data-selected],
        &[aria-selected='true'] > & {
          `,`
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      &[data-disabled] {
        `,`
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }
      }
    }

    `,`
  `])),jr(s,l.enabled),jr(s,l.disabled),jr(s,l.pressed),jr(s,l.selected),jr(s,l.hovered),jr(s,l.pressed),jr(s,l.disabled),jr(s,l.pressed),jr(s,l.selected),jr(s,l.hovered),jr(s,l.pressed),(n=(e=i.sanity.styles)==null?void 0:e.card)==null?void 0:n.root)}const H$e=H(N)(k0,rDt,iDt);function z$e(){const t=m.useContext(V$e);if(!t)throw new Error("useMenu(): missing context value");if(!PC(t)||t.version!==0)throw new Error("useMenu(): the context value is not compatible");return t}function n9(t){const{as:e="button",children:n,fontSize:r,icon:i,onClick:s,padding:o=3,popover:a,radius:l=2,space:u=3,text:d,tone:f="default",...h}=t,p=z$e(),{activeElement:g,mount:v,onClickOutside:y,onEscape:x,onItemClick:b,onItemMouseEnter:_=p.onMouseEnter,registerElement:C}=p,[S,T]=m.useState(null),[A,k]=m.useState(!1),I=m.useRef(null),D=!!g&&g===S,[R,O]=m.useState(!1),L=m.useCallback(ie=>{O(!1),_(ie),k(!0)},[_]),P=m.useCallback(ie=>{ie.key==="ArrowLeft"&&(ie.stopPropagation(),k(!1),requestAnimationFrame(()=>{S==null||S.focus()}))},[S]),$=m.useCallback(ie=>{s&&s(ie),I.current="first",k(!0),requestAnimationFrame(()=>{I.current=null})},[s]),B=m.useCallback(()=>{k(!1),b&&b()},[b]),Q=m.useCallback(()=>O(!0),[]);m.useEffect(()=>v(S),[v,S]),m.useEffect(()=>{D||k(!1)},[D]),m.useEffect(()=>{A||O(!1)},[A]);const V=c.jsx(er,{onClickOutside:y,onEscape:x,onItemClick:B,onKeyDown:P,onMouseEnter:Q,registerElement:C,shouldFocus:I.current,children:n}),Z=m.useCallback(ie=>{const J=ie.currentTarget;if(document.activeElement===J&&ie.key==="ArrowRight"){I.current="first",k(!0),O(!0),requestAnimationFrame(()=>{I.current=null});return}},[]);return c.jsx(Ti,{...a,content:V,"data-ui":"MenuGroup__popover",open:A,children:c.jsx(H$e,{"data-as":e,"data-ui":"MenuGroup",forwardedAs:e,...h,"aria-pressed":e==="button"?R:void 0,"data-pressed":e!=="button"?R:void 0,"data-selected":!R&&D?"":void 0,$radius:ot(l),$tone:f,onClick:$,onKeyDown:Z,onMouseEnter:L,ref:T,tabIndex:-1,type:e==="button"?"button":void 0,children:c.jsx(N,{padding:o,children:c.jsxs(ae,{children:[i&&c.jsxs(G,{size:r,children:[m.isValidElement(i)&&i,ws.isValidElementType(i)&&m.createElement(i)]}),c.jsx(N,{flex:1,marginLeft:i?u:void 0,children:c.jsx(G,{size:r,textOverflow:"ellipsis",children:d})}),c.jsx(N,{marginLeft:u,children:c.jsx(G,{size:r,children:c.jsx(nw,{})})})]})})})})}const St=m.forwardRef(function(e,n){const{as:r="button",children:i,disabled:s,fontSize:o=2,hotkeys:a,icon:l,iconRight:u,onClick:d,padding:f=3,paddingX:h,paddingY:p,paddingTop:g,paddingRight:v,paddingBottom:y,paddingLeft:x,pressed:b,radius:_=2,selected:C,space:S=3,text:T,tone:A="default",...k}=e,I=z$e(),{activeElement:D,mount:R,onItemClick:O,onItemMouseEnter:L=I.onMouseEnter,onItemMouseLeave:P=I.onMouseLeave}=I,[$,B]=m.useState(null),Q=!!D&&D===$;m.useEffect(()=>R($,C),[R,$,C]);const V=Ms(n),Z=m.useCallback(X=>{s||(d&&d(X),O&&O())},[s,d,O]),ie=m.useMemo(()=>({padding:f,paddingX:h,paddingY:p,paddingTop:g,paddingRight:v,paddingBottom:y,paddingLeft:x}),[f,h,p,g,v,y,x]),J=m.useCallback(X=>{V.current=X,B(X)},[V]);return c.jsxs(H$e,{"data-ui":"MenuItem",...k,"aria-pressed":r==="button"&&b,"data-pressed":r!=="button"&&b?"":void 0,"data-selected":Q?"":void 0,"data-disabled":s?"":void 0,forwardedAs:r,$radius:ot(_),$padding:ot(0),$tone:A,disabled:s,onClick:Z,onMouseEnter:L,onMouseLeave:P,ref:J,role:"menuitem",tabIndex:-1,type:r==="button"?"button":void 0,children:[(l||T||u)&&c.jsx(N,{as:"span",...ie,children:c.jsxs(ae,{as:"span",children:[l&&c.jsxs(G,{size:o,children:[m.isValidElement(l)&&l,ws.isValidElementType(l)&&m.createElement(l)]}),T&&c.jsx(N,{flex:1,marginLeft:l?S:void 0,marginRight:u?S:void 0,children:c.jsx(G,{size:o,textOverflow:"ellipsis",children:T})}),a&&c.jsx(N,{marginLeft:S,style:{marginTop:-4,marginBottom:-4},children:c.jsx(tee,{fontSize:o,keys:a})}),u&&c.jsxs(G,{size:o,children:[m.isValidElement(u)&&u,ws.isValidElementType(u)&&m.createElement(u)]})]})}),i&&c.jsx(N,{as:"span",...ie,children:i})]})});var ppe=Object.freeze,sDt=Object.defineProperty,qP=(t,e)=>ppe(sDt(t,"raw",{value:ppe(e||t.slice())})),mpe,gpe,vpe,ype;const oDt=d7(mpe||(mpe=qP([`
  0% {
    background-position: 100%;
  }
  100% {
    background-position: -100%;
  }
`]))),aDt=qe(gpe||(gpe=qP([`
  background-image: linear-gradient(
    to right,
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-to),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from)
  );
  background-position: 100%;
  background-size: 200% 100%;
  background-attachment: fixed;
  animation-name: `,`;
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
  animation-duration: 2000ms;
`])),oDt),lDt=qe(ype||(ype=qP([`
  opacity: `,`;
  transition: opacity 200ms ease-in;

  @media screen and (prefers-reduced-motion: no-preference) {
    `,`
  }

  @media screen and (prefers-reduced-motion: reduce) {
    background-color: var(--card-skeleton-color-from);
  }
`])),t=>{let{$visible:e}=t;return e?1:0},t=>{let{$animated:e}=t;return e?aDt:qe(vpe||(vpe=qP([`
            background-color: var(--card-skeleton-color-from);
          `])))}),uDt=H(N)(k0,lDt),NC=m.forwardRef(function(e,n){const{animated:r=!1,delay:i,radius:s,...o}=e,[a,l]=m.useState(!i);return m.useEffect(()=>{if(!i)return l(!0);const u=setTimeout(()=>{l(!0)},i);return()=>{clearTimeout(u)}},[i]),c.jsx(uDt,{...o,$animated:r,$radius:ot(s),$visible:a,ref:n})}),r9=H(NC)(t=>{let{$size:e,$style:n,theme:r}=t;const{media:i}=r.sanity,s=r.sanity.fonts[n];return Vn(i,e,a=>{const l=s.sizes[a];return{height:l.lineHeight-l.ascenderHeight-l.descenderHeight}})}),Vc=m.forwardRef(function(e,n){const{size:r=2,...i}=e,s=ot(r);return c.jsx(r9,{...i,$size:s,ref:n,$style:"text"})}),YP=m.forwardRef(function(e,n){const{size:r=2,...i}=e,s=ot(r);return c.jsx(r9,{...i,$size:s,ref:n,$style:"label"})});m.forwardRef(function(e,n){const{size:r=2,...i}=e,s=ot(r);return c.jsx(r9,{...i,$size:s,ref:n,$style:"heading"})});m.forwardRef(function(e,n){const{size:r=2,...i}=e,s=ot(r);return c.jsx(r9,{...i,$size:s,ref:n,$style:"code"})});var bpe=Object.freeze,cDt=Object.defineProperty,dDt=(t,e)=>bpe(cDt(t,"raw",{value:bpe(e||t.slice())})),xpe;const fDt=H(Ce)(xpe||(xpe=dDt([`
  max-width: 100%;
`]))),TA=m.forwardRef(function(e,n){const{icon:r,id:i,focused:s,fontSize:o,label:a,onClick:l,onFocus:u,padding:d=2,selected:f,...h}=e,p=m.useRef(null),g=m.useRef(!1),v=m.useCallback(()=>{g.current=!1},[]),y=m.useCallback(_=>{g.current=!0,u&&u(_)},[u]),x=Ms(n);m.useEffect(()=>{s&&!g.current&&(p.current&&p.current.focus(),g.current=!0)},[s]);const b=_=>{p.current=_,x.current=_};return c.jsx(fDt,{"data-ui":"Tab",...h,"aria-selected":f?"true":"false",fontSize:o,icon:r,id:i,mode:"bleed",onClick:l,onBlur:v,onFocus:y,padding:d,ref:b,role:"tab",selected:f,tabIndex:f?0:-1,text:a,type:"button"})});var wpe=Object.freeze,hDt=Object.defineProperty,pDt=(t,e)=>wpe(hDt(t,"raw",{value:wpe(e||t.slice())})),_pe;function mDt(t){return!!t}const gDt=H(cn)(_pe||(_pe=pDt([`
  & > div {
    display: inline-block;
    vertical-align: middle;
    max-width: 100%;
    box-sizing: border-box;
  }
`]))),nee=m.forwardRef(function(e,n){const{children:r,...i}=e,[s,o]=m.useState(-1),l=m.useMemo(()=>r.filter(mDt),[r]).map((h,p)=>m.cloneElement(h,{focused:s===p,key:p,onFocus:()=>d(p)})),u=l.length,d=m.useCallback(h=>{o(h)},[]),f=m.useCallback(h=>{h.key==="ArrowLeft"&&o(p=>(p+u-1)%u),h.key==="ArrowRight"&&o(p=>(p+1)%u)},[u]);return c.jsx(gDt,{"data-ui":"TabList",...i,onKeyDown:f,ref:n,role:"tablist",children:l})}),KP=m.forwardRef(function(e,n){const{flex:r,...i}=e;return c.jsx(N,{"data-ui":"TabPanel",...i,flex:r,ref:n,role:"tabpanel",tabIndex:e.tabIndex===void 0?0:e.tabIndex,children:e.children})});var Cpe=Object.freeze,vDt=Object.defineProperty,W$e=(t,e)=>Cpe(vDt(t,"raw",{value:Cpe(e||t.slice())})),Epe,Spe;const yDt={error:"critical",warning:"caution",success:"positive",info:"primary"},bDt={error:"alert",warning:"alert",success:"alert",info:"alert"},xDt=H(ge)(Epe||(Epe=W$e([`
  pointer-events: all;
`]))),wDt=H(ae)(Spe||(Spe=W$e([`
  overflow-x: auto;
`])));function _Dt(t){const{closable:e,description:n,onClose:r,title:i,status:s,...o}=t,a=s?yDt[s]:"default",l=s?bDt[s]:"status";return c.jsx(xDt,{"data-ui":"Toast",role:l,...o,marginTop:3,radius:2,shadow:2,tone:a,children:c.jsxs(ae,{align:"flex-start",children:[c.jsx(wDt,{flex:1,padding:3,children:c.jsxs(Te,{space:3,children:[i&&c.jsx(G,{weight:"semibold",children:i}),n&&c.jsx(G,{muted:!0,size:1,children:n})]})}),e&&c.jsx(N,{padding:1,children:c.jsx(Ce,{as:"button",icon:Rd,mode:"bleed",padding:2,onClick:r,style:{verticalAlign:"top"}})})]})})}function CDt(){const[t,e]=m.useReducer(()=>!0,!1);return m.useEffect(e,[e]),t}const nq=Symbol.for("@sanity/ui/context/toast");gi[nq]=gi[nq]||m.createContext(null);const G$e=gi[nq];var Tpe=Object.freeze,EDt=Object.defineProperty,q$e=(t,e)=>Tpe(EDt(t,"raw",{value:Tpe(e||t.slice())})),kpe,Ape;const SDt=H(Wf)(kpe||(kpe=q$e([`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
`]))),TDt=H.div(Ape||(Ape=q$e([`
  box-sizing: border-box;
  position: absolute;
  right: 0;
  bottom: 0;
  max-width: 420px;
  width: 100%;
`])));let kDt=0;function Y$e(t){const{children:e,padding:n=4,paddingX:r,paddingY:i,zOffset:s}=t,[o,a]=m.useState([]),l=m.useRef({}),u=m.useCallback(h=>{const p=x=>m.startTransition(()=>a(x)),g=h.id||String(kDt++),v=h.duration||5e3,y=()=>{var x;const b=(x=l.current[g])==null?void 0:x.timeoutId;p(_=>{const C=_.findIndex(S=>S.id===g);if(C>-1){const S=_.slice(0);return S.splice(C,1),S}return _}),b!==void 0&&(clearTimeout(b),delete l.current[g])};return p(x=>x.filter(b=>b.id!==g).concat([{dismiss:y,id:g,params:{...h,duration:v}}])),l.current[g]&&(clearTimeout(l.current[g].timeoutId),delete l.current[g]),l.current[g]={timeoutId:setTimeout(y,v)},g},[]);m.useEffect(()=>()=>{for(const{timeoutId:h}of Object.values(l.current))clearTimeout(h);l.current={}},[]);const d=m.useMemo(()=>({version:0,push:u}),[u]),f=CDt();return c.jsxs(G$e.Provider,{value:d,children:[e,f&&c.jsx(SDt,{"data-ui":"ToastProvider",zOffset:s,children:c.jsx(TDt,{children:c.jsx(N,{padding:n,paddingX:r,paddingY:i,children:c.jsx(a$e,{initial:!1,children:o.map(h=>{let{dismiss:p,id:g,params:v}=h;return c.jsx(HJ.div,{animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},initial:{opacity:0,y:32,scale:.25},layout:"position",transition:{type:"spring",damping:30,stiffness:400},children:c.jsx(_Dt,{closable:v.closable,description:v.description,onClose:p,status:v.status,title:v.title})},g)})})})})})]})}function Na(){const t=m.useContext(G$e);if(!t)throw new Error("useToast(): missing context value");if(!PC(t)||t.version!==0)throw new Error("useToast(): the context value is not compatible");return t}function ADt(t,e,n){var r;const i=e.indexOf(n),s=e.slice(0,i),o=s.length;for(let a=o-1;a>=0;a-=1){const l=s[a].getAttribute("data-tree-key");if(!l)continue;const u=l.split("/");u.pop();const d=[];let f=!0;for(let h=0;h<u.length;h+=1){d.push(u[h]);const p=d.join("/");if(!((r=t[p])!=null&&r.expanded)){f=!1;break}}if(f)return s[a]}return null}function IDt(t,e,n){var r;const i=e.indexOf(n),s=e.slice(i),o=e.length;for(let a=1;a<o;a+=1){if(!s[a])continue;const l=s[a].getAttribute("data-tree-key");if(!l)continue;const u=l.split("/");u.pop();const d=[];let f=!0;for(let h=0;h<u.length;h+=1){d.push(u[h]);const p=d.join("/");if(!((r=t[p])!=null&&r.expanded)){f=!1;break}}if(f)return s[a]}return null}function Ipe(t){if(t.getAttribute("role")==="treeitem"&&t.focus(),t.getAttribute("role")==="none"){const e=t.firstChild;e&&e instanceof HTMLElement&&e.focus()}}const rq=Symbol.for("@sanity/ui/context/tree");gi[rq]=gi[rq]||m.createContext(null);const ZP=gi[rq],DDt=m.memo(m.forwardRef(function(e,n){const{children:r,space:i=1,onFocus:s,...o}=e,a=Ms(n),[l,u]=m.useState(null),d=m.useRef(l),f=m.useMemo(()=>[],[]),[h,p]=m.useState([]),[g,v]=m.useState({}),y=m.useRef(g);m.useEffect(()=>{d.current=l},[l]),m.useEffect(()=>{y.current=g},[g]);const x=m.useCallback((T,A,k,I)=>(v(D=>({...D,[A]:{element:T,expanded:k}})),I&&u(T),()=>{v(D=>{const R={...D};return delete R[A],R})}),[]),b=m.useCallback((T,A)=>{v(k=>{const I=k[T];return I?{...k,[T]:{...I,expanded:A}}:k})},[]),_=m.useMemo(()=>({version:0,focusedElement:l||h[0]||null,level:0,path:f,registerItem:x,setExpanded:b,setFocusedElement:u,space:i,state:g}),[l,h,f,x,b,i,g]),C=m.useCallback(T=>{var A;if(d.current){if(T.key==="ArrowDown"){T.preventDefault();const k=IDt(y.current,h,d.current);k&&(Ipe(k),u(k));return}if(T.key==="ArrowUp"){T.preventDefault();const k=ADt(y.current,h,d.current);k&&(Ipe(k),u(k));return}if(T.key==="ArrowLeft"){T.preventDefault();const k=d.current.getAttribute("data-tree-key");if(!k)return;const I=y.current[k];if(!I)return;if(I.expanded)v(D=>{const R=D[k];return R?{...D,[k]:{...R,expanded:!1}}:D});else{const D=k.split("/");D.pop();const R=D.join("/"),O=R&&y.current[R];O&&(O.element.focus(),u(O.element))}return}if(T.key==="ArrowRight"){T.preventDefault();const k=d.current.getAttribute("data-tree-key");if(!k)return;(A=y.current[k])!=null&&A.expanded||v(I=>{const D=I[k];return D?{...I,[k]:{...D,expanded:!0}}:I});return}}},[h]),S=m.useCallback(T=>{u(T.target),s==null||s(T)},[s]);return m.useEffect(()=>{if(!a.current)return;const T=Array.from(a.current.querySelectorAll('[data-ui="TreeItem"]'));p(T)},[r,a]),c.jsx(ZP.Provider,{value:_,children:c.jsx(Te,{as:"ul","data-ui":"Tree",...o,onFocus:S,onKeyDown:C,ref:a,role:"tree",space:i,children:r})})}));DDt.displayName="Tree";var Dpe=Object.freeze,RDt=Object.defineProperty,ree=(t,e)=>Dpe(RDt(t,"raw",{value:Dpe(e||t.slice())})),Rpe,jpe,Ope;function jDt(){return qe(Rpe||(Rpe=ree([`
    &[role='none'] > [role='treeitem'] {
      outline: none;
      cursor: default;
      border-radius: 3px;

      &:focus {
        position: relative;
      }
    }

    &[role='treeitem'] {
      outline: none;

      & > div {
        cursor: default;
        border-radius: 3px;
      }

      &:focus > div {
        position: relative;
      }
    }
  `])))}function ODt(t){const{theme:e}=t,n="default",{base:r,muted:i,selectable:s}=e.sanity.color,o=s?s[n]||s.default:i[n]||i.default;return qe(jpe||(jpe=ree([`
    /* <div role="none"><a data-ui="TreeItem__box" role="treeitem" tabIndex="0"></div> */
    &[role='none'] {
      & > [role='treeitem'] {
        `,`

        background-color: var(--card-bg-color);
        color: var(--treeitem-fg-color);
      }

      &[data-selected] > [role='treeitem'] {
        `,`
      }

      @media (hover: hover) {
        &:not([data-selected]) > [role='treeitem']:not(:focus):hover {
          `,`
        }

        & > [role='treeitem']:focus {
          `,`
        }
      }
    }

    /* <div role="treeitem" tabIndex="0"><div data-ui="TreeItem__box"></div> */
    &[role='treeitem'] {
      & > [data-ui='TreeItem__box'] {
        `,`

        background-color: var(--card-bg-color);
        color: var(--card-fg-color);
      }

      &[data-selected] > [data-ui='TreeItem__box'] {
        `,`
      }

      @media (hover: hover) {
        &:not([data-selected]):not(:focus) > [data-ui='TreeItem__box']:hover {
          `,`
        }

        &:focus > [data-ui='TreeItem__box'] {
          `,`
        }
      }
    }
  `])),jr(r,o.enabled),jr(r,o.pressed),jr(r,o.hovered),jr(r,o.selected),jr(r,o.enabled),jr(r,o.pressed),jr(r,o.hovered),jr(r,o.selected))}function LDt(t){const{$level:e,theme:n}=t,{space:r}=n.sanity;return qe(Ope||(Ope=ree([`
    padding-left: `,`;

    &[data-as='a'] {
      text-decoration: none;
    }
  `])),Xe(r[2]*e))}function K$e(){const t=m.useContext(ZP);if(!t)throw new Error("Tree: missing context value");return t}const Lpe=m.memo(function(e){const{children:n,expanded:r=!1,...i}=e,s=K$e();return c.jsx(Te,{as:"ul","data-ui":"TreeGroup",...i,hidden:!r,marginTop:s.space,role:"group",space:s.space,children:n})});var Ppe=Object.freeze,PDt=Object.defineProperty,MDt=(t,e)=>Ppe(PDt(t,"raw",{value:Ppe(e||t.slice())})),Mpe;const $pe=m.memo(H.li(jDt,ODt)),Fpe=H(N).attrs({forwardedAs:"a"})(LDt),$Dt=H(G)(Mpe||(Mpe=MDt([`
  & > svg {
    transition: transform 100ms;
  }
`])));m.memo(function(e){const{children:n,expanded:r=!1,fontSize:i,href:s,icon:o,id:a,linkAs:l,muted:u,onClick:d,padding:f=3,selected:h=!1,space:p=2,text:g,weight:v,...y}=e,x=m.useRef(null),b=m.useRef(null),_=K$e(),{path:C,registerItem:S,setExpanded:T,setFocusedElement:A}=_,k=m.useId(),I=a||k,D=m.useMemo(()=>C.concat([I||""]),[I,C]),R=D.join("/"),O=_.state[R],L=_.focusedElement===x.current,P=(O==null?void 0:O.expanded)===void 0?r:(O==null?void 0:O.expanded)||!1,$=_.focusedElement&&_.focusedElement===x.current?0:-1,B=m.useMemo(()=>({..._,level:_.level+1,path:D}),[D,_]),Q=m.useCallback(ie=>{d&&d(ie);const J=ie.target;J instanceof HTMLElement&&(J.getAttribute("data-ui")==="TreeItem"||J.closest('[data-ui="TreeItem__box"]'))&&(ie.stopPropagation(),T(R,!P),A(x.current))},[P,R,d,T,A]),V=m.useCallback(ie=>{if(L&&ie.key==="Enter"){const J=b.current||x.current;J==null||J.click()}},[L]);m.useEffect(()=>{if(x.current)return S(x.current,D.join("/"),P,h)},[P,D,S,h]);const Z=c.jsxs(ae,{padding:f,children:[c.jsxs(N,{marginRight:p,style:{visibility:o||n?"visible":"hidden",pointerEvents:"none"},children:[o&&c.jsx(G,{muted:u,size:i,weight:v,children:m.createElement(o)}),!o&&c.jsx($Dt,{muted:u,size:i,weight:v,children:c.jsx(x7,{style:{transform:P?"rotate(90deg)":void 0}})})]}),c.jsx(N,{flex:1,children:c.jsx(G,{muted:u,size:i,textOverflow:"ellipsis",weight:v,children:g})})]});return s?c.jsxs($pe,{"data-selected":h?"":void 0,"data-tree-id":I,"data-tree-key":R,"data-ui":"TreeItem",...y,onClick:Q,ref:x,role:"none",children:[c.jsx(Fpe,{$level:_.level,"aria-expanded":P,as:l,"data-ui":"TreeItem__box",href:s,ref:b,role:"treeitem",tabIndex:$,children:Z}),c.jsx(ZP.Provider,{value:B,children:n&&c.jsx(Lpe,{hidden:!P,children:n})})]}):c.jsxs($pe,{"data-selected":h?"":void 0,"data-ui":"TreeItem","data-tree-id":I,"data-tree-key":R,...y,"aria-expanded":P,onClick:Q,onKeyDown:V,ref:x,role:"treeitem",tabIndex:$,children:[c.jsx(Fpe,{$level:_.level,as:"div","data-ui":"TreeItem__box",children:Z}),c.jsx(ZP.Provider,{value:B,children:n&&c.jsx(Lpe,{expanded:P,children:n})})]})});var iq=function(t,e){return iq=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},iq(t,e)};function Xu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");iq(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var sq=function(){return sq=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},sq.apply(this,arguments)};function uw(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function fy(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return l([u,d])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Nv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function kd(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function FDt(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(kd(arguments[e]));return t}function Fh(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Q5(t){return this instanceof Q5?(this.v=t,this):new Q5(t)}function BDt(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(p){return new Promise(function(g,v){s.push([h,p,g,v])>1||a(h,p)})})}function a(h,p){try{l(r[h](p))}catch(g){f(s[0][3],g)}}function l(h){h.value instanceof Q5?Promise.resolve(h.value.v).then(u,d):f(s[0][2],h)}function u(h){a("next",h)}function d(h){a("throw",h)}function f(h,p){h(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function NDt(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Nv=="function"?Nv(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}function Sr(t){return typeof t=="function"}function iee(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var vV=iee(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function kA(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Vv=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=Nv(o),l=a.next();!l.done;l=a.next()){var u=l.value;u.remove(this)}}catch(v){e={error:v}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else o.remove(this);var d=this.initialTeardown;if(Sr(d))try{d()}catch(v){s=v instanceof vV?v.errors:[v]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var h=Nv(f),p=h.next();!p.done;p=h.next()){var g=p.value;try{Bpe(g)}catch(v){s=s??[],v instanceof vV?s=Fh(Fh([],kd(s)),kd(v.errors)):s.push(v)}}}catch(v){r={error:v}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}if(s)throw new vV(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)Bpe(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&kA(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&kA(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),Z$e=Vv.EMPTY;function X$e(t){return t instanceof Vv||t&&"closed"in t&&Sr(t.remove)&&Sr(t.add)&&Sr(t.unsubscribe)}function Bpe(t){Sr(t)?t():t.unsubscribe()}var Q$e={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},oq={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=oq.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,Fh([t,e],kd(n))):setTimeout.apply(void 0,Fh([t,e],kd(n)))},clearTimeout:function(t){var e=oq.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function J$e(t){oq.setTimeout(function(){throw t})}function Uv(){}function dO(t){t()}var see=function(t){Xu(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,X$e(n)&&n.add(r)):r.destination=zDt,r}return e.create=function(n,r,i){return new AA(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Vv),VDt=Function.prototype.bind;function yV(t,e){return VDt.call(t,e)}var UDt=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){ZR(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){ZR(r)}else ZR(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){ZR(n)}},t}(),AA=function(t){Xu(e,t);function e(n,r,i){var s=t.call(this)||this,o;if(Sr(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;s&&Q$e.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&yV(n.next,a),error:n.error&&yV(n.error,a),complete:n.complete&&yV(n.complete,a)}):o=n}return s.destination=new UDt(o),s}return e}(see);function ZR(t){J$e(t)}function HDt(t){throw t}var zDt={closed:!0,next:Uv,error:HDt,complete:Uv},oee=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function A0(t){return t}function WDt(t){return t.length===0?A0:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var On=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,s=qDt(e)?e:new AA(e,n,r);return dO(function(){var o=i,a=o.operator,l=o.source;s.add(a?a.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=Npe(n),new n(function(i,s){var o=new AA({next:function(a){try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[oee]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return WDt(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=Npe(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function Npe(t){var e;return(e=t??Q$e.Promise)!==null&&e!==void 0?e:Promise}function GDt(t){return t&&Sr(t.next)&&Sr(t.error)&&Sr(t.complete)}function qDt(t){return t&&t instanceof see||GDt(t)&&X$e(t)}function eFe(t){return Sr(t==null?void 0:t.lift)}function ci(t){return function(e){if(eFe(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Lr(t,e,n,r,i){return new tFe(t,e,n,r,i)}var tFe=function(t){Xu(e,t);function e(n,r,i,s,o,a){var l=t.call(this,n)||this;return l.onFinalize=o,l.shouldUnsubscribe=a,l._next=r?function(u){try{r(u)}catch(d){n.error(d)}}:t.prototype._next,l._error=s?function(u){try{s(u)}catch(d){n.error(d)}finally{this.unsubscribe()}}:t.prototype._error,l._complete=i?function(){try{i()}catch(u){n.error(u)}finally{this.unsubscribe()}}:t.prototype._complete,l}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(see);function bf(){return ci(function(t,e){var n=null;t._refCount++;var r=Lr(e,void 0,void 0,void 0,function(){if(!t||t._refCount<=0||0<--t._refCount){n=null;return}var i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var YDt=function(t){Xu(e,t);function e(n,r){var i=t.call(this)||this;return i.source=n,i.subjectFactory=r,i._subject=null,i._refCount=0,i._connection=null,eFe(n)&&(i.lift=n.lift),i}return e.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},e.prototype.getSubject=function(){var n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype._teardown=function(){this._refCount=0;var n=this._connection;this._subject=this._connection=null,n==null||n.unsubscribe()},e.prototype.connect=function(){var n=this,r=this._connection;if(!r){r=this._connection=new Vv;var i=this.getSubject();r.add(this.source.subscribe(Lr(i,void 0,function(){n._teardown(),i.complete()},function(s){n._teardown(),i.error(s)},function(){return n._teardown()}))),r.closed&&(this._connection=null,r=Vv.EMPTY)}return r},e.prototype.refCount=function(){return bf()(this)},e}(On),KDt=iee(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Pi=function(t){Xu(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new Vpe(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new KDt},e.prototype.next=function(n){var r=this;dO(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=Nv(r.currentObservers),a=o.next();!a.done;a=o.next()){var l=a.value;l.next(n)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;dO(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;dO(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?Z$e:(this.currentObservers=null,a.push(n),new Vv(function(){r.currentObservers=null,kA(a,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},e.prototype.asObservable=function(){var n=new On;return n.source=this,n},e.create=function(n,r){return new Vpe(n,r)},e}(On),Vpe=function(t){Xu(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:Z$e},e}(Pi),K_=function(t){Xu(e,t);function e(n){var r=t.call(this)||this;return r._value=n,r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(n){var r=t.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},e.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,s=n._value;if(r)throw i;return this._throwIfClosed(),s},e.prototype.next=function(n){t.prototype.next.call(this,this._value=n)},e}(Pi),aee={now:function(){return(aee.delegate||Date).now()},delegate:void 0},nFe=function(t){Xu(e,t);function e(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=aee);var s=t.call(this)||this;return s._bufferSize=n,s._windowTime=r,s._timestampProvider=i,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=r===1/0,s._bufferSize=Math.max(1,n),s._windowTime=Math.max(1,r),s}return e.prototype.next=function(n){var r=this,i=r.isStopped,s=r._buffer,o=r._infiniteTimeWindow,a=r._timestampProvider,l=r._windowTime;i||(s.push(n),!o&&s.push(a.now()+l)),this._trimBuffer(),t.prototype.next.call(this,n)},e.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,s=i._infiniteTimeWindow,o=i._buffer,a=o.slice(),l=0;l<a.length&&!n.closed;l+=s?1:2)n.next(a[l]);return this._checkFinalizedStatuses(n),r},e.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,s=n._buffer,o=n._infiniteTimeWindow,a=(o?1:2)*r;if(r<1/0&&a<s.length&&s.splice(0,s.length-a),!o){for(var l=i.now(),u=0,d=1;d<s.length&&s[d]<=l;d+=2)u=d;u&&s.splice(0,u+1)}},e}(Pi),ZDt=function(t){Xu(e,t);function e(n,r){return t.call(this)||this}return e.prototype.schedule=function(n,r){return this},e}(Vv),XP={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=XP.delegate;return i!=null&&i.setInterval?i.setInterval.apply(i,Fh([t,e],kd(n))):setInterval.apply(void 0,Fh([t,e],kd(n)))},clearInterval:function(t){var e=XP.delegate;return((e==null?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0},lee=function(t){Xu(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var s=this.id,o=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(o,s,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,r),this},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),XP.setInterval(n.flush.bind(n,this),i)},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&XP.clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var i=!1,s;try{this.work(n)}catch(o){i=!0,s=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s},e.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,s=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,kA(s,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(ZDt),XDt=1,bV,aq={};function Upe(t){return t in aq?(delete aq[t],!0):!1}var rFe={setImmediate:function(t){var e=XDt++;return aq[e]=!0,bV||(bV=Promise.resolve()),bV.then(function(){return Upe(e)&&t()}),e},clearImmediate:function(t){Upe(t)}},QDt=rFe.setImmediate,JDt=rFe.clearImmediate,QP={setImmediate:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=QP.delegate;return((n==null?void 0:n.setImmediate)||QDt).apply(void 0,Fh([],kd(t)))},clearImmediate:function(t){var e=QP.delegate;return((e==null?void 0:e.clearImmediate)||JDt)(t)},delegate:void 0},eRt=function(t){Xu(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,n,r,i):(n.actions.push(this),n._scheduled||(n._scheduled=QP.setImmediate(n.flush.bind(n,void 0))))},e.prototype.recycleAsyncId=function(n,r,i){var s;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return t.prototype.recycleAsyncId.call(this,n,r,i);var o=n.actions;r!=null&&((s=o[o.length-1])===null||s===void 0?void 0:s.id)!==r&&(QP.clearImmediate(r),n._scheduled===r&&(n._scheduled=void 0))},e}(lee),Hpe=function(){function t(e,n){n===void 0&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,e).schedule(r,n)},t.now=aee.now,t}(),uee=function(t){Xu(e,t);function e(n,r){r===void 0&&(r=Hpe.now);var i=t.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},e}(Hpe),tRt=function(t){Xu(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var i=this.actions,s;n=n||i.shift();do if(s=n.execute(n.state,n.delay))break;while((n=i[0])&&n.id===r&&i.shift());if(this._active=!1,s){for(;(n=i[0])&&n.id===r&&i.shift();)n.unsubscribe();throw s}},e}(uee),nRt=new tRt(eRt),Bh=new uee(lee),rRt=Bh,iRt=function(t){Xu(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return e.prototype.schedule=function(n,r){return r===void 0&&(r=0),r>0?t.prototype.schedule.call(this,n,r):(this.delay=r,this.state=n,this.scheduler.flush(this),this)},e.prototype.execute=function(n,r){return r>0||this.closed?t.prototype.execute.call(this,n,r):this._execute(n,r)},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0?t.prototype.requestAsyncId.call(this,n,r,i):(n.flush(this),0)},e}(lee),sRt=function(t){Xu(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(uee),zpe=new sRt(iRt),as=new On(function(t){return t.complete()});function $2(t){return t?oRt(t):as}function oRt(t){return new On(function(e){return t.schedule(function(){return e.complete()})})}function iFe(t){return t&&Sr(t.schedule)}function cee(t){return t[t.length-1]}function sFe(t){return Sr(cee(t))?t.pop():void 0}function VC(t){return iFe(cee(t))?t.pop():void 0}function aRt(t,e){return typeof cee(t)=="number"?t.pop():e}var dee=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function oFe(t){return Sr(t==null?void 0:t.then)}function aFe(t){return Sr(t[oee])}function lFe(t){return Symbol.asyncIterator&&Sr(t==null?void 0:t[Symbol.asyncIterator])}function uFe(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function lRt(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var cFe=lRt();function dFe(t){return Sr(t==null?void 0:t[cFe])}function fFe(t){return BDt(this,arguments,function(){var n,r,i,s;return fy(this,function(o){switch(o.label){case 0:n=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Q5(n.read())];case 3:return r=o.sent(),i=r.value,s=r.done,s?[4,Q5(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Q5(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function hFe(t){return Sr(t==null?void 0:t.getReader)}function Zi(t){if(t instanceof On)return t;if(t!=null){if(aFe(t))return uRt(t);if(dee(t))return cRt(t);if(oFe(t))return dRt(t);if(lFe(t))return pFe(t);if(dFe(t))return fRt(t);if(hFe(t))return hRt(t)}throw uFe(t)}function uRt(t){return new On(function(e){var n=t[oee]();if(Sr(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function cRt(t){return new On(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function dRt(t){return new On(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,J$e)})}function fRt(t){return new On(function(e){var n,r;try{for(var i=Nv(t),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()})}function pFe(t){return new On(function(e){pRt(t,e).catch(function(n){return e.error(n)})})}function hRt(t){return pFe(fFe(t))}function pRt(t,e){var n,r,i,s;return uw(this,void 0,void 0,function(){var o,a;return fy(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=NDt(t),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(o=r.value,e.next(o),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),i={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Dh(t,e,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function yk(t,e){return e===void 0&&(e=0),ci(function(n,r){n.subscribe(Lr(r,function(i){return Dh(r,t,function(){return r.next(i)},e)},function(){return Dh(r,t,function(){return r.complete()},e)},function(i){return Dh(r,t,function(){return r.error(i)},e)}))})}function fee(t,e){return e===void 0&&(e=0),ci(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function mRt(t,e){return Zi(t).pipe(fee(e),yk(e))}function gRt(t,e){return Zi(t).pipe(fee(e),yk(e))}function vRt(t,e){return new On(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function yRt(t,e){return new On(function(n){var r;return Dh(n,e,function(){r=t[cFe](),Dh(n,e,function(){var i,s,o;try{i=r.next(),s=i.value,o=i.done}catch(a){n.error(a);return}o?n.complete():n.next(s)},0,!0)}),function(){return Sr(r==null?void 0:r.return)&&r.return()}})}function mFe(t,e){if(!t)throw new Error("Iterable cannot be null");return new On(function(n){Dh(n,e,function(){var r=t[Symbol.asyncIterator]();Dh(n,e,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function bRt(t,e){return mFe(fFe(t),e)}function gFe(t,e){if(t!=null){if(aFe(t))return mRt(t,e);if(dee(t))return vRt(t,e);if(oFe(t))return gRt(t,e);if(lFe(t))return mFe(t,e);if(dFe(t))return yRt(t,e);if(hFe(t))return bRt(t,e)}throw uFe(t)}function Vr(t,e){return e?gFe(t,e):Zi(t)}function Re(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=VC(t);return Vr(t,n)}function il(t,e){var n=Sr(t)?t:function(){return t},r=function(i){return i.error(n())};return new On(e?function(i){return e.schedule(r,0,i)}:r)}function xRt(t){return!!t&&(t instanceof On||Sr(t.lift)&&Sr(t.subscribe))}var i9=iee(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function Ta(t,e){var n=typeof e=="object";return new Promise(function(r,i){var s=!1,o;t.subscribe({next:function(a){o=a,s=!0},error:i,complete:function(){s?r(o):n?r(e.defaultValue):i(new i9)}})})}function wRt(t){return t instanceof Date&&!isNaN(t)}function Be(t,e){return ci(function(n,r){var i=0;n.subscribe(Lr(r,function(s){r.next(t.call(e,s,i++))}))})}var _Rt=Array.isArray;function CRt(t,e){return _Rt(e)?t.apply(void 0,Fh([],kd(e))):t(e)}function vFe(t){return Be(function(e){return CRt(t,e)})}var ERt=Array.isArray,SRt=Object.getPrototypeOf,TRt=Object.prototype,kRt=Object.keys;function ARt(t){if(t.length===1){var e=t[0];if(ERt(e))return{args:e,keys:null};if(IRt(e)){var n=kRt(e);return{args:n.map(function(r){return e[r]}),keys:n}}}return{args:t,keys:null}}function IRt(t){return t&&typeof t=="object"&&SRt(t)===TRt}function DRt(t,e){return t.reduce(function(n,r,i){return n[r]=e[i],n},{})}function ol(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=VC(t),r=sFe(t),i=ARt(t),s=i.args,o=i.keys;if(s.length===0)return Vr([],n);var a=new On(RRt(s,n,o?function(l){return DRt(o,l)}:A0));return r?a.pipe(vFe(r)):a}function RRt(t,e,n){return n===void 0&&(n=A0),function(r){Wpe(e,function(){for(var i=t.length,s=new Array(i),o=i,a=i,l=function(d){Wpe(e,function(){var f=Vr(t[d],e),h=!1;f.subscribe(Lr(r,function(p){s[d]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},function(){--o||r.complete()}))},r)},u=0;u<i;u++)l(u)},r)}}function Wpe(t,e,n){t?Dh(n,t,e):e()}function jRt(t,e,n,r,i,s,o,a){var l=[],u=0,d=0,f=!1,h=function(){f&&!l.length&&!u&&e.complete()},p=function(v){return u<r?g(v):l.push(v)},g=function(v){s&&e.next(v),u++;var y=!1;Zi(n(v,d++)).subscribe(Lr(e,function(x){i==null||i(x),s?p(x):e.next(x)},function(){y=!0},void 0,function(){if(y)try{u--;for(var x=function(){var b=l.shift();o?Dh(e,o,function(){return g(b)}):g(b)};l.length&&u<r;)x();h()}catch(b){e.error(b)}}))};return t.subscribe(Lr(e,p,function(){f=!0,h()})),function(){a==null||a()}}function rt(t,e,n){return n===void 0&&(n=1/0),Sr(e)?rt(function(r,i){return Be(function(s,o){return e(r,s,i,o)})(Zi(t(r,i)))},n):(typeof e=="number"&&(n=e),ci(function(r,i){return jRt(r,i,t,n)}))}function s9(t){return t===void 0&&(t=1/0),rt(A0,t)}function ORt(){return s9(1)}function go(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ORt()(Vr(t,VC(t)))}function Ls(t){return new On(function(e){Zi(t()).subscribe(e)})}var LRt=["addListener","removeListener"],PRt=["addEventListener","removeEventListener"],MRt=["on","off"];function Hu(t,e,n,r){if(Sr(n)&&(r=n,n=void 0),r)return Hu(t,e,n).pipe(vFe(r));var i=kd(BRt(t)?PRt.map(function(a){return function(l){return t[a](e,l,n)}}):$Rt(t)?LRt.map(Gpe(t,e)):FRt(t)?MRt.map(Gpe(t,e)):[],2),s=i[0],o=i[1];if(!s&&dee(t))return rt(function(a){return Hu(a,e,n)})(Zi(t));if(!s)throw new TypeError("Invalid event target");return new On(function(a){var l=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return a.next(1<u.length?u:u[0])};return s(l),function(){return o(l)}})}function Gpe(t,e){return function(n){return function(r){return t[n](e,r)}}}function $Rt(t){return Sr(t.addListener)&&Sr(t.removeListener)}function FRt(t){return Sr(t.on)&&Sr(t.off)}function BRt(t){return Sr(t.addEventListener)&&Sr(t.removeEventListener)}function yFe(t,e,n){return Ls(function(){return t()?e:n})}function gu(t,e,n){t===void 0&&(t=0),n===void 0&&(n=rRt);var r=-1;return e!=null&&(iFe(e)?n=e:r=e),new On(function(i){var s=wRt(t)?+t-n.now():t;s<0&&(s=0);var o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function li(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=VC(t),r=aRt(t,1/0),i=t;return i.length?i.length===1?Zi(i[0]):s9(r)(Vr(i,n)):as}var hee=new On(Uv),NRt=Array.isArray;function VRt(t){return t.length===1&&NRt(t[0])?t[0]:t}function URt(t,e){return function(n,r){return!t.call(e,n,r)}}function dt(t,e){return ci(function(n,r){var i=0;n.subscribe(Lr(r,function(s){return t.call(e,s,i++)&&r.next(s)}))})}function bFe(t,e,n){return[dt(e,n)(Zi(t)),dt(URt(e,n))(Zi(t))]}function HRt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t=VRt(t),t.length===1?Zi(t[0]):new On(zRt(t))}function zRt(t){return function(e){for(var n=[],r=function(s){n.push(Zi(t[s]).subscribe(Lr(e,function(o){if(n){for(var a=0;a<n.length;a++)a!==s&&n[a].unsubscribe();n=null}e.next(o)})))},i=0;n&&!e.closed&&i<t.length;i++)r(i)}}function WRt(t,e){return new On(function(n){var r=t(),i=e(r),s=i?Zi(i):as;return s.subscribe(n),function(){r&&r.unsubscribe()}})}function GRt(t){return ci(function(e,n){var r=!1,i=null,s=null,o=!1,a=function(){if(s==null||s.unsubscribe(),s=null,r){r=!1;var u=i;i=null,n.next(u)}o&&n.complete()},l=function(){s=null,o&&n.complete()};e.subscribe(Lr(n,function(u){r=!0,i=u,s||Zi(t(u)).subscribe(s=Lr(n,a,l))},function(){o=!0,(!r||!s||s.closed)&&n.complete()}))})}function qRt(t,e){return e===void 0&&(e=Bh),GRt(function(){return gu(t,e)})}function t1(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=(e=VC(r))!==null&&e!==void 0?e:Bh,o=(n=r[0])!==null&&n!==void 0?n:null,a=r[1]||1/0;return ci(function(l,u){var d=[],f=!1,h=function(v){var y=v.buffer,x=v.subs;x.unsubscribe(),kA(d,v),u.next(y),f&&p()},p=function(){if(d){var v=new Vv;u.add(v);var y=[],x={buffer:y,subs:v};d.push(x),Dh(v,s,function(){return h(x)},t)}};o!==null&&o>=0?Dh(u,s,p,o,!0):f=!0,p();var g=Lr(u,function(v){var y,x,b=d.slice();try{for(var _=Nv(b),C=_.next();!C.done;C=_.next()){var S=C.value,T=S.buffer;T.push(v),a<=T.length&&h(S)}}catch(A){y={error:A}}finally{try{C&&!C.done&&(x=_.return)&&x.call(_)}finally{if(y)throw y.error}}},function(){for(;d!=null&&d.length;)u.next(d.shift().buffer);g==null||g.unsubscribe(),u.complete(),u.unsubscribe()},void 0,function(){return d=null});l.subscribe(g)})}function Or(t){return ci(function(e,n){var r=null,i=!1,s;r=e.subscribe(Lr(n,void 0,void 0,function(o){s=Zi(t(o,Or(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function xFe(t,e,n,r,i){return function(s,o){var a=n,l=e,u=0;s.subscribe(Lr(o,function(d){var f=u++;l=a?t(l,d,f):(a=!0,d),r&&o.next(l)},i&&function(){a&&o.next(l),o.complete()}))}}function wFe(t,e){return ci(xFe(t,e,arguments.length>=2,!1,!0))}var YRt=function(t,e){return t.push(e),t};function _Fe(){return ci(function(t,e){wFe(YRt,[])(t).subscribe(e)})}function JP(t,e){return Sr(e)?rt(t,e,1):rt(t,1)}function KRt(t){return new On(function(e){return t.subscribe(e)})}var ZRt={connector:function(){return new Pi}};function XRt(t,e){e===void 0&&(e=ZRt);var n=e.connector;return ci(function(r,i){var s=n();Zi(t(KRt(s))).subscribe(i),i.add(r.subscribe(s))})}function CFe(t){return ci(function(e,n){var r=!1,i=null,s=null,o=function(){if(s==null||s.unsubscribe(),s=null,r){r=!1;var a=i;i=null,n.next(a)}};e.subscribe(Lr(n,function(a){s==null||s.unsubscribe(),r=!0,i=a,s=Lr(n,o,Uv),Zi(t(a)).subscribe(s)},function(){o(),n.complete()},void 0,function(){i=s=null}))})}function o9(t,e){return e===void 0&&(e=Bh),ci(function(n,r){var i=null,s=null,o=null,a=function(){if(i){i.unsubscribe(),i=null;var u=s;s=null,r.next(u)}};function l(){var u=o+t,d=e.now();if(d<u){i=this.schedule(void 0,u-d),r.add(i);return}a()}n.subscribe(Lr(r,function(u){s=u,o=e.now(),i||(i=e.schedule(l,t),r.add(i))},function(){a(),r.complete()},void 0,function(){s=i=null}))})}function EFe(t){return ci(function(e,n){var r=!1;e.subscribe(Lr(n,function(i){r=!0,n.next(i)},function(){r||n.next(t),n.complete()}))})}function Ic(t){return t<=0?function(){return as}:ci(function(e,n){var r=0;e.subscribe(Lr(n,function(i){++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function QRt(){return ci(function(t,e){t.subscribe(Lr(e,Uv))})}function pee(t){return Be(function(){return t})}function SFe(t,e){return e?function(n){return go(e.pipe(Ic(1),QRt()),n.pipe(SFe(t)))}:rt(function(n,r){return Zi(t(n,r)).pipe(Ic(1),pee(n))})}function mee(t,e){e===void 0&&(e=Bh);var n=gu(t,e);return SFe(function(){return n})}function JRt(t,e){return ci(function(n,r){var i=new Set;n.subscribe(Lr(r,function(s){var o=t?t(s):s;i.has(o)||(i.add(o),r.next(s))})),e&&Zi(e).subscribe(Lr(r,function(){return i.clear()},Uv))})}function Xi(t,e){return e===void 0&&(e=A0),t=t??e4t,ci(function(n,r){var i,s=!0;n.subscribe(Lr(r,function(o){var a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function e4t(t,e){return t===e}function TFe(t){return t===void 0&&(t=t4t),ci(function(e,n){var r=!1;e.subscribe(Lr(n,function(i){r=!0,n.next(i)},function(){return r?n.complete():n.error(t())}))})}function t4t(){return new i9}function kFe(t,e){return e?function(n){return n.pipe(kFe(function(r,i){return Zi(t(r,i)).pipe(Be(function(s,o){return e(r,s,i,o)}))}))}:ci(function(n,r){var i=0,s=null,o=!1;n.subscribe(Lr(r,function(a){s||(s=Lr(r,void 0,function(){s=null,o&&r.complete()}),Zi(t(a,i++)).subscribe(s))},function(){o=!0,!s&&r.complete()}))})}function AFe(t){return ci(function(e,n){try{e.subscribe(n)}finally{n.add(t)}})}function gee(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?dt(function(i,s){return t(i,s,r)}):A0,Ic(1),n?EFe(e):TFe(function(){return new i9}))}}function IFe(t,e,n,r){return ci(function(i,s){var o;!e||typeof e=="function"?o=e:(n=e.duration,o=e.element,r=e.connector);var a=new Map,l=function(g){a.forEach(g),g(s)},u=function(g){return l(function(v){return v.error(g)})},d=0,f=!1,h=new tFe(s,function(g){try{var v=t(g),y=a.get(v);if(!y){a.set(v,y=r?r():new Pi);var x=p(v,y);if(s.next(x),n){var b=Lr(y,function(){y.complete(),b==null||b.unsubscribe()},void 0,void 0,function(){return a.delete(v)});h.add(Zi(n(x)).subscribe(b))}}y.next(o?o(g):g)}catch(_){u(_)}},function(){return l(function(g){return g.complete()})},u,function(){return a.clear()},function(){return f=!0,d===0});i.subscribe(h);function p(g,v){var y=new On(function(x){d++;var b=v.subscribe(x);return function(){b.unsubscribe(),--d===0&&f&&h.unsubscribe()}});return y.key=g,y}})}function n4t(t){return t<=0?function(){return as}:ci(function(e,n){var r=[];e.subscribe(Lr(n,function(i){r.push(i),t<r.length&&r.shift()},function(){var i,s;try{for(var o=Nv(r),a=o.next();!a.done;a=o.next()){var l=a.value;n.next(l)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}n.complete()},void 0,function(){r=null}))})}function r4t(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?dt(function(i,s){return t(i,s,r)}):A0,n4t(1),n?EFe(e):TFe(function(){return new i9}))}}var i4t=rt;function Hv(t,e,n){return n===void 0&&(n=1/0),Sr(e)?rt(function(){return t},e,n):(typeof e=="number"&&(n=e),rt(function(){return t},n))}function s4t(t,e){var n=Sr(t)?t:function(){return t};return Sr(e)?XRt(e,{connector:n}):function(r){return new YDt(r,n)}}function xf(t,e,n,r){n&&!Sr(n)&&(r=n);var i=Sr(n)?n:void 0;return function(s){return s4t(new nFe(t,e,r),i)(s)}}function Pf(t,e){return ci(xFe(t,e,arguments.length>=2,!0))}function Ad(t){t===void 0&&(t={});var e=t.connector,n=e===void 0?function(){return new Pi}:e,r=t.resetOnError,i=r===void 0?!0:r,s=t.resetOnComplete,o=s===void 0?!0:s,a=t.resetOnRefCountZero,l=a===void 0?!0:a;return function(u){var d,f,h,p=0,g=!1,v=!1,y=function(){f==null||f.unsubscribe(),f=void 0},x=function(){y(),d=h=void 0,g=v=!1},b=function(){var _=d;x(),_==null||_.unsubscribe()};return ci(function(_,C){p++,!v&&!g&&y();var S=h=h??n();C.add(function(){p--,p===0&&!v&&!g&&(f=xV(b,l))}),S.subscribe(C),!d&&p>0&&(d=new AA({next:function(T){return S.next(T)},error:function(T){v=!0,y(),f=xV(x,i,T),S.error(T)},complete:function(){g=!0,y(),f=xV(x,o),S.complete()}}),Zi(_).subscribe(d))})(u)}}function xV(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(e===!0){t();return}if(e!==!1){var i=new AA({next:function(){i.unsubscribe(),t()}});return Zi(e.apply(void 0,Fh([],kd(n)))).subscribe(i)}}function $a(t,e,n){var r,i,s,o,a=!1;return t&&typeof t=="object"?(r=t.bufferSize,o=r===void 0?1/0:r,i=t.windowTime,e=i===void 0?1/0:i,s=t.refCount,a=s===void 0?!1:s,n=t.scheduler):o=t??1/0,Ad({connector:function(){return new nFe(o,e,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function DFe(t){return dt(function(e,n){return t<=n})}function vu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=VC(t);return ci(function(r,i){(n?go(t,r,n):go(t,r)).subscribe(i)})}function Kt(t,e){return ci(function(n,r){var i=null,s=0,o=!1,a=function(){return o&&!i&&r.complete()};n.subscribe(Lr(r,function(l){i==null||i.unsubscribe();var u=0,d=s++;Zi(t(l,d)).subscribe(i=Lr(r,function(f){return r.next(e?e(l,f,d,u++):f)},function(){i=null,a()}))},function(){o=!0,a()}))})}function o4t(t,e){return Sr(e)?Kt(function(){return t},e):Kt(function(){return t})}function pI(t){return ci(function(e,n){Zi(t).subscribe(Lr(n,function(){return n.complete()},Uv)),!n.closed&&e.subscribe(n)})}function Ei(t,e,n){var r=Sr(t)||e||n?{next:t,error:e,complete:n}:t;return r?ci(function(i,s){var o;(o=r.subscribe)===null||o===void 0||o.call(r);var a=!0;i.subscribe(Lr(s,function(l){var u;(u=r.next)===null||u===void 0||u.call(r,l),s.next(l)},function(){var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},function(l){var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),s.error(l)},function(){var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):A0}function RFe(t,e){return ci(function(n,r){var i=e??{},s=i.leading,o=s===void 0?!0:s,a=i.trailing,l=a===void 0?!1:a,u=!1,d=null,f=null,h=!1,p=function(){f==null||f.unsubscribe(),f=null,l&&(y(),h&&r.complete())},g=function(){f=null,h&&r.complete()},v=function(x){return f=Zi(t(x)).subscribe(Lr(r,p,g))},y=function(){if(u){u=!1;var x=d;d=null,r.next(x),!h&&v(x)}};n.subscribe(Lr(r,function(x){u=!0,d=x,!(f&&!f.closed)&&(o?y():v(x))},function(){h=!0,!(l&&u&&f&&!f.closed)&&r.complete()}))})}function eM(t,e,n){e===void 0&&(e=Bh);var r=gu(t,e);return RFe(function(){return r},n)}function oa(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=sFe(t);return ci(function(r,i){for(var s=t.length,o=new Array(s),a=t.map(function(){return!1}),l=!1,u=function(f){Zi(t[f]).subscribe(Lr(i,function(h){o[f]=h,!l&&!a[f]&&(a[f]=!0,(l=a.every(A0))&&(a=null))},Uv))},d=0;d<s;d++)u(d);r.subscribe(Lr(i,function(f){if(l){var h=Fh([f],kd(o));i.next(n?n.apply(void 0,Fh([],kd(h))):h)}}))})}function a4t(t,e){var n=m.useCallback(function(){var o=new K_(t),a=o.asObservable().pipe(Xi());return[e?a.pipe(e):a,o]},[]),r=m.useRef();r.current||(r.current=n());var i=r.current[0];m.useEffect(function(){if(r.current){var o=r.current,a=o[1];a.next(t)}},[t,r]);var s=m.useRef(!1);return m.useEffect(function(){return s.current&&(r.current||(r.current=n()),s.current=!1),function(){if(r.current){s.current=!0;var o=r.current,a=o[1];a.complete(),r.current=void 0}}},[]),i}var jFe={exports:{}},OFe={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_=m;function l4t(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var u4t=typeof Object.is=="function"?Object.is:l4t,c4t=Z_.useState,d4t=Z_.useEffect,f4t=Z_.useLayoutEffect,h4t=Z_.useDebugValue;function p4t(t,e){var n=e(),r=c4t({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return f4t(function(){i.value=n,i.getSnapshot=e,wV(i)&&s({inst:i})},[t,n,e]),d4t(function(){return wV(i)&&s({inst:i}),t(function(){wV(i)&&s({inst:i})})},[t]),h4t(n),n}function wV(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!u4t(t,n)}catch{return!0}}function m4t(t,e){return e()}var g4t=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m4t:p4t;OFe.useSyncExternalStore=Z_.useSyncExternalStore!==void 0?Z_.useSyncExternalStore:g4t;jFe.exports=OFe;var LFe=jFe.exports;function lq(t){return typeof t=="function"?t():t}var _V=new WeakMap;function qpe(t,e){if(!_V.has(t)){var n={currentValue:e};n.observable=t.pipe($a({refCount:!0,bufferSize:1}),Ei(function(r){return n.currentValue=r})),n.subscription=n.observable.subscribe(),_V.set(t,n)}return _V.get(t)}function v4t(t,e){var n=m.useMemo(function(){var o=qpe(t,lq(e));return o.subscription.closed&&(o.subscription=o.observable.subscribe()),[function(){return o.currentValue},function(l){var u=o.observable.subscribe(l);return function(){u.unsubscribe()}}]},[t]),r=n[0],i=n[1],s=m.useRef(!1);return m.useEffect(function(){var o=qpe(t,lq(e));return s.current&&(o.subscription.closed&&(o.subscription=o.observable.subscribe()),s.current=!1),function(){s.current=!o.subscription.closed,o.subscription.unsubscribe()}},[t]),LFe.useSyncExternalStore(i,r)}function Va(t,e,n){return v4t(m.useMemo(function(){return lq(t)},e),n)}var y4t=function(t){return t};function PFe(t){t===void 0&&(t=y4t);var e=new Pi;return[e.pipe(t),function(n){return e.next(n)}]}var b4t=[];function vee(t,e){e===void 0&&(e=b4t);var n=m.useRef();n.current||(n.current=PFe());var r=n.current,i=r[0],s=r[1],o=m.useCallback(t,e);return m.useEffect(function(){var a=i.pipe(o).subscribe();return function(){a.unsubscribe()}},[i,s,o]),s}function x4t(){this.__data__=[],this.size=0}var w4t=x4t;function _4t(t,e){return t===e||t!==t&&e!==e}var a9=_4t,C4t=a9;function E4t(t,e){for(var n=t.length;n--;)if(C4t(t[n][0],e))return n;return-1}var l9=E4t,S4t=l9,T4t=Array.prototype,k4t=T4t.splice;function A4t(t){var e=this.__data__,n=S4t(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():k4t.call(e,n,1),--this.size,!0}var I4t=A4t,D4t=l9;function R4t(t){var e=this.__data__,n=D4t(e,t);return n<0?void 0:e[n][1]}var j4t=R4t,O4t=l9;function L4t(t){return O4t(this.__data__,t)>-1}var P4t=L4t,M4t=l9;function $4t(t,e){var n=this.__data__,r=M4t(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var F4t=$4t,B4t=w4t,N4t=I4t,V4t=j4t,U4t=P4t,H4t=F4t;function UC(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}UC.prototype.clear=B4t;UC.prototype.delete=N4t;UC.prototype.get=V4t;UC.prototype.has=U4t;UC.prototype.set=H4t;var u9=UC,z4t=u9;function W4t(){this.__data__=new z4t,this.size=0}var G4t=W4t;function q4t(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Y4t=q4t;function K4t(t){return this.__data__.get(t)}var Z4t=K4t;function X4t(t){return this.__data__.has(t)}var Q4t=X4t,J4t=sy,ejt=Bf,tjt="[object AsyncFunction]",njt="[object Function]",rjt="[object GeneratorFunction]",ijt="[object Proxy]";function sjt(t){if(!ejt(t))return!1;var e=J4t(t);return e==njt||e==rjt||e==tjt||e==ijt}var MFe=sjt,ojt=Kh,ajt=ojt["__core-js_shared__"],ljt=ajt,CV=ljt,Ype=function(){var t=/[^.]+$/.exec(CV&&CV.keys&&CV.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function ujt(t){return!!Ype&&Ype in t}var cjt=ujt,djt=Function.prototype,fjt=djt.toString;function hjt(t){if(t!=null){try{return fjt.call(t)}catch{}try{return t+""}catch{}}return""}var $Fe=hjt,pjt=MFe,mjt=cjt,gjt=Bf,vjt=$Fe,yjt=/[\\^$.*+?()[\]{}|]/g,bjt=/^\[object .+?Constructor\]$/,xjt=Function.prototype,wjt=Object.prototype,_jt=xjt.toString,Cjt=wjt.hasOwnProperty,Ejt=RegExp("^"+_jt.call(Cjt).replace(yjt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Sjt(t){if(!gjt(t)||mjt(t))return!1;var e=pjt(t)?Ejt:bjt;return e.test(vjt(t))}var Tjt=Sjt;function kjt(t,e){return t==null?void 0:t[e]}var Ajt=kjt,Ijt=Tjt,Djt=Ajt;function Rjt(t,e){var n=Djt(t,e);return Ijt(n)?n:void 0}var cw=Rjt,jjt=cw,Ojt=Kh,Ljt=jjt(Ojt,"Map"),yee=Ljt,Pjt=cw,Mjt=Pjt(Object,"create"),c9=Mjt,Kpe=c9;function $jt(){this.__data__=Kpe?Kpe(null):{},this.size=0}var Fjt=$jt;function Bjt(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Njt=Bjt,Vjt=c9,Ujt="__lodash_hash_undefined__",Hjt=Object.prototype,zjt=Hjt.hasOwnProperty;function Wjt(t){var e=this.__data__;if(Vjt){var n=e[t];return n===Ujt?void 0:n}return zjt.call(e,t)?e[t]:void 0}var Gjt=Wjt,qjt=c9,Yjt=Object.prototype,Kjt=Yjt.hasOwnProperty;function Zjt(t){var e=this.__data__;return qjt?e[t]!==void 0:Kjt.call(e,t)}var Xjt=Zjt,Qjt=c9,Jjt="__lodash_hash_undefined__";function eOt(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Qjt&&e===void 0?Jjt:e,this}var tOt=eOt,nOt=Fjt,rOt=Njt,iOt=Gjt,sOt=Xjt,oOt=tOt;function HC(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}HC.prototype.clear=nOt;HC.prototype.delete=rOt;HC.prototype.get=iOt;HC.prototype.has=sOt;HC.prototype.set=oOt;var aOt=HC,Zpe=aOt,lOt=u9,uOt=yee;function cOt(){this.size=0,this.__data__={hash:new Zpe,map:new(uOt||lOt),string:new Zpe}}var dOt=cOt;function fOt(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var hOt=fOt,pOt=hOt;function mOt(t,e){var n=t.__data__;return pOt(e)?n[typeof e=="string"?"string":"hash"]:n.map}var d9=mOt,gOt=d9;function vOt(t){var e=gOt(this,t).delete(t);return this.size-=e?1:0,e}var yOt=vOt,bOt=d9;function xOt(t){return bOt(this,t).get(t)}var wOt=xOt,_Ot=d9;function COt(t){return _Ot(this,t).has(t)}var EOt=COt,SOt=d9;function TOt(t,e){var n=SOt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var kOt=TOt,AOt=dOt,IOt=yOt,DOt=wOt,ROt=EOt,jOt=kOt;function zC(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}zC.prototype.clear=AOt;zC.prototype.delete=IOt;zC.prototype.get=DOt;zC.prototype.has=ROt;zC.prototype.set=jOt;var bee=zC,OOt=u9,LOt=yee,POt=bee,MOt=200;function $Ot(t,e){var n=this.__data__;if(n instanceof OOt){var r=n.__data__;if(!LOt||r.length<MOt-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new POt(r)}return n.set(t,e),this.size=n.size,this}var FOt=$Ot,BOt=u9,NOt=G4t,VOt=Y4t,UOt=Z4t,HOt=Q4t,zOt=FOt;function WC(t){var e=this.__data__=new BOt(t);this.size=e.size}WC.prototype.clear=NOt;WC.prototype.delete=VOt;WC.prototype.get=UOt;WC.prototype.has=HOt;WC.prototype.set=zOt;var xee=WC,WOt="__lodash_hash_undefined__";function GOt(t){return this.__data__.set(t,WOt),this}var qOt=GOt;function YOt(t){return this.__data__.has(t)}var KOt=YOt,ZOt=bee,XOt=qOt,QOt=KOt;function tM(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ZOt;++e<n;)this.add(t[e])}tM.prototype.add=tM.prototype.push=XOt;tM.prototype.has=QOt;var f9=tM;function JOt(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var eLt=JOt;function tLt(t,e){return t.has(e)}var h9=tLt,nLt=f9,rLt=eLt,iLt=h9,sLt=1,oLt=2;function aLt(t,e,n,r,i,s){var o=n&sLt,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,p=n&oLt?new nLt:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var g=t[f],v=e[f];if(r)var y=o?r(v,g,f,e,t,s):r(g,v,f,t,e,s);if(y!==void 0){if(y)continue;h=!1;break}if(p){if(!rLt(e,function(x,b){if(!iLt(p,b)&&(g===x||i(g,x,n,r,s)))return p.push(b)})){h=!1;break}}else if(!(g===v||i(g,v,n,r,s))){h=!1;break}}return s.delete(t),s.delete(e),h}var FFe=aLt,lLt=Kh,uLt=lLt.Uint8Array,BFe=uLt;function cLt(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var dLt=cLt;function fLt(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var wee=fLt,Xpe=kC,Qpe=BFe,hLt=a9,pLt=FFe,mLt=dLt,gLt=wee,vLt=1,yLt=2,bLt="[object Boolean]",xLt="[object Date]",wLt="[object Error]",_Lt="[object Map]",CLt="[object Number]",ELt="[object RegExp]",SLt="[object Set]",TLt="[object String]",kLt="[object Symbol]",ALt="[object ArrayBuffer]",ILt="[object DataView]",Jpe=Xpe?Xpe.prototype:void 0,EV=Jpe?Jpe.valueOf:void 0;function DLt(t,e,n,r,i,s,o){switch(n){case ILt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ALt:return!(t.byteLength!=e.byteLength||!s(new Qpe(t),new Qpe(e)));case bLt:case xLt:case CLt:return hLt(+t,+e);case wLt:return t.name==e.name&&t.message==e.message;case ELt:case TLt:return t==e+"";case _Lt:var a=mLt;case SLt:var l=r&vLt;if(a||(a=gLt),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=yLt,o.set(t,e);var d=pLt(a(t),a(e),r,i,s,o);return o.delete(t),d;case kLt:if(EV)return EV.call(t)==EV.call(e)}return!1}var RLt=DLt;function jLt(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var _ee=jLt,OLt=Array.isArray,Jo=OLt,LLt=_ee,PLt=Jo;function MLt(t,e,n){var r=e(t);return PLt(t)?r:LLt(r,n(t))}var NFe=MLt;function $Lt(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var VFe=$Lt;function FLt(){return[]}var UFe=FLt,BLt=VFe,NLt=UFe,VLt=Object.prototype,ULt=VLt.propertyIsEnumerable,eme=Object.getOwnPropertySymbols,HLt=eme?function(t){return t==null?[]:(t=Object(t),BLt(eme(t),function(e){return ULt.call(t,e)}))}:NLt,Cee=HLt;function zLt(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var WLt=zLt,GLt=sy,qLt=Nf,YLt="[object Arguments]";function KLt(t){return qLt(t)&&GLt(t)==YLt}var ZLt=KLt,tme=ZLt,XLt=Nf,HFe=Object.prototype,QLt=HFe.hasOwnProperty,JLt=HFe.propertyIsEnumerable,ePt=tme(function(){return arguments}())?tme:function(t){return XLt(t)&&QLt.call(t,"callee")&&!JLt.call(t,"callee")},p9=ePt,nM={exports:{}};function tPt(){return!1}var nPt=tPt;nM.exports;(function(t,e){var n=Kh,r=nPt,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(nM,nM.exports);var m9=nM.exports,rPt=9007199254740991,iPt=/^(?:0|[1-9]\d*)$/;function sPt(t,e){var n=typeof t;return e=e??rPt,!!e&&(n=="number"||n!="symbol"&&iPt.test(t))&&t>-1&&t%1==0&&t<e}var g9=sPt,oPt=9007199254740991;function aPt(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=oPt}var Eee=aPt,lPt=sy,uPt=Eee,cPt=Nf,dPt="[object Arguments]",fPt="[object Array]",hPt="[object Boolean]",pPt="[object Date]",mPt="[object Error]",gPt="[object Function]",vPt="[object Map]",yPt="[object Number]",bPt="[object Object]",xPt="[object RegExp]",wPt="[object Set]",_Pt="[object String]",CPt="[object WeakMap]",EPt="[object ArrayBuffer]",SPt="[object DataView]",TPt="[object Float32Array]",kPt="[object Float64Array]",APt="[object Int8Array]",IPt="[object Int16Array]",DPt="[object Int32Array]",RPt="[object Uint8Array]",jPt="[object Uint8ClampedArray]",OPt="[object Uint16Array]",LPt="[object Uint32Array]",Is={};Is[TPt]=Is[kPt]=Is[APt]=Is[IPt]=Is[DPt]=Is[RPt]=Is[jPt]=Is[OPt]=Is[LPt]=!0;Is[dPt]=Is[fPt]=Is[EPt]=Is[hPt]=Is[SPt]=Is[pPt]=Is[mPt]=Is[gPt]=Is[vPt]=Is[yPt]=Is[bPt]=Is[xPt]=Is[wPt]=Is[_Pt]=Is[CPt]=!1;function PPt(t){return cPt(t)&&uPt(t.length)&&!!Is[lPt(t)]}var MPt=PPt;function $Pt(t){return function(e){return t(e)}}var GC=$Pt,rM={exports:{}};rM.exports;(function(t,e){var n=NPe,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(rM,rM.exports);var See=rM.exports,FPt=MPt,BPt=GC,nme=See,rme=nme&&nme.isTypedArray,NPt=rme?BPt(rme):FPt,Tee=NPt,VPt=WLt,UPt=p9,HPt=Jo,zPt=m9,WPt=g9,GPt=Tee,qPt=Object.prototype,YPt=qPt.hasOwnProperty;function KPt(t,e){var n=HPt(t),r=!n&&UPt(t),i=!n&&!r&&zPt(t),s=!n&&!r&&!i&&GPt(t),o=n||r||i||s,a=o?VPt(t.length,String):[],l=a.length;for(var u in t)(e||YPt.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||WPt(u,l)))&&a.push(u);return a}var zFe=KPt,ZPt=Object.prototype;function XPt(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ZPt;return t===n}var v9=XPt;function QPt(t,e){return function(n){return t(e(n))}}var WFe=QPt,JPt=WFe,eMt=JPt(Object.keys,Object),tMt=eMt,nMt=v9,rMt=tMt,iMt=Object.prototype,sMt=iMt.hasOwnProperty;function oMt(t){if(!nMt(t))return rMt(t);var e=[];for(var n in Object(t))sMt.call(t,n)&&n!="constructor"&&e.push(n);return e}var GFe=oMt,aMt=MFe,lMt=Eee;function uMt(t){return t!=null&&lMt(t.length)&&!aMt(t)}var hy=uMt,cMt=zFe,dMt=GFe,fMt=hy;function hMt(t){return fMt(t)?cMt(t):dMt(t)}var py=hMt,pMt=NFe,mMt=Cee,gMt=py;function vMt(t){return pMt(t,gMt,mMt)}var qFe=vMt,ime=qFe,yMt=1,bMt=Object.prototype,xMt=bMt.hasOwnProperty;function wMt(t,e,n,r,i,s){var o=n&yMt,a=ime(t),l=a.length,u=ime(e),d=u.length;if(l!=d&&!o)return!1;for(var f=l;f--;){var h=a[f];if(!(o?h in e:xMt.call(e,h)))return!1}var p=s.get(t),g=s.get(e);if(p&&g)return p==e&&g==t;var v=!0;s.set(t,e),s.set(e,t);for(var y=o;++f<l;){h=a[f];var x=t[h],b=e[h];if(r)var _=o?r(b,x,h,e,t,s):r(x,b,h,t,e,s);if(!(_===void 0?x===b||i(x,b,n,r,s):_)){v=!1;break}y||(y=h=="constructor")}if(v&&!y){var C=t.constructor,S=e.constructor;C!=S&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof S=="function"&&S instanceof S)&&(v=!1)}return s.delete(t),s.delete(e),v}var _Mt=wMt,CMt=cw,EMt=Kh,SMt=CMt(EMt,"DataView"),TMt=SMt,kMt=cw,AMt=Kh,IMt=kMt(AMt,"Promise"),DMt=IMt,RMt=cw,jMt=Kh,OMt=RMt(jMt,"Set"),YFe=OMt,LMt=cw,PMt=Kh,MMt=LMt(PMt,"WeakMap"),KFe=MMt,uq=TMt,cq=yee,dq=DMt,fq=YFe,hq=KFe,ZFe=sy,qC=$Fe,sme="[object Map]",$Mt="[object Object]",ome="[object Promise]",ame="[object Set]",lme="[object WeakMap]",ume="[object DataView]",FMt=qC(uq),BMt=qC(cq),NMt=qC(dq),VMt=qC(fq),UMt=qC(hq),xb=ZFe;(uq&&xb(new uq(new ArrayBuffer(1)))!=ume||cq&&xb(new cq)!=sme||dq&&xb(dq.resolve())!=ome||fq&&xb(new fq)!=ame||hq&&xb(new hq)!=lme)&&(xb=function(t){var e=ZFe(t),n=e==$Mt?t.constructor:void 0,r=n?qC(n):"";if(r)switch(r){case FMt:return ume;case BMt:return sme;case NMt:return ome;case VMt:return ame;case UMt:return lme}return e});var mI=xb,SV=xee,HMt=FFe,zMt=RLt,WMt=_Mt,cme=mI,dme=Jo,fme=m9,GMt=Tee,qMt=1,hme="[object Arguments]",pme="[object Array]",XR="[object Object]",YMt=Object.prototype,mme=YMt.hasOwnProperty;function KMt(t,e,n,r,i,s){var o=dme(t),a=dme(e),l=o?pme:cme(t),u=a?pme:cme(e);l=l==hme?XR:l,u=u==hme?XR:u;var d=l==XR,f=u==XR,h=l==u;if(h&&fme(t)){if(!fme(e))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new SV),o||GMt(t)?HMt(t,e,n,r,i,s):zMt(t,e,l,n,r,i,s);if(!(n&qMt)){var p=d&&mme.call(t,"__wrapped__"),g=f&&mme.call(e,"__wrapped__");if(p||g){var v=p?t.value():t,y=g?e.value():e;return s||(s=new SV),i(v,y,n,r,s)}}return h?(s||(s=new SV),WMt(t,e,n,r,i,s)):!1}var ZMt=KMt,XMt=ZMt,gme=Nf;function XFe(t,e,n,r,i){return t===e?!0:t==null||e==null||!gme(t)&&!gme(e)?t!==t&&e!==e:XMt(t,e,n,r,XFe,i)}var kee=XFe,QMt=kee;function JMt(t,e){return QMt(t,e)}var e6t=JMt;const Ur=vt(e6t);var _x=[],t6t=function(){return _x.some(function(t){return t.activeTargets.length>0})},n6t=function(){return _x.some(function(t){return t.skippedTargets.length>0})},vme="ResizeObserver loop completed with undelivered notifications.",r6t=function(){var t;typeof ErrorEvent=="function"?t=new ErrorEvent("error",{message:vme}):(t=document.createEvent("Event"),t.initEvent("error",!1,!1),t.message=vme),window.dispatchEvent(t)},IA;(function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(IA||(IA={}));var Cx=function(t){return Object.freeze(t)},i6t=function(){function t(e,n){this.inlineSize=e,this.blockSize=n,Cx(this)}return t}(),QFe=function(){function t(e,n,r,i){return this.x=e,this.y=n,this.width=r,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Cx(this)}return t.prototype.toJSON=function(){var e=this,n=e.x,r=e.y,i=e.top,s=e.right,o=e.bottom,a=e.left,l=e.width,u=e.height;return{x:n,y:r,top:i,right:s,bottom:o,left:a,width:l,height:u}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),Aee=function(t){return t instanceof SVGElement&&"getBBox"in t},JFe=function(t){if(Aee(t)){var e=t.getBBox(),n=e.width,r=e.height;return!n&&!r}var i=t,s=i.offsetWidth,o=i.offsetHeight;return!(s||o||t.getClientRects().length)},yme=function(t){var e;if(t instanceof Element)return!0;var n=(e=t==null?void 0:t.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(n&&t instanceof n.Element)},s6t=function(t){switch(t.tagName){case"INPUT":if(t.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},bk=typeof window<"u"?window:{},QR=new WeakMap,bme=/auto|scroll/,o6t=/^tb|vertical/,a6t=/msie|trident/i.test(bk.navigator&&bk.navigator.userAgent),dp=function(t){return parseFloat(t||"0")},J5=function(t,e,n){return t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=!1),new i6t((n?e:t)||0,(n?t:e)||0)},xme=Cx({devicePixelContentBoxSize:J5(),borderBoxSize:J5(),contentBoxSize:J5(),contentRect:new QFe(0,0,0,0)}),eBe=function(t,e){if(e===void 0&&(e=!1),QR.has(t)&&!e)return QR.get(t);if(JFe(t))return QR.set(t,xme),xme;var n=getComputedStyle(t),r=Aee(t)&&t.ownerSVGElement&&t.getBBox(),i=!a6t&&n.boxSizing==="border-box",s=o6t.test(n.writingMode||""),o=!r&&bme.test(n.overflowY||""),a=!r&&bme.test(n.overflowX||""),l=r?0:dp(n.paddingTop),u=r?0:dp(n.paddingRight),d=r?0:dp(n.paddingBottom),f=r?0:dp(n.paddingLeft),h=r?0:dp(n.borderTopWidth),p=r?0:dp(n.borderRightWidth),g=r?0:dp(n.borderBottomWidth),v=r?0:dp(n.borderLeftWidth),y=f+u,x=l+d,b=v+p,_=h+g,C=a?t.offsetHeight-_-t.clientHeight:0,S=o?t.offsetWidth-b-t.clientWidth:0,T=i?y+b:0,A=i?x+_:0,k=r?r.width:dp(n.width)-T-S,I=r?r.height:dp(n.height)-A-C,D=k+y+S+b,R=I+x+C+_,O=Cx({devicePixelContentBoxSize:J5(Math.round(k*devicePixelRatio),Math.round(I*devicePixelRatio),s),borderBoxSize:J5(D,R,s),contentBoxSize:J5(k,I,s),contentRect:new QFe(f,l,k,I)});return QR.set(t,O),O},tBe=function(t,e,n){var r=eBe(t,n),i=r.borderBoxSize,s=r.contentBoxSize,o=r.devicePixelContentBoxSize;switch(e){case IA.DEVICE_PIXEL_CONTENT_BOX:return o;case IA.BORDER_BOX:return i;default:return s}},l6t=function(){function t(e){var n=eBe(e);this.target=e,this.contentRect=n.contentRect,this.borderBoxSize=Cx([n.borderBoxSize]),this.contentBoxSize=Cx([n.contentBoxSize]),this.devicePixelContentBoxSize=Cx([n.devicePixelContentBoxSize])}return t}(),nBe=function(t){if(JFe(t))return 1/0;for(var e=0,n=t.parentNode;n;)e+=1,n=n.parentNode;return e},u6t=function(){var t=1/0,e=[];_x.forEach(function(o){if(o.activeTargets.length!==0){var a=[];o.activeTargets.forEach(function(u){var d=new l6t(u.target),f=nBe(u.target);a.push(d),u.lastReportedSize=tBe(u.target,u.observedBox),f<t&&(t=f)}),e.push(function(){o.callback.call(o.observer,a,o.observer)}),o.activeTargets.splice(0,o.activeTargets.length)}});for(var n=0,r=e;n<r.length;n++){var i=r[n];i()}return t},wme=function(t){_x.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(i){i.isActive()&&(nBe(i.target)>t?n.activeTargets.push(i):n.skippedTargets.push(i))})})},c6t=function(){var t=0;for(wme(t);t6t();)t=u6t(),wme(t);return n6t()&&r6t(),t>0},TV,rBe=[],d6t=function(){return rBe.splice(0).forEach(function(t){return t()})},f6t=function(t){if(!TV){var e=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return d6t()}).observe(n,r),TV=function(){n.textContent="".concat(e?e--:e++)}}rBe.push(t),TV()},h6t=function(t){f6t(function(){requestAnimationFrame(t)})},fO=0,p6t=function(){return!!fO},m6t=250,g6t={attributes:!0,characterData:!0,childList:!0,subtree:!0},_me=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Cme=function(t){return t===void 0&&(t=0),Date.now()+t},kV=!1,v6t=function(){function t(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return t.prototype.run=function(e){var n=this;if(e===void 0&&(e=m6t),!kV){kV=!0;var r=Cme(e);h6t(function(){var i=!1;try{i=c6t()}finally{if(kV=!1,e=r-Cme(),!p6t())return;i?n.run(1e3):e>0?n.run(e):n.start()}})}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var e=this,n=function(){return e.observer&&e.observer.observe(document.body,g6t)};document.body?n():bk.addEventListener("DOMContentLoaded",n)},t.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),_me.forEach(function(n){return bk.addEventListener(n,e.listener,!0)}))},t.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),_me.forEach(function(n){return bk.removeEventListener(n,e.listener,!0)}),this.stopped=!0)},t}(),pq=new v6t,Eme=function(t){!fO&&t>0&&pq.start(),fO+=t,!fO&&pq.stop()},y6t=function(t){return!Aee(t)&&!s6t(t)&&getComputedStyle(t).display==="inline"},b6t=function(){function t(e,n){this.target=e,this.observedBox=n||IA.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var e=tBe(this.target,this.observedBox,!0);return y6t(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),x6t=function(){function t(e,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=n}return t}(),JR=new WeakMap,Sme=function(t,e){for(var n=0;n<t.length;n+=1)if(t[n].target===e)return n;return-1},e4=function(){function t(){}return t.connect=function(e,n){var r=new x6t(e,n);JR.set(e,r)},t.observe=function(e,n,r){var i=JR.get(e),s=i.observationTargets.length===0;Sme(i.observationTargets,n)<0&&(s&&_x.push(i),i.observationTargets.push(new b6t(n,r&&r.box)),Eme(1),pq.schedule())},t.unobserve=function(e,n){var r=JR.get(e),i=Sme(r.observationTargets,n),s=r.observationTargets.length===1;i>=0&&(s&&_x.splice(_x.indexOf(r),1),r.observationTargets.splice(i,1),Eme(-1))},t.disconnect=function(e){var n=this,r=JR.get(e);r.observationTargets.slice().forEach(function(i){return n.unobserve(e,i.target)}),r.activeTargets.splice(0,r.activeTargets.length)},t}(),w6t=function(){function t(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");e4.connect(this,e)}return t.prototype.observe=function(e,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!yme(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");e4.observe(this,e,n)},t.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!yme(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");e4.unobserve(this,e)},t.prototype.disconnect=function(){e4.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}(),_6t=zPe,C6t=Bf,E6t="Expected a function";function S6t(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(E6t);return C6t(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),_6t(t,e,{leading:r,maxWait:e,trailing:i})}var T6t=S6t;const y9=vt(T6t);var Tme=kC,k6t=p9,A6t=Jo,kme=Tme?Tme.isConcatSpreadable:void 0;function I6t(t){return A6t(t)||k6t(t)||!!(kme&&t&&t[kme])}var D6t=I6t,R6t=_ee,j6t=D6t;function iBe(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=j6t),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?iBe(a,e-1,n,r,i):R6t(i,a):r||(i[i.length]=a)}return i}var YC=iBe;function O6t(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Tm=O6t,L6t=Jo,P6t=tw,M6t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$6t=/^\w*$/;function F6t(t,e){if(L6t(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||P6t(t)?!0:$6t.test(t)||!M6t.test(t)||e!=null&&t in Object(e)}var Iee=F6t,sBe=bee,B6t="Expected a function";function Dee(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(B6t);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Dee.Cache||sBe),n}Dee.Cache=sBe;var oBe=Dee;const b9=vt(oBe);var N6t=oBe,V6t=500;function U6t(t){var e=N6t(t,function(r){return n.size===V6t&&n.clear(),r}),n=e.cache;return e}var H6t=U6t,z6t=H6t,W6t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,G6t=/\\(\\)?/g,q6t=z6t(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(W6t,function(n,r,i,s){e.push(i?s.replace(G6t,"$1"):r||n)}),e}),aBe=q6t,Ame=kC,Y6t=Tm,K6t=Jo,Z6t=tw,X6t=1/0,Ime=Ame?Ame.prototype:void 0,Dme=Ime?Ime.toString:void 0;function lBe(t){if(typeof t=="string")return t;if(K6t(t))return Y6t(t,lBe)+"";if(Z6t(t))return Dme?Dme.call(t):"";var e=t+"";return e=="0"&&1/t==-X6t?"-0":e}var uBe=lBe,Q6t=uBe;function J6t(t){return t==null?"":Q6t(t)}var km=J6t,e8t=Jo,t8t=Iee,n8t=aBe,r8t=km;function i8t(t,e){return e8t(t)?t:t8t(t,e)?[t]:n8t(r8t(t))}var KC=i8t,s8t=tw,o8t=1/0;function a8t(t){if(typeof t=="string"||s8t(t))return t;var e=t+"";return e=="0"&&1/t==-o8t?"-0":e}var dw=a8t,l8t=KC,u8t=dw;function c8t(t,e){e=l8t(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[u8t(e[n++])];return n&&n==r?t:void 0}var gI=c8t,d8t=xee,f8t=kee,h8t=1,p8t=2;function m8t(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],u=t[l],d=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var f=new d8t;if(r)var h=r(u,d,l,t,e,f);if(!(h===void 0?f8t(d,u,h8t|p8t,r,f):h))return!1}}return!0}var g8t=m8t,v8t=Bf;function y8t(t){return t===t&&!v8t(t)}var cBe=y8t,b8t=cBe,x8t=py;function w8t(t){for(var e=x8t(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,b8t(i)]}return e}var _8t=w8t;function C8t(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var dBe=C8t,E8t=g8t,S8t=_8t,T8t=dBe;function k8t(t){var e=S8t(t);return e.length==1&&e[0][2]?T8t(e[0][0],e[0][1]):function(n){return n===t||E8t(n,t,e)}}var A8t=k8t,I8t=gI;function D8t(t,e,n){var r=t==null?void 0:I8t(t,e);return r===void 0?n:r}var fBe=D8t;const ms=vt(fBe);function R8t(t,e){return t!=null&&e in Object(t)}var j8t=R8t,O8t=KC,L8t=p9,P8t=Jo,M8t=g9,$8t=Eee,F8t=dw;function B8t(t,e,n){e=O8t(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=F8t(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&$8t(i)&&M8t(o,i)&&(P8t(t)||L8t(t)))}var N8t=B8t,V8t=j8t,U8t=N8t;function H8t(t,e){return t!=null&&U8t(t,e,V8t)}var hBe=H8t,z8t=kee,W8t=fBe,G8t=hBe,q8t=Iee,Y8t=cBe,K8t=dBe,Z8t=dw,X8t=1,Q8t=2;function J8t(t,e){return q8t(t)&&Y8t(e)?K8t(Z8t(t),e):function(n){var r=W8t(n,t);return r===void 0&&r===e?G8t(n,t):z8t(e,r,X8t|Q8t)}}var e7t=J8t;function t7t(t){return t}var fw=t7t;const pBe=vt(fw);function n7t(t){return function(e){return e==null?void 0:e[t]}}var r7t=n7t,i7t=gI;function s7t(t){return function(e){return i7t(e,t)}}var o7t=s7t,a7t=r7t,l7t=o7t,u7t=Iee,c7t=dw;function d7t(t){return u7t(t)?a7t(c7t(t)):l7t(t)}var f7t=d7t,h7t=A8t,p7t=e7t,m7t=fw,g7t=Jo,v7t=f7t;function y7t(t){return typeof t=="function"?t:t==null?m7t:typeof t=="object"?g7t(t)?p7t(t[0],t[1]):h7t(t):v7t(t)}var my=y7t;function b7t(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var x7t=b7t,w7t=x7t,_7t=w7t(),C7t=_7t,E7t=C7t,S7t=py;function T7t(t,e){return t&&E7t(t,e,S7t)}var k7t=T7t,A7t=hy;function I7t(t,e){return function(n,r){if(n==null)return n;if(!A7t(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var D7t=I7t,R7t=k7t,j7t=D7t,O7t=j7t(R7t),mBe=O7t,L7t=mBe,P7t=hy;function M7t(t,e){var n=-1,r=P7t(t)?Array(t.length):[];return L7t(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var gBe=M7t;function $7t(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var F7t=$7t,Rme=tw;function B7t(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=Rme(t),o=e!==void 0,a=e===null,l=e===e,u=Rme(e);if(!a&&!u&&!s&&t>e||s&&o&&l&&!a&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!u&&t<e||u&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}var N7t=B7t,V7t=N7t;function U7t(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var l=V7t(i[r],s[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var H7t=U7t,AV=Tm,z7t=gI,W7t=my,G7t=gBe,q7t=F7t,Y7t=GC,K7t=H7t,Z7t=fw,X7t=Jo;function Q7t(t,e,n){e.length?e=AV(e,function(s){return X7t(s)?function(o){return z7t(o,s.length===1?s[0]:s)}:s}):e=[Z7t];var r=-1;e=AV(e,Y7t(W7t));var i=G7t(t,function(s,o,a){var l=AV(e,function(u){return u(s)});return{criteria:l,index:++r,value:s}});return q7t(i,function(s,o){return K7t(s,o,n)})}var vBe=Q7t;function J7t(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var e9t=J7t,t9t=e9t,jme=Math.max;function n9t(t,e,n){return e=jme(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=jme(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),t9t(t,this,a)}}var yBe=n9t;function r9t(t){return function(){return t}}var i9t=r9t,s9t=cw,o9t=function(){try{var t=s9t(Object,"defineProperty");return t({},"",{}),t}catch{}}(),bBe=o9t,a9t=i9t,Ome=bBe,l9t=fw,u9t=Ome?function(t,e){return Ome(t,"toString",{configurable:!0,enumerable:!1,value:a9t(e),writable:!0})}:l9t,c9t=u9t,d9t=800,f9t=16,h9t=Date.now;function p9t(t){var e=0,n=0;return function(){var r=h9t(),i=f9t-(r-n);if(n=r,i>0){if(++e>=d9t)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var m9t=p9t,g9t=c9t,v9t=m9t,y9t=v9t(g9t),xBe=y9t,b9t=fw,x9t=yBe,w9t=xBe;function _9t(t,e){return w9t(x9t(t,e,b9t),t+"")}var ZC=_9t,C9t=a9,E9t=hy,S9t=g9,T9t=Bf;function k9t(t,e,n){if(!T9t(n))return!1;var r=typeof e;return(r=="number"?E9t(n)&&S9t(e,n.length):r=="string"&&e in n)?C9t(n[e],t):!1}var Ree=k9t,A9t=YC,I9t=vBe,D9t=ZC,Lme=Ree,R9t=D9t(function(t,e){if(t==null)return[];var n=e.length;return n>1&&Lme(t,e[0],e[1])?e=[]:n>2&&Lme(e[0],e[1],e[2])&&(e=[e[0]]),I9t(t,A9t(e,1),[])}),j9t=R9t;const XC=vt(j9t);/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iM(){return iM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iM.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sM(){return sM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sM.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function s2(t,e,n){var r,i=(r=n.initialDeps)!=null?r:[],s;return function(){var o;n.key&&n.debug!=null&&n.debug()&&(o=Date.now());var a=t(),l=a.length!==i.length||a.some(function(g,v){return i[v]!==g});if(!l)return s;i=a;var u;if(n.key&&n.debug!=null&&n.debug()&&(u=Date.now()),s=e.apply(void 0,a),n.key&&n.debug!=null&&n.debug()){var d=Math.round((Date.now()-o)*100)/100,f=Math.round((Date.now()-u)*100)/100,h=f/16,p=function(v,y){for(v=String(v);v.length<y;)v=" "+v;return v};console.info("%c "+p(f,5)+" /"+p(d,5)+" ms",`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(`+Math.max(0,Math.min(120-120*h,120))+"deg 100% 31%);",n==null?void 0:n.key)}return n==null||n.onChange==null||n.onChange(s),s}}function IV(t,e){if(t===void 0)throw new Error("Unexpected undefined"+(e?": "+e:""));return t}var O9t=function(e,n){return Math.abs(e-n)<1};/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var L9t=function(e){return e},wBe=function(e){for(var n=Math.max(e.startIndex-e.overscan,0),r=Math.min(e.endIndex+e.overscan,e.count-1),i=[],s=n;s<=r;s++)i.push(s);return i},P9t=function(e,n){var r=e.scrollElement;if(r){var i=function(a){var l=a.width,u=a.height;n({width:Math.round(l),height:Math.round(u)})};i(r.getBoundingClientRect());var s=new ResizeObserver(function(o){var a=o[0];if(a!=null&&a.borderBoxSize){var l=a.borderBoxSize[0];if(l){i({width:l.inlineSize,height:l.blockSize});return}}i(r.getBoundingClientRect())});return s.observe(r,{box:"border-box"}),function(){s.unobserve(r)}}},M9t=function(e,n){var r=e.scrollElement;if(r){var i=function(){n(r[e.options.horizontal?"scrollLeft":"scrollTop"])};return i(),r.addEventListener("scroll",i,{passive:!0}),function(){r.removeEventListener("scroll",i)}}},$9t=function(e,n,r){if(n!=null&&n.borderBoxSize){var i=n.borderBoxSize[0];if(i){var s=Math.round(i[r.options.horizontal?"inlineSize":"blockSize"]);return s}}return Math.round(e.getBoundingClientRect()[r.options.horizontal?"width":"height"])},_Be=function(e,n,r){var i,s,o=n.adjustments,a=o===void 0?0:o,l=n.behavior,u=e+a;(i=r.scrollElement)==null||i.scrollTo==null||i.scrollTo((s={},s[r.options.horizontal?"left":"top"]=u,s.behavior=l,s))},F9t=function(e){var n=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=function(){var r=null,i=function(){return r||(typeof ResizeObserver<"u"?r=new ResizeObserver(function(o){o.forEach(function(a){n._measureElement(a.target,a)})}):null)};return{disconnect:function(){var o;return(o=i())==null?void 0:o.disconnect()},observe:function(o){var a;return(a=i())==null?void 0:a.observe(o,{box:"border-box"})},unobserve:function(o){var a;return(a=i())==null?void 0:a.unobserve(o)}}}(),this.range={startIndex:0,endIndex:0},this.setOptions=function(r){Object.entries(r).forEach(function(i){var s=i[0],o=i[1];typeof o>"u"&&delete r[s]}),n.options=sM({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:L9t,rangeExtractor:wBe,onChange:function(){},measureElement:$9t,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},r)},this.notify=function(){n.options.onChange==null||n.options.onChange(n)},this.cleanup=function(){n.unsubs.filter(Boolean).forEach(function(r){return r()}),n.unsubs=[],n.scrollElement=null},this._didMount=function(){return n.measureElementCache.forEach(n.observer.observe),function(){n.observer.disconnect(),n.cleanup()}},this._willUpdate=function(){var r=n.options.getScrollElement();n.scrollElement!==r&&(n.cleanup(),n.scrollElement=r,n._scrollToOffset(n.scrollOffset,{adjustments:void 0,behavior:void 0}),n.unsubs.push(n.options.observeElementRect(n,function(i){var s=n.scrollRect;n.scrollRect=i,(n.options.horizontal?i.width!==s.width:i.height!==s.height)&&n.maybeNotify()})),n.unsubs.push(n.options.observeElementOffset(n,function(i){n.scrollAdjustments=0,n.scrollOffset!==i&&(n.isScrollingTimeoutId!==null&&(clearTimeout(n.isScrollingTimeoutId),n.isScrollingTimeoutId=null),n.isScrolling=!0,n.scrollDirection=n.scrollOffset<i?"forward":"backward",n.scrollOffset=i,n.maybeNotify(),n.isScrollingTimeoutId=setTimeout(function(){n.isScrollingTimeoutId=null,n.isScrolling=!1,n.scrollDirection=null,n.maybeNotify()},n.options.scrollingDelay))})))},this.getSize=function(){return n.scrollRect[n.options.horizontal?"width":"height"]},this.memoOptions=s2(function(){return[n.options.count,n.options.paddingStart,n.options.scrollMargin,n.options.getItemKey]},function(r,i,s,o){return n.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:i,scrollMargin:s,getItemKey:o}},{key:!1}),this.getFurthestMeasurement=function(r,i){for(var s=new Map,o=new Map,a=i-1;a>=0;a--){var l=r[a];if(!s.has(l.lane)){var u=o.get(l.lane);if(u==null||l.end>u.end?o.set(l.lane,l):l.end<u.end&&s.set(l.lane,!0),s.size===n.options.lanes)break}}return o.size===n.options.lanes?Array.from(o.values()).sort(function(d,f){return d.end-f.end})[0]:void 0},this.getMeasurements=s2(function(){return[n.memoOptions(),n.itemSizeCache]},function(r,i){var s=r.count,o=r.paddingStart,a=r.scrollMargin,l=r.getItemKey,u=n.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,n.pendingMeasuredCacheIndexes):0;n.pendingMeasuredCacheIndexes=[];for(var d=n.measurementsCache.slice(0,u),f=u;f<s;f++){var h=l(f),p=n.options.lanes===1?d[f-1]:n.getFurthestMeasurement(d,f),g=p?p.end:o+a,v=i.get(h),y=typeof v=="number"?v:n.options.estimateSize(f),x=g+y,b=p?p.lane:f%n.options.lanes;d[f]={index:f,start:g,size:y,end:x,key:h,lane:b}}return n.measurementsCache=d,d},{key:!1,debug:function(){return n.options.debug}}),this.calculateRange=s2(function(){return[n.getMeasurements(),n.getSize(),n.scrollOffset]},function(r,i,s){return n.range=B9t({measurements:r,outerSize:i,scrollOffset:s})},{key:!1,debug:function(){return n.options.debug}}),this.maybeNotify=s2(function(){var r=n.calculateRange();return[r.startIndex,r.endIndex,n.isScrolling]},function(){n.notify()},{key:!1,debug:function(){return n.options.debug},initialDeps:[this.range.startIndex,this.range.endIndex,this.isScrolling]}),this.getIndexes=s2(function(){return[n.options.rangeExtractor,n.calculateRange(),n.options.overscan,n.options.count]},function(r,i,s,o){return r(sM({},i,{overscan:s,count:o}))},{key:!1,debug:function(){return n.options.debug}}),this.indexFromElement=function(r){var i=n.options.indexAttribute,s=r.getAttribute(i);return s?parseInt(s,10):(console.warn("Missing attribute name '"+i+"={index}' on measured element."),-1)},this._measureElement=function(r,i){var s,o=n.indexFromElement(r),a=n.measurementsCache[o];if(a){var l=n.measureElementCache.get(a.key);if(!r.isConnected){n.observer.unobserve(r),r===l&&n.measureElementCache.delete(a.key);return}l!==r&&(l&&n.observer.unobserve(l),n.observer.observe(r),n.measureElementCache.set(a.key,r));var u=n.options.measureElement(r,i,n),d=(s=n.itemSizeCache.get(a.key))!=null?s:a.size,f=u-d;f!==0&&(a.start<n.scrollOffset&&n._scrollToOffset(n.scrollOffset,{adjustments:n.scrollAdjustments+=f,behavior:void 0}),n.pendingMeasuredCacheIndexes.push(o),n.itemSizeCache=new Map(n.itemSizeCache.set(a.key,u)),n.notify())}},this.measureElement=function(r){r&&n._measureElement(r,void 0)},this.getVirtualItems=s2(function(){return[n.getIndexes(),n.getMeasurements()]},function(r,i){for(var s=[],o=0,a=r.length;o<a;o++){var l=r[o],u=i[l];s.push(u)}return s},{key:!1,debug:function(){return n.options.debug}}),this.getVirtualItemForOffset=function(r){var i=n.getMeasurements();return IV(i[CBe(0,i.length-1,function(s){return IV(i[s]).start},r)])},this.getOffsetForAlignment=function(r,i){var s=n.getSize();i==="auto"&&(r<=n.scrollOffset?i="start":r>=n.scrollOffset+s?i="end":i="start"),i==="start"?r=r:i==="end"?r=r-s:i==="center"&&(r=r-s/2);var o=n.options.horizontal?"scrollWidth":"scrollHeight",a=n.scrollElement?"document"in n.scrollElement?n.scrollElement.document.documentElement[o]:n.scrollElement[o]:0,l=a-n.getSize();return Math.max(Math.min(l,r),0)},this.getOffsetForIndex=function(r,i){i===void 0&&(i="auto"),r=Math.max(0,Math.min(r,n.options.count-1));var s=IV(n.getMeasurements()[r]);if(i==="auto")if(s.end>=n.scrollOffset+n.getSize()-n.options.scrollPaddingEnd)i="end";else if(s.start<=n.scrollOffset+n.options.scrollPaddingStart)i="start";else return[n.scrollOffset,i];var o=i==="end"?s.end+n.options.scrollPaddingEnd:s.start-n.options.scrollPaddingStart;return[n.getOffsetForAlignment(o,i),i]},this.isDynamicMode=function(){return n.measureElementCache.size>0},this.cancelScrollToIndex=function(){n.scrollToIndexTimeoutId!==null&&(clearTimeout(n.scrollToIndexTimeoutId),n.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(r,i){var s=i===void 0?{}:i,o=s.align,a=o===void 0?"start":o,l=s.behavior;n.cancelScrollToIndex(),l==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.getOffsetForAlignment(r,a),{adjustments:void 0,behavior:l})},this.scrollToIndex=function(r,i){var s=i===void 0?{}:i,o=s.align,a=o===void 0?"auto":o,l=s.behavior;r=Math.max(0,Math.min(r,n.options.count-1)),n.cancelScrollToIndex(),l==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var u=n.getOffsetForIndex(r,a),d=u[0],f=u[1];n._scrollToOffset(d,{adjustments:void 0,behavior:l}),l!=="smooth"&&n.isDynamicMode()&&(n.scrollToIndexTimeoutId=setTimeout(function(){n.scrollToIndexTimeoutId=null;var h=n.measureElementCache.has(n.options.getItemKey(r));if(h){var p=n.getOffsetForIndex(r,f),g=p[0];O9t(g,n.scrollOffset)||n.scrollToIndex(r,{align:f,behavior:l})}else n.scrollToIndex(r,{align:f,behavior:l})}))},this.scrollBy=function(r,i){var s=i===void 0?{}:i,o=s.behavior;n.cancelScrollToIndex(),o==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.scrollOffset+r,{adjustments:void 0,behavior:o})},this.getTotalSize=function(){var r;return(((r=n.getMeasurements()[n.options.count-1])==null?void 0:r.end)||n.options.paddingStart)-n.options.scrollMargin+n.options.paddingEnd},this._scrollToOffset=function(r,i){var s=i.adjustments,o=i.behavior;n.options.scrollToFn(r,{behavior:o,adjustments:s},n)},this.measure=function(){n.itemSizeCache=new Map,n.notify()},this.setOptions(e),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(function(r){n.itemSizeCache.set(r.key,r.size)}),this.maybeNotify()},CBe=function(e,n,r,i){for(;e<=n;){var s=(e+n)/2|0,o=r(s);if(o<i)e=s+1;else if(o>i)n=s-1;else return s}return e>0?e-1:0};function B9t(t){for(var e=t.measurements,n=t.outerSize,r=t.scrollOffset,i=e.length-1,s=function(u){return e[u].start},o=CBe(0,i,s,r),a=o;a<i&&e[a].end<r+n;)a++;return{startIndex:o,endIndex:a}}/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var N9t=typeof document<"u"?m.useLayoutEffect:m.useEffect;function V9t(t){var e=m.useReducer(function(){return{}},{})[1],n=iM({},t,{onChange:function(o){e(),t.onChange==null||t.onChange(o)}}),r=m.useState(function(){return new F9t(n)}),i=r[0];return i.setOptions(n),m.useEffect(function(){return i._didMount()},[]),N9t(function(){return i._willUpdate()}),i}function EBe(t){return V9t(iM({observeElementRect:P9t,observeElementOffset:M9t,scrollToFn:_Be},t))}var U9t=H9t;function H9t(t,e,n){var r=t===null,i=e===null;if(r!==i)return!1;var s=Array.isArray(t),o=Array.isArray(e);if(s!==o)return!1;var a=typeof t,l=typeof e;return a!==l?!1:G9t(a)?n?n(t,e):t===e:s?z9t(t,e,n):W9t(t,e,n)}function z9t(t,e,n){var r=t.length;if(r!==e.length)return!1;if(n){for(var i=0;i<r;i++)if(!n(t[i],e[i]))return!1}else for(var i=0;i<r;i++)if(t[i]!==e[i])return!1;return!0}function W9t(t,e,n){var r=0,i=0;if(n)for(var s in t){if(t.hasOwnProperty(s)&&!n(t[s],e[s]))return!1;r++}else for(var s in t){if(t.hasOwnProperty(s)&&t[s]!==e[s])return!1;r++}for(var s in e)e.hasOwnProperty(s)&&i++;return r===i}function G9t(t){return t!=="function"&&t!=="object"}const zv=vt(U9t);var mq={exports:{}},DV,Pme;function x9(){if(Pme)return DV;Pme=1;var t=1e3,e=t*60,n=e*60,r=n*24,i=r*7,s=r*365.25;DV=function(d,f){f=f||{};var h=typeof d;if(h==="string"&&d.length>0)return o(d);if(h==="number"&&isFinite(d))return f.long?l(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function o(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var h=parseFloat(f[1]),p=(f[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return h*s;case"weeks":case"week":case"w":return h*i;case"days":case"day":case"d":return h*r;case"hours":case"hour":case"hrs":case"hr":case"h":return h*n;case"minutes":case"minute":case"mins":case"min":case"m":return h*e;case"seconds":case"second":case"secs":case"sec":case"s":return h*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function a(d){var f=Math.abs(d);return f>=r?Math.round(d/r)+"d":f>=n?Math.round(d/n)+"h":f>=e?Math.round(d/e)+"m":f>=t?Math.round(d/t)+"s":d+"ms"}function l(d){var f=Math.abs(d);return f>=r?u(d,f,r,"day"):f>=n?u(d,f,n,"hour"):f>=e?u(d,f,e,"minute"):f>=t?u(d,f,t,"second"):d+" ms"}function u(d,f,h,p){var g=f>=h*1.5;return Math.round(d/h)+" "+p+(g?"s":"")}return DV}function q9t(t){n.debug=n,n.default=n,n.coerce=l,n.disable=o,n.enable=s,n.enabled=a,n.humanize=x9(),Object.keys(t).forEach(function(u){n[u]=t[u]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function e(u){for(var d=0,f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=e;function n(u){var d;function f(){if(f.enabled){for(var h=arguments.length,p=new Array(h),g=0;g<h;g++)p[g]=arguments[g];var v=f,y=Number(new Date),x=y-(d||y);v.diff=x,v.prev=d,v.curr=y,d=y,p[0]=n.coerce(p[0]),typeof p[0]!="string"&&p.unshift("%O");var b=0;p[0]=p[0].replace(/%([a-zA-Z%])/g,function(C,S){if(C==="%%")return C;b++;var T=n.formatters[S];if(typeof T=="function"){var A=p[b];C=T.call(v,A),p.splice(b,1),b--}return C}),n.formatArgs.call(v,p);var _=v.log||n.log;_.apply(v,p)}}return f.namespace=u,f.enabled=n.enabled(u),f.useColors=n.useColors(),f.color=e(u),f.destroy=r,f.extend=i,typeof n.init=="function"&&n.init(f),n.instances.push(f),f}function r(){var u=n.instances.indexOf(this);return u!==-1?(n.instances.splice(u,1),!0):!1}function i(u,d){return n(this.namespace+(typeof d>"u"?":":d)+u)}function s(u){n.save(u),n.names=[],n.skips=[];var d,f=(typeof u=="string"?u:"").split(/[\s,]+/),h=f.length;for(d=0;d<h;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")));for(d=0;d<n.instances.length;d++){var p=n.instances[d];p.enabled=n.enabled(p.namespace)}}function o(){n.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}return n.enable(n.load()),n}var Y9t=q9t;(function(t,e){function n(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(h){return typeof h}:n=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},n(d)}e.log=s,e.formatArgs=i,e.save=o,e.load=a,e.useColors=r,e.storage=l(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!!this.useColors){var f="color: "+this.color;d.splice(1,0,f,"color: inherit");var h=0,p=0;d[0].replace(/%[a-zA-Z%]/g,function(g){g!=="%%"&&(h++,g==="%c"&&(p=h))}),d.splice(p,0,f)}}function s(){var d;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(d=console).log.apply(d,arguments)}function o(d){try{d?e.storage.setItem("debug",d):e.storage.removeItem("debug")}catch{}}function a(){var d;try{d=e.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function l(){try{return localStorage}catch{}}t.exports=Y9t(e);var u=t.exports.formatters;u.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(mq,mq.exports);var K9t=mq.exports;const W1=vt(K9t);var Z9t=YC;function X9t(t){var e=t==null?0:t.length;return e?Z9t(t,1):[]}var SBe=X9t;const $i=vt(SBe);function Q9t(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var TBe=Q9t;function J9t(t){return t!==t}var e$t=J9t;function t$t(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var n$t=t$t,r$t=TBe,i$t=e$t,s$t=n$t;function o$t(t,e,n){return e===e?s$t(t,e,n):r$t(t,i$t,n)}var jee=o$t,a$t=jee;function l$t(t,e){var n=t==null?0:t.length;return!!n&&a$t(t,e,0)>-1}var Oee=l$t;function u$t(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Lee=u$t,c$t=f9,d$t=Oee,f$t=Lee,h$t=Tm,p$t=GC,m$t=h9,g$t=200;function v$t(t,e,n,r){var i=-1,s=d$t,o=!0,a=t.length,l=[],u=e.length;if(!a)return l;n&&(e=h$t(e,p$t(n))),r?(s=f$t,o=!1):e.length>=g$t&&(s=m$t,o=!1,e=new c$t(e));e:for(;++i<a;){var d=t[i],f=n==null?d:n(d);if(d=r||d!==0?d:0,o&&f===f){for(var h=u;h--;)if(e[h]===f)continue e;l.push(d)}else s(e,f,r)||l.push(d)}return l}var kBe=v$t,y$t=hy,b$t=Nf;function x$t(t){return b$t(t)&&y$t(t)}var w9=x$t,w$t=kBe,_$t=YC,C$t=ZC,Mme=w9,E$t=C$t(function(t,e){return Mme(t)?w$t(t,_$t(e,1,Mme,!0)):[]}),S$t=E$t;const DA=vt(S$t);var T$t=f9,k$t=Oee,A$t=Lee,I$t=Tm,D$t=GC,$me=h9,R$t=Math.min;function j$t(t,e,n){for(var r=n?A$t:k$t,i=t[0].length,s=t.length,o=s,a=Array(s),l=1/0,u=[];o--;){var d=t[o];o&&e&&(d=I$t(d,D$t(e))),l=R$t(d.length,l),a[o]=!n&&(e||i>=120&&d.length>=120)?new T$t(o&&d):void 0}d=t[0];var f=-1,h=a[0];e:for(;++f<i&&u.length<l;){var p=d[f],g=e?e(p):p;if(p=n||p!==0?p:0,!(h?$me(h,g):r(u,g,n))){for(o=s;--o;){var v=a[o];if(!(v?$me(v,g):r(t[o],g,n)))continue e}h&&h.push(g),u.push(p)}}return u}var O$t=j$t,L$t=w9;function P$t(t){return L$t(t)?t:[]}var M$t=P$t,$$t=Tm,F$t=O$t,B$t=ZC,N$t=M$t,V$t=B$t(function(t){var e=$$t(t,N$t);return e.length&&e[0]===t[0]?F$t(e):[]}),U$t=V$t;const oM=vt(U$t);var H$t=WFe,z$t=H$t(Object.getPrototypeOf,Object),Pee=z$t,W$t=sy,G$t=Pee,q$t=Nf,Y$t="[object Object]",K$t=Function.prototype,Z$t=Object.prototype,ABe=K$t.toString,X$t=Z$t.hasOwnProperty,Q$t=ABe.call(Object);function J$t(t){if(!q$t(t)||W$t(t)!=Y$t)return!1;var e=G$t(t);if(e===null)return!0;var n=X$t.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&ABe.call(n)==Q$t}var IBe=J$t;const Ys=vt(IBe);var Fme=bBe;function eFt(t,e,n){e=="__proto__"&&Fme?Fme(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var _9=eFt,tFt=_9,nFt=a9,rFt=Object.prototype,iFt=rFt.hasOwnProperty;function sFt(t,e,n){var r=t[e];(!(iFt.call(t,e)&&nFt(r,n))||n===void 0&&!(e in t))&&tFt(t,e,n)}var Mee=sFt,oFt=Mee,aFt=KC,lFt=g9,Bme=Bf,uFt=dw;function cFt(t,e,n,r){if(!Bme(t))return t;e=aFt(e,t);for(var i=-1,s=e.length,o=s-1,a=t;a!=null&&++i<s;){var l=uFt(e[i]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=o){var d=a[l];u=r?r(d,l,a):void 0,u===void 0&&(u=Bme(d)?d:lFt(e[i+1])?[]:{})}oFt(a,l,u),a=a[l]}return t}var dFt=cFt,fFt=gI,hFt=dFt,pFt=KC;function mFt(t,e,n){for(var r=-1,i=e.length,s={};++r<i;){var o=e[r],a=fFt(t,o);n(a,o)&&hFt(s,pFt(o,t),a)}return s}var DBe=mFt,gFt=DBe,vFt=hBe;function yFt(t,e){return gFt(t,e,function(n,r){return vFt(t,r)})}var bFt=yFt,xFt=SBe,wFt=yBe,_Ft=xBe;function CFt(t){return _Ft(wFt(t,void 0,xFt),t+"")}var $ee=CFt,EFt=bFt,SFt=$ee,TFt=SFt(function(t,e){return t==null?{}:EFt(t,e)}),kFt=TFt;const ir=vt(kFt),Fee=re.createContext(null);function I0(){const t=m.useContext(Fee);if(!t)throw new Error("Router: missing context value");return t}function AFt(t){return t.button===0}function IFt(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Bee(t){const{onClick:e,href:n,target:r,replace:i=!1}=t,{navigateUrl:s}=I0();return{onClick:m.useCallback(a=>{a.isDefaultPrevented()||n&&(e&&e(a),!(IFt(a)||!AFt(a))&&(r||(a.preventDefault(),s({path:n,replace:i}))))},[n,s,e,i,r])}}function QC(t){const{intent:e,onClick:n,params:r,replace:i,target:s}=t,{resolveIntentLink:o}=I0(),a=m.useMemo(()=>o(e,r),[e,r,o]),{onClick:l}=Bee({href:a,onClick:n,replace:i,target:s});return{onClick:l,href:a}}const D0=m.forwardRef(function(e,n){const{intent:r,params:i,target:s,...o}=e,{onClick:a,href:l}=QC({intent:r,params:i,target:s,onClick:e.onClick});return c.jsx("a",{...o,href:l,onClick:a,ref:n,target:s})});m.forwardRef(function(e,n){const{onClick:r,href:i,target:s,replace:o,...a}=e,{onClick:l}=Bee({onClick:r,href:i,target:s,replace:o});return c.jsx("a",{...a,onClick:l,href:i,target:s,ref:n})});const Nme=Object.prototype.hasOwnProperty,DFt=Nme.call.bind(Nme);function RFt(t){for(const e in t)if(DFt(t,e))return!1;return!0}function Vme(t,e,n){return n&&{...t,[e]:n}}function jFt(t){const{children:e,scope:n}=t,r=I0(),{resolvePathFromState:i,navigate:s}=r,o=m.useCallback(u=>{const d=RFt(u)?{}:Vme(r.state,n,u);return i(d)},[i,r.state,n]),a=m.useCallback((u,d)=>{const f=Vme(r.state,n,u);s(f,d)},[s,r.state,n]),l=m.useMemo(()=>({...r,navigate:a,resolvePathFromState:o,state:r.state[n]}),[a,r,o,n]);return c.jsx(Fee.Provider,{value:l,children:e})}function OFt(t){const{onNavigate:e,router:n,state:r}=t,i=m.useCallback((u,d)=>{const[f,h]=Array.isArray(d)?d:[d];return n.encode({intent:u,params:f,payload:h})},[n]),s=m.useCallback(u=>n.encode(u),[n]),o=m.useCallback(function(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e({path:s(u),replace:d.replace})},[e,s]),a=m.useCallback(function(u,d){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};e({path:i(u,d),replace:f.replace})},[e,i]),l=m.useMemo(()=>({navigate:o,navigateIntent:a,navigateUrl:e,resolveIntentLink:i,resolvePathFromState:s,state:r}),[o,a,e,i,s,r]);return c.jsx(Fee.Provider,{value:l,children:t.children})}const Ume={};function RBe(t){const{onClick:e,replace:n,state:r,target:i,toIndex:s=!1}=t;if(r&&s)throw new Error("Passing both `state` and `toIndex={true}` as props to StateLink is invalid");!r&&!s&&console.error(new Error("No state passed to StateLink. If you want to link to an empty state, its better to use the the `toIndex` property"));const{resolvePathFromState:o}=I0(),a=m.useMemo(()=>o(s?Ume:r||Ume),[o,r,s]),{onClick:l}=Bee({href:a,onClick:e,replace:n,target:i});return{onClick:l,href:a}}const C9=m.forwardRef(function(e,n){const{onClick:r,replace:i,state:s,target:o,toIndex:a=!1,...l}=e,{onClick:u,href:d}=RBe({onClick:r,replace:i,state:s,target:o,toIndex:a});return c.jsx("a",{...l,href:d,onClick:u,ref:n})}),LFt=/^[a-zA-Z0-9_-]+$/;function PFt(t){if(!t)return null;if(t.startsWith(":")){const e=t.substring(1);if(!LFt.test(e)){const n=t.includes("*")?" Splats are not supported. Consider using child routes instead":"";console.error(new Error('Warning: Param segments "'.concat(t,'" includes invalid characters.').concat(n)))}return{type:"param",name:e}}return{type:"dir",name:t}}function MFt(t){const[e]=t.split("?"),n=e.split("/").map(PFt).filter(Boolean);return{raw:t,segments:n}}const aM=W1("state-router");function gq(t){return Array.isArray(t)?t:t?[t]:[]}function jBe(t,e){const n=e.split("/").filter(Boolean),r=t.route.segments.length;if(n.length<r)return null;const i={};if(!t.route.segments.every((d,f)=>{if(d.type==="dir")return d.name===n[f];const h=t.transform&&t.transform[d.name];return i[d.name]=h?h.toState(n[f]):n[f],!0}))return null;const o=n.slice(r);let a=null;if((typeof t.children=="function"?gq(t.children(i)):t.children).some(d=>{if(d)return a=jBe(d,o.join("/")),a}),o.length>0&&!a)return null;const u={...i,...a||{}};return t.scope?{[t.scope]:u}:u}function $Ft(t,e){aM("resolving state from path %s",e);const n=jBe(t,e.split("?")[0]);return aM("resolved: %o",n||null),n||null}function Hme(t){return Ys(t)}function o2(t,e,n){return{nodes:t,missing:e,remaining:n}}function OBe(t,e){if(!e)return o2([],[],[]);const n=t.scope?e[t.scope]:e,r=t.route.segments.filter(f=>f.type==="param").map(f=>f.name),i=Hme(n)?Object.keys(n):[],s=oM(i,r),o=DA(r,s),a=DA(i,s);if(o.length>0)return o2([],o,[]);if(a.length===0)return o2([t],[],[]);const l=gq((typeof t.children=="function"?t.children(Hme(n)?n:{}):t.children)||[]);if(a.length>0&&l.length===0)return o2([],a,[]);const u=ir(n,a);let d={nodes:[],remaining:[],missing:[]};return gq(l).some(f=>(d=OBe(f,u),d.nodes.length>0)),d.nodes.length===0?o2([],o,a):o2([t,...d.nodes],d.missing,d.remaining)}function FFt(t,e){aM("Resolving path from state %o",e);const n=OBe(t,e);if(n.remaining.length>0){const s=n.remaining;throw new Error("Unable to find matching route for state. Could not map the following state key".concat(s.length==1?"":"s"," to a valid url: ").concat(s.join(", ")))}if(n.nodes.length===0)throw new Error("Unable to resolve path from given state: ".concat(JSON.stringify(e)));let r=e;const i=$i(n.nodes.map(s=>(s.scope&&s.scope in r&&(r=r[s.scope]),s.route.segments.map(o=>{if(o.type==="dir")return o.name;const a=s.transform&&s.transform[o.name];return a?a.toPath(r[o.name]):r[o.name]})))).join("/");return aM("Resolved to /%s",i),"/".concat(i)}function BFt(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const e=decodeURIComponent(t);if(!e)return{};try{return JSON.parse(atob(e))}catch{}try{return JSON.parse(e)}catch{console.warn("Failed to parse JSON parameters")}return{}}function NFt(t){return t?btoa(JSON.stringify(t)):""}function VFt(t){return t.split(";").reduce((e,n)=>{const[r,i]=n.split("=");return e[decodeURIComponent(r)]=decodeURIComponent(i),e},{})}function UFt(t){return Object.entries(t).filter(e=>{let[,n]=e;return n!=null}).map(e=>{let[n,r]=e;return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r))}).join(";")}const su={create:(t,e,n)=>qme(Wme(t,e,n)),intents:t=>{const e=zFt(t).join("/");return su.create("".concat(e,"/:intent"),[su.create(":params",{transform:{params:{toState:VFt,toPath:UFt}}},[su.create(":payload",{transform:{payload:{toState:BFt,toPath:NFt}}})])])},scope:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const i=Wme(...n);return qme({...i,scope:t})}};function zme(t){return Array.isArray(t)||typeof t=="function"?t:t?[t]:[]}function HFt(t){return t&&"_isRoute"in t}function Wme(t,e,n){return typeof t=="object"?t:Array.isArray(e)||typeof e=="function"||HFt(e)?{path:t,children:zme(e)}:n?{path:t,...e,children:zme(n)}:{path:t,...e}}function zFt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce((r,i)=>r.concat(i.split("/")),[]).filter(Boolean)}const WFt={};function Gme(t){return t.split("/").every(e=>!e)}function qme(t){const{path:e,scope:n,transform:r,children:i}=t;if(!e)throw new TypeError("Missing path");const s=MFt(e);return{_isRoute:!0,scope:n,route:s,children:i||[],transform:r,encode(o){return FFt(this,o)},decode(o){return $Ft(this,o)},isRoot:Gme,isNotFound(o){return this.decode(o)===null},getBasePath(){return this.encode(WFt)},getRedirectBase(o){if(Gme(o)){const a=this.getBasePath();if(o!==a)return a}return null}}}function Nee(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:pBe;const{state:e}=I0();return m.useMemo(()=>t(e),[t,e])}function GFt(t){function e(n){const r=I0();return c.jsx(t,{...n,router:r})}return e.displayName="withRouter(".concat(t.displayName||t.name,")"),e}GFt(t=>t.children(t.router));function LBe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function nn(){return nn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nn.apply(this,arguments)}var vq="data-focus-lock",PBe="data-focus-lock-disabled",qFt="data-no-focus-lock",YFt="data-autofocus-inside",KFt="data-no-autofocus";function ZFt(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function XFt(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}function QFt(t,e){return XFt(e||null,function(n){return t.forEach(function(r){return ZFt(r,n)})})}var RV={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"};function MBe(t){return t}function $Be(t,e){e===void 0&&(e=MBe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function Vee(t,e){return e===void 0&&(e=MBe),$Be(t,e)}function JFt(t){t===void 0&&(t={});var e=$Be(null);return e.options=sq({async:!0,ssr:!1},t),e}var FBe=Vee({},function(t){var e=t.target,n=t.currentTarget;return{target:e,currentTarget:n}}),BBe=Vee(),eBt=Vee(),tBt=JFt({async:!0}),nBt=[],Uee=m.forwardRef(function(e,n){var r,i=m.useState(),s=i[0],o=i[1],a=m.useRef(),l=m.useRef(!1),u=m.useRef(null),d=e.children,f=e.disabled,h=e.noFocusGuards,p=e.persistentFocus,g=e.crossFrame,v=e.autoFocus;e.allowTextSelection;var y=e.group,x=e.className,b=e.whiteList,_=e.hasPositiveIndices,C=e.shards,S=C===void 0?nBt:C,T=e.as,A=T===void 0?"div":T,k=e.lockProps,I=k===void 0?{}:k,D=e.sideCar,R=e.returnFocus,O=e.focusOptions,L=e.onActivation,P=e.onDeactivation,$=m.useState({}),B=$[0],Q=m.useCallback(function(){u.current=u.current||document&&document.activeElement,a.current&&L&&L(a.current),l.current=!0},[L]),V=m.useCallback(function(){l.current=!1,P&&P(a.current)},[P]);m.useEffect(function(){f||(u.current=null)},[]);var Z=m.useCallback(function(ne){var ce=u.current;if(ce&&ce.focus){var me=typeof R=="function"?R(ce):R;if(me){var pe=typeof me=="object"?me:void 0;u.current=null,ne?Promise.resolve().then(function(){return ce.focus(pe)}):ce.focus(pe)}}},[R]),ie=m.useCallback(function(ne){l.current&&FBe.useMedium(ne)},[]),J=BBe.useMedium,X=m.useCallback(function(ne){a.current!==ne&&(a.current=ne,o(ne))},[]),fe=nn((r={},r[PBe]=f&&"disabled",r[vq]=y,r),I),ue=h!==!0,te=ue&&h!=="tail",F=QFt([n,X]);return m.createElement(m.Fragment,null,ue&&[m.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:f?-1:0,style:RV}),_?m.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:f?-1:1,style:RV}):null],!f&&m.createElement(D,{id:B,sideCar:tBt,observed:s,disabled:f,persistentFocus:p,crossFrame:g,autoFocus:v,whiteList:b,shards:S,onActivation:Q,onDeactivation:V,returnFocus:Z,focusOptions:O}),m.createElement(A,nn({ref:F},fe,{className:x,onBlur:J,onFocus:ie}),d),te&&m.createElement("div",{"data-focus-guard":!0,tabIndex:f?-1:0,style:RV}))});Uee.propTypes={};Uee.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const NBe=Uee;function lM(t,e){return lM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lM(t,e)}function rBt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,lM(t,e)}function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function iBt(t,e){if(Mf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VBe(t){var e=iBt(t,"string");return Mf(e)==="symbol"?e:String(e)}function Tt(t,e,n){return e=VBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sBt(t,e){function n(r){return r.displayName||r.name||"Component"}return function(i){var s=[],o;function a(){o=t(s.map(function(u){return u.props})),e(o)}var l=function(u){rBt(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return o};var f=d.prototype;return f.componentDidMount=function(){s.push(this),a()},f.componentDidUpdate=function(){a()},f.componentWillUnmount=function(){var p=s.indexOf(this);s.splice(p,1),a()},f.render=function(){return re.createElement(i,this.props)},d}(m.PureComponent);return Tt(l,"displayName","SideEffect("+n(i)+")"),l}}var Am=function(t){for(var e=Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e},uM=function(t){return Array.isArray(t)?t:[t]},UBe=function(t){return Array.isArray(t)?t[0]:t},oBt=function(t){if(t.nodeType!==Node.ELEMENT_NODE)return!1;var e=window.getComputedStyle(t,null);return!e||!e.getPropertyValue?!1:e.getPropertyValue("display")==="none"||e.getPropertyValue("visibility")==="hidden"},HBe=function(t){return t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.parentNode.host:t.parentNode},zBe=function(t){return t===document||t&&t.nodeType===Node.DOCUMENT_NODE},aBt=function(t,e){return!t||zBe(t)||!oBt(t)&&e(HBe(t))},WBe=function(t,e){var n=t.get(e);if(n!==void 0)return n;var r=aBt(e,WBe.bind(void 0,t));return t.set(e,r),r},lBt=function(t,e){return t&&!zBe(t)?dBt(t)?e(HBe(t)):!1:!0},GBe=function(t,e){var n=t.get(e);if(n!==void 0)return n;var r=lBt(e,GBe.bind(void 0,t));return t.set(e,r),r},qBe=function(t){return t.dataset},uBt=function(t){return t.tagName==="BUTTON"},YBe=function(t){return t.tagName==="INPUT"},KBe=function(t){return YBe(t)&&t.type==="radio"},cBt=function(t){return!((YBe(t)||uBt(t))&&(t.type==="hidden"||t.disabled))},dBt=function(t){var e=t.getAttribute(KFt);return![!0,"true",""].includes(e)},Hee=function(t){var e;return!!(t&&(!((e=qBe(t))===null||e===void 0)&&e.focusGuard))},cM=function(t){return!Hee(t)},fBt=function(t){return!!t},hBt=function(t,e){var n=t.tabIndex-e.tabIndex,r=t.index-e.index;if(n){if(!t.tabIndex)return 1;if(!e.tabIndex)return-1}return n||r},ZBe=function(t,e,n){return Am(t).map(function(r,i){return{node:r,index:i,tabIndex:n&&r.tabIndex===-1?(r.dataset||{}).focusGuard?0:-1:r.tabIndex}}).filter(function(r){return!e||r.tabIndex>=0}).sort(hBt)},pBt=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],zee=pBt.join(","),mBt="".concat(zee,", [data-focus-guard]"),XBe=function(t,e){return Am((t.shadowRoot||t).children).reduce(function(n,r){return n.concat(r.matches(e?mBt:zee)?[r]:[],XBe(r))},[])},gBt=function(t,e){var n;return t instanceof HTMLIFrameElement&&(!((n=t.contentDocument)===null||n===void 0)&&n.body)?E9([t.contentDocument.body],e):[t]},E9=function(t,e){return t.reduce(function(n,r){var i,s=XBe(r,e),o=(i=[]).concat.apply(i,s.map(function(a){return gBt(a,e)}));return n.concat(o,r.parentNode?Am(r.parentNode.querySelectorAll(zee)).filter(function(a){return a===r}):[])},[])},vBt=function(t){var e=t.querySelectorAll("[".concat(YFt,"]"));return Am(e).map(function(n){return E9([n])}).reduce(function(n,r){return n.concat(r)},[])},Wee=function(t,e){return Am(t).filter(function(n){return WBe(e,n)}).filter(function(n){return cBt(n)})},Yme=function(t,e){return e===void 0&&(e=new Map),Am(t).filter(function(n){return GBe(e,n)})},yq=function(t,e,n){return ZBe(Wee(E9(t,n),e),!0,n)},Kme=function(t,e){return ZBe(Wee(E9(t),e),!1)},yBt=function(t,e){return Wee(vBt(t),e)},e_=function(t,e){return t.shadowRoot?e_(t.shadowRoot,e):Object.getPrototypeOf(t).contains!==void 0&&Object.getPrototypeOf(t).contains.call(t,e)?!0:Am(t.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var i=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return i?e_(i,e):!1}return e_(n,e)})},bBt=function(t){for(var e=new Set,n=t.length,r=0;r<n;r+=1)for(var i=r+1;i<n;i+=1){var s=t[r].compareDocumentPosition(t[i]);(s&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&e.add(i),(s&Node.DOCUMENT_POSITION_CONTAINS)>0&&e.add(r)}return t.filter(function(o,a){return!e.has(a)})},QBe=function(t){return t.parentNode?QBe(t.parentNode):t},Gee=function(t){var e=uM(t);return e.filter(Boolean).reduce(function(n,r){var i=r.getAttribute(vq);return n.push.apply(n,i?bBt(Am(QBe(r).querySelectorAll("[".concat(vq,'="').concat(i,'"]:not([').concat(PBe,'="disabled"])')))):[r]),n},[])},xBt=function(t){try{return t()}catch{return}},RA=function(t){if(t===void 0&&(t=document),!(!t||!t.activeElement)){var e=t.activeElement;return e.shadowRoot?RA(e.shadowRoot):e instanceof HTMLIFrameElement&&xBt(function(){return e.contentWindow.document})?RA(e.contentWindow.document):e}},wBt=function(t,e){return t===e},_Bt=function(t,e){return!!Am(t.querySelectorAll("iframe")).some(function(n){return wBt(n,e)})},JBe=function(t,e){return e===void 0&&(e=RA(UBe(t).ownerDocument)),!e||e.dataset&&e.dataset.focusGuard?!1:Gee(t).some(function(n){return e_(n,e)||_Bt(n,e)})},CBt=function(t){t===void 0&&(t=document);var e=RA(t);return e?Am(t.querySelectorAll("[".concat(qFt,"]"))).some(function(n){return e_(n,e)}):!1},EBt=function(t,e){return e.filter(KBe).filter(function(n){return n.name===t.name}).filter(function(n){return n.checked})[0]||t},qee=function(t,e){return KBe(t)&&t.name?EBt(t,e):t},SBt=function(t){var e=new Set;return t.forEach(function(n){return e.add(qee(n,t))}),t.filter(function(n){return e.has(n)})},Zme=function(t){return t[0]&&t.length>1?qee(t[0],t):t[0]},Xme=function(t,e){return t.length>1?t.indexOf(qee(t[e],t)):e},eNe="NEW_FOCUS",TBt=function(t,e,n,r){var i=t.length,s=t[0],o=t[i-1],a=Hee(n);if(!(n&&t.indexOf(n)>=0)){var l=n!==void 0?e.indexOf(n):-1,u=r?e.indexOf(r):l,d=r?t.indexOf(r):-1,f=l-u,h=e.indexOf(s),p=e.indexOf(o),g=SBt(e),v=n!==void 0?g.indexOf(n):-1,y=v-(r?g.indexOf(r):l),x=Xme(t,0),b=Xme(t,i-1);if(l===-1||d===-1)return eNe;if(!f&&d>=0)return d;if(l<=h&&a&&Math.abs(f)>1)return b;if(l>=p&&a&&Math.abs(f)>1)return x;if(f&&Math.abs(y)>1)return d;if(l<=h)return b;if(l>p)return x;if(f)return Math.abs(f)>1?d:(i+d+f)%i}},kBt=function(t){return function(e){var n,r=(n=qBe(e))===null||n===void 0?void 0:n.autofocus;return e.autofocus||r!==void 0&&r!=="false"||t.indexOf(e)>=0}},ABt=function(t,e,n){var r=t.map(function(s){var o=s.node;return o}),i=Yme(r.filter(kBt(n)));return i&&i.length?Zme(i):Zme(Yme(e))},bq=function(t,e){return e===void 0&&(e=[]),e.push(t),t.parentNode&&bq(t.parentNode.host||t.parentNode,e),e},jV=function(t,e){for(var n=bq(t),r=bq(e),i=0;i<n.length;i+=1){var s=n[i];if(r.indexOf(s)>=0)return s}return!1},tNe=function(t,e,n){var r=uM(t),i=uM(e),s=r[0],o=!1;return i.filter(Boolean).forEach(function(a){o=jV(o||a,a)||o,n.filter(Boolean).forEach(function(l){var u=jV(s,l);u&&(!o||e_(u,o)?o=u:o=jV(u,o))})}),o},IBt=function(t,e){return t.reduce(function(n,r){return n.concat(yBt(r,e))},[])},DBt=function(t,e){var n=new Map;return e.forEach(function(r){return n.set(r.node,r)}),t.map(function(r){return n.get(r)}).filter(fBt)},RBt=function(t,e){var n=RA(uM(t).length>0?document:UBe(t).ownerDocument),r=Gee(t).filter(cM),i=tNe(n||t,t,r),s=new Map,o=Kme(r,s),a=yq(r,s).filter(function(p){var g=p.node;return cM(g)});if(!(!a[0]&&(a=o,!a[0]))){var l=Kme([i],s).map(function(p){var g=p.node;return g}),u=DBt(l,a),d=u.map(function(p){var g=p.node;return g}),f=TBt(d,l,n,e);if(f===eNe){var h=ABt(o,d,IBt(r,s));if(h)return{node:h};console.warn("focus-lock: cannot find any node to move focus into");return}return f===void 0?f:u[f]}},jBt=function(t){var e=Gee(t).filter(cM),n=tNe(t,t,e),r=new Map,i=yq([n],r,!0),s=yq(e,r).filter(function(o){var a=o.node;return cM(a)}).map(function(o){var a=o.node;return a});return i.map(function(o){var a=o.node,l=o.index;return{node:a,index:l,lockItem:s.indexOf(a)>=0,guard:Hee(a)}})},OBt=function(t,e){"focus"in t&&t.focus(e),"contentWindow"in t&&t.contentWindow&&t.contentWindow.focus()},OV=0,LV=!1,nNe=function(t,e,n){n===void 0&&(n={});var r=RBt(t,e);if(!LV&&r){if(OV>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),LV=!0,setTimeout(function(){LV=!1},1);return}OV++,OBt(r.node,n.focusOptions),OV--}};function Yee(t){setTimeout(t,1)}var LBt=function(){return document&&document.activeElement===document.body},PBt=function(){return LBt()||CBt()},t_=null,k5=null,n_=null,jA=!1,MBt=function(){return!0},$Bt=function(e){return(t_.whiteList||MBt)(e)},FBt=function(e,n){n_={observerNode:e,portaledElement:n}},BBt=function(e){return n_&&n_.portaledElement===e};function Qme(t,e,n,r){var i=null,s=t;do{var o=r[s];if(o.guard)o.node.dataset.focusAutoGuard&&(i=o);else if(o.lockItem){if(s!==t)return;i=null}else break}while((s+=n)!==e);i&&(i.node.tabIndex=0)}var NBt=function(e){return e&&"current"in e?e.current:e},VBt=function(e){return e?!!jA:jA==="meanwhile"},UBt=function t(e,n,r){return n&&(n.host===e&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&t(e,n.parentNode,r))},HBt=function(e,n){return n.some(function(r){return UBt(e,r,r)})},dM=function(){var e=!1;if(t_){var n=t_,r=n.observed,i=n.persistentFocus,s=n.autoFocus,o=n.shards,a=n.crossFrame,l=n.focusOptions,u=r||n_&&n_.portaledElement,d=document&&document.activeElement;if(u){var f=[u].concat(o.map(NBt).filter(Boolean));if((!d||$Bt(d))&&(i||VBt(a)||!PBt()||!k5&&s)&&(u&&!(JBe(f)||d&&HBt(d,f)||BBt(d))&&(document&&!k5&&d&&!s?(d.blur&&d.blur(),document.body.focus()):(e=nNe(f,k5,{focusOptions:l}),n_={})),jA=!1,k5=document&&document.activeElement),document){var h=document&&document.activeElement,p=jBt(f),g=p.map(function(v){var y=v.node;return y}).indexOf(h);g>-1&&(p.filter(function(v){var y=v.guard,x=v.node;return y&&x.dataset.focusAutoGuard}).forEach(function(v){var y=v.node;return y.removeAttribute("tabIndex")}),Qme(g,p.length,1,p),Qme(g,-1,-1,p))}}}return e},rNe=function(e){dM()&&e&&(e.stopPropagation(),e.preventDefault())},Kee=function(){return Yee(dM)},zBt=function(e){var n=e.target,r=e.currentTarget;r.contains(n)||FBt(r,n)},WBt=function(){return null},iNe=function(){jA="just",Yee(function(){jA="meanwhile"})},GBt=function(){document.addEventListener("focusin",rNe),document.addEventListener("focusout",Kee),window.addEventListener("blur",iNe)},qBt=function(){document.removeEventListener("focusin",rNe),document.removeEventListener("focusout",Kee),window.removeEventListener("blur",iNe)};function YBt(t){return t.filter(function(e){var n=e.disabled;return!n})}function KBt(t){var e=t.slice(-1)[0];e&&!t_&&GBt();var n=t_,r=n&&e&&e.id===n.id;t_=e,n&&!r&&(n.onDeactivation(),t.filter(function(i){var s=i.id;return s===n.id}).length||n.returnFocus(!e)),e?(k5=null,(!r||n.observed!==e.observed)&&e.onActivation(),dM(),Yee(dM)):(qBt(),k5=null)}FBe.assignSyncMedium(zBt);BBe.assignMedium(Kee);eBt.assignMedium(function(t){return t({moveFocusInside:nNe,focusInside:JBe})});const ZBt=sBt(YBt,KBt)(WBt);var sNe=m.forwardRef(function(e,n){return m.createElement(NBe,nn({sideCar:ZBt,ref:n},e))}),oNe=NBe.propTypes||{};oNe.sideCar;LBe(oNe,["sideCar"]);sNe.propTypes={};const gy=sNe;var aNe={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(aNe);var XBt=aNe.exports;const QBt=vt(XBt);function hw(t){const{defaultDpr:e=1,maxDpr:n=3,round:r=!0}=t||{},s=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:e;return Math.min(Math.max(1,r?Math.floor(s):s),n)}const JBt="modulepreload",eNt=function(t){return"/"+t},Jme={},vI=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=eNt(s),s in Jme)return;Jme[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const f=i[d];if(f.href===s&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":JBt,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},tNt=typeof navigator>"u"?!1:navigator.product==="ReactNative",lNe={timeout:tNt?6e4:12e4},nNt=function(e){const n={...lNe,...typeof e=="string"?{url:e}:e},{searchParams:r}=new URL(n.url,"http://localhost");if(n.timeout=uNe(n.timeout),n.query){for(const[o,a]of Object.entries(n.query))if(a!==void 0)if(Array.isArray(a))for(const l of a)r.append(o,l);else r.append(o,a)}const[i]=n.url.split("?"),s=r.toString();return s&&(n.url="".concat(i,"?").concat(s)),n.method=n.body&&!n.method?"POST":(n.method||"GET").toUpperCase(),n};function uNe(t){if(t===!1||t===0)return!1;if(t.connect||t.socket)return t;const e=Number(t);return isNaN(e)?uNe(lNe.timeout):{connect:e,socket:e}}const rNt=/^https?:\/\//i,iNt=function(e){if(!rNt.test(e.url))throw new Error('"'.concat(e.url,'" is not a valid URL'))};var PV=function(t){return t.replace(/^\s+|\s+$/g,"")},sNt=function(t){return Object.prototype.toString.call(t)==="[object Array]"},oNt=function(t){if(!t)return{};for(var e={},n=PV(t).split(`
`),r=0;r<n.length;r++){var i=n[r],s=i.indexOf(":"),o=PV(i.slice(0,s)).toLowerCase(),a=PV(i.slice(s+1));typeof e[o]>"u"?e[o]=a:sNt(e[o])?e[o].push(a):e[o]=[e[o],a]}return e};const aNt=vt(oNt),lNt=t=>function(n,r){const i=n==="onError";let s=r;for(var o=arguments.length,a=new Array(o>2?o-2:0),l=2;l<o;l++)a[l-2]=arguments[l];for(let u=0;u<t[n].length;u++){const d=t[n][u];if(s=d(s,...a),i&&!s)break}return s};function uNt(){const t=Object.create(null);let e=0;function n(i){const s=e++;return t[s]=i,function(){delete t[s]}}function r(i){for(const s in t)t[s](i)}return{publish:r,subscribe:n}}const cNt=["request","response","progress","error","abort"],ege=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function cNe(t,e){const n=[],r=ege.reduce((s,o)=>(s[o]=s[o]||[],s),{processOptions:[nNt],validateOptions:[iNt]});function i(s){const o=(g,v,y)=>{let x=g,b=v;if(!x)try{b=l("onResponse",v,y)}catch(_){b=null,x=_}x=x&&l("onError",x,y),x?a.error.publish(x):b&&a.response.publish(b)},a=cNt.reduce((g,v)=>(g[v]=uNt(),g),{}),l=lNt(r),u=l("processOptions",s);l("validateOptions",u);const d={options:u,channels:a,applyMiddleware:l};let f;const h=a.request.subscribe(g=>{f=e(g,(v,y)=>o(v,y,g))});a.abort.subscribe(()=>{h(),f&&f.abort()});const p=l("onReturn",a,d);return p===a&&a.request.publish(d),p}return i.use=function(o){if(!o)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof o=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(o.onReturn&&r.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return ege.forEach(a=>{o[a]&&r[a].push(o[a])}),n.push(o),i},i.clone=()=>cNe(n,e),t.forEach(i.use),i}var dNt=Object.defineProperty,fNt=(t,e,n)=>e in t?dNt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nh=(t,e,n)=>(fNt(t,typeof e!="symbol"?e+"":e,n),n),dNe=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Zd=(t,e,n)=>(dNe(t,e,"read from private field"),n?n.call(t):e.get(t)),eb=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},n1=(t,e,n,r)=>(dNe(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),hO,pO,F2,mO,g1,gO,vO;class fNe{constructor(){nh(this,"onabort"),nh(this,"onerror"),nh(this,"onreadystatechange"),nh(this,"ontimeout"),nh(this,"readyState",0),nh(this,"response"),nh(this,"responseText"),nh(this,"responseType",""),nh(this,"status"),nh(this,"statusText"),nh(this,"withCredentials"),eb(this,hO,void 0),eb(this,pO,void 0),eb(this,F2,void 0),eb(this,mO,{}),eb(this,g1,void 0),eb(this,gO,{}),eb(this,vO,void 0)}open(e,n,r){n1(this,hO,e),n1(this,pO,n),n1(this,F2,""),this.readyState=1,this.onreadystatechange(),n1(this,g1,void 0)}abort(){Zd(this,g1)&&Zd(this,g1).abort()}getAllResponseHeaders(){return Zd(this,F2)}setRequestHeader(e,n){Zd(this,mO)[e]=n}setInit(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;n1(this,gO,e),n1(this,vO,n)}send(e){const n=this.responseType!=="arraybuffer",r={...Zd(this,gO),method:Zd(this,hO),headers:Zd(this,mO),body:e};typeof AbortController=="function"&&Zd(this,vO)&&(n1(this,g1,new AbortController),typeof EventTarget<"u"&&Zd(this,g1).signal instanceof EventTarget&&(r.signal=Zd(this,g1).signal)),typeof document<"u"&&(r.credentials=this.withCredentials?"include":"omit"),fetch(Zd(this,pO),r).then(i=>(i.headers.forEach((s,o)=>{n1(this,F2,Zd(this,F2)+"".concat(o,": ").concat(s,`\r
`))}),this.status=i.status,this.statusText=i.statusText,this.readyState=3,n?i.text():i.arrayBuffer())).then(i=>{typeof i=="string"?this.responseText=i:this.response=i,this.readyState=4,this.onreadystatechange()}).catch(i=>{var s;if(i.name==="AbortError"){this.onabort();return}(s=this.onerror)==null||s.call(this,i)})}}hO=new WeakMap;pO=new WeakMap;F2=new WeakMap;mO=new WeakMap;g1=new WeakMap;gO=new WeakMap;vO=new WeakMap;const xq=typeof XMLHttpRequest=="function"?"xhr":"fetch",hNt=xq==="xhr"?XMLHttpRequest:fNe,pNt=(t,e)=>{var n;const r=t.options,i=t.applyMiddleware("finalizeOptions",r),s={},o=t.applyMiddleware("interceptRequest",void 0,{adapter:xq,context:t});if(o){const C=setTimeout(e,0,null,o);return{abort:()=>clearTimeout(C)}}let a=new hNt;a instanceof fNe&&typeof i.fetch=="object"&&a.setInit(i.fetch,(n=i.useAbortSignal)!=null?n:!0);const l=i.headers,u=i.timeout;let d=!1,f=!1,h=!1;if(a.onerror=C=>{x(new Error("Request error while attempting to reach ".concat(i.url).concat(C.lengthComputable?"(".concat(C.loaded," of ").concat(C.total," bytes transferred)"):"")))},a.ontimeout=C=>{x(new Error("Request timeout while attempting to reach ".concat(i.url).concat(C.lengthComputable?"(".concat(C.loaded," of ").concat(C.total," bytes transferred)"):"")))},a.onabort=()=>{y(!0),d=!0},a.onreadystatechange=()=>{v(),!(d||a.readyState!==4)&&a.status!==0&&_()},a.open(i.method,i.url,!0),a.withCredentials=!!i.withCredentials,l&&a.setRequestHeader)for(const C in l)l.hasOwnProperty(C)&&a.setRequestHeader(C,l[C]);return i.rawBody&&(a.responseType="arraybuffer"),t.applyMiddleware("onRequest",{options:i,adapter:xq,request:a,context:t}),a.send(i.body||null),u&&(s.connect=setTimeout(()=>g("ETIMEDOUT"),u.connect)),{abort:p};function p(){d=!0,a&&a.abort()}function g(C){h=!0,a.abort();const S=new Error(C==="ESOCKETTIMEDOUT"?"Socket timed out on request to ".concat(i.url):"Connection timed out on request to ".concat(i.url));S.code=C,t.channels.error.publish(S)}function v(){u&&(y(),s.socket=setTimeout(()=>g("ESOCKETTIMEDOUT"),u.socket))}function y(C){(C||d||a.readyState>=2&&s.connect)&&clearTimeout(s.connect),s.socket&&clearTimeout(s.socket)}function x(C){if(f)return;y(!0),f=!0,a=null;const S=C||new Error("Network error while attempting to reach ".concat(i.url));S.isNetworkError=!0,S.request=i,e(S)}function b(){return{body:a.response||(a.responseType===""||a.responseType==="text"?a.responseText:""),url:i.url,method:i.method,headers:aNt(a.getAllResponseHeaders()),statusCode:a.status,statusMessage:a.statusText}}function _(){if(!(d||f||h)){if(a.status===0){x(new Error("Unknown XHR error"));return}y(),f=!0,e(null,b())}}},mNt=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pNt;return cNe(t,e)};var tge={exports:{}};function gNt(t){n.debug=n,n.default=n,n.coerce=l,n.disable=s,n.enable=i,n.enabled=o,n.humanize=x9(),n.destroy=u,Object.keys(t).forEach(d=>{n[d]=t[d]}),n.names=[],n.skips=[],n.formatters={};function e(d){let f=0;for(let h=0;h<d.length;h++)f=(f<<5)-f+d.charCodeAt(h),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=e;function n(d){let f,h=null,p,g;function v(...y){if(!v.enabled)return;const x=v,b=Number(new Date),_=b-(f||b);x.diff=_,x.prev=f,x.curr=b,f=b,y[0]=n.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let C=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(T,A)=>{if(T==="%%")return"%";C++;const k=n.formatters[A];if(typeof k=="function"){const I=y[C];T=k.call(x,I),y.splice(C,1),C--}return T}),n.formatArgs.call(x,y),(x.log||n.log).apply(x,y)}return v.namespace=d,v.useColors=n.useColors(),v.color=n.selectColor(d),v.extend=r,v.destroy=n.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(p!==n.namespaces&&(p=n.namespaces,g=n.enabled(d)),g),set:y=>{h=y}}),typeof n.init=="function"&&n.init(v),v}function r(d,f){const h=n(this.namespace+(typeof f>"u"?":":f)+d);return h.log=this.log,h}function i(d){n.save(d),n.namespaces=d,n.names=[],n.skips=[];let f;const h=(typeof d=="string"?d:"").split(/[\s,]+/),p=h.length;for(f=0;f<p;f++)h[f]&&(d=h[f].replace(/\*/g,".*?"),d[0]==="-"?n.skips.push(new RegExp("^"+d.slice(1)+"$")):n.names.push(new RegExp("^"+d+"$")))}function s(){const d=[...n.names.map(a),...n.skips.map(a).map(f=>"-"+f)].join(",");return n.enable(""),d}function o(d){if(d[d.length-1]==="*")return!0;let f,h;for(f=0,h=n.skips.length;f<h;f++)if(n.skips[f].test(d))return!1;for(f=0,h=n.names.length;f<h;f++)if(n.names[f].test(d))return!0;return!1}function a(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function l(d){return d instanceof Error?d.stack||d.message:d}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var vNt=gNt;(function(t,e){e.formatArgs=r,e.save=i,e.load=s,e.useColors=n,e.storage=o(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let d=0,f=0;l[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(d++,h==="%c"&&(f=d))}),l.splice(f,0,u)}e.log=console.debug||console.log||(()=>{});function i(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function s(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l={}.DEBUG),l}function o(){try{return localStorage}catch{}}t.exports=vNt(e);const{formatters:a}=t.exports;a.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(tge,tge.exports);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function nge(t){return Object.prototype.toString.call(t)==="[object Object]"}function _l(t){var e,n;return nge(t)===!1?!1:(e=t.constructor,e===void 0?!0:(n=e.prototype,!(nge(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}const yNt=typeof Buffer>"u"?()=>!1:t=>Buffer.isBuffer(t),bNt=["boolean","string","number"];function xNt(){return{processOptions:t=>{const e=t.body;return!e||!(!(typeof e.pipe=="function")&&!yNt(e)&&(bNt.indexOf(typeof e)!==-1||Array.isArray(e)||_l(e)))?t:Object.assign({},t,{body:JSON.stringify(t.body),headers:Object.assign({},t.headers,{"Content-Type":"application/json"})})}}}function wNt(t){return{onResponse:n=>{const r=n.headers["content-type"]||"",i=t&&t.force||r.indexOf("application/json")!==-1;return!n.body||!r||!i?n:Object.assign({},n,{body:e(n.body)})},processOptions:n=>Object.assign({},n,{headers:Object.assign({Accept:"application/json"},n.headers)})};function e(n){try{return JSON.parse(n)}catch(r){throw r.message="Failed to parsed response body as JSON: ".concat(r.message),r}}}let ST={};typeof globalThis<"u"?ST=globalThis:typeof window<"u"?ST=window:typeof global<"u"?ST=global:typeof self<"u"&&(ST=self);var _Nt=ST;function CNt(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).implementation||_Nt.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(n,r)=>new e(i=>(n.error.subscribe(s=>i.error(s)),n.progress.subscribe(s=>i.next(Object.assign({type:"progress"},s))),n.response.subscribe(s=>{i.next(Object.assign({type:"response"},s)),i.complete()}),n.request.publish(r),()=>n.abort.publish()))}}function ENt(){return{onRequest:t=>{if(t.adapter!=="xhr")return;const e=t.request,n=t.context;"upload"in e&&"onprogress"in e.upload&&(e.upload.onprogress=r("upload")),"onprogress"in e&&(e.onprogress=r("download"));function r(i){return s=>{const o=s.lengthComputable?s.loaded/s.total*100:-1;n.channels.progress.publish({stage:i,percent:o,total:s.total,loaded:s.loaded,lengthComputable:s.lengthComputable})}}}}}var SNt=Object.defineProperty,TNt=(t,e,n)=>e in t?SNt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,OA=(t,e,n)=>(TNt(t,typeof e!="symbol"?e+"":e,n),n);class kNt{constructor(e){OA(this,"__CANCEL__",!0),OA(this,"message"),this.message=e}toString(){return"Cancel".concat(this.message?": ".concat(this.message):"")}}const rge=class{constructor(e){if(OA(this,"promise"),OA(this,"reason"),typeof e!="function")throw new TypeError("executor must be a function.");let n=null;this.promise=new Promise(r=>{n=r}),e(r=>{this.reason||(this.reason=new kNt(r),n(this.reason))})}};OA(rge,"source",()=>{let t;return{token:new rge(n=>{t=n}),cancel:t}});var hNe=(t,e,n)=>n.method!=="GET"&&n.method!=="HEAD"?!1:t.isNetworkError||!1;const ANt=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";var INt=t=>{const e=t.maxRetries||5,n=t.retryDelay||DNt,r=t.shouldRetry;return{onError:(i,s)=>{const o=s.options,a=o.maxRetries||e,l=o.shouldRetry||r,u=o.attemptNumber||0;if(ANt(o.body)||!l(i,u,o)||u>=a)return i;const d=Object.assign({},s,{options:Object.assign({},o,{attemptNumber:u+1})});return setTimeout(()=>s.channels.request.publish(d),n(u)),null}}};function DNt(t){return 100*Math.pow(2,t)+Math.random()*100}const Zee=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return INt({shouldRetry:hNe,...t})};Zee.shouldRetry=hNe;var pNe=[],RNt=Object.defineProperty,jNt=(t,e,n)=>e in t?RNt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,G1=(t,e,n)=>(jNt(t,typeof e!="symbol"?e+"":e,n),n);const MV=5;class ONt extends Error{constructor(e){const n=mNe(e);super(n.message),G1(this,"response"),G1(this,"statusCode",400),G1(this,"responseBody"),G1(this,"details"),Object.assign(this,n)}}class LNt extends Error{constructor(e){const n=mNe(e);super(n.message),G1(this,"response"),G1(this,"statusCode",500),G1(this,"responseBody"),G1(this,"details"),Object.assign(this,n)}}function mNe(t){const e=t.body,n={response:t,statusCode:t.statusCode,responseBody:$Nt(e,t),message:"",details:void 0};if(e.error&&e.message)return n.message="".concat(e.error," - ").concat(e.message),n;if(PNt(e)){const r=e.error.items||[],i=r.slice(0,MV).map(o=>{var a;return(a=o.error)==null?void 0:a.description}).filter(Boolean);let s=i.length?`:
- `.concat(i.join(`
- `)):"";return r.length>MV&&(s+=`
...and `.concat(r.length-MV," more")),n.message="".concat(e.error.description).concat(s),n.details=e.error,n}return e.error&&e.error.description?(n.message=e.error.description,n.details=e.error,n):(n.message=e.error||e.message||MNt(t),n)}function PNt(t){return ige(t)&&ige(t.error)&&t.error.type==="mutationError"&&typeof t.error.description=="string"}function ige(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function MNt(t){const e=t.statusMessage?" ".concat(t.statusMessage):"";return"".concat(t.method,"-request to ").concat(t.url," resulted in HTTP ").concat(t.statusCode).concat(e)}function $Nt(t,e){return(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(t,null,2):t}const FNt={onResponse:t=>{if(t.statusCode>=500)throw new LNt(t);if(t.statusCode>=400)throw new ONt(t);return t}},BNt={onResponse:t=>{const e=t.headers["x-sanity-warning"];return(Array.isArray(e)?e:[e]).filter(Boolean).forEach(r=>console.warn(r)),t}};function gNe(t,e){let{maxRetries:n=5,retryDelay:r}=e;const i=mNt([n>0?Zee({retryDelay:r,maxRetries:n,shouldRetry:NNt}):{},...t,BNt,xNt(),wNt(),ENt(),FNt,CNt({implementation:On})]);function s(o){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:i)({maxRedirects:0,...o})}return s.defaultRequester=i,s}function NNt(t,e,n){const r=n.method==="GET"||n.method==="HEAD",s=(n.uri||n.url).startsWith("/data/query"),o=t.response&&(t.response.statusCode===429||t.response.statusCode===502||t.response.statusCode===503);return(r||s)&&o?!0:Zee.shouldRetry(t,e,n)}const VNt="https://www.sanity.io/help/";function Xee(t){return VNt+t}const sge=["image","file"],oge=["before","after","replace"],vNe=t=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(t))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},UNt=t=>{if(!/^[-a-z0-9]+$/i.test(t))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},HNt=t=>{if(sge.indexOf(t)===-1)throw new Error("Invalid asset type: ".concat(t,". Must be one of ").concat(sge.join(", ")))},xk=(t,e)=>{if(e===null||typeof e!="object"||Array.isArray(e))throw new Error("".concat(t,"() takes an object of properties"))},yNe=(t,e)=>{if(typeof e!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(e)||e.includes(".."))throw new Error("".concat(t,'(): "').concat(e,'" is not a valid document ID'))},fM=(t,e)=>{if(!e._id)throw new Error("".concat(t,'() requires that the document contains an ID ("_id" property)'));yNe(t,e._id)},zNt=(t,e,n)=>{const r="insert(at, selector, items)";if(oge.indexOf(t)===-1){const i=oge.map(s=>'"'.concat(s,'"')).join(", ");throw new Error("".concat(r,' takes an "at"-argument which is one of: ').concat(i))}if(typeof e!="string")throw new Error("".concat(r,' takes a "selector"-argument which must be a string'));if(!Array.isArray(n))throw new Error("".concat(r,' takes an "items"-argument which must be an array'))},bNe=t=>{if(!t.dataset)throw new Error("`dataset` must be provided to perform queries");return t.dataset||""},xNe=t=>{if(typeof t!="string"||!/^[a-z0-9._-]{1,75}$/i.test(t))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return t};function WNt(t){let e=!1,n;return function(){return e||(n=t(...arguments),e=!0),n}}const S9=t=>WNt(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return console.warn(t.join(" "),...n)}),GNt=S9(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),qNt=S9(["The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),YNt=S9(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.","See ".concat(Xee("js-client-browser-token")," for more information and how to hide this warning.")]),KNt=S9(["Using the Sanity client without specifying an API version is deprecated.","See ".concat(Xee("js-client-api-version"))]),ZNt="apicdn.sanity.io",hM={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0},XNt=["localhost","127.0.0.1","0.0.0.0"],QNt=t=>XNt.indexOf(t)!==-1,JNt=function(e){if(e==="1"||e==="X")return;const n=new Date(e);if(!(/^\d{4}-\d{2}-\d{2}$/.test(e)&&n instanceof Date&&n.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")},wNe=function(e){switch(e){case"previewDrafts":case"published":case"raw":return;default:throw new TypeError("Invalid API perspective string, expected `published`, `previewDrafts` or `raw`")}},_Ne=(t,e)=>{const n=Object.assign({},e,t);n.apiVersion||KNt();const r=Object.assign({},hM,n),i=r.useProjectHostname;if(typeof Promise>"u"){const f=Xee("js-client-promise-polyfill");throw new Error("No native Promise-implementation found, polyfill needed - see ".concat(f))}if(i&&!r.projectId)throw new Error("Configuration must contain `projectId`");if(typeof r.perspective=="string"&&wNe(r.perspective),"encodeSourceMapAtPath"in r||"encodeSourceMap"in r||"studioUrl"in r||"logger"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client', such as 'encodeSourceMapAtPath', 'encodeSourceMap', 'studioUrl' and 'logger'. Make sure you're using the right import.");const s=typeof window<"u"&&window.location&&window.location.hostname,o=s&&QNt(window.location.hostname);s&&o&&r.token&&r.ignoreBrowserTokenWarning!==!0?YNt():typeof r.useCdn>"u"&&GNt(),i&&UNt(r.projectId),r.dataset&&vNe(r.dataset),"requestTagPrefix"in r&&(r.requestTagPrefix=r.requestTagPrefix?xNe(r.requestTagPrefix).replace(/\.+$/,""):void 0),r.apiVersion="".concat(r.apiVersion).replace(/^v/,""),r.isDefaultApi=r.apiHost===hM.apiHost,r.useCdn=r.useCdn!==!1&&!r.withCredentials,JNt(r.apiVersion);const a=r.apiHost.split("://",2),l=a[0],u=a[1],d=r.isDefaultApi?ZNt:u;return r.useProjectHostname?(r.url="".concat(l,"://").concat(r.projectId,".").concat(u,"/v").concat(r.apiVersion),r.cdnUrl="".concat(l,"://").concat(r.projectId,".").concat(d,"/v").concat(r.apiVersion)):(r.url="".concat(r.apiHost,"/v").concat(r.apiVersion),r.cdnUrl=r.url),r},eVt="X-Sanity-Project-ID";function tVt(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n={},r=e.token||t.token;r&&(n.Authorization="Bearer ".concat(r)),!e.useGlobalApi&&!t.useProjectHostname&&t.projectId&&(n[eVt]=t.projectId);const i=!!(typeof e.withCredentials>"u"?t.token||t.withCredentials:e.withCredentials),s=typeof e.timeout>"u"?t.timeout:e.timeout;return Object.assign({},e,{headers:Object.assign({},n,e.headers||{}),timeout:typeof s>"u"?5*60*1e3:s,proxy:e.proxy||t.proxy,json:!0,withCredentials:i,fetch:typeof e.fetch=="object"&&typeof t.fetch=="object"?{...t.fetch,...e.fetch}:e.fetch||t.fetch})}function CNe(t){if(typeof t=="string"||Array.isArray(t))return{id:t};if(typeof t=="object"&&t!==null&&"query"in t&&typeof t.query=="string")return"params"in t&&typeof t.params=="object"&&t.params!==null?{query:t.query,params:t.params}:{query:t.query};const e=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

`.concat(e))}const ENe=t=>{let{query:e,params:n={},options:r={}}=t;const i=new URLSearchParams,{tag:s,...o}=r;s&&i.append("tag",s),i.append("query",e);for(const[a,l]of Object.entries(n))i.append("$".concat(a),JSON.stringify(l));for(const[a,l]of Object.entries(o))l&&i.append(a,"".concat(l));return"?".concat(i)};var nVt=Object.defineProperty,rVt=(t,e,n)=>e in t?nVt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,age=(t,e,n)=>(rVt(t,typeof e!="symbol"?e+"":e,n),n),SNe=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},r_=(t,e,n)=>(SNe(t,e,"read from private field"),n?n.call(t):e.get(t)),TNe=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},kNe=(t,e,n,r)=>(SNe(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),B2,N2;class ANe{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};age(this,"selection"),age(this,"operations"),this.selection=e,this.operations=n}set(e){return this._assign("set",e)}setIfMissing(e){return this._assign("setIfMissing",e)}diffMatchPatch(e){return xk("diffMatchPatch",e),this._assign("diffMatchPatch",e)}unset(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:e}),this}inc(e){return this._assign("inc",e)}dec(e){return this._assign("dec",e)}insert(e,n,r){return zNt(e,n,r),this._assign("insert",{[e]:n,items:r})}append(e,n){return this.insert("after","".concat(e,"[-1]"),n)}prepend(e,n){return this.insert("before","".concat(e,"[0]"),n)}splice(e,n,r,i){const s=typeof r>"u"||r===-1,o=n<0?n-1:n,a=s?-1:Math.max(0,n+r),l=o<0&&a>=0?"":a,u="".concat(e,"[").concat(o,":").concat(l,"]");return this.insert("replace",u,i||[])}ifRevisionId(e){return this.operations.ifRevisionID=e,this}serialize(){return{...CNe(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return xk(e,n),this.operations=Object.assign({},this.operations,{[e]:Object.assign({},r&&this.operations[e]||{},n)}),this}_set(e,n){return this._assign(e,n,!1)}}const iVt=class INe extends ANe{constructor(e,n,r){super(e,n),TNe(this,B2,void 0),kNe(this,B2,r)}clone(){return new INe(this.selection,{...this.operations},r_(this,B2))}commit(e){if(!r_(this,B2))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",r=Object.assign({returnFirst:n,returnDocuments:!0},e);return r_(this,B2).mutate({patch:this.serialize()},r)}};B2=new WeakMap;let wk=iVt;const sVt=class DNe extends ANe{constructor(e,n,r){super(e,n),TNe(this,N2,void 0),kNe(this,N2,r)}clone(){return new DNe(this.selection,{...this.operations},r_(this,N2))}commit(e){if(!r_(this,N2))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",r=Object.assign({returnFirst:n,returnDocuments:!0},e);return r_(this,N2).mutate({patch:this.serialize()},r)}};N2=new WeakMap;let _k=sVt;var oVt=Object.defineProperty,aVt=(t,e,n)=>e in t?oVt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lge=(t,e,n)=>(aVt(t,typeof e!="symbol"?e+"":e,n),n),RNe=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},q1=(t,e,n)=>(RNe(t,e,"read from private field"),n?n.call(t):e.get(t)),jNe=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},ONe=(t,e,n,r)=>(RNe(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),wb,_b;const LNe={returnDocuments:!1};class PNe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;lge(this,"operations"),lge(this,"trxId"),this.operations=e,this.trxId=n}create(e){return xk("create",e),this._add({create:e})}createIfNotExists(e){const n="createIfNotExists";return xk(n,e),fM(n,e),this._add({[n]:e})}createOrReplace(e){const n="createOrReplace";return xk(n,e),fM(n,e),this._add({[n]:e})}delete(e){return yNe("delete",e),this._add({delete:{id:e}})}transactionId(e){return e?(this.trxId=e,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(e){return this.operations.push(e),this}}const lVt=class MNe extends PNe{constructor(e,n,r){super(e,r),jNe(this,wb,void 0),ONe(this,wb,n)}clone(){return new MNe([...this.operations],q1(this,wb),this.trxId)}commit(e){if(!q1(this,wb))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return q1(this,wb).mutate(this.serialize(),Object.assign({transactionId:this.trxId},LNe,e||{}))}patch(e,n){const r=typeof n=="function";if(typeof e!="string"&&e instanceof _k)return this._add({patch:e.serialize()});if(r){const s=n(new _k(e,{},q1(this,wb)));if(!(s instanceof _k))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:s.serialize()})}return this._add({patch:{id:e,...n}})}};wb=new WeakMap;let $Ne=lVt;const uVt=class FNe extends PNe{constructor(e,n,r){super(e,r),jNe(this,_b,void 0),ONe(this,_b,n)}clone(){return new FNe([...this.operations],q1(this,_b),this.trxId)}commit(e){if(!q1(this,_b))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return q1(this,_b).mutate(this.serialize(),Object.assign({transactionId:this.trxId},LNe,e||{}))}patch(e,n){const r=typeof n=="function";if(typeof e!="string"&&e instanceof wk)return this._add({patch:e.serialize()});if(r){const s=n(new wk(e,{},q1(this,_b)));if(!(s instanceof wk))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:s.serialize()})}return this._add({patch:{id:e,...n}})}};_b=new WeakMap;let BNe=uVt;const cVt=(t,e)=>t===!1?void 0:typeof t>"u"?e:t,dVt=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dryRun:t.dryRun,returnIds:!0,returnDocuments:cVt(t.returnDocuments,!0),visibility:t.visibility||"sync",autoGenerateArrayKeys:t.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:t.skipCrossDatasetReferenceValidation}},Qee=t=>t.type==="response",fVt=t=>t.body,hVt=(t,e)=>t.reduce((n,r)=>(n[e(r)]=r,n),Object.create(null)),pVt=11264;function NNe(t,e,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const s=i.filterResponse===!1?d=>d:d=>d.result,{cache:o,next:a,...l}={useAbortSignal:typeof i.signal<"u",...i},u=typeof o<"u"||typeof a<"u"?{...l,fetch:{cache:o,next:a}}:l;return yI(t,e,"query",{query:n,params:r},u).pipe(Be(s))}function VNe(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i={uri:JC(t,"doc",n),json:!0,tag:r.tag};return bI(t,e,i).pipe(dt(Qee),Be(s=>s.body.documents&&s.body.documents[0]))}function UNe(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i={uri:JC(t,"doc",n.join(",")),json:!0,tag:r.tag};return bI(t,e,i).pipe(dt(Qee),Be(s=>{const o=hVt(s.body.documents||[],a=>a._id);return n.map(a=>o[a]||null)}))}function HNe(t,e,n,r){return fM("createIfNotExists",n),T9(t,e,n,"createIfNotExists",r)}function zNe(t,e,n,r){return fM("createOrReplace",n),T9(t,e,n,"createOrReplace",r)}function WNe(t,e,n,r){return yI(t,e,"mutate",{mutations:[{delete:CNe(n)}]},r)}function GNe(t,e,n,r){let i;n instanceof _k||n instanceof wk?i={patch:n.serialize()}:n instanceof $Ne||n instanceof BNe?i=n.serialize():i=n;const s=Array.isArray(i)?i:[i],o=r&&r.transactionId||void 0;return yI(t,e,"mutate",{mutations:s,transactionId:o},r)}function yI(t,e,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const s=n==="mutate",o=n==="query",a=s?"":ENe(r),l=!s&&a.length<pVt,u=l?a:"",d=i.returnFirst,{timeout:f,token:h,tag:p,headers:g}=i,v=JC(t,n,u),y={method:l?"GET":"POST",uri:v,json:!0,body:l?void 0:r,query:s&&dVt(i),timeout:f,headers:g,token:h,tag:p,perspective:i.perspective,resultSourceMap:i.resultSourceMap,canUseCdn:o,signal:i.signal,fetch:i.fetch,useAbortSignal:i.useAbortSignal};return bI(t,e,y).pipe(dt(Qee),Be(fVt),Be(x=>{if(!s)return x;const b=x.results||[];if(i.returnDocuments)return d?b[0]&&b[0].document:b.map(S=>S.document);const _=d?"documentId":"documentIds",C=d?b[0]&&b[0].id:b.map(S=>S.id);return{transactionId:x.transactionId,results:b,[_]:C}}))}function T9(t,e,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const s={[r]:n},o=Object.assign({returnFirst:!0,returnDocuments:!0},i);return yI(t,e,"mutate",{mutations:[s]},o)}function bI(t,e,n){var r;const i=n.url||n.uri,s=t.config(),o=typeof n.canUseCdn>"u"?["GET","HEAD"].indexOf(n.method||"GET")>=0&&i.indexOf("/data/")===0:n.canUseCdn;let a=s.useCdn&&o;const l=n.tag&&s.requestTagPrefix?[s.requestTagPrefix,n.tag].join("."):n.tag||s.requestTagPrefix;if(l&&(n.query={tag:xNe(l),...n.query}),["GET","HEAD","POST"].indexOf(n.method||"GET")>=0&&i.indexOf("/data/query/")===0){((r=n.resultSourceMap)!=null?r:s.resultSourceMap)&&(n.query={resultSourceMap:!0,...n.query});const f=n.perspective||s.perspective;typeof f=="string"&&f!=="raw"&&(wNe(f),n.query={perspective:f,...n.query},f==="previewDrafts"&&a&&(a=!1,qNt()))}const u=tVt(s,Object.assign({},n,{url:Jee(t,i,a)})),d=new On(f=>e(u,s.requester).subscribe(f));return n.signal?d.pipe(mVt(n.signal)):d}function Nh(t,e,n){return bI(t,e,n).pipe(dt(i=>i.type==="response"),Be(i=>i.body))}function JC(t,e,n){const r=t.config(),i=bNe(r),s="/".concat(e,"/").concat(i),o=n?"".concat(s,"/").concat(n):s;return"/data".concat(o).replace(/\/($|\?)/,"$1")}function Jee(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{url:r,cdnUrl:i}=t.config(),s=n?i:r;return"".concat(s,"/").concat(e.replace(/^\//,""))}function mVt(t){return e=>new On(n=>{const r=()=>n.error(vVt(t));if(t&&t.aborted){r();return}const i=e.subscribe(n);return t.addEventListener("abort",r),()=>{t.removeEventListener("abort",r),i.unsubscribe()}})}const gVt=!!globalThis.DOMException;function vVt(t){var e,n;if(gVt)return new DOMException((e=t==null?void 0:t.reason)!=null?e:"The operation was aborted.","AbortError");const r=new Error((n=t==null?void 0:t.reason)!=null?n:"The operation was aborted.");return r.name="AbortError",r}var qNe=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},pM=(t,e,n)=>(qNe(t,e,"read from private field"),n?n.call(t):e.get(t)),mM=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},gM=(t,e,n,r)=>(qNe(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),yO,bO,xO,wO;class yVt{constructor(e,n){mM(this,yO,void 0),mM(this,bO,void 0),gM(this,yO,e),gM(this,bO,n)}upload(e,n,r){return YNe(pM(this,yO),pM(this,bO),e,n,r)}}yO=new WeakMap;bO=new WeakMap;class bVt{constructor(e,n){mM(this,xO,void 0),mM(this,wO,void 0),gM(this,xO,e),gM(this,wO,n)}upload(e,n,r){const i=YNe(pM(this,xO),pM(this,wO),e,n,r);return Ta(i.pipe(dt(s=>s.type==="response"),Be(s=>s.body.document)))}}xO=new WeakMap;wO=new WeakMap;function YNe(t,e,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};HNt(n);let s=i.extract||void 0;s&&!s.length&&(s=["none"]);const o=bNe(t.config()),a=n==="image"?"images":"files",l=xVt(i,r),{tag:u,label:d,title:f,description:h,creditLine:p,filename:g,source:v}=l,y={label:d,title:f,description:h,filename:g,meta:s,creditLine:p};return v&&(y.sourceId=v.id,y.sourceName=v.name,y.sourceUrl=v.url),bI(t,e,{tag:u,method:"POST",timeout:l.timeout||0,uri:"/assets/".concat(a,"/").concat(o),headers:l.contentType?{"Content-Type":l.contentType}:{},query:y,body:r})}function xVt(t,e){return typeof File>"u"||!(e instanceof File)?t:Object.assign({filename:t.preserveFilename===!1?void 0:e.name,contentType:e.type},t)}var wVt=(t,e)=>Object.keys(e).concat(Object.keys(t)).reduce((n,r)=>(n[r]=typeof t[r]>"u"?e[r]:t[r],n),{});const _Vt=(t,e)=>e.reduce((n,r)=>(typeof t[r]>"u"||(n[r]=t[r]),n),{}),CVt=16e3-1200,EVt=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],SVt={includeResult:!0};function KNe(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{url:r,token:i,withCredentials:s,requestTagPrefix:o}=this.config(),a=n.tag&&o?[o,n.tag].join("."):n.tag,l={...wVt(n,SVt),tag:a},u=_Vt(l,EVt),d=ENe({query:t,params:e,options:{tag:a,...u}}),f="".concat(r).concat(JC(this,"listen",d));if(f.length>CVt)return new On(v=>v.error(new Error("Query too large for listener")));const h=l.events?l.events:["mutation"],p=h.indexOf("reconnect")!==-1,g={};return(i||s)&&(g.withCredentials=!0),i&&(g.headers={Authorization:"Bearer ".concat(i)}),new On(v=>{let y;I().then(O=>{y=O}).catch(O=>{v.error(O),R()});let x,b=!1;function _(){b||(k(),!b&&y.readyState===y.CLOSED&&(A(),clearTimeout(x),x=setTimeout(D,100)))}function C(O){v.error(TVt(O))}function S(O){const L=ZNe(O);return L instanceof Error?v.error(L):v.next(L)}function T(){b=!0,A(),v.complete()}function A(){y&&(y.removeEventListener("error",_),y.removeEventListener("channelError",C),y.removeEventListener("disconnect",T),h.forEach(O=>y.removeEventListener(O,S)),y.close())}function k(){p&&v.next({type:"reconnect"})}async function I(){const{default:O}=await vI(()=>import("./browser-c969fa51.js").then(P=>P.b),[]),L=new O(f,g);return L.addEventListener("error",_),L.addEventListener("channelError",C),L.addEventListener("disconnect",T),h.forEach(P=>L.addEventListener(P,S)),L}function D(){I().then(O=>{y=O}).catch(O=>{v.error(O),R()})}function R(){b=!0,A()}return R})}function ZNe(t){try{const e=t.data&&JSON.parse(t.data)||{};return Object.assign({type:t.type},e)}catch(e){return e}}function TVt(t){if(t instanceof Error)return t;const e=ZNe(t);return e instanceof Error?e:new Error(kVt(e))}function kVt(t){return t.error?t.error.description?t.error.description:typeof t.error=="string"?t.error:JSON.stringify(t.error,null,2):t.message||"Unknown listener error"}var XNe=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},iu=(t,e,n)=>(XNe(t,e,"read from private field"),n?n.call(t):e.get(t)),vM=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},yM=(t,e,n,r)=>(XNe(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Cb,Eb,Sb,Tb;class AVt{constructor(e,n){vM(this,Cb,void 0),vM(this,Eb,void 0),yM(this,Cb,e),yM(this,Eb,n)}create(e,n){return i_(iu(this,Cb),iu(this,Eb),"PUT",e,n)}edit(e,n){return i_(iu(this,Cb),iu(this,Eb),"PATCH",e,n)}delete(e){return i_(iu(this,Cb),iu(this,Eb),"DELETE",e)}list(){return Nh(iu(this,Cb),iu(this,Eb),{uri:"/datasets"})}}Cb=new WeakMap;Eb=new WeakMap;class IVt{constructor(e,n){vM(this,Sb,void 0),vM(this,Tb,void 0),yM(this,Sb,e),yM(this,Tb,n)}create(e,n){return Ta(i_(iu(this,Sb),iu(this,Tb),"PUT",e,n))}edit(e,n){return Ta(i_(iu(this,Sb),iu(this,Tb),"PATCH",e,n))}delete(e){return Ta(i_(iu(this,Sb),iu(this,Tb),"DELETE",e))}list(){return Ta(Nh(iu(this,Sb),iu(this,Tb),{uri:"/datasets"}))}}Sb=new WeakMap;Tb=new WeakMap;function i_(t,e,n,r,i){return vNe(r),Nh(t,e,{method:n,uri:"/datasets/".concat(r),body:i})}var QNe=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Y1=(t,e,n)=>(QNe(t,e,"read from private field"),n?n.call(t):e.get(t)),bM=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},xM=(t,e,n,r)=>(QNe(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),TT,kT,AT,IT;class DVt{constructor(e,n){bM(this,TT,void 0),bM(this,kT,void 0),xM(this,TT,e),xM(this,kT,n)}list(e){const n=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return Nh(Y1(this,TT),Y1(this,kT),{uri:n})}getById(e){return Nh(Y1(this,TT),Y1(this,kT),{uri:"/projects/".concat(e)})}}TT=new WeakMap;kT=new WeakMap;class RVt{constructor(e,n){bM(this,AT,void 0),bM(this,IT,void 0),xM(this,AT,e),xM(this,IT,n)}list(e){const n=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return Ta(Nh(Y1(this,AT),Y1(this,IT),{uri:n}))}getById(e){return Ta(Nh(Y1(this,AT),Y1(this,IT),{uri:"/projects/".concat(e)}))}}AT=new WeakMap;IT=new WeakMap;var JNe=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},wM=(t,e,n)=>(JNe(t,e,"read from private field"),n?n.call(t):e.get(t)),_M=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},CM=(t,e,n,r)=>(JNe(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),_O,CO,EO,SO;class jVt{constructor(e,n){_M(this,_O,void 0),_M(this,CO,void 0),CM(this,_O,e),CM(this,CO,n)}getById(e){return Nh(wM(this,_O),wM(this,CO),{uri:"/users/".concat(e)})}}_O=new WeakMap;CO=new WeakMap;class OVt{constructor(e,n){_M(this,EO,void 0),_M(this,SO,void 0),CM(this,EO,e),CM(this,SO,n)}getById(e){return Ta(Nh(wM(this,EO),wM(this,SO),{uri:"/users/".concat(e)}))}}EO=new WeakMap;SO=new WeakMap;var LVt=Object.defineProperty,PVt=(t,e,n)=>e in t?LVt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hh=(t,e,n)=>(PVt(t,typeof e!="symbol"?e+"":e,n),n),eVe=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},pr=(t,e,n)=>(eVe(t,e,"read from private field"),n?n.call(t):e.get(t)),EM=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},SM=(t,e,n,r)=>(eVe(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),kb,za,Ab,Ea;const MVt=class wq{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hM;hh(this,"assets"),hh(this,"datasets"),hh(this,"projects"),hh(this,"users"),EM(this,kb,void 0),EM(this,za,void 0),hh(this,"listen",KNe),this.config(n),SM(this,za,e),this.assets=new yVt(this,pr(this,za)),this.datasets=new AVt(this,pr(this,za)),this.projects=new DVt(this,pr(this,za)),this.users=new jVt(this,pr(this,za))}clone(){return new wq(pr(this,za),this.config())}config(e){if(e===void 0)return{...pr(this,kb)};if(pr(this,kb)&&pr(this,kb).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return SM(this,kb,_Ne(e,pr(this,kb)||{})),this}withConfig(e){return new wq(pr(this,za),{...this.config(),...e})}fetch(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return NNe(this,pr(this,za),e,n,r)}getDocument(e,n){return VNe(this,pr(this,za),e,n)}getDocuments(e,n){return UNe(this,pr(this,za),e,n)}create(e,n){return T9(this,pr(this,za),e,"create",n)}createIfNotExists(e,n){return HNe(this,pr(this,za),e,n)}createOrReplace(e,n){return zNe(this,pr(this,za),e,n)}delete(e,n){return WNe(this,pr(this,za),e,n)}mutate(e,n){return GNe(this,pr(this,za),e,n)}patch(e,n){return new wk(e,n,this)}transaction(e){return new BNe(e,this)}request(e){return Nh(this,pr(this,za),e)}getUrl(e,n){return Jee(this,e,n)}getDataUrl(e,n){return JC(this,e,n)}};kb=new WeakMap;za=new WeakMap;let $Vt=MVt;const FVt=class _q{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hM;hh(this,"assets"),hh(this,"datasets"),hh(this,"projects"),hh(this,"users"),hh(this,"observable"),EM(this,Ab,void 0),EM(this,Ea,void 0),hh(this,"listen",KNe),this.config(n),SM(this,Ea,e),this.assets=new bVt(this,pr(this,Ea)),this.datasets=new IVt(this,pr(this,Ea)),this.projects=new RVt(this,pr(this,Ea)),this.users=new OVt(this,pr(this,Ea)),this.observable=new $Vt(e,n)}clone(){return new _q(pr(this,Ea),this.config())}config(e){if(e===void 0)return{...pr(this,Ab)};if(pr(this,Ab)&&pr(this,Ab).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(e),SM(this,Ab,_Ne(e,pr(this,Ab)||{})),this}withConfig(e){return new _q(pr(this,Ea),{...this.config(),...e})}fetch(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Ta(NNe(this,pr(this,Ea),e,n,r))}getDocument(e,n){return Ta(VNe(this,pr(this,Ea),e,n))}getDocuments(e,n){return Ta(UNe(this,pr(this,Ea),e,n))}create(e,n){return Ta(T9(this,pr(this,Ea),e,"create",n))}createIfNotExists(e,n){return Ta(HNe(this,pr(this,Ea),e,n))}createOrReplace(e,n){return Ta(zNe(this,pr(this,Ea),e,n))}delete(e,n){return Ta(WNe(this,pr(this,Ea),e,n))}mutate(e,n){return Ta(GNe(this,pr(this,Ea),e,n))}patch(e,n){return new _k(e,n,this)}transaction(e){return new $Ne(e,this)}request(e){return Ta(Nh(this,pr(this,Ea),e))}dataRequest(e,n,r){return Ta(yI(this,pr(this,Ea),e,n,r))}getUrl(e,n){return Jee(this,e,n)}getDataUrl(e,n){return JC(this,e,n)}};Ab=new WeakMap;Ea=new WeakMap;let BVt=FVt;const NVt=gNe(pNe,{});NVt.defaultRequester;const tVe=t=>new BVt(gNe(pNe,{maxRetries:t.maxRetries,retryDelay:t.retryDelay}),t);var VVt=sy,UVt=Jo,HVt=Nf,zVt="[object String]";function WVt(t){return typeof t=="string"||!UVt(t)&&HVt(t)&&VVt(t)==zVt}var GVt=WVt;const k9=vt(GVt);function qVt(t,e,n,r){var i=-1,s=t==null?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}var YVt=qVt;function KVt(t){return function(e){return t==null?void 0:t[e]}}var ZVt=KVt,XVt=ZVt,QVt={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},JVt=XVt(QVt),eUt=JVt,tUt=eUt,nUt=km,rUt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,iUt="\\u0300-\\u036f",sUt="\\ufe20-\\ufe2f",oUt="\\u20d0-\\u20ff",aUt=iUt+sUt+oUt,lUt="["+aUt+"]",uUt=RegExp(lUt,"g");function cUt(t){return t=nUt(t),t&&t.replace(rUt,tUt).replace(uUt,"")}var dUt=cUt,fUt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function hUt(t){return t.match(fUt)||[]}var pUt=hUt,mUt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function gUt(t){return mUt.test(t)}var vUt=gUt,nVe="\\ud800-\\udfff",yUt="\\u0300-\\u036f",bUt="\\ufe20-\\ufe2f",xUt="\\u20d0-\\u20ff",wUt=yUt+bUt+xUt,rVe="\\u2700-\\u27bf",iVe="a-z\\xdf-\\xf6\\xf8-\\xff",_Ut="\\xac\\xb1\\xd7\\xf7",CUt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",EUt="\\u2000-\\u206f",SUt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",sVe="A-Z\\xc0-\\xd6\\xd8-\\xde",TUt="\\ufe0e\\ufe0f",oVe=_Ut+CUt+EUt+SUt,aVe="[']",uge="["+oVe+"]",kUt="["+wUt+"]",lVe="\\d+",AUt="["+rVe+"]",uVe="["+iVe+"]",cVe="[^"+nVe+oVe+lVe+rVe+iVe+sVe+"]",IUt="\\ud83c[\\udffb-\\udfff]",DUt="(?:"+kUt+"|"+IUt+")",RUt="[^"+nVe+"]",dVe="(?:\\ud83c[\\udde6-\\uddff]){2}",fVe="[\\ud800-\\udbff][\\udc00-\\udfff]",V2="["+sVe+"]",jUt="\\u200d",cge="(?:"+uVe+"|"+cVe+")",OUt="(?:"+V2+"|"+cVe+")",dge="(?:"+aVe+"(?:d|ll|m|re|s|t|ve))?",fge="(?:"+aVe+"(?:D|LL|M|RE|S|T|VE))?",hVe=DUt+"?",pVe="["+TUt+"]?",LUt="(?:"+jUt+"(?:"+[RUt,dVe,fVe].join("|")+")"+pVe+hVe+")*",PUt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",MUt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",$Ut=pVe+hVe+LUt,FUt="(?:"+[AUt,dVe,fVe].join("|")+")"+$Ut,BUt=RegExp([V2+"?"+uVe+"+"+dge+"(?="+[uge,V2,"$"].join("|")+")",OUt+"+"+fge+"(?="+[uge,V2+cge,"$"].join("|")+")",V2+"?"+cge+"+"+dge,V2+"+"+fge,MUt,PUt,lVe,FUt].join("|"),"g");function NUt(t){return t.match(BUt)||[]}var VUt=NUt,UUt=pUt,HUt=vUt,zUt=km,WUt=VUt;function GUt(t,e,n){return t=zUt(t),e=n?void 0:e,e===void 0?HUt(t)?WUt(t):UUt(t):t.match(e)||[]}var mVe=GUt;const gVe=vt(mVe);var qUt=YVt,YUt=dUt,KUt=mVe,ZUt="[']",XUt=RegExp(ZUt,"g");function QUt(t){return function(e){return qUt(KUt(YUt(e).replace(XUt,"")),t,"")}}var ete=QUt;function JUt(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var vVe=JUt,eHt=vVe;function tHt(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:eHt(t,e,n)}var yVe=tHt,nHt="\\ud800-\\udfff",rHt="\\u0300-\\u036f",iHt="\\ufe20-\\ufe2f",sHt="\\u20d0-\\u20ff",oHt=rHt+iHt+sHt,aHt="\\ufe0e\\ufe0f",lHt="\\u200d",uHt=RegExp("["+lHt+nHt+oHt+aHt+"]");function cHt(t){return uHt.test(t)}var bVe=cHt;function dHt(t){return t.split("")}var fHt=dHt,xVe="\\ud800-\\udfff",hHt="\\u0300-\\u036f",pHt="\\ufe20-\\ufe2f",mHt="\\u20d0-\\u20ff",gHt=hHt+pHt+mHt,vHt="\\ufe0e\\ufe0f",yHt="["+xVe+"]",Cq="["+gHt+"]",Eq="\\ud83c[\\udffb-\\udfff]",bHt="(?:"+Cq+"|"+Eq+")",wVe="[^"+xVe+"]",_Ve="(?:\\ud83c[\\udde6-\\uddff]){2}",CVe="[\\ud800-\\udbff][\\udc00-\\udfff]",xHt="\\u200d",EVe=bHt+"?",SVe="["+vHt+"]?",wHt="(?:"+xHt+"(?:"+[wVe,_Ve,CVe].join("|")+")"+SVe+EVe+")*",_Ht=SVe+EVe+wHt,CHt="(?:"+[wVe+Cq+"?",Cq,_Ve,CVe,yHt].join("|")+")",EHt=RegExp(Eq+"(?="+Eq+")|"+CHt+_Ht,"g");function SHt(t){return t.match(EHt)||[]}var THt=SHt,kHt=fHt,AHt=bVe,IHt=THt;function DHt(t){return AHt(t)?IHt(t):kHt(t)}var TVe=DHt,RHt=yVe,jHt=bVe,OHt=TVe,LHt=km;function PHt(t){return function(e){e=LHt(e);var n=jHt(e)?OHt(e):void 0,r=n?n[0]:e.charAt(0),i=n?RHt(n,1).join(""):e.slice(1);return r[t]()+i}}var MHt=PHt,$Ht=MHt,FHt=$Ht("toUpperCase"),tte=FHt;const kVe=vt(tte);var BHt=ete,NHt=tte,VHt=BHt(function(t,e,n){return t+(n?" ":"")+NHt(e)}),UHt=VHt;const yi=vt(UHt);let HHt=t=>crypto.getRandomValues(new Uint8Array(t)),zHt=(t,e,n)=>{let r=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*r*e/t.length);return(s=e)=>{let o="";for(;;){let a=n(i),l=i;for(;l--;)if(o+=t[a[l]&r]||"",o.length===s)return o}}},WHt=(t,e=21)=>zHt(t,e,HHt),AVe=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var GHt=["presence","listen"],TM=globalThis&&globalThis.__assign||function(){return TM=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},TM.apply(this,arguments)},qHt=WHt("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-",20),YHt="";function hge(t,e,n){return JSON.stringify({jsonrpc:"2.0",method:t,params:ZHt(e,"v1"),id:n})}function KHt(t){try{return[null,JSON.parse(t)]}catch(e){return e instanceof Error?[e]:[new Error("".concat(e))]}}function ZHt(t,e){return TM(TM({},t),{apiVersion:e})}var XHt=function(t,e){e===void 0&&(e={});var n=e.token$,r=e.getNextRequestId,i=r===void 0?qHt:r,s=bFe(t.pipe(Kt(function(p){return Hu(p,"message")})),function(p){return p.data===YHt}),o=s[0],a=s[1],l=a.pipe(rt(function(p){var g=KHt(p.data),v=g[0],y=g[1];return v?(console.warn("Unable to parse message: %s",v.message),as):!y||!y.jsonrpc?(console.warn("Received empty or non-jsonrpc message: %s",y),as):Re(y)}),Ad()),u=n?ol([n,t]).pipe(Xi(function(p,g){var v=p[0],y=p[1],x=g[0],b=g[1];return v===x&&y===b}),Kt(function(p){var g=p[0],v=p[1];return g?d(v,"authorization",{authorization:"Bearer ".concat(g)}).pipe(Ic(1),pee(v)):Re(v)}),$a({refCount:!0,bufferSize:1})):t;function d(p,g,v){v===void 0&&(v={});var y=i();return li(l.pipe(dt(function(x){return x.id===y}),Be(function(x){return x.result})),Ls(function(){return p.send(hge(g,v,y)),as}))}function f(p,g){return u.pipe(Ic(1),rt(function(v){return d(v,p,g).pipe(Ic(1))}))}function h(p,g){return u.pipe(Ic(1),rt(function(v){return d(v,"".concat(p,"_subscribe"),g).pipe(Ic(1),rt(function(y){return l.pipe(dt(function(x){return x.method==="".concat(p,"_subscription")&&x.params.subscription===y}),Be(function(x){return x.params.result}),AFe(function(){v.readyState!==v.CLOSED&&v.readyState!==v.CLOSING&&v.send(hge("".concat(p,"_unsubscribe"),{subscriptionId:y},i()))}))}))}))}return{heartbeats:li(u,o,a).pipe(Be(function(){return new Date})),request:function(p,g){return QHt(p)?h(p,g):f(p,g)}}};function QHt(t){return GHt.includes(t)}var JHt=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),pge=function(t){JHt(e,t);function e(n,r,i,s){var o=t.call(this,n)||this;return o.type=r,o.code=i,o.reason=s,o}return e}(Error);function ezt(t){return function(e){return new On(function(n){var r=t(e),i=!1,s=function(){n.next(r)},o=function(){n.error(new pge("WebSocket connection error","CONNECTION_ERROR"))},a=function(l){i?n.complete():n.error(new pge("WebSocket connection error","CONNECTION_CLOSED",l.code,l.reason))};return r.onopen=s,r.onclose=a,r.onerror=o,function(){i=!0,r.close(1e3,"WebSockets connection closed by client")}})}}var tzt=function(t,e){return function(n){return HRt(n,gu(t).pipe(rt(function(){return e})))}},mge;(function(t){t[t.BAD_REQUEST=4e3]="BAD_REQUEST",t[t.UNAUTHORIZED=4001]="UNAUTHORIZED",t[t.NOT_FOUND=4004]="NOT_FOUND",t[t.INVALID_REQUEST=-32600]="INVALID_REQUEST",t[t.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",t[t.INVALID_PARAMS=-32602]="INVALID_PARAMS",t[t.SUBSCRIPTION_NOT_FOUND=-32602]="SUBSCRIPTION_NOT_FOUND",t[t.PARSE_ERROR=-32700]="PARSE_ERROR"})(mge||(mge={}));var nzt=function(t){return t};function rzt(t,e){e===void 0&&(e={});var n=e.timeout,r=e.token$,i=ezt(function(s,o){return new window.WebSocket(s,o)});return XHt(i(t).pipe(n?tzt(n,il(function(){return new Error("Timeout after ".concat(n," while establishing WebSockets connection"))})):nzt,$a({refCount:!0}),pI(Hu(window,"beforeunload"))),{token$:r})}function izt(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var szt=izt,ozt=Mee,azt=_9;function lzt(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?azt(n,a,l):ozt(n,a,l)}return n}var eE=lzt,uzt=eE,czt=py;function dzt(t,e){return t&&uzt(e,czt(e),t)}var fzt=dzt;function hzt(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var pzt=hzt,mzt=Bf,gzt=v9,vzt=pzt,yzt=Object.prototype,bzt=yzt.hasOwnProperty;function xzt(t){if(!mzt(t))return vzt(t);var e=gzt(t),n=[];for(var r in t)r=="constructor"&&(e||!bzt.call(t,r))||n.push(r);return n}var wzt=xzt,_zt=zFe,Czt=wzt,Ezt=hy;function Szt(t){return Ezt(t)?_zt(t,!0):Czt(t)}var nte=Szt,Tzt=eE,kzt=nte;function Azt(t,e){return t&&Tzt(e,kzt(e),t)}var Izt=Azt,kM={exports:{}};kM.exports;(function(t,e){var n=Kh,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,d){if(d)return u.slice();var f=u.length,h=a?a(f):new u.constructor(f);return u.copy(h),h}t.exports=l})(kM,kM.exports);var Dzt=kM.exports;function Rzt(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var rte=Rzt,jzt=eE,Ozt=Cee;function Lzt(t,e){return jzt(t,Ozt(t),e)}var Pzt=Lzt,Mzt=_ee,$zt=Pee,Fzt=Cee,Bzt=UFe,Nzt=Object.getOwnPropertySymbols,Vzt=Nzt?function(t){for(var e=[];t;)Mzt(e,Fzt(t)),t=$zt(t);return e}:Bzt,IVe=Vzt,Uzt=eE,Hzt=IVe;function zzt(t,e){return Uzt(t,Hzt(t),e)}var Wzt=zzt,Gzt=NFe,qzt=IVe,Yzt=nte;function Kzt(t){return Gzt(t,Yzt,qzt)}var ite=Kzt,Zzt=Object.prototype,Xzt=Zzt.hasOwnProperty;function Qzt(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Xzt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Jzt=Qzt,gge=BFe;function eWt(t){var e=new t.constructor(t.byteLength);return new gge(e).set(new gge(t)),e}var ste=eWt,tWt=ste;function nWt(t,e){var n=e?tWt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var rWt=nWt,iWt=/\w*$/;function sWt(t){var e=new t.constructor(t.source,iWt.exec(t));return e.lastIndex=t.lastIndex,e}var oWt=sWt,vge=kC,yge=vge?vge.prototype:void 0,bge=yge?yge.valueOf:void 0;function aWt(t){return bge?Object(bge.call(t)):{}}var lWt=aWt,uWt=ste;function cWt(t,e){var n=e?uWt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var dWt=cWt,fWt=ste,hWt=rWt,pWt=oWt,mWt=lWt,gWt=dWt,vWt="[object Boolean]",yWt="[object Date]",bWt="[object Map]",xWt="[object Number]",wWt="[object RegExp]",_Wt="[object Set]",CWt="[object String]",EWt="[object Symbol]",SWt="[object ArrayBuffer]",TWt="[object DataView]",kWt="[object Float32Array]",AWt="[object Float64Array]",IWt="[object Int8Array]",DWt="[object Int16Array]",RWt="[object Int32Array]",jWt="[object Uint8Array]",OWt="[object Uint8ClampedArray]",LWt="[object Uint16Array]",PWt="[object Uint32Array]";function MWt(t,e,n){var r=t.constructor;switch(e){case SWt:return fWt(t);case vWt:case yWt:return new r(+t);case TWt:return hWt(t,n);case kWt:case AWt:case IWt:case DWt:case RWt:case jWt:case OWt:case LWt:case PWt:return gWt(t,n);case bWt:return new r;case xWt:case CWt:return new r(t);case wWt:return pWt(t);case _Wt:return new r;case EWt:return mWt(t)}}var $Wt=MWt,FWt=Bf,xge=Object.create,BWt=function(){function t(){}return function(e){if(!FWt(e))return{};if(xge)return xge(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),ote=BWt,NWt=ote,VWt=Pee,UWt=v9;function HWt(t){return typeof t.constructor=="function"&&!UWt(t)?NWt(VWt(t)):{}}var zWt=HWt,WWt=mI,GWt=Nf,qWt="[object Map]";function YWt(t){return GWt(t)&&WWt(t)==qWt}var KWt=YWt,ZWt=KWt,XWt=GC,wge=See,_ge=wge&&wge.isMap,QWt=_ge?XWt(_ge):ZWt,JWt=QWt,eGt=mI,tGt=Nf,nGt="[object Set]";function rGt(t){return tGt(t)&&eGt(t)==nGt}var iGt=rGt,sGt=iGt,oGt=GC,Cge=See,Ege=Cge&&Cge.isSet,aGt=Ege?oGt(Ege):sGt,lGt=aGt,uGt=xee,cGt=szt,dGt=Mee,fGt=fzt,hGt=Izt,pGt=Dzt,mGt=rte,gGt=Pzt,vGt=Wzt,yGt=qFe,bGt=ite,xGt=mI,wGt=Jzt,_Gt=$Wt,CGt=zWt,EGt=Jo,SGt=m9,TGt=JWt,kGt=Bf,AGt=lGt,IGt=py,DGt=nte,RGt=1,jGt=2,OGt=4,DVe="[object Arguments]",LGt="[object Array]",PGt="[object Boolean]",MGt="[object Date]",$Gt="[object Error]",RVe="[object Function]",FGt="[object GeneratorFunction]",BGt="[object Map]",NGt="[object Number]",jVe="[object Object]",VGt="[object RegExp]",UGt="[object Set]",HGt="[object String]",zGt="[object Symbol]",WGt="[object WeakMap]",GGt="[object ArrayBuffer]",qGt="[object DataView]",YGt="[object Float32Array]",KGt="[object Float64Array]",ZGt="[object Int8Array]",XGt="[object Int16Array]",QGt="[object Int32Array]",JGt="[object Uint8Array]",eqt="[object Uint8ClampedArray]",tqt="[object Uint16Array]",nqt="[object Uint32Array]",ds={};ds[DVe]=ds[LGt]=ds[GGt]=ds[qGt]=ds[PGt]=ds[MGt]=ds[YGt]=ds[KGt]=ds[ZGt]=ds[XGt]=ds[QGt]=ds[BGt]=ds[NGt]=ds[jVe]=ds[VGt]=ds[UGt]=ds[HGt]=ds[zGt]=ds[JGt]=ds[eqt]=ds[tqt]=ds[nqt]=!0;ds[$Gt]=ds[RVe]=ds[WGt]=!1;function TO(t,e,n,r,i,s){var o,a=e&RGt,l=e&jGt,u=e&OGt;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!kGt(t))return t;var d=EGt(t);if(d){if(o=wGt(t),!a)return mGt(t,o)}else{var f=xGt(t),h=f==RVe||f==FGt;if(SGt(t))return pGt(t,a);if(f==jVe||f==DVe||h&&!i){if(o=l||h?{}:CGt(t),!a)return l?vGt(t,hGt(o,t)):gGt(t,fGt(o,t))}else{if(!ds[f])return i?t:{};o=_Gt(t,f,a)}}s||(s=new uGt);var p=s.get(t);if(p)return p;s.set(t,o),AGt(t)?t.forEach(function(y){o.add(TO(y,e,n,y,t,s))}):TGt(t)&&t.forEach(function(y,x){o.set(x,TO(y,e,n,x,t,s))});var g=u?l?bGt:yGt:l?DGt:IGt,v=d?void 0:g(t);return cGt(v||t,function(y,x){v&&(x=y,y=t[x]),dGt(o,x,TO(y,e,n,x,t,s))}),o}var ate=TO;function rqt(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var iqt=rqt,sqt=gI,oqt=vVe;function aqt(t,e){return e.length<2?t:sqt(t,oqt(e,0,-1))}var lqt=aqt,uqt=KC,cqt=iqt,dqt=lqt,fqt=dw;function hqt(t,e){return e=uqt(e,t),t=dqt(t,e),t==null||delete t[fqt(cqt(e))]}var pqt=hqt,mqt=IBe;function gqt(t){return mqt(t)?void 0:t}var vqt=gqt,yqt=Tm,bqt=ate,xqt=pqt,wqt=KC,_qt=eE,Cqt=vqt,Eqt=$ee,Sqt=ite,Tqt=1,kqt=2,Aqt=4,Iqt=Eqt(function(t,e){var n={};if(t==null)return n;var r=!1;e=yqt(e,function(s){return s=wqt(s,t),r||(r=s.length>1),s}),_qt(t,Sqt(t),n),r&&(n=bqt(n,Tqt|kqt|Aqt,Cqt));for(var i=e.length;i--;)xqt(n,e[i]);return n}),Dqt=Iqt;const Al=vt(Dqt);var Rqt=function(t){return t==null?[]:Array.isArray(t)?t:[t]};const xI=vt(Rqt);var jqt=Jo;function Oqt(){if(!arguments.length)return[];var t=arguments[0];return jqt(t)?t:[t]}var Lqt=Oqt;const wI=vt(Lqt);var Pqt=Tm,Mqt=my,$qt=gBe,Fqt=Jo;function Bqt(t,e){var n=Fqt(t)?Pqt:$qt;return n(t,Mqt(e))}var Nqt=Bqt,Vqt=YC,Uqt=Nqt;function Hqt(t,e){return Vqt(Uqt(t,e),1)}var zqt=Hqt;const Wqt=vt(zqt);var Gqt="Expected a function";function qqt(t){if(typeof t!="function")throw new TypeError(Gqt);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}var OVe=qqt;const Yqt=vt(OVe);var Kqt=Tm,Zqt=my,Xqt=DBe,Qqt=ite;function Jqt(t,e){if(t==null)return{};var n=Kqt(Qqt(t),function(r){return[r]});return e=Zqt(e),Xqt(t,n,function(r,i){return e(r,i[0])})}var LVe=Jqt;const eYt=vt(LVe);var tYt=my,nYt=OVe,rYt=LVe;function iYt(t,e){return rYt(t,nYt(tYt(e)))}var sYt=iYt;const PVe=vt(sYt);function oYt(t){return t===void 0}var aYt=oYt;const MVe=vt(aYt);var lYt=km,uYt=tte;function cYt(t){return uYt(lYt(t).toLowerCase())}var $Ve=cYt;const pw=vt($Ve);var dYt=Tm,fYt=rte,hYt=Jo,pYt=tw,mYt=aBe,gYt=dw,vYt=km;function yYt(t){return hYt(t)?dYt(t,gYt):pYt(t)?[t]:fYt(mYt(vYt(t)))}var bYt=yYt;const xYt=vt(bYt);function wYt(){}var lte=wYt;const FVe=vt(lte);var $V=YFe,_Yt=lte,CYt=wee,EYt=1/0,SYt=$V&&1/CYt(new $V([,-0]))[1]==EYt?function(t){return new $V(t)}:_Yt,TYt=SYt,kYt=f9,AYt=Oee,IYt=Lee,DYt=h9,RYt=TYt,jYt=wee,OYt=200;function LYt(t,e,n){var r=-1,i=AYt,s=t.length,o=!0,a=[],l=a;if(n)o=!1,i=IYt;else if(s>=OYt){var u=e?null:RYt(t);if(u)return jYt(u);o=!1,i=DYt,l=new kYt}else l=e?[]:a;e:for(;++r<s;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),a.push(d)}else i(l,f,n)||(l!==a&&l.push(f),a.push(d))}return a}var A9=LYt,PYt=my,MYt=A9;function $Yt(t,e){return t&&t.length?MYt(t,PYt(e)):[]}var FYt=$Yt;const Wv=vt(FYt),Qu=["jsonType","type","name","title","description","options","fieldsets","validation","readOnly","hidden","components","diffComponent","initialValue"],Sge=[...Qu],FV={name:"any",type:null,jsonType:"any"},BYt={get(){return FV},extend(t,e){const n=Object.assign(ir(FV,Sge),t,{type:FV,of:t.of.map(i=>({name:i.name,type:e(Al(i,"name"))}))});return r(n);function r(i){return{get(){return i},extend:s=>{if(s.of)throw new Error('Cannot override `of` property of subtypes of "array"');const o=Object.assign({},i,ir(s,Sge),{type:i});return r(o)}}}}};var vy={prepare:t=>({title:String(t)})};const Tge=[...Qu],BV={name:"string",title:"String",type:null,jsonType:"string"},NYt={get(){return BV},extend(t){const e=Object.assign(ir(BV,Tge),t,{type:BV,preview:vy});return n(e);function n(r){return{get(){return r},extend:i=>{const s=Object.assign({},r,ir(i,Tge),{type:r});return n(s)}}}}},kge=[...Qu,"rows"],NV={name:"text",title:"Text",type:null,jsonType:"string"},VYt={get(){return NV},extend(t){const e=Object.assign(ir(NV,kge),t,{type:NV,preview:vy});return n(e);function n(r){return{get(){return r},extend:i=>{const s=Object.assign({},r,ir(i,kge),{type:r});return n(s)}}}}},Age=[...Qu],VV={name:"datetime",title:"Datetime",type:null,jsonType:"string"},UYt={get(){return VV},extend(t){const e=Object.assign(ir(VV,Age),t,{type:VV,preview:vy});return n(e);function n(r){return{get(){return r},extend:i=>{const s=Object.assign({},r,ir(i,Age),{type:r});return n(s)}}}}},Ige=[...Qu],UV={name:"date",title:"Datetime",type:null,jsonType:"string"},HYt={get(){return UV},extend(t){const e=Object.assign(ir(UV,Ige),t,{type:UV,preview:vy});return n(e);function n(r){return{get(){return r},extend:i=>{const s=Object.assign({},r,ir(i,Ige),{type:r});return n(s)}}}}},Dge=[...Qu],HV={name:"boolean",title:"Boolean",type:null,jsonType:"boolean"},zYt={get(){return HV},extend(t){const e=Object.assign(ir(HV,Dge),t,{type:HV,preview:vy});return n(e);function n(r){return{get(){return r},extend:i=>{const s=Object.assign({},r,ir(i,Dge),{type:r});return n(s)}}}}},Rge=[...Qu],zV={name:"url",title:"Url",type:null,jsonType:"string"},WYt={get(){return zV},extend(t){const e=Object.assign(ir(zV,Rge),t,{type:zV,preview:vy});return n(e);function n(r){return{get(){return r},extend:i=>{const s=Object.assign({},r,ir(i,Rge),{type:r});return n(s)}}}}},jge=[...Qu],WV={name:"email",title:"Email",type:null,jsonType:"string"},GYt={get(){return WV},extend(t){const e=Object.assign(ir(WV,jge),t,{type:WV,preview:vy});return n(e);function n(r){return{get(){return r},extend:i=>{const s=Object.assign({},r,ir(i,jge),{type:r});return n(s)}}}}},Oge=[...Qu],GV={name:"number",title:"Number",type:null,jsonType:"number"},qYt={get(){return GV},extend(t){const e=Object.assign(ir(GV,Oge),t,{type:GV,preview:vy});return n(e);function n(r){return{get(){return r},extend:i=>{const s=Object.assign({},r,ir(i,Oge),{type:r});return n(s)}}}}};function gs(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Object.defineProperty(t,e,{configurable:!0,enumerable:r.enumerable!==!1,get(){const i=n();return Object.defineProperty(t,e,{value:i,writable:!!r.writable,configurable:!1}),i}}),t}function YYt(t){for(const e in t)if(t.hasOwnProperty(e))return!1;return!0}function Sq(t,e,n){if(n>e.maxDepth)return"...";if(Array.isArray(t)){if(t.length===0)return"[empty]";const i=Math.max(t.length-e.maxBreadth),s=t.slice(0,e.maxBreadth).map((o,a)=>Sq(o,e,n+1)).concat(i>0?"+".concat(i):[]).join(", ");return n===0?s:"[".concat(s,"]")}if(typeof t=="object"&&t!==null){const i=Object.keys(t).filter(o=>!e.ignoreKeys.includes(o)&&typeof t[o]<"u");if(YYt(ir(t,i)))return"{empty}";const s=i.slice(0,e.maxBreadth).map(o=>"".concat(o,": ").concat(Sq(t[o],e,n+1))).join(", ");return n===0?s:"{".concat(s,"}")}const r=String(t);return r===""?'""':r}function KYt(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n={maxDepth:"maxDepth"in e?e.maxDepth:2,maxBreadth:"maxBreadth"in e?e.maxBreadth:2,ignoreKeys:"ignoreKeys"in e?e.ignoreKeys:[]};return Sq(t,n,0)}const ZYt={maxEntries:2,maxDepth:2,maxBreadth:2,ignoreKeys:["_id","_type","_key","_ref"]};function XYt(t){return e=>({title:KYt(ir(e,t),ZYt)})}function QYt(t){return t.type==="array"&&t.of&&t.of.some(e=>e.type==="block")}const BVe=["title","name","label","heading","header","caption"],JYt=["description",...BVe];function NVe(t,e){return xI(t.to||[]).some(n=>n.type===e)}function Lge(t){return NVe(t,"sanity.imageAsset")}function eKt(t){const e=t.fields||[],n=e.find(Lge);if(n)return n.name;const r=e.find(i=>(i.fields||[]).some(Lge));return r?"".concat(r.name,".asset"):void 0}function Pge(t){return NVe(t,"sanity.fileAsset")}function tKt(t){const e=t.fields||[],n=e.find(Pge);if(n)return n.name;const r=e.find(i=>(i.fields||[]).some(Pge));return r?"".concat(r.name,".asset"):void 0}function nKt(t){const e={fields:[],...t},n=e.fields.filter(u=>u.type==="string").map(u=>u.name),r=e.fields.filter(QYt).map(u=>u.name);let i=BVe.find(u=>n.includes(u)||r.includes(u)),s=JYt.find(u=>u!==i&&(n.includes(u)||r.includes(u)));i||(i=n[0]||r[0],s=n[1]||r[1]);const o=e.fields.find(u=>u.type==="image"),a=eKt(e);if(!i){const u=tKt(e);u&&(i="".concat(u,".originalFilename")),a&&(i="".concat(a,".originalFilename"))}if(!i&&!a){const u=e.fields.map(f=>f.name);return{select:u.reduce((f,h)=>(f[h]=h,f),{}),prepare:XYt(u)}}return{select:PVe({title:i,description:s,media:o?o.name:a},MVe)}}function rKt(t){t.options&&t.options.preview&&console.warn(`Heads up! The preview config is no longer defined on "options", but instead on the type/field itself.
Please move {options: {preview: ...}} to {..., preview: ...} on the type/field definition of "`.concat(t.name,`".
`))}function iKt(t){const e=t.preview||(t.options||{}).preview;e&&"fields"in e&&console.warn('Heads up! "preview.fields" should be renamed to "preview.select". Please update the preview config for "'.concat(t.name,`".
`))}function sKt(t){return t.reduce((e,n)=>(e[n]=n,e),{})}function oKt(t){if(!t)return t;const e=t.select||t.fields||{};return Array.isArray(e)?{...ir(t,["prepare","component"]),select:sKt(e)}:{...ir(t,["prepare","component"]),select:e}}function _I(t){return function(){return rKt(t),iKt(t),oKt(t.preview||(t.options||{}).preview)||nKt(t)}}const aKt=["title","name","label","heading","header","caption","description"],lKt=["string","boolean","number"],Mge=t=>lKt.includes(t.type);function uKt(t){let e=aKt.filter(n=>t.fields.some(r=>Mge(r)&&r.name===n));return e.length===0&&(e=t.fields.filter(Mge).map(n=>n.name)),e.map(n=>({name:n,title:pw(yi(n)),by:[{field:n,direction:"asc"}]}))}function $ge(t){if(!Array.isArray(t))throw new Error("The search config of a document type must be an array of search config objects");return t.map(e=>{if(e==="defaults")return e;if(!Ys(e))throw new Error("Search config must be an object of {path: string, weight: number}");return{weight:"weight"in e?e.weight:1,path:xYt(e.path),mapWith:typeof e.mapWith=="string"?e.mapWith:void 0}})}const s_=Symbol("__cachedStringFields"),cKt=t=>t.type&&t.type.name==="reference",dKt=["style","list"],ute=t=>t.name==="block"||t.type&&ute(t.type),fKt=t=>t.jsonType==="array"&&Array.isArray(t.of)&&t.of.some(ute);function I9(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0;if(i<0)return n;const s=e(n,t,r);return t.jsonType==="array"&&Array.isArray(t.of)?hKt(t,e,s,r,i):t.jsonType==="object"&&Array.isArray(t.fields)&&!cKt(t)?pKt(t,e,s,r,i):s}function hKt(t,e,n,r,i){return t.of.reduce((s,o)=>I9(o,e,s,r,i-1),n)}function pKt(t,e,n,r,i){const s=ute(t);return t.fields.reduce((o,a)=>{if(s&&dKt.includes(a.name))return o;const l=[a.name].concat(a.type.jsonType==="array"?[[]]:[]);return I9(a.type,e,o,r.concat(l),i-1)},n)}const VVe=[{weight:1,path:["_id"]},{weight:1,path:["_type"]}],Fge={title:10,subtitle:5,description:1.5};function UVe(t){var e;const n=(e=t==null?void 0:t.preview)==null?void 0:e.select;return n?Object.keys(n).filter(r=>r in Fge).map(r=>({weight:Fge[r],path:n[r].split(".")})):[]}function mKt(t,e){return t[s_]||(t[s_]=Wv([...VVe,...UVe(t),...vKt(t,e).map(n=>({weight:1,path:n})),...yKt(t,e).map(n=>({weight:1,path:n,mapWith:"pt::text"}))],n=>n.path.join("."))),t[s_]}function gKt(t){return t[s_]||(t[s_]=Wv([...VVe,...UVe(t)],e=>e.path.join("."))),t[s_]}function vKt(t,e){return I9(t,(r,i,s)=>i.jsonType==="string"?[...r,s]:r,[],[],e)}function yKt(t,e){return I9(t,(r,i,s)=>fKt(i)?[...r,s]:r,[],[],e)}function bKt(t){return gKt(t)}function xKt(t){return mKt(t,4)}const Bge=[...Qu,"orderings","__experimental_search","blockEditor","icon"],HVe={get(){return{name:"object",title:"Object",type:null,jsonType:"object"}},extend(t,e){const n={fields:[],...t},r={...n.options||{}},i=Object.assign(ir(this.get(),Bge),n,{type:this.get(),title:n.title||(n.name?yi(n.name):""),options:r,orderings:n.orderings||uKt(n),fields:n.fields.map(o=>{const{name:a,fieldset:l,group:u,...d}=o;return gs({name:a,group:u,fieldset:l},"type",()=>e({...d,title:o.title||yi(a)}))})});return gs(i,"fieldsets",()=>D9(n,i.fields)),gs(i,"groups",()=>wKt(n,i.fields)),gs(i,"preview",_I(n)),gs(i,"__experimental_search",()=>{const o=n.__experimental_search?$ge(n.__experimental_search):null;return o?o.map(a=>a==="defaults"?$ge(n):a):xKt(i)},{enumerable:!1}),s(i);function s(o){return{get(){return o},extend:a=>{if(a.fields)throw new Error('Cannot override `fields` of subtypes of "object"');const l=Object.assign({},o,ir(a,Bge),{title:a.title||n.title||(n.name?yi(n.name):""),type:o});return gs(l,"__experimental_search",()=>o.__experimental_search),s(l)}}}}};function D9(t,e){const n={};for(const i of t.fieldsets||[]){if(n[i.name])throw new Error('Duplicate fieldset name "'.concat(i.name,`" found for type '`).concat(t.title?t.title:yi(t.name),"'"));n[i.name]={title:yi(i.name),...i,fields:[]}}const r=new Set;for(const i of e){if(!i.fieldset){r.add({single:!0,field:i});continue}const s=n[i.fieldset];if(!s)throw new Error("Fieldset '".concat(i.fieldset,"' is not defined in schema for type '").concat(t.name,"'"));s.fields.push(i),r.add(s)}return Array.from(r)}function wKt(t,e){const n={};let r=0;for(const i of t.groups||[]){if(n[i.name])throw new Error('Duplicate group name "'.concat(i.name,`" found for type '`).concat(t.title?t.title:yi(t.name),"'"));if(n[i.name]={title:yi(i.name),...i,fields:[]},i.default&&++r>1)throw new Error("More than one field group defined as default for type '".concat(t.title?t.title:yi(t.name),"' - only 1 is supported"))}return e.forEach(i=>{const s=wI(i.group||[]);s.length!==0&&s.forEach(o=>{const a=n[o];if(!a)throw new Error("Field group '".concat(o,"' is not defined in schema for type '").concat(t.title?t.name:yi(t.name),"'"));a.fields.push(i)})}),Wqt(n).filter(i=>i.fields.length>0)}const _Kt={name:"_ref",title:"Referenced document ID",type:"string"},CKt={name:"_weak",title:"Weak reference",type:"boolean"},EKt=[_Kt,CKt],Nge=[...Qu],qV={name:"reference",title:"Reference",type:null,jsonType:"object"};function SKt(t,e){const n=t.length;if(n===1)return t[0];const r=t.slice(0,n-1),i=t[n-1];return"".concat(r.join(", ")," ").concat(e," ").concat(i)}function TKt(t){return!t.to||t.to.length===0?"Reference":"Reference to ".concat(SKt(xI(t.to).map(e=>e.title),"or").toLowerCase())}const kKt={get(){return qV},extend(t,e){if(!t.to)throw new Error('Missing "to" field in reference definition. Check the type '.concat(t.name));const n=Object.assign(ir(qV,Nge),t,{type:qV});return gs(n,"fields",()=>EKt.map(i=>{const{name:s,...o}=i;return{name:s,type:e(o)}})),gs(n,"fieldsets",()=>D9(t,n.fields)),gs(n,"to",()=>xI(t.to).map(i=>e(i))),gs(n,"title",()=>t.title||TKt(n)),r(n);function r(i){return{get(){return i},extend:s=>{if(s.of)throw new Error('Cannot override `of` of subtypes of "reference"');const o=Object.assign({},i,ir(s,Nge),{type:i});return r(o)}}}}},AKt={name:"_ref",title:"Referenced document ID",type:"string"},IKt={name:"_weak",title:"Weak reference marker",type:"boolean"},DKt={name:"_dataset",title:"Target dataset",type:"string"},RKt={name:"_projectId",title:"Target project ID",type:"string",hidden:!0},jKt=[AKt,IKt,DKt,RKt],Vge=[...Qu],YV={name:"crossDatasetReference",type:null,jsonType:"object"};function OKt(t,e){const n=t.length;if(n===1)return t[0];const r=t.slice(0,n-1),i=t[n-1];return"".concat(r.join(", ")," ").concat(e," ").concat(i)}function LKt(t){return!t.to||t.to.length===0?"Cross dataset Reference":"Cross dataset reference to ".concat(OKt(xI(t.to).map(e=>e.title||pw(e.type)),"or").toLowerCase())}const PKt={get(){return YV},extend(t,e){if(!t.to)throw new Error('Missing "to" field in cross dataset reference definition. Check the type '.concat(t.name));const n=Object.assign(ir(YV,Vge),t,{type:YV});return gs(n,"fields",()=>jKt.map(i=>{const{name:s,...o}=i;return{name:s,type:e(o)}})),gs(n,"to",()=>xI(t.to).map(i=>({...i,__experimental_search:bKt(i)}))),gs(n,"title",()=>t.title||LKt(n)),r(n);function r(i){return{get(){return i},extend:s=>{if(s.of)throw new Error('Cannot override `of` of subtypes of "reference"');const o=Object.assign({},i,ir(s,Vge),{type:i});return r(o)}}}}},MKt={name:"asset",type:"reference",to:[{type:"sanity.imageAsset"}]},$Kt={name:"hotspot",type:"sanity.imageHotspot"},FKt={name:"crop",type:"sanity.imageCrop"},Uge=[...Qu],Hge={name:"image",title:"Image",type:null,jsonType:"object"},BKt={},NKt={get(){return Hge},extend(t,e){const n={...t.options||BKt};let r=[$Kt,FKt];n.hotspot||(r=r.map(l=>({...l,hidden:!0})));const i=[MKt,...r,...t.fields||[]],s={...t,fields:i},o=Object.assign(ir(this.get(),Uge),s,{type:Hge,title:s.title||(s.name?yi(s.name):""),options:n,fields:s.fields.map(l=>{const{name:u,fieldset:d,...f}=l,h={name:u,fieldset:d,isCustomized:!!t.fields};return gs(h,"type",()=>e({...f,title:l.title||yi(u)}))})});return gs(o,"fieldsets",()=>D9(s,o.fields)),gs(o,"preview",_I(Object.assign({},s,{fields:i}))),a(o);function a(l){return{get(){return l},extend:u=>{if(u.fields)throw new Error('Cannot override `fields` of subtypes of "image"');const d=Object.assign({},l,ir(u,Uge),{type:l});return a(d)}}}}},VKt={name:"asset",type:"reference",to:{type:"sanity.fileAsset"}},zge=[...Qu],KV={name:"file",title:"File",type:null,jsonType:"object"},UKt={accept:""},HKt={get(){return KV},extend(t,e){const n={...t.options||UKt},r=[VKt,...t.fields||[]],i={...t,fields:r},s=Object.assign(ir(KV,zge),i,{type:KV,title:i.title||(i.name?yi(i.name):""),options:n,fields:i.fields.map(a=>{const{name:l,fieldset:u,...d}=a,f={name:l,fieldset:u,isCustomized:!!t.fields};return gs(f,"type",()=>e({...d,title:a.title||yi(l)}))})});return gs(s,"fieldsets",()=>D9(i,s.fields)),gs(s,"preview",_I(Object.assign({},i,{fields:r}))),o(s);function o(a){return{get(){return a},extend:l=>{if(l.fields)throw new Error('Cannot override `fields` of subtypes of "file"');const u=Object.assign({},a,ir(l,zge),{type:a});return o(u)}}}}},zKt={name:"document",title:"Document",type:null,jsonType:"object"},WKt={get(){return zKt},extend:HVe.extend},Wge=[...Qu],ZV={name:"array",type:null,jsonType:"array",of:[]},GKt={get(){return ZV},extend(t,e){const n=Object.assign(ir(ZV,Wge),t,{type:ZV});return gs(n,"of",()=>t.of.map(i=>e(i))),r(n);function r(i){return{get(){return i},extend:s=>{if(s.of)throw new Error('Cannot override `of` property of subtypes of "array"');const o=Object.assign({},i,ir(s,Wge),{type:i});return r(o)}}}}},qKt={type:"object",name:"link",options:{modal:{type:"popover"}},fields:[{name:"href",type:"url",title:"Link",description:"A valid web, email, phone, or relative link.",validation:t=>t.uri({scheme:["http","https","tel","mailto"],allowRelative:!0})}]},YKt={type:"text",name:"text",title:"Text"},KKt={name:"marks",type:"array",of:[{type:"string"}],title:"Marks"},Gge={bullet:{title:"Bulleted list",value:"bullet"},numbered:{title:"Numbered list",value:"number"}},ZKt=[Gge.bullet,Gge.numbered],mg={normal:{title:"Normal",value:"normal"},h1:{title:"Heading 1",value:"h1"},h2:{title:"Heading 2",value:"h2"},h3:{title:"Heading 3",value:"h3"},h4:{title:"Heading 4",value:"h4"},h5:{title:"Heading 5",value:"h5"},h6:{title:"Heading 6",value:"h6"},blockquote:{title:"Quote",value:"blockquote"}},XKt=[mg.normal,mg.h1,mg.h2,mg.h3,mg.h4,mg.h5,mg.h6,mg.blockquote],QKt={title:"Strong",value:"strong"},JKt={title:"Italic",value:"em"},eZt={title:"Code",value:"code"},tZt={title:"Underline",value:"underline"},nZt={title:"Strike",value:"strike-through"},xS={strong:QKt,em:JKt,code:eZt,underline:tZt,strikeThrough:nZt},rZt=[xS.strong,xS.em,xS.code,xS.underline,xS.strikeThrough],qge=["type","name","title","jsonType","description","options","fieldsets","icon"],XV={name:"block",title:"Block",type:null,jsonType:"object"},iZt={},sZt={get(){return XV},extend(t,e){const n={...t.options||iZt},{marks:r,styles:i,lists:s,of:o,...a}=t,l=uZt(r,o),u=aZt(i),d=lZt(s),f={name:"markDefs",title:"Mark definitions",type:"array",of:(r==null?void 0:r.annotations)||zVe},h=[l,u,d,f].concat(t.fields||[]),p=Object.assign(ir(XV,qge),a,{type:XV,options:n});return gs(p,"fields",()=>h.map(v=>{const{name:y,...x}=v;return{name:y,type:e(x)}})),gs(p,"preview",_I(t)),g(p);function g(v){return{get(){return v},extend:y=>{if(y.fields)throw new Error('Cannot override `fields` of subtypes of "block"');const x=Object.assign({},v,ir(y,qge),{type:v});return g(x)}}}}};function oZt(t){return t.some(e=>e.value==="normal")?t:[mg.normal,...t]}function aZt(t){return{name:"style",title:"Style",type:"string",options:{list:oZt(t||XKt)}}}function lZt(t){return{name:"list",title:"List type",type:"string",options:{list:t||ZKt}}}const zVe=[qKt];function uZt(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{name:"children",title:"Content",type:"array",of:[{type:"span",fields:[YKt,KKt],annotations:t&&t.annotations?t.annotations:zVe,decorators:t&&t.decorators?t.decorators:rZt},...e.filter(n=>n.type!=="span")]}}const Yge=["type","name","title","jsonType","description","options","fieldsets","icon"],QV={name:"span",title:"Span",type:null,jsonType:"object"},cZt={name:"marks",title:"Marks",type:"array",of:[{type:"string"}]},dZt={name:"text",title:"Text",type:"string"},fZt={},hZt={get(){return QV},extend(t,e){const n={...t.options||fZt},{annotations:r=[],marks:i=[]}=t,s=[cZt,dZt],o=Object.assign(ir(QV,Yge),t,{type:QV,options:n});return gs(o,"fields",()=>s.map(l=>{const{name:u,...d}=l;return{name:u,type:e(d)}})),gs(o,"annotations",()=>r.map(e)),gs(o,"marks",()=>i.map(e)),gs(o,"preview",_I(t)),a(o);function a(l){return{get(){return l},extend:u=>{if(u.fields)throw new Error('Cannot override `fields` of subtypes of "span"');const d=Object.assign({},l,ir(u,Yge),{type:l});return a(d)}}}}};var pZt=Object.freeze({__proto__:null,any:BYt,array:GKt,block:sZt,boolean:zYt,crossDatasetReference:PKt,date:HYt,datetime:UYt,document:WKt,email:GYt,file:HKt,image:NKt,number:qYt,object:HVe,reference:kKt,span:hZt,string:NYt,text:VYt,url:WYt}),mZt=Object.defineProperty,gZt=(t,e,n)=>e in t?mZt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Kge=(t,e,n)=>(gZt(t,typeof e!="symbol"?e+"":e,n),n);function vZt(t){const e=Object.assign(Object.create(null),pZt),n=t.types.reduce((o,a)=>{if(o[a.name])throw new Error("Duplicate type name added to schema: ".concat(a.name));return o[a.name]=a,o},{});return t.types.forEach(s),e;function r(o){if(!e[o]){if(!n[o])throw new Error("Unknown type: ".concat(o));s(n[o])}}function i(o){return r(o.type),e[o.type].extend(o,i).get()}function s(o){r(o.type),!e[o.name]&&(e[o.name]=e[o.type].extend(o,i))}}let yZt=class WVe{constructor(e){Kge(this,"_original"),Kge(this,"_registry"),this._original=e,this._registry=vZt(e)}static compile(e){return new WVe(e)}get name(){return this._original.name}get(e){return this._registry[e]&&this._registry[e].get()}has(e){return e in this._registry}getTypeNames(){return Object.keys(this._registry)}};const GVe=yZt;var bZt=A9;function xZt(t){return t&&t.length?bZt(t):[]}var wZt=xZt;const ha=vt(wZt),_Zt={},CZt=Object.freeze(Object.defineProperty({__proto__:null,default:_Zt},Symbol.toStringTag,{value:"Module"})),EZt=$ft(CZt);var cte=typeof Map=="function"&&Map.prototype,JV=Object.getOwnPropertyDescriptor&&cte?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,AM=cte&&JV&&typeof JV.get=="function"?JV.get:null,Zge=cte&&Map.prototype.forEach,dte=typeof Set=="function"&&Set.prototype,eU=Object.getOwnPropertyDescriptor&&dte?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,IM=dte&&eU&&typeof eU.get=="function"?eU.get:null,Xge=dte&&Set.prototype.forEach,SZt=typeof WeakMap=="function"&&WeakMap.prototype,Ck=SZt?WeakMap.prototype.has:null,TZt=typeof WeakSet=="function"&&WeakSet.prototype,Ek=TZt?WeakSet.prototype.has:null,kZt=typeof WeakRef=="function"&&WeakRef.prototype,Qge=kZt?WeakRef.prototype.deref:null,AZt=Boolean.prototype.valueOf,IZt=Object.prototype.toString,DZt=Function.prototype.toString,RZt=String.prototype.match,fte=String.prototype.slice,K1=String.prototype.replace,jZt=String.prototype.toUpperCase,Jge=String.prototype.toLowerCase,qVe=RegExp.prototype.test,e0e=Array.prototype.concat,Pp=Array.prototype.join,OZt=Array.prototype.slice,t0e=Math.floor,Tq=typeof BigInt=="function"?BigInt.prototype.valueOf:null,tU=Object.getOwnPropertySymbols,kq=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,X_=typeof Symbol=="function"&&typeof Symbol.iterator=="object",yu=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===X_||"symbol")?Symbol.toStringTag:null,YVe=Object.prototype.propertyIsEnumerable,n0e=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function r0e(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||qVe.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var r=t<0?-t0e(-t):t0e(t);if(r!==t){var i=String(r),s=fte.call(e,i.length+1);return K1.call(i,n,"$&_")+"."+K1.call(K1.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return K1.call(e,n,"$&_")}var Aq=EZt,i0e=Aq.custom,s0e=ZVe(i0e)?i0e:null,LZt=function t(e,n,r,i){var s=n||{};if(I1(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(I1(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=I1(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(I1(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(I1(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return QVe(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?r0e(e,l):l}if(typeof e=="bigint"){var u=String(e)+"n";return a?r0e(e,u):u}var d=typeof s.depth>"u"?5:s.depth;if(typeof r>"u"&&(r=0),r>=d&&d>0&&typeof e=="object")return Iq(e)?"[Array]":"[Object]";var f=QZt(s,r);if(typeof i>"u")i=[];else if(XVe(i,e)>=0)return"[Circular]";function h(L,P,$){if(P&&(i=OZt.call(i),i.push(P)),$){var B={depth:s.depth};return I1(s,"quoteStyle")&&(B.quoteStyle=s.quoteStyle),t(L,B,r+1,i)}return t(L,s,r+1,i)}if(typeof e=="function"&&!o0e(e)){var p=HZt(e),g=t4(e,h);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(g.length>0?" { "+Pp.call(g,", ")+" }":"")}if(ZVe(e)){var v=X_?K1.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):kq.call(e);return typeof e=="object"&&!X_?wS(v):v}if(KZt(e)){for(var y="<"+Jge.call(String(e.nodeName)),x=e.attributes||[],b=0;b<x.length;b++)y+=" "+x[b].name+"="+KVe(PZt(x[b].value),"double",s);return y+=">",e.childNodes&&e.childNodes.length&&(y+="..."),y+="</"+Jge.call(String(e.nodeName))+">",y}if(Iq(e)){if(e.length===0)return"[]";var _=t4(e,h);return f&&!XZt(_)?"["+Dq(_,f)+"]":"[ "+Pp.call(_,", ")+" ]"}if($Zt(e)){var C=t4(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!YVe.call(e,"cause")?"{ ["+String(e)+"] "+Pp.call(e0e.call("[cause]: "+h(e.cause),C),", ")+" }":C.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Pp.call(C,", ")+" }"}if(typeof e=="object"&&o){if(s0e&&typeof e[s0e]=="function"&&Aq)return Aq(e,{depth:d-r});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(zZt(e)){var S=[];return Zge&&Zge.call(e,function(L,P){S.push(h(P,e,!0)+" => "+h(L,e))}),a0e("Map",AM.call(e),S,f)}if(qZt(e)){var T=[];return Xge&&Xge.call(e,function(L){T.push(h(L,e))}),a0e("Set",IM.call(e),T,f)}if(WZt(e))return nU("WeakMap");if(YZt(e))return nU("WeakSet");if(GZt(e))return nU("WeakRef");if(BZt(e))return wS(h(Number(e)));if(VZt(e))return wS(h(Tq.call(e)));if(NZt(e))return wS(AZt.call(e));if(FZt(e))return wS(h(String(e)));if(!MZt(e)&&!o0e(e)){var A=t4(e,h),k=n0e?n0e(e)===Object.prototype:e instanceof Object||e.constructor===Object,I=e instanceof Object?"":"null prototype",D=!k&&yu&&Object(e)===e&&yu in e?fte.call(yy(e),8,-1):I?"Object":"",R=k||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",O=R+(D||I?"["+Pp.call(e0e.call([],D||[],I||[]),": ")+"] ":"");return A.length===0?O+"{}":f?O+"{"+Dq(A,f)+"}":O+"{ "+Pp.call(A,", ")+" }"}return String(e)};function KVe(t,e,n){var r=(n.quoteStyle||e)==="double"?'"':"'";return r+t+r}function PZt(t){return K1.call(String(t),/"/g,"&quot;")}function Iq(t){return yy(t)==="[object Array]"&&(!yu||!(typeof t=="object"&&yu in t))}function MZt(t){return yy(t)==="[object Date]"&&(!yu||!(typeof t=="object"&&yu in t))}function o0e(t){return yy(t)==="[object RegExp]"&&(!yu||!(typeof t=="object"&&yu in t))}function $Zt(t){return yy(t)==="[object Error]"&&(!yu||!(typeof t=="object"&&yu in t))}function FZt(t){return yy(t)==="[object String]"&&(!yu||!(typeof t=="object"&&yu in t))}function BZt(t){return yy(t)==="[object Number]"&&(!yu||!(typeof t=="object"&&yu in t))}function NZt(t){return yy(t)==="[object Boolean]"&&(!yu||!(typeof t=="object"&&yu in t))}function ZVe(t){if(X_)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!kq)return!1;try{return kq.call(t),!0}catch{}return!1}function VZt(t){if(!t||typeof t!="object"||!Tq)return!1;try{return Tq.call(t),!0}catch{}return!1}var UZt=Object.prototype.hasOwnProperty||function(t){return t in this};function I1(t,e){return UZt.call(t,e)}function yy(t){return IZt.call(t)}function HZt(t){if(t.name)return t.name;var e=RZt.call(DZt.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function XVe(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function zZt(t){if(!AM||!t||typeof t!="object")return!1;try{AM.call(t);try{IM.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function WZt(t){if(!Ck||!t||typeof t!="object")return!1;try{Ck.call(t,Ck);try{Ek.call(t,Ek)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function GZt(t){if(!Qge||!t||typeof t!="object")return!1;try{return Qge.call(t),!0}catch{}return!1}function qZt(t){if(!IM||!t||typeof t!="object")return!1;try{IM.call(t);try{AM.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function YZt(t){if(!Ek||!t||typeof t!="object")return!1;try{Ek.call(t,Ek);try{Ck.call(t,Ck)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function KZt(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function QVe(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return QVe(fte.call(t,0,e.maxStringLength),e)+r}var i=K1.call(K1.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,ZZt);return KVe(i,"single",e)}function ZZt(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+jZt.call(e.toString(16))}function wS(t){return"Object("+t+")"}function nU(t){return t+" { ? }"}function a0e(t,e,n,r){var i=r?Dq(n,r):Pp.call(n,", ");return t+" ("+e+") {"+i+"}"}function XZt(t){for(var e=0;e<t.length;e++)if(XVe(t[e],`
`)>=0)return!1;return!0}function QZt(t,e){var n;if(t.indent==="	")n="	";else if(typeof t.indent=="number"&&t.indent>0)n=Pp.call(Array(t.indent+1)," ");else return null;return{base:n,prev:Pp.call(Array(e+1),n)}}function Dq(t,e){if(t.length===0)return"";var n=`
`+e.prev+e.base;return n+Pp.call(t,","+n)+`
`+e.prev}function t4(t,e){var n=Iq(t),r=[];if(n){r.length=t.length;for(var i=0;i<t.length;i++)r[i]=I1(t,i)?e(t[i],t):""}var s=typeof tU=="function"?tU(t):[],o;if(X_){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in t)I1(t,l)&&(n&&String(Number(l))===l&&l<t.length||X_&&o["$"+l]instanceof Symbol||(qVe.call(/[^\w$]/,l)?r.push(e(l,t)+": "+e(t[l],t)):r.push(l+": "+e(t[l],t))));if(typeof tU=="function")for(var u=0;u<s.length;u++)YVe.call(t,s[u])&&r.push("["+e(s[u])+"]: "+e(t[s[u]],t));return r}const A5=vt(LZt);function JZt(t,e,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;){var o=t[i];e(r,o,n(o),t)}return r}var eXt=JZt,tXt=mBe;function nXt(t,e,n,r){return tXt(t,function(i,s,o){e(r,i,n(i),o)}),r}var rXt=nXt,iXt=eXt,sXt=rXt,oXt=my,aXt=Jo;function lXt(t,e){return function(n,r){var i=aXt(n)?iXt:sXt,s=e?e():{};return i(n,t,oXt(r),s)}}var hte=lXt,uXt=hte,cXt=uXt(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),dXt=cXt;const pte=vt(dXt);var fXt=function(e,n){if(!Array.isArray(e))throw new TypeError("humanize-list expected an array");n=n||{},n.conjunction=n.conjunction||"and";var r=e.length;if(r===1)return e[0];if(n.skipConjunction)return e.join(", ");for(var i="",s=0;s<r;s++)s===r-1?(n.oxfordComma&&(i+=","),i+=" "+n.conjunction+" "):s!==0&&(i+=", "),i+=e[s];return i};const Lc=vt(fXt);var mte={exports:{}};const rU=[],l0e=[],JVe=(t,e)=>{if(t===e)return 0;const n=t;t.length>e.length&&(t=e,e=n);let r=t.length,i=e.length;for(;r>0&&t.charCodeAt(~-r)===e.charCodeAt(~-i);)r--,i--;let s=0;for(;s<r&&t.charCodeAt(s)===e.charCodeAt(s);)s++;if(r-=s,i-=s,r===0)return i;let o,a,l,u,d=0,f=0;for(;d<r;)l0e[d]=t.charCodeAt(s+d),rU[d]=++d;for(;f<i;)for(o=e.charCodeAt(s+f),l=f++,a=f,d=0;d<r;d++)u=o===l0e[d]?l:l+1,l=rU[d],a=rU[d]=l>a?u>a?a+1:u:u>l?l+1:u;return a};mte.exports=JVe;mte.exports.default=JVe;var hXt=mte.exports;const pXt=vt(hXt),mXt="https://docs.sanity.io/help/";function gXt(t){return mXt+t}const xn={TYPE_INVALID:"schema-type-invalid",TYPE_IS_ESM_MODULE:"schema-type-is-esm-module",TYPE_NAME_RESERVED:"schema-type-name-reserved",TYPE_MISSING_NAME:"schema-type-missing-name-or-type",TYPE_MISSING_TYPE:"schema-type-missing-name-or-type",TYPE_TITLE_RECOMMENDED:"schema-type-title-is-recommended",TYPE_TITLE_INVALID:"schema-type-title-is-recommended",OBJECT_FIELDS_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_NOT_UNIQUE:"schema-object-fields-invalid",OBJECT_FIELD_NAME_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_DEFINITION_INVALID_TYPE:"schema-object-fields-invalid",ARRAY_PREDEFINED_CHOICES_INVALID:"schema-predefined-choices-invalid",ARRAY_OF_ARRAY:"schema-array-of-array",ARRAY_OF_INVALID:"schema-array-of-invalid",ARRAY_OF_NOT_UNIQUE:"schema-array-of-invalid",ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT:"schema-array-of-type-global-type-conflict",ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT:"schema-array-of-type-builtin-type-conflict",REFERENCE_TO_INVALID:"schema-reference-to-invalid",REFERENCE_TO_NOT_UNIQUE:"schema-reference-to-invalid",REFERENCE_INVALID_OPTIONS:"schema-reference-invalid-options",REFERENCE_INVALID_OPTIONS_LOCATION:"schema-reference-options-nesting",REFERENCE_INVALID_FILTER_PARAMS_COMBINATION:"schema-reference-filter-params-combination",SLUG_SLUGIFY_FN_RENAMED:"slug-slugifyfn-renamed",ASSET_METADATA_FIELD_INVALID:"asset-metadata-field-invalid",CROSS_DATASET_REFERENCE_INVALID:"cross-dataset-reference-invalid",DEPRECATED_BLOCKEDITOR_KEY:"schema-deprecated-blockeditor-key",STANDALONE_BLOCK_TYPE:"schema-standalone-block-type"};function eUe(t,e,n){if(n&&!Object.keys(xn).some(r=>xn[r]===n))throw new Error('Used the unknown helpId "'.concat(n,'", please add it to the array in createValidationResult.js'));return{severity:t,message:e,helpId:n}}const xt=(t,e)=>eUe("error",t,e),Ko=(t,e)=>eUe("warning",t,e);function vXt(t){return $i(t.map(e=>tUe(e))).filter(e=>e.problems.length>0)}function mw(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n=>ms(n,t);return function(r,i){const s=[...i,{kind:"type",type:r.type,name:r.name}],o=e(r)||[],a=Array.isArray(o)?o.map(l=>{const u={kind:"property",name:t},d=[...s,u];return tUe(l,d)}):[[{path:s,problems:[xt("Member declaration (".concat(t,") is not an array"))]}]];return[{path:s,problems:r._problems||[]},...$i(a)]}}const yXt=t=>Array.isArray(t)?t:typeof t>"u"&&[]||[t],u0e=mw("fields"),bXt=mw("fields"),xXt=mw("fields"),wXt=mw("of"),_Xt=mw("to",t=>"to"in t?yXt(t.to):[]),CXt=mw("marks.annotations"),EXt=mw("of"),SXt=(t,e)=>[...CXt(t,e),...EXt(t,e)];function TXt(t){return[{path:[...arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],{kind:"type",type:t.type,name:t.name}],problems:t._problems||[]}]}function tUe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];switch(t.type){case"object":return u0e(t,e);case"document":return u0e(t,e);case"array":return wXt(t,e);case"reference":return _Xt(t,e);case"block":return SXt(t,e);case"image":return bXt(t,e);case"file":return xXt(t,e);default:return TXt(t,e)}}function R9(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r=>r;const n=t.reduce((r,i)=>{const s=e(i);return r[s]||(r[s]=[]),r[s].push(i),r},{});return Object.keys(n).map(r=>n[r].length>1?n[r]:null).filter(Boolean)}const kXt=t=>t,AXt={name:"type",type:null},IXt=["any","time","date"];function DXt(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kXt;const r=Object.create(null),i=Object.create(null),s=e.map(g=>g.name),o=IXt.concat(s),a=t.map(g=>g&&g.name).filter(Boolean);e.forEach(g=>{r[g.name]=g}),t.forEach((g,v)=>{i[g&&g.name||"__unnamed_".concat(v)]={}});function l(g){return g==="type"?AXt:r[g]||i[g]||null}const u=ha($i(R9(a)));function d(g){return u.includes(g)}function f(){return a.concat(s)}function h(g){return g==="type"||o.includes(g)}const p=g=>(v,y)=>n(v,{visit:p(!1),isRoot:g,getType:l,getTypeNames:f,isReserved:h,isDuplicate:d,index:y});return e.forEach(g=>{Object.assign(r[g.name],p(g))}),t.forEach((g,v)=>{Object.assign(i[g&&g.name||"__unnamed_".concat(v)],p(!0)(g,v))}),{get(g){const v=i[g]||r[g];if(v)return v;throw new Error("No such type: ".concat(g))},has(g){return g in i||g in r},getTypeNames(){return Object.keys(i)},getTypes(){return this.getTypeNames().map(this.get)},toJSON(){return this.getTypes()}}}const nUe=[{name:"array",jsonType:"array",type:"type"},{name:"block",jsonType:"object",type:"type"},{name:"boolean",jsonType:"boolean",type:"type"},{name:"datetime",jsonType:"string",type:"type"},{name:"date",jsonType:"string",type:"type"},{name:"document",jsonType:"object",type:"type"},{name:"email",jsonType:"string",type:"type"},{name:"file",jsonType:"object",type:"type"},{name:"geopoint",jsonType:"object",type:"type"},{name:"image",jsonType:"object",type:"type"},{name:"number",jsonType:"number",type:"type"},{name:"object",jsonType:"object",type:"type"},{name:"reference",jsonType:"object",type:"type"},{name:"crossDatasetReference",jsonType:"object",type:"type"},{name:"slug",jsonType:"object",type:"type"},{name:"string",jsonType:"string",type:"type"},{name:"telephone",jsonType:"string",type:"type"},{name:"text",jsonType:"string",type:"type"},{name:"url",jsonType:"string",type:"type"}],RXt=nUe.map(t=>t.name);function jXt(t,e){return DXt(t,nUe,e)}const OXt=/^Symbol\(react\..+\)$/;function n4(t){return typeof t==="function"||typeof(t==null?void 0:t.$$typeof)=="symbol"&&OXt.test(String(t==null?void 0:t.$$typeof))}function rUe(t){const e="components"in t?t.components:!1;if(!e)return[];const n=[];return e.input&&!n4(e.input)&&n.push(Ko("The `components.input` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(A5(e.input),"). If you have imported a custom input component, please verify that you have imported the correct named/default export."))),e.field&&!n4(e.field)&&n.push(Ko("The `components.field` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(A5(e.field),"). If you have imported a custom field component, please verify that you have imported the correct named/default export."))),e.item&&!n4(e.item)&&n.push(Ko("The `components.item` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(A5(e.item),"). If you have imported a custom item component, please verify that you have imported the correct named/default export."))),e.preview&&!n4(e.preview)&&n.push(Ko("The `components.preview` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(A5(e.preview),"). If you have imported a custom preview component, please verify that you have imported the correct named/default export."))),n}const c0e=/^[A-Za-z]+[0-9A-Za-z_]*$/,LXt=/^[A-Za-z_]+[0-9A-Za-z_]*$/;function PXt(t){return typeof t!="string"?[xt('Field names must be strings. Saw "'.concat(A5(t),'"'),xn.OBJECT_FIELD_NAME_INVALID)]:t.startsWith("_")?[xt('Invalid field name "'.concat(t,`". Field names cannot start with underscores "_" as it's reserved for system fields.`),xn.OBJECT_FIELD_NAME_INVALID)]:c0e.test(t)?LXt.test(t)?[]:[Ko("Thats an interesting field name for sure! But it is... how to put it... a bit... unconventional? It may be wise to keep special characters out of field names for easier access later on."),xn.OBJECT_FIELD_NAME_INVALID]:[xt('Invalid field name: "'.concat(t,'". Fields can only contain characters from A-Z, numbers and underscores and should not start with a number (must pass the regular expression ').concat(String(c0e),")."),xn.OBJECT_FIELD_NAME_INVALID)]}function gte(t,e){if(!Ys(t))return[xt("Incorrect type for field definition - should be an object, saw ".concat(A5(t)),xn.OBJECT_FIELD_DEFINITION_INVALID_TYPE)];const n=[];return n.push(..."name"in t?PXt(t.name):[xt("Missing field name",xn.OBJECT_FIELD_NAME_INVALID)]),n.push(...rUe(t)),n}function MXt(t){const e={};return t.forEach(n=>{e[n.name]||(e[n.name]=[]),e[n.name].push(n)}),Object.keys(e).map(n=>e[n].length>1?e[n]:null).filter(Boolean)}function vte(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{allowEmpty:!1};const n=[];if(!Array.isArray(t))return[xt('The "fields" property must be an array of fields. Instead saw "'.concat(typeof t,'"'),xn.OBJECT_FIELDS_INVALID)];const i=t.filter(o=>typeof o.name=="string");MXt(i).forEach(o=>{n.push(xt("Found ".concat(o.length,' fields with name "').concat(o[0].name,'" in object'),xn.OBJECT_FIELD_NOT_UNIQUE))}),t.length===0&&!e.allowEmpty&&n.push(xt("Object should have at least one field",xn.OBJECT_FIELDS_INVALID));const s=t.filter(o=>o.type==="block").map(o=>'"'.concat(o.name,'"'));if(s.length>0){const o=s.join(", ");n.push(xt("Invalid standalone block field(s) ".concat(o,". Block content must be defined as an array of blocks"),xn.STANDALONE_BLOCK_TYPE))}return n}function $Xt(t){return Ys(t)?typeof t.prepare<"u"&&typeof t.prepare!="function"?[xt('The "preview.prepare" property must be a function, instead saw "'.concat(typeof t.prepare,'"'))]:t.select?Ys(t.select)?Object.keys(t.select).reduce((e,n)=>typeof t.select[n]=="string"?e:e.concat(xt('The key "'.concat(n,'" of "preview.select" must be a string, instead saw "').concat(typeof t.select[n],'"'))),[]):[xt('The "preview.select" property must be an object, instead saw "'.concat(typeof t.prepare,'"'))]:[]:[xt('The "preview" property must be an object, instead saw "'.concat(typeof t,'"'))]}var iUe=(t,e)=>{let n=vte(t.fields),r=t.preview;if(r){const i=$Xt(t.preview);n=n.concat(i),r=i.some(s=>s.severity==="error")?{}:r}return t.type!=="document"&&t.type!=="object"&&typeof t.initialValue<"u"&&n.push(xt('The "initialValue" property is currently only supported for document & object types.')),{...t,preview:r,fields:(Array.isArray(t.fields)?t.fields:[]).map((i,s)=>{const{name:o,...a}=i,{_problems:l,...u}=e.visit(a,s);return{name:o,...u,_problems:gte(i).concat(l||[])}}),_problems:n}},FXt=(t,e)=>{const n=iUe(t,e),{initialValue:r,initialValues:i}=n;return typeof r<"u"&&!Ys(r)&&typeof r!="function"&&n._problems.push(xt('The "initialValue" property must be either a plain object or a function')),typeof i<"u"&&n._problems.push(xt('Found property "initialValues" - did you mean "initialValue"?')),n};function BXt(t){return Array.isArray(t.to)?t.to:t.to?[t.to]:t.to}var NXt=(t,e)=>{const n=Array.isArray(t.to)||Ys(t.to),r=BXt(t),i=$i([n?R9(r,s=>"".concat(s.name,";").concat(s.type)).map(s=>xt("Found ".concat(s.length,' members with same type, but not unique names "').concat(s[0].type,'" in reference. This makes it impossible to tell their values apart and you should consider naming them'),xn.REFERENCE_TO_INVALID)):xt('The reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',xn.REFERENCE_TO_INVALID)]);return n&&r.length===0&&i.push(xt('The reference type should define at least one accepted type. Please check the "to" property.',xn.REFERENCE_TO_INVALID)),i.push(...VXt(t)),{...t,to:(n?r:[]).map(e.visit),_problems:i}};function VXt(t){const{options:e}=t,n=[];return n.push(...["filter","filterParams"].filter(r=>r in t).map(r=>xt("`".concat(r,"` is not allowed on a reference type definition - did you mean `options.").concat(r,"`?"),xn.REFERENCE_INVALID_OPTIONS_LOCATION))),e?Ys(e)?typeof e.filter=="function"&&typeof e.filterParams<"u"?n.concat(xt("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",xn.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof e.filter=="function"||!e.filter&&!e.filterParams?n:typeof e.filter!="string"?n.concat(xt("If set, `filter` must be a string. Got ".concat(typeof e.filter))):typeof e.filterParams<"u"&&!Ys(e.filterParams)?n.concat(xt("If set, `filterParams` must be an object.")):e.filterParams?n.concat(Object.keys(e.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>xt('Filter parameter cannot be prefixed with "$" or "__". Got '.concat(r,'".')))):n:n.concat(xt("The reference type expects `options` to be an object",xn.REFERENCE_INVALID_OPTIONS)):n}function d0e(t){return t==="string"||t==="number"||t==="boolean"}function UXt(t,e){return(typeof e.name=="string"?e.name:e.type)===t}function Sk(t){return'"'.concat(t,'"')}function f0e(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"s";return t.length===1?"":e}function h0e(t){return Array.isArray(t)?"array with ".concat(t.length," entries"):typeof t=="object"&&t!==null?"object with keys ".concat(Lc(Object.keys(t).map(Sk))):Sk(t)}var HXt=(t,e)=>{var n,r,i;const s=Array.isArray(t.of);if(s){const g=t.of.reduce((v,y,x)=>{if(typeof y.name=="string"&&y.name!==y.type&&RXt.includes(y.name))return v.concat(xt('Found array member declaration with the same type name as a built-in type ("'.concat(y.name,'"). Array members can not be given the same name as a built-in type.'),xn.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT));if(y.type==="object"&&y.name&&e.getType(y.name))return v.concat(Ko('Found array member declaration with the same name as the global schema type "'.concat(y.name,`". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`),xn.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT));if(y.type==="array")return v.concat(xt('Found array member declaration of type "array" - multidimensional arrays are not currently supported by Sanity',xn.ARRAY_OF_ARRAY));if(y)return v;const b="Found ".concat(y===null?"null":typeof y,", expected member declaration");return v.concat(xt("Found invalid type member declaration in array at index ".concat(x,": ").concat(b),xn.ARRAY_OF_INVALID))},[]);if(g.length>0)return{...t,of:[],_problems:g}}const o=$i([s?R9(t.of,g=>"".concat(g.name,";").concat(g.type)).map(g=>xt("Found ".concat(g.length,' members with same type, but not unique names "').concat(g[0].type,'" in array. This makes it impossible to tell their values apart and you should consider naming them'),xn.ARRAY_OF_NOT_UNIQUE)):xt('The array type is missing or having an invalid value for the required "of" property',xn.ARRAY_OF_INVALID)]),a=s?t.of:[],l=a.some(g=>g.type==="object"&&typeof g.name>"u");a.some(g=>g.type==="block")&&l&&o.push(xt("The array type's 'of' property can't have an object type without a 'name' property as member, when the 'block' type is also a member of that array.",xn.ARRAY_OF_INVALID));const[d,f]=pte(a,g=>{var v;return d0e(g.type)||d0e((v=e.getType(g.type))==null?void 0:v.jsonType)}),h=d.length>0&&f.length>0;if(h){const g=d.map(y=>y.type),v=f.map(y=>y.type);o.push(xt("The array type's 'of' property can't have both object types and primitive types (found primitive type ".concat(f0e(g)," ").concat(Lc(g.map(Sk))," and object type").concat(f0e(v)," ").concat(Lc(v.map(Sk)),")"),xn.ARRAY_OF_INVALID))}const p=(n=t==null?void 0:t.options)==null?void 0:n.list;return!h&&Array.isArray(p)&&(d.length>0?p.forEach(v=>{var y;const x=(y=v==null?void 0:v.value)!=null?y:v;if(!d.some(_=>typeof x===e.getType(_.type).jsonType)){const _=Lc(d.map(C=>C.name||C.type),{conjunction:"or"});o.push(xt("An invalid entry found in options.list: ".concat(h0e(x),". Must be either a value of type ").concat(_,", or an object with {title: string, value: ").concat(_,"}"),xn.ARRAY_PREDEFINED_CHOICES_INVALID))}}):p.forEach(v=>{const y=v._type||"object";f.some(b=>UXt(y,b))||o.push(xt("An invalid entry found in options.list: ".concat(h0e(v),'. Must be an object with "_type" set to ').concat(Lc(f.map(b=>b.name||b.type).map(b=>b==="object"?"undefined":Sk(b)),{conjunction:"or"})),xn.ARRAY_PREDEFINED_CHOICES_INVALID))})),(r=t==null?void 0:t.options)!=null&&r.list&&((i=t==null?void 0:t.options)==null?void 0:i.layout)==="tags"&&o.push(Ko("Found array member declaration with both tags layout and a list of predefined values. If you want to display a list of predefined values, remove the tags layout from `options`.")),{...t,of:a.map(e.visit),_problems:o}},zXt=(t,e)=>{const n=[];return t.options&&t.options.slugifyFn&&(n.push(Ko('Heads up! The "slugifyFn" option has been renamed to "slugify".',xn.SLUG_SLUGIFY_FN_RENAMED)),t.options.slugify=t.options.slugifyFn),{...t,_problems:n}},WXt=(t,e)=>{const n=[],r=t.fields;r&&n.push(...vte(r,{allowEmpty:!0}));const i=Array.isArray(r)?r==null?void 0:r.filter(s=>s.name==="asset"):[];return t.options&&typeof t.options.metadata<"u"&&!Array.isArray(t.options.metadata)?n.push(xt("Invalid type for file `metadata` field - must be an array of strings",xn.ASSET_METADATA_FIELD_INVALID)):i.length>0&&n.push(xt("The name `asset` is not a valid field name for type `file`.")),{...t,fields:(Array.isArray(r)?r:[]).map((s,o)=>{const{name:a,...l}=s,{_problems:u,...d}=e.visit(l,o);return{name:a,...d,_problems:gte(s).concat(u||[])}}),_problems:n}};const p0e=["dimensions","hasAlpha","isOpaque"];var GXt=(t,e)=>{const n=[],r=t.fields;r&&n.push(...vte(r,{allowEmpty:!0}));let i=t.options;const s=i==null?void 0:i.metadata,o=Array.isArray(s)?s.filter(u=>p0e.includes(u)):[],a=["asset","hotspot","crop"],l=Array.isArray(r)?r==null?void 0:r.filter(u=>a.includes(u.name)):[];return typeof s<"u"&&!Array.isArray(s)?n.push(xt("Invalid type for image `metadata` field - must be an array of strings",xn.ASSET_METADATA_FIELD_INVALID)):o.length>0?(n.push(Ko("Image `metadata` field contains superfluous properties (they are always included): ".concat(o.join(", ")))),i={...i,metadata:s.filter(u=>!p0e.includes(u))}):l.length>0&&n.push(xt("The names `".concat(a.join("`, `"),"` are invalid field names for type `image`."))),{...t,options:i,fields:(Array.isArray(r)?r:[]).map((u,d)=>{const{name:f,...h}=u,{_problems:p,...g}=e.visit(h,d);return{name:f,...g,_problems:gte(u).concat(p||[])}}),_problems:n}};function sUe(t,e,n){if("jsonType"in t)return t.jsonType===e;const r=n.getType(t.type);if(!r)throw new Error("Could not resolve jsonType of ".concat(t.name,". No parent type found"));return sUe(r,e,n)}const wd=t=>Array.isArray(t)?"array":typeof t,CI=t=>'"'.concat(t,'"'),qXt=["components","lists","marks","name","of","options","styles","title","type","validation"],YXt=["decorators","annotations"],KXt=["blockEditor","title","value","component"],ZXt=["blockEditor","title","value","icon","component"],XXt=["title","value","icon","component"];function QXt(t,e){const n=[];let r=t.styles,i=t.lists,s=t.marks,o=t.of;const a=Object.keys(t).filter(l=>!qXt.includes(l)&&!l.startsWith("_"));return a.length>0&&n.push(xt("Found unknown properties for block declaration: ".concat(Lc(a.map(CI))))),s&&(s=JXt(t.marks,e,n)),r&&(r=tQt(r,e,n)),i&&(i=eQt(i,e,n)),o&&(o=iQt(o,e,n)),{...Al(t,a),marks:s,styles:r,name:t.name||t.type,of:o,_problems:n}}function JXt(t,e,n){let r=t.decorators,i=t.annotations;if(!Ys(t))return n.push(xt('"marks" declaration should be an object, got '.concat(wd(t)))),n;const s=Object.keys(t).filter(o=>!YXt.includes(o)&&!o.startsWith("_"));return s.length>0&&n.push(xt("Found unknown properties for block declaration: ".concat(Lc(s.map(CI))))),r&&!Array.isArray(r)?n.push(xt('"marks.decorators" declaration should be an array, got '.concat(wd(r)))):r&&(r.filter(o=>!!o.blockEditor).forEach(o=>{o.icon=o.blockEditor.icon,o.component=o.blockEditor.render}),r=nQt(r,e,n)),i&&!Array.isArray(i)?n.push(xt('"marks.annotations" declaration should be an array, got '.concat(wd(i)))):i&&(i=rQt(i,e,n)),{...t,decorators:r,annotations:i}}function eQt(t,e,n){return Array.isArray(t)?(t.forEach((r,i)=>{if(!Ys(r)){n.push(xt("List must be an object, got ".concat(wd(r))));return}const s=r.value||"#".concat(i),o=Object.keys(r).filter(a=>!XXt.includes(a)&&!a.startsWith("_"));o.length>0&&n.push(xt("Found unknown properties for list ".concat(s,": ").concat(Lc(o.map(CI))))),r.value?typeof r.value!="string"?n.push(xt("List type #".concat(i,' has an invalid "value" property, expected string, got ').concat(wd(r.value)))):r.title||n.push(Ko("List type ".concat(s,' is missing recommended "title" property'))):n.push(xt("List #".concat(i,' is missing required "value" property')))}),t):(n.push(xt('"lists" declaration should be an array, got '.concat(wd(t)))),n)}function tQt(t,e,n){return Array.isArray(t)?(t.forEach((r,i)=>{if(!Ys(r)){n.push(xt("Style must be an object, got ".concat(wd(r))));return}const s=r.value||"#".concat(i),o=Object.keys(r).filter(a=>!KXt.includes(a)&&!a.startsWith("_"));o.length>0&&n.push(xt("Found unknown properties for style ".concat(s,": ").concat(Lc(o.map(CI))))),r.value?typeof r.value!="string"?n.push(xt("Style #".concat(i,' has an invalid "value" property, expected string, got ').concat(wd(r.value)))):r.title||n.push(Ko("Style ".concat(s,' is missing recommended "title" property'))):n.push(xt("Style #".concat(i,' is missing required "value" property'))),typeof r.blockEditor<"u"&&(n.push(Ko('Style has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',xn.DEPRECATED_BLOCKEDITOR_KEY)),r.component=r.component||r.blockEditor.render)}),t):(n.push(xt('"styles" declaration should be an array, got '.concat(wd(t)))),n)}function nQt(t,e,n){return t.forEach((r,i)=>{if(!Ys(r)){n.push(xt("Annotation must be an object, got ".concat(wd(r))));return}const s=r.value||"#".concat(i),o=Object.keys(r).filter(a=>!ZXt.includes(a)&&!a.startsWith("_"));o.length>0&&n.push(xt("Found unknown properties for decorator ".concat(s,": ").concat(Lc(o.map(CI))))),r.value?typeof r.value!="string"?n.push(xt("Decorator #".concat(i,' has an invalid "value" property, expected string, got ').concat(wd(r.value)))):r.title||n.push(Ko("Decorator ".concat(s,' is missing recommended "title" property'))):n.push(xt("Decorator #".concat(i,' is missing required "value" property'))),typeof r.blockEditor<"u"&&(n.push(Ko('Decorator "'.concat(s,'" has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.'),xn.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,r.component=r.component||r.blockEditor.render)}),t}function rQt(t,e,n){return t.map(r=>{var i,s;if(!Ys(r))return{...r,_problems:[xt("Annotation must be an object, got ".concat(wd(r)))]};const{_problems:o}=e.visit(r,e),a=r.type&&e.getType(r.type);return a&&!sUe(a,"object",e)&&o.push(xt('Annotation cannot have type "'.concat(r.type,'" - annotation types must inherit from object'))),typeof r.blockEditor<"u"&&(n.push(Ko('Annotation has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',xn.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,(i=r.blockEditor)!=null&&i.render&&!((s=r.components)!=null&&s.annotation)&&(r.components=r.components||{},r.components.annotation=r.components.annotation||r.blockEditor.render)),{...r,_problems:o}})}function iQt(t,e,n){if(!Array.isArray(t)){n.push(xt('"of" declaration should be an array, got '.concat(wd(t))));return}return t.map(r=>{const{_problems:i}=e.visit(r,e);return{...r,_problems:i}})}function sQt(t,e){if(!("fields"in t))return[];let n=t;for(;n&&!n.jsonType;)n=e.getType(n.type);return n&&n.jsonType!=="object"?[xt('Type has propery "fields", but is not an object/document type.')]:[]}const oQt=t=>'"'.concat(t,'"');function aQt(t,e){const n=e.getTypeNames();if(!t)return[xt("Type is missing a type. Valid types are: ".concat(Lc(n)),xn.TYPE_MISSING_TYPE)];if(typeof t!="string")return[xt('Type has an invalid "type"-property - should be a string. Valid types are: '.concat(Lc(n)),xn.TYPE_MISSING_TYPE)];if(!n.includes(t)){const i=n.map(o=>[pXt(t,o),o]).filter(o=>{let[a]=o;return a<3}).map(o=>{let[a,l]=o;return l}),s=i.length>0?" Did you mean ".concat(Lc(i.map(oQt),{conjunction:"or"}),"?"):"";return[xt("Unknown type: ".concat(t,".").concat(s,`

Valid types are: `).concat(Lc(n)))]}return[]}function lQt(t){var e,n,r;const i=[];return t!=null&&t.inputComponent&&i.push(Ko('The "inputComponent" property is deprecated. Use "components.input" instead.')),(e=t==null?void 0:t.preview)!=null&&e.component&&i.push(Ko('The "preview.component" property is deprecated. Use "components.preview" instead.')),t!=null&&t.diffComponent&&i.push(Ko('The "diffComponent" property is deprecated. Use "components.diff" instead.')),(n=t==null?void 0:t.options)!=null&&n.editModal&&i.push(Ko('The "options.editModal" property is deprecated. Use "options.modal" instead.')),(r=t==null?void 0:t.options)!=null&&r.isHighlighted&&i.push(Ko('The "options.isHighlighted" property is deprecated. You can put fields behind a collapsed fieldset if you want to hide them from plain sight.')),i}var m0e=(t,e)=>({...t,_problems:[...aQt(t.type,e),...sQt(t,e),...lQt(t)].filter(Boolean)}),uQt=(t,e)=>{const n=!!t.name;if(!n&&Object.keys(t).length===1)return{...t,_problems:[xt("Invalid/undefined type declaration, check declaration or the import/export of the schema type.",xn.TYPE_INVALID)]};const r=[];return cQt(t)?r.push(xt("Type appears to be an ES6 module imported through CommonJS require - use an import statement or access the `.default` property",xn.TYPE_IS_ESM_MODULE)):n?e.isReserved(t.name)&&r.push(xt('Invalid type name: "'.concat(t.name,'" is a reserved name.'),xn.TYPE_NAME_RESERVED)):r.push(xt("Missing type name",xn.TYPE_MISSING_NAME)),e.isDuplicate(t.name)&&r.push(xt('Invalid type name: A type with name "'.concat(t.name,'" is already defined in the schema.'))),r.push(...rUe(t)),"title"in t&&typeof t.title!="string"&&r.push(Ko("Type title is not a string.",xn.TYPE_TITLE_INVALID)),{...t,_problems:r}};function cQt(t){return!t.name&&t.default&&(t.default.name||t.default.title)}function dQt(t){return Array.isArray(t.to)?t.to:t.to?[t.to]:t.to}const fQt=/^[a-z0-9~][-_a-z0-9]+$/;function hQt(t){return t.length>=2&&t.toLowerCase()===t&&fQt.test(t)||'The provided dataset "'.concat(t,`" doesn't look like a valid dataset. Dataset names must be more than 2 characters, can only contain lowercase characters, numbers, underscores and dashes and can not start with a dash or an underscore`)}var pQt=(t,e)=>{const n=Array.isArray(t.to)||Ys(t.to),r=dQt(t),i=$i([n?R9(r,s=>"".concat(s.name,";").concat(s.type)).map(s=>xt("Found ".concat(s.length,' members with same type, but not unique names "').concat(s[0].type,'" in reference. This makes it impossible to tell their values apart and you should consider naming them'),xn.CROSS_DATASET_REFERENCE_INVALID)):xt('The cross dataset reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',xn.CROSS_DATASET_REFERENCE_INVALID)]);if(n&&r.length===0&&i.push(xt('The cross dataset reference type should define at least one referenced type. Please check the "to" property.',xn.CROSS_DATASET_REFERENCE_INVALID)),r.forEach((s,o)=>{s.type||i.push(xt("The referenced type at index ".concat(o," must be named. Specify the name of the type you want to create references to."),xn.CROSS_DATASET_REFERENCE_INVALID)),Ys(s.preview)||i.push(xt('Missing required preview config for the referenced type "'.concat(s.type||"<unknown type>",'"'),xn.CROSS_DATASET_REFERENCE_INVALID))}),typeof t.dataset=="string"){const s=hQt(t.dataset);s!==!0&&i.push(xt(s,xn.CROSS_DATASET_REFERENCE_INVALID))}else i.push(xt("A cross dataset reference must specify a `dataset`",xn.CROSS_DATASET_REFERENCE_INVALID));return t.studioUrl&&typeof t.studioUrl!="function"&&i.push(xt('The "studioUrl" property on a cross dataset reference must be a function taking "{id, type}" as argument and returning a studio url.',xn.CROSS_DATASET_REFERENCE_INVALID)),i.push(...mQt(t)),{...t,_problems:i}};function mQt(t){const{options:e}=t,n=[];return n.push(...["filter","filterParams"].filter(r=>r in t).map(r=>xt("`".concat(r,"` is not allowed on a reference type definition - did you mean `options.").concat(r,"`?"),xn.REFERENCE_INVALID_OPTIONS_LOCATION))),e?Ys(e)?typeof e.filter=="function"&&typeof e.filterParams<"u"?n.concat(xt("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",xn.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof e.filter=="function"||!e.filter&&!e.filterParams?n:typeof e.filter!="string"?n.concat(xt("If set, `filter` must be a string. Got ".concat(typeof e.filter))):typeof e.filterParams<"u"&&!Ys(e.filterParams)?n.concat(xt("If set, `filterParams` must be an object.")):e.filterParams?n.concat(Object.keys(e.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>xt('Filter parameter cannot be prefixed with "$" or "__". Got '.concat(r,'".')))):n:n.concat(xt("The reference type expects `options` to be an object",xn.REFERENCE_INVALID_OPTIONS)):n}const gQt={array:HXt,object:iUe,slug:zXt,file:WXt,image:GXt,block:QXt,document:FXt,reference:NXt,crossDatasetReference:pQt},vQt=t=>e=>({name:"<unnamed_type_@_index_".concat(t.index,">"),...e,_problems:[]});function g0e(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(r,i)=>e.reduce((s,o)=>{const a=o(s,i);return{...a,_problems:s._problems.concat(a._problems)}},{_problems:[],...r})}function yQt(t){return jXt(t,(e,n)=>{const r=e&&e.type&&gQt[e.type]||vQt(n);return n.isRoot?g0e(uQt,m0e,r)(e,n):g0e(m0e,r)(e,n)})}const Rq="__experimental_actions",oUe=["create","update","delete","publish"],iU=oUe,bQt=t=>Rq in t?t[Rq]:oUe,xQt=(t,e)=>{if(!Array.isArray(e))throw new Error("The value of <type>.".concat(Rq," should be an array with any of the actions ").concat(iU.join(", ")));const n=DA(e,iU);if(n.length>0)throw new Error("Invalid action".concat(n.length>1?"s":"",' configured for schema type "').concat(t,'": ').concat(n.join(", "),". Valid actions are: ").concat(iU.join(", ")));return e},wQt=t=>xQt(t.name,bQt(t)),v0e=(t,e)=>wQt(t).includes(e);var _Qt=ate,CQt=1,EQt=4;function SQt(t){return _Qt(t,CQt|EQt)}var TQt=SQt;const kQt=vt(TQt);function Ht(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function AQt(t){return Ht(1,arguments),t instanceof Date||Mf(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Vt(t){Ht(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Mf(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function i0(t){if(Ht(1,arguments),!AQt(t)&&typeof t!="number")return!1;var e=Vt(t);return!isNaN(Number(e))}function ar(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function IQt(t,e){Ht(2,arguments);var n=Vt(t).getTime(),r=ar(e);return new Date(n+r)}function DM(t,e){Ht(2,arguments);var n=ar(e);return IQt(t,-n)}var DQt=864e5;function RQt(t){Ht(1,arguments);var e=Vt(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/DQt)+1}function Q_(t){Ht(1,arguments);var e=1,n=Vt(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function aUe(t){Ht(1,arguments);var e=Vt(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Q_(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=Q_(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function jQt(t){Ht(1,arguments);var e=aUe(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Q_(n);return r}var OQt=6048e5;function lUe(t){Ht(1,arguments);var e=Vt(t),n=Q_(e).getTime()-jQt(e).getTime();return Math.round(n/OQt)+1}var LQt={};function Xh(){return LQt}function Hx(t,e){var n,r,i,s,o,a,l,u;Ht(1,arguments);var d=Xh(),f=ar((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Vt(t),p=h.getUTCDay(),g=(p<f?7:0)+p-f;return h.setUTCDate(h.getUTCDate()-g),h.setUTCHours(0,0,0,0),h}function yte(t,e){var n,r,i,s,o,a,l,u;Ht(1,arguments);var d=Vt(t),f=d.getUTCFullYear(),h=Xh(),p=ar((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(f+1,0,p),g.setUTCHours(0,0,0,0);var v=Hx(g,e),y=new Date(0);y.setUTCFullYear(f,0,p),y.setUTCHours(0,0,0,0);var x=Hx(y,e);return d.getTime()>=v.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function PQt(t,e){var n,r,i,s,o,a,l,u;Ht(1,arguments);var d=Xh(),f=ar((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=yte(t,e),p=new Date(0);p.setUTCFullYear(h,0,f),p.setUTCHours(0,0,0,0);var g=Hx(p,e);return g}var MQt=6048e5;function uUe(t,e){Ht(1,arguments);var n=Vt(t),r=Hx(n,e).getTime()-PQt(n,e).getTime();return Math.round(r/MQt)+1}function Ri(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var $Qt={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return Ri(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):Ri(r+1,2)},d:function(e,n){return Ri(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return Ri(e.getUTCHours()%12||12,n.length)},H:function(e,n){return Ri(e.getUTCHours(),n.length)},m:function(e,n){return Ri(e.getUTCMinutes(),n.length)},s:function(e,n){return Ri(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return Ri(s,n.length)}};const r1=$Qt;var a2={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},FQt={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return r1.y(e,n)},Y:function(e,n,r,i){var s=yte(e,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return Ri(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):Ri(o,n.length)},R:function(e,n){var r=aUe(e);return Ri(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return Ri(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Ri(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Ri(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return r1.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return Ri(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=uUe(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):Ri(s,n.length)},I:function(e,n,r){var i=lUe(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):Ri(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):r1.d(e,n)},D:function(e,n,r){var i=RQt(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Ri(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Ri(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Ri(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return Ri(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=a2.noon:i===0?s=a2.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=a2.evening:i>=12?s=a2.afternoon:i>=4?s=a2.morning:s=a2.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return r1.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):r1.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Ri(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):Ri(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):r1.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):r1.s(e,n)},S:function(e,n){return r1.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return b0e(o);case"XXXX":case"XX":return Ib(o);case"XXXXX":case"XXX":default:return Ib(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return b0e(o);case"xxxx":case"xx":return Ib(o);case"xxxxx":case"xxx":default:return Ib(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+y0e(o,":");case"OOOO":default:return"GMT"+Ib(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+y0e(o,":");case"zzzz":default:return"GMT"+Ib(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return Ri(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return Ri(o,n.length)}};function y0e(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e||"";return n+String(i)+o+Ri(s,2)}function b0e(t,e){if(t%60===0){var n=t>0?"-":"+";return n+Ri(Math.abs(t)/60,2)}return Ib(t,e)}function Ib(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=Ri(Math.floor(i/60),2),o=Ri(i%60,2);return r+s+n+o}const BQt=FQt;var x0e=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},cUe=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},NQt=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return x0e(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",x0e(i,n)).replace("{{time}}",cUe(s,n))},VQt={p:cUe,P:NQt};const jq=VQt;function Gv(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}var UQt=["D","DD"],HQt=["YY","YYYY"];function dUe(t){return UQt.indexOf(t)!==-1}function fUe(t){return HQt.indexOf(t)!==-1}function RM(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var zQt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},WQt=function(e,n,r){var i,s=zQt[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const GQt=WQt;function sU(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var qQt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},YQt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},KQt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ZQt={date:sU({formats:qQt,defaultWidth:"full"}),time:sU({formats:YQt,defaultWidth:"full"}),dateTime:sU({formats:KQt,defaultWidth:"full"})};const XQt=ZQt;var QQt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},JQt=function(e,n,r,i){return QQt[e]};const eJt=JQt;function _S(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var tJt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nJt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rJt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},iJt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},sJt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oJt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},aJt=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},lJt={ordinalNumber:aJt,era:_S({values:tJt,defaultWidth:"wide"}),quarter:_S({values:nJt,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:_S({values:rJt,defaultWidth:"wide"}),day:_S({values:iJt,defaultWidth:"wide"}),dayPeriod:_S({values:sJt,defaultWidth:"wide",formattingValues:oJt,defaultFormattingWidth:"wide"})};const uJt=lJt;function CS(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?dJt(a,function(f){return f.test(o)}):cJt(a,function(f){return f.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var d=e.slice(o.length);return{value:u,rest:d}}}function cJt(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function dJt(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function fJt(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(i.length);return{value:o,rest:a}}}var hJt=/^(\d+)(th|st|nd|rd)?/i,pJt=/\d+/i,mJt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gJt={any:[/^b/i,/^(a|c)/i]},vJt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yJt={any:[/1/i,/2/i,/3/i,/4/i]},bJt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},xJt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wJt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_Jt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},CJt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},EJt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},SJt={ordinalNumber:fJt({matchPattern:hJt,parsePattern:pJt,valueCallback:function(e){return parseInt(e,10)}}),era:CS({matchPatterns:mJt,defaultMatchWidth:"wide",parsePatterns:gJt,defaultParseWidth:"any"}),quarter:CS({matchPatterns:vJt,defaultMatchWidth:"wide",parsePatterns:yJt,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:CS({matchPatterns:bJt,defaultMatchWidth:"wide",parsePatterns:xJt,defaultParseWidth:"any"}),day:CS({matchPatterns:wJt,defaultMatchWidth:"wide",parsePatterns:_Jt,defaultParseWidth:"any"}),dayPeriod:CS({matchPatterns:CJt,defaultMatchWidth:"any",parsePatterns:EJt,defaultParseWidth:"any"})};const TJt=SJt;var kJt={code:"en-US",formatDistance:GQt,formatLong:XQt,formatRelative:eJt,localize:uJt,match:TJt,options:{weekStartsOn:0,firstWeekContainsDate:1}};const j9=kJt;var AJt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,IJt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,DJt=/^'([^]*?)'?$/,RJt=/''/g,jJt=/[a-zA-Z]/;function Ja(t,e,n){var r,i,s,o,a,l,u,d,f,h,p,g,v,y,x,b,_,C;Ht(2,arguments);var S=String(e),T=Xh(),A=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:T.locale)!==null&&r!==void 0?r:j9,k=ar((s=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&a!==void 0?a:T.firstWeekContainsDate)!==null&&o!==void 0?o:(f=T.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var I=ar((p=(g=(v=(y=n==null?void 0:n.weekStartsOn)!==null&&y!==void 0?y:n==null||(x=n.locale)===null||x===void 0||(b=x.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&v!==void 0?v:T.weekStartsOn)!==null&&g!==void 0?g:(_=T.locale)===null||_===void 0||(C=_.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&p!==void 0?p:0);if(!(I>=0&&I<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!A.localize)throw new RangeError("locale must contain localize property");if(!A.formatLong)throw new RangeError("locale must contain formatLong property");var D=Vt(t);if(!i0(D))throw new RangeError("Invalid time value");var R=Gv(D),O=DM(D,R),L={firstWeekContainsDate:k,weekStartsOn:I,locale:A,_originalDate:D},P=S.match(IJt).map(function($){var B=$[0];if(B==="p"||B==="P"){var Q=jq[B];return Q($,A.formatLong)}return $}).join("").match(AJt).map(function($){if($==="''")return"'";var B=$[0];if(B==="'")return OJt($);var Q=BQt[B];if(Q)return!(n!=null&&n.useAdditionalWeekYearTokens)&&fUe($)&&RM($,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&dUe($)&&RM($,e,String(t)),Q(O,$,A.localize,L);if(B.match(jJt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");return $}).join("");return P}function OJt(t){var e=t.match(DJt);return e?e[1].replace(RJt,"'"):t}var LJt=km,PJt=0;function MJt(t){var e=++PJt;return LJt(t)+e}var $Jt=MJt;const hUe=vt($Jt);function Lu(t,e){Ht(2,arguments);var n=Vt(t),r=ar(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function bte(t,e){Ht(2,arguments);var n=Vt(t),r=ar(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+r+1,0);var o=s.getDate();return i>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function J_(t,e){var n,r,i,s,o,a,l,u;Ht(1,arguments);var d=Xh(),f=ar((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Vt(t),p=h.getDay(),g=(p<f?7:0)+p-f;return h.setDate(h.getDate()-g),h.setHours(0,0,0,0),h}function qv(t){Ht(1,arguments);var e=Vt(t);return e.setHours(0,0,0,0),e}var FJt=864e5;function pUe(t,e){Ht(2,arguments);var n=qv(t),r=qv(e),i=n.getTime()-Gv(n),s=r.getTime()-Gv(r);return Math.round((i-s)/FJt)}function BJt(t,e){Ht(2,arguments);var n=ar(e),r=n*7;return Lu(t,r)}function o_(t,e){Ht(2,arguments);var n=Vt(t),r=Vt(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}var O9=6e4,L9=36e5,NJt=1e3;function M1(t,e){Ht(2,arguments);var n=qv(t),r=qv(e);return n.getTime()===r.getTime()}function VJt(t,e){Ht(2,arguments);var n=Vt(t),r=Vt(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function UJt(t,e){Ht(2,arguments);var n=Vt(t),r=Vt(e);return n.getFullYear()-r.getFullYear()}function w0e(t,e){var n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function mUe(t,e){Ht(2,arguments);var n=Vt(t),r=Vt(e),i=w0e(n,r),s=Math.abs(pUe(n,r));n.setDate(n.getDate()-i*s);var o=+(w0e(n,r)===-i),a=i*(s-o);return a===0?0:a}function xte(t,e){return Ht(2,arguments),Vt(t).getTime()-Vt(e).getTime()}var _0e={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},HJt="trunc";function P9(t){return t?_0e[t]:_0e[HJt]}function zJt(t,e,n){Ht(2,arguments);var r=xte(t,e)/L9;return P9(n==null?void 0:n.roundingMethod)(r)}function WJt(t,e,n){Ht(2,arguments);var r=xte(t,e)/O9;return P9(n==null?void 0:n.roundingMethod)(r)}function jM(t){Ht(1,arguments);var e=Vt(t);return e.setHours(23,59,59,999),e}function GJt(t){Ht(1,arguments);var e=Vt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function qJt(t){Ht(1,arguments);var e=Vt(t);return jM(e).getTime()===GJt(e).getTime()}function gUe(t,e){Ht(2,arguments);var n=Vt(t),r=Vt(e),i=o_(n,r),s=Math.abs(VJt(n,r)),o;if(s<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*s);var a=o_(n,r)===-i;qJt(Vt(t))&&s===1&&o_(t,r)===1&&(a=!1),o=i*(s-Number(a))}return o===0?0:o}function vUe(t,e,n){Ht(2,arguments);var r=xte(t,e)/1e3;return P9(n==null?void 0:n.roundingMethod)(r)}function YJt(t,e,n){Ht(2,arguments);var r=mUe(t,e)/7;return P9(n==null?void 0:n.roundingMethod)(r)}function KJt(t,e){Ht(2,arguments);var n=Vt(t),r=Vt(e),i=o_(n,r),s=Math.abs(UJt(n,r));n.setFullYear(1584),r.setFullYear(1584);var o=o_(n,r)===-i,a=i*(s-Number(o));return a===0?0:a}function C0e(t){Ht(1,arguments);var e=Vt(t);return e.setSeconds(0,0),e}function yUe(t,e){Ht(1,arguments);var n=t||{},r=Vt(n.start),i=Vt(n.end),s=i.getTime();if(!(r.getTime()<=s))throw new RangeError("Invalid interval");var o=J_(r,e),a=J_(i,e);o.setHours(15),a.setHours(15),s=a.getTime();for(var l=[],u=o;u.getTime()<=s;)u.setHours(0),l.push(Vt(u)),u=BJt(u,1),u.setHours(15);return l}function bUe(t){Ht(1,arguments);var e=Vt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function E0e(t){Ht(1,arguments);var e=Vt(t);return e.setSeconds(59,999),e}function wte(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function ZJt(t){return wte({},t)}var S0e=1440,XJt=2520,oU=43200,QJt=86400;function JJt(t,e,n){var r,i;Ht(2,arguments);var s=Xh(),o=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:s.locale)!==null&&r!==void 0?r:j9;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var a=o_(t,e);if(isNaN(a))throw new RangeError("Invalid time value");var l=wte(ZJt(n),{addSuffix:!!(n!=null&&n.addSuffix),comparison:a}),u,d;a>0?(u=Vt(e),d=Vt(t)):(u=Vt(t),d=Vt(e));var f=vUe(d,u),h=(Gv(d)-Gv(u))/1e3,p=Math.round((f-h)/60),g;if(p<2)return n!=null&&n.includeSeconds?f<5?o.formatDistance("lessThanXSeconds",5,l):f<10?o.formatDistance("lessThanXSeconds",10,l):f<20?o.formatDistance("lessThanXSeconds",20,l):f<40?o.formatDistance("halfAMinute",0,l):f<60?o.formatDistance("lessThanXMinutes",1,l):o.formatDistance("xMinutes",1,l):p===0?o.formatDistance("lessThanXMinutes",1,l):o.formatDistance("xMinutes",p,l);if(p<45)return o.formatDistance("xMinutes",p,l);if(p<90)return o.formatDistance("aboutXHours",1,l);if(p<S0e){var v=Math.round(p/60);return o.formatDistance("aboutXHours",v,l)}else{if(p<XJt)return o.formatDistance("xDays",1,l);if(p<oU){var y=Math.round(p/S0e);return o.formatDistance("xDays",y,l)}else if(p<QJt)return g=Math.round(p/oU),o.formatDistance("aboutXMonths",g,l)}if(g=gUe(d,u),g<12){var x=Math.round(p/oU);return o.formatDistance("xMonths",x,l)}else{var b=g%12,_=Math.floor(g/12);return b<3?o.formatDistance("aboutXYears",_,l):b<9?o.formatDistance("overXYears",_,l):o.formatDistance("almostXYears",_+1,l)}}function een(t,e){return Ht(1,arguments),JJt(t,Date.now(),e)}function ten(t,e,n){var r,i,s,o,a,l,u,d,f,h;Ht(2,arguments);var p=Vt(t),g=Vt(e),v=Xh(),y=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:v.locale)!==null&&r!==void 0?r:j9,x=ar((s=(o=(a=(l=n==null?void 0:n.weekStartsOn)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&a!==void 0?a:v.weekStartsOn)!==null&&o!==void 0?o:(f=v.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&s!==void 0?s:0);if(!y.localize)throw new RangeError("locale must contain localize property");if(!y.formatLong)throw new RangeError("locale must contain formatLong property");if(!y.formatRelative)throw new RangeError("locale must contain formatRelative property");var b=pUe(p,g);if(isNaN(b))throw new RangeError("Invalid time value");var _;b<-6?_="other":b<-1?_="lastWeek":b<0?_="yesterday":b<1?_="today":b<2?_="tomorrow":b<7?_="nextWeek":_="other";var C=DM(p,Gv(p)),S=DM(g,Gv(g)),T=y.formatRelative(_,C,S,{locale:y,weekStartsOn:x});return Ja(p,T,{locale:y,weekStartsOn:x})}function nen(t){Ht(1,arguments);var e=Vt(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function ren(t){Ht(1,arguments);var e=Vt(t),n=e.getMinutes();return n}function ien(t,e){var n,r,i,s,o,a,l,u;Ht(1,arguments);var d=Vt(t),f=d.getFullYear(),h=Xh(),p=ar((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setFullYear(f+1,0,p),g.setHours(0,0,0,0);var v=J_(g,e),y=new Date(0);y.setFullYear(f,0,p),y.setHours(0,0,0,0);var x=J_(y,e);return d.getTime()>=v.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function sen(t,e){var n,r,i,s,o,a,l,u;Ht(1,arguments);var d=Xh(),f=ar((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=ien(t,e),p=new Date(0);p.setFullYear(h,0,f),p.setHours(0,0,0,0);var g=J_(p,e);return g}var oen=6048e5;function xUe(t,e){Ht(1,arguments);var n=Vt(t),r=J_(n,e).getTime()-sen(n,e).getTime();return Math.round(r/oen)+1}function wUe(t){Ht(1,arguments);var e=Vt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function Oq(t,e){Ht(2,arguments);var n=Vt(t),r=Vt(e);return n.getTime()>r.getTime()}function _Ue(t,e){Ht(2,arguments);var n=Vt(t),r=Vt(e);return n.getTime()<r.getTime()}function Lq(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _te(t,e){if(t){if(typeof t=="string")return Lq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lq(t,e)}}function T0e(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_te(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function Ut(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lM(t,e)}function OM(t){return OM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},OM(t)}function aen(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function len(t,e){if(e&&(Mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ut(t)}function Yr(t){var e=aen();return function(){var r=OM(t),i;if(e){var s=OM(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return len(this,i)}}function Mr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VBe(r.key),r)}}function $r(t,e,n){return e&&k0e(t.prototype,e),n&&k0e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var uen=10,CUe=function(){function t(){Mr(this,t),Tt(this,"priority",void 0),Tt(this,"subPriority",0)}return $r(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),cen=function(t){qr(n,t);var e=Yr(n);function n(r,i,s,o,a){var l;return Mr(this,n),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=s,l.priority=o,a&&(l.subPriority=a),l}return $r(n,[{key:"validate",value:function(i,s){return this.validateValue(i,this.value,s)}},{key:"set",value:function(i,s,o){return this.setValue(i,s,this.value,o)}}]),n}(CUe),den=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"priority",uen),Tt(Ut(r),"subPriority",-1),r}return $r(n,[{key:"set",value:function(i,s){if(s.timestampIsSet)return i;var o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}}]),n}(CUe),bi=function(){function t(){Mr(this,t),Tt(this,"incompatibleTokens",void 0),Tt(this,"priority",void 0),Tt(this,"subPriority",void 0)}return $r(t,[{key:"run",value:function(n,r,i,s){var o=this.parse(n,r,i,s);return o?{setter:new cen(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),fen=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"priority",140),Tt(Ut(r),"incompatibleTokens",["R","u","t","T"]),r}return $r(n,[{key:"parse",value:function(i,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})||o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"})}}},{key:"set",value:function(i,s,o){return s.era=o,i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(bi),Zo={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Hp={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Xo(t,e){return t&&{value:e(t.value),rest:t.rest}}function ho(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function zp(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*L9+s*O9+o*NJt),rest:e.slice(n[0].length)}}function EUe(t){return ho(Zo.anyDigitsSigned,t)}function Oo(t,e){switch(t){case 1:return ho(Zo.singleDigit,e);case 2:return ho(Zo.twoDigits,e);case 3:return ho(Zo.threeDigits,e);case 4:return ho(Zo.fourDigits,e);default:return ho(new RegExp("^\\d{1,"+t+"}"),e)}}function LM(t,e){switch(t){case 1:return ho(Zo.singleDigitSigned,e);case 2:return ho(Zo.twoDigitsSigned,e);case 3:return ho(Zo.threeDigitsSigned,e);case 4:return ho(Zo.fourDigitsSigned,e);default:return ho(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Cte(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function SUe(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var s=r+50,o=Math.floor(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function TUe(t){return t%400===0||t%4===0&&t%100!==0}var hen=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"priority",130),Tt(Ut(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return $r(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="yy"}};switch(s){case"y":return Xo(Oo(4,i),a);case"yo":return Xo(o.ordinalNumber(i,{unit:"year"}),a);default:return Xo(Oo(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o){var a=i.getUTCFullYear();if(o.isTwoDigitYear){var l=SUe(o.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var u=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(bi),pen=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"priority",130),Tt(Ut(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return $r(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return Xo(Oo(4,i),a);case"Yo":return Xo(o.ordinalNumber(i,{unit:"year"}),a);default:return Xo(Oo(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o,a){var l=yte(i,a);if(o.isTwoDigitYear){var u=SUe(o.year,l);return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Hx(i,a)}var d=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(d,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Hx(i,a)}}]),n}(bi),men=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"priority",130),Tt(Ut(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return $r(n,[{key:"parse",value:function(i,s){return LM(s==="R"?4:s.length,i)}},{key:"set",value:function(i,s,o){var a=new Date(0);return a.setUTCFullYear(o,0,4),a.setUTCHours(0,0,0,0),Q_(a)}}]),n}(bi),gen=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"priority",130),Tt(Ut(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return $r(n,[{key:"parse",value:function(i,s){return LM(s==="u"?4:s.length,i)}},{key:"set",value:function(i,s,o){return i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(bi),ven=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"priority",120),Tt(Ut(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return $r(n,[{key:"parse",value:function(i,s,o){switch(s){case"Q":case"QQ":return Oo(s.length,i);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})||o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(bi),yen=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"priority",120),Tt(Ut(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return $r(n,[{key:"parse",value:function(i,s,o){switch(s){case"q":case"qq":return Oo(s.length,i);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})||o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(bi),ben=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Tt(Ut(r),"priority",110),r}return $r(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"M":return Xo(ho(Zo.month,i),a);case"MM":return Xo(Oo(2,i),a);case"Mo":return Xo(o.ordinalNumber(i,{unit:"month"}),a);case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})||o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(bi),xen=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"priority",110),Tt(Ut(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return $r(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"L":return Xo(ho(Zo.month,i),a);case"LL":return Xo(Oo(2,i),a);case"Lo":return Xo(o.ordinalNumber(i,{unit:"month"}),a);case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})||o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(bi);function wen(t,e,n){Ht(2,arguments);var r=Vt(t),i=ar(e),s=uUe(r,n)-i;return r.setUTCDate(r.getUTCDate()-s*7),r}var _en=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"priority",100),Tt(Ut(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return $r(n,[{key:"parse",value:function(i,s,o){switch(s){case"w":return ho(Zo.week,i);case"wo":return o.ordinalNumber(i,{unit:"week"});default:return Oo(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o,a){return Hx(wen(i,o,a),a)}}]),n}(bi);function Cen(t,e){Ht(2,arguments);var n=Vt(t),r=ar(e),i=lUe(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var Een=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"priority",100),Tt(Ut(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return $r(n,[{key:"parse",value:function(i,s,o){switch(s){case"I":return ho(Zo.week,i);case"Io":return o.ordinalNumber(i,{unit:"week"});default:return Oo(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o){return Q_(Cen(i,o))}}]),n}(bi),Sen=[31,28,31,30,31,30,31,31,30,31,30,31],Ten=[31,29,31,30,31,30,31,31,30,31,30,31],ken=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"priority",90),Tt(Ut(r),"subPriority",1),Tt(Ut(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return $r(n,[{key:"parse",value:function(i,s,o){switch(s){case"d":return ho(Zo.date,i);case"do":return o.ordinalNumber(i,{unit:"date"});default:return Oo(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=TUe(o),l=i.getUTCMonth();return a?s>=1&&s<=Ten[l]:s>=1&&s<=Sen[l]}},{key:"set",value:function(i,s,o){return i.setUTCDate(o),i.setUTCHours(0,0,0,0),i}}]),n}(bi),Aen=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"priority",90),Tt(Ut(r),"subpriority",1),Tt(Ut(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return $r(n,[{key:"parse",value:function(i,s,o){switch(s){case"D":case"DD":return ho(Zo.dayOfYear,i);case"Do":return o.ordinalNumber(i,{unit:"date"});default:return Oo(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=TUe(o);return a?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(i,s,o){return i.setUTCMonth(0,o),i.setUTCHours(0,0,0,0),i}}]),n}(bi);function Ete(t,e,n){var r,i,s,o,a,l,u,d;Ht(2,arguments);var f=Xh(),h=ar((r=(i=(s=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:f.weekStartsOn)!==null&&i!==void 0?i:(u=f.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Vt(t),g=ar(e),v=p.getUTCDay(),y=g%7,x=(y+7)%7,b=(x<h?7:0)+g-v;return p.setUTCDate(p.getUTCDate()+b),p}var Ien=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"priority",90),Tt(Ut(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return $r(n,[{key:"parse",value:function(i,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=Ete(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(bi),Den=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"priority",90),Tt(Ut(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return $r(n,[{key:"parse",value:function(i,s,o,a){var l=function(d){var f=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+f};switch(s){case"e":case"ee":return Xo(Oo(s.length,i),l);case"eo":return Xo(o.ordinalNumber(i,{unit:"day"}),l);case"eee":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeeee":return o.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=Ete(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(bi),Ren=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"priority",90),Tt(Ut(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return $r(n,[{key:"parse",value:function(i,s,o,a){var l=function(d){var f=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+f};switch(s){case"c":case"cc":return Xo(Oo(s.length,i),l);case"co":return Xo(o.ordinalNumber(i,{unit:"day"}),l);case"ccc":return o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"ccccc":return o.day(i,{width:"narrow",context:"standalone"});case"cccccc":return o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(i,{width:"wide",context:"standalone"})||o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=Ete(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(bi);function jen(t,e){Ht(2,arguments);var n=ar(e);n%7===0&&(n=n-7);var r=1,i=Vt(t),s=i.getUTCDay(),o=n%7,a=(o+7)%7,l=(a<r?7:0)+n-s;return i.setUTCDate(i.getUTCDate()+l),i}var Oen=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"priority",90),Tt(Ut(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return $r(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u===0?7:u};switch(s){case"i":case"ii":return Oo(s.length,i);case"io":return o.ordinalNumber(i,{unit:"day"});case"iii":return Xo(o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return Xo(o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Xo(o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Xo(o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,s){return s>=1&&s<=7}},{key:"set",value:function(i,s,o){return i=jen(i,o),i.setUTCHours(0,0,0,0),i}}]),n}(bi),Len=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"priority",80),Tt(Ut(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return $r(n,[{key:"parse",value:function(i,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(Cte(o),0,0,0),i}}]),n}(bi),Pen=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"priority",80),Tt(Ut(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return $r(n,[{key:"parse",value:function(i,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(Cte(o),0,0,0),i}}]),n}(bi),Men=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"priority",80),Tt(Ut(r),"incompatibleTokens",["a","b","t","T"]),r}return $r(n,[{key:"parse",value:function(i,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(Cte(o),0,0,0),i}}]),n}(bi),$en=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"priority",70),Tt(Ut(r),"incompatibleTokens",["H","K","k","t","T"]),r}return $r(n,[{key:"parse",value:function(i,s,o){switch(s){case"h":return ho(Zo.hour12h,i);case"ho":return o.ordinalNumber(i,{unit:"hour"});default:return Oo(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=12}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):!a&&o===12?i.setUTCHours(0,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(bi),Fen=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"priority",70),Tt(Ut(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return $r(n,[{key:"parse",value:function(i,s,o){switch(s){case"H":return ho(Zo.hour23h,i);case"Ho":return o.ordinalNumber(i,{unit:"hour"});default:return Oo(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=23}},{key:"set",value:function(i,s,o){return i.setUTCHours(o,0,0,0),i}}]),n}(bi),Ben=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"priority",70),Tt(Ut(r),"incompatibleTokens",["h","H","k","t","T"]),r}return $r(n,[{key:"parse",value:function(i,s,o){switch(s){case"K":return ho(Zo.hour11h,i);case"Ko":return o.ordinalNumber(i,{unit:"hour"});default:return Oo(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(bi),Nen=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"priority",70),Tt(Ut(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return $r(n,[{key:"parse",value:function(i,s,o){switch(s){case"k":return ho(Zo.hour24h,i);case"ko":return o.ordinalNumber(i,{unit:"hour"});default:return Oo(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=24}},{key:"set",value:function(i,s,o){var a=o<=24?o%24:o;return i.setUTCHours(a,0,0,0),i}}]),n}(bi),Ven=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"priority",60),Tt(Ut(r),"incompatibleTokens",["t","T"]),r}return $r(n,[{key:"parse",value:function(i,s,o){switch(s){case"m":return ho(Zo.minute,i);case"mo":return o.ordinalNumber(i,{unit:"minute"});default:return Oo(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCMinutes(o,0,0),i}}]),n}(bi),Uen=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"priority",50),Tt(Ut(r),"incompatibleTokens",["t","T"]),r}return $r(n,[{key:"parse",value:function(i,s,o){switch(s){case"s":return ho(Zo.second,i);case"so":return o.ordinalNumber(i,{unit:"second"});default:return Oo(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCSeconds(o,0),i}}]),n}(bi),Hen=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"priority",30),Tt(Ut(r),"incompatibleTokens",["t","T"]),r}return $r(n,[{key:"parse",value:function(i,s){var o=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return Xo(Oo(s.length,i),o)}},{key:"set",value:function(i,s,o){return i.setUTCMilliseconds(o),i}}]),n}(bi),zen=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"priority",10),Tt(Ut(r),"incompatibleTokens",["t","T","x"]),r}return $r(n,[{key:"parse",value:function(i,s){switch(s){case"X":return zp(Hp.basicOptionalMinutes,i);case"XX":return zp(Hp.basic,i);case"XXXX":return zp(Hp.basicOptionalSeconds,i);case"XXXXX":return zp(Hp.extendedOptionalSeconds,i);case"XXX":default:return zp(Hp.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(bi),Wen=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"priority",10),Tt(Ut(r),"incompatibleTokens",["t","T","X"]),r}return $r(n,[{key:"parse",value:function(i,s){switch(s){case"x":return zp(Hp.basicOptionalMinutes,i);case"xx":return zp(Hp.basic,i);case"xxxx":return zp(Hp.basicOptionalSeconds,i);case"xxxxx":return zp(Hp.extendedOptionalSeconds,i);case"xxx":default:return zp(Hp.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(bi),Gen=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"priority",40),Tt(Ut(r),"incompatibleTokens","*"),r}return $r(n,[{key:"parse",value:function(i){return EUe(i)}},{key:"set",value:function(i,s,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(bi),qen=function(t){qr(n,t);var e=Yr(n);function n(){var r;Mr(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tt(Ut(r),"priority",20),Tt(Ut(r),"incompatibleTokens","*"),r}return $r(n,[{key:"parse",value:function(i){return EUe(i)}},{key:"set",value:function(i,s,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(bi),Yen={G:new fen,y:new hen,Y:new pen,R:new men,u:new gen,Q:new ven,q:new yen,M:new ben,L:new xen,w:new _en,I:new Een,d:new ken,D:new Aen,E:new Ien,e:new Den,c:new Ren,i:new Oen,a:new Len,b:new Pen,B:new Men,h:new $en,H:new Fen,K:new Ben,k:new Nen,m:new Ven,s:new Uen,S:new Hen,X:new zen,x:new Wen,t:new Gen,T:new qen},Ken=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Zen=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xen=/^'([^]*?)'?$/,Qen=/''/g,Jen=/\S/,etn=/[a-zA-Z]/;function ttn(t,e,n,r){var i,s,o,a,l,u,d,f,h,p,g,v,y,x,b,_,C,S;Ht(3,arguments);var T=String(t),A=String(e),k=Xh(),I=(i=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:k.locale)!==null&&i!==void 0?i:j9;if(!I.match)throw new RangeError("locale must contain match property");var D=ar((o=(a=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(d=r.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&l!==void 0?l:k.firstWeekContainsDate)!==null&&a!==void 0?a:(h=k.locale)===null||h===void 0||(p=h.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var R=ar((g=(v=(y=(x=r==null?void 0:r.weekStartsOn)!==null&&x!==void 0?x:r==null||(b=r.locale)===null||b===void 0||(_=b.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&y!==void 0?y:k.weekStartsOn)!==null&&v!==void 0?v:(C=k.locale)===null||C===void 0||(S=C.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&g!==void 0?g:0);if(!(R>=0&&R<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(A==="")return T===""?Vt(n):new Date(NaN);var O={firstWeekContainsDate:D,weekStartsOn:R,locale:I},L=[new den],P=A.match(Zen).map(function(ce){var me=ce[0];if(me in jq){var pe=jq[me];return pe(ce,I.formatLong)}return ce}).join("").match(Ken),$=[],B=T0e(P),Q;try{var V=function(){var me=Q.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&fUe(me)&&RM(me,A,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&dUe(me)&&RM(me,A,t);var pe=me[0],Ie=Yen[pe];if(Ie){var xe=Ie.incompatibleTokens;if(Array.isArray(xe)){var Pe=$.find(function(De){return xe.includes(De.token)||De.token===pe});if(Pe)throw new RangeError("The format string mustn't contain `".concat(Pe.fullToken,"` and `").concat(me,"` at the same time"))}else if(Ie.incompatibleTokens==="*"&&$.length>0)throw new RangeError("The format string mustn't contain `".concat(me,"` and any other token at the same time"));$.push({token:pe,fullToken:me});var we=Ie.run(T,me,I.match,O);if(!we)return{v:new Date(NaN)};L.push(we.setter),T=we.rest}else{if(pe.match(etn))throw new RangeError("Format string contains an unescaped latin alphabet character `"+pe+"`");if(me==="''"?me="'":pe==="'"&&(me=ntn(me)),T.indexOf(me)===0)T=T.slice(me.length);else return{v:new Date(NaN)}}};for(B.s();!(Q=B.n()).done;){var Z=V();if(Mf(Z)==="object")return Z.v}}catch(ce){B.e(ce)}finally{B.f()}if(T.length>0&&Jen.test(T))return new Date(NaN);var ie=L.map(function(ce){return ce.priority}).sort(function(ce,me){return me-ce}).filter(function(ce,me,pe){return pe.indexOf(ce)===me}).map(function(ce){return L.filter(function(me){return me.priority===ce}).sort(function(me,pe){return pe.subPriority-me.subPriority})}).map(function(ce){return ce[0]}),J=Vt(n);if(isNaN(J.getTime()))return new Date(NaN);var X=DM(J,Gv(J)),fe={},ue=T0e(ie),te;try{for(ue.s();!(te=ue.n()).done;){var F=te.value;if(!F.validate(X,O))return new Date(NaN);var ne=F.set(X,fe,O);Array.isArray(ne)?(X=ne[0],wte(fe,ne[1])):X=ne}}catch(ce){ue.e(ce)}finally{ue.f()}return X}function ntn(t){return t.match(Xen)[1].replace(Qen,"'")}function kUe(t,e){Ht(2,arguments);var n=Vt(t),r=Vt(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function rtn(t,e){Ht(2,arguments);var n=ar(e);return Lu(t,-n)}function itn(t,e){var n;Ht(1,arguments);var r=ar((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=ltn(t),s;if(i.date){var o=utn(i.date,r);s=ctn(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,u;if(i.time&&(l=dtn(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=ftn(i.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(a+l),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(a+l+u)}var r4={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},stn=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,otn=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,atn=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ltn(t){var e={},n=t.split(r4.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],r4.timeZoneDelimiter.test(e.date)&&(e.date=t.split(r4.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=r4.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function utn(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function ctn(t,e){if(e===null)return new Date(NaN);var n=t.match(stn);if(!n)return new Date(NaN);var r=!!n[4],i=ES(n[1]),s=ES(n[2])-1,o=ES(n[3]),a=ES(n[4]),l=ES(n[5])-1;if(r)return vtn(e,a,l)?htn(e,a,l):new Date(NaN);var u=new Date(0);return!mtn(e,s,o)||!gtn(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}function ES(t){return t?parseInt(t):1}function dtn(t){var e=t.match(otn);if(!e)return NaN;var n=aU(e[1]),r=aU(e[2]),i=aU(e[3]);return ytn(n,r,i)?n*L9+r*O9+i*1e3:NaN}function aU(t){return t&&parseFloat(t.replace(",","."))||0}function ftn(t){if(t==="Z")return 0;var e=t.match(atn);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return btn(r,i)?n*(r*L9+i*O9):NaN}function htn(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var ptn=[31,null,31,30,31,30,31,31,30,31,30,31];function AUe(t){return t%400===0||t%4===0&&t%100!==0}function mtn(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(ptn[e]||(AUe(t)?29:28))}function gtn(t,e){return e>=1&&e<=(AUe(t)?366:365)}function vtn(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function ytn(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function btn(t,e){return e>=0&&e<=59}function IUe(t,e){Ht(2,arguments);var n=Vt(t),r=ar(e),i=n.getFullYear(),s=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var a=nen(o);return n.setMonth(r,Math.min(s,a)),n}function xtn(t,e){if(Ht(2,arguments),Mf(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var n=Vt(t);return isNaN(n.getTime())?new Date(NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=IUe(n,e.month)),e.date!=null&&n.setDate(ar(e.date)),e.hours!=null&&n.setHours(ar(e.hours)),e.minutes!=null&&n.setMinutes(ar(e.minutes)),e.seconds!=null&&n.setSeconds(ar(e.seconds)),e.milliseconds!=null&&n.setMilliseconds(ar(e.milliseconds)),n)}function wtn(t,e){Ht(2,arguments);var n=Vt(t),r=ar(e);return n.setDate(r),n}function lU(t,e){Ht(2,arguments);var n=Vt(t),r=ar(e);return n.setHours(r),n}function kO(t,e){Ht(2,arguments);var n=Vt(t),r=ar(e);return n.setMinutes(r),n}function _tn(t,e){Ht(2,arguments);var n=Vt(t),r=ar(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function A0e(){return qv(Date.now())}function Ctn(t,e){Ht(2,arguments);var n=ar(e);return bte(t,-n)}function I0e(t,e){if(Ht(2,arguments),!e||Mf(e)!=="object")return new Date(NaN);var n=e.years?ar(e.years):0,r=e.months?ar(e.months):0,i=e.weeks?ar(e.weeks):0,s=e.days?ar(e.days):0,o=e.hours?ar(e.hours):0,a=e.minutes?ar(e.minutes):0,l=e.seconds?ar(e.seconds):0,u=Ctn(t,r+n*12),d=rtn(u,s+i*7),f=a+o*60,h=l+f*60,p=h*1e3,g=new Date(d.getTime()-p);return g}const Ste=[],Tte=[],DUe=new Set,EI=new Map,SI=new Map,RUe=t=>typeof t=="string"?new RegExp("^".concat(t,"$"),"i"):t,PM=(t,e)=>typeof e!="string"?t:t===e?e:t===t.toLowerCase()?e.toLowerCase():t===t.toUpperCase()?e.toUpperCase():t[0]===t[0].toUpperCase()?e.charAt(0).toUpperCase()+e.substr(1).toLowerCase():e.toLowerCase(),jUe=(t,e,n)=>{if(!t.length||DUe.has(t))return e;let{length:r}=n;for(;r--;){const i=n[r];if(i[0].test(e))return e.replace(i[0],function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];const[l,u]=o,d=i[1].replace(/\$(\d{1,2})/g,(f,h)=>o[h]||"");return PM(l===""?e[u-1]:l,d)})}return e},OUe=(t,e,n,r)=>{const i=t.toLowerCase();return n.has(i)?PM(t,i):e.has(i)?PM(t,e.get(i)):jUe(i,t,r)},LUe=(t,e,n,r)=>{const i=t.toLowerCase();return n.has(i)?!0:e.has(i)?!1:jUe(i,i,r)===i},Do=(t,e,n)=>{const r=e===1?Do.singular(t):Do.plural(t);return n?"".concat(e," ").concat(r):r};Do.plural=t=>OUe(t,SI,EI,Ste);Do.singular=t=>OUe(t,EI,SI,Tte);Do.addPluralRule=(t,e)=>{Ste.push([RUe(t),e])};Do.addSingularRule=(t,e)=>{Tte.push([RUe(t),e])};Do.addIrregularRule=(t,e)=>{const n=e.toLowerCase(),r=t.toLowerCase();SI.set(r,n),EI.set(n,r)};Do.addUncountableRule=t=>{if(typeof t=="string"){DUe.add(t.toLowerCase());return}Do.addPluralRule(t,"$0"),Do.addSingularRule(t,"$0")};Do.isPlural=t=>LUe(t,SI,EI,Ste);Do.isSingular=t=>LUe(t,EI,SI,Tte);const Etn=[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["my","our"],["its","their"],["his","their"],["her","their"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"],["canvas","canvases"]],Stn=[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]],Ttn=[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/(dg|ss|ois|lk|ok|wn|mb|th|ch|ec|oal|is|ck|ix|sser|ts|wb)ies$/i,"$1ie"],[/\b(l|(?:neck|cross|hog|aun)?t|coll|faer|food|gen|goon|group|hipp|junk|vegg|(?:pork)?p|charl|calor|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]],ktn=["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[e]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i];for(const[t,e]of Etn)Do.addIrregularRule(t,e);for(const[t,e]of Stn)Do.addPluralRule(t,e);for(const[t,e]of Ttn)Do.addSingularRule(t,e);for(const t of ktn)Do.addUncountableRule(t);var PUe={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(co,function(){function n(){return n=Object.assign||function(R){for(var O=1;O<arguments.length;O++){var L=arguments[O];for(var P in L)Object.prototype.hasOwnProperty.call(L,P)&&(R[P]=L[P])}return R},n.apply(this,arguments)}function r(R,O){if(R){if(typeof R=="string")return i(R,O);var L=Object.prototype.toString.call(R).slice(8,-1);if(L==="Object"&&R.constructor&&(L=R.constructor.name),L==="Map"||L==="Set")return Array.from(R);if(L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L))return i(R,O)}}function i(R,O){(O==null||O>R.length)&&(O=R.length);for(var L=0,P=new Array(O);L<O;L++)P[L]=R[L];return P}function s(R,O){var L=typeof Symbol<"u"&&R[Symbol.iterator]||R["@@iterator"];if(L)return(L=L.call(R)).next.bind(L);if(Array.isArray(R)||(L=r(R))||O&&R&&typeof R.length=="number"){L&&(R=L);var P=0;return function(){return P>=R.length?{done:!0}:{done:!1,value:R[P++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function a(R){var O=R.split("-"),L=O[1],P=O[2],$=O[3];if(!L||!P||!$)throw new Error("Malformed asset _ref '"+R+`'. Expected an id like "`+o+'".');var B=P.split("x"),Q=B[0],V=B[1],Z=+Q,ie=+V,J=isFinite(Z)&&isFinite(ie);if(!J)throw new Error("Malformed asset _ref '"+R+`'. Expected an id like "`+o+'".');return{id:L,width:Z,height:ie,format:$}}var l=function(O){var L=O;return L?typeof L._ref=="string":!1},u=function(O){var L=O;return L?typeof L._id=="string":!1},d=function(O){var L=O;return L&&L.asset?typeof L.asset.url=="string":!1};function f(R){if(!R)return null;var O;if(typeof R=="string"&&h(R))O={asset:{_ref:p(R)}};else if(typeof R=="string")O={asset:{_ref:R}};else if(l(R))O={asset:R};else if(u(R))O={asset:{_ref:R._id||""}};else if(d(R))O={asset:{_ref:p(R.asset.url)}};else if(typeof R.asset=="object")O=n({},R);else return null;var L=R;return L.crop&&(O.crop=L.crop),L.hotspot&&(O.hotspot=L.hotspot),g(O)}function h(R){return/^https?:\/\//.test(""+R)}function p(R){var O=R.split("/").slice(-1);return("image-"+O[0]).replace(/\.([a-z]+)$/,"-$1")}function g(R){if(R.crop&&R.hotspot)return R;var O=n({},R);return O.crop||(O.crop={left:0,top:0,bottom:0,right:0}),O.hotspot||(O.hotspot={x:.5,y:.5,height:1,width:1}),O}var v=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]];function y(R){var O=n({},R||{}),L=O.source;delete O.source;var P=f(L);if(!P)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(L)+")");var $=P.asset._ref||P.asset._id||"",B=a($),Q=Math.round(P.crop.left*B.width),V=Math.round(P.crop.top*B.height),Z={left:Q,top:V,width:Math.round(B.width-P.crop.right*B.width-Q),height:Math.round(B.height-P.crop.bottom*B.height-V)},ie=P.hotspot.height*B.height/2,J=P.hotspot.width*B.width/2,X=P.hotspot.x*B.width,fe=P.hotspot.y*B.height,ue={left:X-J,top:fe-ie,right:X+J,bottom:fe+ie};return O.rect||O.focalPoint||O.ignoreImageParams||O.crop||(O=n({},O,b({crop:Z,hotspot:ue},O))),x(n({},O,{asset:B}))}function x(R){var O=(R.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),L=R.asset.id+"-"+R.asset.width+"x"+R.asset.height+"."+R.asset.format,P=O+"/images/"+R.projectId+"/"+R.dataset+"/"+L,$=[];if(R.rect){var B=R.rect,Q=B.left,V=B.top,Z=B.width,ie=B.height,J=Q!==0||V!==0||ie!==R.asset.height||Z!==R.asset.width;J&&$.push("rect="+Q+","+V+","+Z+","+ie)}R.bg&&$.push("bg="+R.bg),R.focalPoint&&($.push("fp-x="+R.focalPoint.x),$.push("fp-y="+R.focalPoint.y));var X=[R.flipHorizontal&&"h",R.flipVertical&&"v"].filter(Boolean).join("");return X&&$.push("flip="+X),v.forEach(function(fe){var ue=fe[0],te=fe[1];typeof R[ue]<"u"?$.push(te+"="+encodeURIComponent(R[ue])):typeof R[te]<"u"&&$.push(te+"="+encodeURIComponent(R[te]))}),$.length===0?P:P+"?"+$.join("&")}function b(R,O){var L,P=O.width,$=O.height;if(!(P&&$))return{width:P,height:$,rect:R.crop};var B=R.crop,Q=R.hotspot,V=P/$,Z=B.width/B.height;if(Z>V){var ie=Math.round(B.height),J=Math.round(ie*V),X=Math.max(0,Math.round(B.top)),fe=Math.round((Q.right-Q.left)/2+Q.left),ue=Math.max(0,Math.round(fe-J/2));ue<B.left?ue=B.left:ue+J>B.left+B.width&&(ue=B.left+B.width-J),L={left:ue,top:X,width:J,height:ie}}else{var te=B.width,F=Math.round(te/V),ne=Math.max(0,Math.round(B.left)),ce=Math.round((Q.bottom-Q.top)/2+Q.top),me=Math.max(0,Math.round(ce-F/2));me<B.top?me=B.top:me+F>B.top+B.height&&(me=B.top+B.height-F),L={left:ne,top:me,width:te,height:F}}return{width:P,height:$,rect:L}}var _=["clip","crop","fill","fillmax","max","scale","min"],C=["top","bottom","left","right","center","focalpoint","entropy"],S=["format"];function T(R){return R&&"config"in R?typeof R.config=="function":!1}function A(R){return R&&"clientConfig"in R?typeof R.clientConfig=="object":!1}function k(R){for(var O=v,L=s(O),P;!(P=L()).done;){var $=P.value,B=$[0],Q=$[1];if(R===B||R===Q)return B}return R}function I(R){if(T(R)){var O=R.config(),L=O.apiHost,P=O.projectId,$=O.dataset,B=L||"https://api.sanity.io";return new D(null,{baseUrl:B.replace(/^https:\/\/api\./,"https://cdn."),projectId:P,dataset:$})}var Q=R;if(A(Q)){var V=Q.clientConfig,Z=V.apiHost,ie=V.projectId,J=V.dataset,X=Z||"https://api.sanity.io";return new D(null,{baseUrl:X.replace(/^https:\/\/api\./,"https://cdn."),projectId:ie,dataset:J})}return new D(null,R)}var D=function(){function R(L,P){this.options=void 0,this.options=L?n({},L.options||{},P||{}):n({},P||{})}var O=R.prototype;return O.withOptions=function(P){var $=P.baseUrl||this.options.baseUrl,B={baseUrl:$};for(var Q in P)if(P.hasOwnProperty(Q)){var V=k(Q);B[V]=P[Q]}return new R(this,n({baseUrl:$},B))},O.image=function(P){return this.withOptions({source:P})},O.dataset=function(P){return this.withOptions({dataset:P})},O.projectId=function(P){return this.withOptions({projectId:P})},O.bg=function(P){return this.withOptions({bg:P})},O.dpr=function(P){return this.withOptions(P&&P!==1?{dpr:P}:{})},O.width=function(P){return this.withOptions({width:P})},O.height=function(P){return this.withOptions({height:P})},O.focalPoint=function(P,$){return this.withOptions({focalPoint:{x:P,y:$}})},O.maxWidth=function(P){return this.withOptions({maxWidth:P})},O.minWidth=function(P){return this.withOptions({minWidth:P})},O.maxHeight=function(P){return this.withOptions({maxHeight:P})},O.minHeight=function(P){return this.withOptions({minHeight:P})},O.size=function(P,$){return this.withOptions({width:P,height:$})},O.blur=function(P){return this.withOptions({blur:P})},O.sharpen=function(P){return this.withOptions({sharpen:P})},O.rect=function(P,$,B,Q){return this.withOptions({rect:{left:P,top:$,width:B,height:Q}})},O.format=function(P){return this.withOptions({format:P})},O.invert=function(P){return this.withOptions({invert:P})},O.orientation=function(P){return this.withOptions({orientation:P})},O.quality=function(P){return this.withOptions({quality:P})},O.forceDownload=function(P){return this.withOptions({download:P})},O.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},O.flipVertical=function(){return this.withOptions({flipVertical:!0})},O.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},O.fit=function(P){if(_.indexOf(P)===-1)throw new Error('Invalid fit mode "'+P+'"');return this.withOptions({fit:P})},O.crop=function(P){if(C.indexOf(P)===-1)throw new Error('Invalid crop mode "'+P+'"');return this.withOptions({crop:P})},O.saturation=function(P){return this.withOptions({saturation:P})},O.auto=function(P){if(S.indexOf(P)===-1)throw new Error('Invalid auto mode "'+P+'"');return this.withOptions({auto:P})},O.pad=function(P){return this.withOptions({pad:P})},O.url=function(){return y(this.options)},O.toString=function(){return this.url()},R}();return I})})(PUe);var Atn=PUe.exports;const M9=vt(Atn);function Itn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,LA(t,e)}function Pq(t){return Pq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pq(t)}function LA(t,e){return LA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LA(t,e)}function Dtn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function AO(t,e,n){return Dtn()?AO=Reflect.construct.bind():AO=function(i,s,o){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(i,a),u=new l;return o&&LA(u,o.prototype),u},AO.apply(null,arguments)}function Rtn(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Mq(t){var e=typeof Map=="function"?new Map:void 0;return Mq=function(r){if(r===null||!Rtn(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return AO(r,arguments,Pq(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),LA(i,r)},Mq(t)}var i4=Object.freeze({left:0,top:0,bottom:0,right:0}),s4=Object.freeze({x:.5,y:.5,height:1,width:1}),jtn=function(e){var n=e.top,r=e.bottom,i=e.left,s=e.right,o=i4.top,a=i4.bottom,l=i4.left,u=i4.right;return n===o&&r===a&&i===l&&s===u},Otn=function(e){var n=e.x,r=e.y,i=e.width,s=e.height,o=s4.x,a=s4.y,l=s4.width,u=s4.height;return n===o&&r===a&&i===l&&s===u},kte=function(t){Itn(e,t);function e(n,r){var i;return r===void 0&&(r="Failed to resolve asset ID from source"),i=t.call(this,r)||this,i.unresolvable=!0,i.input=n,i}return e}(Mq(Error));function Ltn(t){var e=t;return!!(e.unresolvable&&"input"in e)}function Ptn(t){return function(){try{return t.apply(void 0,arguments)}catch(e){if(Ltn(e))return;throw e}}}var $1="https://cdn.sanity.io",Mtn=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+\.[a-z0-9]+$/,$tn=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})-\d+x\d+\.[a-z0-9]+$/,MUe=/^(images|files)\/([a-z0-9]+)\/([a-z0-9][-\w]*)\//,$Ue=/^(?:image-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-\d+x\d+-[a-z0-9]+|file-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-[a-z0-9]+)$/;function Ftn(t){return TI(t)&&typeof t._ref=="string"}function Btn(t){return TI(t)&&typeof t._id=="string"}function Ntn(t){return TI(t)&&typeof t.path=="string"}function Vtn(t){return TI(t)&&typeof t.url=="string"}function Utn(t){var e=t;return TI(e)&&e.asset&&typeof e.asset=="object"}function TI(t){return t!==null&&!Array.isArray(t)&&typeof t=="object"}function Htn(t){if(MUe.test(t))return t;if(!t.startsWith($1+"/"))throw new kte('Failed to resolve path from URL "'+t+'"');var e=t.indexOf("?"),n=e===-1?void 0:e;return t.slice($1.length+1,n)}var ztn="image-027401f31c3ac1e6d78c5d539ccd1beff72b9b11-2000x3000-jpg";function Wtn(t){var e=t.split("-"),n=e[1],r=e[2],i=e[3],s=(r||"").split("x").map(Number),o=s[0],a=s[1];if(!n||!r||!i||!(o>0)||!(a>0))throw new Error("Malformed asset ID '"+t+`'. Expected an id like "`+ztn+'".');return{type:"image",assetId:n,width:o,height:a,extension:i}}function Gtn(t){var e=FUe(t),n=Wtn(e),r=n.width,i=n.height,s=r/i;return{width:r,height:i,aspectRatio:s}}function FUe(t){var e=Utn(t)?t.asset:t,n="";typeof e=="string"?n=qtn(e):Ftn(e)?n=e._ref:Btn(e)?n=e._id:Ntn(e)?n=I5($1+"/"+e.path):Vtn(e)&&(n=I5(e.url));var r=n&&$Ue.test(n);if(!r)throw new kte(t);return n}var BUe=Ptn(FUe);function qtn(t){if($Ue.test(t))return t;if(t.indexOf($1+"/images")===0||t.indexOf($1+"/files")===0)return I5(t);if(MUe.test(t))return I5($1+"/"+t);if(Ktn(t))return I5($1+"/files/a/b/"+t);if(Ytn(t))return I5($1+"/images/a/b/"+t);throw new kte(t)}function I5(t){var e=Htn(t),n=e.split("/"),r=n[0],i=n[3],s=r.replace(/s$/,"");return s+"-"+i.replace(/\./g,"-")}function Ytn(t){return $tn.test(t)}function Ktn(t){return Mtn.test(t)}function D0e(t){var e=BUe(t);return e?e.startsWith("file-"):!1}function Tk(t){var e=BUe(t);return e?e.startsWith("image-"):!1}function Ztn(t){for(var e=-1,n=t==null?0:t.length,r=0,i=[];++e<n;){var s=t[e];s&&(i[r++]=s)}return i}var Xtn=Ztn;const $9=vt(Xtn);var Qtn=_9,Jtn=hte,enn=Jtn(function(t,e,n){Qtn(t,n,e)}),tnn=enn;const Ate=vt(tnn);var nnn=km;function rnn(t){return nnn(t).toLowerCase()}var inn=rnn;const a_=vt(inn);var snn=YC,onn=ZC,ann=A9,lnn=w9,unn=onn(function(t){return ann(snn(t,1,lnn,!0))}),cnn=unn;const NUe=vt(cnn);function dnn(){}var Ite=dnn,fnn=ote,hnn=Ite;function MM(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}MM.prototype=fnn(hnn.prototype);MM.prototype.constructor=MM;var Dte=MM,R0e=KFe,pnn=R0e&&new R0e,mnn=pnn,j0e=mnn,gnn=lte,vnn=j0e?function(t){return j0e.get(t)}:gnn,VUe=vnn,ynn={},bnn=ynn,O0e=bnn,xnn=Object.prototype,wnn=xnn.hasOwnProperty;function _nn(t){for(var e=t.name+"",n=O0e[e],r=wnn.call(O0e,e)?n.length:0;r--;){var i=n[r],s=i.func;if(s==null||s==t)return i.name}return e}var UUe=_nn,Cnn=ote,Enn=Ite,Snn=4294967295;function $M(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Snn,this.__views__=[]}$M.prototype=Cnn(Enn.prototype);$M.prototype.constructor=$M;var Rte=$M,Tnn=Rte,knn=Dte,Ann=rte;function Inn(t){if(t instanceof Tnn)return t.clone();var e=new knn(t.__wrapped__,t.__chain__);return e.__actions__=Ann(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Dnn=Inn,Rnn=Rte,L0e=Dte,jnn=Ite,Onn=Jo,Lnn=Nf,Pnn=Dnn,Mnn=Object.prototype,$nn=Mnn.hasOwnProperty;function FM(t){if(Lnn(t)&&!Onn(t)&&!(t instanceof Rnn)){if(t instanceof L0e)return t;if($nn.call(t,"__wrapped__"))return Pnn(t)}return new L0e(t)}FM.prototype=jnn.prototype;FM.prototype.constructor=FM;var Fnn=FM,Bnn=Rte,Nnn=VUe,Vnn=UUe,Unn=Fnn;function Hnn(t){var e=Vnn(t),n=Unn[e];if(typeof n!="function"||!(e in Bnn.prototype))return!1;if(t===n)return!0;var r=Nnn(n);return!!r&&t===r[0]}var znn=Hnn,P0e=Dte,Wnn=$ee,Gnn=VUe,uU=UUe,qnn=Jo,M0e=znn,Ynn="Expected a function",Knn=8,Znn=32,Xnn=128,Qnn=256;function Jnn(t){return Wnn(function(e){var n=e.length,r=n,i=P0e.prototype.thru;for(t&&e.reverse();r--;){var s=e[r];if(typeof s!="function")throw new TypeError(Ynn);if(i&&!o&&uU(s)=="wrapper")var o=new P0e([],!0)}for(r=o?r:n;++r<n;){s=e[r];var a=uU(s),l=a=="wrapper"?Gnn(s):void 0;l&&M0e(l[0])&&l[1]==(Xnn|Knn|Znn|Qnn)&&!l[4].length&&l[9]==1?o=o[uU(l[0])].apply(o,l[3]):o=s.length==1&&M0e(s)?o[a]():o.thru(s)}return function(){var u=arguments,d=u[0];if(o&&u.length==1&&qnn(d))return o.plant(d).value();for(var f=0,h=n?e[f].apply(this,u):d;++f<n;)h=e[f].call(this,h);return h}})}var ern=Jnn,trn=ern,nrn=trn(),rrn=nrn;const irn=vt(rrn);var srn=jee;function orn(t,e){for(var n=t.length;n--&&srn(e,t[n],0)>-1;);return n}var arn=orn,lrn=jee;function urn(t,e){for(var n=-1,r=t.length;++n<r&&lrn(e,t[n],0)>-1;);return n}var crn=urn,drn=uBe,frn=VPe,hrn=yVe,prn=arn,mrn=crn,$0e=TVe,grn=km;function vrn(t,e,n){if(t=grn(t),t&&(n||e===void 0))return frn(t);if(!t||!(e=drn(e)))return t;var r=$0e(t),i=$0e(e),s=mrn(r,i),o=prn(r,i)+1;return hrn(r,s,o).join("")}var yrn=vrn;const brn=vt(yrn);var o4,xrn=new Uint8Array(16);function wrn(){if(!o4&&(o4=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!o4))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o4(xrn)}const _rn=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Crn(t){return typeof t=="string"&&_rn.test(t)}var pl=[];for(var cU=0;cU<256;++cU)pl.push((cU+256).toString(16).substr(1));function Ern(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(pl[t[e+0]]+pl[t[e+1]]+pl[t[e+2]]+pl[t[e+3]]+"-"+pl[t[e+4]]+pl[t[e+5]]+"-"+pl[t[e+6]]+pl[t[e+7]]+"-"+pl[t[e+8]]+pl[t[e+9]]+"-"+pl[t[e+10]]+pl[t[e+11]]+pl[t[e+12]]+pl[t[e+13]]+pl[t[e+14]]+pl[t[e+15]]).toLowerCase();if(!Crn(n))throw TypeError("Stringified UUID is invalid");return n}function R0(t,e,n){t=t||{};var r=t.random||(t.rng||wrn)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return Ern(r)}var Srn=vBe,F0e=Jo;function Trn(t,e,n,r){return t==null?[]:(F0e(e)||(e=e==null?[]:[e]),n=r?void 0:n,F0e(n)||(n=n==null?[]:[n]),Srn(t,e,n))}var krn=Trn;const kI=vt(krn);var HUe={exports:{}};(function(t){var e=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},n=-1,r=1,i=0;e.Diff=function(s,o){return[s,o]},e.prototype.diff_main=function(s,o,a,l){typeof l>"u"&&(this.Diff_Timeout<=0?l=Number.MAX_VALUE:l=new Date().getTime()+this.Diff_Timeout*1e3);var u=l;if(s==null||o==null)throw new Error("Null input. (diff_main)");if(s==o)return s?[new e.Diff(i,s)]:[];typeof a>"u"&&(a=!0);var d=a,f=this.diff_commonPrefix(s,o),h=s.substring(0,f);s=s.substring(f),o=o.substring(f),f=this.diff_commonSuffix(s,o);var p=s.substring(s.length-f);s=s.substring(0,s.length-f),o=o.substring(0,o.length-f);var g=this.diff_compute_(s,o,d,u);return h&&g.unshift(new e.Diff(i,h)),p&&g.push(new e.Diff(i,p)),this.diff_cleanupMerge(g),g},e.prototype.diff_compute_=function(s,o,a,l){var u;if(!s)return[new e.Diff(r,o)];if(!o)return[new e.Diff(n,s)];var d=s.length>o.length?s:o,f=s.length>o.length?o:s,h=d.indexOf(f);if(h!=-1)return u=[new e.Diff(r,d.substring(0,h)),new e.Diff(i,f),new e.Diff(r,d.substring(h+f.length))],s.length>o.length&&(u[0][0]=u[2][0]=n),u;if(f.length==1)return[new e.Diff(n,s),new e.Diff(r,o)];var p=this.diff_halfMatch_(s,o);if(p){var g=p[0],v=p[1],y=p[2],x=p[3],b=p[4],_=this.diff_main(g,y,a,l),C=this.diff_main(v,x,a,l);return _.concat([new e.Diff(i,b)],C)}return a&&s.length>100&&o.length>100?this.diff_lineMode_(s,o,l):this.diff_bisect_(s,o,l)},e.prototype.diff_lineMode_=function(s,o,a){var l=this.diff_linesToChars_(s,o);s=l.chars1,o=l.chars2;var u=l.lineArray,d=this.diff_main(s,o,!1,a);this.diff_charsToLines_(d,u),this.diff_cleanupSemantic(d),d.push(new e.Diff(i,""));for(var f=0,h=0,p=0,g="",v="";f<d.length;){switch(d[f][0]){case r:p++,v+=d[f][1];break;case n:h++,g+=d[f][1];break;case i:if(h>=1&&p>=1){d.splice(f-h-p,h+p),f=f-h-p;for(var y=this.diff_main(g,v,!1,a),x=y.length-1;x>=0;x--)d.splice(f,0,y[x]);f=f+y.length}p=0,h=0,g="",v="";break}f++}return d.pop(),d},e.prototype.diff_bisect_=function(s,o,a){for(var l=s.length,u=o.length,d=Math.ceil((l+u)/2),f=d,h=2*d,p=new Array(h),g=new Array(h),v=0;v<h;v++)p[v]=-1,g[v]=-1;p[f+1]=0,g[f+1]=0;for(var y=l-u,x=y%2!=0,b=0,_=0,C=0,S=0,T=0;T<d&&!(new Date().getTime()>a);T++){for(var A=-T+b;A<=T-_;A+=2){var k=f+A,I;A==-T||A!=T&&p[k-1]<p[k+1]?I=p[k+1]:I=p[k-1]+1;for(var D=I-A;I<l&&D<u&&s.charAt(I)==o.charAt(D);)I++,D++;if(p[k]=I,I>l)_+=2;else if(D>u)b+=2;else if(x){var R=f+y-A;if(R>=0&&R<h&&g[R]!=-1){var O=l-g[R];if(I>=O)return this.diff_bisectSplit_(s,o,I,D,a)}}}for(var L=-T+C;L<=T-S;L+=2){var R=f+L,O;L==-T||L!=T&&g[R-1]<g[R+1]?O=g[R+1]:O=g[R-1]+1;for(var P=O-L;O<l&&P<u&&s.charAt(l-O-1)==o.charAt(u-P-1);)O++,P++;if(g[R]=O,O>l)S+=2;else if(P>u)C+=2;else if(!x){var k=f+y-L;if(k>=0&&k<h&&p[k]!=-1){var I=p[k],D=f+I-k;if(O=l-O,I>=O)return this.diff_bisectSplit_(s,o,I,D,a)}}}}return[new e.Diff(n,s),new e.Diff(r,o)]},e.prototype.diff_bisectSplit_=function(s,o,a,l,u){var d=s.substring(0,a),f=o.substring(0,l),h=s.substring(a),p=o.substring(l),g=this.diff_main(d,f,!1,u),v=this.diff_main(h,p,!1,u);return g.concat(v)},e.prototype.diff_linesToChars_=function(s,o){var a=[],l={};a[0]="";function u(p){for(var g="",v=0,y=-1,x=a.length;y<p.length-1;){y=p.indexOf(`
`,v),y==-1&&(y=p.length-1);var b=p.substring(v,y+1);(l.hasOwnProperty?l.hasOwnProperty(b):l[b]!==void 0)?g+=String.fromCharCode(l[b]):(x==d&&(b=p.substring(v),y=p.length),g+=String.fromCharCode(x),l[b]=x,a[x++]=b),v=y+1}return g}var d=4e4,f=u(s);d=65535;var h=u(o);return{chars1:f,chars2:h,lineArray:a}},e.prototype.diff_charsToLines_=function(s,o){for(var a=0;a<s.length;a++){for(var l=s[a][1],u=[],d=0;d<l.length;d++)u[d]=o[l.charCodeAt(d)];s[a][1]=u.join("")}},e.prototype.diff_commonPrefix=function(s,o){if(!s||!o||s.charAt(0)!=o.charAt(0))return 0;for(var a=0,l=Math.min(s.length,o.length),u=l,d=0;a<u;)s.substring(d,u)==o.substring(d,u)?(a=u,d=a):l=u,u=Math.floor((l-a)/2+a);return u},e.prototype.diff_commonSuffix=function(s,o){if(!s||!o||s.charAt(s.length-1)!=o.charAt(o.length-1))return 0;for(var a=0,l=Math.min(s.length,o.length),u=l,d=0;a<u;)s.substring(s.length-u,s.length-d)==o.substring(o.length-u,o.length-d)?(a=u,d=a):l=u,u=Math.floor((l-a)/2+a);return u},e.prototype.diff_commonOverlap_=function(s,o){var a=s.length,l=o.length;if(a==0||l==0)return 0;a>l?s=s.substring(a-l):a<l&&(o=o.substring(0,a));var u=Math.min(a,l);if(s==o)return u;for(var d=0,f=1;;){var h=s.substring(u-f),p=o.indexOf(h);if(p==-1)return d;f+=p,(p==0||s.substring(u-f)==o.substring(0,f))&&(d=f,f++)}},e.prototype.diff_halfMatch_=function(s,o){if(this.Diff_Timeout<=0)return null;var a=s.length>o.length?s:o,l=s.length>o.length?o:s;if(a.length<4||l.length*2<a.length)return null;var u=this;function d(_,C,S){for(var T=_.substring(S,S+Math.floor(_.length/4)),A=-1,k="",I,D,R,O;(A=C.indexOf(T,A+1))!=-1;){var L=u.diff_commonPrefix(_.substring(S),C.substring(A)),P=u.diff_commonSuffix(_.substring(0,S),C.substring(0,A));k.length<P+L&&(k=C.substring(A-P,A)+C.substring(A,A+L),I=_.substring(0,S-P),D=_.substring(S+L),R=C.substring(0,A-P),O=C.substring(A+L))}return k.length*2>=_.length?[I,D,R,O,k]:null}var f=d(a,l,Math.ceil(a.length/4)),h=d(a,l,Math.ceil(a.length/2)),p;if(!f&&!h)return null;h?f?p=f[4].length>h[4].length?f:h:p=h:p=f;var g,v,y,x;s.length>o.length?(g=p[0],v=p[1],y=p[2],x=p[3]):(y=p[0],x=p[1],g=p[2],v=p[3]);var b=p[4];return[g,v,y,x,b]},e.prototype.diff_cleanupSemantic=function(s){for(var o=!1,a=[],l=0,u=null,d=0,f=0,h=0,p=0,g=0;d<s.length;)s[d][0]==i?(a[l++]=d,f=p,h=g,p=0,g=0,u=s[d][1]):(s[d][0]==r?p+=s[d][1].length:g+=s[d][1].length,u&&u.length<=Math.max(f,h)&&u.length<=Math.max(p,g)&&(s.splice(a[l-1],0,new e.Diff(n,u)),s[a[l-1]+1][0]=r,l--,l--,d=l>0?a[l-1]:-1,f=0,h=0,p=0,g=0,u=null,o=!0)),d++;for(o&&this.diff_cleanupMerge(s),this.diff_cleanupSemanticLossless(s),d=1;d<s.length;){if(s[d-1][0]==n&&s[d][0]==r){var v=s[d-1][1],y=s[d][1],x=this.diff_commonOverlap_(v,y),b=this.diff_commonOverlap_(y,v);x>=b?(x>=v.length/2||x>=y.length/2)&&(s.splice(d,0,new e.Diff(i,y.substring(0,x))),s[d-1][1]=v.substring(0,v.length-x),s[d+1][1]=y.substring(x),d++):(b>=v.length/2||b>=y.length/2)&&(s.splice(d,0,new e.Diff(i,v.substring(0,b))),s[d-1][0]=r,s[d-1][1]=y.substring(0,y.length-b),s[d+1][0]=n,s[d+1][1]=v.substring(b),d++),d++}d++}},e.prototype.diff_cleanupSemanticLossless=function(s){function o(b,_){if(!b||!_)return 6;var C=b.charAt(b.length-1),S=_.charAt(0),T=C.match(e.nonAlphaNumericRegex_),A=S.match(e.nonAlphaNumericRegex_),k=T&&C.match(e.whitespaceRegex_),I=A&&S.match(e.whitespaceRegex_),D=k&&C.match(e.linebreakRegex_),R=I&&S.match(e.linebreakRegex_),O=D&&b.match(e.blanklineEndRegex_),L=R&&_.match(e.blanklineStartRegex_);return O||L?5:D||R?4:T&&!k&&I?3:k||I?2:T||A?1:0}for(var a=1;a<s.length-1;){if(s[a-1][0]==i&&s[a+1][0]==i){var l=s[a-1][1],u=s[a][1],d=s[a+1][1],f=this.diff_commonSuffix(l,u);if(f){var h=u.substring(u.length-f);l=l.substring(0,l.length-f),u=h+u.substring(0,u.length-f),d=h+d}for(var p=l,g=u,v=d,y=o(l,u)+o(u,d);u.charAt(0)===d.charAt(0);){l+=u.charAt(0),u=u.substring(1)+d.charAt(0),d=d.substring(1);var x=o(l,u)+o(u,d);x>=y&&(y=x,p=l,g=u,v=d)}s[a-1][1]!=p&&(p?s[a-1][1]=p:(s.splice(a-1,1),a--),s[a][1]=g,v?s[a+1][1]=v:(s.splice(a+1,1),a--))}a++}},e.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,e.whitespaceRegex_=/\s/,e.linebreakRegex_=/[\r\n]/,e.blanklineEndRegex_=/\n\r?\n$/,e.blanklineStartRegex_=/^\r?\n\r?\n/,e.prototype.diff_cleanupEfficiency=function(s){for(var o=!1,a=[],l=0,u=null,d=0,f=!1,h=!1,p=!1,g=!1;d<s.length;)s[d][0]==i?(s[d][1].length<this.Diff_EditCost&&(p||g)?(a[l++]=d,f=p,h=g,u=s[d][1]):(l=0,u=null),p=g=!1):(s[d][0]==n?g=!0:p=!0,u&&(f&&h&&p&&g||u.length<this.Diff_EditCost/2&&f+h+p+g==3)&&(s.splice(a[l-1],0,new e.Diff(n,u)),s[a[l-1]+1][0]=r,l--,u=null,f&&h?(p=g=!0,l=0):(l--,d=l>0?a[l-1]:-1,p=g=!1),o=!0)),d++;o&&this.diff_cleanupMerge(s)},e.prototype.diff_cleanupMerge=function(s){s.push(new e.Diff(i,""));for(var o=0,a=0,l=0,u="",d="",f;o<s.length;)switch(s[o][0]){case r:l++,d+=s[o][1],o++;break;case n:a++,u+=s[o][1],o++;break;case i:a+l>1?(a!==0&&l!==0&&(f=this.diff_commonPrefix(d,u),f!==0&&(o-a-l>0&&s[o-a-l-1][0]==i?s[o-a-l-1][1]+=d.substring(0,f):(s.splice(0,0,new e.Diff(i,d.substring(0,f))),o++),d=d.substring(f),u=u.substring(f)),f=this.diff_commonSuffix(d,u),f!==0&&(s[o][1]=d.substring(d.length-f)+s[o][1],d=d.substring(0,d.length-f),u=u.substring(0,u.length-f))),o-=a+l,s.splice(o,a+l),u.length&&(s.splice(o,0,new e.Diff(n,u)),o++),d.length&&(s.splice(o,0,new e.Diff(r,d)),o++),o++):o!==0&&s[o-1][0]==i?(s[o-1][1]+=s[o][1],s.splice(o,1)):o++,l=0,a=0,u="",d="";break}s[s.length-1][1]===""&&s.pop();var h=!1;for(o=1;o<s.length-1;)s[o-1][0]==i&&s[o+1][0]==i&&(s[o][1].substring(s[o][1].length-s[o-1][1].length)==s[o-1][1]?(s[o][1]=s[o-1][1]+s[o][1].substring(0,s[o][1].length-s[o-1][1].length),s[o+1][1]=s[o-1][1]+s[o+1][1],s.splice(o-1,1),h=!0):s[o][1].substring(0,s[o+1][1].length)==s[o+1][1]&&(s[o-1][1]+=s[o+1][1],s[o][1]=s[o][1].substring(s[o+1][1].length)+s[o+1][1],s.splice(o+1,1),h=!0)),o++;h&&this.diff_cleanupMerge(s)},e.prototype.diff_xIndex=function(s,o){var a=0,l=0,u=0,d=0,f;for(f=0;f<s.length&&(s[f][0]!==r&&(a+=s[f][1].length),s[f][0]!==n&&(l+=s[f][1].length),!(a>o));f++)u=a,d=l;return s.length!=f&&s[f][0]===n?d:d+(o-u)},e.prototype.diff_prettyHtml=function(s){for(var o=[],a=/&/g,l=/</g,u=/>/g,d=/\n/g,f=0;f<s.length;f++){var h=s[f][0],p=s[f][1],g=p.replace(a,"&amp;").replace(l,"&lt;").replace(u,"&gt;").replace(d,"&para;<br>");switch(h){case r:o[f]='<ins style="background:#e6ffe6;">'+g+"</ins>";break;case n:o[f]='<del style="background:#ffe6e6;">'+g+"</del>";break;case i:o[f]="<span>"+g+"</span>";break}}return o.join("")},e.prototype.diff_text1=function(s){for(var o=[],a=0;a<s.length;a++)s[a][0]!==r&&(o[a]=s[a][1]);return o.join("")},e.prototype.diff_text2=function(s){for(var o=[],a=0;a<s.length;a++)s[a][0]!==n&&(o[a]=s[a][1]);return o.join("")},e.prototype.diff_levenshtein=function(s){for(var o=0,a=0,l=0,u=0;u<s.length;u++){var d=s[u][0],f=s[u][1];switch(d){case r:a+=f.length;break;case n:l+=f.length;break;case i:o+=Math.max(a,l),a=0,l=0;break}}return o+=Math.max(a,l),o},e.prototype.diff_toDelta=function(s){for(var o=[],a=0;a<s.length;a++)switch(s[a][0]){case r:o[a]="+"+encodeURI(s[a][1]);break;case n:o[a]="-"+s[a][1].length;break;case i:o[a]="="+s[a][1].length;break}return o.join("	").replace(/%20/g," ")},e.prototype.diff_fromDelta=function(s,o){for(var a=[],l=0,u=0,d=o.split(/\t/g),f=0;f<d.length;f++){var h=d[f].substring(1);switch(d[f].charAt(0)){case"+":try{a[l++]=new e.Diff(r,decodeURI(h))}catch{throw new Error("Illegal escape in diff_fromDelta: "+h)}break;case"-":case"=":var p=parseInt(h,10);if(isNaN(p)||p<0)throw new Error("Invalid number in diff_fromDelta: "+h);var g=s.substring(u,u+=p);d[f].charAt(0)=="="?a[l++]=new e.Diff(i,g):a[l++]=new e.Diff(n,g);break;default:if(d[f])throw new Error("Invalid diff operation in diff_fromDelta: "+d[f])}}if(u!=s.length)throw new Error("Delta length ("+u+") does not equal source text length ("+s.length+").");return a},e.prototype.match_main=function(s,o,a){if(s==null||o==null||a==null)throw new Error("Null input. (match_main)");return a=Math.max(0,Math.min(a,s.length)),s==o?0:s.length?s.substring(a,a+o.length)==o?a:this.match_bitap_(s,o,a):-1},e.prototype.match_bitap_=function(s,o,a){if(o.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var l=this.match_alphabet_(o),u=this;function d(I,D){var R=I/o.length,O=Math.abs(a-D);return u.Match_Distance?R+O/u.Match_Distance:O?1:R}var f=this.Match_Threshold,h=s.indexOf(o,a);h!=-1&&(f=Math.min(d(0,h),f),h=s.lastIndexOf(o,a+o.length),h!=-1&&(f=Math.min(d(0,h),f)));var p=1<<o.length-1;h=-1;for(var g,v,y=o.length+s.length,x,b=0;b<o.length;b++){for(g=0,v=y;g<v;)d(b,a+v)<=f?g=v:y=v,v=Math.floor((y-g)/2+g);y=v;var _=Math.max(1,a-v+1),C=Math.min(a+v,s.length)+o.length,S=Array(C+2);S[C+1]=(1<<b)-1;for(var T=C;T>=_;T--){var A=l[s.charAt(T-1)];if(b===0?S[T]=(S[T+1]<<1|1)&A:S[T]=(S[T+1]<<1|1)&A|((x[T+1]|x[T])<<1|1)|x[T+1],S[T]&p){var k=d(b,T-1);if(k<=f)if(f=k,h=T-1,h>a)_=Math.max(1,2*a-h);else break}}if(d(b+1,a)>f)break;x=S}return h},e.prototype.match_alphabet_=function(s){for(var o={},a=0;a<s.length;a++)o[s.charAt(a)]=0;for(var a=0;a<s.length;a++)o[s.charAt(a)]|=1<<s.length-a-1;return o},e.prototype.patch_addContext_=function(s,o){if(o.length!=0){if(s.start2===null)throw Error("patch not initialized");for(var a=o.substring(s.start2,s.start2+s.length1),l=0;o.indexOf(a)!=o.lastIndexOf(a)&&a.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)l+=this.Patch_Margin,a=o.substring(s.start2-l,s.start2+s.length1+l);l+=this.Patch_Margin;var u=o.substring(s.start2-l,s.start2);u&&s.diffs.unshift(new e.Diff(i,u));var d=o.substring(s.start2+s.length1,s.start2+s.length1+l);d&&s.diffs.push(new e.Diff(i,d)),s.start1-=u.length,s.start2-=u.length,s.length1+=u.length+d.length,s.length2+=u.length+d.length}},e.prototype.patch_make=function(s,o,a){var l,u;if(typeof s=="string"&&typeof o=="string"&&typeof a>"u")l=s,u=this.diff_main(l,o,!0),u.length>2&&(this.diff_cleanupSemantic(u),this.diff_cleanupEfficiency(u));else if(s&&typeof s=="object"&&typeof o>"u"&&typeof a>"u")u=s,l=this.diff_text1(u);else if(typeof s=="string"&&o&&typeof o=="object"&&typeof a>"u")l=s,u=o;else if(typeof s=="string"&&typeof o=="string"&&a&&typeof a=="object")l=s,u=a;else throw new Error("Unknown call format to patch_make.");if(u.length===0)return[];for(var d=[],f=new e.patch_obj,h=0,p=0,g=0,v=l,y=l,x=0;x<u.length;x++){var b=u[x][0],_=u[x][1];switch(!h&&b!==i&&(f.start1=p,f.start2=g),b){case r:f.diffs[h++]=u[x],f.length2+=_.length,y=y.substring(0,g)+_+y.substring(g);break;case n:f.length1+=_.length,f.diffs[h++]=u[x],y=y.substring(0,g)+y.substring(g+_.length);break;case i:_.length<=2*this.Patch_Margin&&h&&u.length!=x+1?(f.diffs[h++]=u[x],f.length1+=_.length,f.length2+=_.length):_.length>=2*this.Patch_Margin&&h&&(this.patch_addContext_(f,v),d.push(f),f=new e.patch_obj,h=0,v=y,p=g);break}b!==r&&(p+=_.length),b!==n&&(g+=_.length)}return h&&(this.patch_addContext_(f,v),d.push(f)),d},e.prototype.patch_deepCopy=function(s){for(var o=[],a=0;a<s.length;a++){var l=s[a],u=new e.patch_obj;u.diffs=[];for(var d=0;d<l.diffs.length;d++)u.diffs[d]=new e.Diff(l.diffs[d][0],l.diffs[d][1]);u.start1=l.start1,u.start2=l.start2,u.length1=l.length1,u.length2=l.length2,o[a]=u}return o},e.prototype.patch_apply=function(s,o){if(s.length==0)return[o,[]];s=this.patch_deepCopy(s);var a=this.patch_addPadding(s);o=a+o+a,this.patch_splitMax(s);for(var l=0,u=[],d=0;d<s.length;d++){var f=s[d].start2+l,h=this.diff_text1(s[d].diffs),p,g=-1;if(h.length>this.Match_MaxBits?(p=this.match_main(o,h.substring(0,this.Match_MaxBits),f),p!=-1&&(g=this.match_main(o,h.substring(h.length-this.Match_MaxBits),f+h.length-this.Match_MaxBits),(g==-1||p>=g)&&(p=-1))):p=this.match_main(o,h,f),p==-1)u[d]=!1,l-=s[d].length2-s[d].length1;else{u[d]=!0,l=p-f;var v;if(g==-1?v=o.substring(p,p+h.length):v=o.substring(p,g+this.Match_MaxBits),h==v)o=o.substring(0,p)+this.diff_text2(s[d].diffs)+o.substring(p+h.length);else{var y=this.diff_main(h,v,!1);if(h.length>this.Match_MaxBits&&this.diff_levenshtein(y)/h.length>this.Patch_DeleteThreshold)u[d]=!1;else{this.diff_cleanupSemanticLossless(y);for(var x=0,b,_=0;_<s[d].diffs.length;_++){var C=s[d].diffs[_];C[0]!==i&&(b=this.diff_xIndex(y,x)),C[0]===r?o=o.substring(0,p+b)+C[1]+o.substring(p+b):C[0]===n&&(o=o.substring(0,p+b)+o.substring(p+this.diff_xIndex(y,x+C[1].length))),C[0]!==n&&(x+=C[1].length)}}}}}return o=o.substring(a.length,o.length-a.length),[o,u]},e.prototype.patch_addPadding=function(s){for(var o=this.Patch_Margin,a="",l=1;l<=o;l++)a+=String.fromCharCode(l);for(var l=0;l<s.length;l++)s[l].start1+=o,s[l].start2+=o;var u=s[0],d=u.diffs;if(d.length==0||d[0][0]!=i)d.unshift(new e.Diff(i,a)),u.start1-=o,u.start2-=o,u.length1+=o,u.length2+=o;else if(o>d[0][1].length){var f=o-d[0][1].length;d[0][1]=a.substring(d[0][1].length)+d[0][1],u.start1-=f,u.start2-=f,u.length1+=f,u.length2+=f}if(u=s[s.length-1],d=u.diffs,d.length==0||d[d.length-1][0]!=i)d.push(new e.Diff(i,a)),u.length1+=o,u.length2+=o;else if(o>d[d.length-1][1].length){var f=o-d[d.length-1][1].length;d[d.length-1][1]+=a.substring(0,f),u.length1+=f,u.length2+=f}return a},e.prototype.patch_splitMax=function(s){for(var o=this.Match_MaxBits,a=0;a<s.length;a++)if(!(s[a].length1<=o)){var l=s[a];s.splice(a--,1);for(var u=l.start1,d=l.start2,f="";l.diffs.length!==0;){var h=new e.patch_obj,p=!0;for(h.start1=u-f.length,h.start2=d-f.length,f!==""&&(h.length1=h.length2=f.length,h.diffs.push(new e.Diff(i,f)));l.diffs.length!==0&&h.length1<o-this.Patch_Margin;){var g=l.diffs[0][0],v=l.diffs[0][1];g===r?(h.length2+=v.length,d+=v.length,h.diffs.push(l.diffs.shift()),p=!1):g===n&&h.diffs.length==1&&h.diffs[0][0]==i&&v.length>2*o?(h.length1+=v.length,u+=v.length,p=!1,h.diffs.push(new e.Diff(g,v)),l.diffs.shift()):(v=v.substring(0,o-h.length1-this.Patch_Margin),h.length1+=v.length,u+=v.length,g===i?(h.length2+=v.length,d+=v.length):p=!1,h.diffs.push(new e.Diff(g,v)),v==l.diffs[0][1]?l.diffs.shift():l.diffs[0][1]=l.diffs[0][1].substring(v.length))}f=this.diff_text2(h.diffs),f=f.substring(f.length-this.Patch_Margin);var y=this.diff_text1(l.diffs).substring(0,this.Patch_Margin);y!==""&&(h.length1+=y.length,h.length2+=y.length,h.diffs.length!==0&&h.diffs[h.diffs.length-1][0]===i?h.diffs[h.diffs.length-1][1]+=y:h.diffs.push(new e.Diff(i,y))),p||s.splice(++a,0,h)}}},e.prototype.patch_toText=function(s){for(var o=[],a=0;a<s.length;a++)o[a]=s[a];return o.join("")},e.prototype.patch_fromText=function(s){var o=[];if(!s)return o;for(var a=s.split(`
`),l=0,u=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;l<a.length;){var d=a[l].match(u);if(!d)throw new Error("Invalid patch string: "+a[l]);var f=new e.patch_obj;for(o.push(f),f.start1=parseInt(d[1],10),d[2]===""?(f.start1--,f.length1=1):d[2]=="0"?f.length1=0:(f.start1--,f.length1=parseInt(d[2],10)),f.start2=parseInt(d[3],10),d[4]===""?(f.start2--,f.length2=1):d[4]=="0"?f.length2=0:(f.start2--,f.length2=parseInt(d[4],10)),l++;l<a.length;){var h=a[l].charAt(0);try{var p=decodeURI(a[l].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+p)}if(h=="-")f.diffs.push(new e.Diff(n,p));else if(h=="+")f.diffs.push(new e.Diff(r,p));else if(h==" ")f.diffs.push(new e.Diff(i,p));else{if(h=="@")break;if(h!=="")throw new Error('Invalid patch mode "'+h+'" in: '+p)}l++}}return o},e.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},e.patch_obj.prototype.toString=function(){var s,o;this.length1===0?s=this.start1+",0":this.length1==1?s=this.start1+1:s=this.start1+1+","+this.length1,this.length2===0?o=this.start2+",0":this.length2==1?o=this.start2+1:o=this.start2+1+","+this.length2;for(var a=["@@ -"+s+" +"+o+` @@
`],l,u=0;u<this.diffs.length;u++){switch(this.diffs[u][0]){case r:l="+";break;case n:l="-";break;case i:l=" ";break}a[u+1]=l+encodeURI(this.diffs[u][1])+`
`}return a.join("").replace(/%20/g," ")},t.exports=e,t.exports.diff_match_patch=e,t.exports.DIFF_DELETE=n,t.exports.DIFF_INSERT=r,t.exports.DIFF_EQUAL=i})(HUe);var If=HUe.exports;//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var zUe;function Pt(){return zUe.apply(null,arguments)}function Arn(t){zUe=t}function Vh(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Ex(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function ui(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function jte(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(ui(t,e))return!1;return!0}function bc(t){return t===void 0}function s0(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function AI(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function WUe(t,e){var n=[],r,i=t.length;for(r=0;r<i;++r)n.push(e(t[r],r));return n}function Z1(t,e){for(var n in e)ui(e,n)&&(t[n]=e[n]);return ui(e,"toString")&&(t.toString=e.toString),ui(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Im(t,e,n,r){return mHe(t,e,n,r,!0).utc()}function Irn(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function or(t){return t._pf==null&&(t._pf=Irn()),t._pf}var $q;Array.prototype.some?$q=Array.prototype.some:$q=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function Ote(t){if(t._isValid==null){var e=or(t),n=$q.call(e.parsedDateParts,function(i){return i!=null}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r}return t._isValid}function F9(t){var e=Im(NaN);return t!=null?Z1(or(e),t):or(e).userInvalidated=!0,e}var B0e=Pt.momentProperties=[],dU=!1;function Lte(t,e){var n,r,i,s=B0e.length;if(bc(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),bc(e._i)||(t._i=e._i),bc(e._f)||(t._f=e._f),bc(e._l)||(t._l=e._l),bc(e._strict)||(t._strict=e._strict),bc(e._tzm)||(t._tzm=e._tzm),bc(e._isUTC)||(t._isUTC=e._isUTC),bc(e._offset)||(t._offset=e._offset),bc(e._pf)||(t._pf=or(e)),bc(e._locale)||(t._locale=e._locale),s>0)for(n=0;n<s;n++)r=B0e[n],i=e[r],bc(i)||(t[r]=i);return t}function II(t){Lte(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),dU===!1&&(dU=!0,Pt.updateOffset(this),dU=!1)}function Uh(t){return t instanceof II||t!=null&&t._isAMomentObject!=null}function GUe(t){Pt.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Gf(t,e){var n=!0;return Z1(function(){if(Pt.deprecationHandler!=null&&Pt.deprecationHandler(null,t),n){var r=[],i,s,o,a=arguments.length;for(s=0;s<a;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(o in arguments[0])ui(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[s];r.push(i)}GUe(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var N0e={};function qUe(t,e){Pt.deprecationHandler!=null&&Pt.deprecationHandler(t,e),N0e[t]||(GUe(e),N0e[t]=!0)}Pt.suppressDeprecationWarnings=!1;Pt.deprecationHandler=null;function Dm(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function Drn(t){var e,n;for(n in t)ui(t,n)&&(e=t[n],Dm(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Fq(t,e){var n=Z1({},t),r;for(r in e)ui(e,r)&&(Ex(t[r])&&Ex(e[r])?(n[r]={},Z1(n[r],t[r]),Z1(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)ui(t,r)&&!ui(e,r)&&Ex(t[r])&&(n[r]=Z1({},n[r]));return n}function Pte(t){t!=null&&this.set(t)}var Bq;Object.keys?Bq=Object.keys:Bq=function(t){var e,n=[];for(e in t)ui(t,e)&&n.push(e);return n};var Rrn={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function jrn(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return Dm(r)?r.call(e,n):r}function vm(t,e,n){var r=""+Math.abs(t),i=e-r.length,s=t>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var Mte=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,a4=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,fU={},l_={};function dn(t,e,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),t&&(l_[t]=i),e&&(l_[e[0]]=function(){return vm(i.apply(this,arguments),e[1],e[2])}),n&&(l_[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function Orn(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function Lrn(t){var e=t.match(Mte),n,r;for(n=0,r=e.length;n<r;n++)l_[e[n]]?e[n]=l_[e[n]]:e[n]=Orn(e[n]);return function(i){var s="",o;for(o=0;o<r;o++)s+=Dm(e[o])?e[o].call(i,t):e[o];return s}}function IO(t,e){return t.isValid()?(e=YUe(e,t.localeData()),fU[e]=fU[e]||Lrn(e),fU[e](t)):t.localeData().invalidDate()}function YUe(t,e){var n=5;function r(i){return e.longDateFormat(i)||i}for(a4.lastIndex=0;n>=0&&a4.test(t);)t=t.replace(a4,r),a4.lastIndex=0,n-=1;return t}var Prn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Mrn(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(Mte).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var $rn="Invalid date";function Frn(){return this._invalidDate}var Brn="%d",Nrn=/\d{1,2}/;function Vrn(t){return this._ordinal.replace("%d",t)}var Urn={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Hrn(t,e,n,r){var i=this._relativeTime[n];return Dm(i)?i(t,e,n,r):i.replace(/%d/i,t)}function zrn(t,e){var n=this._relativeTime[t>0?"future":"past"];return Dm(n)?n(e):n.replace(/%s/i,e)}var kk={};function bu(t,e){var n=t.toLowerCase();kk[n]=kk[n+"s"]=kk[e]=t}function qf(t){return typeof t=="string"?kk[t]||kk[t.toLowerCase()]:void 0}function $te(t){var e={},n,r;for(r in t)ui(t,r)&&(n=qf(r),n&&(e[n]=t[r]));return e}var KUe={};function xu(t,e){KUe[t]=e}function Wrn(t){var e=[],n;for(n in t)ui(t,n)&&e.push({unit:n,priority:KUe[n]});return e.sort(function(r,i){return r.priority-i.priority}),e}function B9(t){return t%4===0&&t%100!==0||t%400===0}function pf(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Cr(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=pf(e)),n}function tE(t,e){return function(n){return n!=null?(ZUe(this,t,n),Pt.updateOffset(this,e),this):BM(this,t)}}function BM(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function ZUe(t,e,n){t.isValid()&&!isNaN(n)&&(e==="FullYear"&&B9(t.year())&&t.month()===1&&t.date()===29?(n=Cr(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),W9(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function Grn(t){return t=qf(t),Dm(this[t])?this[t]():this}function qrn(t,e){if(typeof t=="object"){t=$te(t);var n=Wrn(t),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](t[n[r].unit])}else if(t=qf(t),Dm(this[t]))return this[t](e);return this}var XUe=/\d/,Ld=/\d\d/,QUe=/\d{3}/,Fte=/\d{4}/,N9=/[+-]?\d{6}/,$s=/\d\d?/,JUe=/\d\d\d\d?/,eHe=/\d\d\d\d\d\d?/,V9=/\d{1,3}/,Bte=/\d{1,4}/,U9=/[+-]?\d{1,6}/,nE=/\d+/,H9=/[+-]?\d+/,Yrn=/Z|[+-]\d\d:?\d\d/gi,z9=/Z|[+-]\d\d(?::?\d\d)?/gi,Krn=/[+-]?\d+(\.\d{1,3})?/,DI=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,NM;NM={};function zt(t,e,n){NM[t]=Dm(e)?e:function(r,i){return r&&n?n:e}}function Zrn(t,e){return ui(NM,t)?NM[t](e._strict,e._locale):new RegExp(Xrn(t))}function Xrn(t){return pd(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,i,s){return n||r||i||s}))}function pd(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Nq={};function Qi(t,e){var n,r=e,i;for(typeof t=="string"&&(t=[t]),s0(e)&&(r=function(s,o){o[e]=Cr(s)}),i=t.length,n=0;n<i;n++)Nq[t[n]]=r}function RI(t,e){Qi(t,function(n,r,i,s){i._w=i._w||{},e(n,i._w,i,s)})}function Qrn(t,e,n){e!=null&&ui(Nq,t)&&Nq[t](e,n._a,n,t)}var hu=0,Mg=1,Wp=2,La=3,Eh=4,$g=5,Qb=6,Jrn=7,ein=8;function tin(t,e){return(t%e+e)%e}var Wo;Array.prototype.indexOf?Wo=Array.prototype.indexOf:Wo=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function W9(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=tin(e,12);return t+=(e-n)/12,n===1?B9(t)?29:28:31-n%7%2}dn("M",["MM",2],"Mo",function(){return this.month()+1});dn("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});dn("MMMM",0,0,function(t){return this.localeData().months(this,t)});bu("month","M");xu("month",8);zt("M",$s);zt("MM",$s,Ld);zt("MMM",function(t,e){return e.monthsShortRegex(t)});zt("MMMM",function(t,e){return e.monthsRegex(t)});Qi(["M","MM"],function(t,e){e[Mg]=Cr(t)-1});Qi(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);i!=null?e[Mg]=i:or(n).invalidMonth=t});var nin="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tHe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nHe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rin=DI,iin=DI;function sin(t,e){return t?Vh(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||nHe).test(e)?"format":"standalone"][t.month()]:Vh(this._months)?this._months:this._months.standalone}function oin(t,e){return t?Vh(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[nHe.test(e)?"format":"standalone"][t.month()]:Vh(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ain(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=Im([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?e==="MMM"?(i=Wo.call(this._shortMonthsParse,o),i!==-1?i:null):(i=Wo.call(this._longMonthsParse,o),i!==-1?i:null):e==="MMM"?(i=Wo.call(this._shortMonthsParse,o),i!==-1?i:(i=Wo.call(this._longMonthsParse,o),i!==-1?i:null)):(i=Wo.call(this._longMonthsParse,o),i!==-1?i:(i=Wo.call(this._shortMonthsParse,o),i!==-1?i:null))}function lin(t,e,n){var r,i,s;if(this._monthsParseExact)return ain.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=Im([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function rHe(t,e){var n;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Cr(e);else if(e=t.localeData().monthsParse(e),!s0(e))return t}return n=Math.min(t.date(),W9(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function iHe(t){return t!=null?(rHe(this,t),Pt.updateOffset(this,!0),this):BM(this,"Month")}function uin(){return W9(this.year(),this.month())}function cin(t){return this._monthsParseExact?(ui(this,"_monthsRegex")||sHe.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(ui(this,"_monthsShortRegex")||(this._monthsShortRegex=rin),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function din(t){return this._monthsParseExact?(ui(this,"_monthsRegex")||sHe.call(this),t?this._monthsStrictRegex:this._monthsRegex):(ui(this,"_monthsRegex")||(this._monthsRegex=iin),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function sHe(){function t(o,a){return a.length-o.length}var e=[],n=[],r=[],i,s;for(i=0;i<12;i++)s=Im([2e3,i]),e.push(this.monthsShort(s,"")),n.push(this.months(s,"")),r.push(this.months(s,"")),r.push(this.monthsShort(s,""));for(e.sort(t),n.sort(t),r.sort(t),i=0;i<12;i++)e[i]=pd(e[i]),n[i]=pd(n[i]);for(i=0;i<24;i++)r[i]=pd(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}dn("Y",0,0,function(){var t=this.year();return t<=9999?vm(t,4):"+"+t});dn(0,["YY",2],0,function(){return this.year()%100});dn(0,["YYYY",4],0,"year");dn(0,["YYYYY",5],0,"year");dn(0,["YYYYYY",6,!0],0,"year");bu("year","y");xu("year",1);zt("Y",H9);zt("YY",$s,Ld);zt("YYYY",Bte,Fte);zt("YYYYY",U9,N9);zt("YYYYYY",U9,N9);Qi(["YYYYY","YYYYYY"],hu);Qi("YYYY",function(t,e){e[hu]=t.length===2?Pt.parseTwoDigitYear(t):Cr(t)});Qi("YY",function(t,e){e[hu]=Pt.parseTwoDigitYear(t)});Qi("Y",function(t,e){e[hu]=parseInt(t,10)});function Ak(t){return B9(t)?366:365}Pt.parseTwoDigitYear=function(t){return Cr(t)+(Cr(t)>68?1900:2e3)};var oHe=tE("FullYear",!0);function fin(){return B9(this.year())}function hin(t,e,n,r,i,s,o){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,r,i,s,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,r,i,s,o),a}function PA(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function VM(t,e,n){var r=7+e-n,i=(7+PA(t,0,r).getUTCDay()-e)%7;return-i+r-1}function aHe(t,e,n,r,i){var s=(7+n-r)%7,o=VM(t,r,i),a=1+7*(e-1)+s+o,l,u;return a<=0?(l=t-1,u=Ak(l)+a):a>Ak(t)?(l=t+1,u=a-Ak(t)):(l=t,u=a),{year:l,dayOfYear:u}}function MA(t,e,n){var r=VM(t.year(),e,n),i=Math.floor((t.dayOfYear()-r-1)/7)+1,s,o;return i<1?(o=t.year()-1,s=i+Gg(o,e,n)):i>Gg(t.year(),e,n)?(s=i-Gg(t.year(),e,n),o=t.year()+1):(o=t.year(),s=i),{week:s,year:o}}function Gg(t,e,n){var r=VM(t,e,n),i=VM(t+1,e,n);return(Ak(t)-r+i)/7}dn("w",["ww",2],"wo","week");dn("W",["WW",2],"Wo","isoWeek");bu("week","w");bu("isoWeek","W");xu("week",5);xu("isoWeek",5);zt("w",$s);zt("ww",$s,Ld);zt("W",$s);zt("WW",$s,Ld);RI(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=Cr(t)});function pin(t){return MA(t,this._week.dow,this._week.doy).week}var min={dow:0,doy:6};function gin(){return this._week.dow}function vin(){return this._week.doy}function yin(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function bin(t){var e=MA(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}dn("d",0,"do","day");dn("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});dn("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});dn("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});dn("e",0,0,"weekday");dn("E",0,0,"isoWeekday");bu("day","d");bu("weekday","e");bu("isoWeekday","E");xu("day",11);xu("weekday",11);xu("isoWeekday",11);zt("d",$s);zt("e",$s);zt("E",$s);zt("dd",function(t,e){return e.weekdaysMinRegex(t)});zt("ddd",function(t,e){return e.weekdaysShortRegex(t)});zt("dddd",function(t,e){return e.weekdaysRegex(t)});RI(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);i!=null?e.d=i:or(n).invalidWeekday=t});RI(["d","e","E"],function(t,e,n,r){e[r]=Cr(t)});function xin(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function win(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Nte(t,e){return t.slice(e,7).concat(t.slice(0,e))}var _in="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),lHe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Cin="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ein=DI,Sin=DI,Tin=DI;function kin(t,e){var n=Vh(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?Nte(n,this._week.dow):t?n[t.day()]:n}function Ain(t){return t===!0?Nte(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Iin(t){return t===!0?Nte(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Din(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=Im([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?e==="dddd"?(i=Wo.call(this._weekdaysParse,o),i!==-1?i:null):e==="ddd"?(i=Wo.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=Wo.call(this._minWeekdaysParse,o),i!==-1?i:null):e==="dddd"?(i=Wo.call(this._weekdaysParse,o),i!==-1||(i=Wo.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=Wo.call(this._minWeekdaysParse,o),i!==-1?i:null)):e==="ddd"?(i=Wo.call(this._shortWeekdaysParse,o),i!==-1||(i=Wo.call(this._weekdaysParse,o),i!==-1)?i:(i=Wo.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=Wo.call(this._minWeekdaysParse,o),i!==-1||(i=Wo.call(this._weekdaysParse,o),i!==-1)?i:(i=Wo.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function Rin(t,e,n){var r,i,s;if(this._weekdaysParseExact)return Din.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=Im([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function jin(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=xin(t,this.localeData()),this.add(t-e,"d")):e}function Oin(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function Lin(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=win(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function Pin(t){return this._weekdaysParseExact?(ui(this,"_weekdaysRegex")||Vte.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(ui(this,"_weekdaysRegex")||(this._weekdaysRegex=Ein),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Min(t){return this._weekdaysParseExact?(ui(this,"_weekdaysRegex")||Vte.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(ui(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Sin),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function $in(t){return this._weekdaysParseExact?(ui(this,"_weekdaysRegex")||Vte.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(ui(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Tin),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Vte(){function t(d,f){return f.length-d.length}var e=[],n=[],r=[],i=[],s,o,a,l,u;for(s=0;s<7;s++)o=Im([2e3,1]).day(s),a=pd(this.weekdaysMin(o,"")),l=pd(this.weekdaysShort(o,"")),u=pd(this.weekdays(o,"")),e.push(a),n.push(l),r.push(u),i.push(a),i.push(l),i.push(u);e.sort(t),n.sort(t),r.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Ute(){return this.hours()%12||12}function Fin(){return this.hours()||24}dn("H",["HH",2],0,"hour");dn("h",["hh",2],0,Ute);dn("k",["kk",2],0,Fin);dn("hmm",0,0,function(){return""+Ute.apply(this)+vm(this.minutes(),2)});dn("hmmss",0,0,function(){return""+Ute.apply(this)+vm(this.minutes(),2)+vm(this.seconds(),2)});dn("Hmm",0,0,function(){return""+this.hours()+vm(this.minutes(),2)});dn("Hmmss",0,0,function(){return""+this.hours()+vm(this.minutes(),2)+vm(this.seconds(),2)});function uHe(t,e){dn(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}uHe("a",!0);uHe("A",!1);bu("hour","h");xu("hour",13);function cHe(t,e){return e._meridiemParse}zt("a",cHe);zt("A",cHe);zt("H",$s);zt("h",$s);zt("k",$s);zt("HH",$s,Ld);zt("hh",$s,Ld);zt("kk",$s,Ld);zt("hmm",JUe);zt("hmmss",eHe);zt("Hmm",JUe);zt("Hmmss",eHe);Qi(["H","HH"],La);Qi(["k","kk"],function(t,e,n){var r=Cr(t);e[La]=r===24?0:r});Qi(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});Qi(["h","hh"],function(t,e,n){e[La]=Cr(t),or(n).bigHour=!0});Qi("hmm",function(t,e,n){var r=t.length-2;e[La]=Cr(t.substr(0,r)),e[Eh]=Cr(t.substr(r)),or(n).bigHour=!0});Qi("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[La]=Cr(t.substr(0,r)),e[Eh]=Cr(t.substr(r,2)),e[$g]=Cr(t.substr(i)),or(n).bigHour=!0});Qi("Hmm",function(t,e,n){var r=t.length-2;e[La]=Cr(t.substr(0,r)),e[Eh]=Cr(t.substr(r))});Qi("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[La]=Cr(t.substr(0,r)),e[Eh]=Cr(t.substr(r,2)),e[$g]=Cr(t.substr(i))});function Bin(t){return(t+"").toLowerCase().charAt(0)==="p"}var Nin=/[ap]\.?m?\.?/i,Vin=tE("Hours",!0);function Uin(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var dHe={calendar:Rrn,longDateFormat:Prn,invalidDate:$rn,ordinal:Brn,dayOfMonthOrdinalParse:Nrn,relativeTime:Urn,months:nin,monthsShort:tHe,week:min,weekdays:_in,weekdaysMin:Cin,weekdaysShort:lHe,meridiemParse:Nin},Ns={},SS={},$A;function Hin(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function V0e(t){return t&&t.toLowerCase().replace("_","-")}function zin(t){for(var e=0,n,r,i,s;e<t.length;){for(s=V0e(t[e]).split("-"),n=s.length,r=V0e(t[e+1]),r=r?r.split("-"):null;n>0;){if(i=G9(s.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&Hin(s,r)>=n-1)break;n--}e++}return $A}function Win(t){return t.match("^[^/\\\\]*$")!=null}function G9(t){var e=null,n;if(Ns[t]===void 0&&typeof module<"u"&&module&&module.exports&&Win(t))try{e=$A._abbr,n=require,n("./locale/"+t),wv(e)}catch{Ns[t]=null}return Ns[t]}function wv(t,e){var n;return t&&(bc(e)?n=j0(t):n=Hte(t,e),n?$A=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),$A._abbr}function Hte(t,e){if(e!==null){var n,r=dHe;if(e.abbr=t,Ns[t]!=null)qUe("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Ns[t]._config;else if(e.parentLocale!=null)if(Ns[e.parentLocale]!=null)r=Ns[e.parentLocale]._config;else if(n=G9(e.parentLocale),n!=null)r=n._config;else return SS[e.parentLocale]||(SS[e.parentLocale]=[]),SS[e.parentLocale].push({name:t,config:e}),null;return Ns[t]=new Pte(Fq(r,e)),SS[t]&&SS[t].forEach(function(i){Hte(i.name,i.config)}),wv(t),Ns[t]}else return delete Ns[t],null}function Gin(t,e){if(e!=null){var n,r,i=dHe;Ns[t]!=null&&Ns[t].parentLocale!=null?Ns[t].set(Fq(Ns[t]._config,e)):(r=G9(t),r!=null&&(i=r._config),e=Fq(i,e),r==null&&(e.abbr=t),n=new Pte(e),n.parentLocale=Ns[t],Ns[t]=n),wv(t)}else Ns[t]!=null&&(Ns[t].parentLocale!=null?(Ns[t]=Ns[t].parentLocale,t===wv()&&wv(t)):Ns[t]!=null&&delete Ns[t]);return Ns[t]}function j0(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return $A;if(!Vh(t)){if(e=G9(t),e)return e;t=[t]}return zin(t)}function qin(){return Bq(Ns)}function zte(t){var e,n=t._a;return n&&or(t).overflow===-2&&(e=n[Mg]<0||n[Mg]>11?Mg:n[Wp]<1||n[Wp]>W9(n[hu],n[Mg])?Wp:n[La]<0||n[La]>24||n[La]===24&&(n[Eh]!==0||n[$g]!==0||n[Qb]!==0)?La:n[Eh]<0||n[Eh]>59?Eh:n[$g]<0||n[$g]>59?$g:n[Qb]<0||n[Qb]>999?Qb:-1,or(t)._overflowDayOfYear&&(e<hu||e>Wp)&&(e=Wp),or(t)._overflowWeeks&&e===-1&&(e=Jrn),or(t)._overflowWeekday&&e===-1&&(e=ein),or(t).overflow=e),t}var Yin=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Kin=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Zin=/Z|[+-]\d\d(?::?\d\d)?/,l4=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],hU=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Xin=/^\/?Date\((-?\d+)/i,Qin=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Jin={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function fHe(t){var e,n,r=t._i,i=Yin.exec(r)||Kin.exec(r),s,o,a,l,u=l4.length,d=hU.length;if(i){for(or(t).iso=!0,e=0,n=u;e<n;e++)if(l4[e][1].exec(i[1])){o=l4[e][0],s=l4[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(i[3]){for(e=0,n=d;e<n;e++)if(hU[e][1].exec(i[3])){a=(i[2]||" ")+hU[e][0];break}if(a==null){t._isValid=!1;return}}if(!s&&a!=null){t._isValid=!1;return}if(i[4])if(Zin.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=o+(a||"")+(l||""),Gte(t)}else t._isValid=!1}function esn(t,e,n,r,i,s){var o=[tsn(t),tHe.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function tsn(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function nsn(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function rsn(t,e,n){if(t){var r=lHe.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return or(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function isn(t,e,n){if(t)return Jin[t];if(e)return 0;var r=parseInt(n,10),i=r%100,s=(r-i)/100;return s*60+i}function hHe(t){var e=Qin.exec(nsn(t._i)),n;if(e){if(n=esn(e[4],e[3],e[2],e[5],e[6],e[7]),!rsn(e[1],n,t))return;t._a=n,t._tzm=isn(e[8],e[9],e[10]),t._d=PA.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),or(t).rfc2822=!0}else t._isValid=!1}function ssn(t){var e=Xin.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(fHe(t),t._isValid===!1)delete t._isValid;else return;if(hHe(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:Pt.createFromInputFallback(t)}Pt.createFromInputFallback=Gf("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function U2(t,e,n){return t??e??n}function osn(t){var e=new Date(Pt.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Wte(t){var e,n,r=[],i,s,o;if(!t._d){for(i=osn(t),t._w&&t._a[Wp]==null&&t._a[Mg]==null&&asn(t),t._dayOfYear!=null&&(o=U2(t._a[hu],i[hu]),(t._dayOfYear>Ak(o)||t._dayOfYear===0)&&(or(t)._overflowDayOfYear=!0),n=PA(o,0,t._dayOfYear),t._a[Mg]=n.getUTCMonth(),t._a[Wp]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[La]===24&&t._a[Eh]===0&&t._a[$g]===0&&t._a[Qb]===0&&(t._nextDay=!0,t._a[La]=0),t._d=(t._useUTC?PA:hin).apply(null,r),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[La]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==s&&(or(t).weekdayMismatch=!0)}}function asn(t){var e,n,r,i,s,o,a,l,u;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,o=4,n=U2(e.GG,t._a[hu],MA(Ps(),1,4).year),r=U2(e.W,1),i=U2(e.E,1),(i<1||i>7)&&(l=!0)):(s=t._locale._week.dow,o=t._locale._week.doy,u=MA(Ps(),s,o),n=U2(e.gg,t._a[hu],u.year),r=U2(e.w,u.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+s,(e.e<0||e.e>6)&&(l=!0)):i=s),r<1||r>Gg(n,s,o)?or(t)._overflowWeeks=!0:l!=null?or(t)._overflowWeekday=!0:(a=aHe(n,r,i,s,o),t._a[hu]=a.year,t._dayOfYear=a.dayOfYear)}Pt.ISO_8601=function(){};Pt.RFC_2822=function(){};function Gte(t){if(t._f===Pt.ISO_8601){fHe(t);return}if(t._f===Pt.RFC_2822){hHe(t);return}t._a=[],or(t).empty=!0;var e=""+t._i,n,r,i,s,o,a=e.length,l=0,u,d;for(i=YUe(t._f,t._locale).match(Mte)||[],d=i.length,n=0;n<d;n++)s=i[n],r=(e.match(Zrn(s,t))||[])[0],r&&(o=e.substr(0,e.indexOf(r)),o.length>0&&or(t).unusedInput.push(o),e=e.slice(e.indexOf(r)+r.length),l+=r.length),l_[s]?(r?or(t).empty=!1:or(t).unusedTokens.push(s),Qrn(s,r,t)):t._strict&&!r&&or(t).unusedTokens.push(s);or(t).charsLeftOver=a-l,e.length>0&&or(t).unusedInput.push(e),t._a[La]<=12&&or(t).bigHour===!0&&t._a[La]>0&&(or(t).bigHour=void 0),or(t).parsedDateParts=t._a.slice(0),or(t).meridiem=t._meridiem,t._a[La]=lsn(t._locale,t._a[La],t._meridiem),u=or(t).era,u!==null&&(t._a[hu]=t._locale.erasConvertYear(u,t._a[hu])),Wte(t),zte(t)}function lsn(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function usn(t){var e,n,r,i,s,o,a=!1,l=t._f.length;if(l===0){or(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)s=0,o=!1,e=Lte({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],Gte(e),Ote(e)&&(o=!0),s+=or(e).charsLeftOver,s+=or(e).unusedTokens.length*10,or(e).score=s,a?s<r&&(r=s,n=e):(r==null||s<r||o)&&(r=s,n=e,o&&(a=!0));Z1(t,n||e)}function csn(t){if(!t._d){var e=$te(t._i),n=e.day===void 0?e.date:e.day;t._a=WUe([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),Wte(t)}}function dsn(t){var e=new II(zte(pHe(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function pHe(t){var e=t._i,n=t._f;return t._locale=t._locale||j0(t._l),e===null||n===void 0&&e===""?F9({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Uh(e)?new II(zte(e)):(AI(e)?t._d=e:Vh(n)?usn(t):n?Gte(t):fsn(t),Ote(t)||(t._d=null),t))}function fsn(t){var e=t._i;bc(e)?t._d=new Date(Pt.now()):AI(e)?t._d=new Date(e.valueOf()):typeof e=="string"?ssn(t):Vh(e)?(t._a=WUe(e.slice(0),function(n){return parseInt(n,10)}),Wte(t)):Ex(e)?csn(t):s0(e)?t._d=new Date(e):Pt.createFromInputFallback(t)}function mHe(t,e,n,r,i){var s={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Ex(t)&&jte(t)||Vh(t)&&t.length===0)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=t,s._f=e,s._strict=r,dsn(s)}function Ps(t,e,n,r){return mHe(t,e,n,r,!1)}var hsn=Gf("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ps.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:F9()}),psn=Gf("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ps.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:F9()});function gHe(t,e){var n,r;if(e.length===1&&Vh(e[0])&&(e=e[0]),!e.length)return Ps();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function msn(){var t=[].slice.call(arguments,0);return gHe("isBefore",t)}function gsn(){var t=[].slice.call(arguments,0);return gHe("isAfter",t)}var vsn=function(){return Date.now?Date.now():+new Date},TS=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ysn(t){var e,n=!1,r,i=TS.length;for(e in t)if(ui(t,e)&&!(Wo.call(TS,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<i;++r)if(t[TS[r]]){if(n)return!1;parseFloat(t[TS[r]])!==Cr(t[TS[r]])&&(n=!0)}return!0}function bsn(){return this._isValid}function xsn(){return Qh(NaN)}function q9(t){var e=$te(t),n=e.year||0,r=e.quarter||0,i=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,d=e.millisecond||0;this._isValid=ysn(e),this._milliseconds=+d+u*1e3+l*6e4+a*1e3*60*60,this._days=+o+s*7,this._months=+i+r*3+n*12,this._data={},this._locale=j0(),this._bubble()}function DO(t){return t instanceof q9}function Vq(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function wsn(t,e,n){var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),s=0,o;for(o=0;o<r;o++)(n&&t[o]!==e[o]||!n&&Cr(t[o])!==Cr(e[o]))&&s++;return s+i}function vHe(t,e){dn(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+vm(~~(n/60),2)+e+vm(~~n%60,2)})}vHe("Z",":");vHe("ZZ","");zt("Z",z9);zt("ZZ",z9);Qi(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=qte(z9,t)});var _sn=/([\+\-]|\d\d)/gi;function qte(t,e){var n=(e||"").match(t),r,i,s;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(_sn)||["-",0,0],s=+(i[1]*60)+Cr(i[2]),s===0?0:i[0]==="+"?s:-s)}function Yte(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(Uh(t)||AI(t)?t.valueOf():Ps(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),Pt.updateOffset(n,!1),n):Ps(t).local()}function Uq(t){return-Math.round(t._d.getTimezoneOffset())}Pt.updateOffset=function(){};function Csn(t,e,n){var r=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=qte(z9,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=Uq(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?xHe(this,Qh(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Pt.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:Uq(this)}function Esn(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Ssn(t){return this.utcOffset(0,t)}function Tsn(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Uq(this),"m")),this}function ksn(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=qte(Yrn,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Asn(t){return this.isValid()?(t=t?Ps(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function Isn(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Dsn(){if(!bc(this._isDSTShifted))return this._isDSTShifted;var t={},e;return Lte(t,this),t=pHe(t),t._a?(e=t._isUTC?Im(t._a):Ps(t._a),this._isDSTShifted=this.isValid()&&wsn(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Rsn(){return this.isValid()?!this._isUTC:!1}function jsn(){return this.isValid()?this._isUTC:!1}function yHe(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Osn=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Lsn=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Qh(t,e){var n=t,r=null,i,s,o;return DO(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:s0(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=Osn.exec(t))?(i=r[1]==="-"?-1:1,n={y:0,d:Cr(r[Wp])*i,h:Cr(r[La])*i,m:Cr(r[Eh])*i,s:Cr(r[$g])*i,ms:Cr(Vq(r[Qb]*1e3))*i}):(r=Lsn.exec(t))?(i=r[1]==="-"?-1:1,n={y:tb(r[2],i),M:tb(r[3],i),w:tb(r[4],i),d:tb(r[5],i),h:tb(r[6],i),m:tb(r[7],i),s:tb(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=Psn(Ps(n.from),Ps(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),s=new q9(n),DO(t)&&ui(t,"_locale")&&(s._locale=t._locale),DO(t)&&ui(t,"_isValid")&&(s._isValid=t._isValid),s}Qh.fn=q9.prototype;Qh.invalid=xsn;function tb(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function U0e(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Psn(t,e){var n;return t.isValid()&&e.isValid()?(e=Yte(e,t),t.isBefore(e)?n=U0e(t,e):(n=U0e(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function bHe(t,e){return function(n,r){var i,s;return r!==null&&!isNaN(+r)&&(qUe(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=r,r=s),i=Qh(n,r),xHe(this,i,t),this}}function xHe(t,e,n,r){var i=e._milliseconds,s=Vq(e._days),o=Vq(e._months);t.isValid()&&(r=r??!0,o&&rHe(t,BM(t,"Month")+o*n),s&&ZUe(t,"Date",BM(t,"Date")+s*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&Pt.updateOffset(t,s||o))}var Msn=bHe(1,"add"),$sn=bHe(-1,"subtract");function wHe(t){return typeof t=="string"||t instanceof String}function Fsn(t){return Uh(t)||AI(t)||wHe(t)||s0(t)||Nsn(t)||Bsn(t)||t===null||t===void 0}function Bsn(t){var e=Ex(t)&&!jte(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,o=r.length;for(i=0;i<o;i+=1)s=r[i],n=n||ui(t,s);return e&&n}function Nsn(t){var e=Vh(t),n=!1;return e&&(n=t.filter(function(r){return!s0(r)&&wHe(t)}).length===0),e&&n}function Vsn(t){var e=Ex(t)&&!jte(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<r.length;i+=1)s=r[i],n=n||ui(t,s);return e&&n}function Usn(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Hsn(t,e){arguments.length===1&&(arguments[0]?Fsn(arguments[0])?(t=arguments[0],e=void 0):Vsn(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Ps(),r=Yte(n,this).startOf("day"),i=Pt.calendarFormat(this,r)||"sameElse",s=e&&(Dm(e[i])?e[i].call(this,n):e[i]);return this.format(s||this.localeData().calendar(i,this,Ps(n)))}function zsn(){return new II(this)}function Wsn(t,e){var n=Uh(t)?t:Ps(t);return this.isValid()&&n.isValid()?(e=qf(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function Gsn(t,e){var n=Uh(t)?t:Ps(t);return this.isValid()&&n.isValid()?(e=qf(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function qsn(t,e,n,r){var i=Uh(t)?t:Ps(t),s=Uh(e)?e:Ps(e);return this.isValid()&&i.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function Ysn(t,e){var n=Uh(t)?t:Ps(t),r;return this.isValid()&&n.isValid()?(e=qf(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function Ksn(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Zsn(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Xsn(t,e,n){var r,i,s;if(!this.isValid())return NaN;if(r=Yte(t,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=qf(e),e){case"year":s=RO(this,r)/12;break;case"month":s=RO(this,r);break;case"quarter":s=RO(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:pf(s)}function RO(t,e){if(t.date()<e.date())return-RO(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),i,s;return e-r<0?(i=t.clone().add(n-1,"months"),s=(e-r)/(r-i)):(i=t.clone().add(n+1,"months"),s=(e-r)/(i-r)),-(n+s)||0}Pt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Pt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Qsn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Jsn(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?IO(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Dm(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",IO(n,"Z")):IO(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function eon(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,i,s;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(n+r+i+s)}function ton(t){t||(t=this.isUtc()?Pt.defaultFormatUtc:Pt.defaultFormat);var e=IO(this,t);return this.localeData().postformat(e)}function non(t,e){return this.isValid()&&(Uh(t)&&t.isValid()||Ps(t).isValid())?Qh({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ron(t){return this.from(Ps(),t)}function ion(t,e){return this.isValid()&&(Uh(t)&&t.isValid()||Ps(t).isValid())?Qh({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function son(t){return this.to(Ps(),t)}function _He(t){var e;return t===void 0?this._locale._abbr:(e=j0(t),e!=null&&(this._locale=e),this)}var CHe=Gf("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function EHe(){return this._locale}var UM=1e3,u_=60*UM,HM=60*u_,SHe=(365*400+97)*24*HM;function c_(t,e){return(t%e+e)%e}function THe(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-SHe:new Date(t,e,n).valueOf()}function kHe(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-SHe:Date.UTC(t,e,n)}function oon(t){var e,n;if(t=qf(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?kHe:THe,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=c_(e+(this._isUTC?0:this.utcOffset()*u_),HM);break;case"minute":e=this._d.valueOf(),e-=c_(e,u_);break;case"second":e=this._d.valueOf(),e-=c_(e,UM);break}return this._d.setTime(e),Pt.updateOffset(this,!0),this}function aon(t){var e,n;if(t=qf(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?kHe:THe,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=HM-c_(e+(this._isUTC?0:this.utcOffset()*u_),HM)-1;break;case"minute":e=this._d.valueOf(),e+=u_-c_(e,u_)-1;break;case"second":e=this._d.valueOf(),e+=UM-c_(e,UM)-1;break}return this._d.setTime(e),Pt.updateOffset(this,!0),this}function lon(){return this._d.valueOf()-(this._offset||0)*6e4}function uon(){return Math.floor(this.valueOf()/1e3)}function con(){return new Date(this.valueOf())}function don(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function fon(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function hon(){return this.isValid()?this.toISOString():null}function pon(){return Ote(this)}function mon(){return Z1({},or(this))}function gon(){return or(this).overflow}function von(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}dn("N",0,0,"eraAbbr");dn("NN",0,0,"eraAbbr");dn("NNN",0,0,"eraAbbr");dn("NNNN",0,0,"eraName");dn("NNNNN",0,0,"eraNarrow");dn("y",["y",1],"yo","eraYear");dn("y",["yy",2],0,"eraYear");dn("y",["yyy",3],0,"eraYear");dn("y",["yyyy",4],0,"eraYear");zt("N",Kte);zt("NN",Kte);zt("NNN",Kte);zt("NNNN",Aon);zt("NNNNN",Ion);Qi(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?or(n).era=i:or(n).invalidEra=t});zt("y",nE);zt("yy",nE);zt("yyy",nE);zt("yyyy",nE);zt("yo",Don);Qi(["y","yy","yyy","yyyy"],hu);Qi(["yo"],function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[hu]=n._locale.eraYearOrdinalParse(t,i):e[hu]=parseInt(t,10)});function yon(t,e){var n,r,i,s=this._eras||j0("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":i=Pt(s[n].since).startOf("day"),s[n].since=i.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=Pt(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf();break}}return s}function bon(t,e,n){var r,i,s=this.eras(),o,a,l;for(t=t.toUpperCase(),r=0,i=s.length;r<i;++r)if(o=s[r].name.toUpperCase(),a=s[r].abbr.toUpperCase(),l=s[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return s[r];break;case"NNNN":if(o===t)return s[r];break;case"NNNNN":if(l===t)return s[r];break}else if([o,a,l].indexOf(t)>=0)return s[r]}function xon(t,e){var n=t.since<=t.until?1:-1;return e===void 0?Pt(t.since).year():Pt(t.since).year()+(e-t.offset)*n}function won(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function _on(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function Con(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function Eon(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-Pt(i[t].since).year())*n+i[t].offset;return this.year()}function Son(t){return ui(this,"_erasNameRegex")||Zte.call(this),t?this._erasNameRegex:this._erasRegex}function Ton(t){return ui(this,"_erasAbbrRegex")||Zte.call(this),t?this._erasAbbrRegex:this._erasRegex}function kon(t){return ui(this,"_erasNarrowRegex")||Zte.call(this),t?this._erasNarrowRegex:this._erasRegex}function Kte(t,e){return e.erasAbbrRegex(t)}function Aon(t,e){return e.erasNameRegex(t)}function Ion(t,e){return e.erasNarrowRegex(t)}function Don(t,e){return e._eraYearOrdinalRegex||nE}function Zte(){var t=[],e=[],n=[],r=[],i,s,o=this.eras();for(i=0,s=o.length;i<s;++i)e.push(pd(o[i].name)),t.push(pd(o[i].abbr)),n.push(pd(o[i].narrow)),r.push(pd(o[i].name)),r.push(pd(o[i].abbr)),r.push(pd(o[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}dn(0,["gg",2],0,function(){return this.weekYear()%100});dn(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Y9(t,e){dn(0,[t,t.length],0,e)}Y9("gggg","weekYear");Y9("ggggg","weekYear");Y9("GGGG","isoWeekYear");Y9("GGGGG","isoWeekYear");bu("weekYear","gg");bu("isoWeekYear","GG");xu("weekYear",1);xu("isoWeekYear",1);zt("G",H9);zt("g",H9);zt("GG",$s,Ld);zt("gg",$s,Ld);zt("GGGG",Bte,Fte);zt("gggg",Bte,Fte);zt("GGGGG",U9,N9);zt("ggggg",U9,N9);RI(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=Cr(t)});RI(["gg","GG"],function(t,e,n,r){e[r]=Pt.parseTwoDigitYear(t)});function Ron(t){return AHe.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function jon(t){return AHe.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Oon(){return Gg(this.year(),1,4)}function Lon(){return Gg(this.isoWeekYear(),1,4)}function Pon(){var t=this.localeData()._week;return Gg(this.year(),t.dow,t.doy)}function Mon(){var t=this.localeData()._week;return Gg(this.weekYear(),t.dow,t.doy)}function AHe(t,e,n,r,i){var s;return t==null?MA(this,r,i).year:(s=Gg(t,r,i),e>s&&(e=s),$on.call(this,t,e,n,r,i))}function $on(t,e,n,r,i){var s=aHe(t,e,n,r,i),o=PA(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}dn("Q",0,"Qo","quarter");bu("quarter","Q");xu("quarter",7);zt("Q",XUe);Qi("Q",function(t,e){e[Mg]=(Cr(t)-1)*3});function Fon(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}dn("D",["DD",2],"Do","date");bu("date","D");xu("date",9);zt("D",$s);zt("DD",$s,Ld);zt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Qi(["D","DD"],Wp);Qi("Do",function(t,e){e[Wp]=Cr(t.match($s)[0])});var IHe=tE("Date",!0);dn("DDD",["DDDD",3],"DDDo","dayOfYear");bu("dayOfYear","DDD");xu("dayOfYear",4);zt("DDD",V9);zt("DDDD",QUe);Qi(["DDD","DDDD"],function(t,e,n){n._dayOfYear=Cr(t)});function Bon(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}dn("m",["mm",2],0,"minute");bu("minute","m");xu("minute",14);zt("m",$s);zt("mm",$s,Ld);Qi(["m","mm"],Eh);var Non=tE("Minutes",!1);dn("s",["ss",2],0,"second");bu("second","s");xu("second",15);zt("s",$s);zt("ss",$s,Ld);Qi(["s","ss"],$g);var Von=tE("Seconds",!1);dn("S",0,0,function(){return~~(this.millisecond()/100)});dn(0,["SS",2],0,function(){return~~(this.millisecond()/10)});dn(0,["SSS",3],0,"millisecond");dn(0,["SSSS",4],0,function(){return this.millisecond()*10});dn(0,["SSSSS",5],0,function(){return this.millisecond()*100});dn(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});dn(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});dn(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});dn(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});bu("millisecond","ms");xu("millisecond",16);zt("S",V9,XUe);zt("SS",V9,Ld);zt("SSS",V9,QUe);var X1,DHe;for(X1="SSSS";X1.length<=9;X1+="S")zt(X1,nE);function Uon(t,e){e[Qb]=Cr(("0."+t)*1e3)}for(X1="S";X1.length<=9;X1+="S")Qi(X1,Uon);DHe=tE("Milliseconds",!1);dn("z",0,0,"zoneAbbr");dn("zz",0,0,"zoneName");function Hon(){return this._isUTC?"UTC":""}function zon(){return this._isUTC?"Coordinated Universal Time":""}var mt=II.prototype;mt.add=Msn;mt.calendar=Hsn;mt.clone=zsn;mt.diff=Xsn;mt.endOf=aon;mt.format=ton;mt.from=non;mt.fromNow=ron;mt.to=ion;mt.toNow=son;mt.get=Grn;mt.invalidAt=gon;mt.isAfter=Wsn;mt.isBefore=Gsn;mt.isBetween=qsn;mt.isSame=Ysn;mt.isSameOrAfter=Ksn;mt.isSameOrBefore=Zsn;mt.isValid=pon;mt.lang=CHe;mt.locale=_He;mt.localeData=EHe;mt.max=psn;mt.min=hsn;mt.parsingFlags=mon;mt.set=qrn;mt.startOf=oon;mt.subtract=$sn;mt.toArray=don;mt.toObject=fon;mt.toDate=con;mt.toISOString=Jsn;mt.inspect=eon;typeof Symbol<"u"&&Symbol.for!=null&&(mt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});mt.toJSON=hon;mt.toString=Qsn;mt.unix=uon;mt.valueOf=lon;mt.creationData=von;mt.eraName=won;mt.eraNarrow=_on;mt.eraAbbr=Con;mt.eraYear=Eon;mt.year=oHe;mt.isLeapYear=fin;mt.weekYear=Ron;mt.isoWeekYear=jon;mt.quarter=mt.quarters=Fon;mt.month=iHe;mt.daysInMonth=uin;mt.week=mt.weeks=yin;mt.isoWeek=mt.isoWeeks=bin;mt.weeksInYear=Pon;mt.weeksInWeekYear=Mon;mt.isoWeeksInYear=Oon;mt.isoWeeksInISOWeekYear=Lon;mt.date=IHe;mt.day=mt.days=jin;mt.weekday=Oin;mt.isoWeekday=Lin;mt.dayOfYear=Bon;mt.hour=mt.hours=Vin;mt.minute=mt.minutes=Non;mt.second=mt.seconds=Von;mt.millisecond=mt.milliseconds=DHe;mt.utcOffset=Csn;mt.utc=Ssn;mt.local=Tsn;mt.parseZone=ksn;mt.hasAlignedHourOffset=Asn;mt.isDST=Isn;mt.isLocal=Rsn;mt.isUtcOffset=jsn;mt.isUtc=yHe;mt.isUTC=yHe;mt.zoneAbbr=Hon;mt.zoneName=zon;mt.dates=Gf("dates accessor is deprecated. Use date instead.",IHe);mt.months=Gf("months accessor is deprecated. Use month instead",iHe);mt.years=Gf("years accessor is deprecated. Use year instead",oHe);mt.zone=Gf("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Esn);mt.isDSTShifted=Gf("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Dsn);function Won(t){return Ps(t*1e3)}function Gon(){return Ps.apply(null,arguments).parseZone()}function RHe(t){return t}var di=Pte.prototype;di.calendar=jrn;di.longDateFormat=Mrn;di.invalidDate=Frn;di.ordinal=Vrn;di.preparse=RHe;di.postformat=RHe;di.relativeTime=Hrn;di.pastFuture=zrn;di.set=Drn;di.eras=yon;di.erasParse=bon;di.erasConvertYear=xon;di.erasAbbrRegex=Ton;di.erasNameRegex=Son;di.erasNarrowRegex=kon;di.months=sin;di.monthsShort=oin;di.monthsParse=lin;di.monthsRegex=din;di.monthsShortRegex=cin;di.week=pin;di.firstDayOfYear=vin;di.firstDayOfWeek=gin;di.weekdays=kin;di.weekdaysMin=Iin;di.weekdaysShort=Ain;di.weekdaysParse=Rin;di.weekdaysRegex=Pin;di.weekdaysShortRegex=Min;di.weekdaysMinRegex=$in;di.isPM=Bin;di.meridiem=Uin;function zM(t,e,n,r){var i=j0(),s=Im().set(r,e);return i[n](s,t)}function jHe(t,e,n){if(s0(t)&&(e=t,t=void 0),t=t||"",e!=null)return zM(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=zM(t,r,n,"month");return i}function Xte(t,e,n,r){typeof t=="boolean"?(s0(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,s0(e)&&(n=e,e=void 0),e=e||"");var i=j0(),s=t?i._week.dow:0,o,a=[];if(n!=null)return zM(e,(n+s)%7,r,"day");for(o=0;o<7;o++)a[o]=zM(e,(o+s)%7,r,"day");return a}function qon(t,e){return jHe(t,e,"months")}function Yon(t,e){return jHe(t,e,"monthsShort")}function Kon(t,e,n){return Xte(t,e,n,"weekdays")}function Zon(t,e,n){return Xte(t,e,n,"weekdaysShort")}function Xon(t,e,n){return Xte(t,e,n,"weekdaysMin")}wv("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=Cr(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});Pt.lang=Gf("moment.lang is deprecated. Use moment.locale instead.",wv);Pt.langData=Gf("moment.langData is deprecated. Use moment.localeData instead.",j0);var tg=Math.abs;function Qon(){var t=this._data;return this._milliseconds=tg(this._milliseconds),this._days=tg(this._days),this._months=tg(this._months),t.milliseconds=tg(t.milliseconds),t.seconds=tg(t.seconds),t.minutes=tg(t.minutes),t.hours=tg(t.hours),t.months=tg(t.months),t.years=tg(t.years),this}function OHe(t,e,n,r){var i=Qh(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function Jon(t,e){return OHe(this,t,e,1)}function ean(t,e){return OHe(this,t,e,-1)}function H0e(t){return t<0?Math.floor(t):Math.ceil(t)}function tan(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,i,s,o,a,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=H0e(Hq(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,i=pf(t/1e3),r.seconds=i%60,s=pf(i/60),r.minutes=s%60,o=pf(s/60),r.hours=o%24,e+=pf(o/24),l=pf(LHe(e)),n+=l,e-=H0e(Hq(l)),a=pf(n/12),n%=12,r.days=e,r.months=n,r.years=a,this}function LHe(t){return t*4800/146097}function Hq(t){return t*146097/4800}function nan(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=qf(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+LHe(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Hq(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function ran(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Cr(this._months/12)*31536e6:NaN}function O0(t){return function(){return this.as(t)}}var ian=O0("ms"),san=O0("s"),oan=O0("m"),aan=O0("h"),lan=O0("d"),uan=O0("w"),can=O0("M"),dan=O0("Q"),fan=O0("y");function han(){return Qh(this)}function pan(t){return t=qf(t),this.isValid()?this[t+"s"]():NaN}function gw(t){return function(){return this.isValid()?this._data[t]:NaN}}var man=gw("milliseconds"),gan=gw("seconds"),van=gw("minutes"),yan=gw("hours"),ban=gw("days"),xan=gw("months"),wan=gw("years");function _an(){return pf(this.days()/7)}var _g=Math.round,D5={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Can(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function Ean(t,e,n,r){var i=Qh(t).abs(),s=_g(i.as("s")),o=_g(i.as("m")),a=_g(i.as("h")),l=_g(i.as("d")),u=_g(i.as("M")),d=_g(i.as("w")),f=_g(i.as("y")),h=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(h=h||d<=1&&["w"]||d<n.w&&["ww",d]),h=h||u<=1&&["M"]||u<n.M&&["MM",u]||f<=1&&["y"]||["yy",f],h[2]=e,h[3]=+t>0,h[4]=r,Can.apply(null,h)}function San(t){return t===void 0?_g:typeof t=="function"?(_g=t,!0):!1}function Tan(t,e){return D5[t]===void 0?!1:e===void 0?D5[t]:(D5[t]=e,t==="s"&&(D5.ss=e-1),!0)}function kan(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=D5,i,s;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},D5,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),s=Ean(this,!n,r,i),n&&(s=i.pastFuture(+this,s)),i.postformat(s)}var pU=Math.abs;function l2(t){return(t>0)-(t<0)||+t}function K9(){if(!this.isValid())return this.localeData().invalidDate();var t=pU(this._milliseconds)/1e3,e=pU(this._days),n=pU(this._months),r,i,s,o,a=this.asSeconds(),l,u,d,f;return a?(r=pf(t/60),i=pf(r/60),t%=60,r%=60,s=pf(n/12),n%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=l2(this._months)!==l2(a)?"-":"",d=l2(this._days)!==l2(a)?"-":"",f=l2(this._milliseconds)!==l2(a)?"-":"",l+"P"+(s?u+s+"Y":"")+(n?u+n+"M":"")+(e?d+e+"D":"")+(i||r||t?"T":"")+(i?f+i+"H":"")+(r?f+r+"M":"")+(t?f+o+"S":"")):"P0D"}var Kr=q9.prototype;Kr.isValid=bsn;Kr.abs=Qon;Kr.add=Jon;Kr.subtract=ean;Kr.as=nan;Kr.asMilliseconds=ian;Kr.asSeconds=san;Kr.asMinutes=oan;Kr.asHours=aan;Kr.asDays=lan;Kr.asWeeks=uan;Kr.asMonths=can;Kr.asQuarters=dan;Kr.asYears=fan;Kr.valueOf=ran;Kr._bubble=tan;Kr.clone=han;Kr.get=pan;Kr.milliseconds=man;Kr.seconds=gan;Kr.minutes=van;Kr.hours=yan;Kr.days=ban;Kr.weeks=_an;Kr.months=xan;Kr.years=wan;Kr.humanize=kan;Kr.toISOString=K9;Kr.toString=K9;Kr.toJSON=K9;Kr.locale=_He;Kr.localeData=EHe;Kr.toIsoString=Gf("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",K9);Kr.lang=CHe;dn("X",0,0,"unix");dn("x",0,0,"valueOf");zt("x",H9);zt("X",Krn);Qi("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});Qi("x",function(t,e,n){n._d=new Date(Cr(t))});//! moment.js
Pt.version="2.29.4";Arn(Ps);Pt.fn=mt;Pt.min=msn;Pt.max=gsn;Pt.now=vsn;Pt.utc=Im;Pt.unix=Won;Pt.months=qon;Pt.isDate=AI;Pt.locale=wv;Pt.invalid=F9;Pt.duration=Qh;Pt.isMoment=Uh;Pt.weekdays=Kon;Pt.parseZone=Gon;Pt.localeData=j0;Pt.isDuration=DO;Pt.monthsShort=Yon;Pt.weekdaysMin=Xon;Pt.defineLocale=Hte;Pt.updateLocale=Gin;Pt.locales=qin;Pt.weekdaysShort=Zon;Pt.normalizeUnits=qf;Pt.relativeTimeRounding=San;Pt.relativeTimeThreshold=Tan;Pt.calendarFormat=Usn;Pt.prototype=mt;Pt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function Z9(t,e){return Pt(t).format(e)}function Qte(t,e){const n=Pt(t,e,!0);return n.isValid()?{isValid:!0,date:n.toDate()}:{isValid:!1,error:'Invalid date. Must be on the format "'.concat(e,'"')}}function Jte(t){return window.crypto.getRandomValues(t)}var PHe=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function Aan(t){for(const e in t)if(!(e==="_type"||e==="_key")&&PHe(t,e)&&!ene(t[e]))return!1;return!0}function Ian(t){for(let e=0;e<t.length;e++)if(!ene(t[e]))return!1;return!0}function ene(t){if(t==null)return!0;const e=typeof t;return Array.isArray(t)?Ian(t):e==="object"?Aan(t):!1}function Dan(t){for(const e in t)if(!(e==="_type"||e==="_key")&&PHe(t,e)&&t[e]!==void 0)return!1;return!0}const Ran=(()=>{let t;return()=>{if(t)return t;t=[];for(let e=0;e<256;++e)t[e]=(e+256).toString(16).substring(1);return t}})();function jan(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const e=new Uint8Array(t);return Jte(e),e}function jI(t){const e=Ran();return jan(t).reduce((n,r)=>n+e[r],"").slice(0,t)}const Oan=Object.prototype.toString;function Lan(t){switch(Oan.call(t)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}if(typeof t=="object"&&t&&typeof t.length=="number")try{if(typeof t.callee=="function")return"arguments"}catch(e){if(e instanceof TypeError)return"arguments"}return t===null?"null":t===void 0?"undefined":t&&t.nodeType===1?"element":t===Object(t)?"object":typeof t}function Bc(t){const e=Lan(t);if(e!=="object")return e;const n=t;return"_type"in n&&n._type||e}var zq={exports:{}};function Pan(t){n.debug=n,n.default=n,n.coerce=l,n.disable=o,n.enable=s,n.enabled=a,n.humanize=x9(),Object.keys(t).forEach(function(u){n[u]=t[u]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function e(u){for(var d=0,f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=e;function n(u){var d;function f(){if(f.enabled){for(var h=arguments.length,p=new Array(h),g=0;g<h;g++)p[g]=arguments[g];var v=f,y=Number(new Date),x=y-(d||y);v.diff=x,v.prev=d,v.curr=y,d=y,p[0]=n.coerce(p[0]),typeof p[0]!="string"&&p.unshift("%O");var b=0;p[0]=p[0].replace(/%([a-zA-Z%])/g,function(C,S){if(C==="%%")return C;b++;var T=n.formatters[S];if(typeof T=="function"){var A=p[b];C=T.call(v,A),p.splice(b,1),b--}return C}),n.formatArgs.call(v,p);var _=v.log||n.log;_.apply(v,p)}}return f.namespace=u,f.enabled=n.enabled(u),f.useColors=n.useColors(),f.color=e(u),f.destroy=r,f.extend=i,typeof n.init=="function"&&n.init(f),n.instances.push(f),f}function r(){var u=n.instances.indexOf(this);return u!==-1?(n.instances.splice(u,1),!0):!1}function i(u,d){return n(this.namespace+(typeof d>"u"?":":d)+u)}function s(u){n.save(u),n.names=[],n.skips=[];var d,f=(typeof u=="string"?u:"").split(/[\s,]+/),h=f.length;for(d=0;d<h;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")));for(d=0;d<n.instances.length;d++){var p=n.instances[d];p.enabled=n.enabled(p.namespace)}}function o(){n.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}return n.enable(n.load()),n}var Man=Pan;(function(t,e){function n(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(h){return typeof h}:n=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},n(d)}e.log=s,e.formatArgs=i,e.save=o,e.load=a,e.useColors=r,e.storage=l(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!!this.useColors){var f="color: "+this.color;d.splice(1,0,f,"color: inherit");var h=0,p=0;d[0].replace(/%[a-zA-Z%]/g,function(g){g!=="%%"&&(h++,g==="%c"&&(p=h))}),d.splice(p,0,f)}}function s(){var d;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(d=console).log.apply(d,arguments)}function o(d){try{d?e.storage.setItem("debug",d):e.storage.removeItem("debug")}catch{}}function a(){var d;try{d=e.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function l(){try{return localStorage}catch{}}t.exports=Man(e);var u=t.exports.formatters;u.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(zq,zq.exports);var $an=zq.exports;const DT=vt($an);function yh(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function o0(t){return!!t&&!!t[Hs]}function a0(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===Gan}(t)||Array.isArray(t)||!!t[Z0e]||!!(!((e=t.constructor)===null||e===void 0)&&e[Z0e])||tne(t)||nne(t))}function zx(t,e,n){n===void 0&&(n=!1),rE(t)===0?(n?Object.keys:f_)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function rE(t){var e=t[Hs];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:tne(t)?2:nne(t)?3:0}function d_(t,e){return rE(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Fan(t,e){return rE(t)===2?t.get(e):t[e]}function MHe(t,e,n){var r=rE(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function $He(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function tne(t){return zan&&t instanceof Map}function nne(t){return Wan&&t instanceof Set}function Db(t){return t.o||t.t}function rne(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=BHe(t);delete e[Hs];for(var n=f_(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function ine(t,e){return e===void 0&&(e=!1),sne(t)||o0(t)||!a0(t)||(rE(t)>1&&(t.set=t.add=t.clear=t.delete=Ban),Object.freeze(t),e&&zx(t,function(n,r){return ine(r,!0)},!0)),t}function Ban(){yh(2)}function sne(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function sm(t){var e=Yq[t];return e||yh(18,t),e}function Nan(t,e){Yq[t]||(Yq[t]=e)}function Wq(){return FA}function mU(t,e){e&&(sm("Patches"),t.u=[],t.s=[],t.v=e)}function WM(t){Gq(t),t.p.forEach(Van),t.p=null}function Gq(t){t===FA&&(FA=t.l)}function z0e(t){return FA={p:[],l:FA,h:t,m:!0,_:0}}function Van(t){var e=t[Hs];e.i===0||e.i===1?e.j():e.g=!0}function gU(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||sm("ES5").S(e,t,r),r?(n[Hs].P&&(WM(e),yh(4)),a0(t)&&(t=GM(e,t),e.l||qM(e,t)),e.u&&sm("Patches").M(n[Hs].t,t,e.u,e.s)):t=GM(e,n,[]),WM(e),e.u&&e.v(e.u,e.s),t!==FHe?t:void 0}function GM(t,e,n){if(sne(e))return e;var r=e[Hs];if(!r)return zx(e,function(a,l){return W0e(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return qM(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=rne(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),zx(s,function(a,l){return W0e(t,r,i,a,l,n,o)}),qM(t,i,!1),n&&t.u&&sm("Patches").N(r,n,t.u,t.s)}return r.o}function W0e(t,e,n,r,i,s,o){if(o0(i)){var a=GM(t,i,s&&e&&e.i!==3&&!d_(e.R,r)?s.concat(r):void 0);if(MHe(n,r,a),!o0(a))return;t.m=!1}else o&&n.add(i);if(a0(i)&&!sne(i)){if(!t.h.D&&t._<1)return;GM(t,i),e&&e.A.l||qM(t,i)}}function qM(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&ine(e,n)}function vU(t,e){var n=t[Hs];return(n?Db(n):t)[e]}function G0e(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function F1(t){t.P||(t.P=!0,t.l&&F1(t.l))}function yU(t){t.o||(t.o=rne(t.t))}function qq(t,e,n){var r=tne(e)?sm("MapSet").F(e,n):nne(e)?sm("MapSet").T(e,n):t.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:Wq(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=BA;o&&(l=[a],u=RT);var d=Proxy.revocable(l,u),f=d.revoke,h=d.proxy;return a.k=h,a.j=f,h}(e,n):sm("ES5").J(e,n);return(n?n.A:Wq()).p.push(r),r}function Uan(t){return o0(t)||yh(22,t),function e(n){if(!a0(n))return n;var r,i=n[Hs],s=rE(n);if(i){if(!i.P&&(i.i<4||!sm("ES5").K(i)))return i.t;i.I=!0,r=q0e(n,s),i.I=!1}else r=q0e(n,s);return zx(r,function(o,a){i&&Fan(i.t,o)===a||MHe(r,o,e(a))}),s===3?new Set(r):r}(t)}function q0e(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return rne(t)}function Han(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[Hs];return BA.get(l,s)},set:function(l){var u=this[Hs];BA.set(u,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][Hs];if(!a.P)switch(a.i){case 5:r(a)&&F1(a);break;case 4:n(a)&&F1(a)}}}function n(s){for(var o=s.t,a=s.k,l=f_(a),u=l.length-1;u>=0;u--){var d=l[u];if(d!==Hs){var f=o[d];if(f===void 0&&!d_(o,d))return!0;var h=a[d],p=h&&h[Hs];if(p?p.t!==f:!$He(h,f))return!0}}var g=!!o[Hs];return l.length!==f_(o).length+(g?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};Nan("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(d,f){if(d){for(var h=Array(f.length),p=0;p<f.length;p++)Object.defineProperty(h,""+p,t(p,!0));return h}var g=BHe(f);delete g[Hs];for(var v=f_(g),y=0;y<v.length;y++){var x=v[y];g[x]=t(x,d||!!g[x].enumerable)}return Object.create(Object.getPrototypeOf(f),g)}(a,s),u={i:a?5:4,A:o?o.A:Wq(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,Hs,{value:u,writable:!0}),l},S:function(s,o,a){a?o0(o)&&o[Hs].A===s&&e(s.p):(s.u&&function l(u){if(u&&typeof u=="object"){var d=u[Hs];if(d){var f=d.t,h=d.k,p=d.R,g=d.i;if(g===4)zx(h,function(_){_!==Hs&&(f[_]!==void 0||d_(f,_)?p[_]||l(h[_]):(p[_]=!0,F1(d)))}),zx(f,function(_){h[_]!==void 0||d_(h,_)||(p[_]=!1,F1(d))});else if(g===5){if(r(d)&&(F1(d),p.length=!0),h.length<f.length)for(var v=h.length;v<f.length;v++)p[v]=!1;else for(var y=f.length;y<h.length;y++)p[y]=!0;for(var x=Math.min(h.length,f.length),b=0;b<x;b++)h.hasOwnProperty(b)||(p[b]=!0),p[b]===void 0&&l(h[b])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var Y0e,FA,one=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",zan=typeof Map<"u",Wan=typeof Set<"u",K0e=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",FHe=one?Symbol.for("immer-nothing"):((Y0e={})["immer-nothing"]=!0,Y0e),Z0e=one?Symbol.for("immer-draftable"):"__$immer_draftable",Hs=one?Symbol.for("immer-state"):"__$immer_state",Gan=""+Object.prototype.constructor,f_=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,BHe=Object.getOwnPropertyDescriptors||function(t){var e={};return f_(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},Yq={},BA={get:function(t,e){if(e===Hs)return t;var n=Db(t);if(!d_(n,e))return function(i,s,o){var a,l=G0e(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!a0(r)?r:r===vU(t.t,e)?(yU(t),t.o[e]=qq(t.A.h,r,t)):r},has:function(t,e){return e in Db(t)},ownKeys:function(t){return Reflect.ownKeys(Db(t))},set:function(t,e,n){var r=G0e(Db(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=vU(Db(t),e),s=i==null?void 0:i[Hs];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if($He(n,i)&&(n!==void 0||d_(t.t,e)))return!0;yU(t),F1(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return vU(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,yU(t),F1(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Db(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){yh(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){yh(12)}},RT={};zx(BA,function(t,e){RT[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),RT.deleteProperty=function(t,e){return RT.set.call(this,t,e,void 0)},RT.set=function(t,e,n){return BA.set.call(this,t[0],e,n,t[0])};var qan=function(){function t(n){var r=this;this.O=K0e,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(v){var y=this;v===void 0&&(v=a);for(var x=arguments.length,b=Array(x>1?x-1:0),_=1;_<x;_++)b[_-1]=arguments[_];return l.produce(v,function(C){var S;return(S=s).call.apply(S,[y,C].concat(b))})}}var u;if(typeof s!="function"&&yh(6),o!==void 0&&typeof o!="function"&&yh(7),a0(i)){var d=z0e(r),f=qq(r,i,void 0),h=!0;try{u=s(f),h=!1}finally{h?WM(d):Gq(d)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(v){return mU(d,o),gU(v,d)},function(v){throw WM(d),v}):(mU(d,o),gU(u,d))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===FHe&&(u=void 0),r.D&&ine(u,!0),o){var p=[],g=[];sm("Patches").M(i,u,p,g),o(p,g)}return u}yh(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var d=arguments.length,f=Array(d>1?d-1:0),h=1;h<d;h++)f[h-1]=arguments[h];return r.produceWithPatches(u,function(p){return i.apply(void 0,[p].concat(f))})};var o,a,l=r.produce(i,s,function(u,d){o=u,a=d});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){a0(n)||yh(8),o0(n)&&(n=Uan(n));var r=z0e(this),i=qq(this,n,void 0);return i[Hs].C=!0,Gq(r),i},e.finishDraft=function(n,r){var i=n&&n[Hs],s=i.A;return mU(s,r),gU(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!K0e&&yh(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=sm("Patches").$;return o0(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),Id=new qan,iE=Id.produce;Id.produceWithPatches.bind(Id);Id.setAutoFreeze.bind(Id);Id.setUseProxies.bind(Id);Id.applyPatches.bind(Id);var X0e=Id.createDraft.bind(Id),Q0e=Id.finishDraft.bind(Id);function Rm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var YM=new WeakMap,KM=new WeakMap,kS=new WeakMap,J0e=new WeakMap,e1e=new WeakMap,t1e=new WeakMap,n1e=new WeakMap;function r1e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r1e(Object(n),!0).forEach(function(r){Rm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r1e(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Yan=()=>{var t={children:[],operations:[],selection:null,marks:null,isInline:()=>!1,isVoid:()=>!1,onChange:()=>{},apply:e=>{for(var n of Y.pathRefs(t))Sln.transform(n,e);for(var r of Y.pointRefs(t))Tln.transform(r,e);for(var i of Y.rangeRefs(t))Iln.transform(i,e);var s=YM.get(t)||[],o=KM.get(t)||new Set,a,l,u=g=>{if(g){var v=g.join(",");l.has(v)||(l.add(v),a.push(g))}};if(Ae.operationCanTransformPath(e)){a=[],l=new Set;for(var d of s){var f=Ae.transform(d,e);u(f)}}else a=s,l=o;var h=Kan(e);for(var p of h)u(p);YM.set(t,a),KM.set(t,l),je.transform(t,e),t.operations.push(e),Y.normalize(t),e.type==="set_selection"&&(t.marks=null),kS.get(t)||(kS.set(t,!0),Promise.resolve().then(()=>{kS.set(t,!1),t.onChange(),t.operations=[]}))},addMark:(e,n)=>{var{selection:r}=t;if(r)if(Ve.isExpanded(r))je.setNodes(t,{[e]:n},{match:gt.isText,split:!0});else{var i=u4(u4({},Y.marks(t)||{}),{},{[e]:n});t.marks=i,kS.get(t)||t.onChange()}},deleteBackward:e=>{var{selection:n}=t;n&&Ve.isCollapsed(n)&&je.delete(t,{unit:e,reverse:!0})},deleteForward:e=>{var{selection:n}=t;n&&Ve.isCollapsed(n)&&je.delete(t,{unit:e})},deleteFragment:e=>{var{selection:n}=t;n&&Ve.isExpanded(n)&&je.delete(t,{reverse:e==="backward"})},getFragment:()=>{var{selection:e}=t;return e?bt.fragment(t,e):[]},insertBreak:()=>{je.splitNodes(t,{always:!0})},insertSoftBreak:()=>{je.splitNodes(t,{always:!0})},insertFragment:e=>{je.insertFragment(t,e)},insertNode:e=>{je.insertNodes(t,e)},insertText:e=>{var{selection:n,marks:r}=t;if(n){if(r){var i=u4({text:e},r);je.insertNodes(t,i)}else je.insertText(t,e);t.marks=null}},normalizeNode:e=>{var[n,r]=e;if(!gt.isText(n)){if(Rn.isElement(n)&&n.children.length===0){var i={text:""};je.insertNodes(t,i,{at:r.concat(0),voids:!0});return}for(var s=Y.isEditor(n)?!1:Rn.isElement(n)&&(t.isInline(n)||n.children.length===0||gt.isText(n.children[0])||t.isInline(n.children[0])),o=0,a=0;a<n.children.length;a++,o++){var l=bt.get(t,r);if(!gt.isText(l)){var u=n.children[a],d=l.children[o-1],f=a===n.children.length-1,h=gt.isText(u)||Rn.isElement(u)&&t.isInline(u);if(h!==s)je.removeNodes(t,{at:r.concat(o),voids:!0}),o--;else if(Rn.isElement(u)){if(t.isInline(u)){if(d==null||!gt.isText(d)){var p={text:""};je.insertNodes(t,p,{at:r.concat(o),voids:!0}),o++}else if(f){var g={text:""};je.insertNodes(t,g,{at:r.concat(o+1),voids:!0}),o++}}}else d!=null&&gt.isText(d)&&(gt.equals(u,d,{loose:!0})?(je.mergeNodes(t,{at:r.concat(o),voids:!0}),o--):d.text===""?(je.removeNodes(t,{at:r.concat(o-1),voids:!0}),o--):u.text===""&&(je.removeNodes(t,{at:r.concat(o),voids:!0}),o--))}}}},removeMark:e=>{var{selection:n}=t;if(n)if(Ve.isExpanded(n))je.unsetNodes(t,e,{match:gt.isText,split:!0});else{var r=u4({},Y.marks(t)||{});delete r[e],t.marks=r,kS.get(t)||t.onChange()}}};return t},Kan=t=>{switch(t.type){case"insert_text":case"remove_text":case"set_node":{var{path:e}=t;return Ae.levels(e)}case"insert_node":{var{node:n,path:r}=t,i=Ae.levels(r),s=gt.isText(n)?[]:Array.from(bt.nodes(n),I=>{var[,D]=I;return r.concat(D)});return[...i,...s]}case"merge_node":{var{path:o}=t,a=Ae.ancestors(o),l=Ae.previous(o);return[...a,l]}case"move_node":{var{path:u,newPath:d}=t;if(Ae.equals(u,d))return[];var f=[],h=[];for(var p of Ae.ancestors(u)){var g=Ae.transform(p,t);f.push(g)}for(var v of Ae.ancestors(d)){var y=Ae.transform(v,t);h.push(y)}var x=h[h.length-1],b=d[d.length-1],_=x.concat(b);return[...f,...h,_]}case"remove_node":{var{path:C}=t,S=Ae.ancestors(C);return[...S]}case"split_node":{var{path:T}=t,A=Ae.levels(T),k=Ae.next(T);return[...A,k]}default:return[]}};function Zan(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function l0(t,e){if(t==null)return{};var n=Zan(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var ane=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=!n,i=n?nln(e):e,s=zn.None,o=zn.None,a=0,l=null,u=null;for(var d of i){var f=d.codePointAt(0);if(!f)break;var h=pln(d,f);if([s,o]=r?[o,h]:[h,s],R5(s,zn.ZWJ)&&R5(o,zn.ExtPict)&&(r?l=i1e(e.substring(0,a)):l=i1e(e.substring(0,e.length-a)),!l)||R5(s,zn.RI)&&R5(o,zn.RI)&&(u!==null?u=!u:r?u=!0:u=bln(e.substring(0,e.length-a)),!u)||s!==zn.None&&o!==zn.None&&gln(s,o))break;a+=d.length}return a||1},Xan=/\s/,Qan=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Jan=/['\u2018\u2019]/,eln=function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=0,i=!1;e.length>0;){var s=ane(e,n),[o,a]=lne(e,s,n);if(tln(o,a,n))i=!0,r+=s;else if(!i)r+=s;else break;e=a}return r},lne=(t,e,n)=>{if(n){var r=t.length-e;return[t.slice(r,t.length),t.slice(0,r)]}return[t.slice(0,e),t.slice(e)]},tln=function t(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(Xan.test(e))return!1;if(Jan.test(e)){var i=ane(n,r),[s,o]=lne(n,i,r);if(t(s,o,r))return!0}return!Qan.test(e)},nln=function*(e){for(var n=e.length-1,r=0;r<e.length;r++){var i=e.charAt(n-r);if(iln(i.charCodeAt(0))){var s=e.charAt(n-r-1);if(rln(s.charCodeAt(0))){yield s+i,r++;continue}}yield i}},rln=t=>t>=55296&&t<=56319,iln=t=>t>=56320&&t<=57343,zn;(function(t){t[t.None=0]="None",t[t.Extend=1]="Extend",t[t.ZWJ=2]="ZWJ",t[t.RI=4]="RI",t[t.Prepend=8]="Prepend",t[t.SpacingMark=16]="SpacingMark",t[t.L=32]="L",t[t.V=64]="V",t[t.T=128]="T",t[t.LV=256]="LV",t[t.LVT=512]="LVT",t[t.ExtPict=1024]="ExtPict",t[t.Any=2048]="Any"})(zn||(zn={}));var sln=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,oln=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,aln=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,lln=/^[\u1100-\u115F\uA960-\uA97C]$/,uln=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,cln=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,dln=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,fln=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,hln=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,pln=(t,e)=>{var n=zn.Any;return t.search(sln)!==-1&&(n|=zn.Extend),e===8205&&(n|=zn.ZWJ),e>=127462&&e<=127487&&(n|=zn.RI),t.search(oln)!==-1&&(n|=zn.Prepend),t.search(aln)!==-1&&(n|=zn.SpacingMark),t.search(lln)!==-1&&(n|=zn.L),t.search(uln)!==-1&&(n|=zn.V),t.search(cln)!==-1&&(n|=zn.T),t.search(dln)!==-1&&(n|=zn.LV),t.search(fln)!==-1&&(n|=zn.LVT),t.search(hln)!==-1&&(n|=zn.ExtPict),n};function R5(t,e){return(t&e)!==0}var mln=[[zn.L,zn.L|zn.V|zn.LV|zn.LVT],[zn.LV|zn.V,zn.V|zn.T],[zn.LVT|zn.T,zn.T],[zn.Any,zn.Extend|zn.ZWJ],[zn.Any,zn.SpacingMark],[zn.Prepend,zn.Any],[zn.ZWJ,zn.ExtPict],[zn.RI,zn.RI]];function gln(t,e){return mln.findIndex(n=>R5(t,n[0])&&R5(e,n[1]))===-1}var vln=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,i1e=t=>t.search(vln)!==-1,yln=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,bln=t=>{var e=t.match(yln);if(e===null)return!1;var n=e[0].length/2;return n%2===1},s1e=t=>_l(t)&&bt.isNodeList(t.children)&&!Y.isEditor(t),Rn={isAncestor(t){return _l(t)&&bt.isNodeList(t.children)},isElement:s1e,isElementList(t){return Array.isArray(t)&&t.every(e=>Rn.isElement(e))},isElementProps(t){return t.children!==void 0},isElementType:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return s1e(e)&&e[r]===n},matches(t,e){for(var n in e)if(n!=="children"&&t[n]!==e[n])return!1;return!0}},xln=["text"],wln=["text"];function o1e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o1e(Object(n),!0).forEach(function(r){Rm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o1e(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var a1e=new WeakMap,Y={above(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:n=!1,mode:r="lowest",at:i=t.selection,match:s}=e;if(i){var o=Y.path(t,i),a=r==="lowest";for(var[l,u]of Y.levels(t,{at:o,voids:n,match:s,reverse:a}))if(!gt.isText(l)&&!Ae.equals(o,u))return[l,u]}},addMark(t,e,n){t.addMark(e,n)},after(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=Y.point(t,e,{edge:"end"}),i=Y.end(t,[]),s={anchor:r,focus:i},{distance:o=1}=n,a=0,l;for(var u of Y.positions(t,u2(u2({},n),{},{at:s}))){if(a>o)break;a!==0&&(l=u),a++}return l},before(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=Y.start(t,[]),i=Y.point(t,e,{edge:"start"}),s={anchor:r,focus:i},{distance:o=1}=n,a=0,l;for(var u of Y.positions(t,u2(u2({},n),{},{at:s,reverse:!0}))){if(a>o)break;a!==0&&(l=u),a++}return l},deleteBackward(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=e;t.deleteBackward(n)},deleteForward(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=e;t.deleteForward(n)},deleteFragment(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{direction:n="forward"}=e;t.deleteFragment(n)},edges(t,e){return[Y.start(t,e),Y.end(t,e)]},end(t,e){return Y.point(t,e,{edge:"end"})},first(t,e){var n=Y.path(t,e,{edge:"start"});return Y.node(t,n)},fragment(t,e){var n=Y.range(t,e),r=bt.fragment(t,n);return r},hasBlocks(t,e){return e.children.some(n=>Y.isBlock(t,n))},hasInlines(t,e){return e.children.some(n=>gt.isText(n)||Y.isInline(t,n))},hasTexts(t,e){return e.children.every(n=>gt.isText(n))},insertBreak(t){t.insertBreak()},insertSoftBreak(t){t.insertSoftBreak()},insertFragment(t,e){t.insertFragment(e)},insertNode(t,e){t.insertNode(e)},insertText(t,e){t.insertText(e)},isBlock(t,e){return Rn.isElement(e)&&!t.isInline(e)},isEditor(t){if(!_l(t))return!1;var e=a1e.get(t);if(e!==void 0)return e;var n=typeof t.addMark=="function"&&typeof t.apply=="function"&&typeof t.deleteBackward=="function"&&typeof t.deleteForward=="function"&&typeof t.deleteFragment=="function"&&typeof t.insertBreak=="function"&&typeof t.insertSoftBreak=="function"&&typeof t.insertFragment=="function"&&typeof t.insertNode=="function"&&typeof t.insertText=="function"&&typeof t.isInline=="function"&&typeof t.isVoid=="function"&&typeof t.normalizeNode=="function"&&typeof t.onChange=="function"&&typeof t.removeMark=="function"&&(t.marks===null||_l(t.marks))&&(t.selection===null||Ve.isRange(t.selection))&&bt.isNodeList(t.children)&&j5.isOperationList(t.operations);return a1e.set(t,n),n},isEnd(t,e,n){var r=Y.end(t,n);return Wr.equals(e,r)},isEdge(t,e,n){return Y.isStart(t,e,n)||Y.isEnd(t,e,n)},isEmpty(t,e){var{children:n}=e,[r]=n;return n.length===0||n.length===1&&gt.isText(r)&&r.text===""&&!t.isVoid(e)},isInline(t,e){return Rn.isElement(e)&&t.isInline(e)},isNormalizing(t){var e=J0e.get(t);return e===void 0?!0:e},isStart(t,e,n){if(e.offset!==0)return!1;var r=Y.start(t,n);return Wr.equals(e,r)},isVoid(t,e){return Rn.isElement(e)&&t.isVoid(e)},last(t,e){var n=Y.path(t,e,{edge:"end"});return Y.node(t,n)},leaf(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=Y.path(t,e,n),i=bt.leaf(t,r);return[i,r]},*levels(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=t.selection,reverse:r=!1,voids:i=!1}=e,{match:s}=e;if(s==null&&(s=()=>!0),!!n){var o=[],a=Y.path(t,n);for(var[l,u]of bt.levels(t,a))if(s(l,u)&&(o.push([l,u]),!i&&Y.isVoid(t,l)))break;r&&o.reverse(),yield*o}},marks(t){var{marks:e,selection:n}=t;if(!n)return null;if(e)return e;if(Ve.isExpanded(n)){var[r]=Y.nodes(t,{match:gt.isText});if(r){var[i]=r,s=l0(i,xln);return s}else return{}}var{anchor:o}=n,{path:a}=o,[l]=Y.leaf(t,a);if(o.offset===0){var u=Y.previous(t,{at:a,match:gt.isText}),d=Y.above(t,{match:v=>Y.isBlock(t,v)});if(u&&d){var[f,h]=u,[,p]=d;Ae.isAncestor(p,h)&&(l=f)}}var g=l0(l,wln);return g},next(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:r=!1}=e,{match:i,at:s=t.selection}=e;if(s){var o=Y.after(t,s,{voids:r});if(o){var[,a]=Y.last(t,[]),l=[o.path,a];if(Ae.isPath(s)&&s.length===0)throw new Error("Cannot get the next node from the root node!");if(i==null)if(Ae.isPath(s)){var[u]=Y.parent(t,s);i=f=>u.children.includes(f)}else i=()=>!0;var[d]=Y.nodes(t,{at:l,match:i,mode:n,voids:r});return d}}},node(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=Y.path(t,e,n),i=bt.get(t,r);return[i,r]},*nodes(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=t.selection,mode:r="all",universal:i=!1,reverse:s=!1,voids:o=!1}=e,{match:a}=e;if(a||(a=()=>!0),!!n){var l,u;if(_ln.isSpan(n))l=n[0],u=n[1];else{var d=Y.path(t,n,{edge:"start"}),f=Y.path(t,n,{edge:"end"});l=s?f:d,u=s?d:f}var h=bt.nodes(t,{reverse:s,from:l,to:u,pass:_=>{var[C]=_;return o?!1:Y.isVoid(t,C)}}),p=[],g;for(var[v,y]of h){var x=g&&Ae.compare(y,g[1])===0;if(!(r==="highest"&&x)){if(!a(v,y)){if(i&&!x&&gt.isText(v))return;continue}if(r==="lowest"&&x){g=[v,y];continue}var b=r==="lowest"?g:[v,y];b&&(i?p.push(b):yield b),g=[v,y]}}r==="lowest"&&g&&(i?p.push(g):yield g),i&&(yield*p)}},normalize(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:n=!1}=e,r=l=>YM.get(l)||[],i=l=>KM.get(l)||new Set,s=l=>{var u=r(l).pop(),d=u.join(",");return i(l).delete(d),u};if(Y.isNormalizing(t)){if(n){var o=Array.from(bt.nodes(t),l=>{var[,u]=l;return u}),a=new Set(o.map(l=>l.join(",")));YM.set(t,o),KM.set(t,a)}r(t).length!==0&&Y.withoutNormalizing(t,()=>{for(var l of r(t))if(bt.has(t,l)){var u=Y.node(t,l),[d,f]=u;Rn.isElement(d)&&d.children.length===0&&t.normalizeNode(u)}for(var h=r(t).length*42,p=0;r(t).length!==0;){if(p>h)throw new Error(`
            Could not completely normalize the editor after `.concat(h,` iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.
          `));var g=s(t);if(bt.has(t,g)){var v=Y.node(t,g);t.normalizeNode(v)}p++}})}},parent(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=Y.path(t,e,n),i=Ae.parent(r),s=Y.node(t,i);return s},path(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:r,edge:i}=n;if(Ae.isPath(e)){if(i==="start"){var[,s]=bt.first(t,e);e=s}else if(i==="end"){var[,o]=bt.last(t,e);e=o}}return Ve.isRange(e)&&(i==="start"?e=Ve.start(e):i==="end"?e=Ve.end(e):e=Ae.common(e.anchor.path,e.focus.path)),Wr.isPoint(e)&&(e=e.path),r!=null&&(e=e.slice(0,r)),e},hasPath(t,e){return bt.has(t,e)},pathRef(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:r="forward"}=n,i={current:e,affinity:r,unref(){var{current:o}=i,a=Y.pathRefs(t);return a.delete(i),i.current=null,o}},s=Y.pathRefs(t);return s.add(i),i},pathRefs(t){var e=e1e.get(t);return e||(e=new Set,e1e.set(t,e)),e},point(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:r="start"}=n;if(Ae.isPath(e)){var i;if(r==="end"){var[,s]=bt.last(t,e);i=s}else{var[,o]=bt.first(t,e);i=o}var a=bt.get(t,i);if(!gt.isText(a))throw new Error("Cannot get the ".concat(r," point in the node at path [").concat(e,"] because it has no ").concat(r," text node."));return{path:i,offset:r==="end"?a.text.length:0}}if(Ve.isRange(e)){var[l,u]=Ve.edges(e);return r==="start"?l:u}return e},pointRef(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:r="forward"}=n,i={current:e,affinity:r,unref(){var{current:o}=i,a=Y.pointRefs(t);return a.delete(i),i.current=null,o}},s=Y.pointRefs(t);return s.add(i),i},pointRefs(t){var e=t1e.get(t);return e||(e=new Set,t1e.set(t,e)),e},*positions(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=t.selection,unit:r="offset",reverse:i=!1,voids:s=!1}=e;if(!n)return;var o=Y.range(t,n),[a,l]=Ve.edges(o),u=i?l:a,d=!1,f="",h=0,p=0,g=0;for(var[v,y]of Y.nodes(t,{at:n,reverse:i,voids:s})){if(Rn.isElement(v)){if(!s&&t.isVoid(v)){yield Y.start(t,y);continue}if(t.isInline(v))continue;if(Y.hasInlines(t,v)){var x=Ae.isAncestor(y,l.path)?l:Y.end(t,y),b=Ae.isAncestor(y,a.path)?a:Y.start(t,y);f=Y.string(t,{anchor:b,focus:x},{voids:s}),d=!0}}if(gt.isText(v)){var _=Ae.equals(y,u.path);for(_?(p=i?u.offset:v.text.length-u.offset,g=u.offset):(p=v.text.length,g=i?p:0),(_||d||r==="offset")&&(yield{path:y,offset:g},d=!1);;){if(h===0){if(f==="")break;h=C(f,r,i),f=lne(f,h,i)[1]}if(g=i?g-h:g+h,p=p-h,p<0){h=-p;break}h=0,yield{path:y,offset:g}}}}function C(S,T,A){return T==="character"?ane(S,A):T==="word"?eln(S,A):T==="line"||T==="block"?S.length:1}},previous(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:r=!1}=e,{match:i,at:s=t.selection}=e;if(s){var o=Y.before(t,s,{voids:r});if(o){var[,a]=Y.first(t,[]),l=[o.path,a];if(Ae.isPath(s)&&s.length===0)throw new Error("Cannot get the previous node from the root node!");if(i==null)if(Ae.isPath(s)){var[u]=Y.parent(t,s);i=f=>u.children.includes(f)}else i=()=>!0;var[d]=Y.nodes(t,{reverse:!0,at:l,match:i,mode:n,voids:r});return d}}},range(t,e,n){if(Ve.isRange(e)&&!n)return e;var r=Y.start(t,e),i=Y.end(t,n||e);return{anchor:r,focus:i}},rangeRef(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:r="forward"}=n,i={current:e,affinity:r,unref(){var{current:o}=i,a=Y.rangeRefs(t);return a.delete(i),i.current=null,o}},s=Y.rangeRefs(t);return s.add(i),i},rangeRefs(t){var e=n1e.get(t);return e||(e=new Set,n1e.set(t,e)),e},removeMark(t,e){t.removeMark(e)},setNormalizing(t,e){J0e.set(t,e)},start(t,e){return Y.point(t,e,{edge:"start"})},string(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:r=!1}=n,i=Y.range(t,e),[s,o]=Ve.edges(i),a="";for(var[l,u]of Y.nodes(t,{at:i,match:gt.isText,voids:r})){var d=l.text;Ae.equals(u,o.path)&&(d=d.slice(0,o.offset)),Ae.equals(u,s.path)&&(d=d.slice(s.offset)),a+=d}return a},unhangRange(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:r=!1}=n,[i,s]=Ve.edges(e);if(i.offset!==0||s.offset!==0||Ve.isCollapsed(e))return e;var o=Y.above(t,{at:s,match:p=>Y.isBlock(t,p)}),a=o?o[1]:[],l=Y.start(t,i),u={anchor:l,focus:s},d=!0;for(var[f,h]of Y.nodes(t,{at:u,match:gt.isText,reverse:!0,voids:r})){if(d){d=!1;continue}if(f.text!==""||Ae.isBefore(h,a)){s={path:h,offset:f.text.length};break}}return{anchor:i,focus:s}},void(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Y.above(t,u2(u2({},e),{},{match:n=>Y.isVoid(t,n)}))},withoutNormalizing(t,e){var n=Y.isNormalizing(t);Y.setNormalizing(t,!1);try{e()}finally{Y.setNormalizing(t,n)}Y.normalize(t)}},_ln={isSpan(t){return Array.isArray(t)&&t.length===2&&t.every(Ae.isPath)}},Cln=["children"],Eln=["text"],l1e=new WeakMap,bt={ancestor(t,e){var n=bt.get(t,e);if(gt.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(e,"] because it refers to a text node instead: ").concat(Za.stringify(n)));return n},*ancestors(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var r of Ae.ancestors(e,n)){var i=bt.ancestor(t,r),s=[i,r];yield s}},child(t,e){if(gt.isText(t))throw new Error("Cannot get the child of a text node: ".concat(Za.stringify(t)));var n=t.children[e];if(n==null)throw new Error("Cannot get child at index `".concat(e,"` in node: ").concat(Za.stringify(t)));return n},*children(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{reverse:r=!1}=n,i=bt.ancestor(t,e),{children:s}=i,o=r?s.length-1:0;r?o>=0:o<s.length;){var a=bt.child(i,o),l=e.concat(o);yield[a,l],o=r?o-1:o+1}},common(t,e,n){var r=Ae.common(e,n),i=bt.get(t,r);return[i,r]},descendant(t,e){var n=bt.get(t,e);if(Y.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(e,"] because it refers to the root editor node instead: ").concat(Za.stringify(n)));return n},*descendants(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,r]of bt.nodes(t,e))r.length!==0&&(yield[n,r])},*elements(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,r]of bt.nodes(t,e))Rn.isElement(n)&&(yield[n,r])},extractProps(t){if(Rn.isAncestor(t)){var e=l0(t,Cln);return e}else{var e=l0(t,Eln);return e}},first(t,e){for(var n=e.slice(),r=bt.get(t,n);r&&!(gt.isText(r)||r.children.length===0);)r=r.children[0],n.push(0);return[r,n]},fragment(t,e){if(gt.isText(t))throw new Error("Cannot get a fragment starting from a root text node: ".concat(Za.stringify(t)));var n=iE({children:t.children},r=>{var[i,s]=Ve.edges(e),o=bt.nodes(r,{reverse:!0,pass:h=>{var[,p]=h;return!Ve.includes(e,p)}});for(var[,a]of o){if(!Ve.includes(e,a)){var l=bt.parent(r,a),u=a[a.length-1];l.children.splice(u,1)}if(Ae.equals(a,s.path)){var d=bt.leaf(r,a);d.text=d.text.slice(0,s.offset)}if(Ae.equals(a,i.path)){var f=bt.leaf(r,a);f.text=f.text.slice(i.offset)}}Y.isEditor(r)&&(r.selection=null)});return n.children},get(t,e){for(var n=t,r=0;r<e.length;r++){var i=e[r];if(gt.isText(n)||!n.children[i])throw new Error("Cannot find a descendant at path [".concat(e,"] in node: ").concat(Za.stringify(t)));n=n.children[i]}return n},has(t,e){for(var n=t,r=0;r<e.length;r++){var i=e[r];if(gt.isText(n)||!n.children[i])return!1;n=n.children[i]}return!0},isNode(t){return gt.isText(t)||Rn.isElement(t)||Y.isEditor(t)},isNodeList(t){if(!Array.isArray(t))return!1;var e=l1e.get(t);if(e!==void 0)return e;var n=t.every(r=>bt.isNode(r));return l1e.set(t,n),n},last(t,e){for(var n=e.slice(),r=bt.get(t,n);r&&!(gt.isText(r)||r.children.length===0);){var i=r.children.length-1;r=r.children[i],n.push(i)}return[r,n]},leaf(t,e){var n=bt.get(t,e);if(!gt.isText(n))throw new Error("Cannot get the leaf node at path [".concat(e,"] because it refers to a non-leaf node: ").concat(Za.stringify(n)));return n},*levels(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var r of Ae.levels(e,n)){var i=bt.get(t,r);yield[i,r]}},matches(t,e){return Rn.isElement(t)&&Rn.isElementProps(e)&&Rn.matches(t,e)||gt.isText(t)&&gt.isTextProps(e)&&gt.matches(t,e)},*nodes(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{pass:n,reverse:r=!1}=e,{from:i=[],to:s}=e,o=new Set,a=[],l=t;!(s&&(r?Ae.isBefore(a,s):Ae.isAfter(a,s)));){if(o.has(l)||(yield[l,a]),!o.has(l)&&!gt.isText(l)&&l.children.length!==0&&(n==null||n([l,a])===!1)){o.add(l);var u=r?l.children.length-1:0;Ae.isAncestor(a,i)&&(u=i[a.length]),a=a.concat(u),l=bt.get(t,a);continue}if(a.length===0)break;if(!r){var d=Ae.next(a);if(bt.has(t,d)){a=d,l=bt.get(t,a);continue}}if(r&&a[a.length-1]!==0){var f=Ae.previous(a);a=f,l=bt.get(t,a);continue}a=Ae.parent(a),l=bt.get(t,a),o.add(l)}},parent(t,e){var n=Ae.parent(e),r=bt.get(t,n);if(gt.isText(r))throw new Error("Cannot get the parent of path [".concat(e,"] because it does not exist in the root."));return r},string(t){return gt.isText(t)?t.text:t.children.map(bt.string).join("")},*texts(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,r]of bt.nodes(t,e))gt.isText(n)&&(yield[n,r])}};function u1e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u1e(Object(n),!0).forEach(function(r){Rm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u1e(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var j5={isNodeOperation(t){return j5.isOperation(t)&&t.type.endsWith("_node")},isOperation(t){if(!_l(t))return!1;switch(t.type){case"insert_node":return Ae.isPath(t.path)&&bt.isNode(t.node);case"insert_text":return typeof t.offset=="number"&&typeof t.text=="string"&&Ae.isPath(t.path);case"merge_node":return typeof t.position=="number"&&Ae.isPath(t.path)&&_l(t.properties);case"move_node":return Ae.isPath(t.path)&&Ae.isPath(t.newPath);case"remove_node":return Ae.isPath(t.path)&&bt.isNode(t.node);case"remove_text":return typeof t.offset=="number"&&typeof t.text=="string"&&Ae.isPath(t.path);case"set_node":return Ae.isPath(t.path)&&_l(t.properties)&&_l(t.newProperties);case"set_selection":return t.properties===null&&Ve.isRange(t.newProperties)||t.newProperties===null&&Ve.isRange(t.properties)||_l(t.properties)&&_l(t.newProperties);case"split_node":return Ae.isPath(t.path)&&typeof t.position=="number"&&_l(t.properties);default:return!1}},isOperationList(t){return Array.isArray(t)&&t.every(e=>j5.isOperation(e))},isSelectionOperation(t){return j5.isOperation(t)&&t.type.endsWith("_selection")},isTextOperation(t){return j5.isOperation(t)&&t.type.endsWith("_text")},inverse(t){switch(t.type){case"insert_node":return Bs(Bs({},t),{},{type:"remove_node"});case"insert_text":return Bs(Bs({},t),{},{type:"remove_text"});case"merge_node":return Bs(Bs({},t),{},{type:"split_node",path:Ae.previous(t.path)});case"move_node":{var{newPath:e,path:n}=t;if(Ae.equals(e,n))return t;if(Ae.isSibling(n,e))return Bs(Bs({},t),{},{path:e,newPath:n});var r=Ae.transform(n,t),i=Ae.transform(Ae.next(n),t);return Bs(Bs({},t),{},{path:r,newPath:i})}case"remove_node":return Bs(Bs({},t),{},{type:"insert_node"});case"remove_text":return Bs(Bs({},t),{},{type:"insert_text"});case"set_node":{var{properties:s,newProperties:o}=t;return Bs(Bs({},t),{},{properties:o,newProperties:s})}case"set_selection":{var{properties:a,newProperties:l}=t;return a==null?Bs(Bs({},t),{},{properties:l,newProperties:null}):l==null?Bs(Bs({},t),{},{properties:null,newProperties:a}):Bs(Bs({},t),{},{properties:l,newProperties:a})}case"split_node":return Bs(Bs({},t),{},{type:"merge_node",path:Ae.next(t.path)})}}},Ae={ancestors(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=e,r=Ae.levels(t,e);return n?r=r.slice(1):r=r.slice(0,-1),r},common(t,e){for(var n=[],r=0;r<t.length&&r<e.length;r++){var i=t[r],s=e[r];if(i!==s)break;n.push(i)}return n},compare(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){if(t[r]<e[r])return-1;if(t[r]>e[r])return 1}return 0},endsAfter(t,e){var n=t.length-1,r=t.slice(0,n),i=e.slice(0,n),s=t[n],o=e[n];return Ae.equals(r,i)&&s>o},endsAt(t,e){var n=t.length,r=t.slice(0,n),i=e.slice(0,n);return Ae.equals(r,i)},endsBefore(t,e){var n=t.length-1,r=t.slice(0,n),i=e.slice(0,n),s=t[n],o=e[n];return Ae.equals(r,i)&&s<o},equals(t,e){return t.length===e.length&&t.every((n,r)=>n===e[r])},hasPrevious(t){return t[t.length-1]>0},isAfter(t,e){return Ae.compare(t,e)===1},isAncestor(t,e){return t.length<e.length&&Ae.compare(t,e)===0},isBefore(t,e){return Ae.compare(t,e)===-1},isChild(t,e){return t.length===e.length+1&&Ae.compare(t,e)===0},isCommon(t,e){return t.length<=e.length&&Ae.compare(t,e)===0},isDescendant(t,e){return t.length>e.length&&Ae.compare(t,e)===0},isParent(t,e){return t.length+1===e.length&&Ae.compare(t,e)===0},isPath(t){return Array.isArray(t)&&(t.length===0||typeof t[0]=="number")},isSibling(t,e){if(t.length!==e.length)return!1;var n=t.slice(0,-1),r=e.slice(0,-1),i=t[t.length-1],s=e[e.length-1];return i!==s&&Ae.equals(n,r)},levels(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=e,r=[],i=0;i<=t.length;i++)r.push(t.slice(0,i));return n&&r.reverse(),r},next(t){if(t.length===0)throw new Error("Cannot get the next path of a root path [".concat(t,"], because it has no next index."));var e=t[t.length-1];return t.slice(0,-1).concat(e+1)},operationCanTransformPath(t){switch(t.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(t){if(t.length===0)throw new Error("Cannot get the parent path of the root path [".concat(t,"]."));return t.slice(0,-1)},previous(t){if(t.length===0)throw new Error("Cannot get the previous path of a root path [".concat(t,"], because it has no previous index."));var e=t[t.length-1];if(e<=0)throw new Error("Cannot get the previous path of a first child path [".concat(t,"] because it would result in a negative index."));return t.slice(0,-1).concat(e-1)},relative(t,e){if(!Ae.isAncestor(e,t)&&!Ae.equals(t,e))throw new Error("Cannot get the relative path of [".concat(t,"] inside ancestor [").concat(e,"], because it is not above or equal to the path."));return t.slice(e.length)},transform(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return iE(t,r=>{var{affinity:i="forward"}=n;if(!(!t||(t==null?void 0:t.length)===0)){if(r===null)return null;switch(e.type){case"insert_node":{var{path:s}=e;(Ae.equals(s,r)||Ae.endsBefore(s,r)||Ae.isAncestor(s,r))&&(r[s.length-1]+=1);break}case"remove_node":{var{path:o}=e;if(Ae.equals(o,r)||Ae.isAncestor(o,r))return null;Ae.endsBefore(o,r)&&(r[o.length-1]-=1);break}case"merge_node":{var{path:a,position:l}=e;Ae.equals(a,r)||Ae.endsBefore(a,r)?r[a.length-1]-=1:Ae.isAncestor(a,r)&&(r[a.length-1]-=1,r[a.length]+=l);break}case"split_node":{var{path:u,position:d}=e;if(Ae.equals(u,r)){if(i==="forward")r[r.length-1]+=1;else if(i!=="backward")return null}else Ae.endsBefore(u,r)?r[u.length-1]+=1:Ae.isAncestor(u,r)&&t[u.length]>=d&&(r[u.length-1]+=1,r[u.length]-=d);break}case"move_node":{var{path:f,newPath:h}=e;if(Ae.equals(f,h))return;if(Ae.isAncestor(f,r)||Ae.equals(f,r)){var p=h.slice();return Ae.endsBefore(f,h)&&f.length<h.length&&(p[f.length-1]-=1),p.concat(r.slice(f.length))}else Ae.isSibling(f,h)&&(Ae.isAncestor(h,r)||Ae.equals(h,r))?Ae.endsBefore(f,r)?r[f.length-1]-=1:r[f.length-1]+=1:Ae.endsBefore(h,r)||Ae.equals(h,r)||Ae.isAncestor(h,r)?(Ae.endsBefore(f,r)&&(r[f.length-1]-=1),r[h.length-1]+=1):Ae.endsBefore(f,r)&&(Ae.equals(h,r)&&(r[h.length-1]+=1),r[f.length-1]-=1);break}}}})}},Sln={transform(t,e){var{current:n,affinity:r}=t;if(n!=null){var i=Ae.transform(n,e,{affinity:r});t.current=i,i==null&&t.unref()}}};function c1e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d1e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c1e(Object(n),!0).forEach(function(r){Rm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c1e(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Wr={compare(t,e){var n=Ae.compare(t.path,e.path);return n===0?t.offset<e.offset?-1:t.offset>e.offset?1:0:n},isAfter(t,e){return Wr.compare(t,e)===1},isBefore(t,e){return Wr.compare(t,e)===-1},equals(t,e){return t.offset===e.offset&&Ae.equals(t.path,e.path)},isPoint(t){return _l(t)&&typeof t.offset=="number"&&Ae.isPath(t.path)},transform(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return iE(t,r=>{if(r===null)return null;var{affinity:i="forward"}=n,{path:s,offset:o}=r;switch(e.type){case"insert_node":case"move_node":{r.path=Ae.transform(s,e,n);break}case"insert_text":{Ae.equals(e.path,s)&&(e.offset<o||e.offset===o&&i==="forward")&&(r.offset+=e.text.length);break}case"merge_node":{Ae.equals(e.path,s)&&(r.offset+=e.position),r.path=Ae.transform(s,e,n);break}case"remove_text":{Ae.equals(e.path,s)&&e.offset<=o&&(r.offset-=Math.min(o-e.offset,e.text.length));break}case"remove_node":{if(Ae.equals(e.path,s)||Ae.isAncestor(e.path,s))return null;r.path=Ae.transform(s,e,n);break}case"split_node":{if(Ae.equals(e.path,s)){if(e.position===o&&i==null)return null;(e.position<o||e.position===o&&i==="forward")&&(r.offset-=e.position,r.path=Ae.transform(s,e,d1e(d1e({},n),{},{affinity:"forward"})))}else r.path=Ae.transform(s,e,n);break}}})}},Tln={transform(t,e){var{current:n,affinity:r}=t;if(n!=null){var i=Wr.transform(n,e,{affinity:r});t.current=i,i==null&&t.unref()}}},kln=["anchor","focus"];function f1e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Aln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f1e(Object(n),!0).forEach(function(r){Rm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f1e(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Ve={edges(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=e,{anchor:r,focus:i}=t;return Ve.isBackward(t)===n?[r,i]:[i,r]},end(t){var[,e]=Ve.edges(t);return e},equals(t,e){return Wr.equals(t.anchor,e.anchor)&&Wr.equals(t.focus,e.focus)},includes(t,e){if(Ve.isRange(e)){if(Ve.includes(t,e.anchor)||Ve.includes(t,e.focus))return!0;var[n,r]=Ve.edges(t),[i,s]=Ve.edges(e);return Wr.isBefore(n,i)&&Wr.isAfter(r,s)}var[o,a]=Ve.edges(t),l=!1,u=!1;return Wr.isPoint(e)?(l=Wr.compare(e,o)>=0,u=Wr.compare(e,a)<=0):(l=Ae.compare(e,o.path)>=0,u=Ae.compare(e,a.path)<=0),l&&u},intersection(t,e){var n=l0(t,kln),[r,i]=Ve.edges(t),[s,o]=Ve.edges(e),a=Wr.isBefore(r,s)?s:r,l=Wr.isBefore(i,o)?i:o;return Wr.isBefore(l,a)?null:Aln({anchor:a,focus:l},n)},isBackward(t){var{anchor:e,focus:n}=t;return Wr.isAfter(e,n)},isCollapsed(t){var{anchor:e,focus:n}=t;return Wr.equals(e,n)},isExpanded(t){return!Ve.isCollapsed(t)},isForward(t){return!Ve.isBackward(t)},isRange(t){return _l(t)&&Wr.isPoint(t.anchor)&&Wr.isPoint(t.focus)},*points(t){yield[t.anchor,"anchor"],yield[t.focus,"focus"]},start(t){var[e]=Ve.edges(t);return e},transform(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return iE(t,r=>{if(r===null)return null;var{affinity:i="inward"}=n,s,o;if(i==="inward"){var a=Ve.isCollapsed(r);Ve.isForward(r)?(s="forward",o=a?s:"backward"):(s="backward",o=a?s:"forward")}else i==="outward"?Ve.isForward(r)?(s="backward",o="forward"):(s="forward",o="backward"):(s=i,o=i);var l=Wr.transform(r.anchor,e,{affinity:s}),u=Wr.transform(r.focus,e,{affinity:o});if(!l||!u)return null;r.anchor=l,r.focus=u})}},Iln={transform(t,e){var{current:n,affinity:r}=t;if(n!=null){var i=Ve.transform(n,e,{affinity:r});t.current=i,i==null&&t.unref()}}},h1e=void 0,Za={setScrubber(t){h1e=t},stringify(t){return JSON.stringify(t,h1e)}},NHe=(t,e)=>{for(var n in t){var r=t[n],i=e[n];if(_l(r)&&_l(i)){if(!NHe(r,i))return!1}else if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;for(var s=0;s<r.length;s++)if(r[s]!==i[s])return!1}else if(r!==i)return!1}for(var o in e)if(t[o]===void 0&&e[o]!==void 0)return!1;return!0},Dln=["text"],Rln=["anchor","focus"];function p1e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ng(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p1e(Object(n),!0).forEach(function(r){Rm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p1e(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var gt={equals(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:r=!1}=n;function i(s){var o=l0(s,Dln);return o}return NHe(r?i(t):t,r?i(e):e)},isText(t){return _l(t)&&typeof t.text=="string"},isTextList(t){return Array.isArray(t)&&t.every(e=>gt.isText(e))},isTextProps(t){return t.text!==void 0},matches(t,e){for(var n in e)if(n!=="text"&&(!t.hasOwnProperty(n)||t[n]!==e[n]))return!1;return!0},decorations(t,e){var n=[ng({},t)];for(var r of e){var i=l0(r,Rln),[s,o]=Ve.edges(r),a=[],l=0;for(var u of n){var{length:d}=u.text,f=l;if(l+=d,s.offset<=f&&o.offset>=l){Object.assign(u,i),a.push(u);continue}if(s.offset!==o.offset&&(s.offset===l||o.offset===f)||s.offset>l||o.offset<f||o.offset===f&&f!==0){a.push(u);continue}var h=u,p=void 0,g=void 0;if(o.offset<l){var v=o.offset-f;g=ng(ng({},h),{},{text:h.text.slice(v)}),h=ng(ng({},h),{},{text:h.text.slice(0,v)})}if(s.offset>f){var y=s.offset-f;p=ng(ng({},h),{},{text:h.text.slice(0,y)}),h=ng(ng({},h),{},{text:h.text.slice(y)})}Object.assign(h,i),p&&a.push(p),a.push(h),g&&a.push(g)}n=a}return n}};function m1e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m1e(Object(n),!0).forEach(function(r){Rm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m1e(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var jln=(t,e,n)=>{switch(n.type){case"insert_node":{var{path:r,node:i}=n,s=bt.parent(t,r),o=r[r.length-1];if(o>s.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));if(s.children.splice(o,0,i),e)for(var[a,l]of Ve.points(e))e[l]=Wr.transform(a,n);break}case"insert_text":{var{path:u,offset:d,text:f}=n;if(f.length===0)break;var h=bt.leaf(t,u),p=h.text.slice(0,d),g=h.text.slice(d);if(h.text=p+f+g,e)for(var[v,y]of Ve.points(e))e[y]=Wr.transform(v,n);break}case"merge_node":{var{path:x}=n,b=bt.get(t,x),_=Ae.previous(x),C=bt.get(t,_),S=bt.parent(t,x),T=x[x.length-1];if(gt.isText(b)&&gt.isText(C))C.text+=b.text;else if(!gt.isText(b)&&!gt.isText(C))C.children.push(...b.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(x,"] to nodes of different interfaces: ").concat(Za.stringify(b)," ").concat(Za.stringify(C)));if(S.children.splice(T,1),e)for(var[A,k]of Ve.points(e))e[k]=Wr.transform(A,n);break}case"move_node":{var{path:I,newPath:D}=n;if(Ae.isAncestor(I,D))throw new Error("Cannot move a path [".concat(I,"] to new path [").concat(D,"] because the destination is inside itself."));var R=bt.get(t,I),O=bt.parent(t,I),L=I[I.length-1];O.children.splice(L,1);var P=Ae.transform(I,n),$=bt.get(t,Ae.parent(P)),B=P[P.length-1];if($.children.splice(B,0,R),e)for(var[Q,V]of Ve.points(e))e[V]=Wr.transform(Q,n);break}case"remove_node":{var{path:Z}=n,ie=Z[Z.length-1],J=bt.parent(t,Z);if(J.children.splice(ie,1),e)for(var[X,fe]of Ve.points(e)){var ue=Wr.transform(X,n);if(e!=null&&ue!=null)e[fe]=ue;else{var te=void 0,F=void 0;for(var[ne,ce]of bt.texts(t))if(Ae.compare(ce,Z)===-1)te=[ne,ce];else{F=[ne,ce];break}var me=!1;te&&F&&(Ae.equals(F[1],Z)?me=!Ae.hasPrevious(F[1]):me=Ae.common(te[1],Z).length<Ae.common(F[1],Z).length),te&&!me?(X.path=te[1],X.offset=te[0].text.length):F?(X.path=F[1],X.offset=0):e=null}}break}case"remove_text":{var{path:pe,offset:Ie,text:xe}=n;if(xe.length===0)break;var Pe=bt.leaf(t,pe),we=Pe.text.slice(0,Ie),De=Pe.text.slice(Ie+xe.length);if(Pe.text=we+De,e)for(var[de,be]of Ve.points(e))e[be]=Wr.transform(de,n);break}case"set_node":{var{path:ve,properties:ze,newProperties:He}=n;if(ve.length===0)throw new Error("Cannot set properties on the root node!");var Ne=bt.get(t,ve);for(var Fe in He){if(Fe==="children"||Fe==="text")throw new Error('Cannot set the "'.concat(Fe,'" property of nodes!'));var nt=He[Fe];nt==null?delete Ne[Fe]:Ne[Fe]=nt}for(var Ye in ze)He.hasOwnProperty(Ye)||delete Ne[Ye];break}case"set_selection":{var{newProperties:Ge}=n;if(Ge==null)e=Ge;else{if(e==null){if(!Ve.isRange(Ge))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(Za.stringify(Ge)," when there is no current selection."));e=AS({},Ge)}for(var Ct in Ge){var wt=Ge[Ct];if(wt==null){if(Ct==="anchor"||Ct==="focus")throw new Error('Cannot remove the "'.concat(Ct,'" selection property'));delete e[Ct]}else e[Ct]=wt}}break}case"split_node":{var{path:pt,position:on,properties:mn}=n;if(pt.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(pt,"] because the root node cannot be split."));var gn=bt.get(t,pt),br=bt.parent(t,pt),yo=pt[pt.length-1],Kn;if(gt.isText(gn)){var ti=gn.text.slice(0,on),Hi=gn.text.slice(on);gn.text=ti,Kn=AS(AS({},mn),{},{text:Hi})}else{var ea=gn.children.slice(0,on),ul=gn.children.slice(on);gn.children=ea,Kn=AS(AS({},mn),{},{children:ul})}if(br.children.splice(yo+1,0,Kn),e)for(var[nc,rc]of Ve.points(e))e[rc]=Wr.transform(nc,n);break}}return e},Oln={transform(t,e){t.children=X0e(t.children);var n=t.selection&&X0e(t.selection);try{n=jln(t,n,e)}finally{t.children=Q0e(t.children),n?t.selection=o0(n)?Q0e(n):n:t.selection=null}}},Lln=["text"],Pln=["children"];function g1e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v1e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g1e(Object(n),!0).forEach(function(r){Rm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g1e(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Mln={insertNodes(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Y.withoutNormalizing(t,()=>{var{hanging:r=!1,voids:i=!1,mode:s="lowest"}=n,{at:o,match:a,select:l}=n;if(bt.isNode(e)&&(e=[e]),e.length!==0){var[u]=e;if(o||(t.selection?o=t.selection:t.children.length>0?o=Y.end(t,[]):o=[0],l=!0),l==null&&(l=!1),Ve.isRange(o))if(r||(o=Y.unhangRange(t,o)),Ve.isCollapsed(o))o=o.anchor;else{var[,d]=Ve.edges(o),f=Y.pointRef(t,d);je.delete(t,{at:o}),o=f.unref()}if(Wr.isPoint(o)){a==null&&(gt.isText(u)?a=T=>gt.isText(T):t.isInline(u)?a=T=>gt.isText(T)||Y.isInline(t,T):a=T=>Y.isBlock(t,T));var[h]=Y.nodes(t,{at:o.path,match:a,mode:s,voids:i});if(h){var[,p]=h,g=Y.pathRef(t,p),v=Y.isEnd(t,o,p);je.splitNodes(t,{at:o,match:a,mode:s,voids:i});var y=g.unref();o=v?Ae.next(y):y}else return}var x=Ae.parent(o),b=o[o.length-1];if(!(!i&&Y.void(t,{at:x}))){for(var _ of e){var C=x.concat(b);b++,t.apply({type:"insert_node",path:C,node:_}),o=Ae.next(o)}if(o=Ae.previous(o),l){var S=Y.end(t,o);S&&je.select(t,S)}}}})},liftNodes(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Y.withoutNormalizing(t,()=>{var{at:n=t.selection,mode:r="lowest",voids:i=!1}=e,{match:s}=e;if(s==null&&(s=Ae.isPath(n)?c2(t,n):_=>Y.isBlock(t,_)),!!n){var o=Y.nodes(t,{at:n,match:s,mode:r,voids:i}),a=Array.from(o,_=>{var[,C]=_;return Y.pathRef(t,C)});for(var l of a){var u=l.unref();if(u.length<2)throw new Error("Cannot lift node at a path [".concat(u,"] because it has a depth of less than `2`."));var d=Y.node(t,Ae.parent(u)),[f,h]=d,p=u[u.length-1],{length:g}=f.children;if(g===1){var v=Ae.next(h);je.moveNodes(t,{at:u,to:v,voids:i}),je.removeNodes(t,{at:h,voids:i})}else if(p===0)je.moveNodes(t,{at:u,to:h,voids:i});else if(p===g-1){var y=Ae.next(h);je.moveNodes(t,{at:u,to:y,voids:i})}else{var x=Ae.next(u),b=Ae.next(h);je.splitNodes(t,{at:x,voids:i}),je.moveNodes(t,{at:u,to:b,voids:i})}}}})},mergeNodes(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Y.withoutNormalizing(t,()=>{var{match:n,at:r=t.selection}=e,{hanging:i=!1,voids:s=!1,mode:o="lowest"}=e;if(r){if(n==null)if(Ae.isPath(r)){var[a]=Y.parent(t,r);n=I=>a.children.includes(I)}else n=I=>Y.isBlock(t,I);if(!i&&Ve.isRange(r)&&(r=Y.unhangRange(t,r)),Ve.isRange(r))if(Ve.isCollapsed(r))r=r.anchor;else{var[,l]=Ve.edges(r),u=Y.pointRef(t,l);je.delete(t,{at:r}),r=u.unref(),e.at==null&&je.select(t,r)}var[d]=Y.nodes(t,{at:r,match:n,voids:s,mode:o}),f=Y.previous(t,{at:r,match:n,voids:s,mode:o});if(!(!d||!f)){var[h,p]=d,[g,v]=f;if(!(p.length===0||v.length===0)){var y=Ae.next(v),x=Ae.common(p,v),b=Ae.isSibling(p,v),_=Array.from(Y.levels(t,{at:p}),I=>{var[D]=I;return D}).slice(x.length).slice(0,-1),C=Y.above(t,{at:p,mode:"highest",match:I=>_.includes(I)&&VHe(t,I)}),S=C&&Y.pathRef(t,C[1]),T,A;if(gt.isText(h)&&gt.isText(g)){var k=l0(h,Lln);A=g.text.length,T=k}else if(Rn.isElement(h)&&Rn.isElement(g)){var k=l0(h,Pln);A=g.children.length,T=k}else throw new Error("Cannot merge the node at path [".concat(p,"] with the previous sibling because it is not the same kind: ").concat(Za.stringify(h)," ").concat(Za.stringify(g)));b||je.moveNodes(t,{at:p,to:y,voids:s}),S&&je.removeNodes(t,{at:S.current,voids:s}),Rn.isElement(g)&&Y.isEmpty(t,g)||gt.isText(g)&&g.text===""&&v[v.length-1]!==0?je.removeNodes(t,{at:v,voids:s}):t.apply({type:"merge_node",path:y,position:A,properties:T}),S&&S.unref()}}}})},moveNodes(t,e){Y.withoutNormalizing(t,()=>{var{to:n,at:r=t.selection,mode:i="lowest",voids:s=!1}=e,{match:o}=e;if(r){o==null&&(o=Ae.isPath(r)?c2(t,r):p=>Y.isBlock(t,p));var a=Y.pathRef(t,n),l=Y.nodes(t,{at:r,match:o,mode:i,voids:s}),u=Array.from(l,p=>{var[,g]=p;return Y.pathRef(t,g)});for(var d of u){var f=d.unref(),h=a.current;f.length!==0&&t.apply({type:"move_node",path:f,newPath:h}),a.current&&Ae.isSibling(h,f)&&Ae.isAfter(h,f)&&(a.current=Ae.next(a.current))}a.unref()}})},removeNodes(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Y.withoutNormalizing(t,()=>{var{hanging:n=!1,voids:r=!1,mode:i="lowest"}=e,{at:s=t.selection,match:o}=e;if(s){o==null&&(o=Ae.isPath(s)?c2(t,s):h=>Y.isBlock(t,h)),!n&&Ve.isRange(s)&&(s=Y.unhangRange(t,s));var a=Y.nodes(t,{at:s,match:o,mode:i,voids:r}),l=Array.from(a,h=>{var[,p]=h;return Y.pathRef(t,p)});for(var u of l){var d=u.unref();if(d){var[f]=Y.node(t,d);t.apply({type:"remove_node",path:d,node:f})}}}})},setNodes(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Y.withoutNormalizing(t,()=>{var{match:r,at:i=t.selection,compare:s,merge:o}=n,{hanging:a=!1,mode:l="lowest",split:u=!1,voids:d=!1}=n;if(i){if(r==null&&(r=Ae.isPath(i)?c2(t,i):A=>Y.isBlock(t,A)),!a&&Ve.isRange(i)&&(i=Y.unhangRange(t,i)),u&&Ve.isRange(i)){if(Ve.isCollapsed(i)&&Y.leaf(t,i.anchor)[0].text.length>0)return;var f=Y.rangeRef(t,i,{affinity:"inward"}),[h,p]=Ve.edges(i),g=l==="lowest"?"lowest":"highest",v=Y.isEnd(t,p,p.path);je.splitNodes(t,{at:p,match:r,mode:g,voids:d,always:!v});var y=Y.isStart(t,h,h.path);je.splitNodes(t,{at:h,match:r,mode:g,voids:d,always:!y}),i=f.unref(),n.at==null&&je.select(t,i)}s||(s=(A,k)=>A!==k);for(var[x,b]of Y.nodes(t,{at:i,match:r,mode:l,voids:d})){var _={},C={};if(b.length!==0){var S=!1;for(var T in e)T==="children"||T==="text"||s(e[T],x[T])&&(S=!0,x.hasOwnProperty(T)&&(_[T]=x[T]),o?e[T]!=null&&(C[T]=o(x[T],e[T])):e[T]!=null&&(C[T]=e[T]));S&&t.apply({type:"set_node",path:b,properties:_,newProperties:C})}}}})},splitNodes(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Y.withoutNormalizing(t,()=>{var{mode:n="lowest",voids:r=!1}=e,{match:i,at:s=t.selection,height:o=0,always:a=!1}=e;if(i==null&&(i=V=>Y.isBlock(t,V)),Ve.isRange(s)&&(s=$ln(t,s)),Ae.isPath(s)){var l=s,u=Y.point(t,l),[d]=Y.parent(t,l);i=V=>V===d,o=u.path.length-l.length+1,s=u,a=!0}if(s){var f=Y.pointRef(t,s,{affinity:"backward"}),h;try{var[p]=Y.nodes(t,{at:s,match:i,mode:n,voids:r});if(!p)return;var g=Y.void(t,{at:s,mode:"highest"}),v=0;if(!r&&g){var[y,x]=g;if(Rn.isElement(y)&&t.isInline(y)){var b=Y.after(t,x);if(!b){var _={text:""},C=Ae.next(x);je.insertNodes(t,_,{at:C,voids:r}),b=Y.point(t,C)}s=b,a=!0}var S=s.path.length-x.length;o=S+1,a=!0}h=Y.pointRef(t,s);var T=s.path.length-o,[,A]=p,k=s.path.slice(0,T),I=o===0?s.offset:s.path[T]+v;for(var[D,R]of Y.levels(t,{at:k,reverse:!0,voids:r})){var O=!1;if(R.length<A.length||R.length===0||!r&&Y.isVoid(t,D))break;var L=f.current,P=Y.isEnd(t,L,R);if(a||!f||!Y.isEdge(t,L,R)){O=!0;var $=bt.extractProps(D);t.apply({type:"split_node",path:R,position:I,properties:$})}I=R[R.length-1]+(O||P?1:0)}if(e.at==null){var B=h.current||Y.end(t,[]);je.select(t,B)}}finally{var Q;f.unref(),(Q=h)===null||Q===void 0||Q.unref()}}})},unsetNodes(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(e)||(e=[e]);var r={};for(var i of e)r[i]=null;je.setNodes(t,r,n)},unwrapNodes(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Y.withoutNormalizing(t,()=>{var{mode:n="lowest",split:r=!1,voids:i=!1}=e,{at:s=t.selection,match:o}=e;if(s){o==null&&(o=Ae.isPath(s)?c2(t,s):h=>Y.isBlock(t,h)),Ae.isPath(s)&&(s=Y.range(t,s));var a=Ve.isRange(s)?Y.rangeRef(t,s):null,l=Y.nodes(t,{at:s,match:o,mode:n,voids:i}),u=Array.from(l,h=>{var[,p]=h;return Y.pathRef(t,p)}).reverse(),d=function(p){var g=p.unref(),[v]=Y.node(t,g),y=Y.range(t,g);r&&a&&(y=Ve.intersection(a.current,y)),je.liftNodes(t,{at:y,match:x=>Rn.isAncestor(v)&&v.children.includes(x),voids:i})};for(var f of u)d(f);a&&a.unref()}})},wrapNodes(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Y.withoutNormalizing(t,()=>{var{mode:r="lowest",split:i=!1,voids:s=!1}=n,{match:o,at:a=t.selection}=n;if(a){if(o==null&&(Ae.isPath(a)?o=c2(t,a):t.isInline(e)?o=y=>Y.isInline(t,y)||gt.isText(y):o=y=>Y.isBlock(t,y)),i&&Ve.isRange(a)){var[l,u]=Ve.edges(a),d=Y.rangeRef(t,a,{affinity:"inward"});je.splitNodes(t,{at:u,match:o,voids:s}),je.splitNodes(t,{at:l,match:o,voids:s}),a=d.unref(),n.at==null&&je.select(t,a)}var f=Array.from(Y.nodes(t,{at:a,match:t.isInline(e)?y=>Y.isBlock(t,y):y=>Y.isEditor(y),mode:"lowest",voids:s}));for(var[,h]of f){var p=Ve.isRange(a)?Ve.intersection(a,Y.range(t,h)):a;if(p){var g=Array.from(Y.nodes(t,{at:p,match:o,mode:r,voids:s}));if(g.length>0){var v=function(){var[y]=g,x=g[g.length-1],[,b]=y,[,_]=x;if(b.length===0&&_.length===0)return"continue";var C=Ae.equals(b,_)?Ae.parent(b):Ae.common(b,_),S=Y.range(t,b,_),T=Y.node(t,C),[A]=T,k=C.length+1,I=Ae.next(_.slice(0,k)),D=v1e(v1e({},e),{},{children:[]});je.insertNodes(t,D,{at:I,voids:s}),je.moveNodes(t,{at:S,match:R=>Rn.isAncestor(A)&&A.children.includes(R),to:I.concat(0),voids:s})}();if(v==="continue")continue}}}}})}},VHe=(t,e)=>{if(Rn.isElement(e)){var n=e;return Y.isVoid(t,e)?!0:n.children.length===1?VHe(t,n.children[0]):!1}else return!Y.isEditor(e)},$ln=(t,e)=>{if(Ve.isCollapsed(e))return e.anchor;var[,n]=Ve.edges(e),r=Y.pointRef(t,n);return je.delete(t,{at:e}),r.unref()},c2=(t,e)=>{var[n]=Y.node(t,e);return r=>r===n};function y1e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b1e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y1e(Object(n),!0).forEach(function(r){Rm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y1e(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Fln={collapse(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:n="anchor"}=e,{selection:r}=t;if(r){if(n==="anchor")je.select(t,r.anchor);else if(n==="focus")je.select(t,r.focus);else if(n==="start"){var[i]=Ve.edges(r);je.select(t,i)}else if(n==="end"){var[,s]=Ve.edges(r);je.select(t,s)}}else return},deselect(t){var{selection:e}=t;e&&t.apply({type:"set_selection",properties:e,newProperties:null})},move(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=t,{distance:r=1,unit:i="character",reverse:s=!1}=e,{edge:o=null}=e;if(n){o==="start"&&(o=Ve.isBackward(n)?"focus":"anchor"),o==="end"&&(o=Ve.isBackward(n)?"anchor":"focus");var{anchor:a,focus:l}=n,u={distance:r,unit:i},d={};if(o==null||o==="anchor"){var f=s?Y.before(t,a,u):Y.after(t,a,u);f&&(d.anchor=f)}if(o==null||o==="focus"){var h=s?Y.before(t,l,u):Y.after(t,l,u);h&&(d.focus=h)}je.setSelection(t,d)}},select(t,e){var{selection:n}=t;if(e=Y.range(t,e),n){je.setSelection(t,e);return}if(!Ve.isRange(e))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(Za.stringify(e)));t.apply({type:"set_selection",properties:n,newProperties:e})},setPoint(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:r}=t,{edge:i="both"}=n;if(r){i==="start"&&(i=Ve.isBackward(r)?"focus":"anchor"),i==="end"&&(i=Ve.isBackward(r)?"anchor":"focus");var{anchor:s,focus:o}=r,a=i==="anchor"?s:o;je.setSelection(t,{[i==="anchor"?"anchor":"focus"]:b1e(b1e({},a),e)})}},setSelection(t,e){var{selection:n}=t,r={},i={};if(n){for(var s in e)(s==="anchor"&&e.anchor!=null&&!Wr.equals(e.anchor,n.anchor)||s==="focus"&&e.focus!=null&&!Wr.equals(e.focus,n.focus)||s!=="anchor"&&s!=="focus"&&e[s]!==n[s])&&(r[s]=n[s],i[s]=e[s]);Object.keys(r).length>0&&t.apply({type:"set_selection",properties:r,newProperties:i})}}},Bln={delete(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Y.withoutNormalizing(t,()=>{var{reverse:n=!1,unit:r="character",distance:i=1,voids:s=!1}=e,{at:o=t.selection,hanging:a=!1}=e;if(o){var l=!1;if(Ve.isRange(o)&&Ve.isCollapsed(o)&&(l=!0,o=o.anchor),Wr.isPoint(o)){var u=Y.void(t,{at:o,mode:"highest"});if(!s&&u){var[,d]=u;o=d}else{var f={unit:r,distance:i},h=n?Y.before(t,o,f)||Y.start(t,[]):Y.after(t,o,f)||Y.end(t,[]);o={anchor:o,focus:h},a=!0}}if(Ae.isPath(o)){je.removeNodes(t,{at:o,voids:s});return}if(!Ve.isCollapsed(o)){if(!a){var[,p]=Ve.edges(o),g=Y.end(t,[]);Wr.equals(p,g)||(o=Y.unhangRange(t,o,{voids:s}))}var[v,y]=Ve.edges(o),x=Y.above(t,{match:Pe=>Y.isBlock(t,Pe),at:v,voids:s}),b=Y.above(t,{match:Pe=>Y.isBlock(t,Pe),at:y,voids:s}),_=x&&b&&!Ae.equals(x[1],b[1]),C=Ae.equals(v.path,y.path),S=s?null:Y.void(t,{at:v,mode:"highest"}),T=s?null:Y.void(t,{at:y,mode:"highest"});if(S){var A=Y.before(t,v);A&&x&&Ae.isAncestor(x[1],A.path)&&(v=A)}if(T){var k=Y.after(t,y);k&&b&&Ae.isAncestor(b[1],k.path)&&(y=k)}var I=[],D;for(var R of Y.nodes(t,{at:o,voids:s})){var[O,L]=R;D&&Ae.compare(L,D)===0||(!s&&Y.isVoid(t,O)||!Ae.isCommon(L,v.path)&&!Ae.isCommon(L,y.path))&&(I.push(R),D=L)}var P=Array.from(I,Pe=>{var[,we]=Pe;return Y.pathRef(t,we)}),$=Y.pointRef(t,v),B=Y.pointRef(t,y),Q="";if(!C&&!S){var V=$.current,[Z]=Y.leaf(t,V),{path:ie}=V,{offset:J}=v,X=Z.text.slice(J);X.length>0&&(t.apply({type:"remove_text",path:ie,offset:J,text:X}),Q=X)}for(var fe of P){var ue=fe.unref();je.removeNodes(t,{at:ue,voids:s})}if(!T){var te=B.current,[F]=Y.leaf(t,te),{path:ne}=te,ce=C?v.offset:0,me=F.text.slice(ce,y.offset);me.length>0&&(t.apply({type:"remove_text",path:ne,offset:ce,text:me}),Q=me)}!C&&_&&B.current&&$.current&&je.mergeNodes(t,{at:B.current,hanging:!0,voids:s}),l&&n&&r==="character"&&Q.length>1&&Q.match(/[\u0E00-\u0E7F]+/)&&je.insertText(t,Q.slice(0,Q.length-i));var pe=$.unref(),Ie=B.unref(),xe=n?pe||Ie:Ie||pe;e.at==null&&xe&&je.select(t,xe)}}})},insertFragment(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Y.withoutNormalizing(t,()=>{var{hanging:r=!1,voids:i=!1}=n,{at:s=t.selection}=n;if(e.length){if(s)if(Ve.isRange(s))if(r||(s=Y.unhangRange(t,s)),Ve.isCollapsed(s))s=s.anchor;else{var[,o]=Ve.edges(s);if(!i&&Y.void(t,{at:o}))return;var a=Y.pointRef(t,o);je.delete(t,{at:s}),s=a.unref()}else Ae.isPath(s)&&(s=Y.start(t,s));else return;if(!(!i&&Y.void(t,{at:s}))){var l=Y.above(t,{at:s,match:ue=>Y.isInline(t,ue),mode:"highest",voids:i});if(l){var[,u]=l;if(Y.isEnd(t,s,u)){var d=Y.after(t,u);s=d}else if(Y.isStart(t,s,u)){var f=Y.before(t,u);s=f}}var h=Y.above(t,{match:ue=>Y.isBlock(t,ue),at:s,voids:i}),[,p]=h,g=Y.isStart(t,s,p),v=Y.isEnd(t,s,p),y=g&&v,x=!g||g&&v,b=!v,[,_]=bt.first({children:e},[]),[,C]=bt.last({children:e},[]),S=[],T=ue=>{var[te,F]=ue,ne=F.length===0;return ne?!1:y?!0:!(x&&Ae.isAncestor(F,_)&&Rn.isElement(te)&&!t.isVoid(te)&&!t.isInline(te)||b&&Ae.isAncestor(F,C)&&Rn.isElement(te)&&!t.isVoid(te)&&!t.isInline(te))};for(var A of bt.nodes({children:e},{pass:T}))T(A)&&S.push(A);var k=[],I=[],D=[],R=!0,O=!1;for(var[L]of S)Rn.isElement(L)&&!t.isInline(L)?(R=!1,O=!0,I.push(L)):R?k.push(L):D.push(L);var[P]=Y.nodes(t,{at:s,match:ue=>gt.isText(ue)||Y.isInline(t,ue),mode:"highest",voids:i}),[,$]=P,B=Y.isStart(t,s,$),Q=Y.isEnd(t,s,$),V=Y.pathRef(t,v?Ae.next(p):p),Z=Y.pathRef(t,Q?Ae.next($):$),ie=Y.pathRef(t,p);je.splitNodes(t,{at:s,match:ue=>O?Y.isBlock(t,ue):gt.isText(ue)||Y.isInline(t,ue),mode:O?"lowest":"highest",voids:i});var J=Y.pathRef(t,!B||B&&Q?Ae.next($):$);if(je.insertNodes(t,k,{at:J.current,match:ue=>gt.isText(ue)||Y.isInline(t,ue),mode:"highest",voids:i}),y&&I.length&&je.delete(t,{at:ie.unref(),voids:i}),je.insertNodes(t,I,{at:V.current,match:ue=>Y.isBlock(t,ue),mode:"lowest",voids:i}),je.insertNodes(t,D,{at:Z.current,match:ue=>gt.isText(ue)||Y.isInline(t,ue),mode:"highest",voids:i}),!n.at){var X;D.length>0?X=Ae.previous(Z.current):I.length>0?X=Ae.previous(V.current):X=Ae.previous(J.current);var fe=Y.end(t,X);je.select(t,fe)}J.unref(),V.unref(),Z.unref()}}})},insertText(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Y.withoutNormalizing(t,()=>{var{voids:r=!1}=n,{at:i=t.selection}=n;if(i){if(Ae.isPath(i)&&(i=Y.range(t,i)),Ve.isRange(i))if(Ve.isCollapsed(i))i=i.anchor;else{var s=Ve.end(i);if(!r&&Y.void(t,{at:s}))return;var o=Ve.start(i),a=Y.pointRef(t,o),l=Y.pointRef(t,s);je.delete(t,{at:i,voids:r});var u=a.unref(),d=l.unref();i=u||d,je.setSelection(t,{anchor:i,focus:i})}if(!(!r&&Y.void(t,{at:i}))){var{path:f,offset:h}=i;e.length>0&&t.apply({type:"insert_text",path:f,offset:h,text:e})}}})}};function x1e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x1e(Object(n),!0).forEach(function(r){Rm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x1e(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var je=c4(c4(c4(c4({},Oln),Mln),Fln),Bln),Nln=Hln,UHe="---",HHe="A-Za-z--------",Vln=new RegExp("^[^"+HHe+"]*["+UHe+"]"),Uln=new RegExp("^[^"+UHe+"]*["+HHe+"]");function Hln(t){return t=String(t||""),Vln.test(t)?"rtl":Uln.test(t)?"ltr":"neutral"}const zHe=vt(Nln);function w1e(t){return typeof t=="object"&&t!=null&&t.nodeType===1}function _1e(t,e){return(!e||t!=="hidden")&&t!=="visible"&&t!=="clip"}function bU(t,e){if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){var n=getComputedStyle(t,null);return _1e(n.overflowY,e)||_1e(n.overflowX,e)||function(r){var i=function(s){if(!s.ownerDocument||!s.ownerDocument.defaultView)return null;try{return s.ownerDocument.defaultView.frameElement}catch{return null}}(r);return!!i&&(i.clientHeight<r.scrollHeight||i.clientWidth<r.scrollWidth)}(t)}return!1}function d4(t,e,n,r,i,s,o,a){return s<t&&o>e||s>t&&o<e?0:s<=t&&a<=n||o>=e&&a>=n?s-t-r:o>e&&a<n||s<t&&a>n?o-e+i:0}var C1e=function(t,e){var n=window,r=e.scrollMode,i=e.block,s=e.inline,o=e.boundary,a=e.skipOverflowHiddenElements,l=typeof o=="function"?o:function(we){return we!==o};if(!w1e(t))throw new TypeError("Invalid target");for(var u,d,f=document.scrollingElement||document.documentElement,h=[],p=t;w1e(p)&&l(p);){if((p=(d=(u=p).parentElement)==null?u.getRootNode().host||null:d)===f){h.push(p);break}p!=null&&p===document.body&&bU(p)&&!bU(document.documentElement)||p!=null&&bU(p,a)&&h.push(p)}for(var g=n.visualViewport?n.visualViewport.width:innerWidth,v=n.visualViewport?n.visualViewport.height:innerHeight,y=window.scrollX||pageXOffset,x=window.scrollY||pageYOffset,b=t.getBoundingClientRect(),_=b.height,C=b.width,S=b.top,T=b.right,A=b.bottom,k=b.left,I=i==="start"||i==="nearest"?S:i==="end"?A:S+_/2,D=s==="center"?k+C/2:s==="end"?T:k,R=[],O=0;O<h.length;O++){var L=h[O],P=L.getBoundingClientRect(),$=P.height,B=P.width,Q=P.top,V=P.right,Z=P.bottom,ie=P.left;if(r==="if-needed"&&S>=0&&k>=0&&A<=v&&T<=g&&S>=Q&&A<=Z&&k>=ie&&T<=V)return R;var J=getComputedStyle(L),X=parseInt(J.borderLeftWidth,10),fe=parseInt(J.borderTopWidth,10),ue=parseInt(J.borderRightWidth,10),te=parseInt(J.borderBottomWidth,10),F=0,ne=0,ce="offsetWidth"in L?L.offsetWidth-L.clientWidth-X-ue:0,me="offsetHeight"in L?L.offsetHeight-L.clientHeight-fe-te:0,pe="offsetWidth"in L?L.offsetWidth===0?0:B/L.offsetWidth:0,Ie="offsetHeight"in L?L.offsetHeight===0?0:$/L.offsetHeight:0;if(f===L)F=i==="start"?I:i==="end"?I-v:i==="nearest"?d4(x,x+v,v,fe,te,x+I,x+I+_,_):I-v/2,ne=s==="start"?D:s==="center"?D-g/2:s==="end"?D-g:d4(y,y+g,g,X,ue,y+D,y+D+C,C),F=Math.max(0,F+x),ne=Math.max(0,ne+y);else{F=i==="start"?I-Q-fe:i==="end"?I-Z+te+me:i==="nearest"?d4(Q,Z,$,fe,te+me,I,I+_,_):I-(Q+$/2)+me/2,ne=s==="start"?D-ie-X:s==="center"?D-(ie+B/2)+ce/2:s==="end"?D-V+ue+ce:d4(ie,V,B,X,ue+ce,D,D+C,C);var xe=L.scrollLeft,Pe=L.scrollTop;I+=Pe-(F=Math.max(0,Math.min(Pe+F/Ie,L.scrollHeight-$/Ie+me))),D+=xe-(ne=Math.max(0,Math.min(xe+ne/pe,L.scrollWidth-B/pe+ce)))}R.push({el:L,top:F,left:ne})}return R};function WHe(t){return t===Object(t)&&Object.keys(t).length!==0}function zln(t,e){e===void 0&&(e="auto");var n="scrollBehavior"in document.body.style;t.forEach(function(r){var i=r.el,s=r.top,o=r.left;i.scroll&&n?i.scroll({top:s,left:o,behavior:e}):(i.scrollTop=s,i.scrollLeft=o)})}function Wln(t){return t===!1?{block:"end",inline:"nearest"}:WHe(t)?t:{block:"start",inline:"nearest"}}function GHe(t,e){var n=t.isConnected||t.ownerDocument.documentElement.contains(t);if(WHe(e)&&typeof e.behavior=="function")return e.behavior(n?C1e(t,e):[]);if(n){var r=Wln(e);return zln(C1e(t,r),r.behavior)}}var L0={};Object.defineProperty(L0,"__esModule",{value:!0});var Gln=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),xU={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},qln={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:Gln?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},qHe={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var f4=1;f4<20;f4++)qHe["f"+f4]=111+f4;function X9(t,e,n){e&&!("byKey"in e)&&(n=e,e=null),Array.isArray(t)||(t=[t]);var r=t.map(function(o){return YHe(o,e)}),i=function(a){return r.some(function(l){return KHe(l,a)})},s=n==null?i:i(n);return s}function Yln(t,e){return X9(t,e)}function Kln(t,e){return X9(t,{byKey:!0},e)}function YHe(t,e){var n=e&&e.byKey,r={};t=t.replace("++","+add");var i=t.split("+"),s=i.length;for(var o in xU)r[xU[o]]=!1;var a=!0,l=!1,u=void 0;try{for(var d=i[Symbol.iterator](),f;!(a=(f=d.next()).done);a=!0){var h=f.value,p=h.endsWith("?")&&h.length>1;p&&(h=h.slice(0,-1));var g=une(h),v=xU[g];(s===1||!v)&&(n?r.key=g:r.which=ZHe(h)),v&&(r[v]=p?null:!0)}}catch(y){l=!0,u=y}finally{try{!a&&d.return&&d.return()}finally{if(l)throw u}}return r}function KHe(t,e){for(var n in t){var r=t[n],i=void 0;if(r!=null&&(n==="key"&&e.key!=null?i=e.key.toLowerCase():n==="which"?i=r===91&&e.which===93?91:e.which:i=e[n],!(i==null&&r===!1)&&i!==r))return!1}return!0}function ZHe(t){t=une(t);var e=qHe[t]||t.toUpperCase().charCodeAt(0);return e}function une(t){return t=t.toLowerCase(),t=qln[t]||t,t}var Iu=L0.default=X9;L0.isHotkey=X9;L0.isCodeHotkey=Yln;var wU=L0.isKeyHotkey=Kln;L0.parseHotkey=YHe;L0.compareHotkey=KHe;L0.toKeyCode=ZHe;L0.toKeyName=une;function XHe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zln(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function NA(t,e){if(t==null)return{};var n=Zln(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var Xln=parseInt(re.version.split(".")[0],10)>=17,Qln=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,E1e=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),cne=typeof navigator<"u"&&/Android/.test(navigator.userAgent),jO=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),_U=typeof navigator<"u"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),Jln=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),QHe=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),eun=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),tun=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),nun=typeof navigator<"u"&&/.*QQBrowser/.test(navigator.userAgent),run=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),iun=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent),OO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",i1=!eun&&!Jln&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",Rh=OO?m.useLayoutEffect:m.useEffect,sun=t=>{var{isLast:e,leaf:n,parent:r,text:i}=t,s=jm(),o=tt.findPath(s,i),a=Ae.parent(o);return s.isVoid(r)?re.createElement(CU,{length:bt.string(r).length}):n.text===""&&r.children[r.children.length-1]===i&&!s.isInline(r)&&Y.string(s,a)===""?re.createElement(CU,{isLineBreak:!0}):n.text===""?re.createElement(CU,null):e&&n.text.slice(-1)===`
`?re.createElement(S1e,{isTrailing:!0,text:n.text}):re.createElement(S1e,{text:n.text})},S1e=t=>{var{text:e,isTrailing:n=!1}=t,r=m.useRef(null),i=()=>"".concat(e??"").concat(n?`
`:"");return Rh(()=>{var s=i();r.current&&r.current.textContent!==s&&(r.current.textContent=s)}),r.current?re.createElement("span",{"data-slate-string":!0,ref:r}):re.createElement("span",{"data-slate-string":!0,ref:r},i())},CU=t=>{var{length:e=0,isLineBreak:n=!1}=t;return re.createElement("span",{"data-slate-zero-width":n?"n":"z","data-slate-length":e},"\uFEFF",n?re.createElement("br",null):null)},dne=new WeakMap,fne=new WeakMap,hne=new WeakMap,VA=new WeakMap,sE=new WeakMap,Yv=new WeakMap,Kq=new WeakMap,Q9=new WeakMap,J9=new WeakMap,Sh=new WeakMap,Q1=new WeakMap,Zq=new WeakMap,Ik=new WeakMap,Xq=new WeakMap,Qq=new WeakMap,Jq=new WeakMap,Wx=Symbol("placeholder"),oun=t=>{var{leaf:e,isLast:n,text:r,parent:i,renderPlaceholder:s,renderLeaf:o=f=>re.createElement(lun,Object.assign({},f))}=t,a=m.useRef(null);m.useEffect(()=>{var f=a==null?void 0:a.current,h=document.querySelector('[data-slate-editor="true"]');if(!(!f||!h))return h.style.minHeight="".concat(f.clientHeight,"px"),()=>{h.style.minHeight="auto"}},[a,e]);var l=re.createElement(sun,{isLast:n,leaf:e,parent:i,text:r});if(e[Wx]){var u={children:e.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none"},contentEditable:!1,ref:a}};l=re.createElement(re.Fragment,null,s(u),l)}var d={"data-slate-leaf":!0};return o({attributes:d,children:l,leaf:e,text:r})},aun=re.memo(oun,(t,e)=>e.parent===t.parent&&e.isLast===t.isLast&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&e.text===t.text&&gt.equals(e.leaf,t.leaf)&&e.leaf[Wx]===t.leaf[Wx]),lun=t=>{var{attributes:e,children:n}=t;return re.createElement("span",Object.assign({},e),n)},uun=["anchor","focus"],cun=["anchor","focus"],dun=(t,e)=>Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every(n=>e.hasOwnProperty(n)&&t[n]===e[n]),JHe=(t,e)=>{if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++){var r=t[n],i=e[n],s=NA(r,uun),o=NA(i,cun);if(!Ve.equals(r,i)||r[Wx]!==i[Wx]||!dun(s,o))return!1}return!0};function pne(t){var e=m.useRef(0),n=m.useRef(null),[,r]=m.useState(0);return m.useEffect(()=>(Jq.set(t,()=>{n.current||(n.current=requestAnimationFrame(()=>{r(i=>i+1),n.current=null}),e.current++)}),()=>{Jq.delete(t)}),[t]),n.current&&(cancelAnimationFrame(n.current),n.current=null),e.current}var fun=t=>{for(var{decorations:e,isLast:n,parent:r,renderPlaceholder:i,renderLeaf:s,text:o}=t,a=jm(),l=m.useRef(null),u=gt.decorations(o,e),d=tt.findKey(a,o),f=[],h=0;h<u.length;h++){var p=u[h];f.push(re.createElement(aun,{isLast:n&&h===u.length-1,key:"".concat(d.id,"-").concat(h),renderPlaceholder:i,leaf:p,text:o,parent:r,renderLeaf:s}))}Rh(()=>{var v=Q9.get(a);l.current?(v==null||v.set(d,l.current),Yv.set(o,l.current),sE.set(l.current,o)):(v==null||v.delete(d),Yv.delete(o))});var g=cne?pne(o):void 0;return re.createElement("span",{"data-slate-node":"text",ref:l,key:g},f)},eze=re.memo(fun,(t,e)=>e.parent===t.parent&&e.isLast===t.isLast&&e.renderLeaf===t.renderLeaf&&e.text===t.text&&JHe(e.decorations,t.decorations)),hun=t=>{var{decorations:e,element:n,renderElement:r=C=>re.createElement(mun,Object.assign({},C)),renderPlaceholder:i,renderLeaf:s,selection:o}=t,a=m.useRef(null),l=jm(),u=xun(),d=l.isInline(n),f=tt.findKey(l,n),h=gne({decorations:e,node:n,renderElement:r,renderPlaceholder:i,renderLeaf:s,selection:o}),p={"data-slate-node":"element",ref:a};if(d&&(p["data-slate-inline"]=!0),!d&&Y.hasInlines(l,n)){var g=bt.string(n),v=zHe(g);v==="rtl"&&(p.dir=v)}if(Y.isVoid(l,n)){p["data-slate-void"]=!0,!u&&d&&(p.contentEditable=!1);var y=d?"span":"div",[[x]]=bt.texts(n);h=re.createElement(y,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},re.createElement(eze,{renderPlaceholder:i,decorations:[],isLast:!1,parent:n,text:x})),dne.set(x,0),fne.set(x,n)}Rh(()=>{var C=Q9.get(l);a.current?(C==null||C.set(f,a.current),Yv.set(n,a.current),sE.set(a.current,n)):(C==null||C.delete(f),Yv.delete(n))});var b=r({attributes:p,children:h,element:n});if(cne){var _=pne(n);return re.createElement(m.Fragment,{key:_},b)}return b},pun=re.memo(hun,(t,e)=>t.element===e.element&&t.renderElement===e.renderElement&&t.renderLeaf===e.renderLeaf&&JHe(t.decorations,e.decorations)&&(t.selection===e.selection||!!t.selection&&!!e.selection&&Ve.equals(t.selection,e.selection))),mun=t=>{var{attributes:e,children:n,element:r}=t,i=jm(),s=i.isInline(r)?"span":"div";return re.createElement(s,Object.assign({},e,{style:{position:"relative"}}),n)},tze=m.createContext(null),jm=()=>{var t=m.useContext(tze);if(!t)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return t},mne=m.createContext(()=>[]),gun=()=>m.useContext(mne),nze=m.createContext(!1),rze=()=>m.useContext(nze),gne=t=>{for(var{decorations:e,node:n,renderElement:r,renderPlaceholder:i,renderLeaf:s,selection:o}=t,a=gun(),l=jm(),u=tt.findPath(l,n),d=[],f=Rn.isElement(n)&&!l.isInline(n)&&Y.hasInlines(l,n),h=0;h<n.children.length;h++){var p=u.concat(h),g=n.children[h],v=tt.findKey(l,g),y=Y.range(l,p),x=o&&Ve.intersection(y,o),b=a([g,p]);for(var _ of e){var C=Ve.intersection(_,y);C&&b.push(C)}Rn.isElement(g)?d.push(re.createElement(nze.Provider,{key:"provider-".concat(v.id),value:!!x},re.createElement(pun,{decorations:b,element:g,key:v.id,renderElement:r,renderPlaceholder:i,renderLeaf:s,selection:x}))):d.push(re.createElement(eze,{decorations:b,key:v.id,isLast:f&&h===n.children.length-1,parent:n,renderPlaceholder:i,renderLeaf:s,text:g})),dne.set(g,h),fne.set(g,n)}return d},vun={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveUp:"up",moveDown:"down",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",extendUp:"shift+up",extendDown:"shift+down",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},yun={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},bun={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},Wi=t=>{var e=vun[t],n=yun[t],r=bun[t],i=e&&wU(e),s=n&&wU(n),o=r&&wU(r);return a=>!!(i&&i(a)||E1e&&s&&s(a)||!E1e&&o&&o(a))},Ai={isBold:Wi("bold"),isCompose:Wi("compose"),isMoveBackward:Wi("moveBackward"),isMoveForward:Wi("moveForward"),isDeleteBackward:Wi("deleteBackward"),isDeleteForward:Wi("deleteForward"),isDeleteLineBackward:Wi("deleteLineBackward"),isDeleteLineForward:Wi("deleteLineForward"),isDeleteWordBackward:Wi("deleteWordBackward"),isDeleteWordForward:Wi("deleteWordForward"),isExtendBackward:Wi("extendBackward"),isExtendForward:Wi("extendForward"),isExtendDown:Wi("extendDown"),isExtendUp:Wi("extendUp"),isExtendLineBackward:Wi("extendLineBackward"),isExtendLineForward:Wi("extendLineForward"),isItalic:Wi("italic"),isMoveUp:Wi("moveDown"),isMoveDown:Wi("moveUp"),isMoveLineBackward:Wi("moveLineBackward"),isMoveLineForward:Wi("moveLineForward"),isMoveWordBackward:Wi("moveWordBackward"),isMoveWordForward:Wi("moveWordForward"),isRedo:Wi("redo"),isSoftBreak:Wi("insertSoftBreak"),isSplitBlock:Wi("splitBlock"),isTransposeCharacter:Wi("transposeCharacter"),isUndo:Wi("undo")},vne=m.createContext(!1),xun=()=>m.useContext(vne),ize=m.createContext(null),e$=()=>{var t=m.useContext(ize);if(!t)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var[e]=t;return e},t$=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView||null,wun=t=>u0(t)&&t.nodeType===8,md=t=>u0(t)&&t.nodeType===1,u0=t=>{var e=t$(t);return!!e&&t instanceof e.Node},T1e=t=>{var e=t&&t.anchorNode&&t$(t.anchorNode);return!!e&&t instanceof e.Selection},sze=t=>u0(t)&&t.nodeType===3,_un=t=>t.clipboardData&&t.clipboardData.getData("text/plain")!==""&&t.clipboardData.types.length===1,Cun=t=>{var[e,n]=t;if(md(e)&&e.childNodes.length){var r=n===e.childNodes.length,i=r?n-1:n;for([e,i]=oze(e,i,r?"backward":"forward"),r=i<n;md(e)&&e.childNodes.length;){var s=r?e.childNodes.length-1:0;e=Sun(e,s,r?"backward":"forward")}n=r&&e.textContent!=null?e.textContent.length:0}return[e,n]},Eun=()=>!!(window.document.activeElement&&window.document.activeElement.shadowRoot),oze=(t,e,n)=>{for(var{childNodes:r}=t,i=r[e],s=e,o=!1,a=!1;(wun(i)||md(i)&&i.childNodes.length===0||md(i)&&i.getAttribute("contenteditable")==="false")&&!(o&&a);){if(s>=r.length){o=!0,s=e-1,n="backward";continue}if(s<0){a=!0,s=e+1,n="forward";continue}i=r[s],e=s,s+=n==="forward"?1:-1}return[i,e]},Sun=(t,e,n)=>{var[r]=oze(t,e,n);return r},aze=t=>{var e="";if(sze(t)&&t.nodeValue)return t.nodeValue;if(md(t)){for(var n of Array.from(t.childNodes))e+=aze(n);var r=getComputedStyle(t).getPropertyValue("display");(r==="block"||r==="list"||t.tagName==="BR")&&(e+=`
`)}return e},Tun=/data-slate-fragment="(.+?)"/m,lze=t=>{var e=t.getData("text/html"),[,n]=e.match(Tun)||[];return n},kun=t=>{if(!t.getData("application/x-slate-fragment")){var e=lze(t);if(e){var n=new DataTransfer;return t.types.forEach(r=>{n.setData(r,t.getData(r))}),n.setData("application/x-slate-fragment",e),n}}return t},Aun=3,Iun=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as"];function k1e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A1e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k1e(Object(n),!0).forEach(function(r){XHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k1e(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Dun=t=>re.createElement(re.Fragment,null,gne(t)),Run=t=>{var{autoFocus:e,decorate:n=cze,onDOMBeforeInput:r,placeholder:i,readOnly:s=!1,renderElement:o,renderLeaf:a,renderPlaceholder:l=k=>re.createElement(uze,Object.assign({},k)),scrollSelectionIntoView:u=jun,style:d={},as:f="div"}=t,h=NA(t,Iun),p=e$(),[g,v]=m.useState(!1),y=m.useRef(null),x=m.useRef([]);J9.set(p,s);var b=m.useMemo(()=>({hasInsertPrefixInCompositon:!1,isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null}),[]);Rh(()=>{var k;y.current&&(k=t$(y.current))?(hne.set(p,k),VA.set(p,y.current),Yv.set(p,y.current),sE.set(y.current,p)):Yv.delete(p);var{selection:I}=p,D=tt.findDocumentOrShadowRoot(p),R=D.getSelection();if(!(tt.isComposing(p)||!R||!tt.isFocused(p))){var O=R.type!=="None";if(!(!I&&!O)){var L=VA.get(p),P=!1;if(L.contains(R.anchorNode)&&L.contains(R.focusNode)&&(P=!0),O&&P&&I){var $=tt.toSlateRange(p,R,{exactMatch:!0,suppressThrow:!0});if($&&Ve.equals($,I))return}if(I&&!tt.hasRange(p,I)){try{p.selection=tt.toSlateRange(p,R,{exactMatch:!1,suppressThrow:!1})}catch{}return}b.isUpdatingSelection=!0;var B;try{B=I&&P?tt.toDOMRange(p,I):void 0}catch{}if(B){var Q=B.startOffset;if(jO&&I&&Q===1&&B.endOffset===1&&B[Ve.isBackward(I)?"endContainer":"startContainer"].textContent==="\uFEFF"){var V=bt.parent(p,I.focus.path);Y.isVoid(p,V)&&(Q=0)}Ve.isBackward(I)?R.setBaseAndExtent(B.endContainer,B.endOffset,B.startContainer,Q):R.setBaseAndExtent(B.startContainer,Q,B.endContainer,B.endOffset),u(p,B)}else R.removeAllRanges();setTimeout(()=>{if(B&&jO){var Z=tt.toDOMNode(p,p);Z.focus()}b.isUpdatingSelection=!1})}}}),m.useEffect(()=>{y.current&&e&&y.current.focus()},[e]);var _=m.useCallback(y9(()=>{if(!tt.isComposing(p)&&!b.isUpdatingSelection&&!b.isDraggingInternally){var k=tt.findDocumentOrShadowRoot(p),{activeElement:I}=k,D=tt.toDOMNode(p,p),R=k.getSelection();if(I===D?(b.latestElement=I,Sh.set(p,!0)):Sh.delete(p),!R)return je.deselect(p);var{anchorNode:O,focusNode:L}=R,P=Vs(p,O)||ZM(p,O),$=Vs(p,L)||ZM(p,L);if(P&&$){var B=tt.toSlateRange(p,R,{exactMatch:!1,suppressThrow:!1});je.select(p,B)}}},100),[s]),C=m.useMemo(()=>U3(_,0),[_]),S=m.useCallback(k=>{if(!s&&Vs(p,k.target)&&!dze(k,r)){var I;C.flush(),_.flush();var{selection:D}=p,{inputType:R}=k,O=k.dataTransfer||k.data||void 0;if(R==="insertCompositionText"||R==="deleteCompositionText")return;var L=!1;if(R==="insertText"&&D&&Ve.isCollapsed(D)&&k.data&&k.data.length===1&&/[a-z ]/i.test(k.data)&&D.anchor.offset!==0){var P;L=!0,p.marks&&(L=!1);var{anchor:$}=D,[B,Q]=tt.toDOMPoint(p,$),V=(P=B.parentElement)===null||P===void 0?void 0:P.closest("a");if(V&&tt.hasDOMNode(p,V)){var Z,{document:ie}=tt.getWindow(p),J=ie.createTreeWalker(V,NodeFilter.SHOW_TEXT).lastChild();J===B&&((Z=J.textContent)===null||Z===void 0?void 0:Z.length)===Q&&(L=!1)}}if(!R.startsWith("delete")||R.startsWith("deleteBy")){var[X]=k.getTargetRanges();if(X){var fe=tt.toSlateRange(p,X,{exactMatch:!1,suppressThrow:!1});if(!D||!Ve.equals(D,fe)){L=!1;var ue=p.selection&&Y.rangeRef(p,p.selection);je.select(p,fe),ue&&Ik.set(p,ue)}}}if(L||k.preventDefault(),D&&Ve.isExpanded(D)&&R.startsWith("delete")){var te=R.endsWith("Backward")?"backward":"forward";Y.deleteFragment(p,{direction:te});return}switch(R){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{Y.deleteFragment(p);break}case"deleteContent":case"deleteContentForward":{Y.deleteForward(p);break}case"deleteContentBackward":{Y.deleteBackward(p);break}case"deleteEntireSoftLine":{Y.deleteBackward(p,{unit:"line"}),Y.deleteForward(p,{unit:"line"});break}case"deleteHardLineBackward":{Y.deleteBackward(p,{unit:"block"});break}case"deleteSoftLineBackward":{Y.deleteBackward(p,{unit:"line"});break}case"deleteHardLineForward":{Y.deleteForward(p,{unit:"block"});break}case"deleteSoftLineForward":{Y.deleteForward(p,{unit:"line"});break}case"deleteWordBackward":{Y.deleteBackward(p,{unit:"word"});break}case"deleteWordForward":{Y.deleteForward(p,{unit:"word"});break}case"insertLineBreak":Y.insertSoftBreak(p);break;case"insertParagraph":{Y.insertBreak(p);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{var{selection:F}=p;F&&Ve.isExpanded(F)&&Y.deleteFragment(p),R==="insertFromComposition"&&tt.isComposing(p)&&(v(!1),Q1.set(p,!1)),(O==null?void 0:O.constructor.name)==="DataTransfer"?tt.insertData(p,O):typeof O=="string"&&(L?x.current.push(()=>Y.insertText(p,O)):Y.insertText(p,O));break}}var ne=(I=Ik.get(p))===null||I===void 0?void 0:I.unref();Ik.delete(p),ne&&(!p.selection||!Ve.equals(p.selection,ne))&&je.select(p,ne)}},[s,r]);Rh(()=>(y.current&&i1&&y.current.addEventListener("beforeinput",S),()=>{y.current&&i1&&y.current.removeEventListener("beforeinput",S)}),[S]),Rh(()=>{var k=tt.getWindow(p);return k.document.addEventListener("selectionchange",C),()=>{k.document.removeEventListener("selectionchange",C)}},[C]);var T=n([p,[]]);if(i&&p.children.length===1&&Array.from(bt.texts(p)).length===1&&bt.string(p)===""&&!g){var A=Y.start(p,[]);T.push({[Wx]:!0,placeholder:i,anchor:A,focus:A})}return re.createElement(vne.Provider,{value:s},re.createElement(mne.Provider,{value:n},re.createElement(f,Object.assign({role:s?void 0:"textbox"},h,{spellCheck:i1||!OO?h.spellCheck:!1,autoCorrect:i1||!OO?h.autoCorrect:"false",autoCapitalize:i1||!OO?h.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!s,zindex:-1,suppressContentEditableWarning:!0,ref:y,style:A1e({position:"relative",outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},d),onBeforeInput:m.useCallback(k=>{if(!i1&&!s&&!to(k,h.onBeforeInput)&&Vs(p,k.target)&&(k.preventDefault(),!tt.isComposing(p))){var I=k.data;Y.insertText(p,I)}},[s]),onInput:m.useCallback(k=>{for(var I of x.current)I();x.current=[]},[]),onBlur:m.useCallback(k=>{if(!(s||b.isUpdatingSelection||!Vs(p,k.target)||to(k,h.onBlur))){var I=tt.findDocumentOrShadowRoot(p);if(b.latestElement!==I.activeElement){var{relatedTarget:D}=k,R=tt.toDOMNode(p,p);if(D!==R&&!(md(D)&&D.hasAttribute("data-slate-spacer"))){if(D!=null&&u0(D)&&tt.hasDOMNode(p,D)){var O=tt.toSlateNode(p,D);if(Rn.isElement(O)&&!p.isVoid(O))return}if(_U){var L=I.getSelection();L==null||L.removeAllRanges()}Sh.delete(p)}}}},[s,h.onBlur]),onClick:m.useCallback(k=>{if(Bb(p,k.target)&&!to(k,h.onClick)&&u0(k.target)){var I=tt.toSlateNode(p,k.target),D=tt.findPath(p,I);if(!Y.hasPath(p,D)||bt.get(p,D)!==I)return;if(k.detail===Aun&&D.length>=1){var R=D;if(!Y.isBlock(p,I)){var O,L=Y.above(p,{match:ie=>Y.isBlock(p,ie),at:D});R=(O=L==null?void 0:L[1])!==null&&O!==void 0?O:D.slice(0,1)}var P=Y.range(p,R);je.select(p,P);return}if(s)return;var $=Y.start(p,D),B=Y.end(p,D),Q=Y.void(p,{at:$}),V=Y.void(p,{at:B});if(Q&&V&&Ae.equals(Q[1],V[1])){var Z=Y.range(p,$);je.select(p,Z)}}},[s,h.onClick]),onCompositionEnd:m.useCallback(k=>{if(Vs(p,k.target)&&!to(k,h.onCompositionEnd)&&(tt.isComposing(p)&&(v(!1),Q1.set(p,!1)),!_U&&!tun&&!Qln&&!nun&&!iun&&!run&&k.data&&Y.insertText(p,k.data),p.selection&&Ve.isCollapsed(p.selection))){var I=p.selection.anchor.path,D=bt.leaf(p,I);b.hasInsertPrefixInCompositon&&(b.hasInsertPrefixInCompositon=!1,Y.withoutNormalizing(p,()=>{var R=D.text.replace(/^\uFEFF/,"");je.delete(p,{distance:D.text.length,reverse:!0}),Y.insertText(p,R)}))}},[h.onCompositionEnd]),onCompositionUpdate:m.useCallback(k=>{Vs(p,k.target)&&!to(k,h.onCompositionUpdate)&&(tt.isComposing(p)||(v(!0),Q1.set(p,!0)))},[h.onCompositionUpdate]),onCompositionStart:m.useCallback(k=>{if(Vs(p,k.target)&&!to(k,h.onCompositionStart)){var{selection:I,marks:D}=p;if(I){if(Ve.isExpanded(I)){Y.deleteFragment(p);return}var R=Y.above(p,{match:P=>Y.isInline(p,P),mode:"highest"});if(R){var[,O]=R;if(Y.isEnd(p,I.anchor,O)){var L=Y.after(p,O);je.setSelection(p,{anchor:L,focus:L})}}D&&(b.hasInsertPrefixInCompositon=!0,je.insertNodes(p,A1e({text:"\uFEFF"},D),{select:!0}))}}},[h.onCompositionStart]),onCopy:m.useCallback(k=>{Vs(p,k.target)&&!to(k,h.onCopy)&&(k.preventDefault(),tt.setFragmentData(p,k.clipboardData,"copy"))},[h.onCopy]),onCut:m.useCallback(k=>{if(!s&&Vs(p,k.target)&&!to(k,h.onCut)){k.preventDefault(),tt.setFragmentData(p,k.clipboardData,"cut");var{selection:I}=p;if(I)if(Ve.isExpanded(I))Y.deleteFragment(p);else{var D=bt.parent(p,I.anchor.path);Y.isVoid(p,D)&&je.delete(p)}}},[s,h.onCut]),onDragOver:m.useCallback(k=>{if(Bb(p,k.target)&&!to(k,h.onDragOver)){var I=tt.toSlateNode(p,k.target);Y.isVoid(p,I)&&k.preventDefault()}},[h.onDragOver]),onDragStart:m.useCallback(k=>{if(!s&&Bb(p,k.target)&&!to(k,h.onDragStart)){var I=tt.toSlateNode(p,k.target),D=tt.findPath(p,I),R=Y.isVoid(p,I)||Y.void(p,{at:D,voids:!0});if(R){var O=Y.range(p,D);je.select(p,O)}b.isDraggingInternally=!0,tt.setFragmentData(p,k.dataTransfer,"drag")}},[s,h.onDragStart]),onDrop:m.useCallback(k=>{if(!s&&Bb(p,k.target)&&!to(k,h.onDrop)){k.preventDefault();var I=p.selection,D=tt.findEventRange(p,k),R=k.dataTransfer;je.select(p,D),b.isDraggingInternally&&I&&!Ve.equals(I,D)&&!Y.void(p,{at:D,voids:!0})&&je.delete(p,{at:I}),tt.insertData(p,R),tt.isFocused(p)||tt.focus(p)}b.isDraggingInternally=!1},[s,h.onDrop]),onDragEnd:m.useCallback(k=>{!s&&b.isDraggingInternally&&h.onDragEnd&&Bb(p,k.target)&&h.onDragEnd(k),b.isDraggingInternally=!1},[s,h.onDragEnd]),onFocus:m.useCallback(k=>{if(!s&&!b.isUpdatingSelection&&Vs(p,k.target)&&!to(k,h.onFocus)){var I=tt.toDOMNode(p,p),D=tt.findDocumentOrShadowRoot(p);if(b.latestElement=D.activeElement,jO&&k.target!==I){I.focus();return}Sh.set(p,!0)}},[s,h.onFocus]),onKeyDown:m.useCallback(k=>{if(!s&&Vs(p,k.target)){var{nativeEvent:I}=k;if(tt.isComposing(p)&&I.isComposing===!1&&(Q1.set(p,!1),v(!1)),to(k,h.onKeyDown)||tt.isComposing(p))return;var{selection:D}=p,R=p.children[D!==null?D.focus.path[0]:0],O=zHe(bt.string(R))==="rtl";if(Ai.isRedo(I)){k.preventDefault();var L=p;typeof L.redo=="function"&&L.redo();return}if(Ai.isUndo(I)){k.preventDefault();var P=p;typeof P.undo=="function"&&P.undo();return}if(Ai.isMoveLineBackward(I)){k.preventDefault(),je.move(p,{unit:"line",reverse:!0});return}if(Ai.isMoveLineForward(I)){k.preventDefault(),je.move(p,{unit:"line"});return}if(D&&(Ai.isExtendUp(I)||Ai.isExtendDown(I))&&p.isVoid(R)){k.preventDefault();var $=Ai.isExtendUp(I);je.move(p,{unit:"line",edge:"focus",reverse:$});return}if((Ai.isMoveUp(I)||Ai.isMoveDown(I))&&p.isVoid(R)){k.preventDefault();var B=Ai.isMoveDown(I);je.move(p,{unit:"line",reverse:B});return}if(Ai.isExtendLineBackward(I)){k.preventDefault(),je.move(p,{unit:"line",edge:"focus",reverse:!0});return}if(Ai.isExtendLineForward(I)){k.preventDefault(),je.move(p,{unit:"line",edge:"focus"});return}if(Ai.isMoveBackward(I)){k.preventDefault(),D&&Ve.isCollapsed(D)?je.move(p,{reverse:!O}):je.collapse(p,{edge:"start"});return}if(Ai.isMoveForward(I)){k.preventDefault(),D&&Ve.isCollapsed(D)?je.move(p,{reverse:O}):je.collapse(p,{edge:"end"});return}if(Ai.isMoveWordBackward(I)){k.preventDefault(),D&&Ve.isExpanded(D)&&je.collapse(p,{edge:"focus"}),je.move(p,{unit:"word",reverse:!O});return}if(Ai.isMoveWordForward(I)){k.preventDefault(),D&&Ve.isExpanded(D)&&je.collapse(p,{edge:"focus"}),je.move(p,{unit:"word",reverse:O});return}if(i1){if((QHe||_U)&&D&&(Ai.isDeleteBackward(I)||Ai.isDeleteForward(I))&&Ve.isCollapsed(D)){var Q=bt.parent(p,D.anchor.path);if(Rn.isElement(Q)&&Y.isVoid(p,Q)&&Y.isInline(p,Q)){k.preventDefault(),Y.deleteBackward(p,{unit:"block"});return}}}else{if(Ai.isBold(I)||Ai.isItalic(I)||Ai.isTransposeCharacter(I)){k.preventDefault();return}if(Ai.isSoftBreak(I)){k.preventDefault(),Y.insertSoftBreak(p);return}if(Ai.isSplitBlock(I)){k.preventDefault(),Y.insertBreak(p);return}if(Ai.isDeleteBackward(I)){k.preventDefault(),D&&Ve.isExpanded(D)?Y.deleteFragment(p,{direction:"backward"}):Y.deleteBackward(p);return}if(Ai.isDeleteForward(I)){k.preventDefault(),D&&Ve.isExpanded(D)?Y.deleteFragment(p,{direction:"forward"}):Y.deleteForward(p);return}if(Ai.isDeleteLineBackward(I)){k.preventDefault(),D&&Ve.isExpanded(D)?Y.deleteFragment(p,{direction:"backward"}):Y.deleteBackward(p,{unit:"line"});return}if(Ai.isDeleteLineForward(I)){k.preventDefault(),D&&Ve.isExpanded(D)?Y.deleteFragment(p,{direction:"forward"}):Y.deleteForward(p,{unit:"line"});return}if(Ai.isDeleteWordBackward(I)){k.preventDefault(),D&&Ve.isExpanded(D)?Y.deleteFragment(p,{direction:"backward"}):Y.deleteBackward(p,{unit:"word"});return}if(Ai.isDeleteWordForward(I)){k.preventDefault(),D&&Ve.isExpanded(D)?Y.deleteFragment(p,{direction:"forward"}):Y.deleteForward(p,{unit:"word"});return}}}},[s,h.onKeyDown]),onPaste:m.useCallback(k=>{!s&&Vs(p,k.target)&&!to(k,h.onPaste)&&(!i1||_un(k.nativeEvent))&&(k.preventDefault(),tt.insertData(p,k.clipboardData))},[s,h.onPaste])}),re.createElement(Dun,{decorations:T,node:p,renderElement:o,renderPlaceholder:l,renderLeaf:a,selection:p.selection}))))},uze=t=>{var{attributes:e,children:n}=t;return re.createElement("span",Object.assign({},e),n)},cze=()=>[],jun=(t,e)=>{if(!t.selection||t.selection&&Ve.isCollapsed(t.selection)){var n=e.startContainer.parentElement;n.getBoundingClientRect=e.getBoundingClientRect.bind(e),GHe(n,{scrollMode:"if-needed"}),delete n.getBoundingClientRect}},Bb=(t,e)=>u0(e)&&tt.hasDOMNode(t,e),Vs=(t,e)=>u0(e)&&tt.hasDOMNode(t,e,{editable:!0}),ZM=(t,e)=>{if(J9.get(t))return!1;var n=Bb(t,e)&&tt.toSlateNode(t,e);return Y.isVoid(t,n)},to=(t,e)=>{if(!e)return!1;var n=e(t);return n??(t.isDefaultPrevented()||t.isPropagationStopped())},dze=(t,e)=>{if(!e)return!1;var n=e(t);return n??t.defaultPrevented};function Oun(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++)if(t.charAt(r)!==e.charAt(r))return r;return t.length!==e.length?n:null}function Lun(t,e,n){for(var r=t.length,i=e.length,s=Math.min(r,i,n),o=0;o<s;o++){var a=t.charAt(r-o-1),l=e.charAt(i-o-1);if(a!==l)return o}return t.length!==e.length?s:null}function Pun(t,e){if(t===e)return null;var n=Oun(t,e);if(n===null)return null;var r=Math.min(t.length-n,e.length-n),i=Lun(t,e,r);return i===null?null:{start:n,end:i}}function I1e(t,e){return t.slice(e.start,t.length-e.end)}function Mun(t,e){if(t===void 0||e===void 0)return null;var n=Pun(t,e);if(n==null)return null;var r=I1e(e,n),i=I1e(t,n);return{start:n.start,end:t.length-n.end,insertText:r,removeText:i}}function $un(t){return t.reduce((e,n)=>{var{text:r}=n;return"".concat(e).concat(r.insertText)},"")}function Fun(t,e){var n=tt.toSlateNode(t,e);if(gt.isText(n)){var r=n.text,i=e.textContent;if(i.endsWith(`
`)&&(i=i.slice(0,i.length-1)),i!==r){var s=Mun(r,i);if(s!==null){var o=tt.findPath(t,n);return{text:s,path:o}}}}}function fze(t,e,n){var{path:r,text:i}=n,s={anchor:{path:r,offset:i.start},focus:{path:r,offset:i.end}};if(!e||!Ve.isCollapsed(e))return s;var{insertText:o,removeText:a}=i,l=o.length===1||a.length===1;if(l&&Ae.equals(e.anchor.path,r)){var[u]=Array.from(Y.nodes(t,{at:e,match:gt.isText}));if(u){var[d]=u,{anchor:f}=e,h=d.text[f.offset-1],p=d.text[f.offset];if(o.length===1&&o===p)return e;if(a.length===1&&a===h)return{anchor:{path:r,offset:f.offset-1},focus:{path:r,offset:f.offset}}}}return s}var Bun=0;class Nun{constructor(){this.id="".concat(Bun++)}}var tt={isComposing(t){return!!Q1.get(t)},getWindow(t){var e=hne.get(t);if(!e)throw new Error("Unable to find a host window element for this editor");return e},findKey(t,e){var n=Kq.get(e);return n||(n=new Nun,Kq.set(e,n)),n},findPath(t,e){for(var n=[],r=e;;){var i=fne.get(r);if(i==null){if(Y.isEditor(r))return n;break}var s=dne.get(r);if(s==null)break;n.unshift(s),r=i}throw new Error("Unable to find the path for Slate node: ".concat(Za.stringify(e)))},findDocumentOrShadowRoot(t){var e=tt.toDOMNode(t,t),n=e.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&n.getSelection!=null?n:e.ownerDocument},isFocused(t){return!!Sh.get(t)},isReadOnly(t){return!!J9.get(t)},blur(t){var e=tt.toDOMNode(t,t),n=tt.findDocumentOrShadowRoot(t);Sh.set(t,!1),n.activeElement===e&&e.blur()},focus(t){var e=tt.toDOMNode(t,t),n=tt.findDocumentOrShadowRoot(t);Sh.set(t,!0),n.activeElement!==e&&e.focus({preventScroll:!0})},deselect(t){tt.toDOMNode(t,t);var{selection:e}=t,n=tt.findDocumentOrShadowRoot(t),r=n.getSelection();r&&r.rangeCount>0&&r.removeAllRanges(),e&&je.deselect(t)},hasDOMNode(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:r=!1}=n,i=tt.toDOMNode(t,t),s;try{s=md(e)?e:e.parentElement}catch(o){if(!o.message.includes('Permission denied to access property "nodeType"'))throw o}return s?s.closest("[data-slate-editor]")===i&&(!r||s.isContentEditable?!0:typeof s.isContentEditable=="boolean"&&s.closest('[contenteditable="false"]')===i||!!s.getAttribute("data-slate-zero-width")):!1},insertData(t,e){t.insertData(e)},insertFragmentData(t,e){return t.insertFragmentData(e)},insertTextData(t,e){return t.insertTextData(e)},setFragmentData(t,e,n){t.setFragmentData(e,n)},toDOMNode(t,e){var n=Q9.get(t),r=Y.isEditor(e)?VA.get(t):n==null?void 0:n.get(tt.findKey(t,e));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(Za.stringify(e)));return r},toDOMPoint(t,e){var[n]=Y.node(t,e.path),r=tt.toDOMNode(t,n),i;Y.void(t,{at:e})&&(e={path:e.path,offset:0});var s="[data-slate-string], [data-slate-zero-width]",o=Array.from(r.querySelectorAll(s)),a=0;for(var l of o){var u=l.childNodes[0];if(!(u==null||u.textContent==null)){var{length:d}=u.textContent,f=l.getAttribute("data-slate-length"),h=f==null?d:parseInt(f,10),p=a+h;if(e.offset<=p){var g=Math.min(d,Math.max(0,e.offset-a));i=[u,g];break}a=p}}if(!i)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(Za.stringify(e)));return i},toDOMRange(t,e){var{anchor:n,focus:r}=e,i=Ve.isBackward(e),s=tt.toDOMPoint(t,n),o=Ve.isCollapsed(e)?s:tt.toDOMPoint(t,r),a=tt.getWindow(t),l=a.document.createRange(),[u,d]=i?o:s,[f,h]=i?s:o,p=md(u)?u:u.parentElement,g=!!p.getAttribute("data-slate-zero-width"),v=md(f)?f:f.parentElement,y=!!v.getAttribute("data-slate-zero-width");return l.setStart(u,g?1:d),l.setEnd(f,y?1:h),l},toSlateNode(t,e){var n=md(e)?e:e.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?sE.get(n):null;if(!r)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},findEventRange(t,e){"nativeEvent"in e&&(e=e.nativeEvent);var{clientX:n,clientY:r,target:i}=e;if(n==null||r==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(e));var s=tt.toSlateNode(t,e.target),o=tt.findPath(t,s);if(Y.isVoid(t,s)){var a=i.getBoundingClientRect(),l=t.isInline(s)?n-a.left<a.left+a.width-n:r-a.top<a.top+a.height-r,u=Y.point(t,o,{edge:l?"start":"end"}),d=l?Y.before(t,u):Y.after(t,u);if(d){var f=Y.range(t,d);return f}}var h,{document:p}=tt.getWindow(t);if(p.caretRangeFromPoint)h=p.caretRangeFromPoint(n,r);else{var g=p.caretPositionFromPoint(n,r);g&&(h=p.createRange(),h.setStart(g.offsetNode,g.offset),h.setEnd(g.offsetNode,g.offset))}if(!h)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(e));var v=tt.toSlateRange(t,h,{exactMatch:!1,suppressThrow:!1});return v},toSlatePoint(t,e,n){var{exactMatch:r,suppressThrow:i}=n,[s,o]=r?e:Cun(e),a=s.parentNode,l=null,u=0;if(a){var d,f=tt.toDOMNode(t,t),h=a.closest('[data-slate-void="true"]'),p=h&&f.contains(h)?h:null,g=a.closest("[data-slate-leaf]"),v=null;if(g){if(l=g.closest('[data-slate-node="text"]'),l){var y=tt.getWindow(t),x=y.document.createRange();x.setStart(l,0),x.setEnd(s,o);var b=x.cloneContents(),_=[...Array.prototype.slice.call(b.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(b.querySelectorAll("[contenteditable=false]"))];_.forEach(T=>{T.parentNode.removeChild(T)}),u=b.textContent.length,v=l}}else p&&(g=p.querySelector("[data-slate-leaf]"),g?(l=g.closest('[data-slate-node="text"]'),v=g,u=v.textContent.length,v.querySelectorAll("[data-slate-zero-width]").forEach(T=>{u-=T.textContent.length})):u=1);v&&u===v.textContent.length&&(a.hasAttribute("data-slate-zero-width")||jO&&(d=v.textContent)!==null&&d!==void 0&&d.endsWith(`

`))&&u--}if(!l){if(i)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(e))}var C=tt.toSlateNode(t,l),S=tt.findPath(t,C);return{path:S,offset:u}},toSlateRange(t,e,n){var{exactMatch:r,suppressThrow:i}=n,s=T1e(e)?e.anchorNode:e.startContainer,o,a,l,u,d;if(s&&(T1e(e)?(o=e.anchorNode,a=e.anchorOffset,l=e.focusNode,u=e.focusOffset,QHe&&Eun()?d=e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset:d=e.isCollapsed):(o=e.startContainer,a=e.startOffset,l=e.endContainer,u=e.endOffset,d=e.collapsed)),o==null||l==null||a==null||u==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(e));var f=tt.toSlatePoint(t,[o,a],{exactMatch:r,suppressThrow:i});if(!f)return null;var h=d?f:tt.toSlatePoint(t,[l,u],{exactMatch:r,suppressThrow:i});if(!h)return null;var p={anchor:f,focus:h};return Ve.isExpanded(p)&&Ve.isForward(p)&&md(l)&&Y.void(t,{at:p.focus,mode:"highest"})&&(p=Y.unhangRange(t,p,{voids:!0})),p},hasRange(t,e){var{anchor:n,focus:r}=e;return Y.hasPath(t,n.path)&&Y.hasPath(t,r.path)}};function Vun(t,e){var n=[],r=[],i=[],s=[];return e.forEach(o=>{switch(o.type){case"childList":{o.addedNodes.length&&o.addedNodes.forEach(u=>{n.push(u)}),o.removedNodes.forEach(u=>{r.push(u)});break}case"characterData":{s.push(o);var{parentNode:a}=o.target;if(!a)return;var l=Fun(t,a);if(!l||i.some(u=>{var{path:d}=u;return Ae.equals(d,l.path)}))return;i.push(l)}}}),{addedNodes:n,removedNodes:r,insertedText:i,characterDataMutations:s}}var Uun=(t,e)=>{var{addedNodes:n}=e,{selection:r}=t,i=r?bt.parent(t,r.anchor.path):null,s=i?tt.toDOMNode(t,i):null;return s?n.some(o=>o instanceof HTMLElement&&o.tagName===(s==null?void 0:s.tagName)):!1},Hun=(t,e)=>{var{removedNodes:n}=e;return n.length>0},zun=(t,e)=>{var{selection:n}=t,{removedNodes:r}=e;return n?Ve.isExpanded(n)&&r.length>0:!1},Wun=(t,e)=>{var{insertedText:n}=e;return n.length>0},Gun=(t,e)=>{var{addedNodes:n,characterDataMutations:r,removedNodes:i}=e;return i.length>0&&n.length===0&&r.length>0};class qun{constructor(e,n){this.editor=e,this.restoreDOM=n,this.flush=r=>{try{this.reconcileMutations(r)}catch(i){console.error(i),this.restoreDOM()}},this.reconcileMutations=r=>{var i=Vun(this.editor,r),{insertedText:s,removedNodes:o}=i;if(zun(this.editor,i)){var a=$un(s);this.replaceExpandedSelection(a)}else Uun(this.editor,i)?this.insertBreak():Gun(this.editor,i)?this.removeLeafNodes(o):Hun(this.editor,i)?this.deleteBackward():Wun(this.editor,i)&&this.insertText(s)},this.insertText=r=>{var{selection:i}=this.editor;if(tt.isComposing(this.editor)||Zq.get(this.editor)){Xq.set(this.editor,r),Zq.set(this.editor,!1);return}r.forEach(s=>{var o=s.text.insertText,a=fze(this.editor,i,s);je.setSelection(this.editor,a),Y.insertText(this.editor,o)})},this.insertBreak=()=>{var{selection:r}=this.editor;Y.insertBreak(this.editor),this.restoreDOM(),r&&setTimeout(()=>{this.editor.selection&&Ve.equals(r,this.editor.selection)&&je.move(this.editor)},100)},this.replaceExpandedSelection=r=>{Y.deleteFragment(this.editor),r.length&&Y.insertText(this.editor,r),this.restoreDOM()},this.deleteBackward=()=>{Y.deleteBackward(this.editor),tt.focus(this.editor),this.restoreDOM()},this.removeLeafNodes=r=>{for(var i of r){var s=tt.toSlateNode(this.editor,i);if(s){var o=tt.findPath(this.editor,s);je.delete(this.editor,{at:o}),this.restoreDOM()}}},this.editor=e,this.restoreDOM=n}}function hze(t,e,n){var[r]=m.useState(()=>new MutationObserver(e));Rh(()=>{r.disconnect()}),m.useEffect(()=>{if(!t.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return r.observe(t.current,n),r.disconnect.bind(r)})}var Yun={childList:!0,characterData:!0,subtree:!0};function pze(t){var e,n=md(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n&&sE.get(n);return r||((e=n)!==null&&e!==void 0&&e.parentElement?pze(n.parentElement):null)}function Kun(t,e){var n=jm(),r=m.useRef(new Set),i=m.useCallback(o=>{e.current&&o.forEach(a=>{var{target:l}=a,u=pze(l);if(u)return r.current.add(u)})},[]);hze(t,i,Yun),r.current.clear();var s=m.useCallback(()=>{var o=Array.from(r.current.values()),a=o.filter(l=>!o.some(u=>Ae.isParent(tt.findPath(n,u),tt.findPath(n,l))));a.forEach(l=>{var u;(u=Jq.get(l))===null||u===void 0||u()}),r.current.clear()},[]);return s}function Zun(){var t=jm(),e=m.useRef(!1),n=m.useRef(null),r=m.useCallback(()=>{if(e.current===!1){var i=tt.getWindow(t);e.current=!0,n.current&&i.cancelAnimationFrame(n.current),n.current=i.requestAnimationFrame(()=>{e.current=!1,n.current=null})}},[]);return m.useEffect(()=>{e.current&&(e.current=!1)}),{receivedUserInput:e,onUserInput:r}}var Xun={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0};function Qun(t){var e=jm(),{receivedUserInput:n,onUserInput:r}=Zun(),i=Kun(t,n),s=m.useMemo(()=>new qun(e,i),[i,e]),o=m.useRef(null),a=m.useRef(!1),l=m.useCallback(u=>{n.current&&(a.current=!0,s.flush(u),o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{a.current=!1,o.current=null},250))},[]);return hze(t,l,Xun),{isReconciling:a,onUserInput:r}}var Jun=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","style","as"];function D1e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ecn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D1e(Object(n),!0).forEach(function(r){XHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D1e(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var tcn=20,ncn=t=>{var{autoFocus:e,decorate:n=cze,onDOMBeforeInput:r,placeholder:i,readOnly:s=!1,renderElement:o,renderLeaf:a,renderPlaceholder:l=k=>re.createElement(uze,Object.assign({},k)),style:u={},as:d="div"}=t,f=NA(t,Jun),h=e$(),[p,g]=m.useState(!1),v=m.useRef(null),y=Qun(v);J9.set(h,s);var x=m.useMemo(()=>({isComposing:!1,isUpdatingSelection:!1,latestElement:null}),[]),b=pne(h);Rh(()=>{var k;v.current&&(k=t$(v.current))?(hne.set(h,k),VA.set(h,v.current),Yv.set(h,v.current),sE.set(v.current,h)):Yv.delete(h);try{var{selection:I}=h,D=tt.findDocumentOrShadowRoot(h),R=D.getSelection();if(x.isComposing||!R||!tt.isFocused(h))return;var O=R.type!=="None";if(!I&&!O)return;var L=VA.get(h),P=!1;if(L.contains(R.anchorNode)&&L.contains(R.focusNode)&&(P=!0),O&&P&&I){var $=tt.toSlateRange(h,R,{exactMatch:!0,suppressThrow:!0});if($&&Ve.equals($,I))return}if(I&&!tt.hasRange(h,I)){h.selection=tt.toSlateRange(h,R,{exactMatch:!1,suppressThrow:!1});return}var B=tt.toDOMNode(h,h);x.isUpdatingSelection=!0;var Q=I&&tt.toDOMRange(h,I);if(Q){Ve.isBackward(I)?R.setBaseAndExtent(Q.endContainer,Q.endOffset,Q.startContainer,Q.startOffset):R.setBaseAndExtent(Q.startContainer,Q.startOffset,Q.endContainer,Q.endOffset);var V=Q.startContainer.parentElement;V.getBoundingClientRect=Q.getBoundingClientRect.bind(Q),GHe(V,{scrollMode:"if-needed",boundary:B}),delete V.getBoundingClientRect}else R.removeAllRanges();setTimeout(()=>{x.isUpdatingSelection=!1})}catch{x.isUpdatingSelection=!1}}),m.useEffect(()=>{v.current&&e&&v.current.focus()},[e]);var _=m.useCallback(y9(()=>{try{if(!x.isComposing&&!x.isUpdatingSelection&&!y.isReconciling.current){var k=tt.findDocumentOrShadowRoot(h),{activeElement:I}=k,D=tt.toDOMNode(h,h),R=k.getSelection();if(I===D?(x.latestElement=I,Sh.set(h,!0)):Sh.delete(h),!R)return je.deselect(h);var{anchorNode:O,focusNode:L}=R,P=Vs(h,O)||ZM(h,O),$=Vs(h,L)||ZM(h,L);if(P&&$){var B=tt.toSlateRange(h,R,{exactMatch:!1,suppressThrow:!1});je.select(h,B)}else je.deselect(h)}}catch{}},100),[s]),C=m.useMemo(()=>U3(_,0),[_]),S=m.useCallback(k=>{!s&&Vs(h,k.target)&&!dze(k,r)&&(C.flush(),y.onUserInput())},[s,r]);Rh(()=>{var k=v.current;return k==null||k.addEventListener("beforeinput",S),()=>k==null?void 0:k.removeEventListener("beforeinput",S)},[b,r]),Rh(()=>{var k=tt.getWindow(h);return k.document.addEventListener("selectionchange",C),()=>{k.document.removeEventListener("selectionchange",C)}},[C]);var T=n([h,[]]);if(i&&h.children.length===1&&Array.from(bt.texts(h)).length===1&&bt.string(h)===""&&!p){var A=Y.start(h,[]);T.push({[Wx]:!0,placeholder:i,anchor:A,focus:A})}return re.createElement(vne.Provider,{value:s},re.createElement(mne.Provider,{value:n},re.createElement(d,Object.assign({key:b,role:s?void 0:"textbox"},f,{spellCheck:f.spellCheck,autoCorrect:f.autoCorrect,autoCapitalize:f.autoCapitalize,"data-slate-editor":!0,"data-slate-node":"value",contentEditable:s?void 0:!0,suppressContentEditableWarning:!0,ref:v,style:ecn({position:"relative",outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},u),onCopy:m.useCallback(k=>{Vs(h,k.target)&&!to(k,f.onCopy)&&(k.preventDefault(),tt.setFragmentData(h,k.clipboardData,"copy"))},[f.onCopy]),onCut:m.useCallback(k=>{if(!s&&Vs(h,k.target)&&!to(k,f.onCut)){k.preventDefault(),tt.setFragmentData(h,k.clipboardData,"cut");var{selection:I}=h;if(I)if(Ve.isExpanded(I))Y.deleteFragment(h);else{var D=bt.parent(h,I.anchor.path);Y.isVoid(h,D)&&je.delete(h)}}},[s,f.onCut]),onFocus:m.useCallback(k=>{if(!s&&!x.isUpdatingSelection&&Vs(h,k.target)&&!to(k,f.onFocus)){var I=tt.findDocumentOrShadowRoot(h);x.latestElement=I.activeElement,Sh.set(h,!0)}},[s,f.onFocus]),onBlur:m.useCallback(k=>{if(!(s||x.isUpdatingSelection||!Vs(h,k.target)||to(k,f.onBlur))){var I=tt.findDocumentOrShadowRoot(h);if(x.latestElement!==I.activeElement){var{relatedTarget:D}=k,R=tt.toDOMNode(h,h);if(D!==R&&!(md(D)&&D.hasAttribute("data-slate-spacer"))){if(D!=null&&u0(D)&&tt.hasDOMNode(h,D)){var O=tt.toSlateNode(h,D);if(Rn.isElement(O)&&!h.isVoid(O))return}Sh.delete(h)}}}},[s,f.onBlur]),onClick:m.useCallback(k=>{if(!s&&Bb(h,k.target)&&!to(k,f.onClick)&&u0(k.target)){var I=tt.toSlateNode(h,k.target),D=tt.findPath(h,I);if(Y.hasPath(h,D)){var R=bt.get(h,D);if(R===I){var O=Y.start(h,D),L=Y.end(h,D),P=Y.void(h,{at:O}),$=Y.void(h,{at:L});if(P&&$&&Ae.equals(P[1],$[1])){var B=Y.range(h,O);je.select(h,B)}}}}},[s,f.onClick]),onCompositionEnd:m.useCallback(k=>{Vs(h,k.target)&&!to(k,f.onCompositionEnd)&&(C.flush(),setTimeout(()=>{x.isComposing&&g(!1),x.isComposing=!1,Q1.set(h,!1),Zq.set(h,!0);var I=Xq.get(h)||[];if(I.length){Xq.set(h,[]);var{selection:D}=h;I.forEach(R=>{var O=R.text.insertText,L=fze(h,D,R);je.setSelection(h,L),Y.insertText(h,O)})}},tcn))},[f.onCompositionEnd]),onCompositionUpdate:m.useCallback(k=>{Vs(h,k.target)&&!to(k,f.onCompositionUpdate)&&(!x.isComposing&&g(!0),x.isComposing=!0,Q1.set(h,!0))},[f.onCompositionUpdate]),onCompositionStart:m.useCallback(k=>{Vs(h,k.target)&&!to(k,f.onCompositionStart)&&(!x.isComposing&&g(!0),x.isComposing=!0,Q1.set(h,!0))},[f.onCompositionStart]),onPaste:m.useCallback(k=>{k.clipboardData=kun(k.clipboardData),Vs(h,k.target)&&!to(k,f.onPaste)&&!s&&(k.preventDefault(),tt.insertData(h,k.clipboardData))},[s,f.onPaste])}),gne({decorations:T,node:h,renderElement:o,renderPlaceholder:l,renderLeaf:a,selection:h.selection}))))},rcn=m.createContext(!1),icn=m.createContext({});function scn(t){var e=m.useRef([]).current,n=m.useRef({editor:t}).current,r=m.useCallback(s=>{n.editor=s,e.forEach(o=>o(s))},[]),i=m.useMemo(()=>({getSlate:()=>n.editor,addEventListener:s=>(e.push(s),()=>{e.splice(e.indexOf(s),1)})}),[e,n]);return{selectorContext:i,onChange:r}}var ocn=["editor","children","onChange","value"],acn=t=>{var{editor:e,children:n,onChange:r,value:i}=t,s=NA(t,ocn),o=m.useRef(!1),[a,l]=re.useState(()=>{if(!bt.isNodeList(i))throw new Error("[Slate] value is invalid! Expected a list of elements"+"but got: ".concat(Za.stringify(i)));if(!Y.isEditor(e))throw new Error("[Slate] editor is invalid! you passed:"+"".concat(Za.stringify(e)));return e.children=i,Object.assign(e,s),[e]}),{selectorContext:u,onChange:d}=scn(e),f=m.useCallback(()=>{r&&r(e.children),l([e]),d(e)},[r]);Qq.set(e,f),m.useEffect(()=>()=>{Qq.set(e,()=>{}),o.current=!0},[]);var[h,p]=m.useState(tt.isFocused(e));return m.useEffect(()=>{p(tt.isFocused(e))}),Rh(()=>{var g=()=>p(tt.isFocused(e));return Xln?(document.addEventListener("focusin",g),document.addEventListener("focusout",g),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",g)}):(document.addEventListener("focus",g,!0),document.addEventListener("blur",g,!0),()=>{document.removeEventListener("focus",g,!0),document.removeEventListener("blur",g,!0)})},[]),re.createElement(icn.Provider,{value:u},re.createElement(ize.Provider,{value:a},re.createElement(tze.Provider,{value:e},re.createElement(rcn.Provider,{value:h},n))))},R1e=(t,e)=>{var n=(e.top+e.bottom)/2;return t.top<=n&&t.bottom>=n},j1e=(t,e,n)=>{var r=tt.toDOMRange(t,e).getBoundingClientRect(),i=tt.toDOMRange(t,n).getBoundingClientRect();return R1e(r,i)&&R1e(i,r)},lcn=(t,e)=>{var n=Y.range(t,Ve.end(e)),r=Array.from(Y.positions(t,{at:e})),i=0,s=r.length,o=Math.floor(s/2);if(j1e(t,Y.range(t,r[i]),n))return Y.range(t,r[i],n);if(r.length<2)return Y.range(t,r[r.length-1],n);for(;o!==r.length&&o!==i;)j1e(t,Y.range(t,r[o]),n)?s=o:i=o,o=Math.floor((i+s)/2);return Y.range(t,r[s],n)},ucn=t=>{var e=t,{apply:n,onChange:r,deleteBackward:i}=e;return Q9.set(e,new WeakMap),e.deleteBackward=s=>{if(s!=="line")return i(s);if(t.selection&&Ve.isCollapsed(t.selection)){var o=Y.above(t,{match:d=>Y.isBlock(t,d),at:t.selection});if(o){var[,a]=o,l=Y.range(t,a,t.selection.anchor),u=lcn(e,l);Ve.isCollapsed(u)||je.delete(t,{at:u})}}},e.apply=s=>{var o=[];switch(s.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{o.push(...h4(e,s.path));break}case"set_selection":{var a;(a=Ik.get(t))===null||a===void 0||a.unref(),Ik.delete(t);break}case"insert_node":case"remove_node":{o.push(...h4(e,Ae.parent(s.path)));break}case"merge_node":{var l=Ae.previous(s.path);o.push(...h4(e,l));break}case"move_node":{var u=Ae.common(Ae.parent(s.path),Ae.parent(s.newPath));o.push(...h4(e,u));break}}n(s);for(var[d,f]of o){var[h]=Y.node(e,d);Kq.set(h,f)}},e.setFragmentData=s=>{var{selection:o}=e;if(o){var[a,l]=Ve.edges(o),u=Y.void(e,{at:a.path}),d=Y.void(e,{at:l.path});if(!(Ve.isCollapsed(o)&&!u)){var f=tt.toDOMRange(e,o),h=f.cloneContents(),p=h.childNodes[0];if(h.childNodes.forEach(T=>{T.textContent&&T.textContent.trim()!==""&&(p=T)}),d){var[g]=d,v=f.cloneRange(),y=tt.toDOMNode(e,g);v.setEndAfter(y),h=v.cloneContents()}if(u&&(p=h.querySelector("[data-slate-spacer]")),Array.from(h.querySelectorAll("[data-slate-zero-width]")).forEach(T=>{var A=T.getAttribute("data-slate-zero-width")==="n";T.textContent=A?`
`:""}),sze(p)){var x=p.ownerDocument.createElement("span");x.style.whiteSpace="pre",x.appendChild(p),h.appendChild(x),p=x}var b=e.getFragment(),_=JSON.stringify(b),C=window.btoa(encodeURIComponent(_));p.setAttribute("data-slate-fragment",C),s.setData("application/x-slate-fragment",C);var S=h.ownerDocument.createElement("div");return S.appendChild(h),S.setAttribute("hidden","true"),h.ownerDocument.body.appendChild(S),s.setData("text/html",S.innerHTML),s.setData("text/plain",aze(S)),h.ownerDocument.body.removeChild(S),s}}},e.insertData=s=>{e.insertFragmentData(s)||e.insertTextData(s)},e.insertFragmentData=s=>{var o=s.getData("application/x-slate-fragment")||lze(s);if(o){var a=decodeURIComponent(window.atob(o)),l=JSON.parse(a);return e.insertFragment(l),!0}return!1},e.insertTextData=s=>{var o=s.getData("text/plain");if(o){var a=o.split(/\r\n|\r|\n/),l=!1;for(var u of a)l&&je.splitNodes(e,{always:!0}),e.insertText(u),l=!0;return!0}return!1},e.onChange=()=>{M7e.unstable_batchedUpdates(()=>{var s=Qq.get(e);s&&s(),r()})},e},h4=(t,e)=>{var n=[];for(var[r,i]of Y.levels(t,{at:e})){var s=tt.findKey(t,r);n.push([i,s])}return n},ccn=cne?ncn:Run,dcn=HPe,O1e=1/0,fcn=17976931348623157e292;function hcn(t){if(!t)return t===0?t:0;if(t=dcn(t),t===O1e||t===-O1e){var e=t<0?-1:1;return e*fcn}return t===t?t:0}var mze=hcn,pcn=mze;function mcn(t){var e=pcn(t),n=e%1;return e===e?n?e-n:e:0}var gcn=mcn,vcn=TBe,ycn=my,bcn=gcn,xcn=Math.max;function wcn(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:bcn(n);return i<0&&(i=xcn(r+i,0)),vcn(t,ycn(e),i)}var gze=wcn;const vze=vt(gze);var _cn=ate,Ccn=4;function Ecn(t){return _cn(t,Ccn)}var Scn=Ecn;const yze=vt(Scn);function LO(t){return!!t&&(typeof t=="object"||typeof t=="function")}function XM(t){return LO(t)&&typeof t._type=="string"&&Array.isArray(t.children)&&t.children.every(e=>LO(e))&&("markDefs"in t?Array.isArray(t.markDefs)&&t.markDefs.every(e=>LO(e)):!1)&&("style"in t?typeof t.style=="string":!0)}function EU(t){return LO(t)&&t._type==="span"&&typeof t.text=="string"&&("marks"in t?Array.isArray(t.marks)&&t.marks.every(e=>typeof e=="string"):!0)}function c0(t){return!!t&&(typeof t=="object"||typeof t=="function")}function L1e(t){return c0(t)?t.jsonType==="object":!1}function Tcn(t){return c0(t)?t.jsonType==="array":!1}function kcn(t){return typeof t=="object"&&t!==null&&"title"in t&&"value"in t}function Acn(t){return c0(t)?Array.isArray(t.annotations)&&Array.isArray(t.decorators):!1}function Icn(t){if(!c0(t)||!Array.isArray(t.fields))return!1;const[e,n,r]=t.fields;return wze(e)&&bze(n)&&xze(r)}function bze(t){return!c0(t)||t.name!=="style"?!1:c0(t.type)&&t.type.jsonType==="string"}function xze(t){return!c0(t)||t.name!=="list"?!1:c0(t.type)&&t.type.jsonType==="string"}function wze(t){return!c0(t)||t.name!=="children"||!Tcn(t.type)?!1:t.type.of.some(Acn)}function yne(t){return t.type?yne(t.type):t.name==="block"}function Dcn(t){var e,n;if(!t)throw new Error("Parameter 'blockContentType' required");const r=t.of.find(yne);if(!Icn(r))throw new Error("'block' type is not defined in this schema (required).");const i=(n=(e=r.fields.find(wze))==null?void 0:e.type)==null?void 0:n.of;if(!i)throw new Error("No `of` declaration found for blocks `children` field");const s=i.find(l=>l.name==="span");if(!s)throw new Error("No `span` type found in `block` schema type `children` definition");const o=i.filter(l=>l.name!=="span"&&L1e(l)),a=t.of.filter(l=>l.name!==r.name&&L1e(l));return{styles:Rcn(r),decorators:Ocn(s),annotations:jcn(s),lists:Lcn(r),types:{block:t,span:s,inlineObjects:o,blockObjects:a}}}function Rcn(t){const e=t.fields.find(bze);if(!e)throw new Error("A field with name 'style' is not defined in the block type (required).");const n=_ze(e.type.options);if(n.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return n}function jcn(t){return t.annotations.map(e=>({title:e.title,type:e,value:e.name,icon:e.icon}))}function Ocn(t){return t.decorators}function Lcn(t){const e=t.fields.find(xze);if(!e)throw new Error("A field with name 'list' is not defined in the block type (required).");const n=_ze(e.type.options);if(!n)throw new Error("The list field need at least to be an empty array");return n}function _ze(t){const e=t?t.list:void 0;return Array.isArray(e)?e.map(n=>kcn(n)?n:{title:n,value:n}):[]}const Pcn=Object.prototype.toString;function Cze(t){switch(Pcn.call(t)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}return t===null?"null":t===void 0?"undefined":t&&typeof t=="object"&&"nodeType"in t&&t.nodeType===1?"element":t===Object(t)?"object":typeof t}function Mcn(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const e=new Uint8Array(t);return Jte(e),e}const Eze=[];for(let t=0;t<256;++t)Eze[t]=(t+256).toString(16).substring(1);function eY(t){return Mcn(t).reduce((e,n)=>e+Eze[n],"").slice(0,t)}const $cn=["pre","textarea","code"],eC="normal",Tc=Object.freeze({_type:"block",markDefs:[],style:eC}),PO=Object.freeze({_type:"span",marks:[]}),QM={p:Tc,blockquote:{...Tc,style:"blockquote"}},Sze={span:{object:"text"}},JM={ol:{object:null},ul:{object:null}},e6={h1:{...Tc,style:"h1"},h2:{...Tc,style:"h2"},h3:{...Tc,style:"h3"},h4:{...Tc,style:"h4"},h5:{...Tc,style:"h5"},h6:{...Tc,style:"h6"}},Fcn={br:{...Tc,style:eC}},Tze={b:"strong",strong:"strong",i:"em",em:"em",u:"underline",s:"strike-through",strike:"strike-through",del:"strike-through",code:"code",sup:"sup",sub:"sub",ins:"ins",mark:"mark",small:"small"},kze={li:{...Tc,style:eC,level:1,listItem:"bullet"}},Bcn={...QM,...Sze,...JM,...kze,...e6,...Fcn};ha(Object.values(Bcn).filter(t=>"style"in t).map(t=>t.style));ha(Object.values(Tze));const tC={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9};var Ncn=(t,e)=>{function n(r){var i,s;if(r.nodeType===tC.BOOLEAN_TYPE&&!$cn.includes(((i=r.parentElement)==null?void 0:i.tagName.toLowerCase())||""))r.textContent=((s=r.textContent)==null?void 0:s.replace(/\s\s+/g," ").replace(/[\r\n]+/g," "))||"";else for(let o=0;o<r.childNodes.length;o++)n(r.childNodes[o])}return n(e.body),e};const Vcn=["/html/text()","/html/head/text()","/html/body/text()","/html/body/ul/text()","/html/body/ol/text()","//comment()","//style","//xml","//script","//meta","//link"];var Ucn=(t,e)=>{var n,r,i;const s=e.evaluate("/html/body/text()",e,null,tC.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let a=s.snapshotLength-1;a>=0;a--){const l=s.snapshotItem(a),u=l.textContent||"";if(u.replace(/[^\S\n]+$/g,"")){const d=e.createElement("span");d.appendChild(e.createTextNode(u)),(n=l.parentNode)==null||n.replaceChild(d,l)}else(r=l.parentNode)==null||r.removeChild(l)}const o=e.evaluate(Vcn.join("|"),e,null,tC.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let a=o.snapshotLength-1;a>=0;a--){const l=o.snapshotItem(a);l&&((i=l.parentNode)==null||i.removeChild(l))}return e};const Hcn=/(class="?Mso|style=(?:"|')[^"]*?\bmso-|w:WordDocument|<o:\w+>|<\/font>)/,zcn=["//o:p","//span[@style='mso-list:Ignore']","//span[@style='mso-list: Ignore']"],Wcn=["//p[@class='MsoTocHeading']","//p[@class='MsoTitle']","//p[@class='MsoToaHeading']","//p[@class='MsoSubtitle']","//span[@class='MsoSubtleEmphasis']","//span[@class='MsoIntenseEmphasis']"],Gcn={MsoTocHeading:["h3"],MsoTitle:["h1"],MsoToaHeading:["h2"],MsoSubtitle:["h5"],MsoSubtleEmphasis:["span","em"],MsoIntenseEmphasis:["span","em","strong"]};function qcn(t){return Hcn.test(t)}var Ycn=(t,e)=>{var n;if(!qcn(t))return e;const r=e.evaluate(zcn.join("|"),e,s=>s==="o"?"urn:schemas-microsoft-com:office:office":null,tC.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let s=r.snapshotLength-1;s>=0;s--){const o=r.snapshotItem(s);o!=null&&o.parentNode&&o.parentNode.removeChild(o)}const i=e.evaluate(Wcn.join("|"),e,null,tC.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let s=i.snapshotLength-1;s>=0;s--){const o=i.snapshotItem(s),a=Gcn[o.className],l=new Text(o.textContent||"");if(!a)continue;const u=document.createElement(a[0]);let d=u,f=u;a.slice(1).forEach(h=>{f=document.createElement(h),d.appendChild(f),d=f}),f.appendChild(l),(n=o==null?void 0:o.parentNode)==null||n.replaceChild(u,o)}return e};function Kcn(t){if(t.nodeType!==1)return!1;const e=t.getAttribute("id");return e&&e.match(/^docs-internal-guid-/)&&t.tagName==="B"}var Zcn=(t,e)=>{if(e.body.firstElementChild&&Kcn(e.body.firstElementChild)){const n=e.evaluate("//*",e,null,tC.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let r=n.snapshotLength-1;r>=0;r--){const i=n.snapshotItem(r);i==null||i.setAttribute("data-is-google-docs","true")}return e.body.firstElementChild.replaceWith(...Array.from(e.body.firstElementChild.childNodes)),e}return e},Xcn=[Ncn,Ycn,Zcn,Ucn];function Qcn(t){const e=Dcn(t),n=e.styles.map(s=>s.value||s.title),r=e.decorators.map(s=>s.value||s.title),i=e.annotations.map(s=>s.value||s.title||"");return{enabledBlockStyles:n,enabledSpanDecorators:r,enabledBlockAnnotations:i}}function no(t){if(t&&"tagName"in t)return t.tagName.toLowerCase()}function Jcn(t,e){const n=e(edn(t));return Xcn.forEach(r=>{r(t,n)}),n}function edn(t){return t.trim()}function tdn(){if(Cze(DOMParser)==="undefined")throw new Error("The native `DOMParser` global which the `Html` deserializer uses by default is not present in this environment. You must supply the `options.parseHtml` function instead.");return t=>new DOMParser().parseFromString(t,"text/html")}function ndn(t){let e=0;const n=[],r=i=>{const s=[];i.forEach(o=>{e===0&&n.push(o),XM(o)&&(e>0&&(s.push(o),n.push(o)),e++,r(o.children)),o._type==="__block"&&(s.push(o),n.push(o.block))}),s.forEach(o=>{i.splice(i.indexOf(o),1)}),e--};return r(t),n}function rdn(t,e){const n=t.children[e+1];return n&&n._type==="span"?n:null}function idn(t,e){const n=t.children[e-1];return n&&n._type==="span"?n:null}function P1e(t){return[""," "].includes(t)}function sdn(t){return t.forEach(e=>{XM(e)&&e.children.forEach((n,r)=>{if(!h_(n))return;const i=rdn(e,r),s=idn(e,r);r===0&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),r===e.children.length-1&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.substring(n.text.length-1))&&i&&h_(i)&&/\s/.test(i.text.substring(0,1))&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.substring(0,1))&&s&&h_(s)&&/\s/.test(s.text.substring(s.text.length-1))&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),n.text||e.children.splice(r,1),s&&Ur(s.marks,n.marks)&&P1e(n.text)?(s.text+=" ",e.children.splice(r,1)):i&&Ur(i.marks,n.marks)&&P1e(n.text)&&(i.text=" ".concat(i.text),e.children.splice(r,1))})}),t}function odn(t){return t.reduce((e,n,r,i)=>{if(n._type==="block")return e.push(n),e;if(n._type==="__block")return e.push(n.block),e;const s=e[e.length-1];if(r>0&&!XM(i[r-1])&&XM(s))return s.children.push(n),e;const o={...Tc,children:[n]};return e.push(o),e},[])}function adn(t){return Object.prototype.toString.call(t)=="[object NodeList]"}function h_(t){return t._type==="span"}function M1e(t){return t._type==="block"}function $1e(t){return t._type==="__decorator"}function F1e(t){return t._type==="__annotation"}function by(t){return t.nodeType===1}function ldn(t){let e;switch(t){case"ul":e="bullet";break;case"ol":e="number";break;default:e="bullet"}return e}function udn(t,e){return[{deserialize(n){if(no(n)==="pre")return;const i=(n.nodeType===3&&(n.textContent||"").replace(/[\r\n]/g," ").replace(/\s\s+/g," ")===" "&&n.nextSibling&&n.nextSibling.nodeType!==3&&n.previousSibling&&n.previousSibling.nodeType!==3||n.textContent!==" ")&&no(n.parentNode)!=="body";if(n.nodeName==="#text"&&i)return{...PO,marks:[],text:(n.textContent||"").replace(/\s\s+/g," ")}}},{deserialize(n){if(no(n)!=="pre")return;const r=e.enabledBlockStyles.includes("code");return{_type:"block",style:"normal",markDefs:[],children:[{...PO,marks:r?["code"]:[],text:n.textContent||""}]}}},{deserialize(n,r){if(no(n)!=="blockquote")return;const i={...QM,...e6};delete i.blockquote;const s=[];return n.childNodes.forEach((o,a)=>{if(o.nodeType===1&&Object.keys(i).includes(o.localName.toLowerCase())){if(!n.ownerDocument)return;const l=n.ownerDocument.createElement("span");l.appendChild(n.ownerDocument.createTextNode("\r")),o.childNodes.forEach(u=>{l.appendChild(u.cloneNode(!0))}),a!==n.childNodes.length&&l.appendChild(n.ownerDocument.createTextNode("\r")),s.push(l)}else s.push(o)}),{_type:"block",style:"blockquote",markDefs:[],children:r(s)}}},{deserialize(n,r){const i={...QM,...e6},s=no(n);let o=s?i[s]:void 0;if(o)return n.parentNode&&no(n.parentNode)==="li"?r(n.childNodes):(e.enabledBlockStyles.includes(o.style)||(o=Tc),{...o,children:r(n.childNodes)})}},{deserialize(n,r){const i=no(n);if(!(!i||!(i in Sze)))return r(n.childNodes)}},{deserialize(n,r){if(no(n)==="div")return r(n.childNodes)}},{deserialize(n,r){const i=no(n);if(!(!i||!(i in JM)))return r(n.childNodes)}},{deserialize(n){if(no(n)==="br")return{...PO,text:`
`}}},{deserialize(n,r){const i=no(n),s=i?kze[i]:void 0,o=no(n.parentNode)||"";if(!(!s||!n.parentNode||!JM[o]))return s.listItem=ldn(o),{...s,children:r(n.childNodes)}}},{deserialize(n,r){const i=Tze[no(n)||""];if(!(!i||!e.enabledSpanDecorators.includes(i)))return{_type:"__decorator",name:i,children:r(n.childNodes)}}},{deserialize(n,r){if(no(n)!="a")return;const i=e.enabledBlockAnnotations.includes("link"),s=by(n)&&n.getAttribute("href");if(!s)return r(n.childNodes);let o;return i?(o={_key:eY(12),_type:"link",href:s},{_type:"__annotation",markDef:o,children:r(n.childNodes)}):n.appendChild(n.ownerDocument.createTextNode(" (".concat(s,")")))&&r(n.childNodes)}}]}const Aze=Object.keys(JM);function cdn(t){const e=by(t)&&t.getAttribute("style");return/font-style:italic/.test(e||"")}function ddn(t){const e=by(t)&&t.getAttribute("style");return/font-weight:700/.test(e||"")}function B1e(t){return by(t)&&!!t.getAttribute("data-is-google-docs")}function fdn(t){const e=no(t.parentNode);if(!(e&&!Aze.includes(e)))return no(t.parentNode)==="ul"?"bullet":"number"}function hdn(t){let e=0;if(no(t)==="li"){let n=t.parentNode;for(;n;){const r=no(n);r&&Aze.includes(r)&&e++,n=n.parentNode}}else e=1;return e}const pdn={...QM,...e6};function mdn(t,e){const n=no(t.firstChild),r=n&&pdn[n];return!r||!e.includes(r.style)?eC:r.style}function gdn(t,e){return[{deserialize(n){if(by(n)&&no(n)==="span"&&B1e(n)){const r={...PO,marks:[],text:n.innerText};return ddn(n)&&r.marks.push("strong"),cdn(n)&&r.marks.push("em"),r}}},{deserialize(n,r){var i;if(no(n)==="li"&&B1e(n))return{...Tc,listItem:fdn(n),level:hdn(n),style:mdn(n,e.enabledBlockStyles),children:r(((i=n.firstChild)==null?void 0:i.childNodes)||[])}}}]}function vdn(t){const e=by(t)&&t.getAttribute("style");if(e&&e.match(/lfo\d+/))return e.match("lfo1")?"bullet":"number"}function ydn(t){const e=by(t)&&t.getAttribute("style");if(!e)return;const n=e.match(/level\d+/);if(!n)return;const[r]=n[0].match(/\d/)||[];return(r?parseInt(r,10):1)||1}function bdn(t){return by(t)&&t.className?t.className==="MsoListParagraphCxSpFirst"||t.className==="MsoListParagraphCxSpMiddle"||t.className==="MsoListParagraphCxSpLast":!1}function xdn(){return[{deserialize(t,e){if(no(t)==="p"&&bdn(t))return{...Tc,listItem:vdn(t),level:ydn(t),style:eC,children:e(t.childNodes)}}}]}function wdn(t,e){return[...xdn(),...gdn(t,e),...udn(t,e)]}var _dn=Object.defineProperty,Cdn=(t,e,n)=>e in t?_dn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rg=(t,e,n)=>(Cdn(t,typeof e!="symbol"?e+"":e,n),n);class Edn{constructor(e){var n=this;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};rg(this,"blockContentType"),rg(this,"rules"),rg(this,"parseHtml"),rg(this,"_markDefs",[]),rg(this,"deserialize",a=>{this._markDefs=[];const{parseHtml:l}=this,u=l(a),d=Array.from(u.childNodes),f=sdn(ndn(odn(this.deserializeElements(d))));this._markDefs.length>0&&f.filter(p=>p._type==="block").forEach(p=>{p.markDefs=p.markDefs||[],p.markDefs=p.markDefs.concat(this._markDefs.filter(g=>$i(p.children.map(v=>v.marks||[])).includes(g._key)))});const h=this.blockContentType.of.find(yne);return h?f.map(p=>(p._type==="block"&&(p._type=h.name),p)):f}),rg(this,"deserializeElements",function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=[];return a.forEach(u=>{l=l.concat(n.deserializeElement(u))}),l}),rg(this,"deserializeElement",a=>{var l,u;const d=p=>{if(adn(p))return this.deserializeElements(Array.from(p));if(Array.isArray(p))return this.deserializeElements(p);if(p)return this.deserializeElement(p)},f=p=>({_type:"__block",block:p});let h;for(let p=0;p<this.rules.length;p++){const g=this.rules[p];if(!g.deserialize)continue;const v=g.deserialize(a,d,f),y=Cze(v);if(y!=="array"&&y!=="object"&&y!=="null"&&y!=="undefined")throw new Error('A rule returned an invalid deserialized representation: "'.concat(h,'".'));if(v!==void 0){{if(v===null)throw new Error("Deserializer rule returned `null`");Array.isArray(v)?h=v:$1e(v)?h=this.deserializeDecorator(v):F1e(v)?h=this.deserializeAnnotation(v):h=v}if(v&&!Array.isArray(v)&&M1e(v)&&"listItem"in v){let x=(l=a.parentNode)==null?void 0:l.parentNode;for(;x&&no(x)==="li";)x=(u=x.parentNode)==null?void 0:u.parentNode,v.level=v.level?v.level+1:1}v&&!Array.isArray(v)&&M1e(v)&&v.style==="blockquote"&&v.children.forEach((x,b)=>{h_(x)&&x.text==="\r"&&(x.text=`

`,(b===0||b===v.children.length-1)&&v.children.splice(b,1))});break}}return h||d(a.childNodes)||[]}),rg(this,"deserializeDecorator",a=>{const{name:l}=a,u=d=>{if($1e(d))return this.deserializeDecorator(d);if(h_(d))d.marks=d.marks||[],d.text.trim()&&d.marks.unshift(l);else if("children"in d&&Array.isArray(d.children)){const f=d;f.children=f.children.map(u)}return d};return a.children.reduce((d,f)=>{const h=u(f);return Array.isArray(h)?d.concat(h):(d.push(h),d)},[])}),rg(this,"deserializeAnnotation",a=>{const{markDef:l}=a;this._markDefs.push(l);const u=d=>{if(F1e(d))return this.deserializeAnnotation(d);if(h_(d))d.marks=d.marks||[],d.text.trim()&&d.marks.unshift(l._key);else if("children"in d&&Array.isArray(d.children)){const f=d;f.children=f.children.map(u)}return d};return a.children.reduce((d,f)=>{const h=u(f);return Array.isArray(h)?d.concat(h):(d.push(h),d)},[])});const{rules:i=[]}=r;if(!e)throw new Error("Parameter 'blockContentType' is required");const s=wdn(e,Qcn(e));this.rules=[...i,...s];const o=r.parseHtml||tdn();this.blockContentType=e,this.parseHtml=a=>Jcn(a,o).body}}function UA(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t._type!==(e.blockTypeName||"block"))return"_key"in t?t:{...t,_key:eY(12)};const n={_key:eY(12),children:[],markDefs:[],...t},r=n.children[n.children.length-1];if(!r)return n.children=[{_type:"span",_key:"".concat(n._key).concat(0),text:"",marks:[]}],n;const i=[],s=e.allowedDecorators&&Array.isArray(e.allowedDecorators)?e.allowedDecorators:!1;return n.children=n.children.reduce((o,a)=>{const l=o[o.length-1];return l&&EU(a)&&EU(l)&&Ur(l.marks,a.marks)?(r&&r===a&&a.text===""&&n.children.length>1||(l.text+=a.text),o):(o.push(a),o)},[]).map((o,a)=>{if(!o)throw new Error("missing child");return o._key="".concat(n._key).concat(a),EU(o)&&(o.marks?s&&(o.marks=o.marks.filter(l=>{var u;const d=s.includes(l),f=(u=n.markDefs)==null?void 0:u.some(h=>h._key===l);return d||f})):o.marks=[],i.push(...o.marks)),o}),n.markDefs=(n.markDefs||[]).filter(o=>i.includes(o._key)),n}function N1e(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Edn(e,n).deserialize(t).map(i=>UA(i))}function V1e(t){return GVe.compile({name:"blockTypeSchema",types:[t]}).get(t.name)}function U1e(t){var e,n,r;if(!t)throw new Error("Parameter 'portabletextType' missing (required)");const i=(e=t.of)==null?void 0:e.find(Ize);if(!i)throw new Error("Block type is not defined in this schema (required)");const s=(n=i.fields)==null?void 0:n.find(d=>d.name==="children");if(!s)throw new Error("Children field for block type found in schema (required)");const o=s.type.of;if(!o)throw new Error("Valid types for block children not found in schema (required)");const a=o.find(d=>d.name==="span");if(!a)throw new Error("Span type not found in schema (required)");const l=o.filter(d=>d.name!=="span")||[],u=((r=t.of)==null?void 0:r.filter(d=>d.name!==i.name))||[];return{styles:Sdn(i),decorators:Tdn(a),lists:kdn(i),block:i,span:a,portableText:t,inlineObjects:l,blockObjects:u,annotations:a.annotations}}function Sdn(t){var e,n,r;const i=(e=t.fields)==null?void 0:e.find(o=>o.name==="style");if(!i)throw new Error("A field with name 'style' is not defined in the block type (required).");const s=((n=i.type.options)==null?void 0:n.list)&&((r=i.type.options.list)==null?void 0:r.filter(o=>o.value));if(!s||s.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return s}function Tdn(t){return t.decorators}function kdn(t){var e,n;const r=(e=t.fields)==null?void 0:e.find(s=>s.name==="list");if(!r)throw new Error("A field with name 'list' is not defined in the block type (required).");const i=((n=r.type.options)==null?void 0:n.list)&&r.type.options.list.filter(s=>s.value);if(!i)throw new Error("The list field need at least to be an empty array");return i}function Ize(t){return t.type?Ize(t.type):t.name==="block"?t:null}const tY="sanity-pte:";DT(tY);function Lo(t){const e="".concat(tY).concat(t);return DT&&DT.enabled(e)?DT(e):DT(tY)}const Dze=()=>jI(12),Rze=m.createContext(Dze),Adn=()=>{const t=m.useContext(Rze);if(t===void 0)throw new Error("The `usePortableTextEditorKeyGenerator` hook must be used inside the <PortableTextEditor> component's context.");return t},p4=new WeakMap,IS=new WeakMap,DS=new WeakMap,RS=new WeakMap,t6=new WeakMap,af=new WeakMap,n6=new WeakMap;var jze={exports:{}};(function(t){var e=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},n=-1,r=1,i=0;e.Diff=function(s,o){return[s,o]},e.prototype.diff_main=function(s,o,a,l){typeof l>"u"&&(this.Diff_Timeout<=0?l=Number.MAX_VALUE:l=new Date().getTime()+this.Diff_Timeout*1e3);var u=l;if(s==null||o==null)throw new Error("Null input. (diff_main)");if(s==o)return s?[new e.Diff(i,s)]:[];typeof a>"u"&&(a=!0);var d=a,f=this.diff_commonPrefix(s,o),h=s.substring(0,f);s=s.substring(f),o=o.substring(f),f=this.diff_commonSuffix(s,o);var p=s.substring(s.length-f);s=s.substring(0,s.length-f),o=o.substring(0,o.length-f);var g=this.diff_compute_(s,o,d,u);return h&&g.unshift(new e.Diff(i,h)),p&&g.push(new e.Diff(i,p)),this.diff_cleanupMerge(g),g},e.prototype.diff_compute_=function(s,o,a,l){var u;if(!s)return[new e.Diff(r,o)];if(!o)return[new e.Diff(n,s)];var d=s.length>o.length?s:o,f=s.length>o.length?o:s,h=d.indexOf(f);if(h!=-1)return u=[new e.Diff(r,d.substring(0,h)),new e.Diff(i,f),new e.Diff(r,d.substring(h+f.length))],s.length>o.length&&(u[0][0]=u[2][0]=n),u;if(f.length==1)return[new e.Diff(n,s),new e.Diff(r,o)];var p=this.diff_halfMatch_(s,o);if(p){var g=p[0],v=p[1],y=p[2],x=p[3],b=p[4],_=this.diff_main(g,y,a,l),C=this.diff_main(v,x,a,l);return _.concat([new e.Diff(i,b)],C)}return a&&s.length>100&&o.length>100?this.diff_lineMode_(s,o,l):this.diff_bisect_(s,o,l)},e.prototype.diff_lineMode_=function(s,o,a){var l=this.diff_linesToChars_(s,o);s=l.chars1,o=l.chars2;var u=l.lineArray,d=this.diff_main(s,o,!1,a);this.diff_charsToLines_(d,u),this.diff_cleanupSemantic(d),d.push(new e.Diff(i,""));for(var f=0,h=0,p=0,g="",v="";f<d.length;){switch(d[f][0]){case r:p++,v+=d[f][1];break;case n:h++,g+=d[f][1];break;case i:if(h>=1&&p>=1){d.splice(f-h-p,h+p),f=f-h-p;for(var y=this.diff_main(g,v,!1,a),x=y.length-1;x>=0;x--)d.splice(f,0,y[x]);f=f+y.length}p=0,h=0,g="",v="";break}f++}return d.pop(),d},e.prototype.diff_bisect_=function(s,o,a){for(var l=s.length,u=o.length,d=Math.ceil((l+u)/2),f=d,h=2*d,p=new Array(h),g=new Array(h),v=0;v<h;v++)p[v]=-1,g[v]=-1;p[f+1]=0,g[f+1]=0;for(var y=l-u,x=y%2!=0,b=0,_=0,C=0,S=0,T=0;T<d&&!(new Date().getTime()>a);T++){for(var A=-T+b;A<=T-_;A+=2){var k=f+A,I;A==-T||A!=T&&p[k-1]<p[k+1]?I=p[k+1]:I=p[k-1]+1;for(var D=I-A;I<l&&D<u&&s.charAt(I)==o.charAt(D);)I++,D++;if(p[k]=I,I>l)_+=2;else if(D>u)b+=2;else if(x){var R=f+y-A;if(R>=0&&R<h&&g[R]!=-1){var O=l-g[R];if(I>=O)return this.diff_bisectSplit_(s,o,I,D,a)}}}for(var L=-T+C;L<=T-S;L+=2){var R=f+L,O;L==-T||L!=T&&g[R-1]<g[R+1]?O=g[R+1]:O=g[R-1]+1;for(var P=O-L;O<l&&P<u&&s.charAt(l-O-1)==o.charAt(u-P-1);)O++,P++;if(g[R]=O,O>l)S+=2;else if(P>u)C+=2;else if(!x){var k=f+y-L;if(k>=0&&k<h&&p[k]!=-1){var I=p[k],D=f+I-k;if(O=l-O,I>=O)return this.diff_bisectSplit_(s,o,I,D,a)}}}}return[new e.Diff(n,s),new e.Diff(r,o)]},e.prototype.diff_bisectSplit_=function(s,o,a,l,u){var d=s.substring(0,a),f=o.substring(0,l),h=s.substring(a),p=o.substring(l),g=this.diff_main(d,f,!1,u),v=this.diff_main(h,p,!1,u);return g.concat(v)},e.prototype.diff_linesToChars_=function(s,o){var a=[],l={};a[0]="";function u(p){for(var g="",v=0,y=-1,x=a.length;y<p.length-1;){y=p.indexOf(`
`,v),y==-1&&(y=p.length-1);var b=p.substring(v,y+1);(l.hasOwnProperty?l.hasOwnProperty(b):l[b]!==void 0)?g+=String.fromCharCode(l[b]):(x==d&&(b=p.substring(v),y=p.length),g+=String.fromCharCode(x),l[b]=x,a[x++]=b),v=y+1}return g}var d=4e4,f=u(s);d=65535;var h=u(o);return{chars1:f,chars2:h,lineArray:a}},e.prototype.diff_charsToLines_=function(s,o){for(var a=0;a<s.length;a++){for(var l=s[a][1],u=[],d=0;d<l.length;d++)u[d]=o[l.charCodeAt(d)];s[a][1]=u.join("")}},e.prototype.diff_commonPrefix=function(s,o){if(!s||!o||s.charAt(0)!=o.charAt(0))return 0;for(var a=0,l=Math.min(s.length,o.length),u=l,d=0;a<u;)s.substring(d,u)==o.substring(d,u)?(a=u,d=a):l=u,u=Math.floor((l-a)/2+a);return u},e.prototype.diff_commonSuffix=function(s,o){if(!s||!o||s.charAt(s.length-1)!=o.charAt(o.length-1))return 0;for(var a=0,l=Math.min(s.length,o.length),u=l,d=0;a<u;)s.substring(s.length-u,s.length-d)==o.substring(o.length-u,o.length-d)?(a=u,d=a):l=u,u=Math.floor((l-a)/2+a);return u},e.prototype.diff_commonOverlap_=function(s,o){var a=s.length,l=o.length;if(a==0||l==0)return 0;a>l?s=s.substring(a-l):a<l&&(o=o.substring(0,a));var u=Math.min(a,l);if(s==o)return u;for(var d=0,f=1;;){var h=s.substring(u-f),p=o.indexOf(h);if(p==-1)return d;f+=p,(p==0||s.substring(u-f)==o.substring(0,f))&&(d=f,f++)}},e.prototype.diff_halfMatch_=function(s,o){if(this.Diff_Timeout<=0)return null;var a=s.length>o.length?s:o,l=s.length>o.length?o:s;if(a.length<4||l.length*2<a.length)return null;var u=this;function d(_,C,S){for(var T=_.substring(S,S+Math.floor(_.length/4)),A=-1,k="",I,D,R,O;(A=C.indexOf(T,A+1))!=-1;){var L=u.diff_commonPrefix(_.substring(S),C.substring(A)),P=u.diff_commonSuffix(_.substring(0,S),C.substring(0,A));k.length<P+L&&(k=C.substring(A-P,A)+C.substring(A,A+L),I=_.substring(0,S-P),D=_.substring(S+L),R=C.substring(0,A-P),O=C.substring(A+L))}return k.length*2>=_.length?[I,D,R,O,k]:null}var f=d(a,l,Math.ceil(a.length/4)),h=d(a,l,Math.ceil(a.length/2)),p;if(!f&&!h)return null;h?f?p=f[4].length>h[4].length?f:h:p=h:p=f;var g,v,y,x;s.length>o.length?(g=p[0],v=p[1],y=p[2],x=p[3]):(y=p[0],x=p[1],g=p[2],v=p[3]);var b=p[4];return[g,v,y,x,b]},e.prototype.diff_cleanupSemantic=function(s){for(var o=!1,a=[],l=0,u=null,d=0,f=0,h=0,p=0,g=0;d<s.length;)s[d][0]==i?(a[l++]=d,f=p,h=g,p=0,g=0,u=s[d][1]):(s[d][0]==r?p+=s[d][1].length:g+=s[d][1].length,u&&u.length<=Math.max(f,h)&&u.length<=Math.max(p,g)&&(s.splice(a[l-1],0,new e.Diff(n,u)),s[a[l-1]+1][0]=r,l--,l--,d=l>0?a[l-1]:-1,f=0,h=0,p=0,g=0,u=null,o=!0)),d++;for(o&&this.diff_cleanupMerge(s),this.diff_cleanupSemanticLossless(s),d=1;d<s.length;){if(s[d-1][0]==n&&s[d][0]==r){var v=s[d-1][1],y=s[d][1],x=this.diff_commonOverlap_(v,y),b=this.diff_commonOverlap_(y,v);x>=b?(x>=v.length/2||x>=y.length/2)&&(s.splice(d,0,new e.Diff(i,y.substring(0,x))),s[d-1][1]=v.substring(0,v.length-x),s[d+1][1]=y.substring(x),d++):(b>=v.length/2||b>=y.length/2)&&(s.splice(d,0,new e.Diff(i,v.substring(0,b))),s[d-1][0]=r,s[d-1][1]=y.substring(0,y.length-b),s[d+1][0]=n,s[d+1][1]=v.substring(b),d++),d++}d++}},e.prototype.diff_cleanupSemanticLossless=function(s){function o(b,_){if(!b||!_)return 6;var C=b.charAt(b.length-1),S=_.charAt(0),T=C.match(e.nonAlphaNumericRegex_),A=S.match(e.nonAlphaNumericRegex_),k=T&&C.match(e.whitespaceRegex_),I=A&&S.match(e.whitespaceRegex_),D=k&&C.match(e.linebreakRegex_),R=I&&S.match(e.linebreakRegex_),O=D&&b.match(e.blanklineEndRegex_),L=R&&_.match(e.blanklineStartRegex_);return O||L?5:D||R?4:T&&!k&&I?3:k||I?2:T||A?1:0}for(var a=1;a<s.length-1;){if(s[a-1][0]==i&&s[a+1][0]==i){var l=s[a-1][1],u=s[a][1],d=s[a+1][1],f=this.diff_commonSuffix(l,u);if(f){var h=u.substring(u.length-f);l=l.substring(0,l.length-f),u=h+u.substring(0,u.length-f),d=h+d}for(var p=l,g=u,v=d,y=o(l,u)+o(u,d);u.charAt(0)===d.charAt(0);){l+=u.charAt(0),u=u.substring(1)+d.charAt(0),d=d.substring(1);var x=o(l,u)+o(u,d);x>=y&&(y=x,p=l,g=u,v=d)}s[a-1][1]!=p&&(p?s[a-1][1]=p:(s.splice(a-1,1),a--),s[a][1]=g,v?s[a+1][1]=v:(s.splice(a+1,1),a--))}a++}},e.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,e.whitespaceRegex_=/\s/,e.linebreakRegex_=/[\r\n]/,e.blanklineEndRegex_=/\n\r?\n$/,e.blanklineStartRegex_=/^\r?\n\r?\n/,e.prototype.diff_cleanupEfficiency=function(s){for(var o=!1,a=[],l=0,u=null,d=0,f=!1,h=!1,p=!1,g=!1;d<s.length;)s[d][0]==i?(s[d][1].length<this.Diff_EditCost&&(p||g)?(a[l++]=d,f=p,h=g,u=s[d][1]):(l=0,u=null),p=g=!1):(s[d][0]==n?g=!0:p=!0,u&&(f&&h&&p&&g||u.length<this.Diff_EditCost/2&&f+h+p+g==3)&&(s.splice(a[l-1],0,new e.Diff(n,u)),s[a[l-1]+1][0]=r,l--,u=null,f&&h?(p=g=!0,l=0):(l--,d=l>0?a[l-1]:-1,p=g=!1),o=!0)),d++;o&&this.diff_cleanupMerge(s)},e.prototype.diff_cleanupMerge=function(s){s.push(new e.Diff(i,""));for(var o=0,a=0,l=0,u="",d="",f;o<s.length;)switch(s[o][0]){case r:l++,d+=s[o][1],o++;break;case n:a++,u+=s[o][1],o++;break;case i:a+l>1?(a!==0&&l!==0&&(f=this.diff_commonPrefix(d,u),f!==0&&(o-a-l>0&&s[o-a-l-1][0]==i?s[o-a-l-1][1]+=d.substring(0,f):(s.splice(0,0,new e.Diff(i,d.substring(0,f))),o++),d=d.substring(f),u=u.substring(f)),f=this.diff_commonSuffix(d,u),f!==0&&(s[o][1]=d.substring(d.length-f)+s[o][1],d=d.substring(0,d.length-f),u=u.substring(0,u.length-f))),o-=a+l,s.splice(o,a+l),u.length&&(s.splice(o,0,new e.Diff(n,u)),o++),d.length&&(s.splice(o,0,new e.Diff(r,d)),o++),o++):o!==0&&s[o-1][0]==i?(s[o-1][1]+=s[o][1],s.splice(o,1)):o++,l=0,a=0,u="",d="";break}s[s.length-1][1]===""&&s.pop();var h=!1;for(o=1;o<s.length-1;)s[o-1][0]==i&&s[o+1][0]==i&&(s[o][1].substring(s[o][1].length-s[o-1][1].length)==s[o-1][1]?(s[o][1]=s[o-1][1]+s[o][1].substring(0,s[o][1].length-s[o-1][1].length),s[o+1][1]=s[o-1][1]+s[o+1][1],s.splice(o-1,1),h=!0):s[o][1].substring(0,s[o+1][1].length)==s[o+1][1]&&(s[o-1][1]+=s[o+1][1],s[o][1]=s[o][1].substring(s[o+1][1].length)+s[o+1][1],s.splice(o+1,1),h=!0)),o++;h&&this.diff_cleanupMerge(s)},e.prototype.diff_xIndex=function(s,o){var a=0,l=0,u=0,d=0,f;for(f=0;f<s.length&&(s[f][0]!==r&&(a+=s[f][1].length),s[f][0]!==n&&(l+=s[f][1].length),!(a>o));f++)u=a,d=l;return s.length!=f&&s[f][0]===n?d:d+(o-u)},e.prototype.diff_prettyHtml=function(s){for(var o=[],a=/&/g,l=/</g,u=/>/g,d=/\n/g,f=0;f<s.length;f++){var h=s[f][0],p=s[f][1],g=p.replace(a,"&amp;").replace(l,"&lt;").replace(u,"&gt;").replace(d,"&para;<br>");switch(h){case r:o[f]='<ins style="background:#e6ffe6;">'+g+"</ins>";break;case n:o[f]='<del style="background:#ffe6e6;">'+g+"</del>";break;case i:o[f]="<span>"+g+"</span>";break}}return o.join("")},e.prototype.diff_text1=function(s){for(var o=[],a=0;a<s.length;a++)s[a][0]!==r&&(o[a]=s[a][1]);return o.join("")},e.prototype.diff_text2=function(s){for(var o=[],a=0;a<s.length;a++)s[a][0]!==n&&(o[a]=s[a][1]);return o.join("")},e.prototype.diff_levenshtein=function(s){for(var o=0,a=0,l=0,u=0;u<s.length;u++){var d=s[u][0],f=s[u][1];switch(d){case r:a+=f.length;break;case n:l+=f.length;break;case i:o+=Math.max(a,l),a=0,l=0;break}}return o+=Math.max(a,l),o},e.prototype.diff_toDelta=function(s){for(var o=[],a=0;a<s.length;a++)switch(s[a][0]){case r:o[a]="+"+encodeURI(s[a][1]);break;case n:o[a]="-"+s[a][1].length;break;case i:o[a]="="+s[a][1].length;break}return o.join("	").replace(/%20/g," ")},e.prototype.diff_fromDelta=function(s,o){for(var a=[],l=0,u=0,d=o.split(/\t/g),f=0;f<d.length;f++){var h=d[f].substring(1);switch(d[f].charAt(0)){case"+":try{a[l++]=new e.Diff(r,decodeURI(h))}catch{throw new Error("Illegal escape in diff_fromDelta: "+h)}break;case"-":case"=":var p=parseInt(h,10);if(isNaN(p)||p<0)throw new Error("Invalid number in diff_fromDelta: "+h);var g=s.substring(u,u+=p);d[f].charAt(0)=="="?a[l++]=new e.Diff(i,g):a[l++]=new e.Diff(n,g);break;default:if(d[f])throw new Error("Invalid diff operation in diff_fromDelta: "+d[f])}}if(u!=s.length)throw new Error("Delta length ("+u+") does not equal source text length ("+s.length+").");return a},e.prototype.match_main=function(s,o,a){if(s==null||o==null||a==null)throw new Error("Null input. (match_main)");return a=Math.max(0,Math.min(a,s.length)),s==o?0:s.length?s.substring(a,a+o.length)==o?a:this.match_bitap_(s,o,a):-1},e.prototype.match_bitap_=function(s,o,a){if(o.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var l=this.match_alphabet_(o),u=this;function d(I,D){var R=I/o.length,O=Math.abs(a-D);return u.Match_Distance?R+O/u.Match_Distance:O?1:R}var f=this.Match_Threshold,h=s.indexOf(o,a);h!=-1&&(f=Math.min(d(0,h),f),h=s.lastIndexOf(o,a+o.length),h!=-1&&(f=Math.min(d(0,h),f)));var p=1<<o.length-1;h=-1;for(var g,v,y=o.length+s.length,x,b=0;b<o.length;b++){for(g=0,v=y;g<v;)d(b,a+v)<=f?g=v:y=v,v=Math.floor((y-g)/2+g);y=v;var _=Math.max(1,a-v+1),C=Math.min(a+v,s.length)+o.length,S=Array(C+2);S[C+1]=(1<<b)-1;for(var T=C;T>=_;T--){var A=l[s.charAt(T-1)];if(b===0?S[T]=(S[T+1]<<1|1)&A:S[T]=(S[T+1]<<1|1)&A|((x[T+1]|x[T])<<1|1)|x[T+1],S[T]&p){var k=d(b,T-1);if(k<=f)if(f=k,h=T-1,h>a)_=Math.max(1,2*a-h);else break}}if(d(b+1,a)>f)break;x=S}return h},e.prototype.match_alphabet_=function(s){for(var o={},a=0;a<s.length;a++)o[s.charAt(a)]=0;for(var a=0;a<s.length;a++)o[s.charAt(a)]|=1<<s.length-a-1;return o},e.prototype.patch_addContext_=function(s,o){if(o.length!=0){if(s.start2===null)throw Error("patch not initialized");for(var a=o.substring(s.start2,s.start2+s.length1),l=0;o.indexOf(a)!=o.lastIndexOf(a)&&a.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)l+=this.Patch_Margin,a=o.substring(s.start2-l,s.start2+s.length1+l);l+=this.Patch_Margin;var u=o.substring(s.start2-l,s.start2);u&&s.diffs.unshift(new e.Diff(i,u));var d=o.substring(s.start2+s.length1,s.start2+s.length1+l);d&&s.diffs.push(new e.Diff(i,d)),s.start1-=u.length,s.start2-=u.length,s.length1+=u.length+d.length,s.length2+=u.length+d.length}},e.prototype.patch_make=function(s,o,a){var l,u;if(typeof s=="string"&&typeof o=="string"&&typeof a>"u")l=s,u=this.diff_main(l,o,!0),u.length>2&&(this.diff_cleanupSemantic(u),this.diff_cleanupEfficiency(u));else if(s&&typeof s=="object"&&typeof o>"u"&&typeof a>"u")u=s,l=this.diff_text1(u);else if(typeof s=="string"&&o&&typeof o=="object"&&typeof a>"u")l=s,u=o;else if(typeof s=="string"&&typeof o=="string"&&a&&typeof a=="object")l=s,u=a;else throw new Error("Unknown call format to patch_make.");if(u.length===0)return[];for(var d=[],f=new e.patch_obj,h=0,p=0,g=0,v=l,y=l,x=0;x<u.length;x++){var b=u[x][0],_=u[x][1];switch(!h&&b!==i&&(f.start1=p,f.start2=g),b){case r:f.diffs[h++]=u[x],f.length2+=_.length,y=y.substring(0,g)+_+y.substring(g);break;case n:f.length1+=_.length,f.diffs[h++]=u[x],y=y.substring(0,g)+y.substring(g+_.length);break;case i:_.length<=2*this.Patch_Margin&&h&&u.length!=x+1?(f.diffs[h++]=u[x],f.length1+=_.length,f.length2+=_.length):_.length>=2*this.Patch_Margin&&h&&(this.patch_addContext_(f,v),d.push(f),f=new e.patch_obj,h=0,v=y,p=g);break}b!==r&&(p+=_.length),b!==n&&(g+=_.length)}return h&&(this.patch_addContext_(f,v),d.push(f)),d},e.prototype.patch_deepCopy=function(s){for(var o=[],a=0;a<s.length;a++){var l=s[a],u=new e.patch_obj;u.diffs=[];for(var d=0;d<l.diffs.length;d++)u.diffs[d]=new e.Diff(l.diffs[d][0],l.diffs[d][1]);u.start1=l.start1,u.start2=l.start2,u.length1=l.length1,u.length2=l.length2,o[a]=u}return o},e.prototype.patch_apply=function(s,o){if(s.length==0)return[o,[]];s=this.patch_deepCopy(s);var a=this.patch_addPadding(s);o=a+o+a,this.patch_splitMax(s);for(var l=0,u=[],d=0;d<s.length;d++){var f=s[d].start2+l,h=this.diff_text1(s[d].diffs),p,g=-1;if(h.length>this.Match_MaxBits?(p=this.match_main(o,h.substring(0,this.Match_MaxBits),f),p!=-1&&(g=this.match_main(o,h.substring(h.length-this.Match_MaxBits),f+h.length-this.Match_MaxBits),(g==-1||p>=g)&&(p=-1))):p=this.match_main(o,h,f),p==-1)u[d]=!1,l-=s[d].length2-s[d].length1;else{u[d]=!0,l=p-f;var v;if(g==-1?v=o.substring(p,p+h.length):v=o.substring(p,g+this.Match_MaxBits),h==v)o=o.substring(0,p)+this.diff_text2(s[d].diffs)+o.substring(p+h.length);else{var y=this.diff_main(h,v,!1);if(h.length>this.Match_MaxBits&&this.diff_levenshtein(y)/h.length>this.Patch_DeleteThreshold)u[d]=!1;else{this.diff_cleanupSemanticLossless(y);for(var x=0,b,_=0;_<s[d].diffs.length;_++){var C=s[d].diffs[_];C[0]!==i&&(b=this.diff_xIndex(y,x)),C[0]===r?o=o.substring(0,p+b)+C[1]+o.substring(p+b):C[0]===n&&(o=o.substring(0,p+b)+o.substring(p+this.diff_xIndex(y,x+C[1].length))),C[0]!==n&&(x+=C[1].length)}}}}}return o=o.substring(a.length,o.length-a.length),[o,u]},e.prototype.patch_addPadding=function(s){for(var o=this.Patch_Margin,a="",l=1;l<=o;l++)a+=String.fromCharCode(l);for(var l=0;l<s.length;l++)s[l].start1+=o,s[l].start2+=o;var u=s[0],d=u.diffs;if(d.length==0||d[0][0]!=i)d.unshift(new e.Diff(i,a)),u.start1-=o,u.start2-=o,u.length1+=o,u.length2+=o;else if(o>d[0][1].length){var f=o-d[0][1].length;d[0][1]=a.substring(d[0][1].length)+d[0][1],u.start1-=f,u.start2-=f,u.length1+=f,u.length2+=f}if(u=s[s.length-1],d=u.diffs,d.length==0||d[d.length-1][0]!=i)d.push(new e.Diff(i,a)),u.length1+=o,u.length2+=o;else if(o>d[d.length-1][1].length){var f=o-d[d.length-1][1].length;d[d.length-1][1]+=a.substring(0,f),u.length1+=f,u.length2+=f}return a},e.prototype.patch_splitMax=function(s){for(var o=this.Match_MaxBits,a=0;a<s.length;a++)if(!(s[a].length1<=o)){var l=s[a];s.splice(a--,1);for(var u=l.start1,d=l.start2,f="";l.diffs.length!==0;){var h=new e.patch_obj,p=!0;for(h.start1=u-f.length,h.start2=d-f.length,f!==""&&(h.length1=h.length2=f.length,h.diffs.push(new e.Diff(i,f)));l.diffs.length!==0&&h.length1<o-this.Patch_Margin;){var g=l.diffs[0][0],v=l.diffs[0][1];g===r?(h.length2+=v.length,d+=v.length,h.diffs.push(l.diffs.shift()),p=!1):g===n&&h.diffs.length==1&&h.diffs[0][0]==i&&v.length>2*o?(h.length1+=v.length,u+=v.length,p=!1,h.diffs.push(new e.Diff(g,v)),l.diffs.shift()):(v=v.substring(0,o-h.length1-this.Patch_Margin),h.length1+=v.length,u+=v.length,g===i?(h.length2+=v.length,d+=v.length):p=!1,h.diffs.push(new e.Diff(g,v)),v==l.diffs[0][1]?l.diffs.shift():l.diffs[0][1]=l.diffs[0][1].substring(v.length))}f=this.diff_text2(h.diffs),f=f.substring(f.length-this.Patch_Margin);var y=this.diff_text1(l.diffs).substring(0,this.Patch_Margin);y!==""&&(h.length1+=y.length,h.length2+=y.length,h.diffs.length!==0&&h.diffs[h.diffs.length-1][0]===i?h.diffs[h.diffs.length-1][1]+=y:h.diffs.push(new e.Diff(i,y))),p||s.splice(++a,0,h)}}},e.prototype.patch_toText=function(s){for(var o=[],a=0;a<s.length;a++)o[a]=s[a];return o.join("")},e.prototype.patch_fromText=function(s){var o=[];if(!s)return o;for(var a=s.split(`
`),l=0,u=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;l<a.length;){var d=a[l].match(u);if(!d)throw new Error("Invalid patch string: "+a[l]);var f=new e.patch_obj;for(o.push(f),f.start1=parseInt(d[1],10),d[2]===""?(f.start1--,f.length1=1):d[2]=="0"?f.length1=0:(f.start1--,f.length1=parseInt(d[2],10)),f.start2=parseInt(d[3],10),d[4]===""?(f.start2--,f.length2=1):d[4]=="0"?f.length2=0:(f.start2--,f.length2=parseInt(d[4],10)),l++;l<a.length;){var h=a[l].charAt(0);try{var p=decodeURI(a[l].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+p)}if(h=="-")f.diffs.push(new e.Diff(n,p));else if(h=="+")f.diffs.push(new e.Diff(r,p));else if(h==" ")f.diffs.push(new e.Diff(i,p));else{if(h=="@")break;if(h!=="")throw new Error('Invalid patch mode "'+h+'" in: '+p)}l++}}return o},e.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},e.patch_obj.prototype.toString=function(){var s,o;this.length1===0?s=this.start1+",0":this.length1==1?s=this.start1+1:s=this.start1+1+","+this.length1,this.length2===0?o=this.start2+",0":this.length2==1?o=this.start2+1:o=this.start2+1+","+this.length2;for(var a=["@@ -"+s+" +"+o+` @@
`],l,u=0;u<this.diffs.length;u++){switch(this.diffs[u][0]){case r:l="+";break;case n:l="-";break;case i:l=" ";break}a[u+1]=l+encodeURI(this.diffs[u][1])+`
`}return a.join("").replace(/%20/g," ")},t.exports=e,t.exports.diff_match_patch=e,t.exports.DIFF_DELETE=n,t.exports.DIFF_INSERT=r,t.exports.DIFF_EQUAL=i})(jze);var n$=jze.exports;function Oze(t){return{type:"setIfMissing",path:arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],value:t}}const Idn=new n$.diff_match_patch;function H1e(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=Idn.patch_make(t,e).map(i=>i.toString()).join("");return{type:"diffMatchPatch",path:n,value:r}}function Cg(t,e){return{type:"insert",path:arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],position:e,items:t}}function ph(t){return{type:"set",path:arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],value:t}}function fd(){return{type:"unset",path:arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]}}const Ddn=[];function p_(t,e){const n=e[t._key];return n&&Ur(t,n)?n:(e[t._key]=t,t)}function om(t,e){let{schemaTypes:n}=e,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t&&Array.isArray(t)?t.map(i=>{const{_type:s,_key:o,...a}=i,l=[{_key:"".concat(o,"-void-child"),_type:"span",text:"",marks:[]}];if(i&&i._type===n.block.name){const d=i;let f=!1;const h=typeof d.style>"u",p=typeof d.markDefs>"u",g=d.children.map(v=>{const{_type:y,_key:x,...b}=v;return y!=="span"?(f=!0,p_({_type:y,_key:x,children:l,value:b,__inline:!0},r)):v});return!h&&!p&&!f&&Rn.isElement(i)?i:(h&&(a.style=n.styles[0].value),p&&(a.markDefs=Ddn),p_({_type:s,_key:o,...a,children:g},r))}return p_({_type:s,_key:o,children:l,value:a},r)}):[]}function ao(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t.map(r=>{const{_key:i,_type:s}=r;if(!i||!s)throw new Error("Not a valid block");if(s===e&&"children"in r&&Array.isArray(r.children)&&i){let a=!1;const l=r.children.map(u=>{const{_type:d}=u;if("value"in u&&d!=="span"){a=!0;const{value:f,_key:h,_type:p,__inline:g,children:v,...y}=u;return p_({...y,...f,_key:h,_type:p},n)}return u});return a?p_({...r,children:l,_key:i,_type:s},n):r}const o="value"in r&&r.value;return p_({_key:i,_type:s,...typeof o=="object"?o:{}},n)})}function r6(t,e){var n;return t===void 0||t&&Array.isArray(t)&&t.length===0||t&&Array.isArray(t)&&t.length===1&&Rn.isElement(t[0])&&t[0]._type===e.block.name&&"style"in t[0]&&t[0].style===e.styles[0].value&&!("listItem"in t[0])&&Array.isArray(t[0].children)&&t[0].children.length===1&&gt.isText(t[0].children[0])&&t[0].children[0]._type==="span"&&!((n=t[0].children[0].marks)!=null&&n.join(""))&&t[0].children[0].text===""}const jS=Lo("operationToPatches");function Rdn(t){const e=t.block.name;function n(d,f,h){jS("Operation",JSON.stringify(f,null,2));const p=d.isTextBlock(d.children[f.path[0]])&&d.children[f.path[0]];if(!p)throw new Error("Could not find block");const g=d.isTextBlock(p)&&d.isTextSpan(p.children[f.path[1]])&&p.children[f.path[1]];if(!g)throw new Error("Could not find child");const v=[{_key:p._key},"children",{_key:g._key},"text"],y=h[f.path[0]],x=d.isTextBlock(y)&&y.children[f.path[1]],b=d.isTextSpan(x)?x.text:"",_=H1e(b,g.text,v);return _.value.length?[_]:[]}function r(d,f,h){const p=d&&d.children[f.path[0]];if(!p)throw new Error("Could not find block");const g=d.isTextBlock(p)&&p.children[f.path[1]]||void 0,v=d.isTextSpan(g)?g:void 0;if(g&&!v)throw new Error("Expected span");if(!v)throw new Error("Could not find child");const y=[{_key:p._key},"children",{_key:v._key},"text"],x=h[f.path[0]],b=d.isTextBlock(x)&&x.children[f.path[1]],_=d.isTextSpan(b)&&b.text,C=H1e(_||"",v.text,y);return C.value?[C]:[]}function i(d,f){if(f.path.length===1){const h=d.children[f.path[0]];if(typeof h._key!="string")throw new Error("Expected block to have a _key");const p=PVe({...d.children[f.path[0]],...f.newProperties},MVe);return[ph(ao([p],e)[0],[{_key:h._key}])]}else if(f.path.length===2){const h=d.children[f.path[0]];if(d.isTextBlock(h)){const p=h.children[f.path[1]];if(p){const g=h._key,v=p._key,y=[];return Object.keys(f.newProperties).forEach(x=>{const b=ms(f.newProperties,x);y.push(ph(b,[{_key:g},"children",{_key:v},x]))}),y}throw new Error("Could not find a valid child")}throw new Error("Could not find a valid block")}else throw new Error("Unexpected path encountered: ".concat(JSON.stringify(f.path)))}function s(d,f,h){const p=h[f.path[0]],g=d.isTextBlock(p);if(f.path.length===1){const v=f.path[0]===0?"before":"after",y=h[f.path[0]-1],x=f.path[0]===0?p==null?void 0:p._key:y==null?void 0:y._key;return x?[Cg([ao([f.node],e)[0]],v,[{_key:x}])]:[Oze(h,[]),Cg([ao([f.node],e)[0]],"before",[f.path[0]])]}else if(g&&f.path.length===2&&d.children[f.path[0]]){const v=p.children.length===0||!p.children[f.path[1]-1]?"before":"after",x=ao([{_key:"bogus",_type:e,children:[f.node]}],e)[0].children[0];return[Cg([x],v,[{_key:p._key},"children",p.children.length<=1||!p.children[f.path[1]-1]?0:{_key:p.children[f.path[1]-1]._key}])]}return jS("Something was inserted into a void block. Not producing editor patches."),[]}function o(d,f,h){const p=[],g=d.children[f.path[0]];if(!d.isTextBlock(g))throw new Error("Block with path ".concat(JSON.stringify(f.path[0])," is not a text block and can't be split"));if(f.path.length===1){const v=h[f.path[0]];if(d.isTextBlock(v)){const y=ao([d.children[f.path[0]+1]],e)[0];y&&(p.push(Cg([y],"after",[{_key:g._key}])),v.children.slice(f.position).forEach(b=>{const _=[{_key:v._key},"children",{_key:b._key}];p.push(fd(_))}))}return p}if(f.path.length===2){const v=g.children[f.path[1]];if(d.isTextSpan(v)){const y=ao([{...g,children:g.children.slice(f.path[1]+1,f.path[1]+2)}],e)[0].children;p.push(Cg(y,"after",[{_key:g._key},"children",{_key:v._key}])),p.push(ph(v.text,[{_key:g._key},"children",{_key:v._key},"text"]))}return p}return p}function a(d,f,h){const p=h[f.path[0]];if(f.path.length===1){if(p&&p._key)return[fd([{_key:p._key}])];throw new Error("Block not found")}else if(d.isTextBlock(p)&&f.path.length===2){const g=d.isTextBlock(p)&&p.children&&p.children[f.path[1]];return g?[fd([{_key:p._key},"children",{_key:g._key}])]:(jS("Span not found in editor trying to remove node"),[])}else return jS("Not creating patch inside object block"),[]}function l(d,f,h){const p=[],g=h[f.path[0]],v=d.children[f.path[0]];if(f.path.length===1)if(g!=null&&g._key){const y=ao([d.children[f.path[0]-1]],e)[0];p.push(ph(y,[{_key:y._key}])),p.push(fd([{_key:g._key}]))}else throw new Error("Target key not found!");else if(f.path.length===2&&d.isTextBlock(v)){const y=d.isTextBlock(g)&&g.children[f.path[1]]||void 0,x=v.children[f.path[1]-1];d.isTextSpan(x)&&(p.push(ph(x.text,[{_key:g._key},"children",{_key:x._key},"text"])),y&&p.push(fd([{_key:g._key},"children",{_key:y._key}])))}else jS("Void nodes can't be merged, not creating any patches");return p}function u(d,f,h){const p=[],g=h[f.path[0]],v=h[f.newPath[0]];if(f.path.length===1){const y=f.path[0]>f.newPath[0]?"before":"after";p.push(fd([{_key:g._key}])),p.push(Cg([ao([g],e)[0]],y,[{_key:v._key}]))}else if(f.path.length===2&&d.isTextBlock(g)&&d.isTextBlock(v)){const y=g.children[f.path[1]],x=v.children[f.newPath[1]],b=f.newPath[1]===v.children.length?"after":"before",_=ao([g],e)[0].children[f.path[1]];p.push(fd([{_key:g._key},"children",{_key:y._key}])),p.push(Cg([_],b,[{_key:v._key},"children",{_key:x._key}]))}return p}return{insertNodePatch:s,insertTextPatch:n,mergeNodePatch:l,moveNodePatch:u,removeNodePatch:a,removeTextPatch:r,setNodePatch:i,splitNodePatch:o}}function z1e(t,e,n){const r=[t.path[0]];if(!e)return null;const i=e[r[0]];if(!i)return null;const s=[{_key:i._key}];if(i._type!==n.block.name)return s;let o;const a=t.path.slice(0,2),l=Array.isArray(i.children)&&i.children[a[1]];return l&&(o=["children",{_key:l._key}]),o?[...s,...o]:s}function W1e(t,e){if(!e)return[];const[n,r]=Array.from(Y.nodes(e,{at:[],match:o=>jo(t.path[0])&&o._key===t.path[0]._key}))[0]||[void 0,void 0];if(!n||!Rn.isElement(n))return[];if(e.isVoid(n))return r;const i=[t.path[2]],s=n.children.findIndex(o=>Ur([{_key:o._key}],i));if(s>=0&&n.children[s]){const o=n.children[s];return Rn.isElement(o)&&e.isVoid(o)?r.concat(s).concat(0):r.concat(s)}return r}function O5(t,e,n){if(!e)return null;let r=null,i=null;const s=e.anchor&&z1e(e.anchor,t,n);s&&e.anchor&&(r={path:s,offset:e.anchor.offset});const o=e.focus&&z1e(e.focus,t,n);return o&&e.focus&&(i={path:o,offset:e.focus.offset}),r&&i?{anchor:r,focus:i}:null}function MO(t,e){if(!t||!e)return null;const n={path:W1e(t.anchor,e),offset:t.anchor.offset},r={path:W1e(t.focus,e),offset:t.focus.offset};return n&&r?{anchor:n,focus:r}:null}const m4=Lo("API:editable");function jdn(t,e,n){return function(i){return t.setEditable({focus:()=>{if(!i.selection){const s={path:[0,0],offset:0};je.select(i,{focus:s,anchor:s}),i.onChange()}tt.focus(i)},blur:()=>{tt.blur(i)},toggleMark:s=>{i.pteToggleMark(s)},toggleList:s=>{i.pteToggleListItem(s)},toggleBlockStyle:s=>{i.pteToggleBlockStyle(s)},isMarkActive:s=>{try{return i.pteIsMarkActive(s)}catch(o){return console.warn(o),!1}},marks:()=>({...Y.marks(i)||{}}).marks||[],undo:()=>i.undo(),redo:()=>i.redo(),select:s=>{const o=MO(s,i);o?je.select(i,o):je.deselect(i),i.onChange()},focusBlock:()=>{if(i.selection)try{const[s]=Array.from(Y.nodes(i,{at:i.selection.focus,match:o=>Y.isBlock(i,o)}))[0]||[void 0];if(s)return ao([s],e.block.name,af.get(i))[0]}catch{return}},focusChild:()=>{if(i.selection)try{const[s]=Array.from(Y.nodes(i,{mode:"lowest",at:i.selection.focus,match:o=>o._type!==void 0,voids:!0}))[0]||[void 0];if(s&&!Y.isBlock(i,s)){const o={_key:"pseudo",_type:e.block.name,children:[s]},a=ao([o],e.block.name,af.get(i));if(i.isTextBlock(a[0]))return a[0].children[0]}}catch{return}},insertChild:(s,o)=>{var a;if(!i.selection)throw new Error("The editor has no selection");const[l]=Array.from(Y.nodes(i,{at:i.selection.focus,match:f=>Y.isBlock(i,f)}))[0]||[void 0];if(!l)throw new Error("No focus block");if(l&&Y.isVoid(i,l))throw new Error("Can't insert childs into block objects");const d=om([{_key:n(),_type:e.block.name,children:[{_key:n(),_type:s.name,...o||{}}]}],t)[0].children[0];return Y.insertNode(i,d),i.onChange(),((a=O5(ao(i.children,e.block.name,af.get(i)),i.selection,e))==null?void 0:a.focus.path)||[]},insertBlock:(s,o)=>{var a;if(!i.selection)throw new Error("The editor has no selection");const l=om([{_key:n(),_type:s.name,...o||{}}],t)[0];return Y.insertNode(i,l),i.onChange(),((a=O5(ao(i.children,e.block.name,af.get(i)),i.selection,e))==null?void 0:a.focus.path)||[]},hasBlockStyle:s=>{try{return i.pteHasBlockStyle(s)}catch{return!1}},hasListStyle:s=>{try{return i.pteHasListStyle(s)}catch{return!1}},isVoid:s=>![e.block.name,e.span.name].includes(s._type),findByPath:s=>{const o=MO({focus:{path:s,offset:0},anchor:{path:s,offset:0}},i);if(o){const[a,l]=Y.node(i,o.focus.path.slice(0,1));if(a&&l&&typeof a._key=="string"){if(s.length===1&&o.focus.path.length===1)return[ao([a],e.block.name)[0],[{_key:a._key}]];const u=ao([a],e.block.name,af.get(i))[0];if(i.isTextBlock(u)){const d=u.children[o.focus.path[1]];if(d)return[d,[{_key:a._key},"children",{_key:d._key}]]}}}return[void 0,void 0]},findDOMNode:s=>{let o;try{const[a]=Array.from(Y.nodes(i,{at:[],match:l=>l._key===s._key})||[])[0]||[void 0];o=tt.toDOMNode(i,a)}catch{}return o},activeAnnotations:()=>{var s;if(!i.selection||i.selection.focus.path.length<2)return[];try{const o=[],a=Y.nodes(i,{at:i.selection,match:l=>gt.isText(l)&&l.marks!==void 0&&Array.isArray(l.marks)&&l.marks.length>0});for(const[l,u]of a){const[d]=Y.node(i,u,{depth:1});i.isTextBlock(d)&&((s=d.markDefs)==null||s.forEach(f=>{gt.isText(l)&&l.marks&&Array.isArray(l.marks)&&l.marks.includes(f._key)&&o.push(f)}))}return o}catch{return[]}},addAnnotation:(s,o)=>{const{selection:a}=i;if(a){const[l]=Y.node(i,a.focus,{depth:1});if(Rn.isElement(l)&&l._type===e.block.name){const u=n();if(i.isTextBlock(l)){je.setNodes(i,{markDefs:[...l.markDefs||[],{_type:s.name,_key:u,...o}]},{at:a.focus}),i.onChange(),Ve.isCollapsed(a)&&(i.pteExpandToWord(),i.onChange());const[d]=Y.node(i,a.focus,{depth:2});if(i.selection){Y.withoutNormalizing(i,()=>{je.setNodes(i,{},{match:gt.isText,split:!0}),i.selection&&gt.isText(d)&&(je.setNodes(i,{marks:[...d.marks||[],u]},{at:i.selection,match:h=>h._type===e.span.name}),i.onChange())}),Y.normalize(i),i.onChange();const f=O5(ao(i.children,e.block.name,af.get(i)),i.selection,e);if(f&&typeof l._key=="string")return Y.withoutNormalizing(i,()=>{i.selection&&(je.insertNodes(i,[{_type:"span",text:"",marks:[],_key:n()}],{at:Ve.end(i.selection)}),i.onChange())}),{spanPath:f.focus.path,markDefPath:[{_key:l._key},"markDefs",{_key:u}]}}}}}},delete:(s,o)=>{if(s){const a=MO(s,i);if(a){if(!(o!=null&&o.mode)||(o==null?void 0:o.mode)==="selected"){m4("Deleting content in selection"),je.delete(i,{at:a,hanging:!0,voids:!0}),i.onChange();return}(o==null?void 0:o.mode)==="blocks"?m4("Deleting blocks touched by selection"):m4("Deleting children touched by selection"),[...Y.nodes(i,{at:a,match:d=>(o==null?void 0:o.mode)==="blocks"?i.isTextBlock(d)||!i.isTextBlock(d)&&Rn.isElement(d):d._type===e.span.name||!i.isTextBlock(d)&&Rn.isElement(d)})].forEach(d=>{let[,f]=d;je.removeNodes(i,{at:f,voids:!0,hanging:!0})}),i.onChange()}}},removeAnnotation:s=>{let{selection:o}=i;if(m4("Removing annotation",s),o){if(Ve.isCollapsed(o)){const[a,l]=Y.node(i,o,{depth:2});gt.isText(a)&&a.marks&&typeof a.text=="string"&&(je.select(i,l),o=i.selection)}Y.withoutNormalizing(i,()=>{if(o&&Ve.isExpanded(o)){if(o=i.selection,!o)return;je.setNodes(i,{},{match:gt.isText,split:!0}),i.onChange(),[...Y.nodes(i,{at:o,match:l=>gt.isText(l)&&l.marks!==void 0&&Array.isArray(l.marks)&&l.marks.length>0})].forEach(l=>{let[u,d]=l;var f;const[h]=Y.node(i,d,{depth:1});i.isTextBlock(h)&&((f=h.markDefs)==null||f.filter(p=>p._type===s.name).forEach(p=>{if(gt.isText(u)&&Array.isArray(u.marks)&&u.marks.includes(p._key)){const g=[...(u.marks||[]).filter(v=>v!==p._key)];je.setNodes(i,{marks:g},{at:d,voids:!1,split:!1})}}))})}}),Y.normalize(i),i.onChange()}},getSelection:()=>{let s=null;if(i.selection){const o=n6.get(i.selection);if(o)return o;s=O5(ao(i.children,e.block.name,af.get(i)),i.selection,e),n6.set(i.selection,s)}return s},getValue:()=>ao(i.children,e.block.name,af.get(i)),isCollapsedSelection:()=>!!i.selection&&Ve.isCollapsed(i.selection),isExpandedSelection:()=>!!i.selection&&Ve.isExpanded(i.selection),insertBreak:()=>{i.insertBreak(),i.onChange()}}),i}}function Odn(t){return function(n){const{apply:r}=n;return n.apply=i=>{const s=t;s>0&&n.children.length>=s&&(i.type==="insert_node"||i.type==="split_node")&&i.path.length===1||r(i)},n}}const i6=new WeakMap;function HA(t,e){i6.set(t,!0),e(),i6.set(t,!1)}function Ldn(t){return i6.get(t)}function Pdn(t,e){return function(r){i6.set(r,!1);const{apply:i,normalizeNode:s}=r;return r.apply=o=>{if(o.type==="split_node"&&(o.properties={...o.properties,_key:e()}),o.type==="insert_node"){const a=!Ldn(r)||!("_key"in o.node);Y.isEditor(o.node)||(o.node={...o.node,...a?{_key:e()}:{}})}i(o)},r.normalizeNode=o=>{const[a,l]=o;if(Rn.isElement(a)&&a._type===t.block.name){a._key||je.setNodes(r,{_key:e()},{at:l});for(const[u,d]of bt.children(r,l))if(!u._key){je.setNodes(r,{_key:e()},{at:d});return}}s(o)},r}}const s6=new WeakMap;function nY(t,e){const n=bne(t);s6.set(t,!1),e(),s6.set(t,n)}function bne(t){return s6.get(t)}const G1e="before",q1e="after";function Mdn(t,e,n){if(e!==G1e&&e!==q1e)throw new Error('Invalid position "'.concat(e,'", must be either ').concat(G1e," or ").concat(q1e));for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=Y1e(...i);if(t.length===0)return o;const a=t.length,l=Math.abs((a+n)%a)%a,u=e==="after"?l+1:l,d=t.slice();return d.splice(u,0,...Y1e(o)),d}function Y1e(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce((r,i)=>r.concat(i),[])}const K1e=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function $dn(t,e,n){const r=t.slice(),i=r[e];return r.splice(e,1),r.splice(n,0,i),r}function Fdn(t,e){if(typeof e=="number")return e;const n=vze(t,e);return n===-1?!1:n}function Bdn(t,e){const n=t.slice();if(e.path.length===0){if(e.type==="setIfMissing"){if(!Array.isArray(e.value))throw new Error("Cannot set value of an array to a non-array");return t===void 0?e.value:t}else if(e.type==="set"){if(!Array.isArray(e.value))throw new Error("Cannot set value of an array to a non-array");return e.value}else{if(e.type==="unset")return;if(e.type==="move"){if(!e.value||!K1e(e.value,"from")||!K1e(e.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: `.concat(JSON.stringify(e.value)));return $dn(n,e.value.from,e.value.to)}}throw new Error("Invalid array operation: ".concat(e.type))}const[r,...i]=e.path,s=Fdn(t,r);if(s===!1)return n;if(i.length===0){if(e.type==="insert"){const{position:o,items:a}=e;return Mdn(t,o,s,a)}else if(e.type==="unset"){if(typeof s!="number")throw new Error('Expected array index to be a number, instead got "'.concat(s,'"'));return n.splice(s,1),n}}return n[s]=xne(n[s],{...e,path:i}),n}function Ndn(t,e){const n=yze(t);if(e.path.length===0){if(e.type==="set"){if(!V3(e.value))throw new Error("Cannot set value of an object to a non-object");return e.value}else{if(e.type==="unset")return;if(e.type==="setIfMissing")return t===void 0?e.value:t}throw new Error("Invalid object operation: ".concat(e.type))}const[r,...i]=e.path;if(typeof r!="string")throw new Error("Expected field name to be a string, instad got: ".concat(r));return i.length===0&&e.type==="unset"?Al(n,r):(n[r]=xne(n[r],{...e,path:i}),n)}const Lze={replace(t,e){return e},set(t,e){return e},setIfMissing(t,e){return t===void 0?e:t},unset(t,e){},inc(t,e){return t+e},dec(t,e){return t-e}},Vdn=Object.keys(Lze);function Udn(t,e){if(!Vdn.includes(e.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(e.type),'" for primitives. This is most likely a bug.'));if(e.path.length>0)throw new Error('Cannot apply deep operations on primitive values. Received patch with type "'.concat(e.type,'" and path "').concat(e.path.map(n=>JSON.stringify(n)).join("."),' that targeted the value "').concat(JSON.stringify(t),'"'));return Lze[e.type](t,e.value)}const Z1e=new n$.diff_match_patch,Pze={replace(t,e){return e},set(t,e){return e},setIfMissing(t,e){return t===void 0?e:t},unset(t,e){},diffMatchPatch(t,e){return Z1e.patch_apply(Z1e.patch_fromText(e),t)[0]}},Hdn=Object.keys(Pze);function zdn(t,e){if(!Hdn.includes(e.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(e.type),'" for string. This is most likely a bug.'));if(e.path.length>0)throw new Error('Cannot apply deep operations on string values. Received patch with type "'.concat(e.type,'" and path "').concat(e.path.join("."),' that targeted the value "').concat(JSON.stringify(t),'"'));const n=Pze[e.type];if(n)return n(t,e.value);throw new Error("Unknown patch type")}function Wdn(t,e){return e.reduce(xne,t)}function Gdn(t,e){return Array.isArray(t)?Bdn(t,e):k9(t)?zdn(t,e):V3(t)?Ndn(t,e):Udn(t,e)}function xne(t,e){return Gdn(t,e)}const Ho=Lo("patchToOperations"),qdn=new n$.diff_match_patch;function Ydn(t){function e(o,a){const l=OS([a.path[0]]),u=o.children.findIndex((p,g)=>l?p._key===l:g===a.path[0]),d=o.children[u],f=qdn.patch_fromText(a.value)[0],h=o.isTextBlock(d)&&a.path[1]==="children"&&a.path.length===4&&a.path[3]==="text";if(f&&h){const p=f.length2-f.length1;let g;if(f.diffs[1]?g=f.diffs[1][1]:g=f.diffs[0][1],a.path[1]==="children"){const v=OS([a.path[2]]),y=d.children.findIndex((_,C)=>v?_._key===v:C===a.path[0]),x=[u];y>-1&&x.push(y);const b={path:x,offset:p>=0?(f.start1||0)+f.diffs[0][1].length:(f.start2||0)+f.length2-p};Au(o,"before"),p>=0?o.apply({type:"insert_text",path:b.path,offset:b.offset,text:g}):o.apply({type:"remove_text",path:b.path,offset:b.offset-g.length,text:g})}return Au(o,"after"),!0}return!1}function n(o,a){if(a.path.length===1){const{items:x,position:b}=a,_=om(x,{schemaTypes:t},t6.get(o)),C=OS(a.path),S=Math.max(0,o.children.findIndex((A,k)=>C?A._key===C:k===a.path[0])),T=b==="after"?S+1:S;return Ho("Inserting blocks at path [".concat(T,"]")),Au(o,"before"),je.insertNodes(o,_,{at:[T]}),Au(o,"after"),!0}const{items:l,position:u}=a,d=OS(a.path),f=o.children.findIndex((x,b)=>d?x._key===d:b===a.path[0]),h=o.children&&f>-1?o.children[f]:void 0,p=o.isTextBlock(h)?h.children.findIndex((x,b)=>H2(a.path[2])?x._key===a.path[2]._key:b===a.path[2]):0,g=h&&om([{...h,children:l}],{schemaTypes:t},t6.get(o)),v=u==="after"?p+1:p,y=[f,v];return Ho("Inserting children at path ".concat(y)),Au(o,"before"),g&&Rn.isElement(g[0])&&je.insertNodes(o,g[0].children,{at:y}),Au(o,"after"),!0}function r(o,a){const l=o.children.findIndex((g,v)=>H2(a.path[0])?g._key===a.path[0]._key:v===a.path[0]);Ho("blockIndex",l);const u=l>-1?o.children[l]:void 0,d=o.isTextBlock(u);if(d&&a.path.length>2&&a.path[1]!=="children")return Ho("Ignoring setting void value"),!1;const f=d?u.children.findIndex((g,v)=>H2(a.path[2])?g._key===a.path[2]._key:v===a.path[2]):0;let h=a.value;const p=f>-1?[l,f]:[l];if(typeof a.path[3]=="string"&&(h={},h[a.path[3]]=a.value),d){if(Ho("Setting nodes at ".concat(JSON.stringify(a.path)," - ").concat(JSON.stringify(p))),Ho("Value to set",JSON.stringify(h,null,2)),Au(o,"before"),p.length===1){Ho("Setting block property");const{children:g,...v}=h,{children:y,...x}=u||{children:void 0};o.apply({type:"set_node",path:p,properties:{...x},newProperties:v}),u&&Rn.isElement(u)&&u.children.forEach((b,_)=>{o.apply({type:"remove_node",path:p.concat(_),node:b})}),Array.isArray(g)&&g.forEach((b,_)=>{o.apply({type:"insert_node",path:p.concat(_),node:b})})}else if(gt.isText(h)){Ho("Setting text property");const g=o.selection&&{...o.selection};o.apply({type:"remove_text",path:p,offset:0,text:u.children[f].text}),o.apply({type:"insert_text",path:p,offset:0,text:h.text}),g&&Ur(g.focus.path,p)&&(Ho("On same path, restoring previous selection"),je.select(o,g))}else Ho("Setting non-text property"),o.apply({type:"set_node",path:p,properties:{},newProperties:h});return Au(o,"after"),!0}else if(u&&"value"in u){const g=Wdn([u.value],[a])[0];return je.setNodes(o,{...u,value:g},{at:[l]}),!0}return!1}function i(o,a,l){var u;if(a.path.length===0){Ho("Removing everything"),Au(o,"before");const h=o.selection;return je.deselect(o),o.children.forEach((p,g)=>{je.removeNodes(o,{at:[g]})}),je.insertNodes(o,o.createPlaceholderBlock()),h&&je.select(o,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),Au(o,"after"),!0}if(a.path.length===1){const h=OS(a.path),p=o.children.findIndex((g,v)=>h?g._key===h:v===a.path[0]);if(p===-1)return Ho("Could not find block to unset at path ".concat(JSON.stringify(a.path))),!1;if(Ho("Removing block at path [".concat(p,"]")),Au(o,"before"),o.selection&&o.selection.focus.path[0]===p&&o.children[p-1]){const g={path:[Math.max(o.selection.focus.path[0]-1,0)],offset:0};je.select(o,{focus:g,anchor:g}),je.move(o,{unit:"line"})}return je.removeNodes(o,{at:[p]}),Au(o,"after"),!0}const d=o.children.findIndex((h,p)=>H2(a.path[0])?h._key===a.path[0]._key:p===a.path[0]),f=d>-1?o.children[d]:void 0;if(o.isTextBlock(f)&&a.path[1]==="children"&&a.path.length===3){const h=f.children.findIndex((y,x)=>H2(a.path[2])?y._key===a.path[2]._key:x===a.path[2]),p=[d,h],g=o.selection&&{...o.selection},v=Ur((u=o.selection)==null?void 0:u.focus.path,p);if(h===-1)return Ho("Could not find child to unset at path ".concat(JSON.stringify(p))),!1;if(Ho("Unsetting child at path ".concat(JSON.stringify(p))),Au(o,"before"),g&&v&&o.isTextBlock(f)&&h>=g.focus.path[1]){const x=f.children[h];if((l==null?void 0:l.type)==="set"&&l.path[3]==="text"&&typeof l.value=="string"&&o.isTextSpan(x)&&Ur(l.value.slice(-x.text.length),f.children[h].text)){const _=f.children[Math.max(h-1,0)];return Ho("Adjusting selection for merging of nodes"),g.focus={...g.focus},g.focus.path=[p[0],Math.max(p[1]-1,0)],g.focus.offset=o.isTextSpan(_)?_.text.length-x.text.length+g.focus.offset:0,g.anchor=g.focus,je.select(o,g),je.removeNodes(o,{at:[d,h]}),Au(o,"after"),!0}}return je.removeNodes(o,{at:[d,h]}),Au(o,"after"),!0}return!1}let s;return function(o,a){let l=!1;Ho(`

NEW PATCH =============================================================`),Ho(JSON.stringify(a,null,2));try{switch(a.type){case"insert":l=n(o,a);break;case"unset":l=i(o,a,s);break;case"set":l=r(o,a);break;case"diffMatchPatch":l=e(o,a);break;default:Ho("Unhandled patch",a.type)}}catch(u){console.error(u)}return s=a,l}}function H2(t){return typeof t=="object"&&"_key"in t}function OS(t){let e=null;return t.concat("").reverse().forEach(n=>{H2(n)&&(e=n._key)}),e}function Au(t,e){Ho("Children ".concat(e,":"),JSON.stringify(t.children,null,2)),Ho("Selection ".concat(e,": "),JSON.stringify(t.selection,null,2))}function Kdn(t){return e=>Ls(()=>{let n=[];return e.pipe(Ei(r=>n.push(r)),Kt(()=>t(n)?Re(n):as),Ei(()=>n=[]))})}const jp=Lo("plugin:withUndoRedo"),Zdn=new n$.diff_match_patch,rY=new WeakMap,Xdn=new WeakMap,Qdn=300,Jdn=t=>Xdn.get(t),Mze=t=>bne(t)?rY.get(t):!1;function efn(t){const{readOnly:e,patches$:n}=t,r=[];return i=>{n&&i.subscriptions.push(()=>{jp("Subscribing to patches");const o=n.subscribe(a=>{let{patches:l}=a;l.forEach(u=>{u.origin!=="local"&&r.push({patch:u,time:new Date})})});return()=>{jp("Unsubscribing to patches"),o.unsubscribe()}}),i.history={undos:[],redos:[]};const{apply:s}=i;return i.apply=o=>{if(e){s(o);return}const{operations:a,history:l}=i,{undos:u}=l,d=u[u.length-1],f=d&&d.operations&&d.operations[d.operations.length-1],h=rfn(o,f);let p=Mze(i),g=Jdn(i);if(p==null&&(p=nfn(o)),p){if(g==null&&(d==null?g=!1:a.length!==0?g=!0:g=tfn(o,f)||h),d&&g)h&&d.operations.pop(),d.operations.push(o);else{const v={operations:[...i.selection===null?[]:[sfn(i)],o],timestamp:new Date};u.push(v),jp("Created new undo step",d)}for(;u.length>Qdn;)u.shift();ifn(o)&&(l.redos=[])}s(o)},i.undo=()=>{if(e)return;const{undos:o}=i.history;if(o.length>0){const a=o[o.length-1];if(jp("Undoing",a),a.operations.length>0){const l=[...r.filter(d=>d.time>=a.timestamp)];let u=a.operations;l.forEach(d=>{u=$i(u.map(f=>X1e(i,d.patch,f)))}),zA(i,()=>{Y.withoutNormalizing(i,()=>{u.map(j5.inverse).reverse().forEach(d=>{try{i.apply(d)}catch(f){jp("Could not perform undo step",f),i.history.redos.push(a),i.history.undos.pop()}})})})}i.history.redos.push(a),i.history.undos.pop(),i.onChange()}},i.redo=()=>{if(e)return;const{redos:o}=i.history;if(o.length>0){const a=o[o.length-1];if(jp("Redoing",a),a.operations.length>0){const l=r.filter(d=>d.time>a.timestamp);let u=a.operations;l.forEach(d=>{u=$i(u.map(f=>X1e(i,d.patch,f)))}),zA(i,()=>{Y.withoutNormalizing(i,()=>{u.forEach(d=>{try{i.apply(d)}catch(f){jp("Could not perform redo step",f),i.history.undos.push(a),i.history.redos.pop()}})})})}i.history.undos.push(a),i.history.redos.pop(),i.onChange()}},i}}function X1e(t,e,n){let r={...n};if(e.type==="insert"&&e.path.length===1)return[Q1e(t,e,n,e.items.length)];if(e.type==="unset"&&e.path.length===1)return[Q1e(t,e,n,-1)];if(e.type==="unset"&&e.path.length===0)return jp("Adjusting selection for unset everything patch and ".concat(n.type," operation")),[n];if(e.type==="diffMatchPatch"){const i=t.children.findIndex(o=>Ur({_key:o._key},e.path[0])),s=t.children[i];if(Rn.isElement(s)&&Array.isArray(s.children)){const o=s.children.findIndex(d=>Ur({_key:d._key},e.path[2])),a=Zdn.patch_fromText(e.value)[0];if(!a)return jp("Could not parse diffMatchPatch",e),[n];const l=a.length2-a.length1,u=a.diffs.some(d=>d[0]===-1);if(n.type==="split_node"&&n.path.length>1){const d=r;return u?d.position-=l:d.position+=l,[d]}if((n.type==="insert_text"||n.type==="remove_text")&&Ae.isPath(n.path)&&n.path[0]!==void 0&&n.path[0]===i&&n.path[1]===o){if(n.type==="insert_text"){let d=0;for(const f of a.diffs)if(f[0]===0&&(d=f[1].length),f[0]===1)break;if(a.start1!==null&&d+a.start1<=n.offset){const f=r;f.offset+=l,r=f}return[r]}if(n.type==="remove_text"){let d=0;for(const f of a.diffs)if(f[0]===0&&(d=f[1].length),f[0]===-1)break;if(a.start1!==null&&d+a.start1<=n.offset){const f=r;f.offset-=l,r=f}return[r]}}}}return[n]}function Q1e(t,e,n,r){const i=t.children.findIndex(s=>Ur({_key:s._key},e.path[0]));if(i>=0&&n.type!=="set_selection"&&Array.isArray(n.path)&&n.path[0]!==void 0&&n.path[0]>=i+r){const s={...n},o=[n.path[0]+r,...n.path.slice(1)];return jp("Adjusting ".concat(n.type," for block ").concat(e.type),n.path,o),s.path=o,s}return n}const tfn=(t,e)=>!!(t.type==="set_selection"||e&&t.type==="insert_text"&&e.type==="insert_text"&&t.offset===e.offset+e.text.length&&Ae.equals(t.path,e.path)&&t.text!==" "||e&&t.type==="remove_text"&&e.type==="remove_text"&&t.offset+t.text.length===e.offset&&Ae.equals(t.path,e.path)),nfn=(t,e)=>!(t.type==="set_selection"&&t.newProperties===null),rfn=(t,e)=>!!(e&&t.type==="set_selection"&&e.type==="set_selection"),ifn=t=>t.type!=="set_selection";function zA(t,e){const n=Mze(t);rY.set(t,!1),e(),rY.set(t,n)}function sfn(t){return{type:"set_selection",properties:{...t.selection},newProperties:{...t.selection}}}const d2=Lo("plugin:withPatches");function ofn(t){let{change$:e,isPending:n,patches$:r,patchFunctions:i,readOnly:s,schemaTypes:o}=t,a;const l=Ydn(o);return function(d){s6.set(d,!0),a=[...d.children];const{apply:f}=d;return r&&d.subscriptions.push(()=>{d2("Subscribing to patches$");const h=r.pipe(Ei(p=>{let{patches:g}=p;g.every(v=>v.origin==="local")&&(n.current=!1)}),Kdn(()=>!n.current),JP(p=>p)).subscribe(p=>{let{patches:g,snapshot:v}=p;const y=g.filter(x=>x.origin!=="local");y.length!==0&&(d2("Remote patches",g),Y.withoutNormalizing(d,()=>{y.forEach(x=>{d2("Handling remote patch ".concat(JSON.stringify(x))),nY(d,()=>{zA(d,()=>{HA(d,()=>{try{l(d,x,g,v)}catch(b){d2("Got error trying to create operations from patch"),console.error(b)}})})})})}))});return()=>{d2("Unsubscribing to patches$"),h.unsubscribe()}}),d.apply=h=>{if(s)return f(h),d;let p=[];a=d.children;const g=r6(a,o);f(h);const v=r6(d.children,o);if(!bne(d))return d2("Editor is not producing patch for operation ".concat(h.type),h),d;switch(g&&!v&&h.type!=="set_selection"&&p.push(Cg(a,"before",[0])),h.type){case"insert_text":p=[...p,...i.insertTextPatch(d,h,a)];break;case"remove_text":p=[...p,...i.removeTextPatch(d,h,a)];break;case"remove_node":p=[...p,...i.removeNodePatch(d,h,a)];break;case"split_node":p=[...p,...i.splitNodePatch(d,h,a)];break;case"insert_node":p=[...p,...i.insertNodePatch(d,h,a)];break;case"set_node":p=[...p,...i.setNodePatch(d,h,a)];break;case"merge_node":p=[...p,...i.mergeNodePatch(d,h,a)];break;case"move_node":p=[...p,...i.moveNodePatch(d,h,a)];break}return!g&&v&&["merge_node","set_node","remove_text","remove_node"].includes(h.type)&&(p=[...p,fd([])],e.next({type:"unset",previousValue:ao(a,o.block.name,af.get(d))})),g&&p.length>0&&(p=[Oze([],[]),...p]),p.length>0&&p.forEach(y=>{e.next({type:"patch",patch:{...y,origin:"local"}})}),d},d}}const afn=Lo("plugin:withPlaceholderBlock");function lfn(t){let{schemaTypes:e,keyGenerator:n}=t;return function(i){return i.createPlaceholderBlock=()=>(afn("Creating placeholder block"),{_type:e.block.name,_key:n(),style:e.styles[0].value||"normal",markDefs:[],children:[{_type:"span",_key:n(),text:"",marks:[]}]}),i}}const g4=Lo("plugin:withPortableTextBlockStyle");function ufn(t,e){const n=t.styles[0].value;return function(i){const{normalizeNode:s}=i;return i.normalizeNode=o=>{s(o);const[,a]=o;for(const l of i.operations)if(l.type==="split_node"&&l.path.length===1&&i.isTextBlock(l.properties)&&l.properties.style!==n&&l.path[0]===a[0]&&!Ae.equals(a,l.path)){const[u]=Y.node(i,[l.path[0]+1,0]);if(gt.isText(u)&&u.text===""){g4("Normalizing split node to ".concat(n," style"),l),je.setNodes(i,{style:n},{at:[l.path[0]+1],voids:!1});break}}},i.pteHasBlockStyle=o=>i.selection?[...Y.nodes(i,{at:i.selection,match:l=>i.isTextBlock(l)&&l.style===o})].length>0:!1,i.pteToggleBlockStyle=o=>{if(!i.selection)return;[...Y.nodes(i,{at:i.selection,match:l=>Rn.isElement(l)&&l._type===t.block.name})].forEach(l=>{let[u,d]=l;i.isTextBlock(u)&&u.style===o?(g4("Unsetting block style '".concat(o,"'")),je.setNodes(i,{...u,style:n},{at:d})):(o?g4("Setting style '".concat(o,"'")):g4("Setting default style",n),je.setNodes(i,{...u,style:o||n},{at:d}))}),i.onChange()},i}}const nb=Lo("plugin:withPortableTextLists"),SU=10;function cfn(t){return function(n){return n.pteToggleListItem=r=>{n.pteHasListStyle(r)?(nb("Remove list item '".concat(r,"'")),n.pteUnsetListItem(r)):(nb("Add list item '".concat(r,"'")),n.pteSetListItem(r))},n.pteUnsetListItem=r=>{if(!n.selection)return;[...Y.nodes(n,{at:n.selection,match:s=>Rn.isElement(s)&&s._type===t.block.name})].forEach(s=>{let[o,a]=s;if(n.isListBlock(o)){const{listItem:l,level:u,...d}=o,f={...d,listItem:void 0,level:void 0};nb("Unsetting list '".concat(r,"'")),je.setNodes(n,f,{at:a})}})},n.pteSetListItem=r=>{if(!n.selection)return;[...Y.nodes(n,{at:n.selection,match:s=>n.isTextBlock(s)})].forEach(s=>{let[o,a]=s;nb("Setting list '".concat(r,"'")),je.setNodes(n,{...o,level:1,listItem:r||t.lists[0]&&t.lists[0].value},{at:a})})},n.pteEndList=()=>{if(!n.selection)return!1;const r=[...Y.nodes(n,{at:n.selection,match:i=>Rn.isElement(i)&&n.isListBlock(i)&&i.children.length===1&&gt.isText(i.children[0])&&i.children[0].text===""})];return r.length===0?!1:(r.forEach(i=>{let[s,o]=i;Rn.isElement(s)&&(nb("Unset list"),je.setNodes(n,{...s,level:void 0,listItem:void 0},{at:o}))}),!0)},n.pteIncrementBlockLevels=r=>{if(!n.selection)return!1;const i=[...Y.nodes(n,{at:n.selection,match:s=>!!n.isListBlock(s)})];return i.length===0?!1:(i.forEach(s=>{let[o,a]=s;if(n.isListBlock(o)){let l=o.level||1;r?(l--,nb("Decrementing list level",Math.min(SU,Math.max(1,l)))):(l++,nb("Incrementing list level",Math.min(SU,Math.max(1,l)))),je.setNodes(n,{level:Math.min(SU,Math.max(1,l))},{at:a})}}),!0)},n.pteHasListStyle=r=>n.selection?[...Y.nodes(n,{at:n.selection,match:s=>n.isListBlock(s)&&s.listItem===r})].length>0:!1,n}}const rb=Lo("plugin:withPortableTextMarkModel");function dfn(t){return function(i){const{apply:s,normalizeNode:o}=i,a=t.decorators.map(l=>l.value);return i.normalizeNode=l=>{o(l),i.operations.some(p=>["insert_node","insert_text","merge_node","remove_node","remove_text","set_node"].includes(p.type))&&e(i);const[u,d]=l,f=gt.isText(u)&&u._type===t.span.name,h=i.isTextBlock(u);if(f||h){f&&!Array.isArray(u.marks)&&(rb("Adding .marks to span node"),je.setNodes(i,{marks:[]},{at:d}),i.onChange());for(const p of i.operations){if(p.type==="merge_node"&&p.path.length===1&&"markDefs"in p.properties&&p.properties._type===t.block.name&&Array.isArray(p.properties.markDefs)&&p.properties.markDefs.length>0&&p.path[0]-1>=0){const[g,v]=Y.node(i,[p.path[0]-1]);if(rb("Copying markDefs over to merged block",p),i.isTextBlock(g)){const y=Array.isArray(g.markDefs)&&g.markDefs||[],x=ha([...y,...p.properties.markDefs]);Ur(x,g.markDefs)||(je.setNodes(i,{markDefs:x},{at:v,voids:!1}),i.onChange())}}if(p.type==="split_node"&&p.path.length===1&&Rn.isElementProps(p.properties)&&p.properties._type===t.block.name&&"markDefs"in p.properties&&Array.isArray(p.properties.markDefs)&&p.properties.markDefs.length>0&&p.path[0]+1<i.children.length){const[g,v]=Y.node(i,[p.path[0]+1]);if(rb("Copying markDefs over to split block",p),i.isTextBlock(g)){const y=Array.isArray(g.markDefs)&&g.markDefs||[];je.setNodes(i,{markDefs:ha([...y,...p.properties.markDefs])},{at:v,voids:!1}),i.onChange()}}if(p.type==="split_node"&&p.path.length===2&&p.properties._type===t.span.name&&"marks"in p.properties&&Array.isArray(p.properties.marks)&&p.properties.marks.length>0&&p.path[0]+1<i.children.length){const[g,v]=Y.node(i,[p.path[0]+1,0]);gt.isText(g)&&g.text===""&&Array.isArray(g.marks)&&g.marks.length>0&&(je.setNodes(i,{marks:[]},{at:v,voids:!1}),i.onChange())}if(p.type==="split_node"&&p.path.length===1&&p.properties._type===t.block.name&&"markDefs"in p.properties&&Array.isArray(p.properties.markDefs)&&p.properties.markDefs.length>0){const[g,v]=Y.node(i,[p.path[0]]);i.isTextBlock(g)&&g.children.length===1&&g.markDefs&&g.markDefs.length>0&&gt.isText(g.children[0])&&g.children[0].text===""&&(!g.children[0].marks||g.children[0].marks.length===0)&&(je.setNodes(i,{markDefs:[]},{at:v}),i.onChange())}}f&&Array.isArray(u.marks)&&u.marks.length>0&&u.text===""&&(je.setNodes(i,{marks:[]},{at:d,voids:!1}),i.onChange())}h&&i.operations.some(p=>["split_node","remove_node","remove_text","merge_node"].includes(p.type))&&n(i)},i.apply=l=>{var u,d;if(l.type==="insert_text"){const{selection:f}=i;if(f&&Ve.isCollapsed(f)&&((d=(u=Y.marks(i))==null?void 0:u.marks)!=null&&d.some(h=>!a.includes(h)))){const[h]=Array.from(Y.nodes(i,{mode:"lowest",at:f.focus,match:p=>p._type===t.span.name,voids:!1}))[0]||[void 0];if(gt.isText(h)&&h.text.length===f.focus.offset&&Array.isArray(h.marks)&&h.marks.length>0){s(l),je.splitNodes(i,{match:gt.isText,at:{...f.focus,offset:f.focus.offset}});const p=({...Y.marks(i)||{}}.marks||[]).filter(g=>a.includes(g));je.setNodes(i,{marks:p},{at:Ae.next(f.focus.path)});return}}}s(l)},i.addMark=l=>{if(i.selection){if(Ve.isExpanded(i.selection)){je.setNodes(i,{},{match:gt.isText,split:!0});const u=[...Y.nodes(i,{at:i.selection,match:gt.isText})];if($i(u.map(f=>f[0]).map(f=>f.marks)).includes(l)){i.removeMark(l);return}Y.withoutNormalizing(i,()=>{u.forEach(f=>{let[h,p]=f;const g=[...(Array.isArray(h.marks)?h.marks:[]).filter(v=>v!==l),l];je.setNodes(i,{marks:g},{at:p,match:gt.isText,split:!0,hanging:!0})})}),Y.normalize(i)}else{const u={...Y.marks(i)||{}}.marks||[],d={...Y.marks(i)||{},marks:[...u,l]};i.marks=d}i.onChange()}},i.removeMark=l=>{const{selection:u}=i;if(u){if(Ve.isExpanded(u))Y.withoutNormalizing(i,()=>{je.setNodes(i,{},{match:gt.isText,split:!0}),i.selection&&[...Y.nodes(i,{at:i.selection,match:gt.isText})].forEach(f=>{let[h,p]=f;const g=i.children[p[0]];Rn.isElement(g)&&g.children.includes(h)&&je.setNodes(i,{marks:(Array.isArray(h.marks)?h.marks:[]).filter(v=>v!==l)},{at:p})})}),Y.normalize(i);else{const d={...Y.marks(i)||{}}.marks||[],f={...Y.marks(i)||{},marks:d.filter(h=>h!==l)};i.marks=f}i.onChange()}},i.pteIsMarkActive=l=>{if(!i.selection||i.selection.focus.path.length<2)return!1;let u={...Y.marks(i)||{}}.marks||[];return Ve.isExpanded(i.selection)&&Array.from(Y.nodes(i,{match:gt.isText,at:i.selection})).forEach(d=>{const[f]=d;u=ha([...u,...f.marks||[]])}),u.includes(l)},i.pteToggleMark=l=>{i.pteIsMarkActive(l)?(rb("Remove mark '".concat(l,"'")),Y.removeMark(i,l)):(rb("Add mark '".concat(l,"'")),Y.addMark(i,l,!0)),i.onChange()},i};function e(r){const{selection:i}=r;if(i)for(const[s,o]of Array.from(Y.nodes(r,{at:Y.range(r,[i.anchor.path[0]],[i.focus.path[0]])})).reverse()){const[a]=o.length>1?Y.node(r,Ae.parent(o)):[void 0],l=[o[0],o[1]+1];if(Y.isBlock(r,a)){const u=a.children[l[1]];gt.isText(s)&&gt.isText(u)&&Ur(u.marks,s.marks)&&(rb("Merging spans"),je.mergeNodes(r,{at:l,voids:!0}),r.onChange())}}}function n(r){const{selection:i}=r;if(i){const s=Y.nodes(r,{at:i,match:o=>o._type===t.block.name});for(const[o,a]of s)if(r.isTextBlock(o)){const l=(o.markDefs||[]).filter(u=>o.children.find(d=>gt.isText(d)&&Array.isArray(d.marks)&&d.marks.includes(u._key)));Ur(l,o.markDefs)||(rb("Removing markDef not in use"),je.setNodes(r,{markDefs:l},{at:a}),r.onChange())}}}}const ffn=Lo("plugin:withPortableTextSelections");function hfn(t,e){let n=null;return function(i){const s=()=>{if(n!==i.selection){let a=null;if(i.selection){const l=n6.get(i.selection);if(l)a=l;else{const u=i.children;a=O5(u,i.selection,e),n6.set(i.selection,a)}}ffn("Emitting selection ".concat(JSON.stringify(a||null))),a?t.next({type:"selection",selection:a}):t.next({type:"selection",selection:null})}n=i.selection},{onChange:o}=i;return i.onChange=()=>{const a=i.operations.length>0;o(),a&&s()},i}}const pfn=Lo("plugin:withSchemaTypes");function mfn(t){return function(n){n.isTextBlock=i=>EC(i)&&i._type===t.block.name,n.isTextSpan=i=>lv(i)&&i._type==t.span.name,n.isListBlock=i=>Oft(i)&&i._type===t.block.name,n.isVoid=i=>t.block.name!==i._type&&(t.blockObjects.map(s=>s.name).includes(i._type)||t.inlineObjects.map(s=>s.name).includes(i._type)),n.isInline=i=>t.inlineObjects.map(o=>o.name).includes(i._type)&&"__inline"in i&&i.__inline===!0;const{apply:r}=n;return n.apply=i=>{if(i.type==="insert_node"&&i.path.length===2&&gt.isText(i.node)&&i.node._type===void 0){const a={...i.node,_type:"span"};i.node=a,pfn("Setting span type to child without a type",i)}r(i)},n}}const TU=Lo("plugin:withUtils");function gfn(t){return function(n){return n.pteExpandToWord=()=>{const{selection:r}=n;if(r&&!Ve.isExpanded(r)){const[i]=Y.node(n,r.focus,{depth:2});if(!i||!gt.isText(i)||i.text.length===0){TU("pteExpandToWord: Can't expand to word here");return}const{focus:s}=r,o=s.offset,a=i.text.slice(0,o),l=i.text.slice(o,-1),u=g=>g.match(/\s/g),d=a.split("").reverse().findIndex(g=>u(g)),f=d>-1?a.length-d:0,h=l.split("").findIndex(g=>u(g)),p=a.length+(h>-1?h:l.length+1);if(!(f===p||isNaN(f)||isNaN(p))){TU("pteExpandToWord: Expanding to focused word"),je.setSelection(n,{anchor:{...r.anchor,offset:f},focus:{...r.focus,offset:p}});return}TU("pteExpandToWord: Can't expand to word here")}},n}}const kU=Lo("plugin:withHotKeys"),vfn={marks:{"mod+b":"strong","mod+i":"em","mod+u":"underline","mod+'":"code"},custom:{}};function yfn(t,e,n,r){const i=["enter","tab","shift","delete","end"],s=r||vfn,o=()=>om([{_type:t.block.name,_key:e(),style:"normal",markDefs:[],children:[{_type:"span",_key:e(),text:"",marks:[]}]}],n)[0];return function(l){return l.pteWithHotKeys=u=>{Object.keys(s).forEach(y=>{if(y==="marks")for(const x in s[y]){if(i.includes(x))throw new Error("The hotkey ".concat(x," is reserved!"));if(Iu(x,u.nativeEvent)){u.preventDefault();const b=s[y];if(b){const _=b[x];kU("HotKey ".concat(x," to toggle ").concat(_)),l.pteToggleMark(_)}}}if(y==="custom")for(const x in s[y]){if(i.includes(x))throw new Error("The hotkey ".concat(x," is reserved!"));if(Iu(x,u.nativeEvent)){const b=s[y];if(b){const _=b[x];_(u,n)}}}});const d=Iu("enter",u.nativeEvent),f=Iu("tab",u.nativeEvent),h=Iu("shift+enter",u.nativeEvent),p=Iu("shift+tab",u.nativeEvent),g=Iu("backspace",u.nativeEvent),v=Iu("delete",u.nativeEvent);if(g&&l.selection&&l.selection.focus.path[0]>0&&Ve.isCollapsed(l.selection)){const[y,x]=Y.node(l,Ae.previous(l.selection.focus.path.slice(0,1))),[b]=Y.node(l,l.selection.focus,{depth:1});if(y&&b&&Y.isVoid(l,y)&&l.selection.focus.offset===0){kU("Preventing deleting void block above"),u.preventDefault(),u.stopPropagation(),je.removeNodes(l,{match:_=>_===b}),je.select(l,x),l.onChange();return}}if(v&&l.selection&&l.selection.focus.offset===0&&Ve.isCollapsed(l.selection)&&l.children[l.selection.focus.path[0]+1]){const[y]=Y.node(l,Ae.next(l.selection.focus.path.slice(0,1))),[x,b]=Y.node(l,l.selection.focus,{depth:1});if(y&&x&&!Y.isVoid(l,x)&&Y.isVoid(l,y)){kU("Preventing deleting void block below"),u.preventDefault(),u.stopPropagation(),je.removeNodes(l,{match:_=>_===x}),je.select(l,b),l.onChange();return}}if((f||p)&&l.selection){const[y]=Y.node(l,l.selection.focus,{depth:2}),[x]=lv(y)?Y.node(l,l.selection.focus,{depth:1}):[],b=y&&EC(x)&&lv(y)&&(y.marks||[]).filter(S=>(x.markDefs||[]).map(T=>T._key).includes(S)).length>0,[_]=Ve.edges(l.selection),C=Y.isStart(l,_,_.path);y&&lv(y)&&(!b||C)&&l.pteIncrementBlockLevels(p)&&u.preventDefault()}if(d&&!h&&l.selection){let y;try{[y]=Y.node(l,l.selection.focus,{depth:1})}catch{}if(l.isListBlock(y)){l.pteEndList()&&u.preventDefault();return}if(l.isTextBlock(y)&&y.style&&y.style!==t.styles[0].value){const[,x]=Ve.edges(l.selection);if(Y.isEnd(l,x,x.path)){Y.insertNode(l,o()),u.preventDefault();return}}if(y&&Y.isVoid(l,y)){Y.insertNode(l,o()),u.preventDefault();return}}if(h){u.preventDefault(),l.insertText(`
`);return}if(Iu("mod+z",u.nativeEvent)){u.preventDefault(),l.undo();return}(Iu("mod+y",u.nativeEvent)||Iu("mod+shift+z",u.nativeEvent))&&(u.preventDefault(),l.redo())},l}}function Dk(t,e,n){let r=null,i=!0;const s=[e.span.name,...e.inlineObjects.map(a=>a.name)],o=[e.block.name,...e.blockObjects.map(a=>a.name)];return t===void 0?{valid:!0,resolution:null,value:t}:!Array.isArray(t)||t.length===0?{valid:!1,resolution:{patches:[fd([])],description:"Editor value must be an array of Portable Text blocks, or undefined.",action:"Unset the value",item:t},value:t}:(t.some((a,l)=>{if(!V3(a))return r={patches:[fd([l])],description:"Block must be an object, got ".concat(String(a)),action:"Unset invalid item",item:a},!0;if(!a._key)return r={patches:[ph({...a,_key:n()},[l])],description:"Block at index ".concat(l," is missing required _key."),action:"Set the block with a random _key value",item:a},!0;if(!a._type||!o.includes(a._type)){if(a._type==="block"){const u=e.block.name;return r={patches:[ph({...a,_type:u},[{_key:a._key}])],description:"Block with _key '".concat(a._key,"' has invalid type name '").concat(a._type,"'. According to the schema, the block type name is '").concat(u,"'"),action:"Use type '".concat(u,"'"),item:a},!0}return r={patches:[fd([{_key:a._key}])],description:"Block with _key '".concat(a._key,"' has invalid _type '").concat(a._type,"'"),action:"Remove the block",item:a},!0}if(a._type===e.block.name){const u=a;if(!u.children)return r={patches:[fd([{_key:u._key}])],description:"Text block with _key '".concat(u._key,"' is missing required key 'children'."),action:"Remove the block",item:u},!0;if(!a.markDefs)return r={patches:[ph({...u,markDefs:[]},[{_key:u._key}])],description:"Block is missing required key 'markDefs'.",action:"Add empty markDefs array",item:u},!0;const h=ha($i(u.children.filter(p=>p._type===e.span.name).map(p=>p.marks||[]))).filter(p=>!e.decorators.map(g=>g.value).includes(p)).filter(p=>u.markDefs?!u.markDefs.find(g=>g._key===p):!1);if(h.length>0){const p=u.children.filter(g=>g._type===e.span.name&&Array.isArray(g.marks)&&g.marks.some(v=>h.includes(v)));if(p)return r={patches:p.map(g=>ph((g.marks||[]).filter(v=>!h.includes(v)),[{_key:a._key},"children",{_key:g._key},"marks"])),description:"Block with _key '".concat(a._key,"' contains marks (").concat(h.join(", "),") not supported by the current content model."),action:"Remove invalid marks",item:a},!0}if(u.children&&u.children.length===0){const p={_type:e.span.name,_key:n(),text:""};return r={patches:[Cg([p],"after",[{_key:a._key},"children",0])],description:"Children for text block with _key '".concat(a._key,"' is empty."),action:"Insert an empty text",item:a},!0}u.children.some((p,g)=>{if(!p._key){const v={...p,_key:n()};return r={patches:[ph(v,[{_key:a._key},"children",g])],description:"Child at index ".concat(g," is missing required _key in block with _key ").concat(a._key,"."),action:"Set a new random _key on the object",item:a},!0}return!p._type||s.includes(p._type)===!1?(r={patches:[fd([{_key:a._key},"children",{_key:p._key}])],description:"Child with _key '".concat(p._key,"' in block with key '").concat(a._key,"' has invalid '_type' property (").concat(p._type,")."),action:"Remove the object",item:a},!0):p._type===e.span.name&&p.text===void 0?(r={patches:[ph({...p,text:""},[{_key:a._key},"children",{_key:p._key}])],description:"Child with _key '".concat(p._key,"' in block with key '").concat(a._key,"' is missing text property!"),action:"Write an empty .text to the object",item:a},!0):!1})&&(i=!1)}return!1})&&(i=!1),{valid:i,resolution:r,value:t})}const gg=Lo("plugin:withInsertData");function bfn(t,e,n){return function(i){const s=e.block.name,o=e.span.name,a=l=>l.map(u=>{var d;return i.isTextBlock(u)?u.children.map(f=>{var h;return f._type===o?f.text:"[".concat(((h=e.inlineObjects.find(p=>p.name===f._type))==null?void 0:h.title)||"Object","]")}).join(""):"[".concat(((d=e.blockObjects.find(f=>f.name===u._type))==null?void 0:d.title)||"Object","]")}).join(`

`);return i.setFragmentData=(l,u)=>{const{selection:d}=i;if(!d)return;const[f,h]=Ve.edges(d),p=Y.void(i,{at:f.path}),g=Y.void(i,{at:h.path});if(Ve.isCollapsed(d)&&!p)return;const v=tt.toDOMRange(i,d);let y=v.cloneContents();if(g){const[A]=g,k=v.cloneRange(),I=tt.toDOMNode(i,A);k.setEndAfter(I),y=k.cloneContents()}Array.from(y.querySelectorAll("[data-slate-zero-width]")).forEach(A=>{const k=A.getAttribute("data-slate-zero-width")==="n";A.textContent=k?`
`:""}),Array.from(y.querySelectorAll("*")).forEach(A=>{A.removeAttribute("contentEditable"),A.removeAttribute("data-slate-inline"),A.removeAttribute("data-slate-leaf"),A.removeAttribute("data-slate-node"),A.removeAttribute("data-slate-spacer"),A.removeAttribute("data-slate-string"),A.removeAttribute("data-slate-zero-width"),A.removeAttribute("draggable");for(const k in A.attributes)A.hasAttribute(k)&&A.removeAttribute(k)});const x=y.ownerDocument.createElement("div");x.appendChild(y),x.setAttribute("hidden","true"),y.ownerDocument.body.appendChild(x);const b=x.innerHTML;y.ownerDocument.body.removeChild(x);const _=i.getFragment(),C=ao(_,s),S=JSON.stringify(C),T=a(C);l.clearData(),l.setData("text/plain",T),l.setData("text/html",b),l.setData("application/json",S),l.setData("application/x-portable-text",S),gg("text",T),l.setData("application/x-portable-text-event-origin",u||"external"),gg("Set fragment data",S,b)},i.insertPortableTextData=l=>{var u;if(!i.selection)return!1;const d=l.getData("application/x-portable-text"),f=l.getData("application/x-portable-text-event-origin");if(gg("Inserting portable text from ".concat(f," event"),d),d){const h=JSON.parse(d);if(Array.isArray(h)&&h.length>0){const p=_fn(i,om(h,{schemaTypes:e}),n,o),g=Dk(h,e,n);if(!g.valid){const v="".concat((u=g.resolution)==null?void 0:u.description);return t.next({type:"error",level:"warning",name:"pasteError",description:v,data:g}),gg("Invalid insert result",g),!1}return J1e(i,p,e),!0}}return!1},i.insertTextOrHTMLData=l=>{var u;if(!i.selection)return gg("No selection, not inserting"),!1;t.next({type:"loading",isLoading:!0});const d=l.getData("text/html"),f=l.getData("text/plain");if(d||f){gg("Inserting data",l);let h,p,g;if(d)h=N1e(d,e.portableText).map(y=>UA(y,{blockTypeName:s})),p=om(h,{schemaTypes:e}),g="HTML";else{const y=wfn(f).split(/\n{2,}/).map(b=>b?"<p>".concat(b.replace(/(?:\r\n|\r|\n)/g,"<br/>"),"</p>"):"<p></p>").join(""),x="<html><body>".concat(y,"</body></html>");h=N1e(x,e.portableText).map(b=>UA(b,{blockTypeName:s})),p=om(h,{schemaTypes:e}),g="text"}const v=Dk(h,e,n);if(!v.valid){const y=`Could not validate the resulting portable text to insert.
`.concat((u=v.resolution)==null?void 0:u.description,`
Try to insert as plain text (shift-paste) instead.`);return t.next({type:"error",level:"warning",name:"pasteError",description:y,data:v}),gg("Invalid insert result",v),!1}return gg("Inserting ".concat(g," fragment at ").concat(JSON.stringify(i.selection))),J1e(i,p,e),t.next({type:"loading",isLoading:!1}),!0}return t.next({type:"loading",isLoading:!1}),!1},i.insertData=l=>{i.insertPortableTextData(l)||i.insertTextOrHTMLData(l)},i.insertFragmentData=l=>{const u=l.getData("application/x-portable-text");if(u){const d=JSON.parse(u);return i.insertFragment(d),!0}return!1},i}}const xfn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function wfn(t){return String(t).replace(/[&<>"'`=/]/g,e=>xfn[e])}function _fn(t,e,n,r){return e.map(i=>{const s={...i};t.isTextBlock(s)&&(s.markDefs=(s.markDefs||[]).map(a=>{const l=a._key,u=n();return s.children=s.children.map(d=>d._type===r&&t.isTextSpan(d)?{...d,marks:d.marks&&d.marks.includes(l)?[...d.marks].filter(f=>f!==l).concat(u):d.marks}:d),{...a,_key:u}}));const o={...s,_key:n()};return t.isTextBlock(o)&&(o.children=o.children.map(a=>({...a,_key:n()}))),o})}function J1e(t,e,n){if(!t.selection)return;const[r,i]=Y.node(t,t.selection,{depth:1});if(t.isTextBlock(r)&&t.isTextBlock(e[0])){const{markDefs:o}=r;gg("Mixing markDefs of focusBlock and fragments[0] block",o,e[0].markDefs),Ur(o,e[0].markDefs)||je.setNodes(t,{markDefs:ha([...e[0].markDefs||[],...o||[]])},{at:i,mode:"lowest",voids:!1})}r6(t.children,n)?(je.splitNodes(t,{at:[0,0]}),t.insertFragment(e),je.removeNodes(t,{at:[0]})):t.insertFragment(e),t.onChange()}const eve=new WeakMap,tve=(t,e)=>{const n=t,{keyGenerator:r,portableTextEditor:i,patches$:s,readOnly:o,maxBlocks:a,isPending:l}=e,{schemaTypes:u,change$:d}=i;n.subscriptions=[],n.destroy?n.destroy():eve.set(n,{apply:n.apply,onChange:n.onChange,normalizeNode:n.normalizeNode});const f=Rdn(u),h=Pdn(u,r),p=mfn(u),g=jdn(i,u,r),v=ofn({change$:d,isPending:l,keyGenerator:r,patches$:s,patchFunctions:f,readOnly:o,schemaTypes:u}),y=Odn(a||-1),x=cfn(u),b=efn({readOnly:o,patches$:s}),_=dfn(u),C=ufn(u),S=lfn({keyGenerator:r,schemaTypes:u}),T=gfn(),A=hfn(d,u);return n.destroy=()=>{const k=eve.get(n);if(!k)throw new Error("Could not find pristine versions of editor functions");n.onChange=k.onChange,n.apply=k.apply,n.normalizeNode=k.normalizeNode},o?{editor:p(h(_(C(T(S(x(A(g(n))))))))),subscribe:()=>FVe}:{editor:p(h(_(C(x(S(T(y(b(v(A(g(n)))))))))))),subscribe:()=>{const k=[];return t.subscriptions.forEach(I=>{k.push(I())}),()=>{k.forEach(I=>{I()})}}}},AU=Lo("component:PortableTextEditor:SlateContainer");function Cfn(t){const{patches$:e,portableTextEditor:n,readOnly:r,maxBlocks:i,keyGenerator:s,isPending:o}=t,[a,l]=m.useMemo(()=>{AU("Creating new Slate editor instance");const{editor:d,subscribe:f}=tve(ucn(Yan()),{isPending:o,keyGenerator:s,maxBlocks:i,patches$:e,portableTextEditor:n,readOnly:r});return af.set(d,{}),t6.set(d,{}),[d,f]},[]);m.useEffect(()=>{const d=l();return()=>{d()}},[l]),m.useEffect(()=>{AU("Re-initializing plugin chain"),tve(a,{isPending:o,keyGenerator:s,maxBlocks:i,patches$:e,portableTextEditor:n,readOnly:r})},[s,n,i,r,e,a,o]);const u=m.useMemo(()=>[a.createPlaceholderBlock()],[a]);return m.useEffect(()=>()=>{AU("Destroying Slate editor"),a.destroy()},[a]),c.jsx(acn,{editor:a,value:u,children:t.children})}const Efn=1e3,$ze=m.createContext(null),OI=()=>{const t=m.useContext($ze);if(t===void 0)throw new Error("The `usePortableTextEditorSelection` hook must be used inside the <PortableTextEditor> component's context.");return t},Fze=m.createContext(null),va=()=>{const t=m.useContext(Fze);if(!t)throw new Error("The `usePortableTextEditor` hook must be used inside the <PortableTextEditor> component's context.");return t},Sfn=m.createContext(void 0),Bze=m.createContext(!1),Tfn=()=>{const t=m.useContext(Bze);if(t===void 0)throw new Error("The `usePortableTextEditorReadOnly` hook must be used inside the <PortableTextEditor> component's context.");return t},wc=Lo("hook:useSyncValue");function kfn(t){const{portableTextEditor:e,isPending:n,readOnly:r,keyGenerator:i}=t,{change$:s,schemaTypes:o}=e,a=m.useRef(),l=e$();return m.useMemo(()=>u=>{if(n.current&&!r){wc("Has local patches");return}if(a.current===u){wc("Value is the same object"),s.next({type:"value",value:u});return}if(u&&u.length===0){const h=Dk(u,o,i);s.next({type:"invalidValue",resolution:h.resolution,value:u});return}let d=!1,f=!0;if(a.current=u,(!u||u.length===0)&&(wc("Value is empty"),zA(l,()=>{nY(l,()=>{Y.withoutNormalizing(l,()=>{const h=!!l.selection;h&&je.deselect(l);const p=l.children.length;l.children.forEach((g,v)=>{je.removeNodes(l,{at:[p-1-v]})}),je.insertNodes(l,l.createPlaceholderBlock(),{at:[0]}),h&&je.select(l,[0,0])})})}),d=!0),u&&u.length>0){const h=om(u,{schemaTypes:o},t6.get(l));zA(l,()=>{nY(l,()=>{Y.withoutNormalizing(l,()=>{const p=l.children.length;if(h.length<p){for(let g=p-1;g>h.length-1;g--)je.removeNodes(l,{at:[g]});d=!0}h.forEach((g,v)=>{const y=l.children[v];if(y&&!Ur(g,y)&&f){const b=[u[v]],_=Dk(b,o,i);_.valid?(y._key===g._key?(wc("Updating block",y,g),Ifn(l,g,y,v)):(wc("Replacing block",y,g),Afn(l,g,v)),d=!0):(s.next({type:"invalidValue",resolution:_.resolution,value:u}),f=!1)}if(!y&&f){const b=[u[v]],_=Dk(b,o,i);wc("Validating and inserting new block in the end of the value",g),_.valid?HA(l,()=>{je.insertNodes(l,g,{at:[v]})}):(s.next({type:"invalidValue",resolution:_.resolution,value:u}),f=!1)}})})})})}if(!f){wc("Invalid value, returning");return}d?(wc("Server value changed, syncing editor"),Y.normalize(l),l.onChange(),s.next({type:"value",value:u})):wc("Server value and editor value is the same, no need to sync.")},[s,n,i,r,o,l])}function Afn(t,e,n){const r=t.selection,i=r&&r.focus.path[0]===n;i&&je.deselect(t),je.removeNodes(t,{at:[n]}),HA(t,()=>{je.insertNodes(t,e,{at:[n]})}),i&&je.select(t,r)}function Ifn(t,e,n,r){if(je.setNodes(t,e,{at:[r]}),t.isTextBlock(e)&&t.isTextBlock(n)){const i=n.children.length;e.children.length<i&&Array.from(Array(i-e.children.length)).forEach((s,o)=>{const a=i-1-o;a>0&&(wc("Removing child"),je.removeNodes(t,{at:[r,a]}))}),e.children.forEach((s,o)=>{const a=n.children[o],l=!Ur(s,a),u=!Ur(s.text,a==null?void 0:a.text),d=[r,o];if(l)if(s._key===(a==null?void 0:a._key)){wc("Updating changed child",s,a),je.setNodes(t,s,{at:d});const f=gt.isText(s)&&s._type==="span"&&gt.isText(a)&&a._type==="span";f&&u?(je.delete(t,{at:{focus:{path:d,offset:0},anchor:{path:d,offset:a.text.length}}}),je.insertText(t,s.text,{at:d})):f||(wc("Updating changed inline object child",s),je.setNodes(t,{_key:"".concat(e._key,"-void-child")},{at:[...d,0],voids:!0}))}else a?(wc("Replacing child",s),je.removeNodes(t,{at:[r,o]}),HA(t,()=>{je.insertNodes(t,s,{at:[r,o]})})):a||(wc("Inserting new child",s),HA(t,()=>{je.insertNodes(t,s,{at:[r,o]})}))})}}const LS=Lo("component:PortableTextEditor:Synchronizer");function Dfn(t){const{change$:e,portableTextEditor:n,isPending:r,onChange:i,keyGenerator:s,readOnly:o,value:a}=t,[l,u]=m.useState(null),d=m.useRef([]),f=kfn({isPending:r,keyGenerator:s,onChange:i,portableTextEditor:n,readOnly:o}),h=m.useCallback(()=>{const v=[...d.current];if(LS("Flushing pending patches",v),v.length>0){d.current=d.current.splice(v.length,d.current.length);const y=_t.getValue(n);i({type:"mutation",patches:v,snapshot:y})}},[n,i]),p=m.useMemo(()=>U3(h,Efn,{leading:!1,trailing:!0}),[h]);m.useEffect(()=>()=>{h()},[h]),m.useEffect(()=>{LS("Subscribing to editor changes$");const v=e.subscribe(y=>{switch(y.type){case"patch":r.current=!0,d.current.push(y.patch),i(y),p();break;case"selection":m.startTransition(()=>{LS("Setting selection"),u(y.selection)}),i(y);break;default:i(y)}});return()=>{LS("Unsubscribing to changes$"),v.unsubscribe()}},[e,p,i,f,r]);const g=m.useRef(!0);return m.useEffect(()=>{LS("Value from props changed, syncing new value"),f(a),g.current&&(e.next({type:"loading",isLoading:!1}),e.next({type:"ready"}),g.current=!1)},[e,f,a]),c.jsx(Rze.Provider,{value:s,children:c.jsx(Fze.Provider,{value:n,children:c.jsx(Sfn.Provider,{value:a,children:c.jsx(Bze.Provider,{value:o,children:c.jsx($ze.Provider,{value:l,children:t.children})})})})})}var Rfn=Object.defineProperty,jfn=(t,e,n)=>e in t?Rfn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ai=(t,e,n)=>(jfn(t,typeof e!="symbol"?e+"":e,n),n);const oE=Lo("component:PortableTextEditor");class _t extends re.Component{constructor(e){if(super(e),ai(this,"change$",new Pi),ai(this,"schemaTypes"),ai(this,"editable"),ai(this,"isPending"),ai(this,"setEditable",n=>{this.editable={...this.editable,...n}}),!e.schemaType)throw new Error('PortableTextEditor: missing "type" property');e.incomingPatches$&&console.warn("The prop 'incomingPatches$' is deprecated and renamed to 'patches$'"),this.change$.next({type:"loading",isLoading:!0}),this.isPending=m.createRef(),this.isPending.current=!1,this.schemaTypes=U1e(e.schemaType.hasOwnProperty("jsonType")?e.schemaType:V1e(e.schemaType))}componentDidUpdate(e){this.props.schemaType!==e.schemaType&&(this.schemaTypes=U1e(this.props.schemaType.hasOwnProperty("jsonType")?this.props.schemaType:V1e(this.props.schemaType)))}render(){const{onChange:e,value:n,children:r,patches$:i,incomingPatches$:s}=this.props,{change$:o,isPending:a}=this,l=s||i,u=typeof this.props.maxBlocks>"u"?void 0:parseInt(this.props.maxBlocks.toString(),10)||void 0,d=!!this.props.readOnly,f=this.props.keyGenerator||Dze;return c.jsx(Cfn,{isPending:a,keyGenerator:f,maxBlocks:u,patches$:l,portableTextEditor:this,readOnly:d,children:c.jsx(Dfn,{change$:o,isPending:a,keyGenerator:f,onChange:e,portableTextEditor:this,readOnly:d,value:n,children:r})})}}ai(_t,"activeAnnotations",t=>t&&t.editable?t.editable.activeAnnotations():[]);ai(_t,"addAnnotation",(t,e,n)=>{var r;return(r=t.editable)==null?void 0:r.addAnnotation(e,n)});ai(_t,"blur",t=>{var e;oE("Host blurred"),(e=t.editable)==null||e.blur()});ai(_t,"delete",(t,e,n)=>{var r;return(r=t.editable)==null?void 0:r.delete(e,n)});ai(_t,"findDOMNode",(t,e)=>{var n;return(n=t.editable)==null?void 0:n.findDOMNode(e)});ai(_t,"findByPath",(t,e)=>{var n;return((n=t.editable)==null?void 0:n.findByPath(e))||[]});ai(_t,"focus",t=>{var e;oE("Host requesting focus"),(e=t.editable)==null||e.focus()});ai(_t,"focusBlock",t=>{var e;return(e=t.editable)==null?void 0:e.focusBlock()});ai(_t,"focusChild",t=>{var e;return(e=t.editable)==null?void 0:e.focusChild()});ai(_t,"getSelection",t=>t.editable?t.editable.getSelection():null);ai(_t,"getValue",t=>{var e;return(e=t.editable)==null?void 0:e.getValue()});ai(_t,"hasBlockStyle",(t,e)=>{var n;return(n=t.editable)==null?void 0:n.hasBlockStyle(e)});ai(_t,"hasListStyle",(t,e)=>{var n;return(n=t.editable)==null?void 0:n.hasListStyle(e)});ai(_t,"isCollapsedSelection",t=>{var e;return(e=t.editable)==null?void 0:e.isCollapsedSelection()});ai(_t,"isExpandedSelection",t=>{var e;return(e=t.editable)==null?void 0:e.isExpandedSelection()});ai(_t,"isMarkActive",(t,e)=>{var n;return(n=t.editable)==null?void 0:n.isMarkActive(e)});ai(_t,"insertChild",(t,e,n)=>{var r;return oE("Host inserting child"),(r=t.editable)==null?void 0:r.insertChild(e,n)});ai(_t,"insertBlock",(t,e,n)=>{var r;return(r=t.editable)==null?void 0:r.insertBlock(e,n)});ai(_t,"insertBreak",t=>{var e;return(e=t.editable)==null?void 0:e.insertBreak()});ai(_t,"isVoid",(t,e)=>{var n;return(n=t.editable)==null?void 0:n.isVoid(e)});ai(_t,"isObjectPath",(t,e)=>{if(!e||!Array.isArray(e))return!1;const n=e.length>3&&e[1]==="children";return e.length>1&&e[1]!=="children"||n});ai(_t,"marks",t=>{var e;return(e=t.editable)==null?void 0:e.marks()});ai(_t,"select",(t,e)=>{var n;oE("Host setting selection",e),(n=t.editable)==null||n.select(e)});ai(_t,"removeAnnotation",(t,e)=>{var n;return(n=t.editable)==null?void 0:n.removeAnnotation(e)});ai(_t,"toggleBlockStyle",(t,e)=>{var n;return oE("Host is toggling block style"),(n=t.editable)==null?void 0:n.toggleBlockStyle(e)});ai(_t,"toggleList",(t,e)=>{var n;return(n=t.editable)==null?void 0:n.toggleList(e)});ai(_t,"toggleMark",(t,e)=>{var n;oE("Host toggling mark",e),(n=t.editable)==null||n.toggleMark(e)});function nve(t,e){if(!t||!e)return null;const n=[];let r=t.offset||0;const i=typeof t.path[0]=="object"&&"_key"in t.path[0]&&t.path[0]._key,s=typeof t.path[2]=="object"&&"_key"in t.path[2]&&t.path[2]._key,o=e.find(a=>a._key===i);if(o)n.push({_key:o._key});else return null;if(o&&t.path[1]==="children"){if(!o.children||Array.isArray(o.children)&&o.children.length===0)return null;const a=Array.isArray(o.children)&&o.children.find(l=>l._key===s);if(a)n.push("children"),n.push({_key:a._key}),r=a.text&&a.text.length>=t.offset?t.offset:a.text&&a.text.length||0;else return null}return{path:n,offset:r}}function Ofn(t,e){if(!t||!e||e.length===0)return null;let n=null,r=null;const{anchor:i,focus:s}=t;return i&&e.find(o=>Ur({_key:o._key},i.path[0]))&&(n=nve(i,e)),s&&e.find(o=>Ur({_key:o._key},s.path[0]))&&(r=nve(s,e)),n&&r?{anchor:n,focus:r}:null}function Lfn(t){const e=m.useCallback(()=>alert(JSON.stringify(t.annotation)),[t.annotation]);return c.jsx("span",{style:{color:"blue"},onClick:e,children:t.children})}const Pfn=Lo("components:Leaf"),rve=[],Mfn=t=>{const{attributes:e,children:n,leaf:r,schemaTypes:i,renderChild:s,renderDecorator:o,renderAnnotation:a}=t,l=re.useRef(null),u=va(),d=rze(),[f,h]=m.useState(!1),[p,g]=m.useState(!1),v=n.props.parent,y=m.useMemo(()=>v?[{_key:v==null?void 0:v._key},"children",{_key:r._key}]:[],[v,r._key]),x=m.useMemo(()=>i.decorators.map(k=>k.value),[i.decorators]),b=m.useMemo(()=>ha((r.marks||rve).filter(k=>x.includes(k))),[x,r.marks]),_=Array.isArray(r.marks)?r.marks:rve,C=m.useMemo(()=>_.map(k=>{var I;return!x.includes(k)&&((I=v==null?void 0:v.markDefs)==null?void 0:I.find(D=>D._key===k))}).filter(Boolean),[_,v,x]),S=C.length>0&&d;m.useEffect(()=>{if(!S){h(!1);return}const k=_t.getSelection(u);k&&Ur(k.focus.path,y)&&_t.isCollapsedSelection(u)&&m.startTransition(()=>{h(!0)})},[S,y,u]);const T=m.useCallback(()=>{if(!S)return;Pfn("Setting selection and focus from range");const k=window.getSelection();if(!k){g(!1);return}if(k&&k.rangeCount>0){const I=k.getRangeAt(0);l.current&&I.intersectsNode(l.current)?g(!0):g(!1)}else g(!1)},[S]);m.useEffect(()=>{if(!S)return;const k=u.change$.subscribe(I=>{if(I.type==="blur"){h(!1),g(!1);return}if(I.type==="focus"){const D=_t.getSelection(u);D&&Ur(D.focus.path,y)&&_t.isCollapsedSelection(u)&&h(!0),T();return}I.type==="selection"&&(I.selection&&Ur(I.selection.focus.path,y)&&_t.isCollapsedSelection(u)?h(!0):h(!1),T())});return()=>{k.unsubscribe()}},[y,u,T,S]),m.useEffect(()=>T(),[T]);const A=m.useMemo(()=>{let k=n;if(gt.isText(r)&&r._type===i.span.name&&(b.forEach(I=>{const D=i.decorators.find(R=>R.value===I);if(D&&o){const R=Object.defineProperty({children:k,editorElementRef:l,focused:f,path:y,selected:p,schemaType:D,value:I},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),D}});k=o(R)}}),v&&C.length>0&&C.forEach(I=>{const D=i.annotations.find(R=>R.name===I._type);if(D)if(a){const R=Object.defineProperty({block:v,children:k,editorElementRef:l,focused:f,path:y,selected:p,schemaType:D,value:I},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),D}});k=c.jsx("span",{ref:l,children:a(R)})}else k=c.jsx(Lfn,{annotation:I,children:c.jsx("span",{ref:l,children:k})})}),v&&s)){const I=v.children.find(D=>D._key===r._key);if(I){const D=c.jsx(c.Fragment,{children:k}),R=Object.defineProperty({annotations:C,children:D,editorElementRef:l,focused:f,path:y,schemaType:i.span,selected:p,value:I},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),i.span}});k=s(R)}}return k},[C,v,n,f,r,b,y,a,s,o,i.annotations,i.decorators,i.span,p]);return m.useMemo(()=>c.jsx("span",{...e,ref:l,children:A},r._key),[r,e,A])},v4=t=>c.jsx("div",{children:c.jsx("pre",{children:JSON.stringify(t.value,null,2)})});var ive=Object.freeze,$fn=Object.defineProperty,r$=(t,e)=>ive($fn(t,"raw",{value:ive(e||t.slice())})),sve,ove,ave,lve;const Ffn=H.div(sve||(sve=r$([`
  user-select: none;
  border: `,`;
`])),t=>t.selected?"1px solid blue":"1px solid transparent");H.span(ove||(ove=r$([`
  background: #999;
  border: `,`;
`])),t=>t.selected?"1px solid blue":"1px solid transparent");const Bfn=H.div(ave||(ave=r$([`
  &.pt-list-item {
    width: fit-content;
    position: relative;
    display: block;

    /* Important 'transform' in order to force refresh the ::before and ::after rules
      in Webkit: https://stackoverflow.com/a/21947628/831480
    */
    transform: translateZ(0);
    margin-left: `,`;
  }
  &.pt-list-item > .pt-list-item-inner {
    display: flex;
    margin: 0;
    padding: 0;
    &:before {
      justify-content: flex-start;
      vertical-align: top;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner:before {
      content: '`,`';
      font-size: 0.4375rem; /* 7px */
      line-height: 1.5rem; /* Same as body text */
      /* Optical alignment */
      position: relative;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner {
    &:before {
      min-width: 1.5rem; /* Make sure space between bullet and text never shrinks */
    }
  }
  &.pt-list-item-number {
    counter-increment: `,`;
    counter-reset: `,`;
  }
  & + :not(.pt-list-item-number) {
    counter-reset: listItemNumber;
  }
  &.pt-list-item-number > .pt-list-item-inner:before {
    content: `,`;
    min-width: 1.5rem; /* Make sure space between number and text never shrinks */
    /* Optical alignment */
    position: relative;
    top: 1px;
  }
`])),t=>Vfn(t.listLevel),t=>Hfn(t.listLevel,t.listStyle),t=>zfn(t.listLevel),t=>Wfn(t.listLevel),t=>Gfn(t.listLevel)),Nfn=H.div(lve||(lve=r$([""])));function Vfn(t){switch(Number(t)){case 1:return"1.5em";case 2:return"3em";case 3:return"4.5em";case 4:return"6em";case 5:return"7.5em";case 6:return"9em";case 7:return"10.5em";case 8:return"12em";case 9:return"13.5em";case 10:return"15em";default:return"0em"}}const Ufn=["","",""];function Hfn(t,e){const n=(t-1)%3;return e==="bullet"?Ufn[n]:"*"}function zfn(t){switch(t){case 1:return"listItemNumber";case 2:return"listItemAlpha";case 3:return"listItemRoman";case 4:return"listItemNumberNext";case 5:return"listItemLetterNext";case 6:return"listItemRomanNext";case 7:return"listItemNumberNextNext";case 8:return"listItemAlphaNextNext";case 9:return"listItemRomanNextNext";default:return"listItemNumberNextNextNext"}}function Wfn(t){switch(t){case 1:return"listItemAlpha";case 2:return"listItemRoman";case 3:return"listItemNumberNext";case 4:return"listItemLetterNext";case 5:return"listItemRomanNext";case 6:return"listItemNumberNextNext";case 7:return"listItemAlphaNextNext";case 8:return"listItemRomanNextNext";case 9:return"listItemNumberNextNextNext";default:return"listItemNumberNextNextNext"}}function Gfn(t){switch(t){case 1:return"counter(listItemNumber) '. '";case 2:return"counter(listItemAlpha, lower-alpha) '. '";case 3:return"counter(listItemRoman, lower-roman) '. '";case 4:return"counter(listItemNumberNext) '. '";case 5:return"counter(listItemLetterNext, lower-alpha) '. '";case 6:return"counter(listItemRomanNext, lower-roman) '. '";case 7:return"counter(listItemNumberNextNext) '. '";case 8:return"counter(listItemAlphaNextNext, lower-alpha) '. '";case 9:return"counter(listItemRomanNextNext, lower-roman) '. '";default:return"counter(listItemNumberNextNextNext) '. '"}}const fp=Lo("components:DraggableBlock"),uve=t=>{let{children:e,element:n,readOnly:r,blockRef:i}=t;const s=jm(),o=m.useRef(),[a,l]=m.useState(!1),u=m.useMemo(()=>Y.isVoid(s,n),[s,n]),d=m.useMemo(()=>Y.isInline(s,n),[s,n]),[f,h]=m.useState(null);m.useEffect(()=>h(i?i.current:tt.toDOMNode(s,n)),[s,n,i]);const p=m.useCallback(I=>{const D=IS.get(s);if(!D||!f)return;I.preventDefault(),I.dataTransfer.dropEffect="move",DS.set(s,n);const R=f.getBoundingClientRect(),O=R.top,L=R.height,P=I.pageY,$=Math.abs(O-P);let B="bottom";if(n===s.children[0]?B="top":$<L/2?(B="top",RS.set(s,B)):(B="bottom",RS.set(s,B)),D===n){I.dataTransfer.dropEffect="none";return}l(!0)},[f,s,n]),g=m.useCallback(()=>{l(!1)},[]),v=m.useCallback(I=>{const D=DS.get(s);if(D){p4.set(s,!1),I.preventDefault(),I.stopPropagation(),DS.delete(s),o.current&&(fp("Removing drag ghost"),document.body.removeChild(o.current));const R=RS.get(s);RS.delete(s);let O=tt.findPath(s,D);const L=tt.findPath(s,n),P=Ae.isBefore(L,O);if(R==="bottom"&&!P){if(O[0]>=s.children.length-1){fp("target is already at the bottom, not moving");return}const $=O;O=Ae.next(O),fp("Adjusting targetPath from ".concat(JSON.stringify($)," to ").concat(JSON.stringify(O)))}if(R==="top"&&P&&O[0]!==s.children.length-1){const $=O;O=Ae.previous(O),fp("Adjusting targetPath from ".concat(JSON.stringify($)," to ").concat(JSON.stringify(O)))}if(Ae.equals(O,L)){I.preventDefault(),fp("targetPath and myPath is the same, not moving");return}fp("Moving element ".concat(n._key," from path ").concat(JSON.stringify(L)," to ").concat(JSON.stringify(O)," (").concat(R,")")),je.moveNodes(s,{at:L,to:O}),s.onChange();return}fp("No target element, not doing anything")},[s,n]),y=m.useCallback(I=>{IS.get(s)&&(fp("On drop (prevented)",n),I.preventDefault(),I.stopPropagation(),l(!1))},[s,n]),x=m.useCallback(I=>{if(!u){IS.delete(s);return}p4.set(s,!0),IS.set(s,n),I.stopPropagation();const D=I.target;D instanceof HTMLElement&&(D.style.opacity="1")},[s,n,u]),b=m.useCallback(I=>{if(!u||d){fp("Not dragging block"),IS.delete(s),p4.set(s,!1);return}if(fp("Drag start"),p4.set(s,!0),I.dataTransfer&&(I.dataTransfer.setData("application/portable-text","something"),I.dataTransfer.effectAllowed="move"),f&&f instanceof HTMLElement){let D=f.cloneNode(!0);const R=D.querySelector("[data-pt-drag-ghost-element]");if(R&&(D=R),D.setAttribute("data-dragged",""),document.body){o.current=D,D.style.position="absolute",D.style.left="-99999px",D.style.boxSizing="border-box",document.body.appendChild(D);const O=f.getBoundingClientRect(),L=I.clientX-O.left,P=I.clientY-O.top;D.style.width="".concat(O.width,"px"),D.style.height="".concat(O.height,"px"),I.dataTransfer.setDragImage(D,L,P)}}x(I)},[f,s,x,d,u]),_=a&&s.children[0]===DS.get(s),C=a&&s.children[s.children.length-1]===DS.get(s),S=RS.get(s),T=_||a&&!_&&!C&&S==="top",A=C||a&&!_&&!C&&S==="bottom",k=m.useMemo(()=>c.jsx("div",{className:"pt-drop-indicator",style:{position:"absolute",width:"100%",height:1,borderBottom:"1px solid currentColor",zIndex:5}}),[]);return r?c.jsx(c.Fragment,{children:e}):c.jsxs("div",{draggable:u,onDragStart:b,onDrag:x,onDragOver:p,onDragLeave:g,onDragEnd:v,onDrop:y,children:[T&&k,e,A&&k]})};Lo("components:Element");const qfn=[],Yfn={display:"inline-block"},Kfn=t=>{let{attributes:e,children:n,element:r,schemaTypes:i,readOnly:s,renderBlock:o,renderChild:a,renderListItem:l,renderStyle:u,spellCheck:d}=t;const f=jm(),h=rze(),p=m.useRef(null),g=m.useRef(null),v=h&&f.selection&&Ve.isCollapsed(f.selection)||!1,y=m.useMemo(()=>ao([r],i.block.name,af.get(f))[0],[f,r,i.block.name]);let x=n,b;const _=m.useMemo(()=>[{_key:r._key}],[r]);if(typeof r._type!="string")throw new Error("Expected element to have a _type property");if(typeof r._key!="string")throw new Error("Expected element to have a _key property");if(f.isInline(r)){const A=tt.findPath(f,r),[k]=Y.node(f,A,{depth:1}),I=i.inlineObjects.find(D=>D.name===r._type);if(!I)throw new Error("Could not find type for inline block element");if(Rn.isElement(k)){const D=[{_key:k._key},"children",{_key:r._key}];return c.jsxs("span",{...e,children:[n,c.jsxs("span",{draggable:!s,className:"pt-inline-object",ref:g,style:Yfn,contentEditable:!1,children:[a&&a({annotations:qfn,children:c.jsx(v4,{value:y}),editorElementRef:g,focused:v,path:D,schemaType:I,selected:h,type:I,value:y}),!a&&c.jsx(v4,{value:y})]},r._key)]})}throw new Error("Block not found!")}if(r._type===i.block.name){b="pt-block pt-text-block";const A="listItem"in r,k="style"in r&&r.style||"normal";b="pt-block pt-text-block pt-text-block-style-".concat(k);const I=i.styles.find(L=>L.value===k);u&&I&&(x=u({block:r,children:n,focused:v,selected:h,value:k,path:_,schemaType:I,editorElementRef:p}));let D;if(A&&(typeof r.level=="number"&&(D=r.level),b+=" pt-list-item pt-list-item-".concat(r.listItem," pt-list-item-level-").concat(D||1)),f.isListBlock(y)&&A&&r.listItem){const L=i.lists.find(P=>P.value===r.listItem);l&&L?x=l({block:y,children:x,focused:v,selected:h,value:r.listItem,path:_,schemaType:L,level:y.level||1,editorElementRef:p}):x=c.jsx(Bfn,{listStyle:y.listItem||i.lists[0].value,listLevel:y.level||1,children:c.jsx(Nfn,{children:x})})}const R=Object.defineProperty({children:x,editorElementRef:p,focused:v,level:D,listItem:A?r.listItem:void 0,path:_,selected:h,style:k,schemaType:i.block,value:y},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),i.block}}),O=o?o(R):n;return c.jsx("div",{...e,className:b,spellCheck:d,children:c.jsx(uve,{element:r,readOnly:s,blockRef:p,children:c.jsx("div",{ref:p,children:O})})},r._key)}const C=i.blockObjects.find(A=>A.name===r._type);if(!C)throw new Error("Could not find schema type for block element of _type ".concat(r._type));b="pt-block pt-object-block";const S=ao([r],i.block.name,af.get(f))[0];let T;if(o){const A=Object.defineProperty({children:c.jsx(v4,{value:y}),editorElementRef:p,focused:v,path:_,schemaType:C,selected:h,value:S},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),C}});T=o(A)}return c.jsxs("div",{...e,className:b,children:[n,c.jsxs(uve,{element:r,readOnly:s,blockRef:p,children:[T&&c.jsx("div",{ref:p,contentEditable:!1,children:T}),!T&&c.jsx(Ffn,{selected:h,children:c.jsx(v4,{value:y})})]})]},r._key)},Zfn=typeof window>"u"?m.useEffect:m.useLayoutEffect;function Xfn(t){const e=m.useRef(null);return Zfn(()=>{t&&(typeof t=="function"?t(e.current):t.current=e.current)}),e}const ig=Lo("component:Editable"),Qfn={opacity:.5,position:"absolute",userSelect:"none",pointerEvents:"none"},Jfn=[],ehn=m.forwardRef(function(e,n){const{hotkeys:r,onBeforeInput:i,onPaste:s,onCopy:o,renderAnnotation:a,renderBlock:l,renderChild:u,renderDecorator:d,renderListItem:f,renderPlaceholder:h,renderStyle:p,selection:g,scrollSelectionIntoView:v,spellCheck:y,...x}=e,b=va(),_=Tfn(),C=Adn(),S=Xfn(n),[T,A]=m.useState(!1),{change$:k,schemaTypes:I}=b,D=e$(),R=I.block.name,O=m.useMemo(()=>bfn(k,I,C),[k,C,I]),L=m.useMemo(()=>yfn(I,C,b,r),[r,C,b,I]);m.useMemo(()=>_?(ig("Editable is in read only mode"),O(D)):(ig("Editable is in edit mode"),O(L(D))),[_,D,L,O]);const P=m.useCallback(F=>c.jsx(Kfn,{...F,readOnly:_,renderBlock:l,renderChild:u,renderListItem:f,renderStyle:p,schemaTypes:I,spellCheck:y}),[I,y,_,l,u,f,p]),$=m.useCallback(F=>{const ne=c.jsx(Mfn,{...F,schemaTypes:I,renderAnnotation:a,renderChild:u,renderDecorator:d,readOnly:_});return h&&F.leaf.placeholder&&F.text.text===""?c.jsxs(c.Fragment,{children:[c.jsx("div",{style:Qfn,contentEditable:!1,children:h()}),ne]}):ne},[_,a,u,d,h,I]),B=m.useCallback(()=>{if(g){ig("Selection from props ".concat(JSON.stringify(g)));const F=Ofn(g,ao(D.children,R));if(F!==null){ig("Normalized selection from props ".concat(JSON.stringify(F)));const ne=MO(F,D);ne&&(je.select(D,ne),D.operations.some(ce=>ce.type==="set_selection")||k.next({type:"selection",selection:F}),D.onChange())}}},[g,D,R,k]);m.useEffect(()=>{ig("Subscribing to editor changes$");const F=k.subscribe(ne=>{switch(ne.type){case"ready":B();break;case"invalidValue":A(!0);break;case"value":A(!1);break}});return()=>{ig("Unsubscribing to changes$"),F.unsubscribe()}},[k,B]),m.useEffect(()=>{g&&!T&&B()},[T,g,B]);const Q=m.useCallback(F=>{o&&o(F)!==void 0&&F.preventDefault()},[o]),V=m.useCallback(F=>{if(F.preventDefault(),!!D.selection){if(!s){ig("Pasting normally"),D.insertData(F.clipboardData);return}new Promise(ne=>{const ce=_t.getValue(b),me=O5(ce,D.selection,I),pe=(me==null?void 0:me.focus.path)||[];ne(s({event:F,value:ce,path:pe,schemaTypes:I}))}).then(ne=>{if(ig("Custom paste function from client resolved",ne),k.next({type:"loading",isLoading:!0}),!ne||!ne.insert){ig("No result from custom paste handler, pasting normally"),D.insertData(F.clipboardData);return}if(ne&&ne.insert){D.insertFragment(om(ne.insert,{schemaTypes:I})),k.next({type:"loading",isLoading:!1});return}console.warn("Your onPaste function returned something unexpected:",ne)}).catch(ne=>(k.next({type:"loading",isLoading:!1}),console.error(ne),ne))}},[k,s,b,I,D]),Z=m.useCallback(F=>{const ne=_t.getSelection(b);k.next({type:"focus",event:F});const ce=_t.getSelection(b);ne===ce&&k.next({type:"selection",selection:ne})},[k,b]),ie=m.useCallback(F=>{k.next({type:"blur",event:F})},[k]),J=m.useCallback(F=>{i&&i(F)},[i]),X=D.pteWithHotKeys,fe=m.useMemo(()=>{if(v!==void 0)return v===null?FVe:(F,ne)=>{v(b,ne)}},[b,v]),ue=m.useCallback(()=>r6(D.children,I)?[{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0},placeholder:!0}]:Jfn,[I,D]),te=m.useMemo(()=>c.jsx(ccn,{autoFocus:!1,className:"pt-editable",decorate:ue,onBlur:ie,onCopy:Q,onDOMBeforeInput:J,onFocus:Z,onKeyDown:X,onPaste:V,readOnly:_,renderElement:P,renderLeaf:$,scrollSelectionIntoView:fe}),[ue,Q,X,J,ie,Z,V,_,P,$,fe]);return b?c.jsx("div",{ref:S,...x,children:T?null:te}):null});var thn=kBe,nhn=YC,cve=A9;function rhn(t,e,n){var r=t.length;if(r<2)return r?cve(t[0]):[];for(var i=-1,s=Array(r);++i<r;)for(var o=t[i],a=-1;++a<r;)a!=i&&(s[i]=thn(s[i]||o,t[a],e,n));return cve(nhn(s,1),e,n)}var ihn=rhn,shn=VFe,ohn=ZC,ahn=ihn,lhn=w9,uhn=ohn(function(t){return ahn(shn(t,lhn))}),chn=uhn;const dhn=vt(chn);var fhn=_9,hhn=hte,phn=Object.prototype,mhn=phn.hasOwnProperty,ghn=hhn(function(t,e,n){mhn.call(t,n)?t[n].push(e):fhn(t,n,[e])}),vhn=ghn;const wne=vt(vhn);function yhn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function iY(t){return iY=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},iY(t)}function o6(t,e){return o6=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},o6(t,e)}function bhn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function $O(t,e,n){return bhn()?$O=Reflect.construct:$O=function(i,s,o){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(i,a),u=new l;return o&&o6(u,o.prototype),u},$O.apply(null,arguments)}function xhn(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function sY(t){var e=typeof Map=="function"?new Map:void 0;return sY=function(r){if(r===null||!xhn(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return $O(r,arguments,iY(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),o6(i,r)},sY(t)}function Nze(t){return t.reduce(function(e,n,r){if(Array.isArray(n))return e+"["+n.join(":")+"]";if(whn(n))return e+'[_key=="'+n._key+'"]';if(typeof n=="number")return e+"["+n+"]";if(/^\d+$/.test(n))return e+'["'+n+'"]';if(typeof n=="string"){var i=r===0?"":".";return""+e+i+n}throw new Error('Unsupported path segment "'+n+'"')},"")}function whn(t){return typeof t=="object"&&typeof t._key=="string"}var jT=function(t){yhn(e,t);function e(n,r,i){var s,o=Nze(r);return s=t.call(this,n+" (at '"+o+"')")||this,s.path=r,s.serializedPath=o,s.value=i,s}return e}(sY(Error)),_hn=/^[a-z0-9][a-z0-9_.-]+$/i,Chn=/^[a-zA-Z_][a-zA-Z0-9_]*$/,Ehn=/^[a-z_]/i;function dve(t,e,n){if(!Ehn.test(t))throw new jT("Keys must start with a letter (a-z)",n.concat(t),e);if(!Chn.test(t))throw new jT("Keys can only contain letters, numbers and underscores",n.concat(t),e);if(t==="_key"||t==="_ref"||t==="_type"){if(typeof e!="string")throw new jT("Keys must be strings",n.concat(t),e);if(!_hn.test(e))throw new jT("Invalid key - use less exotic characters",n.concat(t),e)}return t}var Shn=["_id","_type","_createdAt","_updatedAt","_rev"],y4=new If.diff_match_patch,Thn={hideWarnings:!1,diffMatchPatch:{enabled:!0,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function i$(t,e,n,r,i){if(n===void 0&&(n=Thn),r===void 0&&(r=[]),i===void 0&&(i=[]),t===e)return i;var s=Array.isArray(t)?"array":typeof t,o=Array.isArray(e)?"array":typeof e,a=s==="undefined",l=o==="undefined";if(a&&!l)return i.push({op:"set",path:r,value:e}),i;if(!a&&l)return i.push({op:"unset",path:r}),i;var u=a?o:s,d=u==="object"||u==="array";return d?s!==o?(i.push({op:"set",path:r,value:e}),i):u==="array"?Ahn(t,e,n,r,i):khn(t,e,n,r,i):Rhn(t,e,n,r,i)}function khn(t,e,n,r,i){for(var s=r.length===0,o=Object.keys(t).filter(s?fve:pve).map(function(g){return dve(g,t[g],r)}),a=o.length,l=Object.keys(e).filter(s?fve:pve).map(function(g){return dve(g,e[g],r)}),u=l.length,d=0;d<a;d++){var f=o[d];f in e||i.push({op:"unset",path:r.concat(f)})}for(var h=0;h<u;h++){var p=l[h];i$(t[p],e[p],n,r.concat([p]),i)}return i}function Ahn(t,e,n,r,i){if(e.length>t.length&&i.push({op:"insert",after:r.concat([-1]),items:e.slice(t.length).map(function(f,h){return _ne(f,r,h,n)})}),e.length<t.length){var s=t.length-e.length===1,o=t.slice(e.length);Lhn(n)||!IU(o)?i.push({op:"unset",path:r.concat([s?e.length:[e.length,""]])}):i.push.apply(i,o.map(function(f){return{op:"unset",path:r.concat({_key:f._key})}}))}for(var a=0;a<e.length;a++)if(Array.isArray(e[a]))throw new jT("Multi-dimensional arrays not supported",r.concat(a),e[a]);var l=Math.min(t.length,e.length),u=t.slice(0,l),d=e.slice(0,l);return IU(u)&&IU(d)?Ihn(u,d,n,r,i):Vze(u,d,n,r,i)}function Vze(t,e,n,r,i){for(var s=0;s<t.length;s++)i$(t[s],_ne(e[s],r,s,n),n,r.concat(s),i);return i}function Ihn(t,e,n,r,i){var s=hve(t),o=hve(e);if(!Ohn(s.keys,o.keys))return Vze(t,e,n,r,i);for(var a=0;a<o.keys.length;a++){var l=o.keys[a],u=s.index[l],d=_ne(o.index[l],r,a,n);i$(u,d,n,r.concat({_key:l}),i)}return i}function Dhn(t,e,n,r){var i=n.diffMatchPatch,s=i.enabled,o=i.lengthThresholdRelative,a=i.lengthThresholdAbsolute,l=r[r.length-1];if(!(!s||typeof t!="string"||typeof e!="string"||typeof l=="string"&&l[0]==="_"||e.length<a)){var u="";try{var d=y4.diff_main(t,e);y4.diff_cleanupEfficiency(d),u=y4.patch_toText(y4.patch_make(d))}catch{return}return u.length>e.length*o?void 0:{op:"diffMatchPatch",path:r,value:u}}}function Rhn(t,e,n,r,i){var s=Dhn(t,e,n,r);return i.push(s||{op:"set",path:r,value:e}),i}function fve(t){return Shn.indexOf(t)===-1}function IU(t){for(var e=[],n=0;n<t.length;n++){var r=jhn(t[n]);if(!r||e.indexOf(r)!==-1)return!1;e.push(r)}return!0}function jhn(t){return typeof t=="object"&&t!==null&&t._key}function hve(t){return t.reduce(function(e,n){return e.keys.push(n._key),e.index[n._key]=n,e},{keys:[],index:{}})}function Ohn(t,e){return t.length===e.length&&t.every(function(n,r){return e[r]===n})}function _ne(t,e,n,r){if(typeof t<"u")return t;if(!r.hideWarnings){var i=Nze(e.concat(n));console.warn("undefined value in array converted to null (at '"+i+"')")}return null}function Lhn(t){return!!(t.ifRevisionID||t.ifRevisionId)}function pve(t){return!0}const mve=t=>typeof t=="object"&&t!=null&&t.nodeType===1,gve=(t,e)=>(!e||t!=="hidden")&&t!=="visible"&&t!=="clip",DU=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const n=getComputedStyle(t,null);return gve(n.overflowY,e)||gve(n.overflowX,e)||(r=>{const i=(s=>{if(!s.ownerDocument||!s.ownerDocument.defaultView)return null;try{return s.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!i&&(i.clientHeight<r.scrollHeight||i.clientWidth<r.scrollWidth)})(t)}return!1},b4=(t,e,n,r,i,s,o,a)=>s<t&&o>e||s>t&&o<e?0:s<=t&&a<=n||o>=e&&a>=n?s-t-r:o>e&&a<n||s<t&&a>n?o-e+i:0,Phn=t=>{const e=t.parentElement;return e??(t.getRootNode().host||null)},vve=(t,e)=>{var n,r,i,s;if(typeof document>"u")return[];const{scrollMode:o,block:a,inline:l,boundary:u,skipOverflowHiddenElements:d}=e,f=typeof u=="function"?u:O=>O!==u;if(!mve(t))throw new TypeError("Invalid target");const h=document.scrollingElement||document.documentElement,p=[];let g=t;for(;mve(g)&&f(g);){if(g=Phn(g),g===h){p.push(g);break}g!=null&&g===document.body&&DU(g)&&!DU(document.documentElement)||g!=null&&DU(g,d)&&p.push(g)}const v=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,y=(s=(i=window.visualViewport)==null?void 0:i.height)!=null?s:innerHeight,{scrollX:x,scrollY:b}=window,{height:_,width:C,top:S,right:T,bottom:A,left:k}=t.getBoundingClientRect();let I=a==="start"||a==="nearest"?S:a==="end"?A:S+_/2,D=l==="center"?k+C/2:l==="end"?T:k;const R=[];for(let O=0;O<p.length;O++){const L=p[O],{height:P,width:$,top:B,right:Q,bottom:V,left:Z}=L.getBoundingClientRect();if(o==="if-needed"&&S>=0&&k>=0&&A<=y&&T<=v&&S>=B&&A<=V&&k>=Z&&T<=Q)return R;const ie=getComputedStyle(L),J=parseInt(ie.borderLeftWidth,10),X=parseInt(ie.borderTopWidth,10),fe=parseInt(ie.borderRightWidth,10),ue=parseInt(ie.borderBottomWidth,10);let te=0,F=0;const ne="offsetWidth"in L?L.offsetWidth-L.clientWidth-J-fe:0,ce="offsetHeight"in L?L.offsetHeight-L.clientHeight-X-ue:0,me="offsetWidth"in L?L.offsetWidth===0?0:$/L.offsetWidth:0,pe="offsetHeight"in L?L.offsetHeight===0?0:P/L.offsetHeight:0;if(h===L)te=a==="start"?I:a==="end"?I-y:a==="nearest"?b4(b,b+y,y,X,ue,b+I,b+I+_,_):I-y/2,F=l==="start"?D:l==="center"?D-v/2:l==="end"?D-v:b4(x,x+v,v,J,fe,x+D,x+D+C,C),te=Math.max(0,te+b),F=Math.max(0,F+x);else{te=a==="start"?I-B-X:a==="end"?I-V+ue+ce:a==="nearest"?b4(B,V,P,X,ue+ce,I,I+_,_):I-(B+P/2)+ce/2,F=l==="start"?D-Z-J:l==="center"?D-(Z+$/2)+ne/2:l==="end"?D-Q+fe+ne:b4(Z,Q,$,J,fe+ne,D,D+C,C);const{scrollLeft:Ie,scrollTop:xe}=L;te=Math.max(0,Math.min(xe+te/pe,L.scrollHeight-P/pe+ce)),F=Math.max(0,Math.min(Ie+F/me,L.scrollWidth-$/me+ne)),I+=xe-te,D+=Ie-F}R.push({el:L,top:te,left:F})}return R},Mhn=t=>t===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(t)?t:{block:"start",inline:"nearest"};function WA(t,e){if(!t.isConnected||!(r=>{let i=r;for(;i&&i.parentNode;){if(i.parentNode===document)return!0;i=i.parentNode instanceof ShadowRoot?i.parentNode.host:i.parentNode}return!1})(t))return;if((r=>typeof r=="object"&&typeof r.behavior=="function")(e))return e.behavior(vve(t,e));const n=typeof e=="boolean"||e==null?void 0:e.behavior;for(const{el:r,top:i,left:s}of vve(t,Mhn(e)))r.scroll({top:i,left:s,behavior:n})}function $hn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return m.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const s$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function aE(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Cne(t){return"nodeType"in t}function Gc(t){var e,n;return t?aE(t)?t:Cne(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Ene(t){const{Document:e}=Gc(t);return t instanceof e}function LI(t){return aE(t)?!1:t instanceof Gc(t).HTMLElement}function Fhn(t){return t instanceof Gc(t).SVGElement}function lE(t){return t?aE(t)?t.document:Cne(t)?Ene(t)?t:LI(t)?t.ownerDocument:document:document:document}const Hh=s$?m.useLayoutEffect:m.useEffect;function Sne(t){const e=m.useRef(t);return Hh(()=>{e.current=t}),m.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function Bhn(){const t=m.useRef(null),e=m.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=m.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function GA(t,e){e===void 0&&(e=[t]);const n=m.useRef(t);return Hh(()=>{n.current!==t&&(n.current=t)},e),n}function PI(t,e){const n=m.useRef();return m.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function a6(t){const e=Sne(t),n=m.useRef(null),r=m.useCallback(i=>{i!==n.current&&(e==null||e(i,n.current)),n.current=i},[]);return[n,r]}function oY(t){const e=m.useRef();return m.useEffect(()=>{e.current=t},[t]),e.current}let RU={};function MI(t,e){return m.useMemo(()=>{if(e)return e;const n=RU[t]==null?0:RU[t]+1;return RU[t]=n,t+"-"+n},[t,e])}function Uze(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,o)=>{const a=Object.entries(o);for(const[l,u]of a){const d=s[l];d!=null&&(s[l]=d+t*u)}return s},{...e})}}const m_=Uze(1),qA=Uze(-1);function Nhn(t){return"clientX"in t&&"clientY"in t}function Tne(t){if(!t)return!1;const{KeyboardEvent:e}=Gc(t.target);return e&&t instanceof e}function Vhn(t){if(!t)return!1;const{TouchEvent:e}=Gc(t.target);return e&&t instanceof e}function aY(t){if(Vhn(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return Nhn(t)?{x:t.clientX,y:t.clientY}:null}const YA=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[YA.Translate.toString(t),YA.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),yve="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Uhn(t){return t.matches(yve)?t:t.querySelector(yve)}const Hhn={display:"none"};function zhn(t){let{id:e,value:n}=t;return re.createElement("div",{id:e,style:Hhn},n)}const Whn={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function Ghn(t){let{id:e,announcement:n}=t;return re.createElement("div",{id:e,style:Whn,role:"status","aria-live":"assertive","aria-atomic":!0},n)}function qhn(){const[t,e]=m.useState("");return{announce:m.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const Hze=m.createContext(null);function Yhn(t){const e=m.useContext(Hze);m.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function Khn(){const[t]=m.useState(()=>new Set),e=m.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[m.useCallback(r=>{let{type:i,event:s}=r;t.forEach(o=>{var a;return(a=o[i])==null?void 0:a.call(o,s)})},[t]),e]}const Zhn={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Xhn={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Qhn(t){let{announcements:e=Xhn,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=Zhn}=t;const{announce:s,announcement:o}=qhn(),a=MI("DndLiveRegion"),[l,u]=m.useState(!1);if(m.useEffect(()=>{u(!0)},[]),Yhn(m.useMemo(()=>({onDragStart(f){let{active:h}=f;s(e.onDragStart({active:h}))},onDragMove(f){let{active:h,over:p}=f;e.onDragMove&&s(e.onDragMove({active:h,over:p}))},onDragOver(f){let{active:h,over:p}=f;s(e.onDragOver({active:h,over:p}))},onDragEnd(f){let{active:h,over:p}=f;s(e.onDragEnd({active:h,over:p}))},onDragCancel(f){let{active:h,over:p}=f;s(e.onDragCancel({active:h,over:p}))}}),[s,e])),!l)return null;const d=re.createElement(re.Fragment,null,re.createElement(zhn,{id:r,value:i.draggable}),re.createElement(Ghn,{id:a,announcement:o}));return n?vf.createPortal(d,n):d}var Ia;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Ia||(Ia={}));function l6(){}function bve(t,e){return m.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function Jhn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return m.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const zh=Object.freeze({x:0,y:0});function zze(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Wze(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function epn(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function xve(t){let{left:e,top:n,height:r,width:i}=t;return[{x:e,y:n},{x:e+i,y:n},{x:e,y:n+r},{x:e+i,y:n+r}]}function Gze(t,e){if(!t||t.length===0)return null;const[n]=t;return e?n[e]:n}function wve(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const tpn=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=wve(e,e.left,e.top),s=[];for(const o of r){const{id:a}=o,l=n.get(a);if(l){const u=zze(wve(l),i);s.push({id:a,data:{droppableContainer:o,value:u}})}}return s.sort(Wze)},npn=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=xve(e),s=[];for(const o of r){const{id:a}=o,l=n.get(a);if(l){const u=xve(l),d=i.reduce((h,p,g)=>h+zze(u[g],p),0),f=Number((d/4).toFixed(4));s.push({id:a,data:{droppableContainer:o,value:f}})}}return s.sort(Wze)};function rpn(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),o=i-r,a=s-n;if(r<i&&n<s){const l=e.width*e.height,u=t.width*t.height,d=o*a,f=d/(l+u-d);return Number(f.toFixed(4))}return 0}const ipn=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const s of r){const{id:o}=s,a=n.get(o);if(a){const l=rpn(a,e);l>0&&i.push({id:o,data:{droppableContainer:s,value:l}})}}return i.sort(epn)};function spn(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function qze(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:zh}function opn(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((o,a)=>({...o,top:o.top+t*a.y,bottom:o.bottom+t*a.y,left:o.left+t*a.x,right:o.right+t*a.x}),{...n})}}const apn=opn(1);function lpn(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function upn(t,e,n){const r=lpn(e);if(!r)return t;const{scaleX:i,scaleY:s,x:o,y:a}=r,l=t.left-o-(1-i)*parseFloat(n),u=t.top-a-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),d=i?t.width/i:t.width,f=s?t.height/s:t.height;return{width:d,height:f,top:u,right:l+d,bottom:u+f,left:l}}const cpn={ignoreTransform:!1};function uE(t,e){e===void 0&&(e=cpn);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:d}=Gc(t).getComputedStyle(t);u&&(n=upn(n,u,d))}const{top:r,left:i,width:s,height:o,bottom:a,right:l}=n;return{top:r,left:i,width:s,height:o,bottom:a,right:l}}function _ve(t){return uE(t,{ignoreTransform:!0})}function dpn(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function fpn(t,e){return e===void 0&&(e=Gc(t).getComputedStyle(t)),e.position==="fixed"}function hpn(t,e){e===void 0&&(e=Gc(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?n.test(s):!1})}function o$(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(Ene(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!LI(i)||Fhn(i)||n.includes(i))return n;const s=Gc(t).getComputedStyle(i);return i!==t&&hpn(i,s)&&n.push(i),fpn(i,s)?n:r(i.parentNode)}return t?r(t):n}function Yze(t){const[e]=o$(t,1);return e??null}function jU(t){return!s$||!t?null:aE(t)?t:Cne(t)?Ene(t)||t===lE(t).scrollingElement?window:LI(t)?t:null:null}function Kze(t){return aE(t)?t.scrollX:t.scrollLeft}function Zze(t){return aE(t)?t.scrollY:t.scrollTop}function lY(t){return{x:Kze(t),y:Zze(t)}}var Ya;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Ya||(Ya={}));function Xze(t){return!s$||!t?!1:t===document.scrollingElement}function Qze(t){const e={x:0,y:0},n=Xze(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,o=t.scrollTop>=r.y,a=t.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:o,isRight:a,maxScroll:r,minScroll:e}}const ppn={x:.2,y:.2};function mpn(t,e,n,r,i){let{top:s,left:o,right:a,bottom:l}=n;r===void 0&&(r=10),i===void 0&&(i=ppn);const{isTop:u,isBottom:d,isLeft:f,isRight:h}=Qze(t),p={x:0,y:0},g={x:0,y:0},v={height:e.height*i.y,width:e.width*i.x};return!u&&s<=e.top+v.height?(p.y=Ya.Backward,g.y=r*Math.abs((e.top+v.height-s)/v.height)):!d&&l>=e.bottom-v.height&&(p.y=Ya.Forward,g.y=r*Math.abs((e.bottom-v.height-l)/v.height)),!h&&a>=e.right-v.width?(p.x=Ya.Forward,g.x=r*Math.abs((e.right-v.width-a)/v.width)):!f&&o<=e.left+v.width&&(p.x=Ya.Backward,g.x=r*Math.abs((e.left+v.width-o)/v.width)),{direction:p,speed:g}}function gpn(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:o}=window;return{top:0,left:0,right:s,bottom:o,width:s,height:o}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function Jze(t){return t.reduce((e,n)=>m_(e,lY(n)),zh)}function vpn(t){return t.reduce((e,n)=>e+Kze(n),0)}function ypn(t){return t.reduce((e,n)=>e+Zze(n),0)}function bpn(t,e){if(e===void 0&&(e=uE),!t)return;const{top:n,left:r,bottom:i,right:s}=e(t);Yze(t)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const xpn=[["x",["left","right"],vpn],["y",["top","bottom"],ypn]];let kne=class{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=o$(n),i=Jze(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,o,a]of xpn)for(const l of o)Object.defineProperty(this,l,{get:()=>{const u=a(r),d=i[s]-u;return this.rect[l]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}};class Rk{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function wpn(t){const{EventTarget:e}=Gc(t);return t instanceof e?t:lE(t)}function OU(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var df;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(df||(df={}));function Cve(t){t.preventDefault()}function _pn(t){t.stopPropagation()}var Gr;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter"})(Gr||(Gr={}));const eWe={start:[Gr.Space,Gr.Enter],cancel:[Gr.Esc],end:[Gr.Space,Gr.Enter]},Cpn=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Gr.Right:return{...n,x:n.x+25};case Gr.Left:return{...n,x:n.x-25};case Gr.Down:return{...n,y:n.y+25};case Gr.Up:return{...n,y:n.y-25}}};class Ane{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Rk(lE(n)),this.windowListeners=new Rk(Gc(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(df.Resize,this.handleCancel),this.windowListeners.add(df.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(df.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&bpn(r),n(zh)}handleKeyDown(e){if(Tne(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=eWe,coordinateGetter:o=Cpn,scrollBehavior:a="smooth"}=i,{code:l}=e;if(s.end.includes(l)){this.handleEnd(e);return}if(s.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:zh;this.referenceCoordinates||(this.referenceCoordinates=d);const f=o(e,{active:n,context:r.current,currentCoordinates:d});if(f){const h=qA(f,d),p={x:0,y:0},{scrollableAncestors:g}=r.current;for(const v of g){const y=e.code,{isTop:x,isRight:b,isLeft:_,isBottom:C,maxScroll:S,minScroll:T}=Qze(v),A=gpn(v),k={x:Math.min(y===Gr.Right?A.right-A.width/2:A.right,Math.max(y===Gr.Right?A.left:A.left+A.width/2,f.x)),y:Math.min(y===Gr.Down?A.bottom-A.height/2:A.bottom,Math.max(y===Gr.Down?A.top:A.top+A.height/2,f.y))},I=y===Gr.Right&&!b||y===Gr.Left&&!_,D=y===Gr.Down&&!C||y===Gr.Up&&!x;if(I&&k.x!==f.x){const R=v.scrollLeft+h.x,O=y===Gr.Right&&R<=S.x||y===Gr.Left&&R>=T.x;if(O&&!h.y){v.scrollTo({left:R,behavior:a});return}O?p.x=v.scrollLeft-R:p.x=y===Gr.Right?v.scrollLeft-S.x:v.scrollLeft-T.x,p.x&&v.scrollBy({left:-p.x,behavior:a});break}else if(D&&k.y!==f.y){const R=v.scrollTop+h.y,O=y===Gr.Down&&R<=S.y||y===Gr.Up&&R>=T.y;if(O&&!h.x){v.scrollTo({top:R,behavior:a});return}O?p.y=v.scrollTop-R:p.y=y===Gr.Down?v.scrollTop-S.y:v.scrollTop-T.y,p.y&&v.scrollBy({top:-p.y,behavior:a});break}}this.handleMove(e,m_(qA(f,this.referenceCoordinates),p))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Ane.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=eWe,onActivation:i}=e,{active:s}=n;const{code:o}=t.nativeEvent;if(r.start.includes(o)){const a=s.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),i==null||i({event:t.nativeEvent}),!0)}return!1}}];function Eve(t){return!!(t&&"distance"in t)}function Sve(t){return!!(t&&"delay"in t)}class Ine{constructor(e,n,r){var i;r===void 0&&(r=wpn(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:o}=s;this.props=e,this.events=n,this.document=lE(o),this.documentListeners=new Rk(this.document),this.listeners=new Rk(r),this.windowListeners=new Rk(Gc(o)),this.initialCoordinates=(i=aY(s))!=null?i:zh,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(df.Resize,this.handleCancel),this.windowListeners.add(df.DragStart,Cve),this.windowListeners.add(df.VisibilityChange,this.handleCancel),this.windowListeners.add(df.ContextMenu,Cve),this.documentListeners.add(df.Keydown,this.handleKeydown),n){if(Eve(n))return;if(Sve(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(df.Click,_pn,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(df.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:o,options:{activationConstraint:a}}=s;if(!i)return;const l=(n=aY(e))!=null?n:zh,u=qA(i,l);if(!r&&a){if(Sve(a))return OU(u,a.tolerance)?this.handleCancel():void 0;if(Eve(a))return a.tolerance!=null&&OU(u,a.tolerance)?this.handleCancel():OU(u,a.distance)?this.handleStart():void 0}e.cancelable&&e.preventDefault(),o(l)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===Gr.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Epn={move:{name:"pointermove"},end:{name:"pointerup"}};class Dne extends Ine{constructor(e){const{event:n}=e,r=lE(n.target);super(e,Epn,r)}}Dne.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Spn={move:{name:"mousemove"},end:{name:"mouseup"}};var uY;(function(t){t[t.RightClick=2]="RightClick"})(uY||(uY={}));class Tpn extends Ine{constructor(e){super(e,Spn,lE(e.event.target))}}Tpn.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===uY.RightClick?!1:(r==null||r({event:n}),!0)}}];const LU={move:{name:"touchmove"},end:{name:"touchend"}};class kpn extends Ine{constructor(e){super(e,LU)}static setup(){return window.addEventListener(LU.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(LU.move.name,e)};function e(){}}}kpn.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var jk;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(jk||(jk={}));var u6;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(u6||(u6={}));function Apn(t){let{acceleration:e,activator:n=jk.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:o=5,order:a=u6.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:h}=t;const p=Dpn({delta:f,disabled:!s}),[g,v]=Bhn(),y=m.useRef({x:0,y:0}),x=m.useRef({x:0,y:0}),b=m.useMemo(()=>{switch(n){case jk.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case jk.DraggableRect:return i}},[n,i,l]),_=m.useRef(null),C=m.useCallback(()=>{const T=_.current;if(!T)return;const A=y.current.x*x.current.x,k=y.current.y*x.current.y;T.scrollBy(A,k)},[]),S=m.useMemo(()=>a===u6.TreeOrder?[...u].reverse():u,[a,u]);m.useEffect(()=>{if(!s||!u.length||!b){v();return}for(const T of S){if((r==null?void 0:r(T))===!1)continue;const A=u.indexOf(T),k=d[A];if(!k)continue;const{direction:I,speed:D}=mpn(T,k,b,e,h);for(const R of["x","y"])p[R][I[R]]||(D[R]=0,I[R]=0);if(D.x>0||D.y>0){v(),_.current=T,g(C,o),y.current=D,x.current=I;return}}y.current={x:0,y:0},x.current={x:0,y:0},v()},[e,C,r,v,s,o,JSON.stringify(b),JSON.stringify(p),g,u,S,d,JSON.stringify(h)])}const Ipn={x:{[Ya.Backward]:!1,[Ya.Forward]:!1},y:{[Ya.Backward]:!1,[Ya.Forward]:!1}};function Dpn(t){let{delta:e,disabled:n}=t;const r=oY(e);return PI(i=>{if(n||!r||!i)return Ipn;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Ya.Backward]:i.x[Ya.Backward]||s.x===-1,[Ya.Forward]:i.x[Ya.Forward]||s.x===1},y:{[Ya.Backward]:i.y[Ya.Backward]||s.y===-1,[Ya.Forward]:i.y[Ya.Forward]||s.y===1}}},[n,e,r])}function Rpn(t,e){const n=e!==null?t.get(e):void 0,r=n?n.node.current:null;return PI(i=>{var s;return e===null?null:(s=r??i)!=null?s:null},[r,e])}function jpn(t,e){return m.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...n,...s]},[]),[t,e])}var KA;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(KA||(KA={}));var cY;(function(t){t.Optimized="optimized"})(cY||(cY={}));const Tve=new Map;function Opn(t,e){let{dragging:n,dependencies:r,config:i}=e;const[s,o]=m.useState(null),{frequency:a,measure:l,strategy:u}=i,d=m.useRef(t),f=y(),h=GA(f),p=m.useCallback(function(x){x===void 0&&(x=[]),!h.current&&o(b=>b===null?x:b.concat(x.filter(_=>!b.includes(_))))},[h]),g=m.useRef(null),v=PI(x=>{if(f&&!n)return Tve;if(!x||x===Tve||d.current!==t||s!=null){const b=new Map;for(let _ of t){if(!_)continue;if(s&&s.length>0&&!s.includes(_.id)&&_.rect.current){b.set(_.id,_.rect.current);continue}const C=_.node.current,S=C?new kne(l(C),C):null;_.rect.current=S,S&&b.set(_.id,S)}return b}return x},[t,s,n,f,l]);return m.useEffect(()=>{d.current=t},[t]),m.useEffect(()=>{f||p()},[n,f]),m.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),m.useEffect(()=>{f||typeof a!="number"||g.current!==null||(g.current=setTimeout(()=>{p(),g.current=null},a))},[a,f,p,...r]),{droppableRects:v,measureDroppableContainers:p,measuringScheduled:s!=null};function y(){switch(u){case KA.Always:return!1;case KA.BeforeDragging:return n;default:return!n}}}function tWe(t,e){return PI(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function Lpn(t,e){return tWe(t,e)}function Ppn(t){let{callback:e,disabled:n}=t;const r=Sne(e),i=m.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return m.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function a$(t){let{callback:e,disabled:n}=t;const r=Sne(e),i=m.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return m.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Mpn(t){return new kne(uE(t),t)}function kve(t,e,n){e===void 0&&(e=Mpn);const[r,i]=m.useReducer(a,null),s=Ppn({callback(l){if(t)for(const u of l){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(t)){i();break}}}}),o=a$({callback:i});return Hh(()=>{i(),t?(o==null||o.observe(t),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(o==null||o.disconnect(),s==null||s.disconnect())},[t]),r;function a(l){if(!t)return null;if(t.isConnected===!1){var u;return(u=l??n)!=null?u:null}const d=e(t);return JSON.stringify(l)===JSON.stringify(d)?l:d}}function $pn(t){const e=tWe(t);return qze(t,e)}const Ave=[];function Fpn(t){const e=m.useRef(t),n=PI(r=>t?r&&r!==Ave&&t&&e.current&&t.parentNode===e.current.parentNode?r:o$(t):Ave,[t]);return m.useEffect(()=>{e.current=t},[t]),n}function Bpn(t){const[e,n]=m.useState(null),r=m.useRef(t),i=m.useCallback(s=>{const o=jU(s.target);o&&n(a=>a?(a.set(o,lY(o)),new Map(a)):null)},[]);return m.useEffect(()=>{const s=r.current;if(t!==s){o(s);const a=t.map(l=>{const u=jU(l);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,lY(u)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=t}return()=>{o(t),o(s)};function o(a){a.forEach(l=>{const u=jU(l);u==null||u.removeEventListener("scroll",i)})}},[i,t]),m.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,o)=>m_(s,o),zh):Jze(t):zh,[t,e])}function Ive(t,e){e===void 0&&(e=[]);const n=m.useRef(null);return m.useEffect(()=>{n.current=null},e),m.useEffect(()=>{const r=t!==zh;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?qA(t,n.current):zh}function Npn(t){m.useEffect(()=>{if(!s$)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function Vpn(t,e){return m.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=o=>{s(o,e)},n},{}),[t,e])}function nWe(t){return m.useMemo(()=>t?dpn(t):null,[t])}const PU=[];function Upn(t,e){e===void 0&&(e=uE);const[n]=t,r=nWe(n?Gc(n):null),[i,s]=m.useReducer(a,PU),o=a$({callback:s});return t.length>0&&i===PU&&s(),Hh(()=>{t.length?t.forEach(l=>o==null?void 0:o.observe(l)):(o==null||o.disconnect(),s())},[t]),i;function a(){return t.length?t.map(l=>Xze(l)?r:new kne(e(l),l)):PU}}function Hpn(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return LI(e)?e:t}function zpn(t){let{measure:e}=t;const[n,r]=m.useState(null),i=m.useCallback(u=>{for(const{target:d}of u)if(LI(d)){r(f=>{const h=e(d);return f?{...f,width:h.width,height:h.height}:h});break}},[e]),s=a$({callback:i}),o=m.useCallback(u=>{const d=Hpn(u);s==null||s.disconnect(),d&&(s==null||s.observe(d)),r(d?e(d):null)},[e,s]),[a,l]=a6(o);return m.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const Wpn=[{sensor:Dne,options:{}},{sensor:Ane,options:{}}],Gpn={current:{}},FO={draggable:{measure:_ve},droppable:{measure:_ve,strategy:KA.WhileDragging,frequency:cY.Optimized},dragOverlay:{measure:uE}};class Ok extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const qpn={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ok,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:l6},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:FO,measureDroppableContainers:l6,windowRect:null,measuringScheduled:!1},Ypn={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:l6,draggableNodes:new Map,over:null,measureDroppableContainers:l6},l$=m.createContext(Ypn),rWe=m.createContext(qpn);function Kpn(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ok}}}function Zpn(t,e){switch(e.type){case Ia.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Ia.DragMove:return t.draggable.active?{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}}:t;case Ia.DragEnd:case Ia.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ia.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new Ok(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case Ia.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const o=new Ok(t.droppable.containers);return o.set(n,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:o}}}case Ia.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const s=new Ok(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function Xpn(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=m.useContext(l$),s=oY(r),o=oY(n==null?void 0:n.id);return m.useEffect(()=>{if(!e&&!r&&s&&o!=null){if(!Tne(s)||document.activeElement===s.target)return;const a=i.get(o);if(!a)return;const{activatorNode:l,node:u}=a;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[l.current,u.current]){if(!d)continue;const f=Uhn(d);if(f){f.focus();break}}})}},[r,e,i,o,s]),null}function Qpn(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...r}),n):n}function Jpn(t){return m.useMemo(()=>({draggable:{...FO.draggable,...t==null?void 0:t.draggable},droppable:{...FO.droppable,...t==null?void 0:t.droppable},dragOverlay:{...FO.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function emn(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const s=m.useRef(!1),{x:o,y:a}=typeof i=="boolean"?{x:i,y:i}:i;Hh(()=>{if(!o&&!a||!e){s.current=!1;return}if(s.current||!r)return;const u=e==null?void 0:e.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=qze(d,r);if(o||(f.x=0),a||(f.y=0),s.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=Yze(u);h&&h.scrollBy({top:f.y,left:f.x})}},[e,o,a,r,n])}const iWe=m.createContext({...zh,scaleX:1,scaleY:1});var D1;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(D1||(D1={}));const tmn=m.memo(function(e){var n,r,i,s;let{id:o,accessibility:a,autoScroll:l=!0,children:u,sensors:d=Wpn,collisionDetection:f=ipn,measuring:h,modifiers:p,...g}=e;const v=m.useReducer(Zpn,void 0,Kpn),[y,x]=v,[b,_]=Khn(),[C,S]=m.useState(D1.Uninitialized),T=C===D1.Initialized,{draggable:{active:A,nodes:k,translate:I},droppable:{containers:D}}=y,R=A?k.get(A):null,O=m.useRef({initial:null,translated:null}),L=m.useMemo(()=>{var ni;return A!=null?{id:A,data:(ni=R==null?void 0:R.data)!=null?ni:Gpn,rect:O}:null},[A,R]),P=m.useRef(null),[$,B]=m.useState(null),[Q,V]=m.useState(null),Z=GA(g,Object.values(g)),ie=MI("DndDescribedBy",o),J=m.useMemo(()=>D.getEnabled(),[D]),X=Jpn(h),{droppableRects:fe,measureDroppableContainers:ue,measuringScheduled:te}=Opn(J,{dragging:T,dependencies:[I.x,I.y],config:X.droppable}),F=Rpn(k,A),ne=m.useMemo(()=>Q?aY(Q):null,[Q]),ce=rc(),me=Lpn(F,X.draggable.measure);emn({activeNode:A?k.get(A):null,config:ce.layoutShiftCompensation,initialRect:me,measure:X.draggable.measure});const pe=kve(F,X.draggable.measure,me),Ie=kve(F?F.parentElement:null),xe=m.useRef({activatorEvent:null,active:null,activeNode:F,collisionRect:null,collisions:null,droppableRects:fe,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:D,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Pe=D.getNodeFor((n=xe.current.over)==null?void 0:n.id),we=zpn({measure:X.dragOverlay.measure}),De=(r=we.nodeRef.current)!=null?r:F,de=T?(i=we.rect)!=null?i:pe:null,be=!!(we.nodeRef.current&&we.rect),ve=$pn(be?null:pe),ze=nWe(De?Gc(De):null),He=Fpn(T?Pe??F:null),Ne=Upn(He),Fe=Qpn(p,{transform:{x:I.x-ve.x,y:I.y-ve.y,scaleX:1,scaleY:1},activatorEvent:Q,active:L,activeNodeRect:pe,containerNodeRect:Ie,draggingNodeRect:de,over:xe.current.over,overlayNodeRect:we.rect,scrollableAncestors:He,scrollableAncestorRects:Ne,windowRect:ze}),nt=ne?m_(ne,I):null,Ye=Bpn(He),Ge=Ive(Ye),Ct=Ive(Ye,[pe]),wt=m_(Fe,Ge),pt=de?apn(de,Fe):null,on=L&&pt?f({active:L,collisionRect:pt,droppableRects:fe,droppableContainers:J,pointerCoordinates:nt}):null,mn=Gze(on,"id"),[gn,br]=m.useState(null),yo=be?Fe:m_(Fe,Ct),Kn=spn(yo,(s=gn==null?void 0:gn.rect)!=null?s:null,pe),ti=m.useCallback((ni,Fs)=>{let{sensor:Ss,options:Dt}=Fs;if(P.current==null)return;const $n=k.get(P.current);if(!$n)return;const fi=ni.nativeEvent,ri=new Ss({active:P.current,activeNode:$n,event:fi,options:Dt,context:xe,onStart(ts){const ya=P.current;if(ya==null)return;const ta=k.get(ya);if(!ta)return;const{onDragStart:wu}=Z.current,$d={active:{id:ya,data:ta.data,rect:O}};vf.unstable_batchedUpdates(()=>{wu==null||wu($d),S(D1.Initializing),x({type:Ia.DragStart,initialCoordinates:ts,active:ya}),b({type:"onDragStart",event:$d})})},onMove(ts){x({type:Ia.DragMove,coordinates:ts})},onEnd:$l(Ia.DragEnd),onCancel:$l(Ia.DragCancel)});vf.unstable_batchedUpdates(()=>{B(ri),V(ni.nativeEvent)});function $l(ts){return async function(){const{active:ta,collisions:wu,over:$d,scrollAdjustedTranslate:U0}=xe.current;let Fd=null;if(ta&&U0){const{cancelDrop:Zc}=Z.current;Fd={activatorEvent:fi,active:ta,collisions:wu,delta:U0,over:$d},ts===Ia.DragEnd&&typeof Zc=="function"&&await Promise.resolve(Zc(Fd))&&(ts=Ia.DragCancel)}P.current=null,vf.unstable_batchedUpdates(()=>{x({type:ts}),S(D1.Uninitialized),br(null),B(null),V(null);const Zc=ts===Ia.DragEnd?"onDragEnd":"onDragCancel";if(Fd){const rp=Z.current[Zc];rp==null||rp(Fd),b({type:Zc,event:Fd})}})}}},[k]),Hi=m.useCallback((ni,Fs)=>(Ss,Dt)=>{const $n=Ss.nativeEvent,fi=k.get(Dt);if(P.current!==null||!fi||$n.dndKit||$n.defaultPrevented)return;const ri={active:fi};ni(Ss,Fs.options,ri)===!0&&($n.dndKit={capturedBy:Fs.sensor},P.current=Dt,ti(Ss,Fs))},[k,ti]),ea=jpn(d,Hi);Npn(d),Hh(()=>{pe&&C===D1.Initializing&&S(D1.Initialized)},[pe,C]),m.useEffect(()=>{const{onDragMove:ni}=Z.current,{active:Fs,activatorEvent:Ss,collisions:Dt,over:$n}=xe.current;if(!Fs||!Ss)return;const fi={active:Fs,activatorEvent:Ss,collisions:Dt,delta:{x:wt.x,y:wt.y},over:$n};vf.unstable_batchedUpdates(()=>{ni==null||ni(fi),b({type:"onDragMove",event:fi})})},[wt.x,wt.y]),m.useEffect(()=>{const{active:ni,activatorEvent:Fs,collisions:Ss,droppableContainers:Dt,scrollAdjustedTranslate:$n}=xe.current;if(!ni||P.current==null||!Fs||!$n)return;const{onDragOver:fi}=Z.current,ri=Dt.get(mn),$l=ri&&ri.rect.current?{id:ri.id,rect:ri.rect.current,data:ri.data,disabled:ri.disabled}:null,ts={active:ni,activatorEvent:Fs,collisions:Ss,delta:{x:$n.x,y:$n.y},over:$l};vf.unstable_batchedUpdates(()=>{br($l),fi==null||fi(ts),b({type:"onDragOver",event:ts})})},[mn]),Hh(()=>{xe.current={activatorEvent:Q,active:L,activeNode:F,collisionRect:pt,collisions:on,droppableRects:fe,draggableNodes:k,draggingNode:De,draggingNodeRect:de,droppableContainers:D,over:gn,scrollableAncestors:He,scrollAdjustedTranslate:wt},O.current={initial:de,translated:pt}},[L,F,on,pt,k,De,de,fe,D,gn,He,wt]),Apn({...ce,delta:I,draggingRect:pt,pointerCoordinates:nt,scrollableAncestors:He,scrollableAncestorRects:Ne});const ul=m.useMemo(()=>({active:L,activeNode:F,activeNodeRect:pe,activatorEvent:Q,collisions:on,containerNodeRect:Ie,dragOverlay:we,draggableNodes:k,droppableContainers:D,droppableRects:fe,over:gn,measureDroppableContainers:ue,scrollableAncestors:He,scrollableAncestorRects:Ne,measuringConfiguration:X,measuringScheduled:te,windowRect:ze}),[L,F,pe,Q,on,Ie,we,k,D,fe,gn,ue,He,Ne,X,te,ze]),nc=m.useMemo(()=>({activatorEvent:Q,activators:ea,active:L,activeNodeRect:pe,ariaDescribedById:{draggable:ie},dispatch:x,draggableNodes:k,over:gn,measureDroppableContainers:ue}),[Q,ea,L,pe,x,ie,k,gn,ue]);return re.createElement(Hze.Provider,{value:_},re.createElement(l$.Provider,{value:nc},re.createElement(rWe.Provider,{value:ul},re.createElement(iWe.Provider,{value:Kn},u)),re.createElement(Xpn,{disabled:(a==null?void 0:a.restoreFocus)===!1})),re.createElement(Qhn,{...a,hiddenTextDescribedById:ie}));function rc(){const ni=($==null?void 0:$.autoScrollEnabled)===!1,Fs=typeof l=="object"?l.enabled===!1:l===!1,Ss=T&&!ni&&!Fs;return typeof l=="object"?{...l,enabled:Ss}:{enabled:Ss}}}),nmn=m.createContext(null),Dve="button",rmn="Droppable";function imn(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const s=MI(rmn),{activators:o,activatorEvent:a,active:l,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:h}=m.useContext(l$),{role:p=Dve,roleDescription:g="draggable",tabIndex:v=0}=i??{},y=(l==null?void 0:l.id)===e,x=m.useContext(y?iWe:nmn),[b,_]=a6(),[C,S]=a6(),T=Vpn(o,e),A=GA(n);Hh(()=>(f.set(e,{id:e,key:s,node:b,activatorNode:C,data:A}),()=>{const I=f.get(e);I&&I.key===s&&f.delete(e)}),[f,e]);const k=m.useMemo(()=>({role:p,tabIndex:v,"aria-disabled":r,"aria-pressed":y&&p===Dve?!0:void 0,"aria-roledescription":g,"aria-describedby":d.draggable}),[r,p,v,y,g,d.draggable]);return{active:l,activatorEvent:a,activeNodeRect:u,attributes:k,isDragging:y,listeners:r?void 0:T,node:b,over:h,setNodeRef:_,setActivatorNodeRef:S,transform:x}}function smn(){return m.useContext(rWe)}const omn="Droppable",amn={timeout:25};function lmn(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const s=MI(omn),{active:o,dispatch:a,over:l,measureDroppableContainers:u}=m.useContext(l$),d=m.useRef({disabled:n}),f=m.useRef(!1),h=m.useRef(null),p=m.useRef(null),{disabled:g,updateMeasurementsFor:v,timeout:y}={...amn,...i},x=GA(v??r),b=m.useCallback(()=>{if(!f.current){f.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),p.current=null},y)},[y]),_=a$({callback:b,disabled:g||!o}),C=m.useCallback((k,I)=>{_&&(I&&(_.unobserve(I),f.current=!1),k&&_.observe(k))},[_]),[S,T]=a6(C),A=GA(e);return m.useEffect(()=>{!_||!S.current||(_.disconnect(),f.current=!1,_.observe(S.current))},[S,_]),Hh(()=>(a({type:Ia.RegisterDroppable,element:{id:r,key:s,disabled:n,node:S,rect:h,data:A}}),()=>a({type:Ia.UnregisterDroppable,key:s,id:r})),[r]),m.useEffect(()=>{n!==d.current.disabled&&(a({type:Ia.SetDroppableDisabled,id:r,key:s,disabled:n}),d.current.disabled=n)},[r,s,n,a]),{active:o,rect:h,isOver:(l==null?void 0:l.id)===r,node:S,over:l,setNodeRef:T}}function sWe(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function umn(t,e){return t.reduce((n,r,i)=>{const s=e.get(r);return s&&(n[i]=s),n},Array(t.length))}function x4(t){return t!==null&&t>=0}function cmn(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function dmn(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const w4={scaleX:1,scaleY:1},fmn=t=>{var e;let{rects:n,activeNodeRect:r,activeIndex:i,overIndex:s,index:o}=t;const a=(e=n[i])!=null?e:r;if(!a)return null;const l=hmn(n,o,i);if(o===i){const u=n[s];return u?{x:i<s?u.left+u.width-(a.left+a.width):u.left-a.left,y:0,...w4}:null}return o>i&&o<=s?{x:-a.width-l,y:0,...w4}:o<i&&o>=s?{x:a.width+l,y:0,...w4}:{x:0,y:0,...w4}};function hmn(t,e,n){const r=t[e],i=t[e-1],s=t[e+1];return!r||!i&&!s?0:n<e?i?r.left-(i.left+i.width):s.left-(r.left+r.width):s?s.left-(r.left+r.width):r.left-(i.left+i.width)}const oWe=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const s=sWe(e,r,n),o=e[i],a=s[i];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},_4={scaleX:1,scaleY:1},pmn=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:i,rects:s,overIndex:o}=t;const a=(e=s[n])!=null?e:r;if(!a)return null;if(i===n){const u=s[o];return u?{x:0,y:n<o?u.top+u.height-(a.top+a.height):u.top-a.top,..._4}:null}const l=mmn(s,i,n);return i>n&&i<=o?{x:0,y:-a.height-l,..._4}:i<n&&i>=o?{x:0,y:a.height+l,..._4}:{x:0,y:0,..._4}};function mmn(t,e,n){const r=t[e],i=t[e-1],s=t[e+1];return r?n<e?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const aWe="Sortable",lWe=re.createContext({activeIndex:-1,containerId:aWe,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:oWe,disabled:{draggable:!1,droppable:!1}});function gmn(t){let{children:e,id:n,items:r,strategy:i=oWe,disabled:s=!1}=t;const{active:o,dragOverlay:a,droppableRects:l,over:u,measureDroppableContainers:d}=smn(),f=MI(aWe,n),h=a.rect!==null,p=m.useMemo(()=>r.map(T=>typeof T=="object"&&"id"in T?T.id:T),[r]),g=o!=null,v=o?p.indexOf(o.id):-1,y=u?p.indexOf(u.id):-1,x=m.useRef(p),b=!cmn(p,x.current),_=y!==-1&&v===-1||b,C=dmn(s);Hh(()=>{b&&g&&d(p)},[b,p,g,d]),m.useEffect(()=>{x.current=p},[p]);const S=m.useMemo(()=>({activeIndex:v,containerId:f,disabled:C,disableTransforms:_,items:p,overIndex:y,useDragOverlay:h,sortedRects:umn(p,l),strategy:i}),[v,f,C.draggable,C.droppable,_,p,y,l,h,i]);return re.createElement(lWe.Provider,{value:S},e)}const vmn=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return sWe(n,r,i).indexOf(e)},ymn=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:s,newIndex:o,previousItems:a,previousContainerId:l,transition:u}=t;return!u||!r||a!==s&&i===o?!1:n?!0:o!==i&&e===l},bmn={duration:200,easing:"ease"},uWe="transform",xmn=YA.Transition.toString({property:uWe,duration:0,easing:"linear"}),wmn={roleDescription:"sortable"};function _mn(t){let{disabled:e,index:n,node:r,rect:i}=t;const[s,o]=m.useState(null),a=m.useRef(n);return Hh(()=>{if(!e&&n!==a.current&&r.current){const l=i.current;if(l){const u=uE(r.current,{ignoreTransform:!0}),d={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(d.x||d.y)&&o(d)}}n!==a.current&&(a.current=n)},[e,n,r,i]),m.useEffect(()=>{s&&o(null)},[s]),s}function cWe(t){let{animateLayoutChanges:e=ymn,attributes:n,disabled:r,data:i,getNewIndex:s=vmn,id:o,strategy:a,resizeObserverConfig:l,transition:u=bmn}=t;const{items:d,containerId:f,activeIndex:h,disabled:p,disableTransforms:g,sortedRects:v,overIndex:y,useDragOverlay:x,strategy:b}=m.useContext(lWe),_=Cmn(r,p),C=d.indexOf(o),S=m.useMemo(()=>({sortable:{containerId:f,index:C,items:d},...i}),[f,i,C,d]),T=m.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:A,node:k,isOver:I,setNodeRef:D}=lmn({id:o,data:S,disabled:_.droppable,resizeObserverConfig:{updateMeasurementsFor:T,...l}}),{active:R,activatorEvent:O,activeNodeRect:L,attributes:P,setNodeRef:$,listeners:B,isDragging:Q,over:V,setActivatorNodeRef:Z,transform:ie}=imn({id:o,data:S,attributes:{...wmn,...n},disabled:_.draggable}),J=$hn(D,$),X=!!R,fe=X&&!g&&x4(h)&&x4(y),ue=!x&&Q,te=ue&&fe?ie:null,ne=fe?te??(a??b)({rects:v,activeNodeRect:L,activeIndex:h,overIndex:y,index:C}):null,ce=x4(h)&&x4(y)?s({id:o,items:d,activeIndex:h,overIndex:y}):C,me=R==null?void 0:R.id,pe=m.useRef({activeId:me,items:d,newIndex:ce,containerId:f}),Ie=d!==pe.current.items,xe=e({active:R,containerId:f,isDragging:Q,isSorting:X,id:o,index:C,items:d,newIndex:pe.current.newIndex,previousItems:pe.current.items,previousContainerId:pe.current.containerId,transition:u,wasDragging:pe.current.activeId!=null}),Pe=_mn({disabled:!xe,index:C,node:k,rect:A});return m.useEffect(()=>{X&&pe.current.newIndex!==ce&&(pe.current.newIndex=ce),f!==pe.current.containerId&&(pe.current.containerId=f),d!==pe.current.items&&(pe.current.items=d)},[X,ce,f,d]),m.useEffect(()=>{if(me===pe.current.activeId)return;if(me&&!pe.current.activeId){pe.current.activeId=me;return}const De=setTimeout(()=>{pe.current.activeId=me},50);return()=>clearTimeout(De)},[me]),{active:R,activeIndex:h,attributes:P,data:S,rect:A,index:C,newIndex:ce,items:d,isOver:I,isSorting:X,isDragging:Q,listeners:B,node:k,overIndex:y,over:V,setNodeRef:J,setActivatorNodeRef:Z,setDroppableNodeRef:D,setDraggableNodeRef:$,transform:Pe??ne,transition:we()};function we(){if(Pe||Ie&&pe.current.newIndex===C)return xmn;if(!(ue&&!Tne(O)||!u)&&(X||xe))return YA.Transition.toString({...u,property:uWe})}}function Cmn(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}function c6(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const Emn=[Gr.Down,Gr.Right,Gr.Up,Gr.Left],Smn=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:s,over:o,scrollableAncestors:a}}=e;if(Emn.includes(t.code)){if(t.preventDefault(),!n||!r)return;const l=[];s.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const h=i.get(f.id);if(h)switch(t.code){case Gr.Down:r.top<h.top&&l.push(f);break;case Gr.Up:r.top>h.top&&l.push(f);break;case Gr.Left:r.left>h.left&&l.push(f);break;case Gr.Right:r.left<h.left&&l.push(f);break}});const u=npn({active:n,collisionRect:r,droppableRects:i,droppableContainers:l,pointerCoordinates:null});let d=Gze(u,"id");if(d===(o==null?void 0:o.id)&&u.length>1&&(d=u[1].id),d!=null){const f=s.get(n.id),h=s.get(d),p=h?i.get(h.id):null,g=h==null?void 0:h.node.current;if(g&&p&&f&&h){const y=o$(g).some((T,A)=>a[A]!==T),x=dWe(f,h),b=Tmn(f,h),_=y||!x?{x:0,y:0}:{x:b?r.width-p.width:0,y:b?r.height-p.height:0},C={x:p.left,y:p.top};return _.x&&_.y?C:qA(C,_)}}}};function dWe(t,e){return!c6(t)||!c6(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function Tmn(t,e){return!c6(t)||!c6(e)||!dWe(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const kmn=t=>{let{transform:e}=t;return{...e,y:0}},Amn=t=>{let{transform:e}=t;return{...e,x:0}};var Imn=tw;function Dmn(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],o=e(s);if(o!=null&&(a===void 0?o===o&&!Imn(o):n(o,a)))var a=o,l=s}return l}var fWe=Dmn;function Rmn(t,e){return t<e}var jmn=Rmn,Omn=fWe,Lmn=jmn,Pmn=fw;function Mmn(t){return t&&t.length?Omn(t,Pmn,Lmn):void 0}var $mn=Mmn;const Fmn=vt($mn);function Bmn(t,e){return t>e}var Nmn=Bmn,Vmn=fWe,Umn=Nmn,Hmn=fw;function zmn(t){return t&&t.length?Vmn(t,Hmn,Umn):void 0}var Wmn=zmn;const Gmn=vt(Wmn);var dY={exports:{}};function qmn(t){n.debug=n,n.default=n,n.coerce=l,n.disable=o,n.enable=s,n.enabled=a,n.humanize=x9(),Object.keys(t).forEach(function(u){n[u]=t[u]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function e(u){for(var d=0,f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=e;function n(u){var d;function f(){if(f.enabled){for(var h=arguments.length,p=new Array(h),g=0;g<h;g++)p[g]=arguments[g];var v=f,y=Number(new Date),x=y-(d||y);v.diff=x,v.prev=d,v.curr=y,d=y,p[0]=n.coerce(p[0]),typeof p[0]!="string"&&p.unshift("%O");var b=0;p[0]=p[0].replace(/%([a-zA-Z%])/g,function(C,S){if(C==="%%")return C;b++;var T=n.formatters[S];if(typeof T=="function"){var A=p[b];C=T.call(v,A),p.splice(b,1),b--}return C}),n.formatArgs.call(v,p);var _=v.log||n.log;_.apply(v,p)}}return f.namespace=u,f.enabled=n.enabled(u),f.useColors=n.useColors(),f.color=e(u),f.destroy=r,f.extend=i,typeof n.init=="function"&&n.init(f),n.instances.push(f),f}function r(){var u=n.instances.indexOf(this);return u!==-1?(n.instances.splice(u,1),!0):!1}function i(u,d){return n(this.namespace+(typeof d>"u"?":":d)+u)}function s(u){n.save(u),n.names=[],n.skips=[];var d,f=(typeof u=="string"?u:"").split(/[\s,]+/),h=f.length;for(d=0;d<h;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")));for(d=0;d<n.instances.length;d++){var p=n.instances[d];p.enabled=n.enabled(p.namespace)}}function o(){n.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}return n.enable(n.load()),n}var Ymn=qmn;(function(t,e){function n(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(h){return typeof h}:n=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},n(d)}e.log=s,e.formatArgs=i,e.save=o,e.load=a,e.useColors=r,e.storage=l(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!!this.useColors){var f="color: "+this.color;d.splice(1,0,f,"color: inherit");var h=0,p=0;d[0].replace(/%[a-zA-Z%]/g,function(g){g!=="%%"&&(h++,g==="%c"&&(p=h))}),d.splice(p,0,f)}}function s(){var d;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(d=console).log.apply(d,arguments)}function o(d){try{d?e.storage.setItem("debug",d):e.storage.removeItem("debug")}catch{}}function a(){var d;try{d=e.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function l(){try{return localStorage}catch{}}t.exports=Ymn(e);var u=t.exports.formatters;u.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(dY,dY.exports);var Kmn=dY.exports;const Zmn=vt(Kmn);var Xmn=Object.defineProperty,Qmn=(t,e,n)=>e in t?Xmn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,C4=(t,e,n)=>(Qmn(t,typeof e!="symbol"?e+"":e,n),n);const Jmn=/[0-9]/,egn=/^[a-zA-Z0-9_]$/,tgn=/^[a-zA-Z_]$/,hWe={operator:["..",".",",",":","?"],comparator:[">",">=","<","<=","==","!="],keyword:["$","@"],boolean:["true","false"],paren:["[","]"]},ngn=Object.keys(hWe);class rgn{constructor(e){C4(this,"source"),C4(this,"i"),C4(this,"length"),C4(this,"tokenizers"),this.source=e,this.length=e.length,this.i=0,this.tokenizers=[this.tokenizeSymbol,this.tokenizeIdentifier,this.tokenizeNumber,this.tokenizeQuoted].map(n=>n.bind(this))}tokenize(){const e=[];for(;!this.EOF();){this.chompWhitespace();let n=null;if(!this.tokenizers.some(i=>(n=i(),!!n))||!n)throw new Error("Invalid tokens in jsonpath '".concat(this.source,"' @ ").concat(this.i));e.push(n)}return e}takeWhile(e){const n=this.i;let r="";for(;!this.EOF();){const i=e(this.source[this.i]);if(i===null)break;r+=i,this.i++}return this.i===n?null:r}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.source[this.i]}consume(e){if(this.i+e.length>this.length)throw new Error("Expected ".concat(e," at end of jsonpath"));if(e===this.source.slice(this.i,this.i+e.length))this.i+=e.length;else throw new Error('Expected "'.concat(e,'", but source contained "').concat(this.source.slice()))}tryConsume(e){return this.i+e.length>this.length?null:e===this.source.slice(this.i,this.i+e.length)?(this.i+=e.length,e):null}chompWhitespace(){this.takeWhile(e=>e===" "?"":null)}tokenizeQuoted(){const e=this.peek();if(e==="'"||e==='"'){this.consume(e);let n=!1;const r=this.takeWhile(i=>n?(n=!1,i):i==="\\"?(n=!0,""):i!=e?i:null);return this.consume(e),{type:"quoted",value:r,quote:e==='"'?"double":"single"}}return null}tokenizeIdentifier(){let e=!0;const n=this.takeWhile(r=>e?(e=!1,r.match(tgn)?r:null):r.match(egn)?r:null);return n!==null?{type:"identifier",name:n}:null}tokenizeNumber(){const e=this.i;let n=!1,r=!1,i=!1;this.peek()==="-"&&(i=!0,this.consume("-"));const s=this.takeWhile(o=>o==="."&&!n&&r?(n=!0,o):(r=!0,o.match(Jmn)?o:null));return s!==null?{type:"number",value:i?-s:+s,raw:i?"-".concat(s):s}:(this.i=e,null)}tokenizeSymbol(){for(const e of ngn){const r=hWe[e].find(i=>this.tryConsume(i));if(r)return{type:e,symbol:r}}return null}}function ign(t){return new rgn(t).tokenize()}var sgn=Object.defineProperty,ogn=(t,e,n)=>e in t?sgn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,MU=(t,e,n)=>(ogn(t,typeof e!="symbol"?e+"":e,n),n);class agn{constructor(e){MU(this,"tokens"),MU(this,"length"),MU(this,"i"),this.tokens=ign(e),this.length=this.tokens.length,this.i=0}parse(){return this.parsePath()}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.tokens[this.i]}consume(){const e=this.peek();return this.i+=1,e}probe(e){const n=this.peek();if(!n)return null;const r=n;return Object.keys(e).every(s=>s in n&&e[s]===r[s])?n:null}match(e){return this.probe(e)?this.consume():null}parseAttribute(){const e=this.match({type:"identifier"});if(e&&e.type==="identifier")return{type:"attribute",name:e.name};const n=this.match({type:"quoted",quote:"single"});return n&&n.type==="quoted"?{type:"attribute",name:n.value||""}:null}parseAlias(){return this.match({type:"keyword",symbol:"@"})||this.match({type:"keyword",symbol:"$"})?{type:"alias",target:"self"}:null}parseNumber(){const e=this.match({type:"number"});return e&&e.type==="number"?{type:"number",value:e.value}:null}parseNumberValue(){const e=this.parseNumber();return e?e.value:null}parseSliceSelector(){const e=this.i,n=this.parseNumberValue();if(!this.match({type:"operator",symbol:":"}))return n===null?(this.i=e,null):{type:"index",value:n};const i={type:"range",start:n,end:this.parseNumberValue()};return this.match({type:"operator",symbol:":"})&&(i.step=this.parseNumberValue()),i.start===null&&i.end===null?(this.i=e,null):i}parseValueReference(){return this.parseAttribute()||this.parseSliceSelector()}parseLiteralValue(){const e=this.match({type:"quoted",quote:"double"});if(e&&e.type==="quoted")return{type:"string",value:e.value||""};const n=this.match({type:"boolean"});return n&&n.type==="boolean"?{type:"boolean",value:n.symbol==="true"}:this.parseNumber()}parseFilterExpression(){const e=this.i,n=this.parseAttribute()||this.parseAlias();if(!n)return null;if(this.match({type:"operator",symbol:"?"}))return{type:"constraint",operator:"?",lhs:n};const r=this.match({type:"comparator"});if(!r||r.type!=="comparator")return this.i=e,null;const i=n,s=this.parseLiteralValue();if(!s)throw new Error("Operator ".concat(r.symbol," needs a literal value at the right hand side"));return{type:"constraint",operator:r.symbol,lhs:i,rhs:s}}parseExpression(){return this.parseFilterExpression()||this.parseValueReference()}parseUnion(){if(!this.match({type:"paren",symbol:"["}))return null;const e=[];let n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference();for(;n&&(e.push(n),!this.match({type:"paren",symbol:"]"}));){if(!this.match({type:"operator",symbol:","}))throw new Error("Expected ]");if(n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference(),!n)throw new Error("Expected expression following ','")}return{type:"union",nodes:e}}parseRecursive(){if(!this.match({type:"operator",symbol:".."}))return null;const e=this.parsePath();if(!e)throw new Error("Expected path following '..' operator");return{type:"recursive",term:e}}parsePath(){const e=[],n=this.parseAttribute()||this.parseUnion()||this.parseRecursive();if(!n)return null;for(e.push(n);!this.EOF();)if(this.match({type:"operator",symbol:"."})){const r=this.parseAttribute();if(!r)throw new Error("Expected attribute name following '.");e.push(r);continue}else if(this.probe({type:"paren",symbol:"["})){const r=this.parseUnion();if(!r)throw new Error("Expected union following '['");e.push(r)}else{const r=this.parseRecursive();r&&e.push(r);break}return e.length===1?e[0]:{type:"path",nodes:e}}}function pWe(t){const e=new agn(t).parse();if(!e)throw new Error('Failed to parse JSON path "'.concat(t,'"'));return e}function lgn(t){const[e,n]=mWe(t);if(!e)throw new Error("Head cannot be null");return cgn(e,n)}function mWe(t){if(t.type!=="path")return[t,null];const e=t.nodes;return e.length===0?[null,null]:e.length===1?[e[0],null]:[e[0],{type:"path",nodes:e.slice(1)}]}function ugn(t,e){if(!t&&!e)return null;const n=t?t.nodes:[],r=e?e.nodes:[];return{type:"path",nodes:n.concat(r)}}function cgn(t,e){return t.type!=="union"?[[t,e]]:t.nodes.map(n=>{if(n.type==="path"){const[r,i]=mWe(n);return[r,ugn(i,e)]}return[n,e]})}function gWe(t){return z2(t,!1)}function z2(t,e){switch(t.type){case"attribute":return t.name;case"alias":return t.target==="self"?"@":"$";case"number":return"".concat(t.value);case"range":{const n=[];return e||n.push("["),t.start&&n.push("".concat(t.start)),n.push(":"),t.end&&n.push("".concat(t.end)),t.step&&n.push(":".concat(t.step)),e||n.push("]"),n.join("")}case"index":return e?"".concat(t.value):"[".concat(t.value,"]");case"constraint":{const n=t.rhs?" ".concat(z2(t.rhs,!1)):"",r="".concat(z2(t.lhs,!1)," ").concat(t.operator).concat(n);return e?r:"[".concat(r,"]")}case"string":return JSON.stringify(t.value);case"path":{const n=[],r=t.nodes.slice();for(;r.length>0;){const i=r.shift();i&&n.push(gWe(i));const s=r[0];s&&z2(s,!1)[0]!=="["&&n.push(".")}return n.join("")}case"union":return"[".concat(t.nodes.map(n=>z2(n,!0)).join(","),"]");default:throw new Error("Unknown node type ".concat(t.type));case"recursive":return"..".concat(z2(t.term,!1))}}var dgn=Object.defineProperty,fgn=(t,e,n)=>e in t?dgn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hgn=(t,e,n)=>(fgn(t,typeof e!="symbol"?e+"":e,n),n);class hd{constructor(e){if(hgn(this,"expr"),!e)throw new Error("Attempted to create Expression from null-value");if("expr"in e?this.expr=e.expr:this.expr=e,!("type"in this.expr))throw new Error("Attempt to create Expression for expression with no type")}isPath(){return this.expr.type==="path"}isUnion(){return this.expr.type==="union"}isCollection(){return this.isPath()||this.isUnion()}isConstraint(){return this.expr.type==="constraint"}isRecursive(){return this.expr.type==="recursive"}isExistenceConstraint(){return this.expr.type==="constraint"&&this.expr.operator==="?"}isIndex(){return this.expr.type==="index"}isRange(){return this.expr.type==="range"}expandRange(e){const n=()=>{if(!e)throw new Error("expandRange() required a probe that was not passed");return e.length()};let r="start"in this.expr&&this.expr.start||0;r=$U(r,e);let i="end"in this.expr&&this.expr.end||n();i=$U(i,e);const s="step"in this.expr&&this.expr.step||1;return{start:r,end:i,step:s}}isAttributeReference(){return this.expr.type==="attribute"}isIndexReference(){return this.isIndex()||this.isRange()}name(){return"name"in this.expr?this.expr.name:""}isSelfReference(){return this.expr.type==="alias"&&this.expr.target==="self"}constraintTargetIsSelf(){return this.expr.type==="constraint"&&this.expr.lhs.type==="alias"&&this.expr.lhs.target==="self"}constraintTargetIsAttribute(){return this.expr.type==="constraint"&&this.expr.lhs.type==="attribute"}testConstraint(e){const n=this.expr;if(n.type==="constraint"&&n.lhs.type==="alias"&&n.lhs.target==="self"){if(e.containerType()!=="primitive")return!1;if(n.type==="constraint"&&n.operator==="?")return!0;const o=e.get(),a=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return Rve(o,n.operator,a)}if(n.type!=="constraint")return!1;const r=n.lhs;if(!r)throw new Error("No LHS of expression");if(r.type!=="attribute")throw new Error("Constraint target ".concat(r.type," not supported"));if(e.containerType()!=="object")return!1;const i=e.getAttribute(r.name);if(i==null||i.containerType()!=="primitive")return!1;if(this.isExistenceConstraint())return!0;const s=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return Rve(i.get(),n.operator,s)}pathNodes(){return this.expr.type==="path"?this.expr.nodes:[this.expr]}prepend(e){return e?new hd({type:"path",nodes:e.pathNodes().concat(this.pathNodes())}):this}concat(e){return e?e.prepend(this):this}descend(){return lgn(this.expr).map(e=>{const[n,r]=e;return{head:n?new hd(n):null,tail:r?new hd(r):null}})}unwrapRecursive(){if(this.expr.type!=="recursive")throw new Error("Attempt to unwrap recursive on type ".concat(this.expr.type));return new hd(this.expr.term)}toIndicies(e){if(this.expr.type!=="index"&&this.expr.type!=="range")throw new Error("Node cannot be converted to indexes");if(this.expr.type==="index")return[$U(this.expr.value,e)];const n=[],r=this.expandRange(e);let{start:i,end:s}=r;r.step<0&&([i,s]=[s,i]);for(let o=i;o<s;o++)n.push(o);return n}toFieldReferences(){if(this.isIndexReference())return this.toIndicies();if(this.expr.type==="attribute")return[this.expr.name];throw new Error("Can't convert ".concat(this.expr.type," to field references"))}toString(){return gWe(this.expr)}static fromPath(e){const n=pWe(e);if(!n)throw new Error('Failed to parse path "'.concat(e,'"'));return new hd(n)}static attributeReference(e){return new hd({type:"attribute",name:e})}static indexReference(e){return new hd({type:"index",value:e})}}function Rve(t,e,n){switch(e){case">":return t>n;case">=":return t>=n;case"<":return t<n;case"<=":return t<=n;case"==":return t===n;case"!=":return t!==n;default:throw new Error("Unsupported binary operator ".concat(e))}}function $U(t,e){if(t>=0)return t;if(!e)throw new Error("interpretNegativeIndex() must have a probe when < 0");return t+e.length()}var pgn=Object.defineProperty,mgn=(t,e,n)=>e in t?pgn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jve=(t,e,n)=>(mgn(t,typeof e!="symbol"?e+"":e,n),n);class L5{constructor(e,n){jve(this,"head"),jve(this,"tail"),this.head=e,this.tail=n}iterate(e){let n=[this];if(this.head&&this.head.isConstraint()){let r=!0;for(;r;)n=$i(n.map(i=>i.iterateConstraints(e))),r=n.some(i=>i.head&&i.head.isConstraint())}return n}isRecursive(){return!!(this.head&&this.head.isRecursive())}hasArrived(){return this.head===null&&this.tail===null}extractRecursives(){if(this.head&&this.head.isRecursive()){const e=this.head.unwrapRecursive();return new L5(null,e.concat(this.tail)).descend()}return[]}iterateConstraints(e){const n=this.head;if(n===null||!n.isConstraint())return[this];const r=[];if(e.containerType()==="primitive"&&n.constraintTargetIsSelf())return n.testConstraint(e)&&r.push(...this.descend()),r;if(e.containerType()==="array"){const i=e.length();for(let s=0;s<i;s++){const o=e.getIndex(s);o&&n.testConstraint(o)&&r.push(new L5(new hd({type:"index",value:s}),this.tail))}return r}return e.containerType()==="object"?n.constraintTargetIsSelf()?[]:n.testConstraint(e)?this.descend():r:r}descend(){return this.tail?this.tail.descend().map(e=>new L5(e.head,e.tail)):[new L5(null,null)]}toString(){const e=["<"];return this.head&&e.push(this.head.toString()),e.push("|"),this.tail&&e.push(this.tail.toString()),e.push(">"),e.join("")}}var ggn=Object.defineProperty,vgn=(t,e,n)=>e in t?ggn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,FU=(t,e,n)=>(vgn(t,typeof e!="symbol"?e+"":e,n),n);class Jb{constructor(e,n){FU(this,"active"),FU(this,"recursives"),FU(this,"payload"),this.active=e||[],n?(this.recursives=n.recursives,this.payload=n.payload):this.recursives=[],this.extractRecursives()}setPayload(e){return this.payload=e,this}extractRecursives(){this.active=this.active.filter(e=>e.isRecursive()?(this.recursives.push(...e.extractRecursives()),!1):!0)}activeRecursives(e){return this.recursives.filter(n=>{const r=n.head;return r?r.isConstraint()||e.containerType()==="array"&&r.isIndexReference()?!0:e.containerType()==="object"?r.isAttributeReference()&&e.hasAttribute(r.name()):!1:!1})}match(e){return this.iterate(e).extractMatches(e)}iterate(e){const n=[];return this.active.concat(this.activeRecursives(e)).forEach(r=>{n.push(...r.iterate(e))}),new Jb(n,this)}isDestination(){return this.active.some(e=>e.hasArrived())}hasRecursives(){return this.recursives.length>0}extractMatches(e){const n=[],r=[];if(this.active.forEach(i=>{if(i.hasArrived()){r.push(new hd({type:"alias",target:"self"}));return}const s=i.head;if(s&&!(e.containerType()==="array"&&!s.isIndexReference())&&!(e.containerType()==="object"&&!s.isAttributeReference()))if(i.tail){const o=new Jb(i.descend(),this);s.toFieldReferences().forEach(()=>{n.push({target:s,matcher:o})})}else r.push(s)}),this.hasRecursives()){const i=new Jb([],this);if(e.containerType()==="array"){const s=e.length();for(let o=0;o<s;o++)n.push({target:hd.indexReference(o),matcher:i})}else e.containerType()==="object"&&e.attributeKeys().forEach(s=>{n.push({target:hd.attributeReference(s),matcher:i})})}return r.length>0?{leads:n,delivery:{targets:r,payload:this.payload}}:{leads:n}}static fromPath(e){const n=pWe(e);if(!n)throw new Error('Failed to parse path from "'.concat(e,'"'));const r=new L5(null,new hd(n));return new Jb(r.descend())}}function BO(t){return t!==null&&typeof t=="object"}var ygn=Object.defineProperty,bgn=(t,e,n)=>e in t?ygn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ove=(t,e,n)=>(bgn(t,typeof e!="symbol"?e+"":e,n),n);class d6{constructor(e,n){Ove(this,"_value"),Ove(this,"path"),this._value=e,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(e){return Array.isArray(this._value)?e>=this.length()?null:new d6(this._value[e],this.path.concat(e)):!1}hasAttribute(e){return BO(this._value)?this._value.hasOwnProperty(e):!1}attributeKeys(){return BO(this._value)?Object.keys(this._value):[]}getAttribute(e){if(!BO(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(e)?new d6(this._value[e],this.path.concat(e)):null}get(){return this._value}}function xgn(t,e){const n=[],r=Jb.fromPath(t).setPayload(function(o){n.push(...o)}),i=new d6(e);return vWe(r,i),n}function vWe(t,e){const{leads:n,delivery:r}=t.match(e);n.forEach(i=>{Lve(i.target,e).forEach(s=>{vWe(i.matcher,s)})}),r&&r.targets.forEach(i=>{typeof r.payload=="function"&&r.payload(Lve(i,e))})}function Lve(t,e){const n=[];if(t.isIndexReference())t.toIndicies(e).forEach(r=>{n.push(e.getIndex(r))});else if(t.isAttributeReference())n.push(e.getAttribute(t.name()));else if(t.isSelfReference())n.push(e);else throw new Error("Unable to derive accessor for target ".concat(t.toString()));return $9(n)}function wgn(t,e){return xgn(t,e).map(r=>({path:r.path,value:r.get()}))}const _gn=/^[a-z_$]+/;function yWe(t){let e="";return t.forEach((n,r)=>{e+=Cgn(n,r===0)}),e}function Cgn(t,e){if(typeof t=="number")return"[".concat(t,"]");if(BO(t)){const n=t;return Object.keys(t).map(r=>Egn(n[r])?"[".concat(r,'=="').concat(n[r],'"]'):"").join("")}return typeof t=="string"&&_gn.test(t)?e?t:".".concat(t):"['".concat(t,"']")}function Egn(t){switch(typeof t){case"number":case"string":case"boolean":return!0;default:return!1}}var Sgn=Object.defineProperty,Tgn=(t,e,n)=>e in t?Sgn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,BU=(t,e,n)=>(Tgn(t,typeof e!="symbol"?e+"":e,n),n);class kgn{constructor(e,n,r){BU(this,"id"),BU(this,"path"),BU(this,"value"),this.id=e,this.path=n,this.value=r}apply(e,n){let r=n;return e.forEach(i=>{if(i.isSelfReference())r=r.set(this.value);else if(i.isIndexReference())i.toIndicies(n).forEach(s=>{r=r.setIndex(s,this.value)});else if(i.isAttributeReference())r=r.setAttribute(i.name(),this.value);else throw new Error("Unable to apply to target ".concat(i.toString()))}),r}}var Agn=Object.defineProperty,Ign=(t,e,n)=>e in t?Agn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,NU=(t,e,n)=>(Ign(t,typeof e!="symbol"?e+"":e,n),n);function Pve(t,e){return typeof t!="number"||!Number.isFinite(t)?t:t+e}class Mve{constructor(e,n,r){NU(this,"path"),NU(this,"value"),NU(this,"id"),this.path=n,this.value=r,this.id=e}apply(e,n){let r=n;if(r.containerType()==="primitive")return r;for(const i of e){if(i.isIndexReference()){for(const s of i.toIndicies(n)){const o=r.getIndex(s);if(!o)continue;const a=o.get();r=r.setIndex(s,Pve(a,this.value))}continue}if(i.isAttributeReference()){const s=r.getAttribute(i.name());if(!s)continue;const o=s.get();r=r.setAttribute(i.name(),Pve(o,this.value));continue}throw new Error("Unable to apply to target ".concat(i.toString()))}return r}}function u$(t,e){const n=[];return t.forEach(r=>{r.isIndexReference()&&n.push(...r.toIndicies(e))}),n.sort()}var Dgn=Object.defineProperty,Rgn=(t,e,n)=>e in t?Dgn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,E4=(t,e,n)=>(Rgn(t,typeof e!="symbol"?e+"":e,n),n);class jgn{constructor(e,n,r,i){E4(this,"location"),E4(this,"path"),E4(this,"items"),E4(this,"id"),this.id=e,this.location=n,this.path=r,this.items=i}apply(e,n){let r=n;if(n.containerType()!=="array")throw new Error("Attempt to apply insert patch to non-array value");switch(this.location){case"before":{const i=Ogn(e,n);r=r.insertItemsAt(i,this.items);break}case"after":{const i=Lgn(e,n);r=r.insertItemsAt(i+1,this.items);break}case"replace":{const i=u$(e,n);r=r.unsetIndices(i),r=r.insertItemsAt(i[0],this.items);break}default:throw new Error("Unsupported location atm: ".concat(this.location))}return r}}function Ogn(t,e){let n=Fmn(u$(t,e))||0;return t.forEach(r=>{if(r.isRange()){const{start:i}=r.expandRange();i<n&&(n=i)}}),n}function Lgn(t,e){let n=Gmn(u$(t,e))||0;return t.forEach(r=>{if(r.isRange()){const{end:i}=r.expandRange();i>n&&(n=i)}}),n}var Pgn=Object.defineProperty,Mgn=(t,e,n)=>e in t?Pgn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,VU=(t,e,n)=>(Mgn(t,typeof e!="symbol"?e+"":e,n),n);class $gn{constructor(e,n,r){VU(this,"id"),VU(this,"path"),VU(this,"value"),this.id=e,this.path=n,this.value=r}apply(e,n){let r=n;return e.forEach(i=>{if(!i.isIndexReference())if(i.isAttributeReference())r.hasAttribute(i.name())||(r=n.setAttribute(i.name(),this.value));else throw new Error("Unable to apply to target ".concat(i.toString()))}),r}}var Fgn=Object.defineProperty,Bgn=(t,e,n)=>e in t?Fgn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,UU=(t,e,n)=>(Bgn(t,typeof e!="symbol"?e+"":e,n),n);class Ngn{constructor(e,n){UU(this,"id"),UU(this,"path"),UU(this,"value"),this.id=e,this.path=n}apply(e,n){let r=n;switch(n.containerType()){case"array":r=r.unsetIndices(u$(e,n));break;case"object":e.forEach(i=>{r=r.unsetAttribute(i.name())});break;default:throw new Error("Target value is neither indexable or an object. This error should potentially just be silently ignored?")}return r}}var Vgn=Object.defineProperty,Ugn=(t,e,n)=>e in t?Vgn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,HU=(t,e,n)=>(Ugn(t,typeof e!="symbol"?e+"":e,n),n);const bWe=new If.diff_match_patch;function $ve(t,e){return typeof e!="string"?e:bWe.patch_apply(t,e)[0]}class Hgn{constructor(e,n,r){HU(this,"path"),HU(this,"dmpPatch"),HU(this,"id"),this.id=e,this.path=n,this.dmpPatch=bWe.patch_fromText(r)}apply(e,n){let r=n;if(r.containerType()==="primitive")return r;for(const i of e){if(i.isIndexReference()){for(const s of i.toIndicies(n)){const o=r.getIndex(s);if(!o)continue;const a=o.get(),l=$ve(this.dmpPatch,a);r=r.setIndex(s,l)}continue}if(i.isAttributeReference()&&r.hasAttribute(i.name())){const s=r.getAttribute(i.name());if(!s)continue;const o=s.get(),a=$ve(this.dmpPatch,o);r=r.setAttribute(i.name(),a);continue}throw new Error("Unable to apply diffMatchPatch to target ".concat(i.toString()))}return r}}function xWe(t){const e=[];if(Array.isArray(t))return t.reduce((u,d)=>u.concat(xWe(d)),e);const{set:n,setIfMissing:r,unset:i,diffMatchPatch:s,inc:o,dec:a,insert:l}=t;if(n&&Object.keys(n).forEach(u=>{e.push(new kgn(t.id,u,n[u]))}),r&&Object.keys(r).forEach(u=>{e.push(new $gn(t.id,u,r[u]))}),i&&i.forEach(u=>{e.push(new Ngn(t.id,u))}),s&&Object.keys(s).forEach(u=>{e.push(new Hgn(t.id,u,s[u]))}),o&&Object.keys(o).forEach(u=>{e.push(new Mve(t.id,u,o[u]))}),a&&Object.keys(a).forEach(u=>{e.push(new Mve(t.id,u,-a[u]))}),l){let u,d;const f=l;if("before"in f)u="before",d=f.before;else if("after"in f)u="after",d=f.after;else if("replace"in f)u="replace",d=f.replace;else throw new Error("Invalid insert patch");e.push(new jgn(t.id,u,d,f.items))}return e}var zgn=Object.defineProperty,Wgn=(t,e,n)=>e in t?zgn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fve=(t,e,n)=>(Wgn(t,typeof e!="symbol"?e+"":e,n),n);class Ip{constructor(e,n){Fve(this,"_value"),Fve(this,"path"),this._value=e,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}get(){return this._value}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(e){return Array.isArray(this._value)?e>=this.length()?null:new Ip(this._value[e],this.path.concat(e)):!1}hasAttribute(e){return PS(this._value)?this._value.hasOwnProperty(e):!1}attributeKeys(){return PS(this._value)?Object.keys(this._value):[]}getAttribute(e){if(!PS(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(e)?new Ip(this._value[e],this.path.concat(e)):null}set(e){return e===this._value?this:new Ip(e,this.path)}setIndex(e,n){if(!Array.isArray(this._value))throw new Error("setIndex only applies to arrays");if(Object.is(n,this._value[e]))return this;const r=this._value.slice();return r[e]=n,new Ip(r,this.path)}setIndexAccessor(e,n){return this.setIndex(e,n.get())}unsetIndices(e){if(!Array.isArray(this._value))throw new Error("unsetIndices only applies to arrays");const n=this._value.length,r=[];for(let i=0;i<n;i++)e.indexOf(i)===-1&&r.push(this._value[i]);return new Ip(r,this.path)}insertItemsAt(e,n){if(!Array.isArray(this._value))throw new Error("insertItemsAt only applies to arrays");let r;return this._value.length===0&&e===0?r=n:r=this._value.slice(0,e).concat(n).concat(this._value.slice(e)),new Ip(r,this.path)}setAttribute(e,n){if(!PS(this._value))throw new Error("Unable to set attribute of non-object container");if(Object.is(n,this._value[e]))return this;const r=Object.assign({},this._value,{[e]:n});return new Ip(r,this.path)}setAttributeAccessor(e,n){return this.setAttribute(e,n.get())}unsetAttribute(e){if(!PS(this._value))throw new Error("Unable to unset attribute of non-object container");const n=Object.assign({},this._value);return delete n[e],new Ip(n,this.path)}}function PS(t){return t!==null&&typeof t=="object"}var Ggn=Object.defineProperty,qgn=(t,e,n)=>e in t?Ggn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ygn=(t,e,n)=>(qgn(t,typeof e!="symbol"?e+"":e,n),n);let Kgn=class{constructor(e){Ygn(this,"patches"),this.patches=xWe(e)}apply(e){const n=new Ip(e);return this.applyViaAccessor(n).get()}applyViaAccessor(e){let n=e;const r=e.getAttribute("_id");if(!r)throw new Error("Cannot apply patch to document with no _id");const i=r.get();for(const s of this.patches){if(s.id!==i)continue;const o=Jb.fromPath(s.path).setPayload(s);n=fY(o,n)}return n}};function fY(t,e){let n=e;const{leads:r,delivery:i}=t.match(e);return r.forEach(s=>{if(s.target.isIndexReference())s.target.toIndicies().forEach(o=>{const a=n.getIndex(o);if(!a)throw new Error("Index out of bounds");n=n.setIndexAccessor(o,fY(s.matcher,a))});else if(s.target.isAttributeReference()){const o=n.getAttribute(s.target.name());if(!o)return;const a=fY(s.matcher,o);o!==a&&(n=n.setAttributeAccessor(s.target.name(),a))}else throw new Error("Unable to handle target ".concat(s.target.toString()))}),i&&Zgn(i.payload)&&(n=i.payload.apply(i.targets,n)),n}function Zgn(t){return!!(t&&typeof t=="object"&&t!==null&&"apply"in t&&typeof t.apply=="function")}const Xgn=R0,Rr=Zmn("mutator-document");var Qgn=Object.defineProperty,Jgn=(t,e,n)=>e in t?Qgn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zU=(t,e,n)=>(Jgn(t,typeof e!="symbol"?e+"":e,n),n);class am{constructor(e){zU(this,"params"),zU(this,"compiled"),zU(this,"_appliesToMissingDocument"),this.params=e}get transactionId(){return this.params.transactionId}get transition(){return this.params.transition}get identity(){return this.params.identity}get previousRev(){return this.params.previousRev}get resultRev(){return this.params.resultRev}get mutations(){return this.params.mutations}get timestamp(){if(typeof this.params.timestamp=="string")return new Date(this.params.timestamp)}get effects(){return this.params.effects}assignRandomTransactionId(){this.params.transactionId=Xgn(),this.params.resultRev=this.params.transactionId}appliesToMissingDocument(){if(typeof this._appliesToMissingDocument<"u")return this._appliesToMissingDocument;const e=this.mutations[0];return e?this._appliesToMissingDocument=!!(e.create||e.createIfNotExists||e.createOrReplace):this._appliesToMissingDocument=!0,this._appliesToMissingDocument}compile(){const e=[];this.mutations.forEach(i=>{if(i.create){const s=i.create||{};e.push(o=>o||Object.assign(s,{_createdAt:s._createdAt||this.params.timestamp}));return}if(i.createIfNotExists){const s=i.createIfNotExists||{};e.push(o=>o===null?Object.assign(s,{_createdAt:s._createdAt||this.params.timestamp}):o);return}if(i.createOrReplace){const s=i.createOrReplace||{};e.push(()=>Object.assign(s,{_createdAt:s._createdAt||this.params.timestamp}));return}if(i.delete){e.push(()=>null);return}if(i.patch){if("query"in i.patch)return;const s=new Kgn(i.patch);e.push(o=>s.apply(o));return}throw new Error("Unsupported mutation ".concat(JSON.stringify(i,null,2)))}),typeof this.params.timestamp=="string"&&e.push(i=>i?Object.assign(i,{_updatedAt:this.params.timestamp}):null);const n=this.previousRev,r=this.resultRev||this.transactionId;this.compiled=i=>{if(n&&i&&n!==i._rev)throw new Error("Previous revision for this mutation was ".concat(n,", but the document revision is ").concat(i._rev));let s=i;for(const o of e)s=o(s);return s&&r&&(s===i&&(s=Object.assign({},i)),s._rev=r),s}}apply(e){Rr("Applying mutation %O to document %O",this.mutations,e),this.compiled||this.compile();const n=this.compiled(e);return Rr("  => %O",n),n}static applyAll(e,n){return n.reduce((r,i)=>i.apply(r),e)}static squash(e,n){const r=n.reduce((i,s)=>i.concat(...s.mutations),[]);return new am({mutations:r})}}var e0n=Object.defineProperty,t0n=(t,e,n)=>e in t?e0n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rh=(t,e,n)=>(t0n(t,typeof e!="symbol"?e+"":e,n),n);let n0n=class{constructor(e){rh(this,"incoming",[]),rh(this,"submitted",[]),rh(this,"pending",[]),rh(this,"HEAD"),rh(this,"EDGE"),rh(this,"onRebase"),rh(this,"onMutation"),rh(this,"onConsistencyChanged"),rh(this,"onRemoteMutation"),rh(this,"inconsistentAt",null),rh(this,"lastStagedAt",null),this.reset(e),this.HEAD=e,this.EDGE=e}reset(e){this.incoming=[],this.submitted=[],this.pending=[],this.inconsistentAt=null,this.HEAD=e,this.EDGE=e,this.considerIncoming(),this.updateConsistencyFlag()}arrive(e){this.incoming.push(e),this.considerIncoming(),this.updateConsistencyFlag()}stage(e,n){if(!e.transactionId)throw new Error("Mutations _must_ have transactionId when submitted");this.lastStagedAt=new Date,Rr("Staging mutation %s (pushed to pending)",e.transactionId),this.pending.push(e),this.EDGE=e.apply(this.EDGE),this.onMutation&&!n&&this.onMutation({mutation:e,document:this.EDGE,remote:!1});const r=e.transactionId;return this.updateConsistencyFlag(),{success:()=>{this.pendingSuccessfullySubmitted(r),this.updateConsistencyFlag()},failure:()=>{this.pendingFailed(r),this.updateConsistencyFlag()}}}isConsistent(){return!this.inconsistentAt}considerIncoming(){let e=!1,n;const r=[];if(this.HEAD&&this.HEAD._updatedAt){const s=new Date(this.HEAD._updatedAt);this.incoming.find(o=>o.timestamp&&o.timestamp<s)&&(this.incoming=this.incoming.filter(o=>o.timestamp&&o.timestamp<s))}let i=0;do{if(this.HEAD){const s=this.HEAD;n=s._rev?this.incoming.find(o=>o.previousRev===s._rev):void 0}else n=this.incoming.find(s=>s.appliesToMissingDocument());if(n){const s=this.applyIncoming(n);if(e=e||s,e&&r.push(n),i++>10)throw new Error("Mutator stuck flushing incoming mutations. Probably stuck here: ".concat(JSON.stringify(n)))}}while(n);this.incoming.length>0&&Rr.enabled&&Rr("Unable to apply mutations %s",this.incoming.map(s=>s.transactionId).join(", ")),e&&this.rebase(r)}updateConsistencyFlag(){const e=this.isConsistent(),n=this.pending.length===0&&this.submitted.length===0&&this.incoming.length===0;n?this.inconsistentAt=null:this.inconsistentAt||(this.inconsistentAt=new Date),e!=n&&this.onConsistencyChanged&&(Rr(n?"Buffered document is inconsistent":"Buffered document is consistent"),this.onConsistencyChanged(n))}applyIncoming(e){if(!e)return!1;if(!e.transactionId)throw new Error("Received incoming mutation without a transaction ID");if(Rr("Applying mutation %s -> %s to rev %s",e.previousRev,e.resultRev,this.HEAD&&this.HEAD._rev),this.HEAD=e.apply(this.HEAD),this.onRemoteMutation&&this.onRemoteMutation(e),this.incoming=this.incoming.filter(n=>n.transactionId!==e.transactionId),this.hasUnresolvedMutations()){const n=this.consumeUnresolved(e.transactionId);return Rr.enabled&&(Rr("Incoming mutation ".concat(e.transactionId," appeared while there were pending or submitted local mutations")),Rr("Submitted txnIds: ".concat(this.submitted.map(r=>r.transactionId).join(", "))),Rr("Pending txnIds: ".concat(this.pending.map(r=>r.transactionId).join(", "))),Rr("needRebase === %s",n)),n}return Rr("Remote mutation %s arrived w/o any pending or submitted local mutations",e.transactionId),this.EDGE=this.HEAD,this.onMutation&&this.onMutation({mutation:e,document:this.EDGE,remote:!0}),!1}hasUnresolvedMutations(){return this.submitted.length>0||this.pending.length>0}consumeUnresolved(e){if(this.submitted.length===0&&this.pending.length===0)return!1;if(this.submitted.length!==0){if(this.submitted[0].transactionId===e)return Rr("Remote mutation %s matches upcoming submitted mutation, consumed from 'submitted' buffer",e),this.submitted.shift(),!1}else if(this.pending.length>0&&this.pending[0].transactionId===e)return Rr("Remote mutation %s matches upcoming pending mutation, consumed from 'pending' buffer",e),this.pending.shift(),!1;return Rr("The mutation was not the upcoming mutation, scrubbing. Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),this.submitted=this.submitted.filter(n=>n.transactionId!==e),this.pending=this.pending.filter(n=>n.transactionId!==e),Rr("After scrubbing: Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),!0}pendingSuccessfullySubmitted(e){if(this.pending.length===0)return;const n=this.pending[0];if(n.transactionId===e){this.pending.shift(),this.submitted.push(n);return}let r;const i=[];this.pending.forEach(s=>{if(s.transactionId===e){r=s;return}i.push(s)}),r&&this.submitted.push(r),this.pending=i,this.rebase([])}pendingFailed(e){this.pending=this.pending.filter(n=>n.transactionId!==e),this.rebase([])}rebase(e){const n=this.EDGE;this.EDGE=am.applyAll(this.HEAD,this.submitted.concat(this.pending)),n!==null&&this.EDGE!==null&&(n._rev=this.EDGE._rev),!Ur(this.EDGE,n)&&this.onRebase&&this.onRebase(this.EDGE,e,this.pending)}};var r0n=Object.defineProperty,i0n=(t,e,n)=>e in t?r0n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ib=(t,e,n)=>(i0n(t,typeof e!="symbol"?e+"":e,n),n);class S4{constructor(e){ib(this,"BASIS"),ib(this,"PRESTAGE"),ib(this,"setOperations"),ib(this,"documentPresent"),ib(this,"out",[]),ib(this,"staged"),ib(this,"dmp"),e?Rr("Reset mutation buffer to rev %s",e._rev):Rr("Reset mutation buffer state to document being deleted"),this.staged=[],this.setOperations={},this.documentPresent=!1,this.BASIS=e,this.PRESTAGE=e,this.dmp=new If.diff_match_patch}add(e){e.mutations.forEach(n=>this.addOperation(n))}hasChanges(){return this.out.length>0||Object.keys(this.setOperations).length>0}purge(e){this.stashStagedOperations();let n=null;return this.out.length>0&&(Rr("Purged mutation buffer"),n=new am({mutations:this.out,resultRev:e,transactionId:e})),this.out=[],this.documentPresent=!1,n}addOperation(e){var n;if(e.patch&&e.patch.set&&"id"in e.patch&&e.patch.id===((n=this.PRESTAGE)==null?void 0:n._id)&&Object.keys(e.patch).length===2){const r=e.patch.set,i={};for(const s of Object.keys(r))r.hasOwnProperty(s)&&(this.optimiseSetOperation(s,r[s])||(i[s]=r[s]));Object.keys(i).length>0&&(Rr("Unoptimizable set-operation detected, purging optimization buffer"),this.staged.push({patch:{id:this.PRESTAGE._id,set:i}}),this.stashStagedOperations());return}if(e.createIfNotExists&&this.PRESTAGE&&e.createIfNotExists._id===this.PRESTAGE._id){this.documentPresent||(this.staged.push(e),this.documentPresent=!0,this.stashStagedOperations());return}Rr("Unoptimizable mutation detected, purging optimization buffer"),this.staged.push(e),this.stashStagedOperations()}optimiseSetOperation(e,n){if(typeof n=="object")return!1;const r=wgn(e,this.PRESTAGE);if(r.length!==1)return!1;const i=r[0];if(typeof i.value=="object"||!this.PRESTAGE)return!1;let s=null;if(i.value===n)s=null;else if(typeof i.value=="string"&&typeof n=="string")try{const a=this.dmp.patch_make(i.value,n).map(l=>l.toString()).join("");s={patch:{id:this.PRESTAGE._id,diffMatchPatch:{[e]:a}}}}catch{return!1}else s={patch:{id:this.PRESTAGE._id,set:{[e]:n}}};const o=yWe(i.path);return s?this.setOperations[o]=s:delete this.setOperations[o],!0}stashStagedOperations(){const e=[];Object.keys(this.setOperations).forEach(n=>{const r=this.setOperations[n];r&&e.push(r)}),e.push(...this.staged),e.length>0&&(this.PRESTAGE=new am({mutations:e}).apply(this.PRESTAGE),this.staged=[],this.setOperations={}),this.out.push(...e)}rebase(e){return this.stashStagedOperations(),e===null?(this.out=[],this.BASIS=e,this.PRESTAGE=e,this.documentPresent=!1):(this.BASIS=e,this.out?this.PRESTAGE=new am({mutations:this.out}).apply(this.BASIS):this.PRESTAGE=this.BASIS),this.PRESTAGE}}var s0n=Object.defineProperty,o0n=(t,e,n)=>e in t?s0n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,eu=(t,e,n)=>(o0n(t,typeof e!="symbol"?e+"":e,n),n);const a0n=1e3*60;class l0n{constructor(e,n){let{resolve:r,reject:i}=n;eu(this,"mutations"),eu(this,"tries"),eu(this,"resolve"),eu(this,"reject"),this.mutations=e,this.tries=0,this.resolve=r,this.reject=i}apply(e){return am.applyAll(e,this.mutations)}squash(e){const n=am.squash(e,this.mutations);return n.assignRandomTransactionId(),n}}const Bve=(t,e)=>t.concat(e.mutations);class u0n{constructor(e){eu(this,"mutations"),eu(this,"document"),eu(this,"LOCAL"),eu(this,"commits"),eu(this,"buffer"),eu(this,"onMutation"),eu(this,"onRemoteMutation"),eu(this,"onRebase"),eu(this,"onDelete"),eu(this,"onConsistencyChanged"),eu(this,"commitHandler"),eu(this,"committerRunning",!1),this.buffer=new S4(e),this.document=new n0n(e),this.document.onMutation=n=>this.handleDocMutation(n),this.document.onRemoteMutation=n=>this.onRemoteMutation&&this.onRemoteMutation(n),this.document.onRebase=(n,r,i)=>this.handleDocRebase(n,r,i),this.document.onConsistencyChanged=n=>this.handleDocConsistencyChanged(n),this.LOCAL=e,this.mutations=[],this.commits=[]}reset(e){e?Rr("Document state reset to revision %s",e._rev):Rr("Document state reset to being deleted"),this.document.reset(e),this.rebase([],[]),this.handleDocConsistencyChanged(this.document.isConsistent())}add(e){this.onConsistencyChanged&&this.onConsistencyChanged(!1),Rr("Staged local mutation"),this.buffer.add(e);const n=this.LOCAL;this.LOCAL=e.apply(this.LOCAL),this.onMutation&&n!==this.LOCAL&&(Rr("onMutation fired"),this.onMutation({mutation:e,document:this.LOCAL,remote:!1}),this.LOCAL===null&&this.onDelete&&this.onDelete(this.LOCAL))}arrive(e){if(Rr("Remote mutation arrived %s -> %s",e.previousRev,e.resultRev),e.previousRev===e.resultRev)throw new Error("Mutation ".concat(e.transactionId," has previousRev === resultRev (").concat(e.previousRev,")"));return this.document.arrive(e)}commit(){return new Promise((e,n)=>{if(!this.buffer.hasChanges()){e();return}Rr("Committing local changes");const r=this.buffer.purge();this.commits.push(new l0n(r?[r]:[],{resolve:e,reject:n})),this.buffer=new S4(this.LOCAL),this.performCommits()})}performCommits(){if(!this.commitHandler)throw new Error("No commitHandler configured for this BufferedDocument");this.committerRunning||this._cycleCommitter()}_cycleCommitter(){const e=this.commits.shift();if(!e){this.committerRunning=!1;return}this.committerRunning=!0;const n=e.squash(this.LOCAL),r=this.document.stage(n,!0),i={success:()=>{Rr("Commit succeeded"),r.success(),e.resolve(),this._cycleCommitter()},failure:()=>{Rr("Commit failed"),e.tries+=1,this.LOCAL!==null&&this.commits.unshift(e),r.failure(),e.tries<200&&setTimeout(()=>this._cycleCommitter(),Math.min(e.tries*1e3,a0n))},cancel:s=>{this.commits.forEach(o=>o.reject(s)),this.commits=[],this.reset(this.document.HEAD),this.buffer=new S4(this.LOCAL),this.committerRunning=!1}};Rr("Posting commit"),this.commitHandler&&this.commitHandler({mutation:n,success:i.success,failure:i.failure,cancel:i.cancel})}handleDocRebase(e,n,r){this.rebase(n,r)}handleDocumentDeleted(){Rr("Document deleted"),this.LOCAL!==null&&this.onDelete&&this.onDelete(this.LOCAL),this.commits=[],this.mutations=[]}handleDocMutation(e){if(this.commits.length===0&&!this.buffer.hasChanges()){Rr("Document mutated from remote with no local changes"),this.LOCAL=this.document.EDGE,this.buffer=new S4(this.LOCAL),this.onMutation&&this.onMutation(e);return}Rr("Document mutated from remote with local changes"),this.document.EDGE===null&&this.handleDocumentDeleted(),this.rebase([e.mutation],[])}rebase(e,n){Rr("Rebasing document"),this.document.EDGE===null&&this.handleDocumentDeleted();const r=this.LOCAL;this.LOCAL=this.commits.reduce((s,o)=>o.apply(s),this.document.EDGE),this.LOCAL=this.buffer.rebase(this.LOCAL),r!==null&&this.LOCAL!==null&&(r._rev=this.LOCAL._rev),!Ur(this.LOCAL,r)&&this.onRebase&&this.onRebase(this.LOCAL,e.reduce(Bve,[]),n.reduce(Bve,[]))}handleDocConsistencyChanged(e){if(!this.onConsistencyChanged)return;const n=this.commits.length>0||this.buffer.hasChanges();e&&!n&&this.onConsistencyChanged(!0),e||this.onConsistencyChanged(!1)}}var wWe={};(function(t){(function(){(t!==null?t:this).ExifReader=function(){e.prototype._MIN_DATA_BUFFER_LENGTH=2,e.prototype._JPEG_ID_SIZE=2,e.prototype._JPEG_ID=65496,e.prototype._APP_MARKER_SIZE=2,e.prototype._APP0_MARKER=65504,e.prototype._APP1_MARKER=65505,e.prototype._APP15_MARKER=65519,e.prototype._APP_ID_OFFSET=4,e.prototype._BYTES_Exif=1165519206,e.prototype._TIFF_HEADER_OFFSET=10,e.prototype._BYTE_ORDER_BIG_ENDIAN=18761,e.prototype._BYTE_ORDER_LITTLE_ENDIAN=19789;function e(){var n=this;this._getTagValueAt={1:function(r){return n._getByteAt(r)},2:function(r){return n._getAsciiAt(r)},3:function(r){return n._getShortAt(r)},4:function(r){return n._getLongAt(r)},5:function(r){return n._getRationalAt(r)},7:function(r){return n._getUndefinedAt(r)},9:function(r){return n._getSlongAt(r)},10:function(r){return n._getSrationalAt(r)}},this._tiffHeaderOffset=0}return e.prototype.load=function(n){return this.loadView(new DataView(n))},e.prototype.loadView=function(n){return this._dataView=n,this._tags={},this._checkImageHeader(),this._readTags()},e.prototype._checkImageHeader=function(){var n;if(n=this._dataView,n.byteLength<this._MIN_DATA_BUFFER_LENGTH||n.getUint16(0,!1)!==this._JPEG_ID)throw new Error("Invalid image format");if(this._parseAppMarkers(n),!this._hasExifData())throw new Error("No Exif data")},e.prototype._parseAppMarkers=function(n){var r,i,s;for(r=this._JPEG_ID_SIZE,s=[];!(n.byteLength<r+this._APP_ID_OFFSET+5);){if(this._isApp1ExifMarker(n,r))i=n.getUint16(r+this._APP_MARKER_SIZE,!1),this._tiffHeaderOffset=r+this._TIFF_HEADER_OFFSET;else if(this._isAppMarker(n,r))i=n.getUint16(r+this._APP_MARKER_SIZE,!1);else break;s.push(r+=this._APP_MARKER_SIZE+i)}return s},e.prototype._isApp1ExifMarker=function(n,r){return n.getUint16(r,!1)===this._APP1_MARKER&&n.getUint32(r+this._APP_ID_OFFSET,!1)===this._BYTES_Exif&&n.getUint8(r+this._APP_ID_OFFSET+4,!1)===0},e.prototype._isAppMarker=function(n,r){var i;return i=n.getUint16(r,!1),i>=this._APP0_MARKER&&i<=this._APP15_MARKER},e.prototype._hasExifData=function(){return this._tiffHeaderOffset!==0},e.prototype._readTags=function(){return this._setByteOrder(),this._read0thIfd(),this._readExifIfd(),this._readGpsIfd(),this._readInteroperabilityIfd()},e.prototype._setByteOrder=function(){if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_BIG_ENDIAN)return this._littleEndian=!0;if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_LITTLE_ENDIAN)return this._littleEndian=!1;throw new Error("Illegal byte order value. Faulty image.")},e.prototype._read0thIfd=function(){var n;return n=this._getIfdOffset(),this._readIfd("0th",n)},e.prototype._getIfdOffset=function(){return this._tiffHeaderOffset+this._getLongAt(this._tiffHeaderOffset+4)},e.prototype._readExifIfd=function(){var n;if(this._tags["Exif IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Exif IFD Pointer"].value,this._readIfd("exif",n)},e.prototype._readGpsIfd=function(){var n;if(this._tags["GPS Info IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["GPS Info IFD Pointer"].value,this._readIfd("gps",n)},e.prototype._readInteroperabilityIfd=function(){var n;if(this._tags["Interoperability IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Interoperability IFD Pointer"].value,this._readIfd("interoperability",n)},e.prototype._readIfd=function(n,r){var i,s,o,a;for(i=this._getShortAt(r),r+=2,a=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)s=this._readTag(n,r),this._tags[s.name]={value:s.value,description:s.description},a.push(r+=12);return a},e.prototype._readTag=function(n,r){var i,s,o,a,l,u,d;return i=this._getShortAt(r),l=this._getShortAt(r+2),s=this._getLongAt(r+4),this._typeSizes[l]*s<=4?u=this._getTagValue(r+8,l,s):(d=this._getLongAt(r+8),u=this._getTagValue(this._tiffHeaderOffset+d,l,s)),l===this._tagTypes.ASCII&&(u=this._splitNullSeparatedAsciiString(u)),this._tagNames[n][i]!=null?(this._tagNames[n][i].name!=null&&this._tagNames[n][i].description!=null?(a=this._tagNames[n][i].name,o=this._tagNames[n][i].description(u)):(a=this._tagNames[n][i],u instanceof Array?o=u.join(", "):o=u),{name:a,value:u,description:o}):{name:"undefined-"+i,value:u,description:u}},e.prototype._getTagValue=function(n,r,i){var s,o;return o=(function(){var a,l;for(l=[],a=0;0<=i?a<i:a>i;0<=i?++a:--a)s=this._getTagValueAt[r](n),n+=this._typeSizes[r],l.push(s);return l}).call(this),o.length===1?o=o[0]:r===this._tagTypes.ASCII&&(o=this._getAsciiValue(o)),o},e.prototype._getAsciiValue=function(n){var r;return function(){var i,s,o;for(o=[],i=0,s=n.length;i<s;i++)r=n[i],o.push(String.fromCharCode(r));return o}()},e.prototype._getByteAt=function(n){return this._dataView.getUint8(n)},e.prototype._getAsciiAt=function(n){return this._dataView.getUint8(n)},e.prototype._getShortAt=function(n){return this._dataView.getUint16(n,this._littleEndian)},e.prototype._getLongAt=function(n){return this._dataView.getUint32(n,this._littleEndian)},e.prototype._getRationalAt=function(n){return this._getLongAt(n)/this._getLongAt(n+4)},e.prototype._getUndefinedAt=function(n){return this._getByteAt(n)},e.prototype._getSlongAt=function(n){return this._dataView.getInt32(n,this._littleEndian)},e.prototype._getSrationalAt=function(n){return this._getSlongAt(n)/this._getSlongAt(n+4)},e.prototype._splitNullSeparatedAsciiString=function(n){var r,i,s,o,a;for(s=[],i=0,o=0,a=n.length;o<a;o++){if(r=n[o],r==="\0"){i++;continue}s[i]==null&&(s[i]=""),s[i]+=r}return s},e.prototype._typeSizes={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8},e.prototype._tagTypes={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10},e.prototype._tagNames={"0th":{256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:function(n){switch(n){case 1:return"top-left";case 2:return"top-right";case 3:return"bottom-right";case 4:return"bottom-left";case 5:return"left-top";case 6:return"right-top";case 7:return"right-bottom";case 8:return"left-bottom";default:return"Undefined"}}},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:{name:"ResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",318:"WhitePoint",319:"PrimaryChromaticities",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:function(n){switch(n){case 1:return"centered";case 2:return"co-sited";default:return"undefied "+n}}},532:"ReferenceBlackWhite",33432:{name:"Copyright",description:function(n){return n.join("; ")}},34665:"Exif IFD Pointer",34853:"GPS Info IFD Pointer"},exif:{33434:"ExposureTime",33437:"FNumber",34850:{name:"ExposureProgram",description:function(n){switch(n){case 0:return"Undefined";case 1:return"Manual";case 2:return"Normal program";case 3:return"Aperture priority";case 4:return"Shutter priority";case 5:return"Creative program";case 6:return"Action program";case 7:return"Portrait mode";case 8:return"Landscape mode";default:return"Unknown"}}},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:function(n){return"[Raw OECF table data]"}},36864:{name:"ExifVersion",description:function(n){var r,i,s,o;for(i="",s=0,o=n.length;s<o;s++)r=n[s],i+=String.fromCharCode(r);return i}},36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:{name:"ComponentsConfiguration",description:function(n){var r,i,s,o;for(i="",s=0,o=n.length;s<o;s++)switch(r=n[s],r){case 49:i+="Y";break;case 50:i+="Cb";break;case 51:i+="Cr";break;case 52:i+="R";break;case 53:i+="G";break;case 54:i+="B"}return i}},37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:{name:"MeteringMode",description:function(n){switch(n){case 1:return"Average";case 2:return"CenterWeightedAverage";case 3:return"Spot";case 4:return"MultiSpot";case 5:return"Pattern";case 6:return"Partial";case 255:return"Other";default:return"Unknown"}}},37384:{name:"LightSource",description:function(n){switch(n){case 1:return"Daylight";case 2:return"Fluorescent";case 3:return"Tungsten (incandescent light)";case 4:return"Flash";case 9:return"Fine weather";case 10:return"Cloudy weather";case 11:return"Shade";case 12:return"Daylight fluorescent (D 5700  7100K)";case 13:return"Day white fluorescent (N 4600  5400K)";case 14:return"Cool white fluorescent (W 3900  4500K)";case 15:return"White fluorescent (WW 3200  3700K)";case 17:return"Standard light A";case 18:return"Standard light B";case 19:return"Standard light C";case 20:return"D55";case 21:return"D65";case 22:return"D75";case 23:return"D50";case 24:return"ISO studio tungsten";case 255:return"Other light source";default:return"Unknown"}}},37385:{name:"Flash",description:function(n){switch(n){case 0:return"Flash did not fire";case 1:return"Flash fired";case 5:return"Strobe return light not detected";case 7:return"Strobe return light detected";case 9:return"Flash fired, compulsory flash mode";case 13:return"Flash fired, compulsory flash mode, return light not detected";case 15:return"Flash fired, compulsory flash mode, return light detected";case 16:return"Flash did not fire, compulsory flash mode";case 24:return"Flash did not fire, auto mode";case 25:return"Flash fired, auto mode";case 29:return"Flash fired, auto mode, return light not detected";case 31:return"Flash fired, auto mode, return light detected";case 32:return"No flash function";case 65:return"Flash fired, red-eye reduction mode";case 69:return"Flash fired, red-eye reduction mode, return light not detected";case 71:return"Flash fired, red-eye reduction mode, return light detected";case 73:return"Flash fired, compulsory flash mode, red-eye reduction mode";case 77:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected";case 79:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected";case 89:return"Flash fired, auto mode, red-eye reduction mode";case 93:return"Flash fired, auto mode, return light not detected, red-eye reduction mode";case 95:return"Flash fired, auto mode, return light detected, red-eye reduction mode";default:return"Unknown"}}},37386:"FocalLength",37396:{name:"SubjectArea",description:function(n){switch(n.length){case 2:return"Location; X: "+n[0]+", Y: "+n[1];case 3:return"Circle; X: "+n[0]+", Y: "+n[1]+", diameter: "+n[2];case 4:return"Rectangle; X: "+n[0]+", Y: "+n[1]+", width: "+n[2]+", height: "+n[3];default:return"Unknown"}}},37500:{name:"MakerNote",description:function(n){return"[Raw maker note data]"}},37510:{name:"UserComment",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",40960:{name:"FlashpixVersion",description:function(n){var r,i,s,o;for(i="",s=0,o=n.length;s<o;s++)r=n[s],i+=String.fromCharCode(r);return i}},40961:{name:"ColorSpace",description:function(n){switch(n){case 1:return"sRGB";case 65535:return"Uncalibrated";default:return"Unknown"}}},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:function(n){return"[Raw SFR table data]"}},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},41492:{name:"SubjectLocation",description:function(n){return"X: "+n[0]+", Y: "+n[1]}},41493:"ExposureIndex",41495:{name:"SensingMethod",description:function(n){switch(n){case 1:return"Undefined";case 2:return"One-chip color area sensor";case 3:return"Two-chip color area sensor";case 4:return"Three-chip color area sensor";case 5:return"Color sequential area sensor";case 7:return"Trilinear sensor";case 8:return"Color sequential linear sensor";default:return"Unknown"}}},41728:{name:"FileSource",description:function(n){switch(n){case 3:return"DSC";default:return"Unknown"}}},41729:{name:"SceneType",description:function(n){switch(n){case 1:return"A directly photographed image";default:return"Unknown"}}},41730:{name:"CFAPattern",description:function(n){return"[Raw CFA pattern table data]"}},41985:{name:"CustomRendered",description:function(n){switch(n){case 0:return"Normal process";case 1:return"Custom process";default:return"Unknown"}}},41986:{name:"ExposureMode",description:function(n){switch(n){case 0:return"Auto exposure";case 1:return"Manual exposure";case 2:return"Auto bracket";default:return"Unknown"}}},41987:{name:"WhiteBalance",description:function(n){switch(n){case 0:return"Auto white balance";case 1:return"Manual white balance";default:return"Unknown"}}},41988:{name:"DigitalZoomRatio",description:function(n){switch(n){case 0:return"Digital zoom was not used";default:return n}}},41989:{name:"FocalLengthIn35mmFilm",description:function(n){switch(n){case 0:return"Unknown";default:return n}}},41990:{name:"SceneCaptureType",description:function(n){switch(n){case 0:return"Standard";case 1:return"Landscape";case 2:return"Portrait";case 3:return"Night scene";default:return"Unknown"}}},41991:{name:"GainControl",description:function(n){switch(n){case 0:return"None";case 1:return"Low gain up";case 2:return"High gain up";case 3:return"Low gain down";case 4:return"High gain down";default:return"Unknown"}}},41992:{name:"Contrast",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41993:{name:"Saturation",description:function(n){switch(n){case 0:return"Normal";case 1:return"Low saturation";case 2:return"High saturation";default:return"Unknown"}}},41994:{name:"Sharpness",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41995:{name:"DeviceSettingDescription",description:function(n){return"[Raw device settings table data]"}},41996:{name:"SubjectDistanceRange",description:function(n){switch(n){case 1:return"Macro";case 2:return"Close view";case 3:return"Distant view";default:return"Unknown"}}},42016:"ImageUniqueID"},gps:{0:{name:"GPSVersionID",description:function(n){var r,i;return n[0]===(r=n[1])&&r===2&&n[2]===(i=n[3])&&i===0?"Version 2.2":"Unknown"}},1:{name:"GPSLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},2:{name:"GPSLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},3:{name:"GPSLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},4:{name:"GPSLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},5:{name:"GPSAltitudeRef",description:function(n){switch(n){case 0:return"Sea level";case 1:return"Sea level reference (negative value)";default:return"Unknown"}}},6:{name:"GPSAltitude",description:function(n){return n+" m"}},7:{name:"GPSTimeStamp",description:function(n){var r;return r=function(i){return function(){var s,o,a;for(a=[],s=0,o=2-(""+Math.floor(i)).length;0<=o?s<o:s>o;0<=o?++s:--s)a.push("0");return a}()+i},n.map(r).join(":")}},8:"GPSSatellites",9:{name:"GPSStatus",description:function(n){switch(n.join("")){case"A":return"Measurement in progress";case"V":return"Measurement Interoperability";default:return"Unknown"}}},10:{name:"GPSMeasureMode",description:function(n){switch(n.join("")){case"2":return"2-dimensional measurement";case"3":return"3-dimensional measurement";default:return"Unknown"}}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:function(n){switch(n.join("")){case"K":return"Kilometers per hour";case"M":return"Miles per hour";case"N":return"Knots";default:return"Unknown"}}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},20:{name:"GPSDestLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},21:{name:"GPSDestLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},22:{name:"GPSDestLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},23:{name:"GPSDestBearingRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:function(n){switch(n.join("")){case"K":return"Kilometers";case"M":return"Miles";case"N":return"Knots";default:return"Unknown"}}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},28:{name:"GPSAreaInformation",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},29:"GPSDateStamp",30:{name:"GPSDifferential",description:function(n){switch(n){case 0:return"Measurement without differential correction";case 1:return"Differential correction applied";default:return"Unknown"}}}},interoperability:{1:"InteroperabilityIndex",2:"UnknownInteroperabilityTag0x0002",4097:"UnknownInteroperabilityTag0x1001",4098:"UnknownInteroperabilityTag0x1002"}},e.prototype.getTagValue=function(n){if(this._tags[n]!=null)return this._tags[n].value},e.prototype.getTagDescription=function(n){if(this._tags[n]!=null)return this._tags[n].description},e.prototype.getAllTags=function(){return this._tags},e}()}).call(co)})(wWe);var c0n=wWe.ExifReader,d0n=function(t){var e=new c0n;e.load(t);var n=e.getAllTags(),r={};for(var i in n)r[f0n(i)]=n[i].description;return r};function f0n(t){return t.replace(/([A-Z][a-z])|([a-z][A-Z])|([A-Z])/g,function(e){return e.length==1?e.toLowerCase():e[0]==e[0].toUpperCase()?" "+e.toLowerCase():e[0]+" "+e[1].toLowerCase()}).replace(/^\s+|\s+$/g,"")}const h0n=vt(d0n);var p0n=my,m0n=hy,g0n=py;function v0n(t){return function(e,n,r){var i=Object(e);if(!m0n(e)){var s=p0n(n);e=g0n(e),n=function(a){return s(i[a],a,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var y0n=v0n,b0n=y0n,x0n=gze,w0n=b0n(x0n),_0n=w0n;const _We=vt(_0n);var C0n=Math.ceil,E0n=Math.max;function S0n(t,e,n,r){for(var i=-1,s=E0n(C0n((e-t)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=t,t+=n;return o}var T0n=S0n,k0n=T0n,A0n=Ree,WU=mze;function I0n(t){return function(e,n,r){return r&&typeof r!="number"&&A0n(e,n,r)&&(n=r=void 0),e=WU(e),n===void 0?(n=e,e=0):n=WU(n),r=r===void 0?e<n?1:-1:WU(r),k0n(e,n,r,t)}}var D0n=I0n,R0n=D0n,j0n=R0n(),O0n=j0n;const Rne=vt(O0n);var CWe={exports:{}};(function(t){(function(e){var n={:"A",:"A",:"A",:"A",:"Ae",:"A",:"AE",:"C",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"D",:"N",:"O",:"O",:"O",:"O",:"Oe",:"O",:"O",:"U",:"U",:"U",:"Ue",:"U",:"Y",:"TH",:"ss",:"a",:"a",:"a",:"a",:"ae",:"a",:"ae",:"c",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"d",:"n",:"o",:"o",:"o",:"o",:"oe",:"o",:"o",:"u",:"u",:"u",:"ue",:"u",:"y",:"th",:"y","":"SS",:"a",:"a",:"i",:"aa",:"u",:"e",:"a",:"b",:"t",:"th",:"j",:"h",:"kh",:"d",:"th",:"r",:"z",:"s",:"sh",:"s",:"dh",:"t",:"z",:"a",:"gh",:"f",:"q",:"k",:"l",:"m",:"n",:"h",:"w",:"y",:"a",:"h",:"la",:"laa",:"lai",:"laa",:"g",:"ch",:"p",:"zh",:"k",:"y","":"a","":"an","":"e","":"en","":"u","":"on","":"","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"k",:"kh",:"g",:"ga",:"ng",:"s",:"sa",:"z","":"za",:"ny",:"t",:"ta",:"d",:"da",:"na",:"t",:"ta",:"d",:"da",:"n",:"p",:"pa",:"b",:"ba",:"m",:"y",:"ya",:"l",:"w",:"th",:"h",:"la",:"a","":"y","":"ya","":"w","":"yw","":"ywa","":"h",:"e","":"-e",:"i",:"-i",:"u",:"-u",:"aw","":"aw",:"aw","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"","":"","":"",:"c",:"d",:"e",:"n",:"r",:"s",:"t",:"u",:"z",:"C",:"D",:"E",:"N",:"R",:"S",:"T",:"U",:"Z",:"h",:"sh",:"n",:"r",:"b",:"lh",:"k",:"a",:"v",:"m",:"f",:"dh",:"th",:"l",:"g",:"gn",:"s",:"d",:"z",:"t",:"y",:"p",:"j",:"ch",:"tt",:"hh",:"kh",:"th",:"z",:"sh",:"s",:"d",:"t",:"z",:"a",:"gh",:"q",:"w","":"a","":"aa","":"i","":"ee","":"u","":"oo","":"e","":"ey","":"o","":"oa","":"",:"a",:"b",:"g",:"d",:"e",:"v",:"z",:"t",:"i",:"k",:"l",:"m",:"n",:"o",:"p",:"zh",:"r",:"s",:"t",:"u",:"p",:"k",:"gh",:"q",:"sh",:"ch",:"ts",:"dz",:"ts",:"ch",:"kh",:"j",:"h",:"a",:"v",:"g",:"d",:"e",:"z",:"i",:"th",:"i",:"k",:"l",:"m",:"n",:"ks",:"o",:"p",:"r",:"s",:"t",:"y",:"f",:"x",:"ps",:"o",:"a",:"e",:"i",:"o",:"y",:"i",:"o",:"s",:"i",:"y",:"y",:"i",:"A",:"B",:"G",:"D",:"E",:"Z",:"I",:"TH",:"I",:"K",:"L",:"M",:"N",:"KS",:"O",:"P",:"R",:"S",:"T",:"Y",:"F",:"X",:"PS",:"O",:"A",:"E",:"I",:"O",:"Y",:"I",:"O",:"I",:"Y",:"a",:"e",:"g",:"i",:"k",:"l",:"n",:"u",:"A",:"E",:"G",:"I",:"k",:"L",:"N",:"U",:"Kj",:"kj",:"Lj",:"lj",:"Nj",:"nj",:"Ts",:"ts",:"a",:"c",:"e",:"l",:"n",:"s",:"z",:"z",:"A",:"C",:"E",:"L",:"N",:"S",:"Z",:"Z",:"Ye",:"I",:"Yi",:"G",:"ye",:"i",:"yi",:"g",:"a",:"A",:"s",:"S",:"t",:"T",:"t",:"T",:"a",:"b",:"v",:"g",:"d",:"e",:"yo",:"zh",:"z",:"i",:"i",:"k",:"l",:"m",:"n",:"o",:"p",:"r",:"s",:"t",:"u",:"f",:"kh",:"c",:"ch",:"sh",:"sh",:"",:"y",:"",:"e",:"yu",:"ya",:"A",:"B",:"V",:"G",:"D",:"E",:"Yo",:"Zh",:"Z",:"I",:"I",:"K",:"L",:"M",:"N",:"O",:"P",:"R",:"S",:"T",:"U",:"F",:"Kh",:"C",:"Ch",:"Sh",:"Sh",:"",:"Y",:"",:"E",:"Yu",:"Ya",:"dj",:"j",:"c",:"dz",:"Dj",:"j",:"C",:"Dz",:"l",:"l",:"r",:"L",:"L",:"R",:"s",:"S",:"i",:"I",:"g",:"G",:"a",:"A",:"a",:"A",:"a",:"A",:"d",:"D",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"o",:"o",:"o",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"o",:"i",:"I",:"i",:"I",:"i",:"i",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"",:"y",:"y",:"y",:"Y",:"y",:"Y",:"y",:"Y",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"10","":"11","":"12","":"13","":"14","":"15","":"16","":"17","":"18","":"18","":"18","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"10","":"0","":"11","":"12","":"13","":"14","":"15","":"16","":"17","":"18","":"19","":"20","":"A","":"B","":"C","":"D","":"E","":"F","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"Q","":"R","":"S","":"T","":"U","":"V","":"W","":"X","":"Y","":"Z","":"a","":"b","":"c","":"d","":"e","":"f","":"g","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"q","":"r","":"s","":"t","":"u","":"v","":"w","":"x","":"y","":"z","":'"',"":'"',"":"'","":"'","":"d",:"f","":"(TM)","":"(C)",:"oe",:"OE","":"(R)","":"+","":"(SM)","":"...","":"o",:"o",:"a","":"*","":",","":".",$:"USD","":"EUR","":"BRN","":"FRF","":"GBP","":"ITL","":"NGN","":"ESP","":"KRW","":"ILS","":"VND","":"LAK","":"MNT","":"GRD","":"ARS","":"PYG","":"ARA","":"UAH","":"GHS","":"cent","":"CNY",:"CNY",:"YEN","":"IRR","":"EWE","":"THB","":"INR","":"INR","":"PF","":"TRY","":"AFN","":"AZN",:"BGN","":"KHR","":"CRC","":"KZT",:"MKD",z:"PLN","":"RUB","":"GEL"},r=["",""],i={"":"a","":"a","":"e","":"e","":"i","":"i","":"o","":"u","":"u","":"aung","":"aw","":"aw","":"aw","":"aw","":"","":"et","":"aik","":"auk","":"in","":"aing","":"aung","":"it","":"i","":"at","":"eik","":"ok","":"ut","":"it","":"d","":"ok","":"ait","":"an","":"an","":"ein","":"on","":"un","":"at","":"eik","":"ok","":"ut","":"nub","":"an","":"ein","":"on","":"un","":"e","":"ol","":"in","":"an","":"ein","":"on","":"ah","":"ah"},s={en:{},az:{:"c",:"e",:"g",:"i",:"o",:"s",:"u",:"C",:"E",:"G",:"I",:"O",:"S",:"U"},cs:{:"c",:"d",:"e",:"n",:"r",:"s",:"t",:"u",:"z",:"C",:"D",:"E",:"N",:"R",:"S",:"T",:"U",:"Z"},fi:{:"a",:"A",:"o",:"O"},hu:{:"a",:"A",:"o",:"O",:"u",:"U",:"u",:"U"},lt:{:"a",:"c",:"e",:"e",:"i",:"s",:"u",:"u",:"z",:"A",:"C",:"E",:"E",:"I",:"S",:"U",:"U"},lv:{:"a",:"c",:"e",:"g",:"i",:"k",:"l",:"n",:"s",:"u",:"z",:"A",:"C",:"E",:"G",:"i",:"k",:"L",:"N",:"S",:"u",:"Z"},pl:{:"a",:"c",:"e",:"l",:"n",:"o",:"s",:"z",:"z",:"A",:"C",:"e",:"L",:"N",:"O",:"S",:"Z",:"Z"},sv:{:"a",:"A",:"o",:"O"},sk:{:"a",:"A"},sr:{:"lj",:"nj",:"Lj",:"Nj",:"dj",:"Dj"},tr:{:"U",:"O",:"u",:"o"}},o={ar:{"":"delta","":"la-nihaya","":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","":"majmou","":"omla"},az:{},ca:{"":"delta","":"infinit","":"amor","&":"i","|":"o","<":"menys que",">":"mes que","":"suma dels","":"moneda"},cs:{"":"delta","":"nekonecno","":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","":"soucet","":"mena"},de:{"":"delta","":"unendlich","":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","":"Summe von","":"Waehrung"},dv:{"":"delta","":"kolunulaa","":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","":"jumula","":"faisaa"},en:{"":"delta","":"infinity","":"love","&":"and","|":"or","<":"less than",">":"greater than","":"sum","":"currency"},es:{"":"delta","":"infinito","":"amor","&":"y","|":"u","<":"menos que",">":"mas que","":"suma de los","":"moneda"},fa:{"":"delta","":"bi-nahayat","":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","":"majmooe","":"vahed"},fi:{"":"delta","":"aarettomyys","":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","":"summa","":"valuutta"},fr:{"":"delta","":"infiniment","":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","":"somme des","":"monnaie"},ge:{"":"delta","":"usasruloba","":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","":"jami","":"valuta"},gr:{},hu:{"":"delta","":"vegtelen","":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","":"szumma","":"penznem"},it:{"":"delta","":"infinito","":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","":"somma","":"moneta"},lt:{"":"delta","":"begalybe","":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","":"suma","":"valiuta"},lv:{"":"delta","":"bezgaliba","":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","":"summa","":"valuta"},my:{"":"kwahkhyaet","":"asaonasme","":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","":"paungld","":"ngwekye"},mk:{},nl:{"":"delta","":"oneindig","":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","":"som","":"valuta"},pl:{"":"delta","":"nieskonczonosc","":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","":"suma","":"waluta"},pt:{"":"delta","":"infinito","":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","":"soma","":"moeda"},ro:{"":"delta","":"infinit","":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","":"suma","":"valuta"},ru:{"":"delta","":"beskonechno","":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","":"summa","":"valjuta"},sk:{"":"delta","":"nekonecno","":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","":"sucet","":"mena"},sr:{},tr:{"":"delta","":"sonsuzluk","":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","":"toplam","":"para birimi"},uk:{"":"delta","":"bezkinechnist","":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","":"suma","":"valjuta"},vn:{"":"delta","":"vo cuc","":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","":"tong","":"tien te"}},a=[";","?",":","@","&","=","+","$",",","/"].join(""),l=[";","?",":","@","&","=","+","$",","].join(""),u=[".","!","~","*","'","(",")"].join(""),d=function(v,y){var x="-",b="",_="",C=!0,S={},T,A,k,I,D,R,O,L,P,$,B,Q,V,Z,ie="";if(typeof v!="string")return"";if(typeof y=="string"&&(x=y),O=o.en,L=s.en,typeof y=="object"){T=y.maintainCase||!1,S=y.custom&&typeof y.custom=="object"?y.custom:S,k=+y.truncate>1&&y.truncate||!1,I=y.uric||!1,D=y.uricNoSlash||!1,R=y.mark||!1,C=!(y.symbols===!1||y.lang===!1),x=y.separator||x,I&&(ie+=a),D&&(ie+=l),R&&(ie+=u),O=y.lang&&o[y.lang]&&C?o[y.lang]:C?o.en:{},L=y.lang&&s[y.lang]?s[y.lang]:y.lang===!1||y.lang===!0?{}:s.en,y.titleCase&&typeof y.titleCase.length=="number"&&Array.prototype.toString.call(y.titleCase)?(y.titleCase.forEach(function(J){S[J+""]=J+""}),A=!0):A=!!y.titleCase,y.custom&&typeof y.custom.length=="number"&&Array.prototype.toString.call(y.custom)&&y.custom.forEach(function(J){S[J+""]=J+""}),Object.keys(S).forEach(function(J){var X;J.length>1?X=new RegExp("\\b"+h(J)+"\\b","gi"):X=new RegExp(h(J),"gi"),v=v.replace(X,S[J])});for(B in S)ie+=B}for(ie+=x,ie=h(ie),v=v.replace(/(^\s+|\s+$)/g,""),V=!1,Z=!1,$=0,Q=v.length;$<Q;$++)B=v[$],p(B,S)?V=!1:L[B]?(B=V&&L[B].match(/[A-Za-z0-9]/)?" "+L[B]:L[B],V=!1):B in n?($+1<Q&&r.indexOf(v[$+1])>=0?(_+=B,B=""):Z===!0?(B=i[_]+n[B],_=""):B=V&&n[B].match(/[A-Za-z0-9]/)?" "+n[B]:n[B],V=!1,Z=!1):B in i?(_+=B,B="",$===Q-1&&(B=i[_]),Z=!0):O[B]&&!(I&&a.indexOf(B)!==-1)&&!(D&&l.indexOf(B)!==-1)?(B=V||b.substr(-1).match(/[A-Za-z0-9]/)?x+O[B]:O[B],B+=v[$+1]!==void 0&&v[$+1].match(/[A-Za-z0-9]/)?x:"",V=!0):(Z===!0?(B=i[_]+B,_="",Z=!1):V&&(/[A-Za-z0-9]/.test(B)||b.substr(-1).match(/A-Za-z0-9]/))&&(B=" "+B),V=!1),b+=B.replace(new RegExp("[^\\w\\s"+ie+"_-]","g"),x);return A&&(b=b.replace(/(\w)(\S*)/g,function(J,X,fe){var ue=X.toUpperCase()+(fe!==null?fe:"");return Object.keys(S).indexOf(ue.toLowerCase())<0?ue:ue.toLowerCase()})),b=b.replace(/\s+/g,x).replace(new RegExp("\\"+x+"+","g"),x).replace(new RegExp("(^\\"+x+"+|\\"+x+"+$)","g"),""),k&&b.length>k&&(P=b.charAt(k)===x,b=b.slice(0,k),P||(b=b.slice(0,b.lastIndexOf(x)))),!T&&!A&&(b=b.toLowerCase()),b},f=function(v){return function(x){return d(x,v)}},h=function(v){return v.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},p=function(g,v){for(var y in v)if(v[y]===g)return!0};if(t.exports)t.exports=d,t.exports.createSlug=f;else try{if(e.getSlug||e.createSlug)throw"speakingurl: globals exists /(getSlug|createSlug)/";e.getSlug=d,e.createSlug=f}catch{}})(co)})(CWe);var L0n=CWe.exports,P0n=L0n;const EWe=vt(P0n);var M0n=ZC,$0n=Ree;function F0n(t){return M0n(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&$0n(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var B0n=F0n,N0n=eE,V0n=B0n,U0n=py,H0n=V0n(function(t,e,n,r){N0n(e,U0n(e),t,r)}),z0n=H0n;const W0n=vt(z0n);var G0n=Tm;function q0n(t,e){return G0n(e,function(n){return t[n]})}var Y0n=q0n,K0n=Y0n,Z0n=py;function X0n(t){return t==null?[]:K0n(t,Z0n(t))}var SWe=X0n;const Q0n=vt(SWe);var Gx={};Object.defineProperty(Gx,"__esModule",{value:!0});Gx.SKIP=kWe;var TWe=Gx.reduce=AWe;Gx.withCustomPathSegment=Gx.SKIP_MARKER=void 0;function jne(t,e){return t1n(t)||e1n(t,e)||J0n()}function J0n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function e1n(t,e){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}function t1n(t){if(Array.isArray(t))return t}function NO(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?NO=function(n){return typeof n}:NO=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},NO(t)}function c$(t,e,n){return e}function n1n(t){return Array.isArray(t)?"array":t===null?"null":NO(t)}var One={_:"SKIP_MARKER"};Gx.SKIP_MARKER=One;function kWe(t){return[One,t]}function Lne(t,e,n,r){var i=e(t,n,r);return i===kWe?[!0,t]:Array.isArray(i)&&i[0]===One?[!0,i[1]]:[!1,i]}function r1n(t,e,n,r){var i=Lne(t,e,n,r),s=jne(i,2),o=s[1];return o}function i1n(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:c$,s=Lne(t,e,n,r),o=jne(s,2),a=o[0],l=o[1];return a?l:Object.keys(n).reduce(function(u,d){return Pne(u,e,n[d],r.concat(i(n[d],d,n)),i)},l)}function s1n(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:c$,s=Lne(t,e,n,r),o=jne(s,2),a=o[0],l=o[1];return a?l:n.reduce(function(u,d,f){return Pne(u,e,d,r.concat(i(d,f,n)),i)},l)}function Pne(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:c$,s=n1n(n);return s==="object"?i1n(t,e,n,r,i):s==="array"?s1n(t,e,n,r,i):r1n(t,e,n,r)}function AWe(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:c$;return Pne(n,e,t,[],r)}var o1n=function(e){return function(n,r,i){return AWe(n,r,i,e)}};Gx.withCustomPathSegment=o1n;function IWe(t){return e=>Ls(()=>{const n=new Pi;return e.pipe(RFe(()=>n,{leading:!0,trailing:!0}),kFe((r,i)=>gFe(t(r,i),Bh).pipe(AFe(()=>{n.next()}))))})}var a1n=Object.defineProperty,l1n=(t,e,n)=>e in t?a1n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Nve=(t,e,n)=>(l1n(t,typeof e!="symbol"?e+"":e,n),n);function u1n(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function c1n(t){const e=[];for(const n of t.split("."))n==="*"?e.push("[^.]+"):n==="**"?e.push(".*"):e.push(u1n(n));return new RegExp("^".concat(e.join("."),"$"))}class DWe{constructor(e){Nve(this,"pattern"),Nve(this,"patternRe"),this.pattern=e,this.patternRe=c1n(e)}matches(e){return this.patternRe.test(e)}toJSON(){return this.pattern}}var d1n=Object.defineProperty,f1n=(t,e,n)=>e in t?d1n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,MS=(t,e,n)=>(f1n(t,typeof e!="symbol"?e+"":e,n),n);class J1{constructor(e){MS(this,"type","stream"),MS(this,"generator"),MS(this,"ticker"),MS(this,"isDone"),MS(this,"data"),this.generator=e,this.ticker=null,this.isDone=!1,this.data=[]}isArray(){return!0}async get(){const e=[];for await(const n of this)e.push(await n.get());return e}async*[Symbol.asyncIterator](){let e=0;for(;;){for(;e<this.data.length;e++)yield this.data[e];if(this.isDone)return;await this._nextTick()}}_nextTick(){if(this.ticker)return this.ticker;let e;const n=()=>{this.ticker=new Promise(s=>{e=s})},r=()=>{e(),n()},i=async()=>{for await(const s of this.generator())this.data.push(s),r();this.isDone=!0,r()};return n(),i(),this.ticker}}const h1n=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|([-+]\d{2}:\d{2}))$/;function p1n(t){return h1n.test(t)?new Date(t):null}function m1n(t){const e=sb(t.getUTCFullYear(),4),n=sb(t.getUTCMonth()+1,2),r=sb(t.getUTCDate(),2),i=sb(t.getUTCHours(),2),s=sb(t.getUTCMinutes(),2),o=sb(t.getUTCSeconds(),2);let a="";const l=t.getMilliseconds();return l!=0&&(a=".".concat(sb(l,3))),"".concat(e,"-").concat(n,"-").concat(r,"T").concat(i,":").concat(s,":").concat(o).concat(a,"Z")}function sb(t,e){let n=t.toString();for(;n.length<e;)n="0".concat(n);return n}var g1n=Object.defineProperty,v1n=(t,e,n)=>e in t?g1n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hY=(t,e,n)=>(v1n(t,typeof e!="symbol"?e+"":e,n),n);class P0{constructor(e,n){hY(this,"data"),hY(this,"type"),this.data=e,this.type=n}isArray(){return this.type==="array"}async get(){return this.data}[Symbol.asyncIterator](){if(Array.isArray(this.data))return function*(e){for(const n of e)yield Rs(n)}(this.data);throw new Error("Cannot iterate over: ".concat(this.type))}}const kt=new P0(null,"null"),Ga=new P0(!0,"boolean"),la=new P0(!1,"boolean");class ZA{constructor(e){hY(this,"date"),this.date=e}static parseToValue(e){const n=p1n(e);return n?new P0(new ZA(n),"datetime"):kt}equals(e){return this.date.getTime()==e.date.getTime()}add(e){const n=new Date(this.date.getTime());return n.setTime(n.getTime()+e*1e3),new ZA(n)}difference(e){return(this.date.getTime()-e.date.getTime())/1e3}compareTo(e){return this.date.getTime()-e.date.getTime()}toString(){return m1n(this.date)}toJSON(){return this.toString()}}function Df(t){return Number.isFinite(t)?new P0(t,"number"):kt}function Rf(t){return new P0(t,"string")}function Vve(t){return new P0(t,"datetime")}function y1n(t){return new P0(t,"path")}function b1n(t){return t&&typeof t.next=="function"}function Rs(t){return b1n(t)?new J1(async function*(){for await(const e of t)yield Rs(e)}):t==null?kt:new P0(t,nC(t))}function nC(t){return t===null||typeof t>"u"?"null":Array.isArray(t)?"array":t instanceof DWe?"path":t instanceof ZA?"datetime":typeof t}function GU(t,e){return t.type==="string"&&e.type==="string"||t.type==="boolean"&&e.type==="boolean"||t.type==="null"&&e.type==="null"||t.type==="number"&&e.type==="number"?t.data===e.data:t.type==="datetime"&&e.type==="datetime"?t.data.equals(e.data):!1}const x1n=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,w1n=/([^!@#$%^&(),\\/?";:{}|[\]+<>\s-])+/g,RWe=/(\b\.+|\.+\b)/g,_1n=1024;function C1n(t,e){return t.length===0||e.length===0?!1:e.every(n=>n(t))}function jWe(t){return t.replace(RWe,"").match(x1n)||[]}function E1n(t){return OWe(t).map(n=>r=>r.some(i=>n.test(i)))}function OWe(t){return(t.replace(RWe,"").match(w1n)||[]).map(n=>new RegExp("^".concat(n.slice(0,_1n).replace(/\*/g,".*"),"$"),"i"))}async function f6(t,e){if(t.type==="string")return e(t.data),!0;if(t.isArray()){let n=!0;for await(const r of t)r.type==="string"?e(r.data):n=!1;return n}return!1}const Uve={datetime:1,number:2,string:3,boolean:4};function ex(t,e){const n=nC(t),r=nC(e);if(n!==r)return null;switch(n){case"number":case"boolean":return t-e;case"string":return t<e?-1:t>e?1:0;case"datetime":return t.compareTo(e);default:return null}}function S1n(t,e){const n=nC(t),r=nC(e),i=Uve[n]||100,s=Uve[r]||100;if(i!==s)return i-s;let o=ex(t,e);return o===null&&(o=0),o}const T1n={"==":function(e,n){return GU(e,n)?Ga:la},"!=":function(e,n){return GU(e,n)?la:Ga},">":function(e,n){if(e.type==="stream"||n.type==="stream")return kt;const r=ex(e.data,n.data);return r===null?kt:r>0?Ga:la},">=":function(e,n){if(e.type==="stream"||n.type==="stream")return kt;const r=ex(e.data,n.data);return r===null?kt:r>=0?Ga:la},"<":function(e,n){if(e.type==="stream"||n.type==="stream")return kt;const r=ex(e.data,n.data);return r===null?kt:r<0?Ga:la},"<=":function(e,n){if(e.type==="stream"||n.type==="stream")return kt;const r=ex(e.data,n.data);return r===null?kt:r<=0?Ga:la},in:async function(e,n){if(n.type==="path")return e.type!=="string"?kt:n.data.matches(e.data)?Ga:la;if(n.isArray()){for await(const r of n)if(GU(e,r))return Ga;return la}return kt},match:async function(e,n){let r=[],i=[];return await f6(e,a=>{r=r.concat(jWe(a))}),await f6(n,a=>{i=i.concat(E1n(a))})&&C1n(r,i)?Ga:la},"+":function(e,n){return e.type==="datetime"&&n.type==="number"?Vve(e.data.add(n.data)):e.type==="number"&&n.type==="number"?Df(e.data+n.data):e.type==="string"&&n.type==="string"?Rf(e.data+n.data):e.type==="object"&&n.type==="object"?Rs({...e.data,...n.data}):e.type==="array"&&n.type==="array"?Rs(e.data.concat(n.data)):e.isArray()&&n.isArray()?new J1(async function*(){for await(const r of e)yield r;for await(const r of n)yield r}):kt},"-":function(e,n){return e.type==="datetime"&&n.type==="number"?Vve(e.data.add(-n.data)):e.type==="datetime"&&n.type==="datetime"?Df(e.data.difference(n.data)):e.type==="number"&&n.type==="number"?Df(e.data-n.data):kt},"*":T4((t,e)=>t*e),"/":T4((t,e)=>t/e),"%":T4((t,e)=>t%e),"**":T4((t,e)=>Math.pow(t,e))};function T4(t){return function(e,n){if(e.type==="number"&&n.type==="number"){const r=t(e.data,n.data);return Df(r)}return kt}}var k1n=Object.defineProperty,A1n=(t,e,n)=>e in t?k1n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,f2=(t,e,n)=>(A1n(t,typeof e!="symbol"?e+"":e,n),n);class XA{constructor(e,n,r,i,s){f2(this,"params"),f2(this,"source"),f2(this,"value"),f2(this,"parent"),f2(this,"context"),f2(this,"isHidden",!1),this.params=e,this.source=n,this.value=r,this.context=i,this.parent=s}createNested(e){return this.isHidden?new XA(this.params,this.source,e,this.context,this.parent):new XA(this.params,this.source,e,this.context,this)}createHidden(e){const n=this.createNested(e);return n.isHidden=!0,n}}function Mne(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Mne;const r=I1n[t.type];return r(t,e,n)}function Hve(t,e){return"then"in t?t.then(e):e(t)}const I1n={This(t,e){return e.value},Selector(){throw new Error("Selectors can not be evaluated")},Everything(t,e){return e.source},Parameter(t,e){let{name:n}=t;return Rs(e.params[n])},Context(t,e){let{key:n}=t;if(n==="before"||n==="after")return e.context[n]||kt;throw new Error("unknown context key: ".concat(n))},Parent(t,e){let{n}=t,r=e;for(let i=0;i<n;i++){if(!r.parent)return kt;r=r.parent}return r.value},OpCall(t,e,n){let{op:r,left:i,right:s}=t;const o=T1n[r];if(!o)throw new Error("Unknown operator: ".concat(r));const a=n(i,e),l=n(s,e);return"then"in a||"then"in l?(async()=>o(await a,await l))():o(a,l)},async Select(t,e,n){let{alternatives:r,fallback:i}=t;for(const s of r){const o=await n(s.condition,e);if(o.type==="boolean"&&o.data===!0)return n(s.value,e)}return i?n(i,e):kt},async InRange(t,e,n){let{base:r,left:i,right:s,isInclusive:o}=t;const a=await n(r,e),l=await n(i,e),u=await n(s,e),d=ex(await a.get(),await l.get());if(d===null)return kt;const f=ex(await a.get(),await u.get());return f===null?kt:o?d>=0&&f<=0?Ga:la:d>=0&&f<0?Ga:la},async Filter(t,e,n){let{base:r,expr:i}=t;const s=await n(r,e);return s.isArray()?new J1(async function*(){for await(const o of s){const a=e.createNested(o),l=await n(i,a);l.type==="boolean"&&l.data===!0&&(yield o)}}):kt},async Projection(t,e,n){let{base:r,expr:i}=t;const s=await n(r,e);if(s.type!=="object")return kt;const o=e.createNested(s);return n(i,o)},FuncCall(t,e,n){let{func:r,args:i}=t;return r(i,e,n)},async PipeFuncCall(t,e,n){let{func:r,base:i,args:s}=t;const o=await n(i,e);return r(o,s,e,n)},async AccessAttribute(t,e,n){let{base:r,name:i}=t,s=e.value;return r&&(s=await n(r,e)),s.type==="object"&&s.data.hasOwnProperty(i)?Rs(s.data[i]):kt},async AccessElement(t,e,n){let{base:r,index:i}=t;const s=await n(r,e);if(!s.isArray())return kt;const o=await s.get(),a=i<0?i+o.length:i;return Rs(o[a])},async Slice(t,e,n){let{base:r,left:i,right:s,isInclusive:o}=t;const a=await n(r,e);if(!a.isArray())return kt;const l=await a.get();let u=i,d=s;return u<0&&(u=l.length+u),d<0&&(d=l.length+d),o&&d++,u<0&&(u=0),d<0&&(d=0),Rs(l.slice(u,d))},async Deref(t,e,n){let{base:r}=t;const i=await n(r,e);if(!e.source.isArray()||i.type!=="object")return kt;const s=i.data._ref;if(typeof s!="string")return kt;if(e.context.dereference)return Rs(await e.context.dereference({_ref:s}));for await(const o of e.source)if(o.type==="object"&&s===o.data._id)return o;return kt},Value(t){let{value:e}=t;return Rs(e)},Group(t,e,n){let{base:r}=t;return n(r,e)},async Object(t,e,n){let{attributes:r}=t;const i={};for(const s of r){const o=s.type;switch(s.type){case"ObjectAttributeValue":{const a=await n(s.value,e);i[s.name]=await a.get();break}case"ObjectConditionalSplat":{const a=await n(s.condition,e);if(a.type!=="boolean"||a.data===!1)continue;const l=await n(s.value,e);l.type==="object"&&Object.assign(i,l.data);break}case"ObjectSplat":{const a=await n(s.value,e);a.type==="object"&&Object.assign(i,a.data);break}default:throw new Error("Unknown node type: ".concat(o))}}return Rs(i)},Array(t,e,n){let{elements:r}=t;return new J1(async function*(){for(const i of r){const s=await n(i.value,e);if(i.isSplat){if(s.isArray())for await(const o of s)yield o}else yield s}})},Tuple(){throw new Error("tuples can not be evaluated")},async Or(t,e,n){let{left:r,right:i}=t;const s=await n(r,e),o=await n(i,e);return s.type==="boolean"&&s.data===!0||o.type==="boolean"&&o.data===!0?Ga:s.type!=="boolean"||o.type!=="boolean"?kt:la},async And(t,e,n){let{left:r,right:i}=t;const s=await n(r,e),o=await n(i,e);return s.type==="boolean"&&s.data===!1||o.type==="boolean"&&o.data===!1?la:s.type!=="boolean"||o.type!=="boolean"?kt:Ga},async Not(t,e,n){let{base:r}=t;const i=await n(r,e);return i.type!=="boolean"?kt:i.data?la:Ga},Neg(t,e,n){let{base:r}=t;return Hve(n(r,e),i=>i.type!=="number"?kt:Df(-i.data))},Pos(t,e,n){let{base:r}=t;return Hve(n(r,e),i=>i.type!=="number"?kt:Df(i.data))},Asc(){return kt},Desc(){return kt},async ArrayCoerce(t,e,n){let{base:r}=t;const i=await n(r,e);return i.isArray()?i:kt},async Map(t,e,n){let{base:r,expr:i}=t;const s=await n(r,e);return s.isArray()?new J1(async function*(){for await(const o of s){const a=e.createHidden(o);yield await n(i,a)}}):kt},async FlatMap(t,e,n){let{base:r,expr:i}=t;const s=await n(r,e);return s.isArray()?new J1(async function*(){for await(const o of s){const a=e.createHidden(o),l=await n(i,a);if(l.isArray())for await(const u of l)yield u;else yield l}}):kt}};function D1n(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=Rs(e.root),r=Rs(e.dataset),i={...e.params},s=new XA(i,r,n,{timestamp:e.timestamp||new Date,identity:e.identity===void 0?"me":e.identity,sanity:e.sanity,after:e.after?Rs(e.after):null,before:e.before?Rs(e.before):null,dereference:e.dereference},null);return Mne(t,s)}function OT(t){switch(t.type){case"Group":return OT(t.base);case"Value":case"Parameter":return!0;case"Pos":case"Neg":return OT(t.base);case"OpCall":switch(t.op){case"+":case"-":case"*":case"/":case"%":case"**":return OT(t.left)&&OT(t.right);default:return!1}default:return!1}}const R1n=new XA({},kt,kt,{timestamp:new Date(0),identity:"me",before:null,after:null},null);function qU(t){return OT(t)?LWe(t):null}function LWe(t){const e=Mne(t,R1n,LWe);if("then"in e)throw new Error("BUG: constant evaluate should never return a promise");return e}async function j1n(t){if(t.type==="object")return MWe(t.data);if(t.isArray()){const e=await PWe(t);if(e.length>0)return e.join(`

`)}return null}async function PWe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];for await(const n of t)if(n.type==="object"){const r=MWe(n.data);r!==null&&e.push(r)}else n.isArray()&&await PWe(n,e);return e}function MWe(t){if(typeof t._type!="string")return null;const e=t.children;if(!Array.isArray(e))return null;let n="";for(const r of e)r&&typeof r=="object"&&typeof r._type=="string"&&r._type==="span"&&typeof r.text=="string"&&(n+=r.text);return n}const zve=1.2;async function W2(t,e,n){if(t.type==="OpCall"&&t.op==="match")return O1n(t.left,t.right,e,n);if(t.type==="FuncCall"&&t.name==="boost"){const r=await W2(t.args[0],e,n),i=await n(t.args[1],e);return i.type==="number"&&r>0?r+i.data:0}switch(t.type){case"Or":{const r=await W2(t.left,e,n),i=await W2(t.right,e,n);return r+i}case"And":{const r=await W2(t.left,e,n),i=await W2(t.right,e,n);return r===0||i===0?0:r+i}default:{const r=await n(t,e);return r.type==="boolean"&&r.data===!0?1:0}}}async function O1n(t,e,n,r){const i=await r(t,n),s=await r(e,n);let o=[],a=[];if(await f6(i,d=>{o=o.concat(jWe(d))}),!await f6(s,d=>{a=a.concat(OWe(d))})||o.length===0||a.length===0)return 0;let u=0;for(const d of a){const f=o.reduce((h,p)=>h+(d.test(p)?1:0),0);u+=f*(zve+1)/(f+zve)}return u}function pY(t,e){switch(nC(t)){case"array":for(const n of t)if(pY(n,e))return!0;break;case"object":if(t._ref)return e.has(t._ref);for(const n of Object.values(t))if(pY(n,e))return!0;break}return!1}function L1n(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r>=55296&&r<=56319||e++}return e}const Ji={};Ji.anywhere=async function(){throw new Error("not implemented")};Ji.anywhere.arity=1;Ji.coalesce=async function(e,n,r){for(const i of e){const s=await r(i,n);if(s.type!=="null")return s}return kt};Ji.count=async function(e,n,r){const i=await r(e[0],n);if(!i.isArray())return kt;let s=0;for await(const o of i)s++;return Df(s)};Ji.count.arity=1;Ji.dateTime=async function(e,n,r){const i=await r(e[0],n);return i.type==="datetime"?i:i.type!=="string"?kt:ZA.parseToValue(i.data)};Ji.dateTime.arity=1;Ji.defined=async function(e,n,r){return(await r(e[0],n)).type==="null"?la:Ga};Ji.defined.arity=1;Ji.identity=async function(e,n){return Rf(n.context.identity)};Ji.identity.arity=0;Ji.length=async function(e,n,r){const i=await r(e[0],n);if(i.type==="string")return Df(L1n(i.data));if(i.isArray()){let s=0;for await(const o of i)s++;return Df(s)}return kt};Ji.length.arity=1;Ji.path=async function(e,n,r){const i=await r(e[0],n);return i.type!=="string"?kt:y1n(new DWe(i.data))};Ji.path.arity=1;Ji.string=async function(e,n,r){const i=await r(e[0],n);switch(i.type){case"number":case"string":case"boolean":case"datetime":return Rf("".concat(i.data));default:return kt}};Ji.string.arity=1;Ji.references=async function(e,n,r){const i=new Set;for(const o of e){const a=await r(o,n);if(a.type==="string")i.add(a.data);else if(a.isArray())for await(const l of a)l.type==="string"&&i.add(l.data)}if(i.size===0)return la;const s=await n.value.get();return pY(s,i)?Ga:la};Ji.references.arity=t=>t>=1;Ji.round=async function(e,n,r){const i=await r(e[0],n);if(i.type!=="number")return kt;const s=i.data;let o=0;if(e.length===2){const a=await r(e[1],n);if(a.type!=="number"||a.data<0||!Number.isInteger(a.data))return kt;o=a.data}return o===0?s<0?Df(-Math.round(-s)):Df(Math.round(s)):Df(Number(s.toFixed(o)))};Ji.round.arity=t=>t>=1&&t<=2;Ji.now=async function(e,n){return Rf(n.context.timestamp.toISOString())};Ji.now.arity=0;Ji.boost=async function(){throw new Error("unexpected boost call")};Ji.boost.arity=2;const Jh={};Jh.lower=async function(t,e,n){const r=await n(t[0],e);return r.type!=="string"?kt:Rf(r.data.toLowerCase())};Jh.lower.arity=1;Jh.upper=async function(t,e,n){const r=await n(t[0],e);return r.type!=="string"?kt:Rf(r.data.toUpperCase())};Jh.upper.arity=1;Jh.split=async function(t,e,n){const r=await n(t[0],e);if(r.type!=="string")return kt;const i=await n(t[1],e);return i.type!=="string"?kt:r.data.length===0?Rs([]):i.data.length===0?Rs(Array.from(r.data)):Rs(r.data.split(i.data))};Jh.split.arity=2;Ji.lower=Jh.lower;Ji.upper=Jh.upper;Jh.startsWith=async function(t,e,n){const r=await n(t[0],e);if(r.type!=="string")return kt;const i=await n(t[1],e);return i.type!=="string"?kt:r.data.startsWith(i.data)?Ga:la};Jh.startsWith.arity=2;const vw={};vw.join=async function(t,e,n){const r=await n(t[0],e);if(!r.isArray())return kt;const i=await n(t[1],e);if(i.type!=="string")return kt;let s="",o=!1;for await(const a of r){switch(o&&(s+=i.data),a.type){case"number":case"string":case"boolean":case"datetime":s+="".concat(a.data);break;default:return kt}o=!0}return Rs(s)};vw.join.arity=2;vw.compact=async function(t,e,n){const r=await n(t[0],e);return r.isArray()?new J1(async function*(){for await(const i of r)i.type!=="null"&&(yield i)}):kt};vw.compact.arity=1;vw.unique=async function(t,e,n){const r=await n(t[0],e);return r.isArray()?new J1(async function*(){const i=new Set;for await(const s of r)switch(s.type){case"number":case"string":case"boolean":case"datetime":i.has(s.data)||(i.add(s.data),yield s);break;default:yield s}}):kt};vw.unique.arity=1;const $ne={};$ne.text=async function(t,e,n){const r=await n(t[0],e),i=await j1n(r);return i===null?kt:Rf(i)};$ne.text.arity=1;const Fne={};Fne.projectId=async function(t,e){return e.context.sanity?Rf(e.context.sanity.projectId):kt};Fne.dataset=async function(t,e){return e.context.sanity?Rf(e.context.sanity.dataset):kt};const $I={};$I.order=async function(e,n,r,i){if(await!0,!e.isArray())return kt;const s=[],o=[];let a=0;for(let d of n){let f="asc";d.type==="Desc"?(f="desc",d=d.base):d.type==="Asc"&&(d=d.base),s.push(d),o.push(f),a++}const l=[];let u=0;for await(const d of e){const f=r.createNested(d),h=[await d.get(),u];for(let p=0;p<a;p++){const g=await i(s[p],f);h.push(await g.get())}l.push(h),u++}return l.sort((d,f)=>{for(let h=0;h<a;h++){let p=S1n(d[h+2],f[h+2]);if(o[h]==="desc"&&(p=-p),p!==0)return p}return d[1]-f[1]}),Rs(l.map(d=>d[0]))};$I.order.arity=t=>t>=1;$I.score=async function(e,n,r,i){if(!e.isArray())return kt;const s=[],o=[];for await(const a of e){if(a.type!=="object"){s.push(await a.get());continue}const l=r.createNested(a);let u=typeof a.data._score=="number"?a.data._score:0;for(const f of n)u+=await W2(f,l,i);const d=Object.assign({},a.data,{_score:u});o.push(d)}return o.sort((a,l)=>l._score-a._score),Rs(o)};$I.score.arity=t=>t>=1;const xy={};xy.operation=async function(t,e){const n=e.context.before!==null,r=e.context.after!==null;return n&&r?Rf("update"):r?Rf("create"):n?Rf("delete"):kt};xy.changedAny=()=>{throw new Error("not implemented")};xy.changedAny.arity=1;xy.changedAny.mode="delta";xy.changedOnly=()=>{throw new Error("not implemented")};xy.changedOnly.arity=1;xy.changedOnly.mode="delta";const FI={};FI.changedAny=()=>{throw new Error("not implemented")};FI.changedAny.arity=3;FI.changedOnly=()=>{throw new Error("not implemented")};FI.changedOnly.arity=3;const M0={};M0.min=async function(t,e,n){const r=await n(t[0],e);if(!r.isArray())return kt;let i;for await(const s of r)if(s.type!=="null"){if(s.type!=="number")return kt;(i===void 0||s.data<i)&&(i=s.data)}return Rs(i)};M0.min.arity=1;M0.max=async function(t,e,n){const r=await n(t[0],e);if(!r.isArray())return kt;let i;for await(const s of r)if(s.type!=="null"){if(s.type!=="number")return kt;(i===void 0||s.data>i)&&(i=s.data)}return Rs(i)};M0.max.arity=1;M0.sum=async function(t,e,n){const r=await n(t[0],e);if(!r.isArray())return kt;let i=0;for await(const s of r)if(s.type!=="null"){if(s.type!=="number")return kt;i+=s.data}return Rs(i)};M0.sum.arity=1;M0.avg=async function(t,e,n){const r=await n(t[0],e);if(!r.isArray())return kt;let i=0,s=0;for await(const o of r)if(o.type!=="null"){if(o.type!=="number")return kt;i+=o.data,s++}return s===0?kt:Rs(i/s)};M0.avg.arity=1;const P1n={global:Ji,string:Jh,array:vw,pt:$ne,delta:xy,diff:FI,sanity:Fne,math:M0};var M1n=Object.defineProperty,$1n=(t,e,n)=>e in t?M1n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$S=(t,e,n)=>($1n(t,typeof e!="symbol"?e+"":e,n),n);class F1n{constructor(e,n,r){$S(this,"string"),$S(this,"marks"),$S(this,"index"),$S(this,"parseOptions"),$S(this,"allowBoost",!1),this.string=e,this.marks=n,this.index=0,this.parseOptions=r}hasMark(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.index+e<this.marks.length}getMark(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.marks[this.index+e]}shift(){this.index+=1}process(e){const n=this.marks[this.index];this.shift();const r=e[n.name];if(!r)throw new Error("Unknown handler: ".concat(n.name));return r.call(e,this,n)}processString(){return this.shift(),this.processStringEnd()}processStringEnd(){const e=this.marks[this.index-1],n=this.marks[this.index];return this.shift(),this.string.slice(e.position,n.position)}slice(e){const n=this.marks[this.index].position;return this.string.slice(n,n+e)}}const B1n=/^([\t\n\v\f\r \u0085\u00A0]|(\/\/[^\n]*\n))+/,YU=/^\d+/,tx=/^[a-zA-Z_][a-zA-Z_0-9]*/,k4=1,A4=2,I4=3,_a=4,h2=4,D4=6,R4=6,j4=7,O4=7,L4=7,P4=8,N1n=10,V1n=10,U1n=8;function H1n(t){let e=0;e=un(t,e);let n=Gi(t,e,0);return n.type==="error"?n:(e=un(t,n.position),e!==t.length?(n.failPosition&&(e=n.failPosition-1),{type:"error",position:e}):(delete n.position,delete n.failPosition,n))}function Gi(t,e,n){let r=e,i=t[e],s;switch(i){case"+":{let u=Gi(t,un(t,e+1),N1n);if(u.type==="error")return u;s=[{name:"pos",position:r}].concat(u.marks),e=u.position;break}case"-":{let u=Gi(t,un(t,e+1),U1n);if(u.type==="error")return u;s=[{name:"neg",position:r}].concat(u.marks),e=u.position;break}case"(":{let u=Gi(t,un(t,e+1),0);if(u.type==="error")return u;switch(e=un(t,u.position),t[e]){case",":{for(s=[{name:"tuple",position:r}].concat(u.marks),e=un(t,e+1);;){if(u=Gi(t,e,0),u.type==="error")return u;if(e=un(t,u.position),t[e]!==",")break;e=un(t,e+1)}if(t[e]!==")")return{type:"error",position:e};e++,s.push({name:"tuple_end",position:e});break}case")":{e++,s=[{name:"group",position:r}].concat(u.marks);break}default:return{type:"error",position:e}}break}case"!":{let u=Gi(t,un(t,e+1),V1n);if(u.type==="error")return u;s=[{name:"not",position:r}].concat(u.marks),e=u.position;break}case"{":{let u=mY(t,e);if(u.type==="error")return u;s=u.marks,e=u.position;break}case"[":if(s=[{name:"array",position:e}],e=un(t,e+1),t[e]!=="]")for(;;){t.slice(e,e+3)==="..."&&(s.push({name:"array_splat",position:e}),e=un(t,e+3));let u=Gi(t,e,0);if(u.type==="error")return u;if(s=s.concat(u.marks),e=u.position,e=un(t,e),t[e]!==","||(e=un(t,e+1),t[e]==="]"))break}if(t[e]==="]")e++,s.push({name:"array_end",position:e});else return{type:"error",position:e};break;case"'":case'"':{let u=z1n(t,e);if(u.type==="error")return u;s=u.marks,e=u.position;break}case"^":{for(e++,s=[];t[e]==="."&&t[e+1]==="^";)s.push({name:"dblparent",position:r}),e+=2;s.push({name:"parent",position:r});break}case"@":s=[{name:"this",position:r}],e++;break;case"*":s=[{name:"everything",position:r}],e++;break;case"$":{let u=Mp(t,e+1,tx);u&&(e+=1+u,s=[{name:"param",position:r},{name:"ident",position:r+1},{name:"ident_end",position:e}]);break}default:{let u=Mp(t,e,YU);if(u){e+=u;let f="integer";if(t[e]==="."){let h=Mp(t,e+1,YU);h&&(f="float",e+=1+h)}if(t[e]==="e"||t[e]==="E"){f="sci",e++,(t[e]==="+"||t[e]==="-")&&e++;let h=Mp(t,e,YU);if(!h)return{type:"error",position:e};e+=h}s=[{name:f,position:r},{name:f+"_end",position:e}];break}let d=Mp(t,e,tx);if(d){switch(e+=d,t[e]){case":":case"(":{let f=Gve(t,r,e);if(f.type==="error")return f;s=f.marks,e=f.position;break}default:s=[{name:"this_attr",position:r},{name:"ident",position:r},{name:"ident_end",position:e}]}break}}}if(!s)return{type:"error",position:e};let o=12,a;e:for(;;){let u=un(t,e);if(u===t.length){e=u;break}if(a=Wve(t,u),a.type==="success"){for(s.unshift({name:"traverse",position:r});a.type==="success";)s=s.concat(a.marks),e=a.position,a=Wve(t,un(t,e));s.push({name:"traversal_end",position:e});continue}switch(t[u]){case"=":{switch(t[u+1]){case">":{if(n>k4||o<=k4)break e;let h=Gi(t,un(t,u+2),k4);if(h.type==="error")return h;s=s.concat(h.marks),s.unshift({name:"pair",position:r}),e=h.position,o=k4;break}case"=":{if(n>_a||o<=_a)break e;let h=Gi(t,un(t,u+2),5);if(h.type==="error")return h;s.unshift({name:"comp",position:r}),s.push({name:"op",position:u},{name:"op_end",position:u+2}),s=s.concat(h.marks),e=h.position,o=_a;break}default:break e}break}case"+":{if(n>D4||o<D4)break e;let f=Gi(t,un(t,u+1),D4+1);if(f.type==="error")return f;s=s.concat(f.marks),s.unshift({name:"add",position:r}),e=f.position,o=D4;break}case"-":{if(n>R4||o<R4)break e;let f=Gi(t,un(t,u+1),R4+1);if(f.type==="error")return f;s=s.concat(f.marks),s.unshift({name:"sub",position:r}),e=f.position,o=R4;break}case"*":{if(t[u+1]==="*"){if(n>P4||o<=P4)break e;let h=Gi(t,un(t,u+2),P4);if(h.type==="error")return h;s=s.concat(h.marks),s.unshift({name:"pow",position:r}),e=h.position,o=P4;break}if(n>j4||o<j4)break e;let f=Gi(t,un(t,u+1),j4+1);if(f.type==="error")return f;s=s.concat(f.marks),s.unshift({name:"mul",position:r}),e=f.position,o=j4;break}case"/":{if(n>O4||o<O4)break e;let f=Gi(t,un(t,u+1),O4+1);if(f.type==="error")return f;s=s.concat(f.marks),s.unshift({name:"div",position:r}),e=f.position,o=O4;break}case"%":{if(n>L4||o<L4)break e;let f=Gi(t,un(t,u+1),L4+1);if(f.type==="error")return f;s=s.concat(f.marks),s.unshift({name:"mod",position:r}),e=f.position,o=L4;break}case"<":case">":{if(n>_a||o<=_a)break e;let f=u+1;t[f]==="="&&f++;let h=Gi(t,un(t,f),_a+1);if(h.type==="error")return h;s.unshift({name:"comp",position:r}),s.push({name:"op",position:u},{name:"op_end",position:f}),s=s.concat(h.marks),e=h.position,o=_a;break}case"|":{if(t[u+1]==="|"){if(n>A4||o<A4)break e;let f=Gi(t,un(t,u+2),A4+1);if(f.type==="error")return f;s=s.concat(f.marks),s.unshift({name:"or",position:r}),e=f.position,o=A4}else{if(n>11||o<11)break e;let f=un(t,u+1),h=Mp(t,f,tx);if(!h)return{type:"error",position:f};if(e=f+h,t[e]==="("||t[e]===":"){let p=Gve(t,f,e);if(p.type==="error")return p;s=s.concat(p.marks),s.unshift({name:"pipecall",position:r}),e=p.position,o=11}}break}case"&":{if(t[u+1]!="&"||n>I4||o<I4)break e;let f=Gi(t,un(t,u+2),I4+1);if(f.type==="error")return f;s=s.concat(f.marks),s.unshift({name:"and",position:r}),e=f.position,o=I4;break}case"!":{if(t[u+1]!=="="||n>_a||o<_a)break e;let f=Gi(t,un(t,u+2),_a+1);if(f.type==="error")return f;s.unshift({name:"comp",position:r}),s.push({name:"op",position:u},{name:"op_end",position:u+2}),s=s.concat(f.marks),e=f.position,o=_a;break}case"d":{if(t.slice(u,u+4)!=="desc"||n>h2||o<h2)break e;s.unshift({name:"desc",position:r}),e=u+4,o=h2;break}case"a":{if(t.slice(u,u+3)!=="asc"||n>h2||o<h2)break e;s.unshift({name:"asc",position:r}),e=u+3,o=h2;break}default:switch(W1n(t,u,tx)){case"in":{if(n>_a||o<=_a)break e;e=un(t,u+2);let h=!1;t[e]==="("&&(h=!0,e=un(t,e+1));let p=e,g=Gi(t,e,_a+1);if(g.type==="error")return g;if(e=un(t,g.position),t[e]==="."&&t[e+1]==="."){let v="inc_range";t[e+2]==="."?(v="exc_range",e=un(t,e+3)):e=un(t,e+2);let y=Gi(t,e,_a+1);if(y.type==="error")return y;s.unshift({name:"in_range",position:r}),s=s.concat({name:v,position:p},g.marks,y.marks),e=y.position}else s.unshift({name:"comp",position:r}),s.push({name:"op",position:u},{name:"op_end",position:u+2}),s=s.concat(g.marks);if(h){if(e=un(t,e),t[e]!==")")return{type:"error",position:e};e++}o=_a;break}case"match":{if(n>_a||o<=_a)break e;let h=Gi(t,un(t,u+5),_a+1);if(h.type==="error")return h;s.unshift({name:"comp",position:r}),s.push({name:"op",position:u},{name:"op_end",position:u+5}),s=s.concat(h.marks),e=h.position,o=4;break}default:break e}}}let l=(a==null?void 0:a.type)==="error"&&a.position;return{type:"success",marks:s,position:e,failPosition:l}}function Wve(t,e){let n=e;switch(t[e]){case".":{e=un(t,e+1);let o=e,a=Mp(t,e,tx);return a?(e+=a,{type:"success",marks:[{name:"attr_access",position:n},{name:"ident",position:o},{name:"ident_end",position:e}],position:e}):{type:"error",position:e}}case"-":if(t[e+1]!==">")return{type:"error",position:e};let r=[{name:"deref",position:n}];e+=2;let i=un(t,e),s=Mp(t,i,tx);return s&&(e=i+s,r.push({name:"deref_attr",position:i},{name:"ident",position:i},{name:"ident_end",position:e})),{type:"success",marks:r,position:e};case"[":{if(e=un(t,e+1),t[e]==="]")return{type:"success",marks:[{name:"array_postfix",position:n}],position:e+1};let o=e,a=Gi(t,e,0);if(a.type==="error")return a;if(e=un(t,a.position),t[e]==="."&&t[e+1]==="."){let l="inc_range";t[e+2]==="."?(l="exc_range",e+=3):e+=2,e=un(t,e);let u=Gi(t,e,0);return u.type==="error"?u:(e=un(t,u.position),t[e]!=="]"?{type:"error",position:e}:{type:"success",marks:[{name:"slice",position:n},{name:l,position:o}].concat(a.marks,u.marks),position:e+1})}return t[e]!=="]"?{type:"error",position:e}:{type:"success",marks:[{name:"square_bracket",position:n}].concat(a.marks),position:e+1}}case"|":{if(e=un(t,e+1),t[e]==="{"){let o=mY(t,e);return o.type==="error"||o.marks.unshift({name:"projection",position:n}),o}break}case"{":{let o=mY(t,e);return o.type==="error"||o.marks.unshift({name:"projection",position:n}),o}}return{type:"error",position:e}}function Gve(t,e,n){let r=[];if(r.push({name:"func_call",position:e}),t[n]===":"&&t[n+1]===":"){r.push({name:"namespace",position:e}),r.push({name:"ident",position:e},{name:"ident_end",position:n}),n=un(t,n+2);let s=Mp(t,n,tx);if(!s)return{type:"error",position:n};if(r.push({name:"ident",position:n},{name:"ident_end",position:n+s}),n=un(t,n+s),t[n]!=="(")return{type:"error",position:n};n++,n=un(t,n)}else r.push({name:"ident",position:e},{name:"ident_end",position:n}),n=un(t,n+1);let i=n;if(t[n]!==")")for(;;){let s=Gi(t,n,0);if(s.type==="error")return s;if(r=r.concat(s.marks),i=s.position,n=un(t,s.position),t[n]!==","||(n=un(t,n+1),t[n]===")"))break}return t[n]!==")"?{type:"error",position:n}:(r.push({name:"func_args_end",position:i}),{type:"success",marks:r,position:n+1})}function mY(t,e){let n=[{name:"object",position:e}];for(e=un(t,e+1);t[e]!=="}";){let r=e;if(t.slice(e,e+3)==="...")if(e=un(t,e+3),t[e]!=="}"&&t[e]!==","){let i=Gi(t,e,0);if(i.type==="error")return i;n.push({name:"object_splat",position:r}),n=n.concat(i.marks),e=i.position}else n.push({name:"object_splat_this",position:r});else{let i=Gi(t,e,0);if(i.type==="error")return i;let s=un(t,i.position);if(i.marks[0].name==="str"&&t[s]===":"){let o=Gi(t,un(t,s+1),0);if(o.type==="error")return o;n.push({name:"object_pair",position:r}),n=n.concat(i.marks,o.marks),e=o.position}else n=n.concat({name:"object_expr",position:e},i.marks),e=i.position}if(e=un(t,e),t[e]!==",")break;e=un(t,e+1)}return t[e]!=="}"?{type:"error",position:e}:(e++,n.push({name:"object_end",position:e}),{type:"success",marks:n,position:e})}function z1n(t,e){let n=t[e];e=e+1;const r=[{name:"str",position:e}];e:for(;;e++){if(e>t.length)return{type:"error",position:e};switch(t[e]){case n:{r.push({name:"str_end",position:e}),e++;break e}case"\\":r.push({name:"str_pause",position:e}),t[e+1]==="u"?t[e+2]==="{"?(r.push({name:"unicode_hex",position:e+3}),e=t.indexOf("}",e+3),r.push({name:"unicode_hex_end",position:e})):(r.push({name:"unicode_hex",position:e+2}),r.push({name:"unicode_hex_end",position:e+6}),e+=5):(r.push({name:"single_escape",position:e+1}),e+=1),r.push({name:"str_start",position:e+1})}}return{type:"success",marks:r,position:e}}function un(t,e){return e+Mp(t,e,B1n)}function Mp(t,e,n){let r=n.exec(t.slice(e));return r?r[0].length:0}function W1n(t,e,n){let r=n.exec(t.slice(e));return r?r[0]:null}function wf(t,e){return n=>e(t(n))}function gY(t){return e=>({type:"Map",base:e,expr:t({type:"This"})})}function G1n(t){return e=>({type:"FlatMap",base:e,expr:t({type:"This"})})}function VO(t,e){if(!e)return{type:"a-a",build:t};switch(e.type){case"a-a":return{type:"a-a",build:wf(t,e.build)};case"a-b":return{type:"a-b",build:wf(t,e.build)};case"b-b":return{type:"a-a",build:wf(t,gY(e.build))};case"b-a":return{type:"a-a",build:wf(t,G1n(e.build))};default:throw new Error("unknown type: ".concat(e.type))}}function KU(t,e){if(!e)return{type:"b-b",build:t};switch(e.type){case"a-a":case"b-a":return{type:"b-a",build:wf(t,e.build)};case"a-b":case"b-b":return{type:"b-b",build:wf(t,e.build)};default:throw new Error("unknown type: ".concat(e.type))}}function q1n(t,e){if(!e)return{type:"a-b",build:t};switch(e.type){case"a-a":case"b-a":return{type:"a-a",build:wf(t,e.build)};case"a-b":case"b-b":return{type:"a-b",build:wf(t,e.build)};default:throw new Error("unknown type: ".concat(e.type))}}function Y1n(t,e){if(!e)return{type:"b-b",build:t};switch(e.type){case"a-a":return{type:"a-a",build:wf(gY(t),e.build)};case"a-b":return{type:"a-b",build:wf(gY(t),e.build)};case"b-a":return{type:"b-a",build:wf(t,e.build)};case"b-b":return{type:"b-b",build:wf(t,e.build)};default:throw new Error("unknown type: ".concat(e.type))}}var K1n=Object.defineProperty,Z1n=(t,e,n)=>e in t?K1n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vY=(t,e,n)=>(Z1n(t,typeof e!="symbol"?e+"":e,n),n);const X1n={"'":"'",'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function Q1n(t){const e=parseInt(t,16);return String.fromCharCode(e)}class Du extends Error{constructor(){super(...arguments),vY(this,"name","GroqQueryError")}}const In={group(t){return{type:"Group",base:t.process(In)}},everything(){return{type:"Everything"}},this(){return{type:"This"}},parent(){return{type:"Parent",n:1}},dblparent(t){return{type:"Parent",n:t.process(In).n+1}},traverse(t){const e=t.process(In),n=[];for(;t.getMark().name!=="traversal_end";)n.push(t.process($We));t.shift();let r=null;for(let i=n.length-1;i>=0;i--)r=n[i](r);if((e.type==="Everything"||e.type==="Array"||e.type==="PipeFuncCall")&&(r=VO(i=>i,r)),r===null)throw new Error("BUG: unexpected empty traversal");return r.build(e)},this_attr(t){const e=t.processString();return e==="null"?{type:"Value",value:null}:e==="true"?{type:"Value",value:!0}:e==="false"?{type:"Value",value:!1}:{type:"AccessAttribute",name:e}},neg(t){return{type:"Neg",base:t.process(In)}},pos(t){return{type:"Pos",base:t.process(In)}},add(t){const e=t.process(In),n=t.process(In);return{type:"OpCall",op:"+",left:e,right:n}},sub(t){const e=t.process(In),n=t.process(In);return{type:"OpCall",op:"-",left:e,right:n}},mul(t){const e=t.process(In),n=t.process(In);return{type:"OpCall",op:"*",left:e,right:n}},div(t){const e=t.process(In),n=t.process(In);return{type:"OpCall",op:"/",left:e,right:n}},mod(t){const e=t.process(In),n=t.process(In);return{type:"OpCall",op:"%",left:e,right:n}},pow(t){const e=t.process(In),n=t.process(In);return{type:"OpCall",op:"**",left:e,right:n}},comp(t){const e=t.process(In),n=t.processString(),r=t.process(In);return{type:"OpCall",op:n,left:e,right:r}},in_range(t){const e=t.process(In),n=t.getMark().name==="inc_range";t.shift();const r=t.process(In),i=t.process(In);return{type:"InRange",base:e,left:r,right:i,isInclusive:n}},str(t){let e="";e:for(;t.hasMark();){const n=t.getMark();switch(n.name){case"str_end":e+=t.processStringEnd();break e;case"str_pause":e+=t.processStringEnd();break;case"str_start":t.shift();break;case"single_escape":{const r=t.slice(1);t.shift(),e+=X1n[r];break}case"unicode_hex":t.shift(),e+=Q1n(t.processStringEnd());break;default:throw new Error("unexpected mark: ".concat(n.name))}}return{type:"Value",value:e}},integer(t){const e=t.processStringEnd();return{type:"Value",value:Number(e)}},float(t){const e=t.processStringEnd();return{type:"Value",value:Number(e)}},sci(t){const e=t.processStringEnd();return{type:"Value",value:Number(e)}},object(t){const e=[];for(;t.getMark().name!=="object_end";)e.push(t.process(J1n));return t.shift(),{type:"Object",attributes:e}},array(t){const e=[];for(;t.getMark().name!=="array_end";){let n=!1;t.getMark().name==="array_splat"&&(n=!0,t.shift());const r=t.process(In);e.push({type:"ArrayElement",value:r,isSplat:n})}return t.shift(),{type:"Array",elements:e}},tuple(t){const e=[];for(;t.getMark().name!=="tuple_end";)e.push(t.process(In));return t.shift(),{type:"Tuple",members:e}},func_call(t){let e="global";t.getMark().name==="namespace"&&(t.shift(),e=t.processString());const n=t.processString();if(e==="global"&&n==="select"){const o={type:"Select",alternatives:[]};for(;t.getMark().name!=="func_args_end";)if(t.getMark().name==="pair"){if(o.fallback)throw new Du("unexpected argument to select()");t.shift();const a=t.process(In),l=t.process(In);o.alternatives.push({type:"SelectAlternative",condition:a,value:l})}else{if(o.fallback)throw new Du("unexpected argument to select()");const a=t.process(In);o.fallback=a}return t.shift(),o}const r=[];for(;t.getMark().name!=="func_args_end";)evn(e,n,r.length)?(t.process(yY),r.push({type:"Selector"})):r.push(t.process(In));if(t.shift(),e==="global"&&(n==="before"||n==="after")&&t.parseOptions.mode==="delta")return{type:"Context",key:n};if(e==="global"&&n==="boost"&&!t.allowBoost)throw new Du("unexpected boost");const i=P1n[e];if(!i)throw new Du("Undefined namespace: ".concat(e));const s=i[n];if(!s)throw new Du("Undefined function: ".concat(n));if(s.arity!==void 0&&qve(n,s.arity,r.length),s.mode!==void 0&&s.mode!==t.parseOptions.mode)throw new Du("Undefined function: ".concat(n));return{type:"FuncCall",func:s,name:n,args:r}},pipecall(t){const e=t.process(In);t.shift();let n="global";if(t.getMark().name==="namespace"&&(t.shift(),n=t.processString()),n!=="global")throw new Du("Undefined namespace: ".concat(n));const r=t.processString(),i=[],s=t.allowBoost;for(r==="score"&&(t.allowBoost=!0);;){const a=t.getMark().name;if(a==="func_args_end")break;if(r==="order"){if(a==="asc"){t.shift(),i.push({type:"Asc",base:t.process(In)});continue}else if(a==="desc"){t.shift(),i.push({type:"Desc",base:t.process(In)});continue}}i.push(t.process(In))}t.shift(),t.allowBoost=s;const o=$I[r];if(!o)throw new Du("Undefined pipe function: ".concat(r));return o.arity&&qve(r,o.arity,i.length),{type:"PipeFuncCall",func:o,base:e,name:r,args:i}},pair(t){throw new Du("unexpected =>")},and(t){const e=t.process(In),n=t.process(In);return{type:"And",left:e,right:n}},or(t){const e=t.process(In),n=t.process(In);return{type:"Or",left:e,right:n}},not(t){return{type:"Not",base:t.process(In)}},asc(t){throw new Du("unexpected asc")},desc(t){throw new Du("unexpected desc")},param(t){const e=t.processString();return t.parseOptions.params&&t.parseOptions.params.hasOwnProperty(e)?{type:"Value",value:t.parseOptions.params[e]}:{type:"Parameter",name:e}}},J1n={object_expr(t){if(t.getMark().name==="pair"){t.shift();const n=t.process(In),r=t.process(In);return{type:"ObjectConditionalSplat",condition:n,value:r}}const e=t.process(In);return{type:"ObjectAttributeValue",name:FWe(e),value:e}},object_pair(t){const e=t.process(In);if(e.type!=="Value")throw new Error("name must be string");const n=t.process(In);return{type:"ObjectAttributeValue",name:e.value,value:n}},object_splat(t){return{type:"ObjectSplat",value:t.process(In)}},object_splat_this(){return{type:"ObjectSplat",value:{type:"This"}}}},$We={square_bracket(t){const e=t.process(In),n=qU(e);return n&&n.type==="number"?r=>q1n(i=>({type:"AccessElement",base:i,index:n.data}),r):n&&n.type==="string"?r=>KU(i=>({type:"AccessAttribute",base:i,name:n.data}),r):r=>VO(i=>({type:"Filter",base:i,expr:e}),r)},slice(t){const e=t.getMark().name==="inc_range";t.shift();const n=t.process(In),r=t.process(In),i=qU(n),s=qU(r);if(!i||!s||i.type!=="number"||s.type!=="number")throw new Du("slicing must use constant numbers");return o=>VO(a=>({type:"Slice",base:a,left:i.data,right:s.data,isInclusive:e}),o)},projection(t){const e=t.process(In);return n=>Y1n(r=>({type:"Projection",base:r,expr:e}),n)},attr_access(t){const e=t.processString();return n=>KU(r=>({type:"AccessAttribute",base:r,name:e}),n)},deref(t){let e=null;t.getMark().name==="deref_attr"&&(t.shift(),e=t.processString());const n=r=>e?{type:"AccessAttribute",base:r,name:e}:r;return r=>KU(i=>n({type:"Deref",base:i}),r)},array_postfix(t){return e=>VO(n=>({type:"ArrayCoerce",base:n}),e)}},yY={group(t){return t.process(yY),null},everything(){throw new Error("Invalid selector syntax")},this(){throw new Error("Invalid selector syntax")},parent(){throw new Error("Invalid selector syntax")},dblparent(t){throw new Error("Invalid selector syntax")},traverse(t){for(t.process(yY);t.getMark().name!=="traversal_end";)t.process($We);return t.shift(),null},this_attr(t){return t.processString(),null},neg(t){throw new Error("Invalid selector syntax")},pos(t){throw new Error("Invalid selector syntax")},add(t){throw new Error("Invalid selector syntax")},sub(t){throw new Error("Invalid selector syntax")},mul(t){throw new Error("Invalid selector syntax")},div(t){throw new Error("Invalid selector syntax")},mod(t){throw new Error("Invalid selector syntax")},pow(t){throw new Error("Invalid selector syntax")},comp(t){throw new Error("Invalid selector syntax")},in_range(t){throw new Error("Invalid selector syntax")},str(t){throw new Error("Invalid selector syntax")},integer(t){throw new Error("Invalid selector syntax")},float(t){throw new Error("Invalid selector syntax")},sci(t){throw new Error("Invalid selector syntax")},object(t){throw new Error("Invalid selector syntax")},array(t){throw new Error("Invalid selector syntax")},tuple(t){throw new Error("Invalid selector syntax")},func_call(t,e){const n=In.func_call(t,e);if(n.name==="anywhere"&&n.args.length===1)return null;throw new Error("Invalid selector syntax")},pipecall(t){throw new Error("Invalid selector syntax")},pair(t){throw new Error("Invalid selector syntax")},and(t){throw new Error("Invalid selector syntax")},or(t){throw new Error("Invalid selector syntax")},not(t){throw new Error("Invalid selector syntax")},asc(t){throw new Error("Invalid selector syntax")},desc(t){throw new Error("Invalid selector syntax")},param(t){throw new Error("Invalid selector syntax")}};function FWe(t){if(t.type==="AccessAttribute"&&!t.base)return t.name;if(t.type==="Deref"||t.type==="Map"||t.type==="Projection"||t.type==="Slice"||t.type==="Filter"||t.type==="AccessElement"||t.type==="ArrayCoerce")return FWe(t.base);throw new Du("Cannot determine property key for type: ".concat(t.type))}function qve(t,e,n){if(typeof e=="number"){if(n!==e)throw new Du("Incorrect number of arguments to function ".concat(t,"(). Expected ").concat(e,", got ").concat(n,"."))}else if(e&&!e(n))throw new Du("Incorrect number of arguments to function ".concat(t,"()."))}function evn(t,e,n){const r=["changedAny","changedOnly"];return t=="diff"&&n==2&&r.includes(e)}class tvn extends Error{constructor(e){super("Syntax error in GROQ query at position ".concat(e)),vY(this,"position"),vY(this,"name","GroqSyntaxError"),this.position=e}}function nvn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=H1n(t);if(n.type==="error")throw new tvn(n.position);return new F1n(t,n.marks,e).process(In)}function rvn(t,e=nRt){return n=>{const r=n;let i=null,s=null;const o=new Pi,a=o.pipe(Pf((l,u)=>l+u,0),Kt(l=>l===0?gu(t,e).pipe(Ei(()=>{i&&(i.unsubscribe(),i=null),s&&(s.unsubscribe(),s=null)})):!i&&l>0?gu(0,e).pipe(Ei(()=>{i||(i=r.connect())})):hee));return WRt(()=>(s||(s=a.subscribe()),o.next(1),{unsubscribe:()=>o.next(-1)}),()=>n)}}var ivn=Object.defineProperty,svn=(t,e,n)=>e in t?ivn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,p2=(t,e,n)=>(svn(t,typeof e!="symbol"?e+"":e,n),n);const ovn=["Value","Copy","Blank","ReturnIntoArray","ReturnIntoObject","ReturnIntoObjectSameKey","PushField","PushElement","PushParent","Pop","PushFieldCopy","PushFieldBlank","PushElementCopy","PushElementBlank","ReturnIntoObjectPop","ReturnIntoObjectSameKeyPop","ReturnIntoArrayPop","ObjectSetFieldValue","ObjectCopyField","ObjectDeleteField","ArrayAppendValue","ArrayAppendSlice","StringAppendString","StringAppendSlice"];class BWe{constructor(e,n,r){p2(this,"model"),p2(this,"root"),p2(this,"patch"),p2(this,"i"),p2(this,"inputStack"),p2(this,"outputStack"),this.model=e,this.root=n,this.patch=r,this.i=0,this.inputStack=[],this.outputStack=[]}read(){return this.patch[this.i++]}process(){for(this.inputStack.push({value:this.root}),this.outputStack.push({value:this.root});this.i<this.patch.length;){let n=this.read(),r=ovn[n];if(!r)throw new Error("Unknown opcode: ".concat(n));let i="process".concat(r);this[i].apply(this)}let e=this.outputStack.pop();return this.finalizeOutput(e)}inputEntry(){return this.inputStack[this.inputStack.length-1]}inputKey(e,n){return e.keys||(e.keys=this.model.objectGetKeys(e.value).sort()),e.keys[n]}outputEntry(){return this.outputStack[this.outputStack.length-1]}outputArray(){let e=this.outputEntry();return e.writeValue||(e.writeValue=this.model.copyArray(e.value)),e.writeValue}outputObject(){let e=this.outputEntry();return e.writeValue||(e.writeValue=this.model.copyObject(e.value)),e.writeValue}outputString(){let e=this.outputEntry();return e.writeValue||(e.writeValue=this.model.copyString(e.value)),e.writeValue}finalizeOutput(e){return e.writeValue?this.model.finalize(e.writeValue):e.value}processValue(){let e=this.model.wrap(this.read());this.outputStack.push({value:e})}processCopy(){let e=this.inputEntry();this.outputStack.push({value:e.value})}processBlank(){this.outputStack.push({value:null})}processReturnIntoArray(){let e=this.outputStack.pop(),n=this.finalizeOutput(e),r=this.outputArray();this.model.arrayAppendValue(r,n)}processReturnIntoObject(){let e=this.read(),n=this.outputStack.pop(),r=this.finalizeOutput(n);r=this.model.markChanged(r);let i=this.outputObject();this.model.objectSetField(i,e,r)}processReturnIntoObjectSameKey(){let e=this.inputEntry(),n=this.outputStack.pop(),r=this.finalizeOutput(n),i=this.outputObject();this.model.objectSetField(i,e.key,r)}processPushField(){let e=this.read(),n=this.inputEntry(),r=this.inputKey(n,e),i=this.model.objectGetField(n.value,r);this.inputStack.push({value:i,key:r})}processPushElement(){let e=this.read(),n=this.inputEntry(),r=this.model.arrayGetElement(n.value,e);this.inputStack.push({value:r})}processPop(){this.inputStack.pop()}processPushFieldCopy(){this.processPushField(),this.processCopy()}processPushFieldBlank(){this.processPushField(),this.processBlank()}processPushElementCopy(){this.processPushElement(),this.processCopy()}processPushElementBlank(){this.processPushElement(),this.processBlank()}processReturnIntoObjectPop(){this.processReturnIntoObject(),this.processPop()}processReturnIntoObjectSameKeyPop(){this.processReturnIntoObjectSameKey(),this.processPop()}processReturnIntoArrayPop(){this.processReturnIntoArray(),this.processPop()}processObjectSetFieldValue(){this.processValue(),this.processReturnIntoObject()}processObjectCopyField(){this.processPushField(),this.processCopy(),this.processReturnIntoObjectSameKey(),this.processPop()}processObjectDeleteField(){let e=this.read(),n=this.inputEntry(),r=this.inputKey(n,e),i=this.outputObject();this.model.objectDeleteField(i,r)}processArrayAppendValue(){let e=this.model.wrap(this.read()),n=this.outputArray();this.model.arrayAppendValue(n,e)}processArrayAppendSlice(){let e=this.read(),n=this.read(),r=this.outputArray(),i=this.inputEntry().value;this.model.arrayAppendSlice(r,i,e,n)}processStringAppendString(){let e=this.model.wrap(this.read()),n=this.outputString();this.model.stringAppendValue(n,e)}processStringAppendSlice(){let e=this.read(),n=this.read(),r=this.outputString(),i=this.inputEntry().value;this.model.stringAppendSlice(r,i,e,n)}}function BI(t){return t>>16?4:t>>11?3:t>>7?2:1}function bY(t){let e=0;for(let n=0;n<t.length;n++){let r=t.codePointAt(n),i=BI(r);i==4&&n++,e+=i}return e}function Yve(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=n,i=0;for(i=n;r<e;i++){let s=t.codePointAt(i),o=BI(s);o===4&&i++,r+=o}return i}function avn(t,e){let n=Math.min(t.length,e.length),r=0;for(let i=0;i<n;){let s=t.codePointAt(i),o=e.codePointAt(i);if(s!==o)return r;let a=BI(s);r+=a,i+=a===4?2:1}return r}function lvn(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Math.min(t.length,e.length)-n,i=0;for(let s=0;s<r;){let o=t.codePointAt(t.length-1-s),a=e.codePointAt(e.length-1-s);if(o!==a)return i;let l=BI(o);i+=l,s+=l===4?2:1}return i}var uvn=Object.defineProperty,cvn=(t,e,n)=>e in t?uvn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dvn=(t,e,n)=>(cvn(t,typeof e!="symbol"?e+"":e,n),n);class xY{constructor(e){dvn(this,"meta"),this.meta=e}wrap(e){return this.wrapWithMeta(e,this.meta,this.meta)}wrapWithMeta(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.meta;return{data:e,startMeta:n,endMeta:r}}asObject(e){if(!e.content){let n={};for(let[r,i]of Object.entries(e.data))n[r]=this.wrapWithMeta(i,e.startMeta);e.content={type:"object",fields:n}}return e.content}asArray(e){if(!e.content){let n=e.data.map(i=>this.wrapWithMeta(i,e.startMeta)),r=n.map(()=>this.meta);e.content={type:"array",elements:n,metas:r}}return e.content}asString(e){if(!e.content){let n=e.data,r={value:n,utf8size:bY(n),uses:[],startMeta:e.startMeta,endMeta:e.endMeta};e.content=this.stringFromParts([r])}return e.content}stringFromParts(e){let n={type:"string",parts:e};for(let r of e)r.uses.push(n);return n}objectGetKeys(e){return e.content?Object.keys(e.content.fields):Object.keys(e.data)}objectGetField(e,n){return this.asObject(e).fields[n]}arrayGetElement(e,n){return this.asArray(e).elements[n]}finalize(e){return this.updateEndMeta(e),{content:e,startMeta:this.meta,endMeta:this.meta}}markChanged(e){return this.wrap(Ig(e))}updateEndMeta(e){if(e.type=="string")for(let n of e.parts)n.endMeta=this.meta;else if(e.type==="array")for(let n of e.elements)n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta;else for(let n of Object.values(e.fields))n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta}copyString(e){if(e){let n=this.asString(e);return this.stringFromParts(n.parts.slice())}else return{type:"string",parts:[]}}copyObject(e){let n={type:"object",fields:{}};if(e){let r=this.asObject(e);Object.assign(n.fields,r.fields)}return n}copyArray(e){let n=e?this.asArray(e):null,r=n?n.elements:[],i=n?n.metas:[];return{type:"array",elements:r,metas:i}}objectSetField(e,n,r){e.fields[n]=r}objectDeleteField(e,n){delete e.fields[n]}arrayAppendValue(e,n){e.elements.push(n),e.metas.push(this.meta)}arrayAppendSlice(e,n,r,i){let s=this.asArray(n),o=s.elements.length===r;if(e.elements.push(...s.elements.slice(r,i)),o)e.metas.push(...s.metas.slice(r,i));else for(let a=r;a<i;a++)e.metas.push(this.meta)}stringAppendValue(e,n){let r=this.asString(n);for(let i of r.parts)this.stringAppendPart(e,i)}stringAppendPart(e,n){e.parts.push(n),n.uses.push(e)}resolveStringPart(e,n,r){if(r===0)return n;for(let i=n;i<e.parts.length;i++){let s=e.parts[i];if(r===s.utf8size)return i+1;if(r<s.utf8size)return this.splitString(s,r),i+1;r-=s.utf8size}throw new Error("splitting string out of bounds")}splitString(e,n){let r,i,s=n,o=e.utf8size-s;if(e.utf8size!==e.value.length){let l=0;for(n=0;l<s;n++){let u=e.value.codePointAt(n),d=BI(u);d===4&&n++,l+=d}}r=e.value.slice(0,n),i=e.value.slice(n);let a={value:i,utf8size:o,uses:e.uses.slice(),startMeta:e.startMeta,endMeta:e.endMeta};e.value=r,e.utf8size=s;for(let l of e.uses){let u=l.parts.indexOf(e);if(u===-1)throw new Error("bug: mismatch between string parts and use.");l.parts.splice(u+1,0,a)}}stringAppendSlice(e,n,r,i){let s=this.asString(n),o=this.resolveStringPart(s,0,r),a=this.resolveStringPart(s,o,i-r);for(let l=o;l<a;l++){let u=s.parts[l];this.stringAppendPart(e,u)}}}function fvn(t,e){return{data:t,startMeta:e,endMeta:e}}function Ig(t){if(typeof t.data<"u")return t.data;let e,n=t.content;switch(n.type){case"string":e=n.parts.map(r=>r.value).join("");break;case"array":e=n.elements.map(r=>Ig(r));break;case"object":{e={};for(let[r,i]of Object.entries(n.fields))e[r]=Ig(i)}}return t.data=e,e}function wY(t){return t.content?t.content.type:Array.isArray(t.data)?"array":t.data===null?"null":typeof t.data}function _Y(t,e){let n=wY(t),r=wY(e);if(n!==r)return e;let i=new xY(t.endMeta),s=new xY(e.endMeta);switch(n){case"object":{let o=i.asObject(t),a=s.asObject(e),l=0,u=Object.keys(o.fields).length,d=Object.keys(a.fields).length;for(let[h,p]of Object.entries(a.fields)){let g=o.fields[h];g&&(a.fields[h]=_Y(g,p),a.fields[h]===g&&l++)}return u===d&&u===l?t:e}case"array":{let o=i.asArray(t),a=s.asArray(e);if(o.elements.length!==a.elements.length)break;let l=0;for(let u=0;u<a.elements.length;u++)a.elements[u]=_Y(o.elements[u],a.elements[u]),a.elements[u]!==o.elements[u]&&l++;return l===0?t:e}case"null":case"boolean":case"number":{if(Ig(t)===Ig(e))return t;break}case"string":{let o=Ig(t),a=Ig(e);if(o===a)return t;let l=s.copyString(null),u=avn(o,a),d=lvn(o,a,u),f=bY(a),h=bY(o);0<u&&s.stringAppendSlice(l,t,0,u),u<f-d&&s.stringAppendSlice(l,e,u,f-d),h-d<h&&s.stringAppendSlice(l,t,h-d,h);let p=s.finalize(l);if(Ig(p)!==a)throw new Error("incorrect string rebase");return p}}return e}function hvn(t,e,n){let r=new xY(n);return new BWe(r,t,e).process()}var ih=Object.freeze({__proto__:null,applyPatch:hvn,getType:wY,rebaseValue:_Y,unwrap:Ig,wrap:fvn});class pvn{wrap(e){return e}finalize(e){return Array.isArray(e)?e:e.data}markChanged(e){return e}objectGetKeys(e){return Object.keys(e)}objectGetField(e,n){return e[n]}arrayGetElement(e,n){return e[n]}copyObject(e){let n={type:"object",data:{}};if(e!==null)for(let[r,i]of Object.entries(e))n.data[r]=i;return n}copyArray(e){return e===null?[]:e.slice()}copyString(e){return{type:"string",data:e===null?"":e}}objectSetField(e,n,r){e.data[n]=r}objectDeleteField(e,n){delete e.data[n]}arrayAppendValue(e,n){e.push(n)}arrayAppendSlice(e,n,r,i){e.push(...n.slice(r,i))}stringAppendSlice(e,n,r,i){const s=n,o=Yve(s,r),a=Yve(s,i,o);e.data+=s.slice(o,a)}stringAppendValue(e,n){e.data+=n}}function CY(t,e){let n=t;return new BWe(new pvn,n,e).process()}function wy(t,e,n){return delete t[e],t[e]=n,n}function mvn(t,e){const n=gvn(t,e);return vvn(n,t,e)}function gvn(t,e){const n=t.length,r=e.length;let i=0,s=0;const o=new Array(n+1);for(i=0;i<n+1;i++)for(o[i]=[r+1],s=0;s<r+1;s++)o[i][s]=0;for(i=1;i<n+1;i++)for(s=1;s<r+1;s++)t[i-1]===e[s-1]?o[i][s]=o[i-1][s-1]+1:o[i][s]=Math.max(o[i-1][s],o[i][s-1]);return o}function vvn(t,e,n){let r=e.length,i=n.length;const s={sequence:[],prevIndices:[],nextIndices:[]};for(;r!==0&&i!==0;)if(e[r-1]===n[i-1])s.sequence.unshift(e[r-1]),s.prevIndices.unshift(r-1),s.nextIndices.unshift(i-1),--r,--i;else{const a=t[r][i-1],l=t[r-1][i];a>l?--i:--r}return s}function yvn(t,e,n){if(t===e){const o=t.value,a=e.value;return{type:"array",action:"unchanged",isChanged:!1,fromValue:o,toValue:a,get items(){const l=Kve(t,e);if(!l)throw new Error("invariant broken: equivalent input, but diff detected");return wy(this,"items",l)}}}const r=Xve(t),i=Xve(e);if(r&&i)return xvn(t,r,e,i);const s=Kve(t,e);return s?Bne(t,e,s,!1):bvn(t,e)}function Bne(t,e,n,r){const i=t.value,s=e.value;return r?{type:"array",action:"changed",isChanged:!0,fromValue:i,toValue:s,items:n,annotation:e.annotation}:{type:"array",action:"unchanged",isChanged:!1,fromValue:i,toValue:s,items:n}}function Kve(t,e,n){if(t.length!==e.length)return;const r=[];for(let i=0;i<t.length;i++){const s=d$(t.at(i),e.at(i));if(s.isChanged)return;r.push({fromIndex:i,toIndex:i,hasMoved:!1,diff:s,annotation:e.annotationAt(i)})}return r}function bvn(t,e,n){const r=[];for(let i=0;i<e.length;i++){const s=e.at(i);r.push({fromIndex:void 0,toIndex:i,hasMoved:!1,diff:bw(s,void 0),annotation:s.annotation})}for(let i=0;i<t.length;i++){const s=t.at(i);r.push({fromIndex:i,toIndex:void 0,hasMoved:!1,diff:yw(s,void 0),annotation:s.annotation})}return Bne(t,e,r,!0)}function xvn(t,e,n,r,i){const s=[];let o=!1;function a(u,d,f,h){Zve(e.index,u,d),Zve(r.index,u,f);const p=t.at(d),g=n.at(f),v=d$(p,g);s.push({fromIndex:d,toIndex:f,hasMoved:h,diff:v,annotation:n.annotationAt(f)}),(v.isChanged||d!==f)&&(o=!0)}const l=mvn(e.keys,r.keys);for(let u=0;u<e.keys.length;u++){const d=e.keys[u],f=l.prevIndices.indexOf(u);if(f!==-1){a(d,u,l.nextIndices[f],!1);continue}const h=r.index.get(d),p=h&&h.find(v=>!l.nextIndices.includes(v));if(p!==void 0){a(d,u,p,!0);continue}const g=t.at(u);s.push({fromIndex:u,toIndex:void 0,hasMoved:!1,diff:yw(g,void 0),annotation:t.annotationAt(u)}),o=!0}for(const u of r.index.values()){for(const d of u){const f=n.at(d);s.push({fromIndex:void 0,toIndex:d,hasMoved:!1,diff:bw(f,void 0),annotation:n.annotationAt(d)})}o=!0}return s.sort(wvn),Bne(t,n,s,o)}function wvn(t,e){if(t.toIndex!==void 0&&e.toIndex!==void 0)return t.toIndex-e.toIndex;if(t.fromIndex!==void 0&&e.fromIndex!==void 0)return t.fromIndex-e.fromIndex;if(t.fromIndex!==void 0&&e.toIndex!==void 0)return-1;if(t.toIndex!==void 0&&e.fromIndex!==void 0)return 1;throw new Error("invalid item diff comparison")}function Zve(t,e,n){const r=t.get(e);_vn(r,n),r.length===0&&t.delete(e)}function _vn(t,e){const n=t.indexOf(e);if(n===-1)throw new Error("value not found");t.splice(n,1)}function Xve(t){const e=new Map,n=[],r=t.length;for(let i=0;i<r;i++){const s=t.at(i);let o=null;switch(s.type){case"string":o="s".concat(s.value);break;case"number":o=s.value;break;case"boolean":o=s.value;break;case"null":o="n";break;case"object":{const l=s.get("_key");if(l&&l.type==="string"&&(o="k".concat(l.value),e.has(o)))return}break}if(o===null)return;n.push(o);let a=e.get(o);a||(a=[],e.set(o,a)),a.push(i)}return{keys:n,index:e}}function Cvn(t,e,n){return{type:"array",action:"removed",isChanged:!0,fromValue:t.value,toValue:e,annotation:t.annotation,get items(){const r=[];for(let i=0;i<t.length;i++){const s=t.at(i);r.push({fromIndex:i,toIndex:void 0,hasMoved:!1,diff:yw(s,void 0),annotation:t.annotationAt(i)})}return wy(this,"items",r)}}}function Evn(t,e,n){return{type:"array",action:"added",isChanged:!0,fromValue:e,toValue:t.value,annotation:t.annotation,get items(){const r=[];for(let i=0;i<t.length;i++){const s=t.at(i);r.push({fromIndex:void 0,toIndex:i,hasMoved:!1,diff:bw(s,void 0),annotation:t.annotationAt(i)})}return wy(this,"items",r)}}}const Qve=new If.diff_match_patch;function Svn(t,e,n){const r=t.value,i=e.value;return r===i?{type:"string",action:"unchanged",isChanged:!1,fromValue:r,toValue:i,segments:[{type:"stringSegment",action:"unchanged",text:r}]}:{type:"string",action:"changed",isChanged:!0,fromValue:r,toValue:i,annotation:e.annotation,get segments(){const s=Tvn(t,e);return wy(this,"segments",s)}}}function Tvn(t,e){const n=[],r=Qve.diff_main(t.value,e.value);Qve.diff_cleanupSemantic(r);let i=0,s=0;for(const[o,a]of r)switch(o){case If.DIFF_EQUAL:n.push({type:"stringSegment",action:"unchanged",text:a}),i+=a.length,s+=a.length;break;case If.DIFF_DELETE:for(const l of t.sliceAnnotation(i,i+a.length))n.push({type:"stringSegment",action:"removed",text:l.text,annotation:l.annotation});i+=a.length;break;case If.DIFF_INSERT:for(const l of e.sliceAnnotation(s,s+a.length))n.push({type:"stringSegment",action:"added",text:l.text,annotation:l.annotation});s+=a.length;break;default:throw new Error('Unhandled diff-match-patch operation "'.concat(o,'"'))}return n}function kvn(t,e,n){return{type:"string",action:"removed",isChanged:!0,fromValue:t.value,toValue:e,annotation:t.annotation,get segments(){const r=t.sliceAnnotation(0,t.value.length).map(i=>({type:"stringSegment",action:"removed",...i}));return wy(this,"segments",r)}}}function Avn(t,e,n){return{type:"string",action:"added",isChanged:!0,fromValue:e,toValue:t.value,annotation:t.annotation,get segments(){const r=t.sliceAnnotation(0,t.value.length).map(i=>({type:"stringSegment",action:"added",...i}));return wy(this,"segments",r)}}}function Ivn(t,e,n){return{type:"typeChange",action:"changed",isChanged:!0,fromType:t.type,fromValue:t.value,fromDiff:yw(t,void 0),toType:e.type,toValue:e.value,toDiff:bw(e,void 0),annotation:e.annotation}}const Jve=new Set(["_id","_type","_createdAt","_updatedAt","_rev","_weak"]);function Dvn(t,e,n){const r={};let i=!1;for(const a of t.keys){if(Jve.has(a))continue;const l=t.get(a),u=e.get(a);if(u){const d=d$(l,u);r[a]=d,d.isChanged&&(i=!0)}else r[a]=yw(l,void 0),i=!0}for(const a of e.keys){if(Jve.has(a)||t.get(a))continue;const l=e.get(a);r[a]=bw(l,void 0),i=!0}const s=t.value,o=e.value;return i?{type:"object",action:"changed",isChanged:!0,fromValue:s,toValue:o,fields:r,annotation:e.annotation}:{type:"object",action:"unchanged",isChanged:!1,fromValue:s,toValue:o,fields:r}}function Rvn(t,e,n){return{type:"object",action:"removed",isChanged:!0,fromValue:t.value,toValue:e,annotation:t.annotation,get fields(){const r={};for(const i of t.keys){const s=t.get(i);r[i]=yw(s,void 0)}return wy(this,"fields",r)}}}function jvn(t,e,n){return{type:"object",action:"added",isChanged:!0,fromValue:e,toValue:t.value,annotation:t.annotation,get fields(){const r={};for(const i of t.keys){const s=t.get(i);r[i]=bw(s,void 0)}return wy(this,"fields",r)}}}function Ovn(t,e,n){const r=t.value,i=e.value,s=t.type;return r===i?{type:s,action:"unchanged",fromValue:r,toValue:i,isChanged:!1}:{type:t.type,action:"changed",isChanged:!0,fromValue:r,toValue:i,annotation:e.annotation}}function Lvn(t,e,n){const r=t.value,i=e.value,s=t.type;return r===i?{type:s,action:"unchanged",fromValue:r,toValue:i,isChanged:!1}:{type:t.type,action:"changed",isChanged:!0,fromValue:r,toValue:i,annotation:e.annotation}}function d$(t,e){return t.type!==e.type?t.type==="null"?bw(e,null):e.type==="null"?yw(t,null):Ivn(t,e):Pvn(t.type,t,e)}function Pvn(t,e,n,r){switch(t){case"null":return{type:"null",action:"unchanged",isChanged:!1,toValue:null,fromValue:null};case"boolean":return Lvn(e,n);case"number":return Ovn(e,n);case"string":return Svn(e,n);case"array":return yvn(e,n);case"object":return Dvn(e,n);default:throw new Error('Unhandled diff type "'.concat(t,'"'))}}function yw(t,e,n){switch(t.type){case"null":return{type:"null",action:"removed",isChanged:!0,fromValue:null,toValue:e,annotation:t.annotation};case"boolean":return{type:"boolean",action:"removed",isChanged:!0,fromValue:t.value,toValue:e,annotation:t.annotation};case"number":return{type:"number",action:"removed",isChanged:!0,fromValue:t.value,toValue:e,annotation:t.annotation};case"string":return kvn(t,e);case"array":return Cvn(t,e);case"object":return Rvn(t,e);default:throw new Error("Unhandled diff type")}}function bw(t,e,n){switch(t.type){case"null":return{type:"null",action:"added",isChanged:!0,fromValue:e,toValue:null,annotation:t.annotation};case"boolean":return{type:"boolean",action:"added",isChanged:!0,fromValue:e,toValue:t.value,annotation:t.annotation};case"number":return{type:"number",action:"added",isChanged:!0,fromValue:e,toValue:t.value,annotation:t.annotation};case"string":return Avn(t,e);case"array":return Evn(t,e);case"object":return jvn(t,e);default:throw new Error("Unhandled diff type")}}var Mvn=Object.defineProperty,$vn=(t,e,n)=>e in t?Mvn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,FS=(t,e,n)=>($vn(t,typeof e!="symbol"?e+"":e,n),n);class Fvn{constructor(e,n){FS(this,"type","array"),FS(this,"length"),FS(this,"value"),FS(this,"annotation"),FS(this,"elements",[]),this.annotation=n,this.value=e,this.length=e.length}at(e){if(e>=this.length)throw new Error("out of bounds");const n=this.elements[e];return n||(this.elements[e]=Nne(this.value[e],this.annotation))}annotationAt(){return this.annotation}}var Bvn=Object.defineProperty,Nvn=(t,e,n)=>e in t?Bvn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,BS=(t,e,n)=>(Nvn(t,typeof e!="symbol"?e+"":e,n),n);class Vvn{constructor(e,n){BS(this,"type","object"),BS(this,"value"),BS(this,"keys"),BS(this,"annotation"),BS(this,"fields",{}),this.value=e,this.annotation=n,this.keys=Object.keys(e)}get(e){const n=this.fields[e];if(n)return n;if(!this.value.hasOwnProperty(e))return;const r=this.value[e];return this.fields[e]=Nne(r,this.annotation)}}var Uvn=Object.defineProperty,Hvn=(t,e,n)=>e in t?Uvn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ZU=(t,e,n)=>(Hvn(t,typeof e!="symbol"?e+"":e,n),n);let zvn=class{constructor(e,n){ZU(this,"type","string"),ZU(this,"value"),ZU(this,"annotation"),this.value=e,this.annotation=n}sliceAnnotation(e,n){return[{text:this.value.slice(e,n),annotation:this.annotation}]}};var Wvn=Object.defineProperty,Gvn=(t,e,n)=>e in t?Wvn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,XU=(t,e,n)=>(Gvn(t,typeof e!="symbol"?e+"":e,n),n);class QU{constructor(e,n,r){XU(this,"type"),XU(this,"value"),XU(this,"annotation"),this.type=e,this.value=n,this.annotation=r}}function Nne(t,e){if(Array.isArray(t))return new Fvn(t,e);if(t===null)return new QU("null",t,e);const n=typeof t;switch(n){case"number":return new QU(n,t,e);case"boolean":return new QU(n,t,e);case"object":return new Vvn(t,e);case"string":return new zvn(t,e);default:throw new Error("cannot wrap value of type: ".concat(n))}}var NWe={exports:{}},VWe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NI=m;function qvn(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yvn=typeof Object.is=="function"?Object.is:qvn,Kvn=NI.useSyncExternalStore,Zvn=NI.useRef,Xvn=NI.useEffect,Qvn=NI.useMemo,Jvn=NI.useDebugValue;VWe.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=Zvn(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Qvn(function(){function l(p){if(!u){if(u=!0,d=p,p=r(p),i!==void 0&&o.hasValue){var g=o.value;if(i(g,p))return f=g}return f=p}if(g=f,Yvn(d,p))return g;var v=r(p);return i!==void 0&&i(g,v)?g:(d=p,f=v)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=Kvn(t,s[0],s[1]);return Xvn(function(){o.hasValue=!0,o.value=a},[a]),Jvn(a),a};NWe.exports=VWe;var Vne=NWe.exports,eyn=Math.floor,tyn=Math.random;function nyn(t,e){return t+eyn(tyn()*(e-t+1))}var ryn=nyn,iyn=ryn;function syn(t){var e=t.length;return e?t[iyn(0,e-1)]:void 0}var UWe=syn,oyn=UWe,ayn=SWe;function lyn(t){return oyn(ayn(t))}var uyn=lyn,cyn=UWe,dyn=uyn,fyn=Jo;function hyn(t){var e=fyn(t)?cyn:dyn;return e(t)}var pyn=hyn;const myn=vt(pyn);var gyn=function(){function t(n,r){if(typeof n!="function")throw new TypeError("DataLoader must be constructed with a function which accepts "+("Array<key> and returns Promise<Array<value>>, but got: "+n+"."));this._batchLoadFn=n,this._maxBatchSize=xyn(r),this._batchScheduleFn=wyn(r),this._cacheKeyFn=_yn(r),this._cacheMap=Cyn(r),this._batch=null,this.name=Eyn(r)}var e=t.prototype;return e.load=function(r){if(r==null)throw new TypeError("The loader.load() function must be called with a value, "+("but got: "+String(r)+"."));var i=yyn(this),s=this._cacheMap,o=this._cacheKeyFn(r);if(s){var a=s.get(o);if(a){var l=i.cacheHits||(i.cacheHits=[]);return new Promise(function(d){l.push(function(){d(a)})})}}i.keys.push(r);var u=new Promise(function(d,f){i.callbacks.push({resolve:d,reject:f})});return s&&s.set(o,u),u},e.loadMany=function(r){if(!HWe(r))throw new TypeError("The loader.loadMany() function must be called with Array<key> "+("but got: "+r+"."));for(var i=[],s=0;s<r.length;s++)i.push(this.load(r[s]).catch(function(o){return o}));return Promise.all(i)},e.clear=function(r){var i=this._cacheMap;if(i){var s=this._cacheKeyFn(r);i.delete(s)}return this},e.clearAll=function(){var r=this._cacheMap;return r&&r.clear(),this},e.prime=function(r,i){var s=this._cacheMap;if(s){var o=this._cacheKeyFn(r);if(s.get(o)===void 0){var a;i instanceof Error?(a=Promise.reject(i),a.catch(function(){})):a=Promise.resolve(i),s.set(o,a)}}return this},t}(),vyn=typeof process=="object"&&typeof process.nextTick=="function"?function(t){JU||(JU=Promise.resolve()),JU.then(function(){process.nextTick(t)})}:typeof setImmediate=="function"?function(t){setImmediate(t)}:function(t){setTimeout(t)},JU;function yyn(t){var e=t._batch;if(e!==null&&!e.hasDispatched&&e.keys.length<t._maxBatchSize)return e;var n={hasDispatched:!1,keys:[],callbacks:[]};return t._batch=n,t._batchScheduleFn(function(){byn(t,n)}),n}function byn(t,e){if(e.hasDispatched=!0,e.keys.length===0){EY(e);return}var n;try{n=t._batchLoadFn(e.keys)}catch(r){return eH(t,e,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function "+("errored synchronously: "+String(r)+".")))}if(!n||typeof n.then!="function")return eH(t,e,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise: "+String(n)+".")));n.then(function(r){if(!HWe(r))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise of an Array: "+String(r)+"."));if(r.length!==e.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys."+(`

Keys:
`+String(e.keys))+(`

Values:
`+String(r)));EY(e);for(var i=0;i<e.callbacks.length;i++){var s=r[i];s instanceof Error?e.callbacks[i].reject(s):e.callbacks[i].resolve(s)}}).catch(function(r){eH(t,e,r)})}function eH(t,e,n){EY(e);for(var r=0;r<e.keys.length;r++)t.clear(e.keys[r]),e.callbacks[r].reject(n)}function EY(t){if(t.cacheHits)for(var e=0;e<t.cacheHits.length;e++)t.cacheHits[e]()}function xyn(t){var e=!t||t.batch!==!1;if(!e)return 1;var n=t&&t.maxBatchSize;if(n===void 0)return 1/0;if(typeof n!="number"||n<1)throw new TypeError("maxBatchSize must be a positive number: "+n);return n}function wyn(t){var e=t&&t.batchScheduleFn;if(e===void 0)return vyn;if(typeof e!="function")throw new TypeError("batchScheduleFn must be a function: "+e);return e}function _yn(t){var e=t&&t.cacheKeyFn;if(e===void 0)return function(n){return n};if(typeof e!="function")throw new TypeError("cacheKeyFn must be a function: "+e);return e}function Cyn(t){var e=!t||t.cache!==!1;if(!e)return null;var n=t&&t.cacheMap;if(n===void 0)return new Map;if(n!==null){var r=["get","set","delete","clear"],i=r.filter(function(s){return n&&typeof n[s]!="function"});if(i.length!==0)throw new TypeError("Custom cacheMap missing methods: "+i.join(", "))}return n}function Eyn(t){return t&&t.name?t.name:null}function HWe(t){return typeof t=="object"&&t!==null&&typeof t.length=="number"&&(t.length===0||t.length>0&&Object.prototype.hasOwnProperty.call(t,t.length-1))}var Syn=gyn;const Tyn=vt(Syn);var f$={exports:{}},LT={exports:{}};(function(){var t,e,n,r,i,s;typeof performance<"u"&&performance!==null&&performance.now?LT.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(LT.exports=function(){return(t()-i)/1e6},e=process.hrtime,t=function(){var o;return o=e(),o[0]*1e9+o[1]},r=t(),s=process.uptime()*1e9,i=r-s):Date.now?(LT.exports=function(){return Date.now()-n},n=Date.now()):(LT.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(co);var kyn=LT.exports,Ayn=kyn,qg=typeof window>"u"?co:window,M4=["moz","webkit"],g_="AnimationFrame",rC=qg["request"+g_],QA=qg["cancel"+g_]||qg["cancelRequest"+g_];for(var NS=0;!rC&&NS<M4.length;NS++)rC=qg[M4[NS]+"Request"+g_],QA=qg[M4[NS]+"Cancel"+g_]||qg[M4[NS]+"CancelRequest"+g_];if(!rC||!QA){var tH=0,eye=0,ob=[],Iyn=1e3/60;rC=function(t){if(ob.length===0){var e=Ayn(),n=Math.max(0,Iyn-(e-tH));tH=n+e,setTimeout(function(){var r=ob.slice(0);ob.length=0;for(var i=0;i<r.length;i++)if(!r[i].cancelled)try{r[i].callback(tH)}catch(s){setTimeout(function(){throw s},0)}},Math.round(n))}return ob.push({handle:++eye,callback:t,cancelled:!1}),eye},QA=function(t){for(var e=0;e<ob.length;e++)ob[e].handle===t&&(ob[e].cancelled=!0)}}f$.exports=function(t){return rC.call(qg,t)};f$.exports.cancel=function(){QA.apply(qg,arguments)};f$.exports.polyfill=function(t){t||(t=qg),t.requestAnimationFrame=rC,t.cancelAnimationFrame=QA};var Dyn=f$.exports;const Ryn=vt(Dyn);function Lk(t,e,n){return Math.min(Math.max(t,n),e)}class jyn extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}}var PT=jyn;function zWe(t){if(typeof t!="string")throw new PT(t);if(t.trim().toLowerCase()==="transparent")return[0,0,0,0];let e=t.trim();e=Nyn.test(t)?Pyn(t):t;const n=Myn.exec(e);if(n){const o=Array.from(n).slice(1);return[...o.slice(0,3).map(a=>parseInt(JA(a,2),16)),parseInt(JA(o[3]||"f",2),16)/255]}const r=$yn.exec(e);if(r){const o=Array.from(r).slice(1);return[...o.slice(0,3).map(a=>parseInt(a,16)),parseInt(o[3]||"ff",16)/255]}const i=Fyn.exec(e);if(i){const o=Array.from(i).slice(1);return[...o.slice(0,3).map(a=>parseInt(a,10)),parseFloat(o[3]||"1")]}const s=Byn.exec(e);if(s){const[o,a,l,u]=Array.from(s).slice(1).map(parseFloat);if(Lk(0,100,a)!==a)throw new PT(t);if(Lk(0,100,l)!==l)throw new PT(t);return[...Vyn(o,a,l),Number.isNaN(u)?1:u]}throw new PT(t)}function Oyn(t){let e=5381,n=t.length;for(;n;)e=e*33^t.charCodeAt(--n);return(e>>>0)%2341}const tye=t=>parseInt(t.replace(/_/g,""),36),Lyn="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((t,e)=>{const n=tye(e.substring(0,3)),r=tye(e.substring(3)).toString(16);let i="";for(let s=0;s<6-r.length;s++)i+="0";return t[n]=`${i}${r}`,t},{});function Pyn(t){const e=t.toLowerCase().trim(),n=Lyn[Oyn(e)];if(!n)throw new PT(t);return`#${n}`}const JA=(t,e)=>Array.from(Array(e)).map(()=>t).join(""),Myn=new RegExp(`^#${JA("([a-f0-9])",3)}([a-f0-9])?$`,"i"),$yn=new RegExp(`^#${JA("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),Fyn=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${JA(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),Byn=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,Nyn=/^[a-z]+$/i,nye=t=>Math.round(t*255),Vyn=(t,e,n)=>{let r=n/100;if(e===0)return[r,r,r].map(nye);const i=(t%360+360)%360/60,s=(1-Math.abs(2*r-1))*(e/100),o=s*(1-Math.abs(i%2-1));let a=0,l=0,u=0;i>=0&&i<1?(a=s,l=o):i>=1&&i<2?(a=o,l=s):i>=2&&i<3?(l=s,u=o):i>=3&&i<4?(l=o,u=s):i>=4&&i<5?(a=o,u=s):i>=5&&i<6&&(a=s,u=o);const d=r-s/2,f=a+d,h=l+d,p=u+d;return[f,h,p].map(nye)};function Uyn(t){const[e,n,r,i]=zWe(t).map((f,h)=>h===3?f:f/255),s=Math.max(e,n,r),o=Math.min(e,n,r),a=(s+o)/2;if(s===o)return[0,0,a,i];const l=s-o,u=a>.5?l/(2-s-o):l/(s+o);return[60*(e===s?(n-r)/l+(n<r?6:0):n===s?(r-e)/l+2:(e-n)/l+4),u,a,i]}function Hyn(t,e,n,r){return`hsla(${(t%360).toFixed()}, ${Lk(0,100,e*100).toFixed()}%, ${Lk(0,100,n*100).toFixed()}%, ${parseFloat(Lk(0,1,r).toFixed(3))})`}function WWe(t,e){const[n,r,i,s]=Uyn(t);return Hyn(n,r,i-e,s)}function SY(t){if(t==="transparent")return 0;function e(s){const o=s/255;return o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4)}const[n,r,i]=zWe(t);return .2126*e(n)+.7152*e(r)+.0722*e(i)}function zyn(t,e){const n=SY(t),r=SY(e);return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)}const Wyn={decorative:1.5,readable:3,aa:4.5,aaa:7};function rye(t,e="aa",n="#fff"){return zyn(t,n)<Wyn[e]}function Gyn(t,e){return WWe(t,-e)}function qyn(t){return SY(t)>.179}function Yyn(t){return qyn(t)?"#000":"#fff"}var Kyn=GFe,Zyn=mI,Xyn=p9,Qyn=Jo,Jyn=hy,ebn=m9,tbn=v9,nbn=Tee,rbn="[object Map]",ibn="[object Set]",sbn=Object.prototype,obn=sbn.hasOwnProperty;function abn(t){if(t==null)return!0;if(Jyn(t)&&(Qyn(t)||typeof t=="string"||typeof t.splice=="function"||ebn(t)||nbn(t)||Xyn(t)))return!t.length;var e=Zyn(t);if(e==rbn||e==ibn)return!t.size;if(tbn(t))return!Kyn(t).length;for(var n in t)if(obn.call(t,n))return!1;return!0}var lbn=abn;const ubn=vt(lbn);var cbn=(()=>{try{return typeof import.meta<"u"}catch{return!1}})(),dbn=()=>{try{return!!(cbn&&import.meta.webpackHot)}catch{return!1}};function fbn(t){if(dbn)return typeof import.meta.webpackHot>"u"?pbn(t):hbn(t)}function hbn(t){m.useEffect(()=>{if(import.meta.webpackHot){const e=n=>n==="idle"?t():void 0;return import.meta.webpackHot.addStatusHandler(e),()=>{var n;return(n=import.meta.webpackHot)==null?void 0:n.removeStatusHandler(e)}}},[t])}function pbn(t){m.useEffect(()=>{},[t])}var mbn=Une;Une.displayName="bash";Une.aliases=["shell"];function Une(t){(function(e){var n="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",r={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},i={bash:r,environment:{pattern:RegExp("\\$"+n),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+n),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};e.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+n),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:i},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:r}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:i},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:i.entity}}],environment:{pattern:RegExp("\\$?"+n),alias:"constant"},variable:i.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},r.inside=e.languages.bash;for(var s=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],o=i.variable[1].inside,a=0;a<s.length;a++)o[s[a]]=e.languages.bash[s[a]];e.languages.shell=e.languages.bash})(t)}const gbn=vt(mbn);var vbn=Hne;Hne.displayName="json";Hne.aliases=["webmanifest"];function Hne(t){t.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},t.languages.webmanifest=t.languages.json}const ybn=vt(vbn);var bbn=zne;zne.displayName="jsx";zne.aliases=[];function zne(t){(function(e){var n=e.util.clone(e.languages.javascript),r=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,i=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,s=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function o(u,d){return u=u.replace(/<S>/g,function(){return r}).replace(/<BRACES>/g,function(){return i}).replace(/<SPREAD>/g,function(){return s}),RegExp(u,d)}s=o(s).source,e.languages.jsx=e.languages.extend("markup",n),e.languages.jsx.tag.pattern=o(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),e.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,e.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,e.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,e.languages.jsx.tag.inside.comment=n.comment,e.languages.insertBefore("inside","attr-name",{spread:{pattern:o(/<SPREAD>/.source),inside:e.languages.jsx}},e.languages.jsx.tag),e.languages.insertBefore("inside","special-attr",{script:{pattern:o(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:e.languages.jsx}}},e.languages.jsx.tag);var a=function(u){return u?typeof u=="string"?u:typeof u.content=="string"?u.content:u.content.map(a).join(""):""},l=function(u){for(var d=[],f=0;f<u.length;f++){var h=u[f],p=!1;if(typeof h!="string"&&(h.type==="tag"&&h.content[0]&&h.content[0].type==="tag"?h.content[0].content[0].content==="</"?d.length>0&&d[d.length-1].tagName===a(h.content[0].content[1])&&d.pop():h.content[h.content.length-1].content==="/>"||d.push({tagName:a(h.content[0].content[1]),openedBraces:0}):d.length>0&&h.type==="punctuation"&&h.content==="{"?d[d.length-1].openedBraces++:d.length>0&&d[d.length-1].openedBraces>0&&h.type==="punctuation"&&h.content==="}"?d[d.length-1].openedBraces--:p=!0),(p||typeof h=="string")&&d.length>0&&d[d.length-1].openedBraces===0){var g=a(h);f<u.length-1&&(typeof u[f+1]=="string"||u[f+1].type==="plain-text")&&(g+=a(u[f+1]),u.splice(f+1,1)),f>0&&(typeof u[f-1]=="string"||u[f-1].type==="plain-text")&&(g=a(u[f-1])+g,u.splice(f-1,1),f--),u[f]=new e.Token("plain-text",g,null,g)}h.content&&typeof h.content!="string"&&l(h.content)}};e.hooks.add("after-tokenize",function(u){u.language!=="jsx"&&u.language!=="tsx"||l(u.tokens)})})(t)}const xbn=vt(bbn);var wbn=Wne;Wne.displayName="typescript";Wne.aliases=["ts"];function Wne(t){(function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),e.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete e.languages.typescript.parameter,delete e.languages.typescript["literal-property"];var n=e.languages.extend("typescript",{});delete n["class-name"],e.languages.typescript["class-name"].inside=n,e.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n}}}}),e.languages.ts=e.languages.typescript})(t)}const _bn=vt(wbn);var Yp;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yp||(Yp={}));var h6=function(t){return t},iye="beforeunload",Cbn="popstate";function Ebn(t){t===void 0&&(t={});var e=t,n=e.window,r=n===void 0?document.defaultView:n,i=r.history;function s(){var A=r.location,k=A.pathname,I=A.search,D=A.hash,R=i.state||{};return[R.idx,h6({pathname:k,search:I,hash:D,state:R.usr||null,key:R.key||"default"})]}var o=null;function a(){if(o)p.call(o),o=null;else{var A=Yp.Pop,k=s(),I=k[0],D=k[1];if(p.length){if(I!=null){var R=d-I;R&&(o={action:A,location:D,retry:function(){S(R*-1)}},S(R))}}else b(A)}}r.addEventListener(Cbn,a);var l=Yp.Pop,u=s(),d=u[0],f=u[1],h=p6(),p=p6();d==null&&(d=0,i.replaceState(nn({},i.state,{idx:d}),""));function g(A){return typeof A=="string"?A:GWe(A)}function v(A,k){return k===void 0&&(k=null),h6(nn({pathname:f.pathname,hash:"",search:""},typeof A=="string"?kY(A):A,{state:k,key:TY()}))}function y(A,k){return[{usr:A.state,key:A.key,idx:k},g(A)]}function x(A,k,I){return!p.length||(p.call({action:A,location:k,retry:I}),!1)}function b(A){l=A;var k=s();d=k[0],f=k[1],h.call({action:l,location:f})}function _(A,k){var I=Yp.Push,D=v(A,k);function R(){_(A,k)}if(x(I,D,R)){var O=y(D,d+1),L=O[0],P=O[1];try{i.pushState(L,"",P)}catch{r.location.assign(P)}b(I)}}function C(A,k){var I=Yp.Replace,D=v(A,k);function R(){C(A,k)}if(x(I,D,R)){var O=y(D,d),L=O[0],P=O[1];i.replaceState(L,"",P),b(I)}}function S(A){i.go(A)}var T={get action(){return l},get location(){return f},createHref:g,push:_,replace:C,go:S,back:function(){S(-1)},forward:function(){S(1)},listen:function(k){return h.push(k)},block:function(k){var I=p.push(k);return p.length===1&&r.addEventListener(iye,oye),function(){I(),p.length||r.removeEventListener(iye,oye)}}};return T}function Sbn(t){t===void 0&&(t={});var e=t,n=e.initialEntries,r=n===void 0?["/"]:n,i=e.initialIndex,s=r.map(function(_){var C=h6(nn({pathname:"/",search:"",hash:"",state:null,key:TY()},typeof _=="string"?kY(_):_));return C}),o=sye(i??s.length-1,0,s.length-1),a=Yp.Pop,l=s[o],u=p6(),d=p6();function f(_){return typeof _=="string"?_:GWe(_)}function h(_,C){return C===void 0&&(C=null),h6(nn({pathname:l.pathname,search:"",hash:""},typeof _=="string"?kY(_):_,{state:C,key:TY()}))}function p(_,C,S){return!d.length||(d.call({action:_,location:C,retry:S}),!1)}function g(_,C){a=_,l=C,u.call({action:a,location:l})}function v(_,C){var S=Yp.Push,T=h(_,C);function A(){v(_,C)}p(S,T,A)&&(o+=1,s.splice(o,s.length,T),g(S,T))}function y(_,C){var S=Yp.Replace,T=h(_,C);function A(){y(_,C)}p(S,T,A)&&(s[o]=T,g(S,T))}function x(_){var C=sye(o+_,0,s.length-1),S=Yp.Pop,T=s[C];function A(){x(_)}p(S,T,A)&&(o=C,g(S,T))}var b={get index(){return o},get action(){return a},get location(){return l},createHref:f,push:v,replace:y,go:x,back:function(){x(-1)},forward:function(){x(1)},listen:function(C){return u.push(C)},block:function(C){return d.push(C)}};return b}function sye(t,e,n){return Math.min(Math.max(t,e),n)}function oye(t){t.preventDefault(),t.returnValue=""}function p6(){var t=[];return{get length(){return t.length},push:function(n){return t.push(n),function(){t=t.filter(function(r){return r!==n})}},call:function(n){t.forEach(function(r){return r&&r(n)})}}}function TY(){return Math.random().toString(36).substr(2,8)}function GWe(t){var e=t.pathname,n=e===void 0?"/":e,r=t.search,i=r===void 0?"":r,s=t.hash,o=s===void 0?"":s;return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function kY(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}var Tbn=km,qWe=/[\\^$.*+?()[\]{}|]/g,kbn=RegExp(qWe.source);function Abn(t){return t=Tbn(t),t&&kbn.test(t)?t.replace(qWe,"\\$&"):t}var Ibn=Abn;const Gne=vt(Ibn);var YWe,aye=vf;YWe=aye.createRoot,aye.hydrateRoot;m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"groq-logo",height:"1em",viewBox:"0 0 304 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:n,children:[c.jsx("path",{d:"M32 0L0 32H32V0Z",fill:Ke.magenta[400].hex}),c.jsx("path",{d:"M32 32H0L32 64V32Z",fill:Ke.green[300].hex}),c.jsx("path",{d:"M64 32H32V64L64 32Z",fill:Ke.purple[300].hex}),c.jsx("path",{d:"M112 0L80 32H112V0Z",fill:Ke.green[300].hex}),c.jsx("path",{d:"M112 0H80V32L112 0Z",fill:Ke.purple[300].hex}),c.jsx("path",{d:"M112 32H80L112 64V32Z",fill:Ke.yellow[200].hex}),c.jsx("path",{d:"M144 64L112 32V64H144Z",fill:Ke.blue[300].hex}),c.jsx("path",{d:"M80 32V64H112L80 32Z",fill:Ke.orange[400].hex}),c.jsx("path",{d:"M112 0V32H144L112 0Z",fill:Ke.magenta[400].hex}),c.jsx("path",{d:"M192 0L160 32H192V0Z",fill:Ke.yellow[200].hex}),c.jsx("path",{d:"M192 32H160L192 64V32Z",fill:Ke.orange[400].hex}),c.jsx("path",{d:"M224 32H192V64L224 32Z",fill:Ke.green[300].hex}),c.jsx("path",{d:"M192 0V32H224L192 0Z",fill:Ke.blue[300].hex}),c.jsx("path",{d:"M272 0L240 32H272V0Z",fill:Ke.purple[300].hex}),c.jsx("path",{d:"M304 32L272 64H304V32Z",fill:Ke.magenta[400].hex}),c.jsx("path",{d:"M272 32H240L272 64V32Z",fill:Ke.blue[300].hex}),c.jsx("path",{d:"M304 32H272V64L304 32Z",fill:Ke.yellow[200].hex}),c.jsx("path",{d:"M272 0V32H304L272 0Z",fill:Ke.green[300].hex})]})});m.forwardRef(function(e,n){return c.jsxs("svg",{"data-sanity-icon":"groq-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:n,children:[c.jsx("rect",{width:"128",height:"128",rx:"8",fill:Ke.green[950].hex}),c.jsx("rect",{y:"32",width:"64",height:"64",fill:Ke.green[800].hex}),c.jsx("path",{d:"M64 32L32 64H64V32Z",fill:Ke.magenta[400].hex}),c.jsx("path",{d:"M64 64H32L64 96V64Z",fill:Ke.green[300].hex}),c.jsx("path",{d:"M96 64H64V96L96 64Z",fill:Ke.purple[300].hex})]})});const Dbn={light:[Ke.red[200].hex,Ke.red[300].hex,Ke.red[500].hex],dark:[Ke.gray[500].hex,Ke.gray[300].hex,cf.hex]},Rbn=m.forwardRef(function(e,n){const{dark:r,...i}=e,s=Dbn[r?"dark":"light"];return c.jsxs("svg",{"data-sanity-icon":"sanity-logo",height:"1em",viewBox:"0 0 352 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...i,ref:n,children:[c.jsx("path",{d:"M311.14 57.234V80.0016H298.499V57.234",fill:s[1]}),c.jsx("path",{d:"M298.499 57.2341L319.889 20.0017H333.316L311.14 57.2341H298.499Z",fill:s[2]}),c.jsx("path",{d:"M298.499 57.2341L276.515 20.0017H290.345L305.239 45.5161L298.499 57.2341Z",fill:s[1]}),c.jsx("path",{d:"M253.839 40.9625V80.0017H241.007V47.6275L253.839 40.9625Z",fill:s[1]}),c.jsx("path",{d:"M241.007 47.5944L273.538 30.9469L268.042 21.6519L241.007 34.8633V47.5944Z",fill:s[0]}),c.jsx("path",{d:"M241.007 30.9469H221.404V20.0017H267.064L273.538 30.9469H253.839H241.007Z",fill:s[2]}),c.jsx("path",{d:"M214.047 20.0017H201.311V80.0121H214.047V20.0017Z",fill:s[2]}),c.jsx("path",{d:"M149.39 37.8712V80.0017H137.153V20.0017L149.39 37.8712Z",fill:s[1]}),c.jsx("path",{d:"M151.282 20.0017L178.231 60.9939V80.0017L137.153 20.0017H151.282Z",fill:s[2]}),c.jsx("path",{d:"M178.231 57.9129V20.0017H190.467V80.0017H178.231V57.9129Z",fill:s[1]}),c.jsx("path",{d:"M82.1168 80.9834L112.102 65.3053L108.405 55.7303L88.6644 64.9362L82.1168 80.9834Z",fill:s[0]}),c.jsx("path",{d:"M100.657 35.5422L82.1167 80.9834L72.5807 72.7745L94.6719 20.0017L100.657 35.5422Z",fill:s[1]}),c.jsx("path",{d:"M94.672 20.0017H107.312L130.69 80.0017H117.752L94.672 20.0017Z",fill:s[2]}),c.jsx("path",{d:"M25.1347 26.926C25.1347 35.2811 30.3864 40.2524 40.9004 42.8738L52.0417 45.4117C61.9923 47.6571 68.0519 53.2341 68.0519 62.3203C68.1293 66.2787 66.8194 70.1429 64.3417 73.2654C64.3417 64.2002 59.5684 59.302 48.0551 56.3568L37.1158 53.913C28.3559 51.9495 21.5946 47.3647 21.5946 37.4952C21.5485 33.6839 22.7939 29.9658 25.1347 26.926",fill:s[2]}),c.jsx("path",{d:"M57.4954 60.0957C62.2475 63.0827 64.3311 67.2602 64.3311 73.255C60.3977 78.2054 53.4875 80.9834 45.3655 80.9834C31.6941 80.9834 22.1262 74.3725 20 62.8842H33.1292C34.8196 68.1584 39.2952 70.6022 45.2698 70.6022C52.5626 70.6022 57.4104 66.7798 57.506 60.0748",fill:s[1]}),c.jsx("path",{d:"M31.9598 39.3124C29.7898 38.0455 28.0095 36.225 26.8079 34.0442C25.6062 31.8634 25.028 29.4036 25.1347 26.926C28.93 22.0174 35.5318 19.02 43.5794 19.02C57.506 19.02 65.5643 26.2472 67.5523 36.4195H54.9227C53.53 32.409 50.0431 29.2863 43.6858 29.2863C36.8926 29.2863 32.2575 33.1715 31.9917 39.3124",fill:s[1]})]})}),jbn={bg1:Ke.red[500].hex,bg2:Ke.red[200].hex,fg:cf.hex},Obn=m.forwardRef(function(e,n){const{color:r=jbn,...i}=e;return c.jsxs("svg",{"data-sanity-icon":"sanity-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...i,ref:n,children:[c.jsx("rect",{width:"128",height:"128",rx:"8",fill:r.bg1}),c.jsx("path",{d:"M39.423 33.163C39.423 44.1615 46.3363 50.7056 60.1768 54.1564L74.843 57.4972C87.9418 60.453 95.9186 67.7945 95.9186 79.7554C96.0205 84.9662 94.2961 90.0531 91.0345 94.1635C91.0345 82.2301 84.751 75.7822 69.595 71.9052L55.1948 68.6882C43.6633 66.1035 34.7629 60.0681 34.7629 47.0761C34.7022 42.0589 36.3416 37.1644 39.423 33.163",fill:r.fg}),c.jsx("path",{d:"M82.0221 76.827C88.2776 80.759 91.0206 86.2582 91.0206 94.1497C85.8426 100.666 76.7462 104.323 66.0545 104.323C48.0576 104.323 35.4626 95.6207 32.6637 80.4977H49.9468C52.172 87.4406 58.0636 90.6576 65.9285 90.6576C75.5287 90.6576 81.9102 85.6258 82.0361 76.7995",fill:r.bg2}),c.jsx("path",{d:"M48.4075 49.4682C45.551 47.8004 43.2074 45.404 41.6256 42.5332C40.0437 39.6624 39.2826 36.4244 39.4231 33.1629C44.4191 26.7013 53.1096 22.7556 63.7034 22.7556C82.0362 22.7556 92.6439 32.2693 95.2609 45.66H78.6355C76.8022 40.3807 72.2121 36.27 63.8434 36.27C54.9009 36.27 48.7993 41.3843 48.4495 49.4682",fill:r.bg2})]})});var cE={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KWe=m;function tr(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _c=Object.prototype.hasOwnProperty,Lbn=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lye={},uye={};function ZWe(t){return _c.call(uye,t)?!0:_c.call(lye,t)?!1:Lbn.test(t)?uye[t]=!0:(lye[t]=!0,!1)}function Ju(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var jl={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jl[t]=new Ju(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jl[e]=new Ju(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jl[t]=new Ju(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jl[t]=new Ju(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jl[t]=new Ju(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jl[t]=new Ju(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jl[t]=new Ju(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jl[t]=new Ju(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jl[t]=new Ju(t,5,!1,t.toLowerCase(),null,!1,!1)});var qne=/[\-:]([a-z])/g;function Yne(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qne,Yne);jl[e]=new Ju(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qne,Yne);jl[e]=new Ju(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qne,Yne);jl[e]=new Ju(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jl[t]=new Ju(t,1,!1,t.toLowerCase(),null,!1,!1)});jl.xlinkHref=new Ju("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jl[t]=new Ju(t,1,!1,t.toLowerCase(),null,!0,!0)});var UO={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pbn=["Webkit","ms","Moz","O"];Object.keys(UO).forEach(function(t){Pbn.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),UO[e]=UO[t]})});var Mbn=/["'&<>]/;function Pu(t){if(typeof t=="boolean"||typeof t=="number")return""+t;t=""+t;var e=Mbn.exec(t);if(e){var n="",r,i=0;for(r=e.index;r<t.length;r++){switch(t.charCodeAt(r)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}i!==r&&(n+=t.substring(i,r)),i=r+1,n+=e}t=i!==r?n+t.substring(i,r):n}return t}var $bn=/([A-Z])/g,Fbn=/^ms-/,AY=Array.isArray;function sg(t,e){return{insertionMode:t,selectedValue:e}}function Bbn(t,e,n){switch(e){case"select":return sg(1,n.value!=null?n.value:n.defaultValue);case"svg":return sg(2,null);case"math":return sg(3,null);case"foreignObject":return sg(1,null);case"table":return sg(4,null);case"thead":case"tbody":case"tfoot":return sg(5,null);case"colgroup":return sg(7,null);case"tr":return sg(6,null)}return 4<=t.insertionMode||t.insertionMode===0?sg(1,null):t}var cye=new Map;function XWe(t,e,n){if(typeof n!="object")throw Error(tr(62));e=!0;for(var r in n)if(_c.call(n,r)){var i=n[r];if(i!=null&&typeof i!="boolean"&&i!==""){if(r.indexOf("--")===0){var s=Pu(r);i=Pu((""+i).trim())}else{s=r;var o=cye.get(s);o!==void 0||(o=Pu(s.replace($bn,"-$1").toLowerCase().replace(Fbn,"-ms-")),cye.set(s,o)),s=o,i=typeof i=="number"?i===0||_c.call(UO,r)?""+i:i+"px":Pu((""+i).trim())}e?(e=!1,t.push(' style="',s,":",i)):t.push(";",s,":",i)}}e||t.push('"')}function id(t,e,n,r){switch(n){case"style":XWe(t,e,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(e=jl.hasOwnProperty(n)?jl[n]:null,e!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(n=e.attributeName,e.type){case 3:r&&t.push(" ",n,'=""');break;case 4:r===!0?t.push(" ",n,'=""'):r!==!1&&t.push(" ",n,'="',Pu(r),'"');break;case 5:isNaN(r)||t.push(" ",n,'="',Pu(r),'"');break;case 6:!isNaN(r)&&1<=r&&t.push(" ",n,'="',Pu(r),'"');break;default:e.sanitizeURL&&(r=""+r),t.push(" ",n,'="',Pu(r),'"')}}else if(ZWe(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(e=n.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-")return}t.push(" ",n,'="',Pu(r),'"')}}}function HO(t,e,n){if(e!=null){if(n!=null)throw Error(tr(60));if(typeof e!="object"||!("__html"in e))throw Error(tr(61));e=e.__html,e!=null&&t.push(""+e)}}function Nbn(t){var e="";return KWe.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function nH(t,e,n,r){t.push(mp(n));var i=n=null,s;for(s in e)if(_c.call(e,s)){var o=e[s];if(o!=null)switch(s){case"children":n=o;break;case"dangerouslySetInnerHTML":i=o;break;default:id(t,r,s,o)}}return t.push(">"),HO(t,i,n),typeof n=="string"?(t.push(Pu(n)),null):n}var Vbn=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,dye=new Map;function mp(t){var e=dye.get(t);if(e===void 0){if(!Vbn.test(t))throw Error(tr(65,t));e="<"+t,dye.set(t,e)}return e}function Ubn(t,e,n,r,i){switch(e){case"select":t.push(mp("select"));var s=null,o=null;for(d in n)if(_c.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;case"defaultValue":case"value":break;default:id(t,r,d,a)}}return t.push(">"),HO(t,o,s),s;case"option":o=i.selectedValue,t.push(mp("option"));var l=a=null,u=null,d=null;for(s in n)if(_c.call(n,s)){var f=n[s];if(f!=null)switch(s){case"children":a=f;break;case"selected":u=f;break;case"dangerouslySetInnerHTML":d=f;break;case"value":l=f;default:id(t,r,s,f)}}if(o!=null)if(n=l!==null?""+l:Nbn(a),AY(o)){for(r=0;r<o.length;r++)if(""+o[r]===n){t.push(' selected=""');break}}else""+o===n&&t.push(' selected=""');else u&&t.push(' selected=""');return t.push(">"),HO(t,d,a),a;case"textarea":t.push(mp("textarea")),d=o=s=null;for(a in n)if(_c.call(n,a)&&(l=n[a],l!=null))switch(a){case"children":d=l;break;case"value":s=l;break;case"defaultValue":o=l;break;case"dangerouslySetInnerHTML":throw Error(tr(91));default:id(t,r,a,l)}if(s===null&&o!==null&&(s=o),t.push(">"),d!=null){if(s!=null)throw Error(tr(92));if(AY(d)&&1<d.length)throw Error(tr(93));s=""+d}return typeof s=="string"&&s[0]===`
`&&t.push(`
`),s!==null&&t.push(Pu(""+s)),null;case"input":t.push(mp("input")),l=d=a=s=null;for(o in n)if(_c.call(n,o)&&(u=n[o],u!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(tr(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":a=u;break;case"checked":d=u;break;case"value":s=u;break;default:id(t,r,o,u)}return d!==null?id(t,r,"checked",d):l!==null&&id(t,r,"checked",l),s!==null?id(t,r,"value",s):a!==null&&id(t,r,"value",a),t.push("/>"),null;case"menuitem":t.push(mp("menuitem"));for(var h in n)if(_c.call(n,h)&&(s=n[h],s!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(tr(400));default:id(t,r,h,s)}return t.push(">"),null;case"title":t.push(mp("title")),s=null;for(f in n)if(_c.call(n,f)&&(o=n[f],o!=null))switch(f){case"children":s=o;break;case"dangerouslySetInnerHTML":throw Error(tr(434));default:id(t,r,f,o)}return t.push(">"),s;case"listing":case"pre":t.push(mp(e)),o=s=null;for(l in n)if(_c.call(n,l)&&(a=n[l],a!=null))switch(l){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;default:id(t,r,l,a)}if(t.push(">"),o!=null){if(s!=null)throw Error(tr(60));if(typeof o!="object"||!("__html"in o))throw Error(tr(61));n=o.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?t.push(`
`,n):t.push(""+n))}return typeof s=="string"&&s[0]===`
`&&t.push(`
`),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":t.push(mp(e));for(var p in n)if(_c.call(n,p)&&(s=n[p],s!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(tr(399,e));default:id(t,r,p,s)}return t.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return nH(t,n,e,r);case"html":return i.insertionMode===0&&t.push("<!DOCTYPE html>"),nH(t,n,e,r);default:if(e.indexOf("-")===-1&&typeof n.is!="string")return nH(t,n,e,r);t.push(mp(e)),o=s=null;for(u in n)if(_c.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;case"style":XWe(t,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:ZWe(u)&&typeof a!="function"&&typeof a!="symbol"&&t.push(" ",u,'="',Pu(a),'"')}return t.push(">"),HO(t,o,s),s}}function fye(t,e,n){if(t.push('<!--$?--><template id="'),n===null)throw Error(tr(395));return t.push(n),t.push('"></template>')}function Hbn(t,e,n,r){switch(n.insertionMode){case 0:case 1:return t.push('<div hidden id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');case 2:return t.push('<svg aria-hidden="true" style="display:none" id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');case 3:return t.push('<math aria-hidden="true" style="display:none" id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');case 4:return t.push('<table hidden id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');case 5:return t.push('<table hidden><tbody id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');case 6:return t.push('<table hidden><tr id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');case 7:return t.push('<table hidden><colgroup id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');default:throw Error(tr(397))}}function zbn(t,e){switch(e.insertionMode){case 0:case 1:return t.push("</div>");case 2:return t.push("</svg>");case 3:return t.push("</math>");case 4:return t.push("</table>");case 5:return t.push("</tbody></table>");case 6:return t.push("</tr></table>");case 7:return t.push("</colgroup></table>");default:throw Error(tr(397))}}var Wbn=/[<\u2028\u2029]/g;function rH(t){return JSON.stringify(t).replace(Wbn,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function Gbn(t,e){return e=e===void 0?"":e,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:e+"P:",segmentPrefix:e+"S:",boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:t}}function hye(t,e,n,r){return n.generateStaticMarkup?(t.push(Pu(e)),!1):(e===""?t=r:(r&&t.push("<!-- -->"),t.push(Pu(e)),t=!0),t)}var Pk=Object.assign,qbn=Symbol.for("react.element"),QWe=Symbol.for("react.portal"),JWe=Symbol.for("react.fragment"),eGe=Symbol.for("react.strict_mode"),tGe=Symbol.for("react.profiler"),nGe=Symbol.for("react.provider"),rGe=Symbol.for("react.context"),iGe=Symbol.for("react.forward_ref"),sGe=Symbol.for("react.suspense"),oGe=Symbol.for("react.suspense_list"),aGe=Symbol.for("react.memo"),Kne=Symbol.for("react.lazy"),Ybn=Symbol.for("react.scope"),Kbn=Symbol.for("react.debug_trace_mode"),Zbn=Symbol.for("react.legacy_hidden"),Xbn=Symbol.for("react.default_value"),pye=Symbol.iterator;function IY(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case JWe:return"Fragment";case QWe:return"Portal";case tGe:return"Profiler";case eGe:return"StrictMode";case sGe:return"Suspense";case oGe:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rGe:return(t.displayName||"Context")+".Consumer";case nGe:return(t._context.displayName||"Context")+".Provider";case iGe:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case aGe:return e=t.displayName||null,e!==null?e:IY(t.type)||"Memo";case Kne:e=t._payload,t=t._init;try{return IY(t(e))}catch{}}return null}var lGe={};function mye(t,e){if(t=t.contextTypes,!t)return lGe;var n={},r;for(r in t)n[r]=e[r];return n}var nx=null;function h$(t,e){if(t!==e){t.context._currentValue2=t.parentValue,t=t.parent;var n=e.parent;if(t===null){if(n!==null)throw Error(tr(401))}else{if(n===null)throw Error(tr(401));h$(t,n)}e.context._currentValue2=e.value}}function uGe(t){t.context._currentValue2=t.parentValue,t=t.parent,t!==null&&uGe(t)}function cGe(t){var e=t.parent;e!==null&&cGe(e),t.context._currentValue2=t.value}function dGe(t,e){if(t.context._currentValue2=t.parentValue,t=t.parent,t===null)throw Error(tr(402));t.depth===e.depth?h$(t,e):dGe(t,e)}function fGe(t,e){var n=e.parent;if(n===null)throw Error(tr(402));t.depth===n.depth?h$(t,n):fGe(t,n),e.context._currentValue2=e.value}function m6(t){var e=nx;e!==t&&(e===null?cGe(t):t===null?uGe(e):e.depth===t.depth?h$(e,t):e.depth>t.depth?dGe(e,t):fGe(e,t),nx=t)}var gye={isMounted:function(){return!1},enqueueSetState:function(t,e){t=t._reactInternals,t.queue!==null&&t.queue.push(e)},enqueueReplaceState:function(t,e){t=t._reactInternals,t.replace=!0,t.queue=[e]},enqueueForceUpdate:function(){}};function vye(t,e,n,r){var i=t.state!==void 0?t.state:null;t.updater=gye,t.props=n,t.state=i;var s={queue:[],replace:!1};t._reactInternals=s;var o=e.contextType;if(t.context=typeof o=="object"&&o!==null?o._currentValue2:r,o=e.getDerivedStateFromProps,typeof o=="function"&&(o=o(n,i),i=o==null?i:Pk({},i,o),t.state=i),typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function"&&(typeof t.UNSAFE_componentWillMount=="function"||typeof t.componentWillMount=="function"))if(e=t.state,typeof t.componentWillMount=="function"&&t.componentWillMount(),typeof t.UNSAFE_componentWillMount=="function"&&t.UNSAFE_componentWillMount(),e!==t.state&&gye.enqueueReplaceState(t,t.state,null),s.queue!==null&&0<s.queue.length)if(e=s.queue,o=s.replace,s.queue=null,s.replace=!1,o&&e.length===1)t.state=e[0];else{for(s=o?e[0]:t.state,i=!0,o=o?1:0;o<e.length;o++){var a=e[o];a=typeof a=="function"?a.call(t,s,n,r):a,a!=null&&(i?(i=!1,s=Pk({},s,a)):Pk(s,a))}t.state=s}else s.queue=null}var Qbn={id:1,overflow:""};function DY(t,e,n){var r=t.id;t=t.overflow;var i=32-zO(r)-1;r&=~(1<<i),n+=1;var s=32-zO(e)+i;if(30<s){var o=i-i%5;return s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,{id:1<<32-zO(e)+i|n<<i|r,overflow:s+t}}return{id:1<<s|n<<i|r,overflow:t}}var zO=Math.clz32?Math.clz32:txn,Jbn=Math.log,exn=Math.LN2;function txn(t){return t>>>=0,t===0?32:31-(Jbn(t)/exn|0)|0}function nxn(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rxn=typeof Object.is=="function"?Object.is:nxn,d0=null,Zne=null,WO=null,hs=null,MT=!1,g6=!1,e3=0,ev=null,p$=0;function Nb(){if(d0===null)throw Error(tr(321));return d0}function yye(){if(0<p$)throw Error(tr(312));return{memoizedState:null,queue:null,next:null}}function Xne(){return hs===null?WO===null?(MT=!1,WO=hs=yye()):(MT=!0,hs=WO):hs.next===null?(MT=!1,hs=hs.next=yye()):(MT=!0,hs=hs.next),hs}function Qne(){Zne=d0=null,g6=!1,WO=null,p$=0,hs=ev=null}function hGe(t,e){return typeof e=="function"?e(t):e}function bye(t,e,n){if(d0=Nb(),hs=Xne(),MT){var r=hs.queue;if(e=r.dispatch,ev!==null&&(n=ev.get(r),n!==void 0)){ev.delete(r),r=hs.memoizedState;do r=t(r,n.action),n=n.next;while(n!==null);return hs.memoizedState=r,[r,e]}return[hs.memoizedState,e]}return t=t===hGe?typeof e=="function"?e():e:n!==void 0?n(e):e,hs.memoizedState=t,t=hs.queue={last:null,dispatch:null},t=t.dispatch=ixn.bind(null,d0,t),[hs.memoizedState,t]}function xye(t,e){if(d0=Nb(),hs=Xne(),e=e===void 0?null:e,hs!==null){var n=hs.memoizedState;if(n!==null&&e!==null){var r=n[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<e.length;i++)if(!rxn(e[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return t=t(),hs.memoizedState=[t,e],t}function ixn(t,e,n){if(25<=p$)throw Error(tr(301));if(t===d0)if(g6=!0,t={action:n,next:null},ev===null&&(ev=new Map),n=ev.get(e),n===void 0)ev.set(e,t);else{for(e=n;e.next!==null;)e=e.next;e.next=t}}function sxn(){throw Error(tr(394))}function $4(){}var wye={readContext:function(t){return t._currentValue2},useContext:function(t){return Nb(),t._currentValue2},useMemo:xye,useReducer:bye,useRef:function(t){d0=Nb(),hs=Xne();var e=hs.memoizedState;return e===null?(t={current:t},hs.memoizedState=t):e},useState:function(t){return bye(hGe,t)},useInsertionEffect:$4,useLayoutEffect:function(){},useCallback:function(t,e){return xye(function(){return t},e)},useImperativeHandle:$4,useEffect:$4,useDebugValue:$4,useDeferredValue:function(t){return Nb(),t},useTransition:function(){return Nb(),[!1,sxn]},useId:function(){var t=Zne.treeContext,e=t.overflow;t=t.id,t=(t&~(1<<32-zO(t)-1)).toString(32)+e;var n=GO;if(n===null)throw Error(tr(404));return e=e3++,t=":"+n.idPrefix+"R"+t,0<e&&(t+="H"+e.toString(32)),t+":"},useMutableSource:function(t,e){return Nb(),e(t._source)},useSyncExternalStore:function(t,e,n){if(n===void 0)throw Error(tr(407));return n()}},GO=null,iH=KWe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function oxn(t){return console.error(t),null}function $T(){}function axn(t,e,n,r,i,s,o,a,l){var u=[],d=new Set;return e={destination:null,responseState:e,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?oxn:i,onAllReady:s===void 0?$T:s,onShellReady:o===void 0?$T:o,onShellError:a===void 0?$T:a,onFatalError:l===void 0?$T:l},n=v6(e,0,null,n,!1,!1),n.parentFlushed=!0,t=Jne(e,t,null,n,d,lGe,null,Qbn),u.push(t),e}function Jne(t,e,n,r,i,s,o,a){t.allPendingTasks++,n===null?t.pendingRootTasks++:n.pendingTasks++;var l={node:e,ping:function(){var u=t.pingedTasks;u.push(l),u.length===1&&gGe(t)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:s,context:o,treeContext:a};return i.add(l),l}function v6(t,e,n,r,i,s){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:s}}function t3(t,e){if(t=t.onError(e),t!=null&&typeof t!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof t+'" instead');return t}function y6(t,e){var n=t.onShellError;n(e),n=t.onFatalError,n(e),t.destination!==null?(t.status=2,t.destination.destroy(e)):(t.status=1,t.fatalError=e)}function _ye(t,e,n,r,i){for(d0={},Zne=e,e3=0,t=n(r,i);g6;)g6=!1,e3=0,p$+=1,hs=null,t=n(r,i);return Qne(),t}function Cye(t,e,n,r){var i=n.render(),s=r.childContextTypes;if(s!=null){var o=e.legacyContext;if(typeof n.getChildContext!="function")r=o;else{n=n.getChildContext();for(var a in n)if(!(a in s))throw Error(tr(108,IY(r)||"Unknown",a));r=Pk({},o,n)}e.legacyContext=r,ld(t,e,i),e.legacyContext=o}else ld(t,e,i)}function Eye(t,e){if(t&&t.defaultProps){e=Pk({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function RY(t,e,n,r,i){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){i=mye(n,e.legacyContext);var s=n.contextType;s=new n(r,typeof s=="object"&&s!==null?s._currentValue2:i),vye(s,n,r,i),Cye(t,e,s,n)}else{s=mye(n,e.legacyContext),i=_ye(t,e,n,r,s);var o=e3!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)vye(i,n,r,s),Cye(t,e,i,n);else if(o){r=e.treeContext,e.treeContext=DY(r,1,0);try{ld(t,e,i)}finally{e.treeContext=r}}else ld(t,e,i)}else if(typeof n=="string"){switch(i=e.blockedSegment,s=Ubn(i.chunks,n,r,t.responseState,i.formatContext),i.lastPushedText=!1,o=i.formatContext,i.formatContext=Bbn(o,n,r),jY(t,e,s),i.formatContext=o,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push("</",n,">")}i.lastPushedText=!1}else{switch(n){case Zbn:case Kbn:case eGe:case tGe:case JWe:ld(t,e,r.children);return;case oGe:ld(t,e,r.children);return;case Ybn:throw Error(tr(343));case sGe:e:{n=e.blockedBoundary,i=e.blockedSegment,s=r.fallback,r=r.children,o=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:o,errorDigest:null},l=v6(t,i.chunks.length,a,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var u=v6(t,0,null,i.formatContext,!1,!1);u.parentFlushed=!0,e.blockedBoundary=a,e.blockedSegment=u;try{if(jY(t,e,r),t.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),u.status=1,b6(a,u),a.pendingTasks===0)break e}catch(d){u.status=4,a.forceClientRender=!0,a.errorDigest=t3(t,d)}finally{e.blockedBoundary=n,e.blockedSegment=i}e=Jne(t,s,n,l,o,e.legacyContext,e.context,e.treeContext),t.pingedTasks.push(e)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case iGe:if(r=_ye(t,e,n.render,r,i),e3!==0){n=e.treeContext,e.treeContext=DY(n,1,0);try{ld(t,e,r)}finally{e.treeContext=n}}else ld(t,e,r);return;case aGe:n=n.type,r=Eye(n,r),RY(t,e,n,r,i);return;case nGe:if(i=r.children,n=n._context,r=r.value,s=n._currentValue2,n._currentValue2=r,o=nx,nx=r={parent:o,depth:o===null?0:o.depth+1,context:n,parentValue:s,value:r},e.context=r,ld(t,e,i),t=nx,t===null)throw Error(tr(403));r=t.parentValue,t.context._currentValue2=r===Xbn?t.context._defaultValue:r,t=nx=t.parent,e.context=t;return;case rGe:r=r.children,r=r(n._currentValue2),ld(t,e,r);return;case Kne:i=n._init,n=i(n._payload),r=Eye(n,r),RY(t,e,n,r,void 0);return}throw Error(tr(130,n==null?n:typeof n,""))}}function ld(t,e,n){if(e.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case qbn:RY(t,e,n.type,n.props,n.ref);return;case QWe:throw Error(tr(257));case Kne:var r=n._init;n=r(n._payload),ld(t,e,n);return}if(AY(n)){Sye(t,e,n);return}if(n===null||typeof n!="object"?r=null:(r=pye&&n[pye]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var i=[];do i.push(n.value),n=r.next();while(!n.done);Sye(t,e,i)}return}throw t=Object.prototype.toString.call(n),Error(tr(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}typeof n=="string"?(r=e.blockedSegment,r.lastPushedText=hye(e.blockedSegment.chunks,n,t.responseState,r.lastPushedText)):typeof n=="number"&&(r=e.blockedSegment,r.lastPushedText=hye(e.blockedSegment.chunks,""+n,t.responseState,r.lastPushedText))}function Sye(t,e,n){for(var r=n.length,i=0;i<r;i++){var s=e.treeContext;e.treeContext=DY(s,r,i);try{jY(t,e,n[i])}finally{e.treeContext=s}}}function jY(t,e,n){var r=e.blockedSegment.formatContext,i=e.legacyContext,s=e.context;try{return ld(t,e,n)}catch(l){if(Qne(),typeof l=="object"&&l!==null&&typeof l.then=="function"){n=l;var o=e.blockedSegment,a=v6(t,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(a),o.lastPushedText=!1,t=Jne(t,e.node,e.blockedBoundary,a,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,n.then(t,t),e.blockedSegment.formatContext=r,e.legacyContext=i,e.context=s,m6(s)}else throw e.blockedSegment.formatContext=r,e.legacyContext=i,e.context=s,m6(s),l}}function lxn(t){var e=t.blockedBoundary;t=t.blockedSegment,t.status=3,mGe(this,e,t)}function pGe(t,e,n){var r=t.blockedBoundary;t.blockedSegment.status=3,r===null?(e.allPendingTasks--,e.status!==2&&(e.status=2,e.destination!==null&&e.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,t=n===void 0?Error(tr(432)):n,r.errorDigest=e.onError(t),r.parentFlushed&&e.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(i){return pGe(i,e,n)}),r.fallbackAbortableTasks.clear(),e.allPendingTasks--,e.allPendingTasks===0&&(r=e.onAllReady,r()))}function b6(t,e){if(e.chunks.length===0&&e.children.length===1&&e.children[0].boundary===null){var n=e.children[0];n.id=e.id,n.parentFlushed=!0,n.status===1&&b6(t,n)}else t.completedSegments.push(e)}function mGe(t,e,n){if(e===null){if(n.parentFlushed){if(t.completedRootSegment!==null)throw Error(tr(389));t.completedRootSegment=n}t.pendingRootTasks--,t.pendingRootTasks===0&&(t.onShellError=$T,e=t.onShellReady,e())}else e.pendingTasks--,e.forceClientRender||(e.pendingTasks===0?(n.parentFlushed&&n.status===1&&b6(e,n),e.parentFlushed&&t.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach(lxn,t),e.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(b6(e,n),e.completedSegments.length===1&&e.parentFlushed&&t.partialBoundaries.push(e)));t.allPendingTasks--,t.allPendingTasks===0&&(t=t.onAllReady,t())}function gGe(t){if(t.status!==2){var e=nx,n=iH.current;iH.current=wye;var r=GO;GO=t.responseState;try{var i=t.pingedTasks,s;for(s=0;s<i.length;s++){var o=i[s],a=t,l=o.blockedSegment;if(l.status===0){m6(o.context);try{ld(a,o,o.node),a.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("<!-- -->"),o.abortSet.delete(o),l.status=1,mGe(a,o.blockedBoundary,l)}catch(g){if(Qne(),typeof g=="object"&&g!==null&&typeof g.then=="function"){var u=o.ping;g.then(u,u)}else{o.abortSet.delete(o),l.status=4;var d=o.blockedBoundary,f=g,h=t3(a,f);if(d===null?y6(a,f):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=h,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var p=a.onAllReady;p()}}}finally{}}}i.splice(0,s),t.destination!==null&&ere(t,t.destination)}catch(g){t3(t,g),y6(t,g)}finally{GO=r,iH.current=n,n===wye&&m6(e)}}}function F4(t,e,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=t.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,t=t.responseState,e.push('<template id="'),e.push(t.placeholderPrefix),t=r.toString(16),e.push(t),e.push('"></template>');case 1:n.status=2;var i=!0;r=n.chunks;var s=0;n=n.children;for(var o=0;o<n.length;o++){for(i=n[o];s<i.index;s++)e.push(r[s]);i=m$(t,e,i)}for(;s<r.length-1;s++)e.push(r[s]);return s<r.length&&(i=e.push(r[s])),i;default:throw Error(tr(390))}}function m$(t,e,n){var r=n.boundary;if(r===null)return F4(t,e,n);if(r.parentFlushed=!0,r.forceClientRender)return t.responseState.generateStaticMarkup||(r=r.errorDigest,e.push("<!--$!-->"),e.push("<template"),r&&(e.push(' data-dgst="'),r=Pu(r),e.push(r),e.push('"')),e.push("></template>")),F4(t,e,n),t=t.responseState.generateStaticMarkup?!0:e.push("<!--/$-->"),t;if(0<r.pendingTasks){r.rootSegmentID=t.nextSegmentId++,0<r.completedSegments.length&&t.partialBoundaries.push(r);var i=t.responseState,s=i.nextSuspenseID++;return i=i.boundaryPrefix+s.toString(16),r=r.id=i,fye(e,t.responseState,r),F4(t,e,n),e.push("<!--/$-->")}if(r.byteSize>t.progressiveChunkSize)return r.rootSegmentID=t.nextSegmentId++,t.completedBoundaries.push(r),fye(e,t.responseState,r.id),F4(t,e,n),e.push("<!--/$-->");if(t.responseState.generateStaticMarkup||e.push("<!--$-->"),n=r.completedSegments,n.length!==1)throw Error(tr(391));return m$(t,e,n[0]),t=t.responseState.generateStaticMarkup?!0:e.push("<!--/$-->"),t}function Tye(t,e,n){return Hbn(e,t.responseState,n.formatContext,n.id),m$(t,e,n),zbn(e,n.formatContext)}function kye(t,e,n){for(var r=n.completedSegments,i=0;i<r.length;i++)vGe(t,e,n,r[i]);if(r.length=0,t=t.responseState,r=n.id,n=n.rootSegmentID,e.push(t.startInlineScript),t.sentCompleteBoundaryFunction?e.push('$RC("'):(t.sentCompleteBoundaryFunction=!0,e.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error(tr(395));return n=n.toString(16),e.push(r),e.push('","'),e.push(t.segmentPrefix),e.push(n),e.push('")<\/script>')}function vGe(t,e,n,r){if(r.status===2)return!0;var i=r.id;if(i===-1){if((r.id=n.rootSegmentID)===-1)throw Error(tr(392));return Tye(t,e,r)}return Tye(t,e,r),t=t.responseState,e.push(t.startInlineScript),t.sentCompleteSegmentFunction?e.push('$RS("'):(t.sentCompleteSegmentFunction=!0,e.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),e.push(t.segmentPrefix),i=i.toString(16),e.push(i),e.push('","'),e.push(t.placeholderPrefix),e.push(i),e.push('")<\/script>')}function ere(t,e){try{var n=t.completedRootSegment;if(n!==null&&t.pendingRootTasks===0){m$(t,e,n),t.completedRootSegment=null;var r=t.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)e.push(r[n]);n<r.length&&e.push(r[n])}var i=t.clientRenderedBoundaries,s;for(s=0;s<i.length;s++){var o=i[s];r=e;var a=t.responseState,l=o.id,u=o.errorDigest,d=o.errorMessage,f=o.errorComponentStack;if(r.push(a.startInlineScript),a.sentClientRenderFunction?r.push('$RX("'):(a.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),l===null)throw Error(tr(395));if(r.push(l),r.push('"'),u||d||f){r.push(",");var h=rH(u||"");r.push(h)}if(d||f){r.push(",");var p=rH(d||"");r.push(p)}if(f){r.push(",");var g=rH(f);r.push(g)}if(!r.push(")<\/script>")){t.destination=null,s++,i.splice(0,s);return}}i.splice(0,s);var v=t.completedBoundaries;for(s=0;s<v.length;s++)if(!kye(t,e,v[s])){t.destination=null,s++,v.splice(0,s);return}v.splice(0,s);var y=t.partialBoundaries;for(s=0;s<y.length;s++){var x=y[s];e:{i=t,o=e;var b=x.completedSegments;for(a=0;a<b.length;a++)if(!vGe(i,o,x,b[a])){a++,b.splice(0,a);var _=!1;break e}b.splice(0,a),_=!0}if(!_){t.destination=null,s++,y.splice(0,s);return}}y.splice(0,s);var C=t.completedBoundaries;for(s=0;s<C.length;s++)if(!kye(t,e,C[s])){t.destination=null,s++,C.splice(0,s);return}C.splice(0,s)}finally{t.allPendingTasks===0&&t.pingedTasks.length===0&&t.clientRenderedBoundaries.length===0&&t.completedBoundaries.length===0&&e.push(null)}}function uxn(t,e){try{var n=t.abortableTasks;n.forEach(function(r){return pGe(r,t,e)}),n.clear(),t.destination!==null&&ere(t,t.destination)}catch(r){t3(t,r),y6(t,r)}}function cxn(){}function yGe(t,e,n,r){var i=!1,s=null,o="",a={push:function(u){return u!==null&&(o+=u),!0},destroy:function(u){i=!0,s=u}},l=!1;if(t=axn(t,Gbn(n,e?e.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,cxn,void 0,function(){l=!0},void 0,void 0),gGe(t),uxn(t,r),t.status===1)t.status=2,a.destroy(t.fatalError);else if(t.status!==2&&t.destination===null){t.destination=a;try{ere(t,a)}catch(u){t3(t,u),y6(t,u)}}if(i)throw s;if(!l)throw Error(tr(426));return o}cE.renderToNodeStream=function(){throw Error(tr(207))};cE.renderToStaticMarkup=function(t,e){return yGe(t,e,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};cE.renderToStaticNodeStream=function(){throw Error(tr(208))};cE.renderToString=function(t,e){return yGe(t,e,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};cE.version="18.2.0";var tre={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bGe=m;function gr(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ud=null,cd=0;function tn(t,e){if(e.length!==0)if(512<e.length)0<cd&&(t.enqueue(new Uint8Array(ud.buffer,0,cd)),ud=new Uint8Array(512),cd=0),t.enqueue(e);else{var n=ud.length-cd;n<e.length&&(n===0?t.enqueue(ud):(ud.set(e.subarray(0,n),cd),t.enqueue(ud),e=e.subarray(n)),ud=new Uint8Array(512),cd=0),ud.set(e,cd),cd+=e.length}}function js(t,e){return tn(t,e),!0}function Aye(t){ud&&0<cd&&(t.enqueue(new Uint8Array(ud.buffer,0,cd)),ud=null,cd=0)}var xGe=new TextEncoder;function _r(t){return xGe.encode(t)}function Lt(t){return xGe.encode(t)}function wGe(t,e){typeof t.error=="function"?t.error(e):t.close()}var Cc=Object.prototype.hasOwnProperty,dxn=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Iye={},Dye={};function _Ge(t){return Cc.call(Dye,t)?!0:Cc.call(Iye,t)?!1:dxn.test(t)?Dye[t]=!0:(Iye[t]=!0,!1)}function ec(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ol={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ol[t]=new ec(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ol[e]=new ec(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ol[t]=new ec(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ol[t]=new ec(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ol[t]=new ec(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ol[t]=new ec(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ol[t]=new ec(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ol[t]=new ec(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ol[t]=new ec(t,5,!1,t.toLowerCase(),null,!1,!1)});var nre=/[\-:]([a-z])/g;function rre(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(nre,rre);Ol[e]=new ec(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(nre,rre);Ol[e]=new ec(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(nre,rre);Ol[e]=new ec(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ol[t]=new ec(t,1,!1,t.toLowerCase(),null,!1,!1)});Ol.xlinkHref=new ec("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ol[t]=new ec(t,1,!1,t.toLowerCase(),null,!0,!0)});var qO={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fxn=["Webkit","ms","Moz","O"];Object.keys(qO).forEach(function(t){fxn.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qO[e]=qO[t]})});var hxn=/["'&<>]/;function Sl(t){if(typeof t=="boolean"||typeof t=="number")return""+t;t=""+t;var e=hxn.exec(t);if(e){var n="",r,i=0;for(r=e.index;r<t.length;r++){switch(t.charCodeAt(r)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}i!==r&&(n+=t.substring(i,r)),i=r+1,n+=e}t=i!==r?n+t.substring(i,r):n}return t}var pxn=/([A-Z])/g,mxn=/^ms-/,OY=Array.isArray,gxn=Lt("<script>"),vxn=Lt("<\/script>"),yxn=Lt('<script src="'),bxn=Lt('<script type="module" src="'),Rye=Lt('" async=""><\/script>'),xxn=/(<\/|<)(s)(cript)/gi;function wxn(t,e,n,r){return""+e+(n==="s"?"\\u0073":"\\u0053")+r}function _xn(t,e,n,r,i){t=t===void 0?"":t,e=e===void 0?gxn:Lt('<script nonce="'+Sl(e)+'">');var s=[];if(n!==void 0&&s.push(e,_r((""+n).replace(xxn,wxn)),vxn),r!==void 0)for(n=0;n<r.length;n++)s.push(yxn,_r(Sl(r[n])),Rye);if(i!==void 0)for(r=0;r<i.length;r++)s.push(bxn,_r(Sl(i[r])),Rye);return{bootstrapChunks:s,startInlineScript:e,placeholderPrefix:Lt(t+"P:"),segmentPrefix:Lt(t+"S:"),boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function gp(t,e){return{insertionMode:t,selectedValue:e}}function Cxn(t){return gp(t==="http://www.w3.org/2000/svg"?2:t==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function Exn(t,e,n){switch(e){case"select":return gp(1,n.value!=null?n.value:n.defaultValue);case"svg":return gp(2,null);case"math":return gp(3,null);case"foreignObject":return gp(1,null);case"table":return gp(4,null);case"thead":case"tbody":case"tfoot":return gp(5,null);case"colgroup":return gp(7,null);case"tr":return gp(6,null)}return 4<=t.insertionMode||t.insertionMode===0?gp(1,null):t}var ire=Lt("<!-- -->");function jye(t,e,n,r){return e===""?r:(r&&t.push(ire),t.push(_r(Sl(e))),!0)}var Oye=new Map,Sxn=Lt(' style="'),Lye=Lt(":"),Txn=Lt(";");function CGe(t,e,n){if(typeof n!="object")throw Error(gr(62));e=!0;for(var r in n)if(Cc.call(n,r)){var i=n[r];if(i!=null&&typeof i!="boolean"&&i!==""){if(r.indexOf("--")===0){var s=_r(Sl(r));i=_r(Sl((""+i).trim()))}else{s=r;var o=Oye.get(s);o!==void 0||(o=Lt(Sl(s.replace(pxn,"-$1").toLowerCase().replace(mxn,"-ms-"))),Oye.set(s,o)),s=o,i=typeof i=="number"?i===0||Cc.call(qO,r)?_r(""+i):_r(i+"px"):_r(Sl((""+i).trim()))}e?(e=!1,t.push(Sxn,s,Lye,i)):t.push(Txn,s,Lye,i)}}e||t.push(Vb)}var v1=Lt(" "),G2=Lt('="'),Vb=Lt('"'),Pye=Lt('=""');function sd(t,e,n,r){switch(n){case"style":CGe(t,e,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(e=Ol.hasOwnProperty(n)?Ol[n]:null,e!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(n=_r(e.attributeName),e.type){case 3:r&&t.push(v1,n,Pye);break;case 4:r===!0?t.push(v1,n,Pye):r!==!1&&t.push(v1,n,G2,_r(Sl(r)),Vb);break;case 5:isNaN(r)||t.push(v1,n,G2,_r(Sl(r)),Vb);break;case 6:!isNaN(r)&&1<=r&&t.push(v1,n,G2,_r(Sl(r)),Vb);break;default:e.sanitizeURL&&(r=""+r),t.push(v1,n,G2,_r(Sl(r)),Vb)}}else if(_Ge(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(e=n.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-")return}t.push(v1,_r(n),G2,_r(Sl(r)),Vb)}}}var y1=Lt(">"),Mye=Lt("/>");function YO(t,e,n){if(e!=null){if(n!=null)throw Error(gr(60));if(typeof e!="object"||!("__html"in e))throw Error(gr(61));e=e.__html,e!=null&&t.push(_r(""+e))}}function kxn(t){var e="";return bGe.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}var sH=Lt(' selected=""');function oH(t,e,n,r){t.push(vp(n));var i=n=null,s;for(s in e)if(Cc.call(e,s)){var o=e[s];if(o!=null)switch(s){case"children":n=o;break;case"dangerouslySetInnerHTML":i=o;break;default:sd(t,r,s,o)}}return t.push(y1),YO(t,i,n),typeof n=="string"?(t.push(_r(Sl(n))),null):n}var aH=Lt(`
`),Axn=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,$ye=new Map;function vp(t){var e=$ye.get(t);if(e===void 0){if(!Axn.test(t))throw Error(gr(65,t));e=Lt("<"+t),$ye.set(t,e)}return e}var Ixn=Lt("<!DOCTYPE html>");function Dxn(t,e,n,r,i){switch(e){case"select":t.push(vp("select"));var s=null,o=null;for(d in n)if(Cc.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;case"defaultValue":case"value":break;default:sd(t,r,d,a)}}return t.push(y1),YO(t,o,s),s;case"option":o=i.selectedValue,t.push(vp("option"));var l=a=null,u=null,d=null;for(s in n)if(Cc.call(n,s)){var f=n[s];if(f!=null)switch(s){case"children":a=f;break;case"selected":u=f;break;case"dangerouslySetInnerHTML":d=f;break;case"value":l=f;default:sd(t,r,s,f)}}if(o!=null)if(n=l!==null?""+l:kxn(a),OY(o)){for(r=0;r<o.length;r++)if(""+o[r]===n){t.push(sH);break}}else""+o===n&&t.push(sH);else u&&t.push(sH);return t.push(y1),YO(t,d,a),a;case"textarea":t.push(vp("textarea")),d=o=s=null;for(a in n)if(Cc.call(n,a)&&(l=n[a],l!=null))switch(a){case"children":d=l;break;case"value":s=l;break;case"defaultValue":o=l;break;case"dangerouslySetInnerHTML":throw Error(gr(91));default:sd(t,r,a,l)}if(s===null&&o!==null&&(s=o),t.push(y1),d!=null){if(s!=null)throw Error(gr(92));if(OY(d)&&1<d.length)throw Error(gr(93));s=""+d}return typeof s=="string"&&s[0]===`
`&&t.push(aH),s!==null&&t.push(_r(Sl(""+s))),null;case"input":t.push(vp("input")),l=d=a=s=null;for(o in n)if(Cc.call(n,o)&&(u=n[o],u!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(gr(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":a=u;break;case"checked":d=u;break;case"value":s=u;break;default:sd(t,r,o,u)}return d!==null?sd(t,r,"checked",d):l!==null&&sd(t,r,"checked",l),s!==null?sd(t,r,"value",s):a!==null&&sd(t,r,"value",a),t.push(Mye),null;case"menuitem":t.push(vp("menuitem"));for(var h in n)if(Cc.call(n,h)&&(s=n[h],s!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(gr(400));default:sd(t,r,h,s)}return t.push(y1),null;case"title":t.push(vp("title")),s=null;for(f in n)if(Cc.call(n,f)&&(o=n[f],o!=null))switch(f){case"children":s=o;break;case"dangerouslySetInnerHTML":throw Error(gr(434));default:sd(t,r,f,o)}return t.push(y1),s;case"listing":case"pre":t.push(vp(e)),o=s=null;for(l in n)if(Cc.call(n,l)&&(a=n[l],a!=null))switch(l){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;default:sd(t,r,l,a)}if(t.push(y1),o!=null){if(s!=null)throw Error(gr(60));if(typeof o!="object"||!("__html"in o))throw Error(gr(61));n=o.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?t.push(aH,_r(n)):t.push(_r(""+n)))}return typeof s=="string"&&s[0]===`
`&&t.push(aH),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":t.push(vp(e));for(var p in n)if(Cc.call(n,p)&&(s=n[p],s!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(gr(399,e));default:sd(t,r,p,s)}return t.push(Mye),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return oH(t,n,e,r);case"html":return i.insertionMode===0&&t.push(Ixn),oH(t,n,e,r);default:if(e.indexOf("-")===-1&&typeof n.is!="string")return oH(t,n,e,r);t.push(vp(e)),o=s=null;for(u in n)if(Cc.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;case"style":CGe(t,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:_Ge(u)&&typeof a!="function"&&typeof a!="symbol"&&t.push(v1,_r(u),G2,_r(Sl(a)),Vb)}return t.push(y1),YO(t,o,s),s}}var Rxn=Lt("</"),jxn=Lt(">"),Oxn=Lt('<template id="'),Lxn=Lt('"></template>'),Pxn=Lt("<!--$-->"),Mxn=Lt('<!--$?--><template id="'),$xn=Lt('"></template>'),Fxn=Lt("<!--$!-->"),Bxn=Lt("<!--/$-->"),Nxn=Lt("<template"),Vxn=Lt('"'),Uxn=Lt(' data-dgst="');Lt(' data-msg="');Lt(' data-stck="');var Hxn=Lt("></template>");function Fye(t,e,n){if(tn(t,Mxn),n===null)throw Error(gr(395));return tn(t,n),js(t,$xn)}var zxn=Lt('<div hidden id="'),Wxn=Lt('">'),Gxn=Lt("</div>"),qxn=Lt('<svg aria-hidden="true" style="display:none" id="'),Yxn=Lt('">'),Kxn=Lt("</svg>"),Zxn=Lt('<math aria-hidden="true" style="display:none" id="'),Xxn=Lt('">'),Qxn=Lt("</math>"),Jxn=Lt('<table hidden id="'),ewn=Lt('">'),twn=Lt("</table>"),nwn=Lt('<table hidden><tbody id="'),rwn=Lt('">'),iwn=Lt("</tbody></table>"),swn=Lt('<table hidden><tr id="'),own=Lt('">'),awn=Lt("</tr></table>"),lwn=Lt('<table hidden><colgroup id="'),uwn=Lt('">'),cwn=Lt("</colgroup></table>");function dwn(t,e,n,r){switch(n.insertionMode){case 0:case 1:return tn(t,zxn),tn(t,e.segmentPrefix),tn(t,_r(r.toString(16))),js(t,Wxn);case 2:return tn(t,qxn),tn(t,e.segmentPrefix),tn(t,_r(r.toString(16))),js(t,Yxn);case 3:return tn(t,Zxn),tn(t,e.segmentPrefix),tn(t,_r(r.toString(16))),js(t,Xxn);case 4:return tn(t,Jxn),tn(t,e.segmentPrefix),tn(t,_r(r.toString(16))),js(t,ewn);case 5:return tn(t,nwn),tn(t,e.segmentPrefix),tn(t,_r(r.toString(16))),js(t,rwn);case 6:return tn(t,swn),tn(t,e.segmentPrefix),tn(t,_r(r.toString(16))),js(t,own);case 7:return tn(t,lwn),tn(t,e.segmentPrefix),tn(t,_r(r.toString(16))),js(t,uwn);default:throw Error(gr(397))}}function fwn(t,e){switch(e.insertionMode){case 0:case 1:return js(t,Gxn);case 2:return js(t,Kxn);case 3:return js(t,Qxn);case 4:return js(t,twn);case 5:return js(t,iwn);case 6:return js(t,awn);case 7:return js(t,cwn);default:throw Error(gr(397))}}var hwn=Lt('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),pwn=Lt('$RS("'),mwn=Lt('","'),gwn=Lt('")<\/script>'),vwn=Lt('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),ywn=Lt('$RC("'),bwn=Lt('","'),xwn=Lt('")<\/script>'),wwn=Lt('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),_wn=Lt('$RX("'),Cwn=Lt('"'),Ewn=Lt(")<\/script>"),lH=Lt(","),Swn=/[<\u2028\u2029]/g;function uH(t){return JSON.stringify(t).replace(Swn,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Mk=Object.assign,Twn=Symbol.for("react.element"),EGe=Symbol.for("react.portal"),SGe=Symbol.for("react.fragment"),TGe=Symbol.for("react.strict_mode"),kGe=Symbol.for("react.profiler"),AGe=Symbol.for("react.provider"),IGe=Symbol.for("react.context"),DGe=Symbol.for("react.forward_ref"),RGe=Symbol.for("react.suspense"),jGe=Symbol.for("react.suspense_list"),OGe=Symbol.for("react.memo"),sre=Symbol.for("react.lazy"),kwn=Symbol.for("react.scope"),Awn=Symbol.for("react.debug_trace_mode"),Iwn=Symbol.for("react.legacy_hidden"),Dwn=Symbol.for("react.default_value"),Bye=Symbol.iterator;function LY(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case SGe:return"Fragment";case EGe:return"Portal";case kGe:return"Profiler";case TGe:return"StrictMode";case RGe:return"Suspense";case jGe:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case IGe:return(t.displayName||"Context")+".Consumer";case AGe:return(t._context.displayName||"Context")+".Provider";case DGe:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case OGe:return e=t.displayName||null,e!==null?e:LY(t.type)||"Memo";case sre:e=t._payload,t=t._init;try{return LY(t(e))}catch{}}return null}var LGe={};function Nye(t,e){if(t=t.contextTypes,!t)return LGe;var n={},r;for(r in t)n[r]=e[r];return n}var rx=null;function g$(t,e){if(t!==e){t.context._currentValue=t.parentValue,t=t.parent;var n=e.parent;if(t===null){if(n!==null)throw Error(gr(401))}else{if(n===null)throw Error(gr(401));g$(t,n)}e.context._currentValue=e.value}}function PGe(t){t.context._currentValue=t.parentValue,t=t.parent,t!==null&&PGe(t)}function MGe(t){var e=t.parent;e!==null&&MGe(e),t.context._currentValue=t.value}function $Ge(t,e){if(t.context._currentValue=t.parentValue,t=t.parent,t===null)throw Error(gr(402));t.depth===e.depth?g$(t,e):$Ge(t,e)}function FGe(t,e){var n=e.parent;if(n===null)throw Error(gr(402));t.depth===n.depth?g$(t,n):FGe(t,n),e.context._currentValue=e.value}function x6(t){var e=rx;e!==t&&(e===null?MGe(t):t===null?PGe(e):e.depth===t.depth?g$(e,t):e.depth>t.depth?$Ge(e,t):FGe(e,t),rx=t)}var Vye={isMounted:function(){return!1},enqueueSetState:function(t,e){t=t._reactInternals,t.queue!==null&&t.queue.push(e)},enqueueReplaceState:function(t,e){t=t._reactInternals,t.replace=!0,t.queue=[e]},enqueueForceUpdate:function(){}};function Uye(t,e,n,r){var i=t.state!==void 0?t.state:null;t.updater=Vye,t.props=n,t.state=i;var s={queue:[],replace:!1};t._reactInternals=s;var o=e.contextType;if(t.context=typeof o=="object"&&o!==null?o._currentValue:r,o=e.getDerivedStateFromProps,typeof o=="function"&&(o=o(n,i),i=o==null?i:Mk({},i,o),t.state=i),typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function"&&(typeof t.UNSAFE_componentWillMount=="function"||typeof t.componentWillMount=="function"))if(e=t.state,typeof t.componentWillMount=="function"&&t.componentWillMount(),typeof t.UNSAFE_componentWillMount=="function"&&t.UNSAFE_componentWillMount(),e!==t.state&&Vye.enqueueReplaceState(t,t.state,null),s.queue!==null&&0<s.queue.length)if(e=s.queue,o=s.replace,s.queue=null,s.replace=!1,o&&e.length===1)t.state=e[0];else{for(s=o?e[0]:t.state,i=!0,o=o?1:0;o<e.length;o++){var a=e[o];a=typeof a=="function"?a.call(t,s,n,r):a,a!=null&&(i?(i=!1,s=Mk({},s,a)):Mk(s,a))}t.state=s}else s.queue=null}var Rwn={id:1,overflow:""};function PY(t,e,n){var r=t.id;t=t.overflow;var i=32-KO(r)-1;r&=~(1<<i),n+=1;var s=32-KO(e)+i;if(30<s){var o=i-i%5;return s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,{id:1<<32-KO(e)+i|n<<i|r,overflow:s+t}}return{id:1<<s|n<<i|r,overflow:t}}var KO=Math.clz32?Math.clz32:Lwn,jwn=Math.log,Own=Math.LN2;function Lwn(t){return t>>>=0,t===0?32:31-(jwn(t)/Own|0)|0}function Pwn(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mwn=typeof Object.is=="function"?Object.is:Pwn,f0=null,ore=null,ZO=null,ps=null,FT=!1,w6=!1,n3=0,tv=null,v$=0;function Ub(){if(f0===null)throw Error(gr(321));return f0}function Hye(){if(0<v$)throw Error(gr(312));return{memoizedState:null,queue:null,next:null}}function are(){return ps===null?ZO===null?(FT=!1,ZO=ps=Hye()):(FT=!0,ps=ZO):ps.next===null?(FT=!1,ps=ps.next=Hye()):(FT=!0,ps=ps.next),ps}function lre(){ore=f0=null,w6=!1,ZO=null,v$=0,ps=tv=null}function BGe(t,e){return typeof e=="function"?e(t):e}function zye(t,e,n){if(f0=Ub(),ps=are(),FT){var r=ps.queue;if(e=r.dispatch,tv!==null&&(n=tv.get(r),n!==void 0)){tv.delete(r),r=ps.memoizedState;do r=t(r,n.action),n=n.next;while(n!==null);return ps.memoizedState=r,[r,e]}return[ps.memoizedState,e]}return t=t===BGe?typeof e=="function"?e():e:n!==void 0?n(e):e,ps.memoizedState=t,t=ps.queue={last:null,dispatch:null},t=t.dispatch=$wn.bind(null,f0,t),[ps.memoizedState,t]}function Wye(t,e){if(f0=Ub(),ps=are(),e=e===void 0?null:e,ps!==null){var n=ps.memoizedState;if(n!==null&&e!==null){var r=n[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<e.length;i++)if(!Mwn(e[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return t=t(),ps.memoizedState=[t,e],t}function $wn(t,e,n){if(25<=v$)throw Error(gr(301));if(t===f0)if(w6=!0,t={action:n,next:null},tv===null&&(tv=new Map),n=tv.get(e),n===void 0)tv.set(e,t);else{for(e=n;e.next!==null;)e=e.next;e.next=t}}function Fwn(){throw Error(gr(394))}function B4(){}var Gye={readContext:function(t){return t._currentValue},useContext:function(t){return Ub(),t._currentValue},useMemo:Wye,useReducer:zye,useRef:function(t){f0=Ub(),ps=are();var e=ps.memoizedState;return e===null?(t={current:t},ps.memoizedState=t):e},useState:function(t){return zye(BGe,t)},useInsertionEffect:B4,useLayoutEffect:function(){},useCallback:function(t,e){return Wye(function(){return t},e)},useImperativeHandle:B4,useEffect:B4,useDebugValue:B4,useDeferredValue:function(t){return Ub(),t},useTransition:function(){return Ub(),[!1,Fwn]},useId:function(){var t=ore.treeContext,e=t.overflow;t=t.id,t=(t&~(1<<32-KO(t)-1)).toString(32)+e;var n=XO;if(n===null)throw Error(gr(404));return e=n3++,t=":"+n.idPrefix+"R"+t,0<e&&(t+="H"+e.toString(32)),t+":"},useMutableSource:function(t,e){return Ub(),e(t._source)},useSyncExternalStore:function(t,e,n){if(n===void 0)throw Error(gr(407));return n()}},XO=null,cH=bGe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Bwn(t){return console.error(t),null}function BT(){}function Nwn(t,e,n,r,i,s,o,a,l){var u=[],d=new Set;return e={destination:null,responseState:e,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?Bwn:i,onAllReady:s===void 0?BT:s,onShellReady:o===void 0?BT:o,onShellError:a===void 0?BT:a,onFatalError:l===void 0?BT:l},n=_6(e,0,null,n,!1,!1),n.parentFlushed=!0,t=ure(e,t,null,n,d,LGe,null,Rwn),u.push(t),e}function ure(t,e,n,r,i,s,o,a){t.allPendingTasks++,n===null?t.pendingRootTasks++:n.pendingTasks++;var l={node:e,ping:function(){var u=t.pingedTasks;u.push(l),u.length===1&&UGe(t)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:s,context:o,treeContext:a};return i.add(l),l}function _6(t,e,n,r,i,s){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:s}}function r3(t,e){if(t=t.onError(e),t!=null&&typeof t!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof t+'" instead');return t}function C6(t,e){var n=t.onShellError;n(e),n=t.onFatalError,n(e),t.destination!==null?(t.status=2,wGe(t.destination,e)):(t.status=1,t.fatalError=e)}function qye(t,e,n,r,i){for(f0={},ore=e,n3=0,t=n(r,i);w6;)w6=!1,n3=0,v$+=1,ps=null,t=n(r,i);return lre(),t}function Yye(t,e,n,r){var i=n.render(),s=r.childContextTypes;if(s!=null){var o=e.legacyContext;if(typeof n.getChildContext!="function")r=o;else{n=n.getChildContext();for(var a in n)if(!(a in s))throw Error(gr(108,LY(r)||"Unknown",a));r=Mk({},o,n)}e.legacyContext=r,dd(t,e,i),e.legacyContext=o}else dd(t,e,i)}function Kye(t,e){if(t&&t.defaultProps){e=Mk({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function MY(t,e,n,r,i){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){i=Nye(n,e.legacyContext);var s=n.contextType;s=new n(r,typeof s=="object"&&s!==null?s._currentValue:i),Uye(s,n,r,i),Yye(t,e,s,n)}else{s=Nye(n,e.legacyContext),i=qye(t,e,n,r,s);var o=n3!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)Uye(i,n,r,s),Yye(t,e,i,n);else if(o){r=e.treeContext,e.treeContext=PY(r,1,0);try{dd(t,e,i)}finally{e.treeContext=r}}else dd(t,e,i)}else if(typeof n=="string"){switch(i=e.blockedSegment,s=Dxn(i.chunks,n,r,t.responseState,i.formatContext),i.lastPushedText=!1,o=i.formatContext,i.formatContext=Exn(o,n,r),$Y(t,e,s),i.formatContext=o,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push(Rxn,_r(n),jxn)}i.lastPushedText=!1}else{switch(n){case Iwn:case Awn:case TGe:case kGe:case SGe:dd(t,e,r.children);return;case jGe:dd(t,e,r.children);return;case kwn:throw Error(gr(343));case RGe:e:{n=e.blockedBoundary,i=e.blockedSegment,s=r.fallback,r=r.children,o=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:o,errorDigest:null},l=_6(t,i.chunks.length,a,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var u=_6(t,0,null,i.formatContext,!1,!1);u.parentFlushed=!0,e.blockedBoundary=a,e.blockedSegment=u;try{if($Y(t,e,r),u.lastPushedText&&u.textEmbedded&&u.chunks.push(ire),u.status=1,E6(a,u),a.pendingTasks===0)break e}catch(d){u.status=4,a.forceClientRender=!0,a.errorDigest=r3(t,d)}finally{e.blockedBoundary=n,e.blockedSegment=i}e=ure(t,s,n,l,o,e.legacyContext,e.context,e.treeContext),t.pingedTasks.push(e)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case DGe:if(r=qye(t,e,n.render,r,i),n3!==0){n=e.treeContext,e.treeContext=PY(n,1,0);try{dd(t,e,r)}finally{e.treeContext=n}}else dd(t,e,r);return;case OGe:n=n.type,r=Kye(n,r),MY(t,e,n,r,i);return;case AGe:if(i=r.children,n=n._context,r=r.value,s=n._currentValue,n._currentValue=r,o=rx,rx=r={parent:o,depth:o===null?0:o.depth+1,context:n,parentValue:s,value:r},e.context=r,dd(t,e,i),t=rx,t===null)throw Error(gr(403));r=t.parentValue,t.context._currentValue=r===Dwn?t.context._defaultValue:r,t=rx=t.parent,e.context=t;return;case IGe:r=r.children,r=r(n._currentValue),dd(t,e,r);return;case sre:i=n._init,n=i(n._payload),r=Kye(n,r),MY(t,e,n,r,void 0);return}throw Error(gr(130,n==null?n:typeof n,""))}}function dd(t,e,n){if(e.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case Twn:MY(t,e,n.type,n.props,n.ref);return;case EGe:throw Error(gr(257));case sre:var r=n._init;n=r(n._payload),dd(t,e,n);return}if(OY(n)){Zye(t,e,n);return}if(n===null||typeof n!="object"?r=null:(r=Bye&&n[Bye]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var i=[];do i.push(n.value),n=r.next();while(!n.done);Zye(t,e,i)}return}throw t=Object.prototype.toString.call(n),Error(gr(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}typeof n=="string"?(r=e.blockedSegment,r.lastPushedText=jye(e.blockedSegment.chunks,n,t.responseState,r.lastPushedText)):typeof n=="number"&&(r=e.blockedSegment,r.lastPushedText=jye(e.blockedSegment.chunks,""+n,t.responseState,r.lastPushedText))}function Zye(t,e,n){for(var r=n.length,i=0;i<r;i++){var s=e.treeContext;e.treeContext=PY(s,r,i);try{$Y(t,e,n[i])}finally{e.treeContext=s}}}function $Y(t,e,n){var r=e.blockedSegment.formatContext,i=e.legacyContext,s=e.context;try{return dd(t,e,n)}catch(l){if(lre(),typeof l=="object"&&l!==null&&typeof l.then=="function"){n=l;var o=e.blockedSegment,a=_6(t,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(a),o.lastPushedText=!1,t=ure(t,e.node,e.blockedBoundary,a,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,n.then(t,t),e.blockedSegment.formatContext=r,e.legacyContext=i,e.context=s,x6(s)}else throw e.blockedSegment.formatContext=r,e.legacyContext=i,e.context=s,x6(s),l}}function Vwn(t){var e=t.blockedBoundary;t=t.blockedSegment,t.status=3,VGe(this,e,t)}function NGe(t,e,n){var r=t.blockedBoundary;t.blockedSegment.status=3,r===null?(e.allPendingTasks--,e.status!==2&&(e.status=2,e.destination!==null&&e.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,t=n===void 0?Error(gr(432)):n,r.errorDigest=e.onError(t),r.parentFlushed&&e.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(i){return NGe(i,e,n)}),r.fallbackAbortableTasks.clear(),e.allPendingTasks--,e.allPendingTasks===0&&(r=e.onAllReady,r()))}function E6(t,e){if(e.chunks.length===0&&e.children.length===1&&e.children[0].boundary===null){var n=e.children[0];n.id=e.id,n.parentFlushed=!0,n.status===1&&E6(t,n)}else t.completedSegments.push(e)}function VGe(t,e,n){if(e===null){if(n.parentFlushed){if(t.completedRootSegment!==null)throw Error(gr(389));t.completedRootSegment=n}t.pendingRootTasks--,t.pendingRootTasks===0&&(t.onShellError=BT,e=t.onShellReady,e())}else e.pendingTasks--,e.forceClientRender||(e.pendingTasks===0?(n.parentFlushed&&n.status===1&&E6(e,n),e.parentFlushed&&t.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach(Vwn,t),e.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(E6(e,n),e.completedSegments.length===1&&e.parentFlushed&&t.partialBoundaries.push(e)));t.allPendingTasks--,t.allPendingTasks===0&&(t=t.onAllReady,t())}function UGe(t){if(t.status!==2){var e=rx,n=cH.current;cH.current=Gye;var r=XO;XO=t.responseState;try{var i=t.pingedTasks,s;for(s=0;s<i.length;s++){var o=i[s],a=t,l=o.blockedSegment;if(l.status===0){x6(o.context);try{dd(a,o,o.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(ire),o.abortSet.delete(o),l.status=1,VGe(a,o.blockedBoundary,l)}catch(g){if(lre(),typeof g=="object"&&g!==null&&typeof g.then=="function"){var u=o.ping;g.then(u,u)}else{o.abortSet.delete(o),l.status=4;var d=o.blockedBoundary,f=g,h=r3(a,f);if(d===null?C6(a,f):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=h,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var p=a.onAllReady;p()}}}finally{}}}i.splice(0,s),t.destination!==null&&cre(t,t.destination)}catch(g){r3(t,g),C6(t,g)}finally{XO=r,cH.current=n,n===Gye&&x6(e)}}}function N4(t,e,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=t.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,t=t.responseState,tn(e,Oxn),tn(e,t.placeholderPrefix),t=_r(r.toString(16)),tn(e,t),js(e,Lxn);case 1:n.status=2;var i=!0;r=n.chunks;var s=0;n=n.children;for(var o=0;o<n.length;o++){for(i=n[o];s<i.index;s++)tn(e,r[s]);i=y$(t,e,i)}for(;s<r.length-1;s++)tn(e,r[s]);return s<r.length&&(i=js(e,r[s])),i;default:throw Error(gr(390))}}function y$(t,e,n){var r=n.boundary;if(r===null)return N4(t,e,n);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,js(e,Fxn),tn(e,Nxn),r&&(tn(e,Uxn),tn(e,_r(Sl(r))),tn(e,Vxn)),js(e,Hxn),N4(t,e,n);else if(0<r.pendingTasks){r.rootSegmentID=t.nextSegmentId++,0<r.completedSegments.length&&t.partialBoundaries.push(r);var i=t.responseState,s=i.nextSuspenseID++;i=Lt(i.boundaryPrefix+s.toString(16)),r=r.id=i,Fye(e,t.responseState,r),N4(t,e,n)}else if(r.byteSize>t.progressiveChunkSize)r.rootSegmentID=t.nextSegmentId++,t.completedBoundaries.push(r),Fye(e,t.responseState,r.id),N4(t,e,n);else{if(js(e,Pxn),n=r.completedSegments,n.length!==1)throw Error(gr(391));y$(t,e,n[0])}return js(e,Bxn)}function Xye(t,e,n){return dwn(e,t.responseState,n.formatContext,n.id),y$(t,e,n),fwn(e,n.formatContext)}function Qye(t,e,n){for(var r=n.completedSegments,i=0;i<r.length;i++)HGe(t,e,n,r[i]);if(r.length=0,t=t.responseState,r=n.id,n=n.rootSegmentID,tn(e,t.startInlineScript),t.sentCompleteBoundaryFunction?tn(e,ywn):(t.sentCompleteBoundaryFunction=!0,tn(e,vwn)),r===null)throw Error(gr(395));return n=_r(n.toString(16)),tn(e,r),tn(e,bwn),tn(e,t.segmentPrefix),tn(e,n),js(e,xwn)}function HGe(t,e,n,r){if(r.status===2)return!0;var i=r.id;if(i===-1){if((r.id=n.rootSegmentID)===-1)throw Error(gr(392));return Xye(t,e,r)}return Xye(t,e,r),t=t.responseState,tn(e,t.startInlineScript),t.sentCompleteSegmentFunction?tn(e,pwn):(t.sentCompleteSegmentFunction=!0,tn(e,hwn)),tn(e,t.segmentPrefix),i=_r(i.toString(16)),tn(e,i),tn(e,mwn),tn(e,t.placeholderPrefix),tn(e,i),js(e,gwn)}function cre(t,e){ud=new Uint8Array(512),cd=0;try{var n=t.completedRootSegment;if(n!==null&&t.pendingRootTasks===0){y$(t,e,n),t.completedRootSegment=null;var r=t.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)tn(e,r[n]);n<r.length&&js(e,r[n])}var i=t.clientRenderedBoundaries,s;for(s=0;s<i.length;s++){var o=i[s];r=e;var a=t.responseState,l=o.id,u=o.errorDigest,d=o.errorMessage,f=o.errorComponentStack;if(tn(r,a.startInlineScript),a.sentClientRenderFunction?tn(r,_wn):(a.sentClientRenderFunction=!0,tn(r,wwn)),l===null)throw Error(gr(395));tn(r,l),tn(r,Cwn),(u||d||f)&&(tn(r,lH),tn(r,_r(uH(u||"")))),(d||f)&&(tn(r,lH),tn(r,_r(uH(d||"")))),f&&(tn(r,lH),tn(r,_r(uH(f)))),js(r,Ewn)}i.splice(0,s);var h=t.completedBoundaries;for(s=0;s<h.length;s++)Qye(t,e,h[s]);h.splice(0,s),Aye(e),ud=new Uint8Array(512),cd=0;var p=t.partialBoundaries;for(s=0;s<p.length;s++){var g=p[s];e:{i=t,o=e;var v=g.completedSegments;for(a=0;a<v.length;a++)if(!HGe(i,o,g,v[a])){a++,v.splice(0,a);var y=!1;break e}v.splice(0,a),y=!0}if(!y){t.destination=null,s++,p.splice(0,s);return}}p.splice(0,s);var x=t.completedBoundaries;for(s=0;s<x.length;s++)Qye(t,e,x[s]);x.splice(0,s)}finally{Aye(e),t.allPendingTasks===0&&t.pingedTasks.length===0&&t.clientRenderedBoundaries.length===0&&t.completedBoundaries.length===0&&e.close()}}function Jye(t,e){try{var n=t.abortableTasks;n.forEach(function(r){return NGe(r,t,e)}),n.clear(),t.destination!==null&&cre(t,t.destination)}catch(r){r3(t,r),C6(t,r)}}tre.renderToReadableStream=function(t,e){return new Promise(function(n,r){var i,s,o=new Promise(function(d,f){s=d,i=f}),a=Nwn(t,_xn(e?e.identifierPrefix:void 0,e?e.nonce:void 0,e?e.bootstrapScriptContent:void 0,e?e.bootstrapScripts:void 0,e?e.bootstrapModules:void 0),Cxn(e?e.namespaceURI:void 0),e?e.progressiveChunkSize:void 0,e?e.onError:void 0,s,function(){var d=new ReadableStream({type:"bytes",pull:function(f){if(a.status===1)a.status=2,wGe(f,a.fatalError);else if(a.status!==2&&a.destination===null){a.destination=f;try{cre(a,f)}catch(h){r3(a,h),C6(a,h)}}},cancel:function(){Jye(a)}},{highWaterMark:0});d.allReady=o,n(d)},function(d){o.catch(function(){}),r(d)},i);if(e&&e.signal){var l=e.signal,u=function(){Jye(a,l.reason),l.removeEventListener("abort",u)};l.addEventListener("abort",u)}UGe(a)})};tre.version="18.2.0";var dE,zGe;dE=cE,zGe=tre;dE.version;var Uwn=dE.renderToString;dE.renderToStaticMarkup;dE.renderToNodeStream;dE.renderToStaticNodeStream;zGe.renderToReadableStream;function Hwn(t){return typeof t=="function"}function ebe(t){return Hwn(t)?t():t}const zwn=()=>{};function Wwn(t){return function(n,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Object.is;const{add:s,update:o,remove:a}=re.useContext(t),l=re.useRef();re.useLayoutEffect(()=>{if(n===null)return zwn;const u=ebe(r);return s(n,u),l.current=u,()=>{a(n)}},[s,n,a,r]),re.useLayoutEffect(()=>{const u=ebe(r);typeof l.current<"u"&&!i(l.current,u)&&n!==null&&o(n,u),l.current=u})}}function Gwn(){const t=new Map,{publish:e,subscribe:n}=HX(),r=U3(e,10,{trailing:!0}),i=()=>Array.from(t.entries());function s(l,u){t.has(l),t.set(l,u),r(i())}function o(l,u){t.has(l),t.set(l,u),r(i())}function a(l){t.has(l),t.delete(l),r(i())}return{add:s,remove:a,update:o,read:i,subscribe:n}}let iC=!1;const dH=t=>{iC||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReporter('.concat(t,', ...)", is wrapped in a <Tracker> element'))),iC=!0};function qwn(){return iC||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReportedValues()", is wrapped inside a <Tracker> element')),iC=!0,[]}const Ywn=()=>(iC||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReportedValues()", is wrapped inside a <Tracker> element')),iC=!0,()=>{}),Kwn={add:dH,update:dH,remove:dH,subscribe:Ywn,read:qwn};let Zwn=0;const Xwn=()=>++Zwn;function WGe(){const t=re.createContext(Kwn);function e(){const i=re.useContext(t),[s,o]=re.useState(i.read());return re.useLayoutEffect(()=>(o(i.read()),i.subscribe(o)),[i]),s}function n(i){const s=re.useMemo(()=>Gwn(),[]);return c.jsx(t.Provider,{value:s,children:i.children})}const r=Wwn(t);return{Tracker:n,useReportedValues:e,useReporter:r,useAutoIdReporter:function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object.is;return r("element-".concat(re.useRef(Xwn()).current),i,s)}}}const rd=4,Qwn=16,tbe=8,Bn=8,mf=2,V4=4,lu=12,m2=2,Jwn=!1,e2n=!1,dre=WGe(),t2n=dre.Tracker,fre=dre.useReportedValues,GGe=dre.useReporter,xw=m.createContext({isReviewChangesOpen:!1,onOpenReviewChanges:()=>{},onSetFocus:()=>{}}),n2n=t=>{const e=re.useRef(null),{onSetFocus:n}=re.useContext(xw),[r,i]=re.useState(!1),s=re.useCallback(()=>{i(!0)},[]),o=re.useCallback(()=>{i(!1)},[]);GGe("change-".concat(Uu(t.path)),()=>({element:e.current,path:t.path,isChanged:!0,hasFocus:!1,hasHover:r,hasRevertHover:t.hasHover}),UX);const a=m.useCallback(l=>{r2n(l,n,t.path)},[n,t.path]);return c.jsx("div",{ref:e,onClick:a,onMouseLeave:o,onMouseEnter:s,children:t.children})};function r2n(t,e,n){t.stopPropagation(),e(n)}function uu(t){const e=m.useRef(t);return Ur(e.current,t)||(e.current=t),e.current}function Om(t,e){const n=[e,!0],r={type:"tuple",tuple:n};return function(s){const o=uu(s),a=Va(()=>Re(o).pipe(Kt(l=>go(Re({type:"loading"}),t(l).pipe(Be(u=>({type:"value",value:u}))))),Pf((l,u)=>{let[d]=l;return u.type==="loading"?[d,!0]:[u.value,!1]},n),Xi((l,u)=>{let[d,f]=l,[h,p]=u;return!(d!==h||f!==p)}),Be(l=>({type:"tuple",tuple:l})),Or(l=>Re({type:"error",error:l}))),[o],r);if(a.type==="error")throw a.error;return a.tuple}}function ma(t){return t!=null}const i2n="drafts",hre="".concat(i2n,".");function pre(t){return t.startsWith(hre)}function qGe(t){return{draftId:Ll(t),publishedId:Ks(t)}}function Ll(t){return pre(t)?t:hre+t}function Ks(t){return pre(t)?t.slice(hre.length):t}function VI(t){const e=t.reduce((n,r)=>{const i=Ks(r._id);let s=n.get(i);return s||(s={id:i,type:r._type,published:void 0,draft:void 0},n.set(i,s)),s[i===r._id?"published":"draft"]=r,n},new Map);return Array.from(e.values())}function s2n(t){return VI(t).map(e=>e.draft||e.published).filter(ma)}const o2n=Object.freeze({}),vs=Object.freeze([]);function a2n(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const l2n=a2n();function nbe(t){return Array.isArray(t)}function Jn(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}function QO(t){return typeof t=="string"}const u2n=typeof document=="object"&&typeof window=="object"&&window.ResizeObserver?window.ResizeObserver:w6t,c2n=()=>{const t=HX(),e=new u2n(n=>t.publish(n));return{observe:(n,r,i)=>{const s=t.subscribe(o=>{const a=o.find(l=>l.target===n);a&&r(a)});return e.observe(n,i),()=>{s(),e.unobserve(n)}}}},d2n=c2n(),f2n=["sanity.imageAsset","sanity.fileAsset"];function h2n(t){return t.type==="document"&&f2n.includes(t.name)}function rEr(t){return t.type==="document"&&!h2n(t)}const p2n=["match","in","asc","desc","true","false","null"],m2n=/^[a-zA-Z_][a-zA-Z0-9_]*$/,YGe=t=>!m2n.test(t)||p2n.includes(t),mre=t=>'["'.concat(t,'"]'),g2n=t=>"@".concat(mre(t)),v2n=t=>Array.isArray(t)&&t.length===0,y2n=t=>{let e="";for(let n=0;n<t.length;n++){const r=t[n];if(v2n(r)){e+="[]";continue}if(typeof r=="number"){e+="[".concat(r,"]");continue}const i=n===0;YGe(r)?e=i?g2n(r):"".concat(e).concat(mre(r)):e=i?r:"".concat(e,".").concat(r)}return e},h0=b2n();function b2n(){return typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}const x2n={isLoading:!0,value:void 0,error:null};function KGe(t,e){return Va(()=>t.pipe(w2n()),[t],typeof e>"u"?x2n:{isLoading:!1,value:e,error:null})}function w2n(){return t=>t.pipe(Be(e=>({isLoading:!1,value:e,error:null})),Or(e=>Re({isLoading:!1,value:void 0,error:e})))}function _2n(t,e,n){return m.useMemo(()=>y9(t,e,n),[t,n,e])}function ZGe(t,e){return t!==null&&t.roles.some(n=>n.name===e)}var rbe=Object.freeze,C2n=Object.defineProperty,Fg=(t,e)=>rbe(C2n(t,"raw",{value:rbe(e||t.slice())})),ibe,sbe,obe,abe,lbe,ube,cbe,dbe,fbe;const E2n=250,S2n=H.div(t=>{let{changed:e,disabled:n,isReviewChangeOpen:r}=t;return n?qe(ibe||(ibe=Fg([`
      `,` {
        display: none;
      }
    `])),FY):qe(abe||(abe=Fg([`
    --change-bar-offset: 2px;

    display: flex;
    position: relative;

    @media (hover: hover) {
      &:hover {
        z-index: 10;
      }
    }

    /* hide when field is not changed */
    `,`

    /* hide hover effect when review changes is open */
    `,`
  `])),!e&&qe(sbe||(sbe=Fg([`
      `,` {
        opacity: 0;
        pointer-events: none;
      }
    `])),FY),r&&qe(obe||(obe=Fg([`
      `,` {
        opacity: 0;
      }
    `])),XGe))}),T2n=H.div(lbe||(lbe=Fg([`
  flex-grow: 1;
  min-width: 0;
`]))),FY=H.div(ube||(ube=Fg([`
  position: relative;
  opacity: 1;
  transition: opacity 100ms;
  z-index: `,`;
`])),t=>{let{$zIndex:e}=t;return e}),k2n=H.div(t=>{let{theme:e}=t;const n=e.sanity.color.spot.yellow,r=e.sanity.media[0];return qe(cbe||(cbe=Fg([`
    position: absolute;
    top: 0;
    left: var(--change-bar-offset);
    width: 2px;
    bottom: 0;
    background-color: `,`;
    border-radius: 1px;

    @media (min-width: `,`px) {
      display: unset;
    }
  `])),n,r)}),XGe=H.button(t=>{let{theme:e,$withHoverEffect:n}=t;const r=e.sanity.color.spot.yellow;return qe(fbe||(fbe=Fg([`
      appearance: none;
      border: 0;
      outline: 0;
      display: block;
      padding: 0;
      background: transparent;
      opacity: 0;
      position: absolute;
      height: 100%;
      cursor: pointer;
      pointer-events: all;
      left: calc(-0.25rem + var(--change-bar-offset));
      width: 1rem;
      transition: opacity `,`ms;

      &:focus {
        border: 0;
        outline: 0;
      }

      &:after {
        content: '';
        width: 16px;
        height: calc(100% + 14px);
        display: block;
        position: absolute;
        top: -7px;
        left: -3px;
        border-radius: 8px;
        background: `,`;
      }

      &:focus {
        border: 0;
        outline: 0;
      }

      `,`
    `])),E2n,r,n&&qe(dbe||(dbe=Fg([`
        @media (hover: hover) {
          &:hover {
            opacity: 0.2;
          }
        }
      `]))))});function A2n(t){const{children:e,disabled:n,hasFocus:r,isChanged:i,withHoverEffect:s=!0}=t,[o,a]=m.useState(!1),{onOpenReviewChanges:l,isReviewChangesOpen:u}=re.useContext(xw),{zIndex:d}=Zh(),f=m.useCallback(()=>a(!0),[]),h=m.useCallback(()=>a(!1),[]),p=m.useMemo(()=>n||!i?null:c.jsxs(FY,{"data-testid":"change-bar",$zIndex:d,children:[c.jsx(k2n,{"data-testid":"change-bar__marker"}),c.jsx(XGe,{"aria-label":"Review changes","data-testid":"change-bar__button",onClick:u?void 0:l,onMouseEnter:f,onMouseLeave:h,tabIndex:-1,type:"button",$withHoverEffect:s})]}),[n,i,d,u,l,f,h,s]);return c.jsxs(S2n,{changed:i,"data-testid":"change-bar-wrapper",disabled:n,focus:r,hover:o,isReviewChangeOpen:u,children:[c.jsx(T2n,{"data-testid":"change-bar__field-wrapper",children:e}),p]})}const I2n=m.memo(function(e){const{children:n,disabled:r,hasFocus:i,isChanged:s,onMouseEnter:o,onMouseLeave:a,path:l=vs,withHoverEffect:u,...d}=e,f=Zh(),[h,p]=m.useState(!1),g=m.useCallback(x=>{o==null||o(x),p(!0)},[o]),v=m.useCallback(x=>{a==null||a(x),p(!1)},[a]),y=m.useRef(null);return GGe(r?null:"field-".concat(Uu(l)),()=>({element:y.current,path:l,isChanged:s,hasFocus:i,hasHover:h,zIndex:f.zIndex}),UX),c.jsx("div",{...d,ref:y,onMouseEnter:g,onMouseLeave:v,children:c.jsx(A2n,{hasFocus:i,isChanged:s,disabled:r,withHoverEffect:u,children:n})})});function Pl(t){const{children:e,hasFocus:n,isChanged:r,path:i,withHoverEffect:s,...o}=t;return c.jsx(I2n,{...o,path:i,hasFocus:n,isChanged:r,withHoverEffect:s,children:e})}re.createContext({path:[],fullPath:[],focusPath:[],isChanged:!1});const BY=re.createContext(null);function D2n(t){const e=re.useContext(BY);re.useEffect(()=>e==null?void 0:e.subscribe(t),[t,e])}const hbe=()=>{},gre=re.forwardRef(function(e,n){const{as:r="div",onScroll:i,...s}=e,o=Ms(n),a=m.useContext(BY),l=m.useMemo(()=>HX(),[]);return m.useEffect(()=>i?l.subscribe(i):hbe,[l,i]),m.useEffect(()=>a?l.subscribe(a.publish):hbe,[a,l]),m.useEffect(()=>{const u=f=>{l.publish(f)},d=o.current;if(d)return d.addEventListener("scroll",u,{passive:!0,capture:!0}),()=>{d.removeEventListener("scroll",u)}},[l,o]),c.jsx(BY.Provider,{value:l,children:re.createElement(r,{ref:o,"data-testid":"scroll-container",...s})})});function R2n(t){let{onScroll:e,children:n}=t;return D2n(e),c.jsx(c.Fragment,{children:n})}function pbe(t,e,n){const r=e.slice(e.indexOf("-")+1)||"[]",i=rP(r),s="".concat(t,"-").concat(Uu(i));if(n.has(s))return n.get(s);let o;for(const[a,l]of n){if(!("path"in l)||!a.startsWith(t))continue;const u=aht(i,l.path),d=l.path[l.path.length-1],f=u===l.path.length-1&&hm(d);if(u!==0&&!(u!==l.path.length&&!f)&&(o=l,u===i.length))break}return o}function j2n(t){return t[0]!=="changePanel"}function QGe(t){const e=getComputedStyle(t).overflow;return e.includes("auto")||e.includes("scroll")}function O2n(t){return(t.scrollHeight!==t.offsetHeight||t.scrollWidth!==t.offsetWidth)&&QGe(t)}const L2n=-15;function mbe(t){let n=t.element;for(;!O2n(n);)if(n=n.parentElement,!n)return;n.scroll({top:n.scrollTop+t.rect.top-t.bounds.top+L2n,left:0,behavior:"smooth"})}const gbe=(t,e)=>{const n={top:0,left:0,height:e.offsetHeight,width:e.offsetWidth},r={top:0,left:0,height:t.offsetHeight,width:t.offsetWidth};let i=!1,s=t;for(;s&&s!==e&&e.contains(s);)i&&(n.top+=s.offsetTop,n.left+=s.offsetLeft),QGe(s)&&(n.top=s.offsetTop,n.height=s.offsetHeight,n.left=s.offsetLeft,n.width=s.offsetWidth,i=!0),r.top+=s.offsetTop-s.scrollTop,r.left+=s.offsetLeft-s.scrollLeft,s=s.offsetParent;return{rect:r,bounds:n}};function U4(t,e,n){return["M ".concat(t-V4," ").concat(e-V4*n," "),"L ".concat(t," ").concat(e),"L ".concat(t+V4," ").concat(e-V4*n)].join("")}function fH(t,e){return"M".concat(t," ").concat(e)}function ra(t,e){return"L".concat(t," ").concat(e)}function P2n(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return t.join(e)}function fc(t,e,n,r){return"Q".concat(t," ").concat(e," ").concat(n," ").concat(r)}function M2n(t){const{from:e,to:n}=t,{left:r,top:i}=e,{left:s,top:o}=n,a=[],l=Math.min(rd,Math.abs(i-o)/2);return e.isAbove?a.push(fH(r+Bn,i-lu+mf),ra(r+Bn,i-rd),fc(r+Bn,i,r+Bn+rd,i)):e.isBelow?a.push(fH(r+Bn,i+lu-mf),ra(r+Bn,i+rd),fc(r+Bn,i,r+Bn+rd,i)):a.push(fH(r,i)),n.isAbove?i<n.bounds.top?a.push(ra(n.bounds.left-8-l,i),fc(n.bounds.left-8,i,n.bounds.left-8,i+l),ra(n.bounds.left-8,o-l),fc(n.bounds.left-8,o,n.bounds.left-8+l,o),ra(n.bounds.left+Bn-rd,o),fc(n.bounds.left+Bn,o,n.bounds.left+Bn,o-rd),ra(n.bounds.left+Bn,o-lu+mf)):a.push(ra(n.bounds.left+Bn-rd,i),fc(n.bounds.left+Bn,i,n.bounds.left+Bn,i-rd),ra(n.bounds.left+Bn,o-lu+mf)):n.isBelow?i>n.bounds.top+n.bounds.height?a.push(ra(n.bounds.left-Bn-l,i),fc(n.bounds.left-Bn,i,n.bounds.left-Bn,i-l),ra(n.bounds.left-Bn,o+l),fc(n.bounds.left-Bn,o,n.bounds.left-Bn+l,o),ra(n.bounds.left+Bn-rd,o),fc(n.bounds.left+Bn,o,n.bounds.left+Bn,o+rd),ra(n.bounds.left+Bn,o+lu-mf)):a.push(ra(n.bounds.left+Bn-rd,i),fc(n.bounds.left+Bn,i,n.bounds.left+Bn,i+rd),ra(n.bounds.left+Bn,o+lu-mf)):i<o?a.push(ra(n.bounds.left+Bn-l,i),fc(n.bounds.left+Bn,i,n.bounds.left+Bn,i+l),ra(n.bounds.left+Bn,o-l),fc(n.bounds.left+Bn,o,n.bounds.left+Bn+l,o),ra(s,o)):a.push(ra(n.bounds.left+Bn-l,i),fc(n.bounds.left+Bn,i,n.bounds.left+Bn,i-l),ra(n.bounds.left+Bn,o+l),fc(n.bounds.left+Bn,o,n.bounds.left+Bn+l,o),ra(s,o)),P2n(a)}function vbe(t,e){const n=t.top+t.height/2,r=t.top+t.height<e.top+mf,i=t.top>e.top+e.height-mf;return{bounds:e,left:t.left,top:n,centerY:n,startY:t.top+tbe,endY:t.top+t.height-tbe,isAbove:r,isBelow:i,outOfBounds:r||i}}function $2n(t){const e={top:t.from.bounds.top+lu,bottom:t.from.bounds.top+t.from.bounds.height-lu,left:t.from.bounds.left,right:t.from.bounds.left+t.from.bounds.width,width:t.from.bounds.width,height:t.from.bounds.height-lu*2},n=vbe(t.from.rect,e);n.left=t.from.rect.left+t.from.rect.width+1;const r={top:t.to.bounds.top+lu,bottom:t.to.bounds.top+t.to.bounds.height-lu,left:t.to.bounds.left,right:t.to.bounds.left+t.to.bounds.width,width:t.to.bounds.width,height:t.to.bounds.height-lu*2},i=vbe(t.to.rect,r),s=Math.max(i.startY,n.startY);return n.top=Math.min(s,n.endY),n.top<r.top?n.top=Math.min(r.top,n.endY):n.top>r.bottom&&(n.top=Math.max(r.bottom,n.startY)),i.top=Math.min(s,i.endY),i.top<e.top?i.top=Math.min(e.top,i.endY):i.top>e.bottom&&(i.top=Math.max(e.bottom,i.startY)),n.top=Math.min(Math.max(n.top,e.top),e.bottom),i.top=Math.min(Math.max(i.top,r.top),r.bottom),{from:n,to:i}}function F2n(t){const{bounds:e,...n}=t,r=Math.max(e.left,t.left),i=Math.max(t.top,e.top),s=Math.max(0,t.height-(i-t.top)),o=Math.max(0,t.width-(r-t.left));return c.jsx("rect",{...n,x:r,y:i,height:s,width:o})}var ybe=Object.freeze,B2n=Object.defineProperty,b$=(t,e)=>ybe(B2n(t,"raw",{value:ybe(e||t.slice())})),bbe,xbe,wbe,_be;H.rect(bbe||(bbe=b$([`
  stroke: #ccc;
  fill: none;
  pointer-events: none;
  stroke-linecap: round;
`])));const VS=H.path(t=>{let{theme:e}=t;const n=e.sanity.color.spot.yellow;return qe(xbe||(xbe=b$([`
    fill: none;
    pointer-events: none;
    stroke-linecap: round;
    stroke-linejoin: round;
    stroke: `,`;
  `])),n)}),N2n=H.path(t=>{let{theme:e}=t;const n=e.sanity.color.spot.yellow;return qe(wbe||(wbe=b$([`
    fill: none;
    pointer-events: stroke;
    stroke: `,`;
    cursor: pointer;
    stroke-linecap: round;
    stroke-linejoin: round;
    opacity: 0;

    &:hover {
      opacity: 0.2;
    }
  `])),n)}),V2n=H(F2n)(t=>{let{theme:e}=t;const n=e.sanity.color.spot.yellow;return qe(_be||(_be=b$([`
    stroke: none;
    pointer-events: none;
    fill: `,`;
  `])),n)}),U2n=m.memo(function(e){let{from:n,to:r}=e;const i=$2n({from:n,to:r});if(i.from.outOfBounds&&i.to.outOfBounds)return null;const s=M2n(i);return c.jsxs(c.Fragment,{children:[c.jsx(N2n,{d:s,strokeWidth:Qwn}),c.jsx(VS,{d:s,strokeWidth:m2}),c.jsx(V2n,{top:r.rect.top,left:r.rect.left,height:r.rect.height,width:m2,bounds:r.bounds}),i.from.isAbove&&c.jsx(VS,{d:U4(i.from.left+Bn,i.from.bounds.top-lu+mf,-1),strokeWidth:m2}),i.from.isBelow&&c.jsx(VS,{d:U4(i.from.left+Bn,i.from.bounds.top+i.from.bounds.height+lu-mf,1),strokeWidth:m2}),i.to.isAbove&&c.jsx(VS,{d:U4(i.to.bounds.left+Bn,i.to.bounds.top-lu+mf,-1),strokeWidth:m2}),i.to.isBelow&&c.jsx(VS,{d:U4(i.to.bounds.left+Bn,i.to.bounds.top+i.to.bounds.height+lu-mf,1),strokeWidth:m2}),Jwn]})});function H2n(t,e){m.useEffect(()=>d2n.observe(t,e),[t,e])}var Cbe=Object.freeze,z2n=Object.defineProperty,W2n=(t,e)=>Cbe(z2n(t,"raw",{value:Cbe(e||t.slice())})),Ebe;const G2n=H.svg(Ebe||(Ebe=W2n([`
  pointer-events: none;
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
`])));function Sbe(t,e,n,r){const i=[],s=[];for(const u of t){if(!j2n(u)||!u[1].isChanged)continue;const[d,f]=u;if(d===e){i.push(u);continue}if(f.hasHover){i.push(u);continue}if(f.hasFocus){s.push(u);continue}}const o=i.length>0;return{connectors:(o?i:s).map(u=>{let[d]=u;const f=pbe("field",d,n),h=pbe("change",d,n);return!f||!h?null:{field:{id:d,...f},change:{id:d,...h}}}).filter(ma).map(u=>{let{field:d,change:f}=u;return{hasHover:d.hasHover||f.hasHover,hasFocus:d.hasFocus,hasRevertHover:f.hasRevertHover,field:{...d,...gbe(d.element,r)},change:{...f,...gbe(f.element,r)}}}),isHoverConnector:o}}function q2n(t){const{rootElement:e,onSetFocus:n}=t,[r,i]=re.useState(null),s=fre(),o=m.useMemo(()=>new Map(s),[s]),[{connectors:a},l]=m.useState(()=>Sbe(s,r,o,e)),u=m.useMemo(()=>XC(a,f=>0-f.field.path.length).slice(0,1),[a]),d=m.useCallback(()=>{l(Sbe(s,r,o,e))},[o,s,r,e]);return H2n(e,d),c.jsx(R2n,{onScroll:d,children:c.jsx(G2n,{style:{zIndex:u[0]&&u[0].field.zIndex},children:u.map(f=>{let{field:h,change:p}=f;return p?c.jsx(Y2n,{field:h,change:p,onSetFocus:n,setHovered:i},h.id):null})})})}function Y2n(t){const{change:e,field:n,onSetFocus:r,setHovered:i}=t,s=m.useCallback(()=>{mbe(n),mbe(e),r(n.path)},[n,e,r]),o=m.useCallback(()=>i(n.id),[n,i]),a=m.useCallback(()=>i(null),[i]),l=m.useMemo(()=>({rect:{left:n.rect.left+2,top:n.rect.top,height:n.rect.height,width:n.rect.width},bounds:n.bounds}),[n.bounds,n.rect]),u=m.useMemo(()=>({rect:e.rect,bounds:e.bounds}),[e.bounds,e.rect]);return c.jsxs(c.Fragment,{children:[c.jsx("g",{onClick:s,onMouseEnter:o,onMouseLeave:a,children:c.jsx(U2n,{from:l,to:u})}),e2n]})}function K2n(t){let{children:e,className:n,isReviewChangesOpen:r,onOpenReviewChanges:i,onSetFocus:s,...o}=t;const[a,l]=re.useState(),u=m.useMemo(()=>({isReviewChangesOpen:r,onOpenReviewChanges:i,onSetFocus:s}),[r,i,s]);return c.jsx(xw.Provider,{value:u,children:c.jsx(t2n,{children:c.jsxs(gre,{...o,ref:l,className:n,children:[e,a&&c.jsx(q2n,{rootElement:a,onSetFocus:s})]})})})}const iEr=K2n;function Z2n(t){return"inset 0 0 0 ".concat(t.width,"px ").concat(t.color)}function vre(t){const{base:e,border:n,focusRing:r}=t,i=r.offset+r.width,s=0-r.offset,o=e?e.bg:"var(--card-bg-color)";return[s>0&&"inset 0 0 0 ".concat(s,"px var(--card-focus-ring-color)"),n&&Z2n(n),s<0&&"0 0 0 ".concat(0-s,"px ").concat(o),i>0&&"0 0 0 ".concat(i,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var Tbe=Object.freeze,X2n=Object.defineProperty,x$=(t,e)=>Tbe(X2n(t,"raw",{value:Tbe(e||t.slice())})),kbe,Abe,Ibe,Dbe;const Q2n="data-active",hH="a,button",J2n=H.div(t=>{let{theme:e,offset:n}=t;return qe(kbe||(kbe=x$([`
    bottom: `,`px;
    border-radius: `,`;
    left: `,`px;
    pointer-events: none;
    position: absolute;
    right: `,`px;
    top: `,`px;
    z-index: 2;

    `,`:focus-visible & {
      box-shadow: `,`;
    }
  `])),-n,Xe(e.sanity.radius[1]),-n,-n,-n,JGe,vre({base:e.sanity.color.base,focusRing:e.sanity.focusRing}))}),e5n=H.div(Abe||(Abe=x$([`
  bottom: 0;
  display: none;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
  z-index: 1;

  @media (hover: hover) {
    &[data-enabled='true'] {
      display: block;
    }
  }
`]))),JGe=H(N)(Ibe||(Ibe=x$([`
  height: 100%;
  outline: none;
  overflow-x: hidden;
  overflow-y: auto;
  overscroll-behavior: contain;
  width: 100%;
`]))),t5n=H(N).attrs(t=>{let{$height:e}=t;return{style:{height:"".concat(e,"px")}}})(Dbe||(Dbe=x$([`
  position: relative;
  width: 100%;
`]))),fE=m.forwardRef(function(e,n){let{activeItemDataAttr:r=Q2n,ariaLabel:i,ariaMultiselectable:s=!1,autoFocus:o,canReceiveFocus:a,fixedHeight:l,focusRingOffset:u=0,getItemDisabled:d,getItemKey:f,getItemSelected:h,initialIndex:p,initialScrollAlign:g="start",inputElement:v,itemHeight:y,items:x,onEndReached:b,onEndReachedIndexOffset:_=0,onlyShowSelectionWhenActive:C,overscan:S,renderItem:T,wrapAround:A=!0,...k}=e;const I=m.useRef(!1),D=m.useRef(m.useId()),R=m.useRef(p??0),[O,L]=m.useState(null),[P,$]=m.useState(!1),[B,Q]=m.useState(null),[V,Z]=m.useState(null),ie=m.useCallback(Ge=>{if(!b)return;const[Ct]=[...Ge.getVirtualItems()].reverse();if(!Ct)return;Ct.index>=x.length-_-1&&I.current&&b()},[b,x.length,_]),J=EBe({count:x.length,getItemKey:f,getScrollElement:()=>V,estimateSize:()=>y,onChange:ie,overscan:S}),X=m.useMemo(()=>{let Ge=-1;return x.reduce((Ct,wt,pt)=>{var on,mn;const gn=(on=d==null?void 0:d(pt))!=null?on:!1,br=(mn=h==null?void 0:h(pt))!=null?mn:!1;return gn||(Ge+=1),Ct[pt]={activeIndex:gn?null:Ge,disabled:gn,selected:br},Ct},[])},[d,h,x]),fe=m.useMemo(()=>X.filter(Ge=>!Ge.disabled).length,[X]),ue=m.useCallback(Ge=>B==null?void 0:B.setAttribute("data-enabled",(!Ge).toString()),[B]),te=m.useCallback(Ge=>"".concat(D.current,"-item-").concat(Ge),[]),F=m.useCallback(()=>"".concat(D.current,"-children"),[]),ne=m.useCallback(()=>{const Ge=[v,V].some(wt=>document.activeElement===wt);if(C&&!Ge&&!P)return;const Ct=Array.from((O==null?void 0:O.children)||[]);Ct==null||Ct.forEach(wt=>{var pt,on,mn;const gn=Number((pt=wt.dataset)==null?void 0:pt.index),br=(on=X[gn])==null?void 0:on.activeIndex;(mn=wt.querySelector(hH))==null||mn.toggleAttribute(r,br===R.current)})},[r,O==null?void 0:O.children,P,v,X,C,V]),ce=m.useCallback(()=>{const Ge=Array.from((O==null?void 0:O.children)||[]);Ge==null||Ge.forEach(Ct=>{var wt;(wt=Ct.querySelector(hH))==null||wt.toggleAttribute(r,!1)})},[r,O==null?void 0:O.children]),me=m.useMemo(()=>y9(ne,200),[ne]),pe=m.useCallback(()=>{const Ge=R==null?void 0:R.current;x.length>0?(v==null||v.setAttribute("aria-activedescendant",te(Ge)),V==null||V.setAttribute("aria-activedescendant",te(Ge))):(v==null||v.removeAttribute("aria-activedescendant"),V==null||V.removeAttribute("aria-activedescendant"))},[te,v,x.length,V]),Ie=m.useCallback(()=>{var Ge,Ct;const wt=O==null?void 0:O.parentElement;if(O&&wt){const pt=wt.getBoundingClientRect().top-O.getBoundingClientRect().top;return(Ct=(Ge=J.getVirtualItemForOffset(pt))==null?void 0:Ge.index)!=null?Ct:-1}return-1},[O,J]),xe=m.useCallback(Ge=>{let{index:Ct,scrollAlign:wt,scrollIntoView:pt=!0}=Ge;if(R.current=Ct,pe(),ne(),pt){const on=X.findIndex(mn=>mn.activeIndex===Ct);on>-1&&J.scrollToIndex(on,wt?{align:wt}:{})}},[pe,X,ne,J]),Pe=m.useCallback(Ge=>{let Ct=-1;const wt=fe-1;if(Ge==="next"){const pt=A?0:wt;Ct=R.current<fe-1?R.current+1:pt}if(Ge==="previous"){const pt=A?wt:0;Ct=R.current>0?R.current-1:pt}xe({index:Ct,scrollIntoView:!0}),ue(!1)},[fe,ue,xe,A]),we=m.useCallback(Ge=>{switch(Ge){case"input":v==null||v.focus();break;case"list":V==null||V.focus();break}},[v,V]),De=m.useCallback(()=>{v==null||v.focus()},[v]),de=m.useCallback(()=>{V==null||V.focus()},[V]),be=m.useCallback(Ge=>()=>{xe({index:Ge,scrollIntoView:!1})},[xe]),ve=m.useCallback(()=>{ne()},[ne]),ze=m.useCallback(Ge=>Ct=>{const wt=Array.from((O==null?void 0:O.children)||[]);if(wt.length&&(Ct.key==="ArrowDown"&&(Ct.preventDefault(),we(Ge),Pe("next")),Ct.key==="ArrowUp"&&(Ct.preventDefault(),we(Ge),Pe("previous")),Ct.key==="Enter")){Ct.preventDefault(),we(Ge);const pt=wt.find(on=>Number(on.dataset.index)===X.findIndex(mn=>mn.activeIndex===R.current));if(pt){const on=pt==null?void 0:pt.querySelector(hH);on==null||on.click()}}},[O==null?void 0:O.children,we,X,Pe]),He=m.useCallback(Ge=>ze("input")(Ge),[ze]),Ne=m.useCallback(Ge=>ze("list")(Ge),[ze]),Fe=m.useCallback(()=>{C&&(ne(),$(!0))},[C,ne]),nt=m.useCallback(()=>{C&&(ce(),$(!1))},[ce,C]);m.useImperativeHandle(n,()=>({focusInputElement(){De()},focusListElement(){de()},getTopIndex(){return Ie()},scrollToIndex(Ge){xe({index:Ge}),ue(!0)}}),[ue,De,de,Ie,xe]),m.useEffect(()=>{typeof p<"u"&&!I.current&&xe({index:p,scrollAlign:g,scrollIntoView:!0}),I.current=!0},[p,g,C,xe]),m.useEffect(()=>{function Ge(){ue(!0)}return V==null||V.addEventListener("mousemove",Ge),V==null||V.addEventListener("wheel",Ge,{passive:!0}),()=>{V==null||V.removeEventListener("mousemove",Ge),V==null||V.removeEventListener("wheel",Ge)}},[ue,V]),m.useEffect(()=>(v==null||v.addEventListener("focus",ve),v==null||v.addEventListener("keydown",He),V==null||V.addEventListener("focus",ve),V==null||V.addEventListener("keydown",Ne),()=>{v==null||v.removeEventListener("focus",ve),v==null||v.removeEventListener("keydown",He),V==null||V.removeEventListener("focus",ve),V==null||V.removeEventListener("keydown",Ne)}),[a,ve,ze,He,Ne,ce,v,ne,V]),m.useEffect(()=>{pe()},[pe,x]),m.useEffect(()=>{const Ge=new MutationObserver(me);return O&&Ge.observe(O,{childList:!0,subtree:!0}),()=>{Ge.disconnect()}},[O,me]),m.useEffect(()=>{v==null||v.setAttribute("aria-autocomplete","list"),v==null||v.setAttribute("aria-expanded","true"),v==null||v.setAttribute("aria-controls",F()),v==null||v.setAttribute("role","combobox")},[F,v]),m.useEffect(()=>{o&&we(o)},[o,a,de,De,we]);const Ye=a?0:-1;return c.jsxs(JGe,{id:F(),onMouseEnter:Fe,onMouseLeave:nt,ref:Z,sizing:"border",tabIndex:Ye,...k,children:[a&&c.jsx(J2n,{offset:u}),c.jsx(e5n,{"aria-hidden":"true","data-enabled":!0,ref:Q}),J&&c.jsx(t5n,{$height:J.getTotalSize(),"aria-label":i,"aria-multiselectable":s,flex:1,ref:L,role:"listbox",children:J.getVirtualItems().map(Ge=>{const Ct=Ge.index,{activeIndex:wt,disabled:pt,selected:on}=X[Ct],mn=T(x[Ct],{activeIndex:wt,disabled:pt,selected:on,virtualIndex:Ct}),gn=m.cloneElement(mn,{tabIndex:-1}),br=typeof wt=="number"&&!pt?{"aria-posinset":wt+1,...s?{"aria-selected":on.toString()}:{},"aria-setsize":fe,id:te(wt),role:"option",onMouseEnter:be(wt)}:{};return c.jsx("div",{"data-index":Ct,ref:l?void 0:J.measureElement,style:{flex:1,...l?{height:"".concat(Ge.size,"px")}:{},left:0,position:"absolute",top:0,transform:"translateY(".concat(Ge.start,"px)"),width:"100%"},tabIndex:-1,...br,children:gn},Ge.key)})})]})}),Rbe=new WeakMap;let n5n=0;function jbe(t){const e=Rbe.get(t);if(e)return e;const n="".concat(t.name||t.displayName||"<anonymous>","-").concat(n5n++);return Rbe.set(t,n),n}function r5n(t){const e=m.useRef(void 0);return zv(t,e.current)||(e.current=t),[e.current]}function i5n(t,e){m.useEffect(t,r5n(e))}const s5n=m.memo(function(e){const{hook:n,args:r,id:i,onNext:s,onReset:o,onRequestUpdate:a}=e,l=n({...r,onComplete:()=>{o(i)}});return i5n(()=>(s(i,l),a(),()=>{s(i,null),a()}),l),null},(t,e)=>t.args===e.args),o5n=t=>{const e=Date.now();return setTimeout(()=>{t({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-e)}})},1)},a5n=t=>clearTimeout(t),l5n=typeof requestIdleCallback>"u"?o5n:requestIdleCallback,u5n=typeof cancelIdleCallback>"u"?a5n:cancelIdleCallback,c5n={trailing:!0};function sEr(t){const{hooks:e,args:n,children:r,onReset:i}=t,s=m.useRef({}),[o,a]=m.useState(0),[l,u]=m.useState({}),d=m.useRef(null),f=m.useCallback(()=>{d.current&&u5n(d.current),d.current=l5n(()=>{d.current=null,a(x=>x+1)})},[]),h=_2n(f,60,c5n),p=m.useCallback((x,b)=>{if(b===null)delete s.current[x];else{const _=s.current[x];s.current[x]={..._,value:b}}},[]),g=m.useCallback(x=>{u(b=>({...b,[x]:(b[x]||0)+1})),i&&i()},[i]),v=m.useMemo(()=>e.map(x=>jbe(x)),[e]),y=m.useMemo(()=>v.map(x=>{var b;return(b=s.current[x])==null?void 0:b.value}).filter(ma),[v,o]);return c.jsxs(c.Fragment,{children:[e.map(x=>{const b=jbe(x),_=l[b]||0;return c.jsx(s5n,{hook:x,id:b,args:n,onNext:p,onRequestUpdate:h,onReset:g},"".concat(b,"-").concat(_))}),r({states:y})]})}function ym(t){const{currentUser:e,title:n="Insufficient permissions",operationLabel:r="access this feature"}=t,i=(e==null?void 0:e.roles)||[],s=i.length!==1;return c.jsxs(N,{padding:2,children:[c.jsxs(cn,{space:2,children:[c.jsx(G,{size:1,children:c.jsx(Dv,{})}),c.jsx(G,{weight:"semibold",children:n})]}),c.jsx(cn,{marginTop:4,children:c.jsx(G,{size:1,children:i.length===0?c.jsxs(c.Fragment,{children:["You have no role that grants you permission to ",r]}):c.jsxs(c.Fragment,{children:["Your role",s&&"s"," ",d5n(i.map(o=>c.jsx("code",{children:o.title},o.name)),c.jsx(c.Fragment,{children:", "}))," ","do",s||"es"," not have permissions to ",r]})})})]})}function d5n(t,e){return t.reduce((n,r)=>n===null?[r]:[...n,e,r],null)}function eqe(t){return t.disabled?c.jsx(Ce,{...t,as:"a",role:"link","aria-disabled":"true"}):c.jsx(Ce,{...t,as:D0})}const f5n=H(Wc)(t=>{const{theme:e}=t,{container:n,media:r}=e.sanity;return Vn(r,t.$width,i=>({width:i==="auto"?"none":Xe(n[i]),maxWidth:"100%"}))}),h5n=re.forwardRef(function(e,n){const{width:r,...i}=e,s=ot(r);return c.jsx(f5n,{...i,"data-ui":"PopoverContainer",$width:s,ref:n})});var Obe=Object.freeze,p5n=Object.defineProperty,tqe=(t,e)=>Obe(p5n(t,"raw",{value:Obe(e||t.slice())})),Lbe,Pbe;const m5n=H(Ti)(()=>qe(Lbe||(Lbe=tqe([`
    // Make the popover scrollable if it overflows the viewport
    [data-ui='Popover__wrapper'] {
      overflow: auto;
    }
  `])))),g5n=H(Wf)(t=>{const e=t.theme.sanity.radius[3];return qe(Pbe||(Pbe=tqe([`
    position: sticky;
    top: 0;
    width: 100%;
    background: var(--card-bg-color);
    border-bottom: 1px solid var(--card-border-color);
    border-top-left-radius: `,`px;
    border-top-right-radius: `,`px;
  `])),e,e)});function v5n(t){const{children:e,header:n,onClose:r,referenceElement:i,containerRef:s,width:o}=t,a=m.useCallback(()=>{r(),i==null||i.focus()},[r,i]),l=c.jsx(h5n,{width:o,children:c.jsx(gy,{autoFocus:!0,children:c.jsxs(Te,{ref:s,children:[c.jsx(g5n,{children:c.jsx(N,{padding:2,paddingLeft:3,children:c.jsxs(ae,{align:"center",gap:2,children:[c.jsx(N,{flex:1,children:c.jsx(G,{textOverflow:"ellipsis",weight:"semibold",children:n})}),c.jsx(Ce,{icon:Rd,mode:"bleed",onClick:a})]})})}),e]})})});return c.jsx(m5n,{portal:!0,constrainSize:!0,content:l,open:!0,referenceElement:i})}var Mbe=Object.freeze,y5n=Object.defineProperty,b5n=(t,e)=>Mbe(y5n(t,"raw",{value:Mbe(e||t.slice())})),$be;const x5n=H(ge)(()=>qe($be||($be=b5n([`
    /* this is a hack to avoid layout jumps while previews are loading
    there's probably better ways of solving this */
    min-height: 35px;

    /* TextWithTone uses its own logic to set color, and we therefore need */
    /* to override this logic in order to set the correct color in different states */
    &[data-selected],
    &[data-pressed],
    &:active {
      [data-ui='TextWithTone'] {
        color: inherit;
      }
    }
  `])))),nqe=m.createContext({selected:!1});function w5n(){const t=m.useContext(nqe);if(!t)throw new Error("PreviewCard: missing context value");return t}const Sx=m.forwardRef(function(e,n){const{children:r,selected:i,as:s,...o}=e;return c.jsx(x5n,{"data-ui":"PreviewCard",...o,forwardedAs:s,ref:n,selected:i,children:c.jsx(nqe.Provider,{value:{selected:i},children:r})})}),zu={block:{width:33,height:33},blockImage:{width:600,height:400},default:{width:35,height:35},detail:{width:75,height:75},inline:{width:15,height:15},media:{width:160,height:160}},_5n={block:31,blockImage:45,default:33,detail:45,inline:15,media:45};var Fbe=Object.freeze,C5n=Object.defineProperty,E5n=(t,e)=>Fbe(C5n(t,"raw",{value:Fbe(e||t.slice())})),Bbe;const rqe=H.span(t=>{const{$dimensions:e,$layout:n,$radius:r,$responsive:i}=t,s=e.width||0,o=e.width||0,a=_5n[n];return qe(Bbe||(Bbe=E5n([`
    position: relative;
    width: `,`;
    height: `,`;
    min-width: `,`;
    border-radius: `,`;
    display: flex;
    overflow: hidden;
    overflow: clip;
    align-items: center;
    justify-content: center;

    & img {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: inherit;
    }

    & svg {
      display: block;
      font-size: calc(21 / 16 * 1em);
    }

    & [data-sanity-icon] {
      display: block;
      font-size: calc(`,` / 16 * 1em);
    }

    /*
      NOTE on why we cant use the ":after" pseudo-element:
      The thing is we only want the shadow when then <MediaWrapper> contains
      something else than <svg>  icons should not have the shadow.
      This is why we use the "*:not(svg) + span" selector to target only that
      situation to render the shadow.
    */
    & *:not(svg) + span {
      display: block;
      position: absolute;
      left: 0;
      top: 0;
      right: 0;
      bottom: 0;
      box-shadow: inset 0 0 0 1px var(--card-fg-color);
      opacity: 0.2;
      border-radius: inherit;
    }
  `])),i?"100%":Xe(s),i?"100%":Xe(o),i?void 0:Xe(s),l=>{let{theme:u}=l;return Xe(u.sanity.radius[r])},a)});rqe.displayName="MediaWrapper";function UI(t){const{border:e=!0,dimensions:n,layout:r,media:i,radius:s=1,responsive:o=!1,styles:a}=t;return c.jsxs(rqe,{$dimensions:n,$layout:r,$radius:s,$responsive:o,className:a==null?void 0:a.media,"data-testid":"Media",children:[S5n({dimensions:n,layout:r,media:i}),e&&c.jsx("span",{})]})}function S5n(t){const{dimensions:e,layout:n,media:r,styles:i}=t;return ws.isValidElementType(r)?m.createElement(r,{dimensions:e,layout:n}):typeof r=="string"?c.jsx(G,{as:"span",className:i==null?void 0:i.mediaString,children:r}):m.isValidElement(r)?r:null}function T5n(t,e,n){return ws.isValidElementType(t)?m.createElement(t,{layout:e,dimensions:n}):typeof t=="string"?c.jsx("div",{children:t}):t}function el(t,e,n){return typeof t=="string"?t:ws.isValidElementType(t)?m.createElement(t,{layout:e}):t||n}var Nbe=Object.freeze,k5n=Object.defineProperty,yre=(t,e)=>Nbe(k5n(t,"raw",{value:Nbe(e||t.slice())})),Vbe,Ube,Hbe;const A5n={...zu.default,aspect:1,fit:"crop",dpr:hw()},zbe=H(ae)(Vbe||(Vbe=yre([`
  height: `,`;
`])),Xe(zu.default.height)),I5n=H(Vc).attrs({animated:!0,radius:1})(Ube||(Ube=yre([`
  max-width: `,`;
  width: 80%;
`])),Xe(160)),D5n=H(Vc).attrs({animated:!0,radius:1,size:1})(Hbe||(Hbe=yre([`
  max-width: `,`;
  width: 60%;
`])),Xe(120));function bre(t){const{title:e,subtitle:n,media:r,status:i,isPlaceholder:s,children:o,styles:a}=t,l=QBt(a==null?void 0:a.root,!!n&&(a==null?void 0:a.hasSubtitle)),u=i&&c.jsx(N,{className:a==null?void 0:a.status,"data-testid":"default-preview__status",paddingLeft:3,paddingRight:1,children:el(i,"default")});return s?c.jsxs(zbe,{align:"center",className:a==null?void 0:a.placeholder,"data-testid":"default-preview",children:[r!==!1&&c.jsx(NC,{animated:!0,marginRight:2,radius:2,style:zu.default}),c.jsxs(Te,{"data-testid":"default-preview__heading",flex:1,paddingLeft:r===!1?1:2,paddingRight:i?0:1,space:2,children:[c.jsx(I5n,{}),c.jsx(D5n,{})]}),u]}):c.jsxs(zbe,{align:"center",className:l,"data-testid":"default-preview",children:[r!==!1&&r!==void 0&&c.jsx(UI,{dimensions:A5n,layout:"default",media:r,styles:a}),c.jsxs(Te,{className:a==null?void 0:a.heading,"data-testid":"default-preview__header",flex:1,paddingLeft:r?2:1,paddingRight:i?0:1,space:2,children:[c.jsxs(G,{className:a==null?void 0:a.title,style:{color:"inherit"},textOverflow:"ellipsis",children:[e&&el(e,"default"),!e&&c.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})]}),n&&c.jsx(G,{muted:!0,size:1,textOverflow:"ellipsis",className:a==null?void 0:a.subtitle,children:el(n,"default")}),o&&c.jsx("div",{className:a==null?void 0:a.children,children:o})]}),u]})}var Wbe=Object.freeze,R5n=Object.defineProperty,ww=(t,e)=>Wbe(R5n(t,"raw",{value:Wbe(e||t.slice())})),Gbe,qbe,Ybe,Kbe,Zbe,Xbe,Qbe;const Jbe=H(ae).attrs({align:"center"})(Gbe||(Gbe=ww([`
  height: `,`;
`])),Xe(zu.detail.height)),j5n=H(N)(qbe||(qbe=ww([`
  white-space: nowrap;
`]))),O5n=H(NC).attrs({animated:!0,radius:2})(Ybe||(Ybe=ww([`
  width: `,`;
  height: `,`;
`])),Xe(zu.detail.width),Xe(zu.detail.height)),L5n=H(Vc).attrs({animated:!0,radius:1})(Kbe||(Kbe=ww([`
  max-width: `,`; /* 80% of 200px */
  width: 80%;
`])),Xe(160)),P5n=H(Vc).attrs({animated:!0,radius:1,size:1})(Zbe||(Zbe=ww([`
  max-width: `,`; /* 60% of 200px */
  width: 60%;
`])),Xe(120)),M5n=H(Vc).attrs({animated:!0,radius:1,size:1})(Xbe||(Xbe=ww([`
  max-width: `,`; /* 90% of 200px */
  width: 90%;
`])),Xe(180)),$5n=H(G)(t=>{let{theme:e}=t;const{fonts:n}=e.sanity,r=n.text.sizes[1],i=2,s=r.lineHeight*i;return qe(Qbe||(Qbe=ww([`
    & > span {
      max-height: `,`;

      /* Multi-line text overflow */
      display: -webkit-box;
      overflow: hidden;
      overflow: clip;
      text-overflow: ellipsis;
      -webkit-line-clamp: `,`;
      -webkit-box-orient: vertical;
    }
  `])),Xe(s),i)}),F5n={...zu.detail,fit:"crop",aspect:1,dpr:hw()};function B5n(t){const{title:e,subtitle:n,description:r,mediaDimensions:i=F5n,media:s,status:o,children:a,isPlaceholder:l}=t,u=o&&c.jsx(j5n,{marginLeft:3,paddingRight:1,children:el(o,"detail")});return l?c.jsxs(Jbe,{"data-testid":"detail-preview",children:[s!==!1&&c.jsx(O5n,{"data-testid":"detail-preview__media"}),c.jsxs(N,{flex:1,paddingLeft:s===!1?1:2,children:[c.jsxs(ae,{align:"center","data-testid":"detail-preview__header",children:[c.jsxs(Te,{flex:1,space:2,children:[c.jsx(L5n,{}),c.jsx(P5n,{})]}),u]}),r&&c.jsx(N,{marginTop:3,children:c.jsx(M5n,{})})]})]}):c.jsxs(Jbe,{"data-testid":"detail-preview",children:[s!==!1&&c.jsx(UI,{dimensions:i,layout:"detail",media:s}),c.jsxs(N,{flex:1,paddingLeft:s===!1?1:2,children:[c.jsxs(ae,{align:"center","data-testid":"detail-preview__header",children:[c.jsxs(Te,{flex:1,space:2,children:[c.jsxs(G,{textOverflow:"ellipsis",style:{color:"inherit"},children:[e&&el(e,"detail"),!e&&c.jsx(c.Fragment,{children:"Untitled"})]}),n&&c.jsx(G,{muted:!0,size:1,textOverflow:"ellipsis",children:el(n,"detail")})]}),u]}),r&&c.jsx(N,{marginTop:3,children:c.jsx($5n,{muted:!0,size:1,children:el(r,"detail")})})]}),a]})}var exe=Object.freeze,N5n=Object.defineProperty,xre=(t,e)=>exe(N5n(t,"raw",{value:exe(e||t.slice())})),txe,nxe,rxe;const oh=43,wre=3,V5n=H.svg(txe||(txe=xre([`
  width: `,`px;
  height: `,`px;
  transform: rotate(-90deg);
`])),oh,oh),U5n=H.circle(t=>{let{theme:e}=t;const{color:n}=e.sanity;return qe(nxe||(nxe=xre([`
    fill: none;
    stroke: `,`;
    stroke-width: `,`px;
  `])),Ke.gray[n.dark?900:100].hex,wre)}),H5n=H.circle(t=>{let{theme:e}=t;const{color:n}=e.sanity;return qe(rxe||(rxe=xre([`
    fill: none;
    stroke: `,`;
    stroke-width: `,`px;
    transition: stroke-dashoffset 75ms;
  `])),Ke.blue[n.dark?400:500].hex,wre)});function z5n(t){const{value:e}=t,n=Math.min(Math.max(e,0),100),r=oh/2-wre/2,i=2*Math.PI*r,s=(100-n)/100*i,o="".concat(oh/2," ").concat(oh/2," ").concat(oh," ").concat(oh);return c.jsxs(V5n,{viewBox:o,children:[c.jsx(U5n,{cx:oh,cy:oh,r}),c.jsx(H5n,{cx:oh,cy:oh,r,style:{strokeDasharray:i,strokeDashoffset:"".concat(s,"px")}})]})}var ixe=Object.freeze,W5n=Object.defineProperty,iqe=(t,e)=>ixe(W5n(t,"raw",{value:ixe(e||t.slice())})),sxe,oxe;const G5n=.5,q5n=H(ge)(sxe||(sxe=iqe([`
  overflow: hidden;
  overflow: clip;
`]))),Y5n=H(ge)(t=>{let{theme:e}=t;const{color:n}=e.sanity;return qe(oxe||(oxe=iqe([`
    height: `,`rem;
    background: `,`;
    transition: transform 75ms;
  `])),G5n,Ke.blue[n.dark?400:500].hex)});function sqe(t){const{value:e}=t;return c.jsx(q5n,{radius:5,children:c.jsx(Y5n,{radius:5,style:{transform:"translate3d(".concat(e-100,"%, 0, 0)")}})})}var axe=Object.freeze,K5n=Object.defineProperty,HI=(t,e)=>axe(K5n(t,"raw",{value:axe(e||t.slice())})),lxe,uxe,cxe,dxe,fxe;const Z5n=H(N)(lxe||(lxe=HI([`
  position: relative;
`]))),X5n=H(ae).attrs({align:"center",justify:"center"})(uxe||(uxe=HI([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
`]))),Q5n=H(NC).attrs({animated:!0,radius:2})(cxe||(cxe=HI([`
  width: 100%;
  height: 100%;
`]))),J5n=H(ae).attrs({align:"center",justify:"center"})(dxe||(dxe=HI([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;

  &:before {
    background-color: var(--card-bg-color);
    opacity: 0.75;
    content: '';
    display: block;
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
  }

  > svg {
    position: relative;
    z-index: 2;
  }
`]))),e_n=H(Te).attrs({padding:2,space:2})(fxe||(fxe=HI([`
  max-width: `,`;
`])),Xe(200)),t_n={...zu.media,aspect:1,fit:"crop",dpr:hw()};function n_n(t){const{media:e,mediaDimensions:n=t_n,children:r,isPlaceholder:i,progress:s=-1,subtitle:o,title:a,withBorder:l=!0,withRadius:u=!0}=t,d=n.aspect||1,f=m.useMemo(()=>({paddingBottom:"".concat(100/d,"%")}),[d]),h=m.useMemo(()=>!a||!o?null:c.jsxs(e_n,{children:[a&&c.jsx(G,{align:"center",size:1,weight:"semibold",children:el(a,"media")}),o&&c.jsx(G,{align:"center",muted:!0,size:1,children:el(o,"media")})]}),[o,a]);return c.jsxs(Z5n,{"data-testid":"media-preview",overflow:"hidden",flex:1,children:[c.jsx("div",{style:f}),c.jsx(Mn,{content:h,disabled:!h,placement:"top",portal:!0,children:c.jsxs(X5n,{children:[i?c.jsx(Q5n,{}):c.jsx(UI,{border:l,dimensions:n,layout:"media",media:e,radius:u?1:0,responsive:!0}),typeof s=="number"&&s>-1&&c.jsx(J5n,{children:c.jsx(z5n,{value:s})})]})}),r]})}var hxe=Object.freeze,r_n=Object.defineProperty,_re=(t,e)=>hxe(r_n(t,"raw",{value:hxe(e||t.slice())})),pxe,mxe,gxe;const i_n=H(ae).attrs({align:"center"})(pxe||(pxe=_re([`
  box-shadow: 0 0 0 1px var(--card-border-color);
  height: `,`;
  white-space: nowrap;
  position: relative;
  z-index: 1;
`])),Xe(zu.block.height)),s_n=H(ge)(mxe||(mxe=_re([`
  position: relative;
  padding-bottom: `,`%;

  & > span {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }
`])),t=>{let{$ratio:e}=t;return e}),o_n=H(N).attrs({overflow:"hidden"})(gxe||(gxe=_re([`
  border-radius: `,`px;
`])),t=>{let{theme:e}=t;return e.sanity.radius[1]}),a_n={...zu.blockImage,fit:"fillmax",dpr:hw()},l_n=t=>{const{height:e,width:n}=t;return!e||!n?1:e/n*100};function u_n(t){const{actions:e,title:n,subtitle:r,description:i,fallbackTitle:s="Untitled",mediaDimensions:o=a_n,media:a,children:l,status:u}=t;return c.jsxs(o_n,{children:[c.jsxs(Te,{children:[c.jsxs(i_n,{paddingLeft:2,paddingRight:1,paddingY:1,children:[c.jsxs(Te,{flex:1,space:2,children:[(n||s)&&c.jsx(G,{size:1,textOverflow:"ellipsis",weight:"semibold",children:n?el(n,"block"):s}),r&&c.jsx(G,{muted:!0,size:1,textOverflow:"ellipsis",children:el(r,"block")})]}),c.jsxs(ae,{gap:1,paddingLeft:1,children:[u&&c.jsx(N,{paddingX:2,paddingY:3,children:el(u,"block")}),e]})]}),c.jsx(s_n,{$ratio:l_n(o),__unstable_checkered:!0,display:"flex",sizing:"border",tone:"inherit",children:c.jsx(UI,{border:!1,dimensions:o,layout:"blockImage",media:a,radius:0,responsive:!0})})]}),i&&c.jsx(N,{paddingX:2,paddingY:3,children:c.jsx(G,{muted:!0,size:1,children:el(i,"block")})}),l&&c.jsx("div",{children:l})]})}var vxe=Object.freeze,c_n=Object.defineProperty,d_n=(t,e)=>vxe(c_n(t,"raw",{value:vxe(e||t.slice())})),yxe;const f_n={...zu.block,aspect:1,fit:"crop",dpr:hw()},h_n=H(ae).attrs({align:"center"})(yxe||(yxe=d_n([`
  min-height: `,`;
`])),Xe(zu.block.height));function p_n(t){const{actions:e,title:n,subtitle:r,description:i,mediaDimensions:s=f_n,media:o,status:a,children:l}=t;return c.jsxs(Te,{"data-testid":"block-preview",space:1,children:[c.jsxs(h_n,{"data-testid":"block-preview__header",children:[o&&c.jsx(UI,{dimensions:s,layout:"block",media:o}),c.jsxs(N,{flex:1,paddingLeft:o?2:1,children:[c.jsx(G,{size:1,textOverflow:"ellipsis",weight:"semibold",children:n?el(n,"block"):"Untitled"}),r&&c.jsx(N,{marginTop:2,children:c.jsx(G,{muted:!0,size:1,textOverflow:"ellipsis",children:el(r,"block")})}),i&&c.jsx(N,{marginTop:3,children:c.jsx(G,{muted:!0,size:1,textOverflow:"ellipsis",children:el(i,"block")})})]}),c.jsxs(ae,{gap:1,paddingLeft:1,children:[a&&c.jsx(N,{paddingX:2,paddingY:3,children:el(a,"block")}),e]})]}),l&&c.jsx("div",{"data-testid":"block-preview__children",children:l})]})}var bxe=Object.freeze,m_n=Object.defineProperty,Cre=(t,e)=>bxe(m_n(t,"raw",{value:bxe(e||t.slice())})),xxe,wxe,_xe;const g_n=H.span(xxe||(xxe=Cre([`
  display: inline-flex;
  align-items: center;
  vertical-align: top;
  height: calc(1em - 1px);
  max-width: 100%;
`]))),v_n=H.span(wxe||(wxe=Cre([`
  position: relative;
  display: inline-block;
  width: calc(1em - 1px);
  height: calc(1em - 1px);
  min-width: calc(1em - 1px);

  & img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: `,`;
  }

  & img + span {
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-fg-color);
    opacity: 0.2;
    border-radius: `,`;
  }

  & svg {
    display: block;
    font-size: calc(14 / 16 * 1em);
    margin: 1px 0;

    &[data-sanity-icon] {
      font-size: calc(18 / 16 * 1em);
      margin: calc(1px + (2 / 18 * -1em)) 0;
    }
  }
`])),t=>{let{theme:e}=t;return Xe(e.sanity.radius[1])},t=>{let{theme:e}=t;return Xe(e.sanity.radius[1])}),y_n=H(G).attrs({forwardedAs:"span"})(t=>{let{theme:e}=t;const n=e.sanity.fonts.text,r=n.sizes[1];return qe(_xe||(_xe=Cre([`
    font-size: calc(`,` / 16 * 1em);
    font-weight: `,`;
    box-sizing: border-box;
    display: inline-block;
    vertical-align: top;
    line-height: `,`;
    padding-left: 0.5em;
    padding-right: calc(0.5em - 2px);
    min-width: 0;

    & > span {
      display: block;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      overflow: clip;
    }
  `])),r.fontSize,n.weights.medium,r.lineHeight/r.fontSize)}),b_n={...zu.inline,fit:"crop",aspect:1,dpr:hw()};function x_n(t){const{title:e,fallbackTitle:n="Untitled",media:r,mediaDimensions:i=b_n}=t;return c.jsxs(g_n,{"data-testid":"inline-preview",children:[r&&c.jsxs(v_n,{"data-testid":"inline-preview-media",children:[T5n(r,"inline",i),c.jsx("span",{})]}),c.jsx(y_n,{"data-testid":"inline-preview-title",size:1,children:el(e,"inline",n)})]})}var Cxe=Object.freeze,w_n=Object.defineProperty,w$=(t,e)=>Cxe(w_n(t,"raw",{value:Cxe(e||t.slice())})),Exe,Sxe,Txe,kxe;({...zu.default,dpr:hw()});H(N)(Exe||(Exe=w$([`
  height: 100%;

  a {
    color: currentColor;
    text-decoration: none;
  }

  svg[data-sanity-icon] {
    margin: 0;
  }
`])));H(ae).attrs({align:"center"})(Sxe||(Sxe=w$([`
  height: `,`;
`])),Xe(zu.default.height));H(Vc).attrs({animated:!0,radius:1})(Txe||(Txe=w$([`
  max-width: `,`;
  width: 80%;
`])),Xe(160));H(Vc).attrs({animated:!0,radius:1,size:1})(kxe||(kxe=w$([`
  max-width: `,`;
  width: 60%;
`])),Xe(120));const __n=["aria-hidden","disabled","href"],C_n='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])';function E_n(t){return[...t.querySelectorAll(C_n)].filter(e=>!e.hasAttribute("disabled")&&e.getAttribute("aria-hidden")!=="true")}function oqe(t){const{direction:e="horizontal",initialFocus:n,loop:r=!0,navigation:i=["arrows"],pause:s=!1,rootElement:o}=t,[a,l]=m.useState(-1),[u,d]=m.useState([]),f=u.length,h=f-1,p=e==="horizontal"?"ArrowRight":"ArrowDown",g=e==="horizontal"?"ArrowLeft":"ArrowUp",v=m.useCallback(()=>{if(o){const b=E_n(o);d(b)}},[o]),y=m.useCallback(b=>{l(b)},[]),x=m.useCallback(b=>{if(s)return;const _=()=>{b.preventDefault(),l(S=>{const T=(S+h)%f;return!r&&T===h?S:T})},C=()=>{b.preventDefault(),l(S=>{const T=(S+1)%f;return!r&&T===0?S:T})};b.key==="Tab"&&i.includes("tab")&&(b.shiftKey?_():C()),i.includes("arrows")&&(b.key===g&&_(),b.key===p&&C())},[s,g,i,p,h,f,r]);m.useEffect(()=>{v()},[v,n,e]),m.useEffect(()=>{const b=new MutationObserver(v);return o&&b.observe(o,{childList:!0,subtree:!0,attributeFilter:__n}),()=>{b.disconnect()}},[u,v,o]),m.useEffect(()=>{var b;u.forEach((_,C)=>{C===a?(_.setAttribute("tabIndex","0"),_.setAttribute("aria-selected","true"),_.focus(),_.onfocus=()=>y(C),_.onblur=()=>y(-1)):(_.setAttribute("tabIndex","-1"),_.setAttribute("aria-selected","false"),_.onfocus=()=>y(C))}),a===-1&&u&&((b=u[n==="last"?h:0])==null||b.setAttribute("tabIndex","0"))},[u,a,y,n,h]),m.useEffect(()=>(o==null||o.addEventListener("keydown",x),()=>{o==null||o.removeEventListener("keydown",x)}),[x,o])}const S_n=H(N)({position:"relative"}),T_n=H.div({position:"absolute",top:-4,right:-4,width:6,height:6,borderRadius:3,boxShadow:"0 0 0 1px var(--card-bg-color)"}),_y=m.forwardRef(function(e,n){const{disabled:r,fontSize:i,hotkey:s,icon:o,label:a,mode:l="bleed",space:u=3,text:d,tone:f,tooltip:h,...p}=e,g=Zu(),v=f&&g.sanity.color.solid[f],y=m.useMemo(()=>({backgroundColor:v==null?void 0:v.enabled.bg}),[v]),x=!!r,b=typeof r=="object"?c.jsx(G,{size:1,children:r.reason}):c.jsxs(ae,{align:"center",gap:2,style:{lineHeight:0},children:[c.jsx(G,{size:1,children:a}),s&&c.jsx(tee,{fontSize:0,keys:s,style:{margin:-4}})]});return c.jsx(Mn,{padding:2,placement:"bottom",...h,content:b,disabled:!a,portal:!0,children:c.jsx("div",{children:c.jsx(Ce,{"data-ui":"StatusButton",...p,"aria-label":a,disabled:x,mode:l,ref:n,children:c.jsxs(ae,{gap:u,children:[c.jsxs(S_n,{children:[c.jsxs(G,{size:i,children:[m.isValidElement(o)&&o,ws.isValidElementType(o)&&m.createElement(o)]}),f&&c.jsx(T_n,{style:y})]}),d&&c.jsx(N,{flex:1,children:c.jsx(G,{size:i,children:d})})]})})})})});var Axe=Object.freeze,k_n=Object.defineProperty,A_n=(t,e)=>Axe(k_n(t,"raw",{value:Axe(e||t.slice())})),Ixe;const I_n=H(G)(t=>{let{$tone:e,theme:n}=t;const r=n.sanity.color.muted[e];return qe(Ixe||(Ixe=A_n([`
    &:not([data-muted]) {
      --card-fg-color: `,`;
    }

    &[data-dimmed] {
      opacity: 0.3;
    }
  `])),r?r.enabled.fg:void 0)}),xs=re.forwardRef(function(e,n){const{tone:r,dimmed:i,muted:s,...o}=e;return c.jsx(I_n,{"data-ui":"TextWithTone","data-dimmed":i?"":void 0,"data-muted":s?"":void 0,$tone:r,muted:s,ref:n,...o})}),zI=m.forwardRef(function(e,n){const{children:r,content:i,disabled:s,...o}=e;return c.jsx(Mn,{...o,content:i,disabled:s||!i,padding:2,ref:n,children:c.jsx("div",{children:r})})}),Ere=m.forwardRef((t,e)=>{const{push:n}=Na();return m.useImperativeHandle(e,()=>({push:n})),null});Ere.displayName="ImperativeToast";const D_n={navbar:200,navbarPopover:5e5,navbarDialog:500001,pane:100,paneHeader:[110,15e3],paneFooter:[120,2e4],paneResizer:[130,25e3],popover:200,modal:200,movingItem:1e4,drawershade:1e6,drawer:1000001,fullscreen:12e5,toast:[100,11e3],portal:200,dropdown:200,navbarFixed:1010,fullscreenEdit:1050,popoverBackground:1060,tooltip:200,modalBackground:2e3,spinner:3e3},R_n=m.createContext(D_n);function j_n(){return m.useContext(R_n)}function sC(t){let{children:e,zOffset:n}=t;const i=j_n()[n];return c.jsx(Fv,{zOffset:i,children:e})}function O_n(){const t=new WeakMap,e=new WeakMap;function n(){return Array.from({length:10}).map(()=>Math.floor(Math.random()*255).toString(16).padStart(2,"0")).join("")}function r(u){const d=e.get(u);if(d)return d;const f=n();return e.set(u,f),f}function i(u){return Array.from(new Set(u)).map(d=>[r(d),d]).sort((d,f)=>{let[h]=d,[p]=f;return h.localeCompare(p,"en")}).map(d=>{let[,f]=d;return f})}function s(u,d){if(!u.length)return;const[f,...h]=u,p=d.get(f);if(p)return h.length?s(h,p.next):p.value}function o(u,d,f){if(!u.length)return;const[h,...p]=u,g=d.get(h)||{type:"multi-key-weak-map-node",value:void 0,next:new WeakMap};if(d.set(h,g),!p.length){g.value=f;return}o(p,g.next,f)}function a(u){return s(i(u),t)}function l(u,d){o(i(u),t,d)}return{get:a,set:l}}const aqe=m.createContext(null);function L_n(t){let{children:e}=t;const n=m.useMemo(()=>{const r=new Map,i={};return{get:s=>{let{namespace:o,dependencies:a}=s;const l=a.map(d=>d===null?i:d),u=r.get(o);return u==null?void 0:u.get(l)},set:s=>{let{namespace:o,dependencies:a,value:l}=s;const u=r.get(o)||O_n(),d=a.map(f=>f===null?i:f);r.set(o,u),u.set(d,l)}}},[]);return c.jsx(aqe.Provider,{value:n,children:e})}function Cy(){const t=m.useContext(aqe);if(!t)throw new Error("Could not find `cache` context");return t}var P_n=Object.defineProperty,M_n=(t,e,n)=>e in t?P_n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$_n=(t,e,n)=>(M_n(t,typeof e!="symbol"?e+"":e,n),n);class Sre extends Error{constructor(e){let{projectId:n}=e;super("CorsOriginError"),$_n(this,"projectId"),this.projectId=n}}const Tre=(()=>{const t="__tmp_supports_local_storage";try{return typeof localStorage>"u"?!1:(localStorage.setItem(t,"---"),localStorage.removeItem(t),!0)}catch{return!1}})(),kre={};function lqe(t,e){Tre?localStorage[t]=e:kre[t]=e}function F_n(t){return Tre?localStorage[t]:kre[t]}function uqe(t){Tre?localStorage.removeItem(t):delete kre[t]}function B_n(t){const e=typeof window>"u"?Re():Hu(window,"storage"),n="__studio_local_storage_messaging_".concat(t),r=new Pi,i=li(r,e.pipe(dt(o=>o.key===n),Be(o=>o.newValue),dt(ma),Be(o=>JSON.parse(o)))).pipe($a(1));function s(o){try{lqe(n,JSON.stringify(o)),uqe(n),r.next(o)}catch{}}return{messages:i,broadcast:s}}const Dxe=/sid=([^&]{20,})&?/;function N_n(){if(typeof window>"u"||typeof window.location!="object")return null;const t=window.location.hash,[,e]=t.match(Dxe)||[];if(!e)return null;const n=t.replace(Dxe,""),r=new URL(window.location.href);return r.hash=n.length>1?n:"",history.replaceState(null,"",r),e}let Rxe=N_n();const V_n=()=>{const t=Rxe;return t&&(Rxe=null),t};var jxe=Object.freeze,U_n=Object.defineProperty,H_n=(t,e)=>jxe(U_n(t,"raw",{value:jxe(e||t.slice())})),Oxe;const z_n=H.svg(t=>{let{theme:e}=t;const{fg:n}=e.sanity.color.base;return qe(Oxe||(Oxe=H_n([`
    fill: `,`;
  `])),n)}),W_n=()=>c.jsx(z_n,{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 438.55 438.55",children:c.jsx("path",{d:"M409.13 114.57a218.32 218.32 0 0 0-79.8-79.8Q278.94 5.36 219.27 5.36T109.21 34.77a218.29 218.29 0 0 0-79.8 79.8Q0 165 0 224.63q0 71.67 41.83 128.91t108.06 79.23q7.71 1.43 11.42-2a11.17 11.17 0 0 0 3.69-8.57q0-.86-.14-15.42t-.14-25.41l-6.57 1.14a83.77 83.77 0 0 1-15.85 1 120.73 120.73 0 0 1-19.84-2 44.34 44.34 0 0 1-19.11-8.51 36.23 36.23 0 0 1-12.56-17.6l-2.86-6.57a71.34 71.34 0 0 0-9-14.56q-6.14-8-12.42-10.85l-2-1.43a21 21 0 0 1-3.71-3.43 15.66 15.66 0 0 1-2.57-4q-.86-2 1.43-3.29C61.2 310.42 64 310 68 310l5.71.85q5.71 1.14 14.13 6.85a46.08 46.08 0 0 1 13.85 14.84q6.57 11.71 15.85 17.85t18.7 6.14a81.19 81.19 0 0 0 16.27-1.42 56.78 56.78 0 0 0 12.85-4.29q2.57-19.14 14-29.41a195.49 195.49 0 0 1-29.36-5.13 116.52 116.52 0 0 1-26.83-11.14 76.86 76.86 0 0 1-23-19.13q-9.14-11.42-15-30t-5.8-42.81q0-34.55 22.56-58.82-10.57-26 2-58.24 8.28-2.57 24.55 3.85t23.84 11q7.57 4.56 12.13 7.71a206.2 206.2 0 0 1 109.64 0l10.85-6.85a153.65 153.65 0 0 1 26.26-12.56q15.13-5.71 23.13-3.14 12.84 32.26 2.28 58.24 22.55 24.27 22.56 58.82 0 24.27-5.85 43t-15.12 30a79.82 79.82 0 0 1-23.13 19 116.74 116.74 0 0 1-26.84 11.14 195.29 195.29 0 0 1-29.23 5.07q14.8 12.84 14.81 40.58v60.2a11.37 11.37 0 0 0 3.57 8.56q3.57 3.42 11.28 2 66.24-22 108.07-79.23t41.83-128.91q-.03-59.62-29.43-110.05z"})}),G_n=()=>c.jsxs("svg",{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[c.jsx("path",{d:"M11 24a13 13 0 0 1 .66-4.08l-7.4-5.66a22.18 22.18 0 0 0 0 19.49l7.4-5.67A13 13 0 0 1 11 24z",fill:"#fbbc05"}),c.jsx("path",{d:"M24 11a12.72 12.72 0 0 1 8.1 2.9l6.4-6.4a22 22 0 0 0-34.24 6.75l7.4 5.66A13 13 0 0 1 24 11z",fill:"#ea4335"}),c.jsx("path",{d:"M24 37a13 13 0 0 1-12.34-8.92l-7.4 5.66A21.93 21.93 0 0 0 24 46a21 21 0 0 0 14.33-5.48l-7-5.44A13.59 13.59 0 0 1 24 37zm-12.35-8.93l-7.4 5.67 7.4-5.66z",fill:"#34a853"}),c.jsx("path",{d:"M44.5 20H24v8.5h11.8a9.91 9.91 0 0 1-4.49 6.58l7 5.44C42.37 36.76 45 31.17 45 24a18.25 18.25 0 0 0-.5-4z",fill:"#4285f4"})]});function q_n(t){const{provider:e}=t;return e.logo?c.jsx("img",{src:e.logo,alt:"Logo for ".concat(e.name)}):void 0}const Y_n={google:G_n,github:W_n,custom:q_n};async function K_n(t){let{client:e,mode:n,providers:r=[]}=t;if(n==="replace"&&Array.isArray(r))return r;const{providers:i}=await e.request({uri:"/auth/providers"});return typeof r=="function"?r(i):r.length===0?i:n==="replace"?r:i.filter(s=>r.some(o=>o.url!==s.url)).concat(r)}function Lxe(t){let{loginMethod:e="dual",projectId:n,url:r,basePath:i}=t;const s=new URLSearchParams;return s.set("origin","".concat(window.location.origin).concat(i)),s.set("projectId",n),e==="token"?s.set("withSid","true"):s.set("type",e),"".concat(r,"?").concat(s)}function Z_n(t){let{getClient:e,loginMethod:n,redirectOnSingle:r,...i}=t;const s=Om(e);function o(a){let{projectId:l,basePath:u}=a;const[d,f]=m.useState(null),[h,p]=m.useState(null);if(h)throw h;const[g]=s();m.useEffect(()=>{g&&K_n({client:g,...i}).then(f).catch(p)},[g]);const v=r&&(d==null?void 0:d.length)===1&&(d==null?void 0:d[0])&&Lxe({loginMethod:n,projectId:l,url:d[0].url,basePath:u}),y=!d||v;return m.useEffect(()=>{v&&(window.location.href=v)},[v]),y?c.jsxs(ae,{align:"center",direction:"column",gap:4,justify:"center",padding:6,sizing:"border",children:[c.jsx(G,{muted:!0,children:"Loading"}),c.jsx(_s,{muted:!0})]}):c.jsxs(Te,{space:4,children:[c.jsx(Ws,{align:"center",size:1,children:"Choose login provider"}),c.jsx(Te,{space:2,children:d.map((x,b)=>c.jsx(Ce,{as:"a",icon:Y_n[x.name],href:Lxe({loginMethod:n,projectId:l,url:x.url,basePath:u}),mode:"ghost",text:x.title},"".concat(x.url,"_").concat(b)))})]})}return o}const Are=t=>{if(!t)throw new Error("Invalid project id");return"__studio_auth_token_".concat(t)},Pxe=t=>{try{const e=F_n(Are(t));if(e){const{token:n}=JSON.parse(e);if(n&&typeof n=="string")return n}}catch(e){console.error(e)}return null},cqe=t=>{try{uqe(Are(t))}catch(e){console.error(e)}},X_n=t=>{let{token:e,projectId:n}=t;try{lqe(Are(n),JSON.stringify({token:e,time:new Date().toISOString()}))}catch(r){console.error(r)}},Mxe=async(t,e)=>{var n;try{const r=await t.request({uri:"/users/me",withCredentials:!0,tag:"users.get-current"});return typeof(r==null?void 0:r.id)=="string"?r:null}catch(r){if(r.statusCode===401)return cqe(t.config().projectId||""),e(null),null;if(await t.request({uri:"/ping",withCredentials:!1,tag:"cors-check"}).then(()=>!0,()=>!1))throw new Sre({projectId:(n=t.config())==null?void 0:n.projectId});if(r.isNetworkError&&!r.message&&r.request&&r.request.url){const s=new URL(r.request.url).host;throw new Error("Unknown network error attempting to reach ".concat(s))}throw r}};function Q_n(t){let{clientFactory:e,projectId:n,dataset:r,apiHost:i,loginMethod:s="dual",...o}=t;const{broadcast:a,messages:l}=B_n("dual_mode_auth_".concat(n)),u=e??tVe,d=l.pipe(vu(s==="dual"?Pxe(n):null)),f={};i&&(f.apiHost=i);const h=d.pipe(Be(x=>u({projectId:n,dataset:r,apiVersion:"2021-06-07",useCdn:!1,...x&&{token:x},withCredentials:!0,requestTagPrefix:"sanity.studio",ignoreBrowserTokenWarning:!0,allowReconfigure:!1,...f})),Kt(x=>Ls(async()=>{const b=await Mxe(x,a);return{currentUser:b,client:x,authenticated:!!b}})),Xi((x,b)=>Ur(x.currentUser,b.currentUser)),$a(1));async function p(){const x=V_n();if(!x){a(s==="cookie"?null:Pxe(n));return}const b=u({projectId:n,dataset:r,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...f});let _;if((s==="dual"||s==="cookie")&&(_=await Mxe(b,a)),_||s==="cookie"){a(null);return}const C=await g(b,x);a(C??null)}async function g(x,b){const{token:_}=await x.request({method:"GET",uri:"/auth/fetch",query:{sid:b},tag:"auth.fetch-token"});return X_n({token:_,projectId:n}),_}async function v(){const x=u({projectId:n,dataset:r,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...f});cqe(n),await x.request({uri:"/auth/logout",method:"POST"}),a(null)}const y=Z_n({...o,getClient:()=>h.pipe(Be(x=>x.client)),loginMethod:s});return{handleCallbackUrl:p,token:d,state:h,LoginComponent:y,logout:v}}function dqe(t){return typeof t!="object"||t===null?"".concat(t):JSON.stringify(Object.fromEntries(Object.entries(t).sort((e,n)=>{let[r]=e,[i]=n;return r.localeCompare(i,"en")}).map(e=>{let[n,r]=e;return[n,dqe(r)]})))}const J_n=b9(Q_n,dqe);function eCn(t){return Jn(t)&&"state"in t&&Jn(t.state)&&"subscribe"in t.state&&typeof t.state.subscribe=="function"}function fqe(t){if(t==="google")return"Google";if(t==="github")return"GitHub";if(t==="sanity")return"Sanity";if(t!=null&&t.startsWith("saml-"))return"SAML/SSO"}function tCn(t){return e=>{let n=[];const r=Or((i,s)=>(n.push(i),t(i,n.length,s).pipe(r)));return e.pipe(Ei(()=>{n=[]}),r)}}const $xe=typeof window>"u"?Re({}):Hu(window,"online"),nCn=typeof window>"u"?Re({}):Hu(window,"offline"),rCn=t=>Math.pow(2,t)*100,iCn={type:"connecting"},hqe=PFe(),sCn=hqe[0];hqe[1];const oCn=t=>{let{error:e,isOffline:n,attemptNo:r,retryAt:i}=t;return{type:"error",error:e,attemptNo:r,isOffline:n,retryAt:i}};function aCn(t){let{bifur:e}=t;return{connectionStatus$:li(e.heartbeats,nCn.pipe(Hv(il(new Error("The browser went offline"))))).pipe(Be(r=>({type:"connected",lastHeartbeat:r})),tCn((r,i,s)=>{const o=Math.min(24e4,rCn(i)),a=new Date(new Date().getTime()+o),l=gu(a),u=!navigator.onLine,d=oCn({error:r,retryAt:a,isOffline:u,attemptNo:i}),f=hee.pipe(pI(u?$xe:li(l,$xe,sCn)));return go(Re(d),f.pipe(Ic(1)),s)}),vu(iCn))}}const lCn=lMe(t=>{let{theme:e}=t;const{color:n,fonts:r}=e.sanity;return{html:{backgroundColor:n.base.bg},"#sanity":{fontFamily:r.text.family}}});function Fxe(t){const e=["projectId"in t&&"`projectId` not allowed in plugin configuration","dataset"in t&&"`dataset` not allowed in plugin configuration"].filter(k9);if(e.length)throw new Error(`Invalid plugin configuration:
`.concat(e.map(n=>"	".concat(n)).join(`
`)))}function Ey(t){if(typeof t=="function"){const e=t;return n=>{const r=e(n);return Fxe(r),r}}return Fxe(t),()=>t}const uCn=(t,e,n)=>{let{document:r}=e;const i=r==null?void 0:r.unstable_fieldActions;if(!i)return t;if(typeof i=="function")return i(t,n);if(Array.isArray(i))return[...t,...i];throw new Error("Expected `document.unstable_fieldActions` to be an array or a function, but received ".concat(typeof i))},cCn=[];var dCn=Object.defineProperty,fCn=(t,e,n)=>e in t?dCn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,H4=(t,e,n)=>(fCn(t,typeof e!="symbol"?e+"":e,n),n);const _v=class pqe{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};H4(this,"message"),H4(this,"paths"),H4(this,"children"),H4(this,"operation"),this.message=e,this.paths=n.paths||[],this.children=n.children,this.operation=n.operation}cloneWithMessage(e){return new pqe(e,{paths:this.paths,children:this.children,operation:this.operation})}};function hCn(t){return t.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}function Ire(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).reduce((e,n,r)=>{const i=typeof n;if(i==="number")return"".concat(e,"[").concat(n,"]");if(i==="string"){const s=r===0?"":".";return"".concat(e).concat(s).concat(n)}if(hm(n))return"".concat(e,'[_key=="').concat(n._key,'"]');throw new Error('Unsupported path segment "'.concat(n,'"'))},"")}function pCn(t){return t!==null||t!==void 0}function $k(t,e,n){var r;if(!n)throw new Error("missing context");if(t===!0)return[];if(Array.isArray(t))return t.flatMap(s=>$k(s,e,n)).filter(pCn);if(typeof t=="string")return $k(new _v(t),e,n);if(!(t instanceof _v)){if(typeof(t==null?void 0:t.message)!="string")throw new Error("".concat(Ire(n.path),": Validator must return 'true' if valid or an error message as a string on errors"));return $k(new _v(t.message,t),e,n)}const i=[];return(r=t.paths)!=null&&r.length?i.concat(t.paths.map(s=>({path:(n.path||[]).concat(s),level:e||"error",item:t}))):[{level:e||"error",item:t,path:n.path||[]}]}const mCn={}.toString,Bxe=[Object,Function,Array,String,Boolean,Number,Date,RegExp,Error];function gCn(t){for(let e=0;e<Bxe.length;e++)if(Bxe[e]===t)return!0;return!1}function mqe(t){const e=mCn.call(t).slice(8,-1);if(t==null)return e.toLowerCase();const n=t.constructor;return n&&!gCn(n)?n.name:e}function i3(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!i3(t[n],e[n]))return!1;return!0}if(Array.isArray(t)!=Array.isArray(e))return!1;if(t&&e&&typeof t=="object"&&typeof e=="object"){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(t instanceof Date!=e instanceof Date)return!1;if(t instanceof RegExp&&e instanceof RegExp)return t.toString()==e.toString();if(t instanceof RegExp!=e instanceof RegExp)return!1;for(let r=0;r<n.length;r++)if(n[r]!=="_key"&&!Object.prototype.hasOwnProperty.call(e,n[r]))return!1;for(let r=0;r<n.length;r++){const i=n[r];if(i!=="_key"&&!i3(t[i],e[i]))return!1}return!0}return!1}const Nxe=5e3,Vxe=t=>{var e;let n;return t.message?n=t.message:t.results.length===1?n=(e=t.results[0])==null?void 0:e.item.message:n="[".concat(t.results.map(r=>r.item.message).join(" - ".concat(t.operation," - ")),"]"),new _v(n,{children:t.results.length>1?t.results:void 0,operation:t.operation})},_w={type:(t,e,n)=>{const r=mqe(e);return r!==t&&r!=="undefined"?n||'Expected type "'.concat(t,'", got "').concat(r,'"'):!0},presence:(t,e,n)=>e===void 0&&t==="required"?n||"Value is required":!0,all:async(t,e,n,r)=>{const s=(await Promise.all(t.map(o=>o.validate(e,r)))).flat();return s.length?Vxe({message:n,results:s,operation:"AND"}):!0},either:async(t,e,n,r)=>{const s=(await Promise.all(t.map(o=>o.validate(e,r)))).flat();return s.length<t.length?!0:Vxe({message:n,results:s,operation:"OR"})},valid:(t,e,n)=>{const r=typeof e;if(r==="undefined")return!0;const i=(r==="number"||r==="string")&&"".concat(e),s=i&&i.length>30?"".concat(i.slice(0,30),""):i,o=i?'Value "'.concat(s,'" did not match any allowed values'):"Value did not match any allowed values";return t.some(a=>i3(a,e))?!0:n||o},custom:async(t,e,n,r)=>{const i=setTimeout(()=>{console.warn("Custom validator at ".concat(Ire(r.path)," has taken more than ").concat(Nxe,"ms to respond"))},Nxe);let s;try{s=await t(e,r)}finally{clearTimeout(i)}return typeof s=="string"&&n||s}},vCn={..._w,presence:(t,e,n)=>t==="required"&&typeof e!="boolean"?n||"Required":!0},yCn=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,bCn={..._w,integer:(t,e,n)=>Number.isInteger(e)?!0:n||"Must be an integer",precision:(t,e,n)=>{if(e===void 0)return!0;const r=e.toString().match(yCn);return Math.max((r[1]?r[1].length:0)-(r[2]?parseInt(r[2],10):0),0)>t?n||"Max precision is ".concat(t):!0},min:(t,e,n)=>e>=t?!0:n||"Must be greater than or equal ".concat(t),max:(t,e,n)=>e<=t?!0:n||"Must be less than or equal ".concat(t),greaterThan:(t,e,n)=>e>t?!0:n||"Must be greater than ".concat(t),lessThan:(t,e,n)=>e<t?!0:n||"Must be less than ".concat(t)},pH="http://sanity",xCn=t=>/^\.*\//.test(t),wCn=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,_Cn={..._w,min:(t,e,n)=>!e||e.length>=t?!0:n||"Must be at least ".concat(t," characters long"),max:(t,e,n)=>!e||e.length<=t?!0:n||"Must be at most ".concat(t," characters long"),length:(t,e,n)=>(e||"").length===t?!0:n||"Must be exactly ".concat(t," characters long"),uri:(t,e,n)=>{const r=e||"",{options:i}=t,{allowCredentials:s,relativeOnly:o}=i,a=i.allowRelative||o;let l;try{l=a?new URL(r,pH):new URL(r)}catch{return n||"Not a valid URL"}if(o&&l.origin!==pH)return n||"Only relative URLs are allowed";if(!a&&l.origin===pH&&xCn(r))return n||"Relative URLs are not allowed";if(!s&&(l.username||l.password))return n||"Username/password not allowed";const u=l.protocol.replace(/:$/,"");return i.scheme.some(f=>f.test(u))?!0:n||"Does not match allowed protocols/schemes"},stringCasing:(t,e,n)=>{const r=e||"";return t==="uppercase"&&r!==r.toLocaleUpperCase()?n||"Must be all uppercase letters":t==="lowercase"&&r!==r.toLocaleLowerCase()?n||"Must be all lowercase letters":!0},presence:(t,e,n)=>t==="required"&&!e?n||"Required":!0,regex:(t,e,n)=>{const{pattern:r,name:i,invert:s}=t,o=i||'"'.concat(r.toString(),'"'),a=e||"";r.lastIndex=0;const l=r.test(a);if(!s&&!l||s&&l){const u=s?"Should not match ".concat(o,"-pattern"):"Does not match ".concat(o,"-pattern");return n||u}return!0},email:(t,e,n)=>{const r="".concat(e||"").trim();return!r||wCn.test(r)?!0:n||"Must be a valid email address"}},CCn={..._w,min:(t,e,n)=>!e||e.length>=t?!0:n||"Must have at least ".concat(t," items"),max:(t,e,n)=>!e||e.length<=t?!0:n||"Must have at most ".concat(t," items"),length:(t,e,n)=>!e||e.length===t?!0:n||"Must have exactly ".concat(t," items"),presence:(t,e,n)=>t==="required"&&!e?n||"Required":!0,valid:(t,e,n)=>{if(typeof e==="undefined")return!0;const i=[];for(let s=0;s<e.length;s++){const o=e[s];if(t.some(l=>i3(l,o)))continue;const a=o&&o._key?{_key:o._key}:s;i.push([a])}return i.length===0?!0:new _v(n||"Value did not match any allowed values",{paths:i})},unique:(t,e,n)=>{const r=[];if(!e)return!0;for(let s=0;s<e.length;s++)for(let o=s+1;o<e.length;o++){const a=e[s],l=e[o];i3(a,l)&&(r.indexOf(s)===-1&&r.push(s),r.indexOf(o)===-1&&r.push(o))}const i=r.map(s=>{const o=e[s];return[o&&o._key?{_key:o._key}:s]});return r.length>0?new _v(n||"Can't be a duplicate",{paths:i}):!0}},ECn=["_key","_type","_weak"],SCn={..._w,presence:(t,e,n)=>{if(t!=="required")return!0;const r=e&&Object.keys(e).filter(i=>!ECn.includes(i));return e===void 0||r&&r.length===0?n||"Required":!0},reference:async(t,e,n,r)=>{if(!e)return!0;if(!wm(e))return n||"Must be a reference to a document";const{type:i,getDocumentExists:s}=r;if(!i)throw new Error("`type` was not provided in validation context");if("weak"in i&&i.weak)return!0;if(!s)throw new Error("`getDocumentExists` was not provided in validation context");return await s({id:e._ref})?!0:"This reference must be published"},assetRequired:(t,e,n)=>{if(!e||!e.asset||!e.asset._ref){const r=t.assetType||"Asset";return n||"".concat(r," required")}return!0}};function Uxe(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const TCn=/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/,Hxe=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r="yyyy-MM-dd";return n&&n.dateFormat&&(r=n.dateFormat),t==="date"?Ja(new Date(e),r):(n&&n.timeFormat?r+=" ".concat(n.timeFormat):r+=" HH:mm",Ja(new Date(e),r))};function z4(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!t)return null;if(t==="now")return new Date;const n=new Date(t),r=isNaN(n.getTime());if(r&&e)throw new Error('Unable to parse "'.concat(t,'" to a date'));return r?null:n}const kCn={..._w,type:(t,e,n)=>!"".concat(e)||TCn.test(e)?!0:n||"Must be a valid ISO-8601 formatted date string",min:(t,e,n,r)=>{const i=z4(e);if(!i||!e||i>=z4(t,!0))return!0;if(!r.type)throw new Error("`type` was not provided in validation context.");const s=Uxe(r.type.options)?r.type.options:{},o=Hxe(r.type.name,t,s);return n||"Must be at or after ".concat(o)},max:(t,e,n,r)=>{const i=z4(e);if(!i||!e||i<=z4(t,!0))return!0;if(!r.type)throw new Error("`type` was not provided in validation context.");const s=Uxe(r.type.options)?r.type.options:{},o=Hxe(r.type.name,t,s);return n||"Must be at or before ".concat(o)}};var ACn=Object.defineProperty,ICn=(t,e,n)=>e in t?ACn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ul=(t,e,n)=>(ICn(t,typeof e!="symbol"?e+"":e,n),n),Ca;const DCn={Boolean:vCn,Number:bCn,String:_Cn,Array:CCn,Object:SCn,Date:kCn},gqe=t=>t&&t.type?gqe(t.type):t,RCn=t=>typeof t!="object"||!t?!1:t.type===NY.FIELD_REF,jCn=[],zxe=Symbol("FIELD_REF"),OCn=["Array","Boolean","Date","Number","Object","String"],NY=(Ca=class{constructor(t){Ul(this,"_type"),Ul(this,"_level"),Ul(this,"_required"),Ul(this,"_typeDef"),Ul(this,"_message"),Ul(this,"_rules",[]),Ul(this,"_fieldRules"),Ul(this,"valueOfField",Ca.valueOfField.bind(Ca)),this._typeDef=t,this.reset()}_mergeRequired(t){if(this._required==="required"||t._required==="required")return"required";if(this._required==="optional"||t._required==="optional")return"optional"}error(t){const e=this.clone();return e._level="error",e._message=t||void 0,e}warning(t){const e=this.clone();return e._level="warning",e._message=t||void 0,e}info(t){const e=this.clone();return e._level="info",e._message=t||void 0,e}reset(){return this._type=this._type||void 0,this._rules=(this._rules||[]).filter(t=>t.flag==="type"),this._message=void 0,this._required=void 0,this._level="error",this._fieldRules=void 0,this}isRequired(){return this._required==="required"}clone(){const t=new Ca;return t._type=this._type,t._message=this._message,t._required=this._required,t._rules=kQt(this._rules),t._level=this._level,t._fieldRules=this._fieldRules,t._typeDef=this._typeDef,t}cloneWithRules(t){const e=this.clone(),n=new Set;return t.forEach(r=>{r.flag==="type"&&(e._type=r.constraint),n.add(r.flag)}),e._rules=e._rules.filter(r=>{const i=["type","uri","email"].includes(r.flag),s=n.has(r.flag);return!(i&&s)}).concat(t),e}merge(t){if(this._type&&t._type&&this._type!==t._type)throw new Error("merge() failed: conflicting types");const e=this.cloneWithRules(t._rules);return e._type=this._type||t._type,e._message=this._message||t._message,e._required=this._mergeRequired(t),e._level=this._level==="error"?t._level:this._level,e}type(t){const e="".concat(t.slice(0,1).toUpperCase()).concat(t.slice(1));if(!OCn.includes(e))throw new Error('Unknown type "'.concat(t,'"'));const n=this.cloneWithRules([{flag:"type",constraint:e}]);return n._type=e,n}all(t){return this.cloneWithRules([{flag:"all",constraint:t}])}either(t){return this.cloneWithRules([{flag:"either",constraint:t}])}optional(){const t=this.cloneWithRules([{flag:"presence",constraint:"optional"}]);return t._required="optional",t}required(){const t=this.cloneWithRules([{flag:"presence",constraint:"required"}]);return t._required="required",t}custom(t){return this.cloneWithRules([{flag:"custom",constraint:t}])}min(t){return this.cloneWithRules([{flag:"min",constraint:t}])}max(t){return this.cloneWithRules([{flag:"max",constraint:t}])}length(t){return this.cloneWithRules([{flag:"length",constraint:t}])}valid(t){const e=Array.isArray(t)?t:[t];return this.cloneWithRules([{flag:"valid",constraint:e}])}integer(){return this.cloneWithRules([{flag:"integer"}])}precision(t){return this.cloneWithRules([{flag:"precision",constraint:t}])}positive(){return this.cloneWithRules([{flag:"min",constraint:0}])}negative(){return this.cloneWithRules([{flag:"lessThan",constraint:0}])}greaterThan(t){return this.cloneWithRules([{flag:"greaterThan",constraint:t}])}lessThan(t){return this.cloneWithRules([{flag:"lessThan",constraint:t}])}uppercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"uppercase"}])}lowercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"lowercase"}])}regex(t,e,n){var r,i;const s=typeof e=="string"?e:(r=e==null?void 0:e.name)!=null?r:n==null?void 0:n.name,o=typeof e=="string"?!1:(i=e==null?void 0:e.invert)!=null?i:n==null?void 0:n.invert,a={pattern:t,name:s,invert:o||!1};return this.cloneWithRules([{flag:"regex",constraint:a}])}email(){return this.cloneWithRules([{flag:"email"}])}uri(t){const e=(t==null?void 0:t.scheme)||["http","https"],n=Array.isArray(e)?e:[e];if(!n.length)throw new Error("scheme must have at least 1 scheme specified");const r={options:{scheme:n.map(i=>{if(!(i instanceof RegExp)&&typeof i!="string")throw new Error("scheme must be a RegExp or a String");return typeof i=="string"?new RegExp("^".concat(hCn(i),"$")):i}),allowRelative:(t==null?void 0:t.allowRelative)||!1,relativeOnly:(t==null?void 0:t.relativeOnly)||!1,allowCredentials:(t==null?void 0:t.allowCredentials)||!1}};return this.cloneWithRules([{flag:"uri",constraint:r}])}unique(){return this.cloneWithRules([{flag:"unique"}])}reference(){return this.cloneWithRules([{flag:"reference"}])}fields(t){if(this._type!=="Object")throw new Error("fields() can only be called on an object type");const e=this.cloneWithRules([]);return e._fieldRules=t,e}assetRequired(){const t=gqe(this._typeDef);let e;return t&&["image","file"].includes(t.name)?e=t.name==="image"?"Image":"File":e="Asset",this.cloneWithRules([{flag:"assetRequired",constraint:{assetType:e}}])}async validate(t,e){if(!e)throw new Error("missing context");const n=t==null;if(n&&this._required==="optional")return jCn;const r=this._required===void 0&&n?this._rules.filter(o=>o.flag==="custom"):this._rules,i=this._type&&DCn[this._type]||_w;return(await Promise.all(r.map(async o=>{if(o.flag===void 0)throw new Error('Invalid rule, did not contain "flag"-property');const a=i[o.flag];if(!a){const d=this._type?'type "'.concat(this._type,'"'):"rule without declared type";throw new Error('Validator for flag "'.concat(o.flag,'" not found for ').concat(d))}let l="constraint"in o?o.constraint:null;RCn(l)&&(l=ms(e.parent,l.path));let u;try{u=await a(l,t,this._message,e)}catch(d){const f=new _v("".concat(Ire(e.path),": Exception occurred while validating value: ").concat(d.message));return $k(f,"error",e)}return $k(u,this._level,e)}))).flat()}},Ul(Ca,"FIELD_REF",zxe),Ul(Ca,"array",t=>new Ca(t).type("Array")),Ul(Ca,"object",t=>new Ca(t).type("Object")),Ul(Ca,"string",t=>new Ca(t).type("String")),Ul(Ca,"number",t=>new Ca(t).type("Number")),Ul(Ca,"boolean",t=>new Ca(t).type("Boolean")),Ul(Ca,"dateTime",t=>new Ca(t).type("Date")),Ul(Ca,"valueOfField",t=>({type:zxe,path:t})),Ca),LCn=function(e,n){const r=Date.now();return window.setTimeout(()=>{e({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-r)}})},0)},PCn=function(e){return window.clearTimeout(e)},S6=typeof window>"u"?void 0:window,MCn=(S6==null?void 0:S6.requestIdleCallback)||LCn,$Cn=(S6==null?void 0:S6.cancelIdleCallback)||PCn,FCn=b9(NCn);function BCn(t){const e=t.indexOf("drafts.")===0;return{published:e?t.slice(7):t,draft:e?t:"drafts.".concat(t)}}function Wxe(t){return t.reduce((e,n,r)=>{const i=typeof n=="number",s=hm(n),o=r===0?"":".",a=i||s?"[]":"".concat(o).concat(n);return"".concat(e).concat(a)},"")}const Gxe=(t,e)=>{const{getClient:n,document:r,path:i,type:s}=e,o=s==null?void 0:s.options;if(!r)throw new Error("`document` was not provided in validation context.");if(!i)throw new Error("`path` was not provided in validation context.");const a=(o==null?void 0:o.disableArrayWarning)||!1,{published:l,draft:u}=BCn(r._id),d=r._type,f=Wxe(i.concat("current"));!a&&f.includes("[]")&&FCn(Wxe(i));const h=["_type == $docType","!(_id in [$draft, $published])","".concat(f," == $slug")].join(" && ");return n({apiVersion:"2022-09-09"}).fetch("!defined(*[".concat(h,"][0]._id)"),{docType:d,draft:u,published:l,slug:t},{tag:"validation.slug-is-unique"})};function NCn(t){console.warn(["Slug field at path ".concat(t," is within an array and cannot be automatically checked for uniqueness"),'If you need to check for uniqueness, provide your own "isUnique" method',"To disable this message, set `disableArrayWarning: true` on the slug `options` field"].join(`
`))}const VCn=async(t,e)=>{var n;if(!t)return!0;if(typeof t!="object")return"Slug must be an object";const r=t.current;if(!r)return"Slug must have a value";const i=(n=e==null?void 0:e.type)==null?void 0:n.options,s=(i==null?void 0:i.isUnique)||Gxe,o={...e,parent:e.parent,type:e.type,defaultIsUnique:Gxe};return await s(r,o)?!0:"Slug is already in use"},UCn={array:!0,boolean:!0,date:!0,number:!0,object:!0,string:!0},HCn=t=>t in UCn;function vqe(t,e){return t?e.has(t)?[]:(e.add(t),[...t.type?vqe(t.type,e):[],t]):[]}function zCn(t,e){let n=t;HCn(e.jsonType)&&(n=n.type(e.jsonType));const r=(e==null?void 0:e.options)&&typeof e.options=="object"&&"list"in e.options&&e.options.list;return Array.isArray(r)&&(n=n.valid(r.map(i=>WCn(i,e)))),e.name==="datetime"||e.name==="date"?n.type("Date"):e.name==="url"?n.uri():e.name==="slug"?n.custom(VCn):e.name==="reference"?n.reference():e.name==="email"?n.email():n}function yqe(t){return t?!("fields"in t)&&t.type?yqe(t.type):!("fields"in t)||!Array.isArray(t.fields)?!1:t.fields.some(e=>e.name==="value"):!1}function WCn(t,e){return e.jsonType==="object"&&yqe(e)||t.value===void 0?t:t.value}function s3(t){if(!t)return[];const e=t.validation;if(Array.isArray(e))return e.flatMap(r=>s3({...t,validation:r}));if(e instanceof NY)return[e];const n=Object.values(vqe(t,new Set).reduce((r,i)=>(r[i.name]=i,r),{})).reduce(zCn,new NY(t));return e?s3({...t,validation:e(n)}):[n]}const qxe=t=>typeof t=="object"&&t!==null&&!Array.isArray(t),GCn=t=>t!=null;function qCn(t,e){if(e.length===1)return e[0];const n=LX(t)&&t._type,r=t==null||!n&&mqe(t).toLowerCase();return r&&r!=="object"?e.find(i=>i.jsonType===r):e.find(i=>{var s;return((s=i.type)==null?void 0:s.name)===n})||e.find(i=>i.name===n)||e.find(i=>i.name==="object"&&r==="object")}const YCn=[];function KCn(t,e,n,r){const i=n.get(e._type);if(!i)return console.warn('Schema type for object type "%s" not found, skipping validation',e._type),Re(YCn);const s={getClient:t,schema:n,parent:void 0,value:e,path:[],document:e,type:i,getDocumentExists:r==null?void 0:r.getDocumentExists};return VY(s).pipe(Or(o=>(console.error(o),Re([{type:"validation",level:"error",path:[],item:new _v(o==null?void 0:o.message)}]))))}function VY(t){let{value:e,type:n,path:r=[],parent:i,...s}=t;const o=s3(n),a=o.map(h=>Ls(()=>h.validate(e,{...s,parent:i,path:r,type:n})));let l=[];const u=o.some(h=>h.isRequired());if((n==null?void 0:n.jsonType)==="object"&&(!!e||e==null&&u)){const h=n.fields.reduce((p,g)=>(p[g.name]=g.type,p),{});l=l.concat(o.map(p=>p._fieldRules).filter(GCn).flatMap(p=>Object.entries(p)).flatMap(p=>{let[g,v]=p;const y=h[g];return s3({...y,validation:v}).map(x=>{const b=qxe(e)?e[g]:void 0;return Ls(()=>x.validate(b,{...s,parent:e,path:r.concat(g),type:y}))})})),l=l.concat(n.fields.map(p=>VY({...s,parent:e,value:qxe(e)?e[p.name]:void 0,path:r.concat(p.name),type:p.type})))}return(n==null?void 0:n.jsonType)==="array"&&Array.isArray(e)&&(l=l.concat(e.map((h,p)=>VY({...s,parent:e,value:h,path:r.concat(hm(h)?{_key:h._key}:p),type:qCn(h,n.of)})))),Ls(()=>li([...a,...l])).pipe(rt(h=>go(ZCn(),h),40),s9(),_Fe(),Be($i),Be(h=>o.some(p=>p._fieldRules)?Wv(h,p=>JSON.stringify(p)):h))}function ZCn(t){return new On(e=>{const n=MCn(()=>{e.complete()},t?{timeout:t}:void 0);return()=>$Cn(n)})}function XCn(t){return JO(t,new Set),t}function JO(t,e){if(!e.has(t)){if(e.add(t),t.validation=s3(t),"fields"in t)for(const n of t.fields)JO(n.type,e);if("of"in t)for(const n of t.of)JO(n,e);if(t.annotations)for(const n of t.annotations)JO(n,e)}}function QCn(t){return t.getTypeNames().forEach(n=>{const r=t.get(n);r&&XCn(r)}),t}var JCn={title:"Slug",name:"slug",type:"object",fields:[{name:"current",title:"Current slug",type:"string"},{name:"source",title:"Source field",type:"string",hidden:!0}]},eEn={title:"Geographical Point",name:"geopoint",type:"object",fields:[{name:"lat",type:"number",title:"Latitude"},{name:"lng",type:"number",title:"Longitude"},{name:"alt",type:"number",title:"Altitude"}]},tEn={name:"sanity.imageCrop",title:"Image crop",type:"object",fields:[{name:"top",type:"number"},{name:"bottom",type:"number"},{name:"left",type:"number"},{name:"right",type:"number"}]},nEn={name:"sanity.imageHotspot",title:"Image hotspot",type:"object",fields:[{name:"x",type:"number"},{name:"y",type:"number"},{name:"height",type:"number"},{name:"width",type:"number"}]},rEn={name:"sanity.assetSourceData",title:"Asset Source Data",type:"object",fields:[{name:"name",title:"Source name",description:"A canonical name for the source this asset is originating from",type:"string"},{name:"id",title:"Asset Source ID",description:"The unique ID for the asset within the originating source so you can programatically find back to it",type:"string"},{name:"url",title:"Asset information URL",description:"A URL to find more information about this asset in the originating source",type:"string"}]},iEn={name:"sanity.imageAsset",title:"Image",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",readOnly:!0,title:"File extension",fieldset:"system"},{name:"mimeType",type:"string",readOnly:!0,title:"Mime type",fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"uploadId",type:"string",readOnly:!0,hidden:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"metadata",type:"sanity.imageMetadata",title:"Metadata"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{id:"_id",title:"originalFilename",mimeType:"mimeType",size:"size"},prepare(t){return{title:t.title||typeof t.path=="string"&&t.path.split("/").slice(-1)[0],media:{asset:{_ref:t.id}},subtitle:"".concat(t.mimeType," (").concat((Number(t.size)/1024/1024).toFixed(2)," MB)")}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]},sEn={name:"sanity.imagePalette",title:"Image palette",type:"object",fields:[{name:"darkMuted",type:"sanity.imagePaletteSwatch",title:"Dark Muted"},{name:"lightVibrant",type:"sanity.imagePaletteSwatch",title:"Light Vibrant"},{name:"darkVibrant",type:"sanity.imagePaletteSwatch",title:"Dark Vibrant"},{name:"vibrant",type:"sanity.imagePaletteSwatch",title:"Vibrant"},{name:"dominant",type:"sanity.imagePaletteSwatch",title:"Dominant"},{name:"lightMuted",type:"sanity.imagePaletteSwatch",title:"Light Muted"},{name:"muted",type:"sanity.imagePaletteSwatch",title:"Muted"}]},oEn={name:"sanity.imagePaletteSwatch",title:"Image palette swatch",type:"object",fields:[{name:"background",type:"string",title:"Background",readOnly:!0},{name:"foreground",type:"string",title:"Foreground",readOnly:!0},{name:"population",type:"number",title:"Population",readOnly:!0},{name:"title",type:"string",title:"String",readOnly:!0}]},aEn={name:"sanity.imageDimensions",type:"object",title:"Image dimensions",fields:[{name:"height",type:"number",title:"Height",readOnly:!0},{name:"width",type:"number",title:"Width",readOnly:!0},{name:"aspectRatio",type:"number",title:"Aspect ratio",readOnly:!0}]},lEn={name:"sanity.imageMetadata",title:"Image metadata",type:"object",fieldsets:[{name:"extra",title:"Extra metadata",options:{collapsable:!0}}],fields:[{name:"location",type:"geopoint"},{name:"dimensions",title:"Dimensions",type:"sanity.imageDimensions",fieldset:"extra"},{name:"palette",type:"sanity.imagePalette",title:"Palette",fieldset:"extra"},{name:"lqip",title:"LQIP (Low-Quality Image Placeholder)",type:"string",readOnly:!0},{name:"blurHash",title:"BlurHash",type:"string",readOnly:!0},{name:"hasAlpha",title:"Has alpha channel",type:"boolean",readOnly:!0},{name:"isOpaque",title:"Is opaque",type:"boolean",readOnly:!0}]},uEn={name:"sanity.fileAsset",title:"File",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",title:"File extension",readOnly:!0,fieldset:"system"},{name:"mimeType",type:"string",title:"Mime type",readOnly:!0,fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{title:"originalFilename",path:"path",mimeType:"mimeType",size:"size"},prepare(t){return{title:t.title||t.path.split("/").slice(-1)[0],subtitle:"".concat(t.mimeType," (").concat((t.size/1024/1024).toFixed(2)," MB)")}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]};const cEn=t=>t.severity==="error",dEn=[rEn,JCn,eEn,iEn,uEn,tEn,nEn,lEn,aEn,sEn,oEn];function fEn(t){const e=yQt(t.types).getTypes(),n=vXt(e),r=n.some(s=>s.problems.some(cEn)),i=GVe.compile({name:t.name,types:r?[]:[...t.types,...dEn].filter(Boolean)});return i._validation=n,QCn(i)}function Dre(t){return typeof t.title=="string"?t.title:t.type?Dre(t.type):t.name||t.jsonType}const us={apiVersion:"2022-09-09"};var Yxe=Object.freeze,hEn=Object.defineProperty,pEn=(t,e)=>Yxe(hEn(t,"raw",{value:Yxe(e||t.slice())})),Kxe;const mEn=H(Wf)(Kxe||(Kxe=pEn([`
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
`])));function gEn(){return c.jsx(mEn,{children:c.jsx(ae,{height:"fill",align:"center",justify:"center",children:c.jsx(_s,{})})})}function vEn(t){const{text:e}=t;return c.jsxs(ae,{direction:"row",justify:"center",align:"center",children:[c.jsx(_s,{}),c.jsx(N,{marginLeft:2,children:c.jsx(G,{children:e})})]})}const Zxe={referringDocuments:[],isLoading:!0};function bqe(t){const e=Kc();return Va(()=>e.listenQuery("*[references($docId)] [0...101]",{docId:t},{tag:"use-referring-documents"}).pipe(Be(n=>({referringDocuments:n,isLoading:!1})),vu(Zxe)),[e,t],Zxe)}const yEn=()=>m.createElement(m.Fragment);function bEn(t,e){return n=>{let r=i=>m.createElement(t,i);for(const i of e){const s=r;r=o=>m.createElement(i,{...o,renderDefault:s})}return r({...n,renderDefault:yEn})}}function ep(t){const{options:e}=Zs().__internal,{defaultComponent:n,pick:r}=t;return m.useMemo(()=>{const i=[...Pie(e,[])];i.reverse();const o=i.map(a=>{let{config:l}=a;return r(l)}).filter(Boolean);return bEn(n,o)},[n,e,r])}function Kp(t,e){return e.name===t||!!(e.type&&Kp(t,e.type))}const xEn={default:bre,media:n_n,detail:B5n,inline:x_n,block:p_n,blockImage:u_n};function wEn(){return c.jsx(Rv,{className:"sanity-studio__preview-fallback-icon"})}function Cw(t){const{icon:e,layout:n,media:r,imageUrl:i,title:s,...o}=t,a=Cs(us),l=m.useMemo(()=>M9(a),[a]),u=m.useCallback(g=>{const{dimensions:v}=g;return c.jsx("img",{alt:QO(s)?s:void 0,referrerPolicy:"strict-origin-when-cross-origin",src:l.image(r).width(v.width||100).height(v.height||100).fit(v.fit).dpr(v.dpr||1).url()||""})},[l,r,s]),d=m.useCallback(()=>m.createElement(e||wEn),[e]),f=m.useMemo(()=>e===!1?!1:ws.isValidElementType(r)||m.isValidElement(r)?r:Tk(r)?u:QO(i)?c.jsx("img",{src:i,alt:QO(s)?s:void 0,referrerPolicy:"strict-origin-when-cross-origin"}):d,[e,i,r,d,u,s]),h=m.useMemo(()=>({...o,media:f,title:s}),[f,o,s]),p=xEn[n||"default"];return m.createElement(p,h)}const _En=typeof window>"u"?as:Hu(window,"resize").pipe($a(1)),CEn=typeof window>"u"?as:Hu(window,"scroll",{passive:!0,capture:!0}).pipe($a(1)),EEn=typeof window>"u"?as:Hu(window,"orientationchange").pipe($a(1)),xqe=150;function SEn(){return typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in IntersectionObserverEntry.prototype?("isIntersecting"in IntersectionObserverEntry.prototype||Object.defineProperty(IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),!0):!1}const TEn=SEn()?kEn():AEn();function kEn(){const t=new Pi,e=new IntersectionObserver(n=>{n.forEach(r=>{t.next(r)})},{threshold:0,rootMargin:"".concat(xqe,"px")});return function(r){return new On(i=>(e.observe(r),i.next(),()=>e.unobserve(r))).pipe(rt(()=>t.asObservable()),dt(i=>i.target===r),Be(i=>({isIntersecting:i.isIntersecting})))}}function AEn(){function t(){return{left:0,right:window.innerWidth,top:0,bottom:window.innerHeight}}function e(r,i,s){return r.left<=i.right+s&&r.right>=i.left-s&&r.top<=i.bottom+s&&r.bottom>=i.top-s}function n(r){return()=>e(r.getBoundingClientRect(),t(),xqe)}return function(i){const s=n(i);return li(Re(s()),_En,CEn,EEn).pipe(Be(s),Be(o=>({isIntersecting:o})))}}const IEn=typeof window>"u"?as:Hu(document,"visibilitychange").pipe($a(1));function DEn(t){const{element:e,hideDelay:n=0}=t,[r,i]=m.useState(!1);return m.useEffect(()=>{if(!e)return;const s=go(Re(!document.hidden),IEn.pipe(Be(u=>{var d;return u.target instanceof Document?!((d=u==null?void 0:u.target)!=null&&d.hidden):!1}))).pipe(Xi()),o=TEn(e).pipe(Be(u=>u.isIntersecting)),l=s.pipe(Kt(u=>u?o:Re(!1)),Kt(u=>u?Re(!0):Re(!1).pipe(mee(n))),Xi()).subscribe(i);return()=>l.unsubscribe()},[e,n]),r}const REn={isLoading:!0},jEn={isLoading:!1};function wqe(t){const{enabled:e=!0,ordering:n,schemaType:r,value:i}=t||{},{observeForPreview:s}=Yc();return Va(()=>!e||!i||!r?Re(jEn):s(i,r,{ordering:n}).pipe(Be(o=>({isLoading:!1,value:o.snapshot||void 0})),Or(o=>Re({isLoading:!1,error:o}))),[e,s,n,r,i],REn)}function OEn(t){return LEn(t==null?void 0:t._upload)}function US(t){return QO(t)?t:void 0}function LEn(t){var e,n;if(!Jn(t))return;const r=typeof t.progress=="number"?t.progress:0,i=US(t.initiated||t.createdAt),s=US(t.updated||t.updatedAt),o=US((e=t==null?void 0:t.file)==null?void 0:e.name),a=US((n=t==null?void 0:t.file)==null?void 0:n.type),l=US(t.previewImage);if(i&&s&&o&&a)return{progress:r,createdAt:i,updatedAt:s,file:{name:o,type:a},previewImage:l}}const PEn=1e3*2;function _qe(t){const{layout:e,value:n,component:r,style:i,schemaType:s,skipVisibilityCheck:o,...a}=t,[l,u]=m.useState(null),d=DEn({element:o?null:l,hideDelay:PEn}),f=wqe({enabled:o||d,schemaType:s,value:n}),h=m.useMemo(()=>({...i,minWidth:(i==null?void 0:i.minWidth)||1,minHeight:(i==null?void 0:i.minHeight)||1}),[i]),p=m.useMemo(()=>OEn(n),[n]),g=m.useMemo(()=>{var v,y;return p!=null&&p.previewImage?c.jsx("img",{alt:"The image currently being uploaded",src:p.previewImage}):(v=f==null?void 0:f.value)!=null&&v.media?(y=f==null?void 0:f.value)==null?void 0:y.media:s.icon},[f,s,p]);return c.jsx("div",{ref:u,style:h,children:m.createElement(r,{...a,...(f==null?void 0:f.value)||{},media:g,error:f==null?void 0:f.error,isPlaceholder:f==null?void 0:f.isLoading,layout:e,schemaType:s})})}function Rre(t){const e=t==null?void 0:t.select;if(e)return Object.values(e).map(n=>String(n).split("."))}const MEn=t=>t.liveEdit===!0;function _$(t,e,n,r){const i=MEn(e)?Re({snapshot:null}):t.observeForPreview({_type:"reference",_ref:Ll(n)},e),s=t.observeForPreview({_type:"reference",_ref:Ks(n)},e);return ol([i,s]).pipe(Be(o=>{let[a,l]=o;return{draft:a.snapshot?{title:r,...a.snapshot||{}}:null,isLoading:!1,published:l.snapshot?{title:r,...l.snapshot||{}}:null}}),vu({draft:null,isLoading:!0,published:null}))}const $En=t=>({title:c.jsx("em",{children:t.title?String(t.title):"Missing document"}),subtitle:c.jsx("em",{children:t.title?"Missing document ID: ".concat(t._id):"Document ID: ".concat(t._id)}),media:()=>c.jsx(vo,{})}),C$=t=>{let{value:e,draft:n,published:r}=t;const i=n||r;return i?W0n({},i,e,(s,o)=>typeof o>"u"?s:o):$En(e)},Cqe=["_id","_rev","_type"],FEn=[...Cqe,"_key"],Xxe={available:!0,reason:"READABLE"},BEn={available:!1,reason:"PERMISSION_DENIED"},NEn={available:!1,reason:"NOT_FOUND"},VEn={title:"Invalid preview config",subtitle:"Check the error log in the console",media:c.jsx(vo,{})};function UEn(t){return Array.isArray(t)&&(t.length===0||t.some(EC))}function HEn(t){const e=Array.isArray(t)&&t.find(EC);return!e||!e.children?"":e.children.filter(lv).map(n=>n.text).join("")}function Eqe(t){return Object.keys(t)}const zEn=["_id","_type","_upload","_createdAt","_updatedAt"],oC=[],UY=(()=>{let t={};return{add:(e,n,r)=>{t[e.name]||(t[e.name]=[]),t[e.name].push({error:r,type:e,value:n})},getAll(){return t},clear(){t={}}}})(),WEn=U3(()=>{const t=UY.getAll(),n=$i(Object.keys(t).map(r=>{const i=t[r];return Wv(i,s=>s.error.message)})).length;n!==0&&(console.groupCollapsed("%cHeads up! Got ".concat(n===1?"error":"".concat(n," errors")," while preparing data for preview. Click for details."),"color: #ff7e7c"),Object.keys(t).forEach(r=>{const i=t[r],s=i[0];console.group('Check the preview config for schema type "'.concat(r,'": %o'),s.type.preview),Wv(i,a=>a.error.message).forEach(a=>{var l;if(a.error.type==="returnValueError"){const u=typeof((l=a.type.preview)==null?void 0:l.prepare)=="function",{value:d,error:f}=a;console.log("Encountered an invalid ".concat(u?"return value when calling prepare(%o)":"value targeted by preview.select",":"),d),console.error(f)}if(a.error.type==="prepareError"){const{value:u,error:d}=a;console.log("Encountered an error when calling prepare(%o):",u),console.error(d)}}),console.groupEnd()}),console.groupEnd(),UY.clear())},1e3),HS=t=>e=>{const n=typeof e;return e===null||n==="undefined"||n==="string"||n==="number"||n==="boolean"?oC:[Ore("returnValueError",new Error('The "'.concat(t,'" field should be a string, number, boolean, undefined or null, instead saw ').concat(jre(e))))]},GEn={media:()=>oC,title:HS("title"),subtitle:HS("subtitle"),description:HS("description"),imageUrl:HS("imageUrl"),date:HS("date")};function jre(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(Jn(t)){const n=Object.keys(t),r=n.length>3?"...":"",i="object with keys ";return"".concat(e?i:"","{").concat(n.slice(0,3).join(", ")).concat(r,"}")}if(Array.isArray(t)){const n=t.length>3?"...":"",r="array with ";return"".concat(e?r:"","[").concat(t.map(i=>jre(i,!1))).concat(n,"]")}return"the ".concat(typeof t," ").concat(t)}function qEn(t,e){if(typeof e>"u")return oC;const n=GEn[t];return n&&n(e)||oC}function Ore(t,e){return Object.assign(e,{type:t})}function YEn(t){return!Ys(t)||t===null?[Ore("returnValueError",new Error("Invalid return value. Expected a plain object with at least a 'title' field, instead saw ".concat(jre(t))))]:Object.entries(t).reduce((e,n)=>{let[r,i]=n;return[...e,...qEn(r,i)]},oC)}function KEn(t){return{...t,errors:[...t.errors||[],...YEn(t.returnValue)]}}function ZEn(t){return Eqe(t).reduce((e,n)=>{const r=t[n];return{...e,[n]:UEn(r)?HEn(r):r}},{})}function HY(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r;const i=(r=t.preview)==null?void 0:r.prepare;try{return{returnValue:i?i(e,n):ZEn(e),errors:oC}}catch(s){return{returnValue:null,errors:[Ore("prepareError",s)]}}}function Qxe(t,e,n){return t.errors.forEach(r=>UY.add(e,n,r)),WEn(),VEn}function XEn(t){const e=t.options&&typeof t.options=="object"?t.options:!1;if(!e||!("list"in e))return!1;const n=e.list;return Array.isArray(n)}function QEn(t){return XEn(t)?t.options.list.map(n=>MX(n)?n:{title:n,value:n}):void 0}function T6(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r,i;const s=typeof((r=e.preview)==null?void 0:r.prepare)=="function",o=((i=e.preview)==null?void 0:i.select)||{},l=Object.keys(o).reduce((f,h)=>{var p;const g="fields"in e?e:null,v=o[h],y=(p=g==null?void 0:g.fields)==null?void 0:p.find(b=>b.name===v),x=y&&QEn(y.type);if(!s&&x){const b=x&&x.find(_=>_.value===ms(t,o[h]));f[h]=b?b.value:ms(t,o[h])}else f[h]=ms(t,o[h]);return f},{}),u=HY(e,l,n);if(u.errors.length>0)return Qxe(u,e,l);const d=KEn(HY(e,l,n));return d.errors.length>0?Qxe(d,e,l):{...ir(t,zEn),...u.returnValue}}function eL(t,e){let n,r={},i=0;return function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return new On(d=>{clearTimeout(n),n=setTimeout(s,e);const f={args:l,observer:d,completed:!1},h=i++;return r[h]=f,()=>{f.completed=!0}})};function s(){const o=r;r={};const a=Object.keys(o).filter(u=>{const d=o[u];return d&&!d.completed});if(a.length===0)return;const l=a.map(u=>{const d=o[u];return d&&d.args}).filter(ma);t(l).subscribe({next(u){u.forEach((d,f)=>{const h=o[a[f]];h&&!h.completed&&h.observer.next(u[f])})},complete(){a.forEach(u=>{const d=o[u];d&&!d.completed&&d.observer.complete()})},error(u){a.forEach(d=>{const f=o[d];f&&!f.completed&&f.observer.error(u)})}})}}const JEn=11164;function eSn(t){let e=[],n=0;const r=[];for(const i of t)n+i.length+1>=JEn&&(r.push(e),e=[],n=0),n+=i.length+1,e.push(i);return r.includes(e)||r.push(e),r}function tSn(t,e){return t.push(...e),t}function Sqe(t,e){function n(o){const a=Ll(o),l=Ks(o);return ol([r(a),r(l)]).pipe(Xi(zv),Be(u=>{let[d,f]=u;return{draft:d,published:f}}))}function r(o){return e({_ref:o},[["_rev"]]).pipe(Be(a=>Jn(a)&&!!("_rev"in a&&(a!=null&&a._rev))),Xi(),Kt(a=>a?Re(Xxe):i(o)))}const i=eL(function(a){const l=[...new Set($i(a))];return Vr(eSn(l)).pipe(rt(s,10),wFe(tSn,[]),Be(u=>a.map(d=>{let[f]=d;return u[l.indexOf(f)]})))},1);function s(o){return Ls(()=>{const a={uri:t.getDataUrl("doc",o.join(",")),json:!0,query:{excludeContent:"true"},tag:"preview.documents-availability"};return t.observable.request(a).pipe(Be(l=>{const u=Ate(l.omitted||[],d=>d.id);return o.map(d=>{const f=u[d];if(!f)return Xxe;if(f.reason==="existence")return NEn;if(f.reason==="permission")return BEn;throw new Error('Unexpected reason for omission: "'.concat(f.reason,'"'))})}))})}return{observeDocumentPairAvailability:n}}function Jxe(t,e,n){return{...t,[e]:n}}function nSn(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e=>new On(n=>e.subscribe(n)).pipe(Kt(n=>{const r=Eqe(n).map(i=>{const s=n[i];return xRt(s)?Vr(s).pipe(Be(o=>[i,o])):Re([i,s])});return t.wait?ol(r).pipe(Be(i=>i.reduce((s,o)=>{let[a,l]=o;return Jxe(s,a,l)},{}))):Vr(r).pipe(s9(),Pf((i,s)=>{let[o,a]=s;return Jxe(i,o,a)},{}))}))}function rSn(t){return t.reduce((e,n)=>(e[n]=void 0,e),{})}function iSn(t,e){return e.filter(n=>!(n[0]in t))}function sSn(t){return wm(t)?t._ref:"_id"in t?t._id:void 0}function zY(t,e,n,r){if(!t||typeof t!="object")return Re(t);const i=sSn(t),s=i?{...t,_id:i}:{...t};s._type==="reference"&&(delete s._type,delete s._ref,delete s._weak,delete s._dataset,delete s._projectId,delete s._strengthenOnPublish);const o=iSn(s,e);if(i&&o.length>0){const u=ha(o.map(f=>f[0])),d=EPe(t)?{projectId:t._projectId,dataset:t._dataset}:r;return n(i,u,d).pipe(Kt(f=>f===null?Re(null):zY({...rSn(u),...wm(t)?{...t,...d}:t,...f},e,n,d)))}const a={};e.forEach(u=>{const[d,...f]=u;a[d]||(a[d]=[]),a[d].push(f)});const l=Object.keys(a).reduce((u,d)=>{const f=a[d].filter(h=>h.length>0);return f.length===0?u[d]=Jn(t)?t[d]:void 0:u[d]=zY(t[d],f,n,r),u},s);return Re(l).pipe(nSn({wait:!0}))}function oSn(t){return t.map(e=>typeof e=="string"?e.split("."):e)}function aSn(t){const{observeFields:e}=t;return{observePaths(n,r,i){return zY(n,oSn(r),e,i)}}}function lSn(t){return Ys(t)}function uSn(t){return Ys(t)}function cSn(t){const{observeDocumentTypeFromId:e,observePaths:n}=t;return function r(i,s,o,a){if(kPe(s)){if(!EPe(i))return Re({snapshot:void 0});const u={projectId:i._projectId,dataset:i._dataset};return e(i._ref,u).pipe(Kt(d=>{if(d){const f=s.to.find(h=>h.type===d);return r(i,f,{},u)}return Re({snapshot:void 0})}))}if(Iv(s))return uSn(i)?e(i._ref).pipe(Kt(u=>{if(u){const d=s.to.find(f=>f.name===u);return r(i,d)}return Re({snapshot:void 0})})):Re({snapshot:void 0});const l=Rre(s.preview);return l?n(i,l,a).pipe(Be(u=>({type:s,snapshot:u&&T6(u,s,o)}))):Re({type:s,snapshot:i&&lSn(i)?HY(s,i,o).returnValue:null})}}function dSn(t,e){const{observeDocumentPairAvailability:n}=Sqe(t,e),r=[["_updatedAt"],["_createdAt"],["_type"]];return{observePathsDocumentPair:i};function i(s,o){const{draftId:a,publishedId:l}=qGe(s);return n(a).pipe(Kt(u=>{if(!u.draft.available&&!u.published.available)return Re({id:l,type:null,draft:{availability:u.draft,snapshot:void 0},published:{availability:u.published,snapshot:void 0}});const d=[...o,...r];return ol([e({_type:"reference",_ref:a},d),e({_type:"reference",_ref:l},d)]).pipe(Be(f=>{let[h,p]=f;const g=Jn(h)&&"_type"in h&&h._type||Jn(p)&&"_type"in p&&p._type||null;return{id:l,type:typeof g=="string"?g:null,draft:{availability:u.draft,snapshot:h},published:{availability:u.published,snapshot:p}}}))}))}}function fSn(t){return Q0n(t.reduce((e,n,r)=>{let[i,s]=n;const o=XC(s.join(","),pBe).join(".");e[o]||(e[o]={fields:s,ids:[],map:[]});const a=e[o].ids.length;return e[o].ids[a]=i,e[o].map[a]=r,e},{}))}function hSn(t){return JSON.stringify(t)}const pSn=t=>YGe(t)?'"'.concat(t,'": @').concat(mre(t)):t;function mSn(t){let{ids:e,fields:n}=t;const r=[...Cqe,...n];return"*[_id in [".concat(e.map(hSn).join(","),"]][0...").concat(e.length,"]{").concat(r.map(pSn).join(","),"}")}function gSn(t){return"[".concat(t.map(mSn).join(","),"][0...").concat(t.length,"]")}function vSn(t,e){return t.reduce((n,r,i)=>(e[i].map.forEach((o,a)=>{const l=e[i].ids[a],u=r.find(d=>d._id===l);n[o]=u||null}),n),[])}function ySn(t){return(e,n)=>e===n?!0:!e||!n||typeof e!="object"||typeof n!="object"?!1:t.every(r=>e[r]===n[r])}const bSn=t=>t;function xSn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bSn,n,r;for(let i=0;i<t.length;i++){if(i===0){n=e(t[i]);continue}if(r=e(t[i]),n!==r)return!1;n=r}return!0}function wSn(t){const{observePaths:e,versionedClient:n}=t;let r;const i=()=>{if(!r){const _=Vr(n.listen('*[!(_id in path("_.**"))]',{},{events:["welcome","mutation"],includeResult:!1,visibility:"query",tag:"preview.global"})).pipe(Ad()),C=_.pipe(dt(T=>T.type==="welcome"),$a({refCount:!0,bufferSize:1}));C.subscribe();const S=_.pipe(dt(T=>T.type==="mutation"));r={welcome$:C,mutations$:S}}return r};function s(_){const C=i();return li(C.welcome$,C.mutations$.pipe(dt(S=>S.documentId===_)))}function o(_){return function(S){const T=fSn(S);return _.observable.fetch(gSn(T),{},{tag:"preview.document-paths"}).pipe(Be(A=>vSn(A,T)))}}const a=eL(o(n),100),l=eL(o(n),1e3);function u(_,C){return s(_).pipe(Kt(S=>S.type==="welcome"||S.visibility==="query"?a(_,C).pipe(rt(T=>go(Re(T),T===void 0?l(_,C):[]))):l(_,C)))}const d={},f=b9(function(C){const S=n.withConfig(C),T=o(S);return eL(T,10)},_=>_.dataset+_.projectId),h=1e4,p=Hu(document,"visibilitychange").pipe(vu(0),Be(()=>document.visibilityState==="visible"),Kt(_=>_?gu(0,h):as),Ad());function g(_,C,S){return p.pipe(vu(0)).pipe(Kt(()=>f(S)(_,C)))}function v(_,C,S){let T=null;const A=li(Ls(()=>T===null?as:Re(T)),S?g(_,C,S):u(_,C)).pipe(Ei(k=>T=k),$a({refCount:!0,bufferSize:1}));return{id:_,fields:C,changes$:A}}function y(_,C,S){const T=S?"".concat(S.projectId,":").concat(S.dataset,":").concat(_):"$current$-".concat(_);T in d||(d[T]=[]);const A=d[T];DA(C,$i(A.map(D=>D.fields))).length>0&&A.push(v(_,C,S));const I=A.filter(D=>D.fields.some(R=>C.includes(R))).map(D=>D.changes$);return ol(I).pipe(Be(D=>D.filter(Boolean)),dt(D=>xSn(D,R=>R._rev)),Be(D=>D.length===0?null:x(D,C)),Xi(ySn(C)))}return{observeFields:y};function x(_,C){return[...FEn,...C].reduce((S,T)=>{const A=b(_,T);return A!==void 0&&(S[T]=A),S},{})}function b(_,C){let S;return _.some(T=>C in T?(S=T[C],!0):!1),S}}function _Sn(t){let{client:e}=t;const n=e.withConfig({apiVersion:"1"}),r=(d,f,h)=>s(d,f,h),{observeFields:i}=wSn({observePaths:r,versionedClient:n}),{observePaths:s}=aSn({observeFields:i});function o(d,f){return s({_type:"reference",_ref:d},["_type"],f).pipe(Be(h=>Jn(h)&&typeof h._type=="string"?h._type:void 0),Xi())}const a=cSn({observeDocumentTypeFromId:o,observePaths:s}),{observeDocumentPairAvailability:l}=Sqe(n,s),{observePathsDocumentPair:u}=dSn(n,s);return{observePaths:s,observeForPreview:a,observeDocumentTypeFromId:o,unstable_observeDocumentPairAvailability:l,unstable_observePathsDocumentPair:u}}const CSn=t=>!!(t.type&&t.type.name==="document"),ESn=t=>t.name.startsWith("sanity."),SSn=t=>t.getTypeNames().map(e=>t.get(e)).filter(ma).filter(e=>CSn(e)).filter(e=>!ESn(e)),TSn=(t,e)=>{const{phrases:n,words:r}=RSn(t),[i,s]=ISn(n,e),[o,a]=DSn(r,e);return[i+o,[a,s].join(", ")]},kSn=t=>typeof t=="string"?t:JSON.stringify(t);function ASn(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=Ate(t,i=>i.typeName);return e.map((i,s)=>{var o;const l=(o=r[i._type].paths||[])==null?void 0:o.map((d,f)=>{const h=kSn(i["w".concat(f)]);if(!h)return{path:d.path,score:0,why:"No match"};const[p,g]=TSn(n,h);return{path:d.path,score:p*d.weight,why:"".concat(g," (*").concat(d.weight,")")}}),u=l.reduce((d,f)=>d+f.score,0);return{hit:i,resultIndex:e.length-s,score:u,stories:l}})}function ISn(t,e){const n=e.toLowerCase().trim();let r=0,i=0;return t.forEach(s=>{n.includes(s)&&(r+=s.length/n.length,i+=s.length)}),r===1?[1,"[Phrase] Exact match"]:[r/2,"[Phrase] Matched ".concat(i," of ").concat(n.length," characters")]}function DSn(t,e){const n=ha($9(gVe(a_(e)))),r=oM(t,n),i=NUe(n,t),s=r.length/i.length;return s===1?[1,"[Word] Exact match"]:[s/2,"[Word] Matched ".concat(r.length," of ").concat(i.length," terms: [").concat(r.join(", "),"]")]}function RSn(t){const e=ha(t.map(a_)),[n,r]=pte(e,i=>/^".*"$/.test(i));return{phrases:ha(n).map(a_).map(jSn),words:ha(r.map(a_))}}function jSn(t){return t.replace(/^"(.*)"$/,"$1")}const OSn=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,LSn=/(^[.]+)|([.]+$)/;function PSn(t){return(t.match(OSn)||[]).map(e=>e.replace(LSn,""))}const MSn=4,$Sn=1e3,FSn=irn([$i,NUe,$9]);function ewe(t,e){let n=!1;return{specs:t.map(i=>({typeName:i.name,paths:i.__experimental_search.map(s=>{const o=s.path.map(a=>typeof a=="number"&&(n=!0,e)?[]:a);return{weight:s.weight,path:y2n(o),mapWith:s.mapWith}})})),hasIndexedPaths:n}}const Tqe=t=>{let{mapWith:e,path:n}=t;return e?"".concat(e,"(").concat(n,")"):n};function BSn(t,e){const n=FSn(e.map(i=>(i.paths||[]).map(s=>Tqe(s))));return t.map((i,s)=>n.map(o=>"".concat(o," match $t").concat(s))).filter(i=>i.length>0).map(i=>"(".concat(i.join(" || "),")"))}function NSn(t){const e=[],n=t.replace(/("[^"]*")/g,s=>gVe(s).length>1?(e.push(s),""):s),r=e.map(s=>brn(a_(s))),i=ha($9(PSn(a_(n))));return[...r,...i]}function VSn(t){function e(n){return n.mapWith?"".concat(n.mapWith,"(").concat(n.field,")"):n.field}return(t||[]).map(n=>[e(n),(n.direction||"").toLowerCase()].map(r=>r.trim()).filter(Boolean).join(" ")).join(",")}function USn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var n,r;const{filter:i,params:s,tag:o}=e,{specs:a,hasIndexedPaths:l}=ewe(t.types,!1),u=NSn(t.query),d=l?ewe(t.types,!0).specs:a,f=["_type in $__types",e.includeDrafts===!1&&"!(_id in path('drafts.**'))",...BSn(u,d),i?"(".concat(i,")"):"",t.filter?"(".concat(t.filter,")"):""].filter(Boolean),h=a.map(T=>{const A='_type == "'.concat(T.typeName,'" => '),k="{ ".concat(T.paths.map((I,D)=>'"w'.concat(D,'": ').concat(Tqe(I)))," }");return"".concat(A).concat(k)}),p=VSn((e==null?void 0:e.sort)||[{field:"_id",direction:"asc"}]),g=["_type","_id"],v=h.length>0?"...select(".concat(h.join(`,
`),")"):"",y=g.join(", ")+(v?", ".concat(v):"");let x="*[".concat(f.join(" && "),"]")+"| order(".concat(p,")")+"[$__offset...$__limit]"+"{".concat(y,"}");if(e!=null&&e.__unstable_extendedProjection){const T=e==null?void 0:e.__unstable_extendedProjection,A=g.concat(T).join(", ");x=["*[".concat(f.join(" && "),"]{").concat(A,"}"),"order(".concat(p,")[$__offset...$__limit]{").concat(y,"}")].join("|")}const b=["findability-mvi:".concat(MSn)].concat((e==null?void 0:e.comments)||[]).map(T=>"// ".concat(T)).join(`
`),_=b?"".concat(b,`
`).concat(x):x,C=(n=e==null?void 0:e.offset)!=null?n:0,S=((r=e==null?void 0:e.limit)!=null?r:$Sn)+C;return{query:_,params:{...HSn(u),__types:a.map(T=>T.typeName),__limit:S,__offset:C,...s||{}},options:{tag:o},searchSpec:a,terms:u}}const HSn=t=>{const e={};return t.reduce((n,r,i)=>(n["t".concat(i)]="".concat(r,"*"),n),e)};function zSn(t,e){return typeof t=="string"?{query:t,types:e}:t.types.length?t:{...t,types:e}}function Lre(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=zSn(i,t),{query:a,params:l,options:u,searchSpec:d,terms:f}=USn(o,{...n,...s});return e.observable.fetch(a,l,u).pipe(n.unique?Be(s2n):Ei(),Be(h=>ASn(d,h,f)),s!=null&&s.skipSortByScore?Ei():Be(h=>XC(h,p=>-p.score)))}}const WSn={available:!0,reason:"READABLE"},twe={available:!1,reason:"PERMISSION_DENIED"},nwe={available:!1,reason:"NOT_FOUND"};function kqe(t,e,n){const{publishedId:r,draftId:i}=qGe(e);return t.unstable_observeDocumentPairAvailability(e).pipe(Kt(o=>{if(!o.draft.available&&!o.published.available){const d=o.draft.reason==="PERMISSION_DENIED"||o.published.reason==="PERMISSION_DENIED"?twe:nwe;return Re({id:e,type:void 0,availability:d,preview:{draft:void 0,published:void 0}})}const a={_type:"reference",_ref:i},l={_type:"reference",_ref:r};return ol([t.observeDocumentTypeFromId(i),t.observeDocumentTypeFromId(r)]).pipe(Be(d=>{let[f,h]=d;return f||h})).pipe(Kt(d=>{if(!d)return Re({id:e,type:void 0,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const f=n.to.find(y=>y.name===d);if(!f)return Re({id:e,type:d,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const h=[...Rre(f==null?void 0:f.preview)||[],["_updatedAt"],["_createdAt"]],p=t.observePaths(a,h).pipe(Be(y=>y?{_id:i,...T6(y,f)}:void 0),vu(void 0)),g=t.observePaths(l,h).pipe(Be(y=>y?{_id:r,...T6(y,f)}:void 0),vu(void 0));return ol([p,g]).pipe(Be(y=>{let[x,b]=y;return{draft:x,published:b}})).pipe(Be(y=>{const x=o.draft.available||o.published.available?WSn:o.draft.reason==="PERMISSION_DENIED"||o.published.reason==="PERMISSION_DENIED"?twe:nwe;return{type:d,id:r,availability:x,preview:{draft:Jn(y.draft)?y.draft:void 0,published:Jn(y.published)?y.published:void 0}}}))}))}))}function GSn(t){return t.filter(e=>!e.draft||!e.published).map(e=>e.draft?e.id:Ll(e.id))}function qSn(t,e){return e.length===0?Re([]):t.observable.fetch("*[_id in $ids]._id",{ids:e},{tag:"get-counterpart-ids"})}function Aqe(t,e,n,r){return Lre(n.to,t,r)(e,{includeDrafts:!0}).pipe(Be(s=>s.map(o=>o.hit)),Be(VI),Be(s=>s.slice(0,100)),rt(s=>qSn(t,GSn(s)).pipe(Be(o=>s.map(a=>{const l=Ll(a.id);return{id:a.id,type:a.type,draft:a.draft||o.includes(l)?{_id:l,_type:a.type}:void 0,published:a.published||o.includes(a.id)?{_id:a.id,_type:a.type}:void 0}})))))}function oEr(){const t=[];return{publish(e){for(const n of t)n(e)},subscribe(e){return t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}}}}const qx=Symbol.for("sanity.patch");function sl(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{patchType:qx,type:"setIfMissing",path:e,value:t}}function nv(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return{patchType:qx,type:"insert",path:n,position:e,items:t}}function _n(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{patchType:qx,type:"set",path:e,value:t}}function Jt(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return{patchType:qx,type:"unset",path:t}}function YSn(t,e){return{...t,path:[e,...t.path]}}var KSn=Object.defineProperty,ZSn=(t,e,n)=>e in t?KSn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,XSn=(t,e,n)=>(ZSn(t,typeof e!="symbol"?e+"":e,n),n);class bn{constructor(e){XSn(this,"patches"),this.patches=e}static from(e){return e instanceof bn?e:new bn(Array.isArray(e)?$i(e):[e])}prepend(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return bn.from([...$i(n),...this.patches])}append(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return bn.from([...this.patches,...$i(n)])}prefixAll(e){return bn.from(this.patches.map(n=>YSn(n,e)))}}var rwe=Object.freeze,QSn=Object.defineProperty,JSn=(t,e)=>rwe(QSn(t,"raw",{value:rwe(e||t.slice())})),iwe;const eTn={warning:"caution",error:"critical"},tTn=H(N)(iwe||(iwe=JSn([`
  border-top: 1px solid var(--card-border-color);
`])));function Lm(t){const{children:e,status:n="warning",suffix:r,title:i,...s}=t;return c.jsxs(ge,{radius:2,tone:eTn[n],...s,"data-ui":"Alert",children:[c.jsxs(ae,{padding:4,children:[c.jsx(N,{children:c.jsxs(G,{size:1,children:[n==="warning"&&c.jsx(vo,{}),n==="error"&&c.jsx(Yu,{})]})}),c.jsxs(N,{flex:1,marginLeft:3,children:[c.jsx(G,{size:1,weight:"semibold",children:i}),e&&c.jsx(N,{marginTop:3,children:e})]})]}),r&&c.jsx(tTn,{children:r})]})}function Pre(t,e){const n=m.useRef(e||null);return m.useEffect(()=>{n.current=t},[t]),n.current}function qc(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zv;const r=Pre(t);m.useEffect(()=>{n(r,t)||e(r,t)},[e,t,r,n])}function Iqe(t,e){m.useEffect(()=>{const n=r=>{const i=r.target;if(i instanceof HTMLElement){if(t.some(s=>{var o;return(o=s.current)==null?void 0:o.contains(i)}))return;e(r)}};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[t,e])}const Dqe=m.createContext(null);function Ml(){const t=m.useContext(Dqe);if(!t)throw new Error("FormBuilder: missing context value");return t}const nTn={constrainSize:!0,portal:!0};function Mre(t){const{schemaType:e,readOnly:n,children:r,onValueCreate:i,onItemAppend:s}=t,o=m.useId(),a=m.useCallback(u=>{const d=i(u);s(d)},[i,s]),l=re.useCallback(()=>{a(e.of[0])},[e,a]);return n?c.jsx(Mn,{portal:!0,content:c.jsx(N,{padding:2,sizing:"border",children:c.jsx(G,{size:1,children:"This field is read-only"})}),children:c.jsx(Er,{children:c.jsx(Ce,{icon:Qa,mode:"ghost",disabled:!0,text:e.of.length===1?"Add item":"Add item..."})})}):c.jsxs(Er,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[e.of.length===1?c.jsx(Ce,{icon:Qa,mode:"ghost",onClick:l,text:"Add item"}):c.jsx(vr,{button:c.jsx(Ce,{icon:Qa,mode:"ghost",text:"Add item"}),id:o||"",menu:c.jsx(er,{children:e.of.map((u,d)=>{var f,h;const p=Iv(u)&&(u.to||[]).length===1&&u.to[0].icon,g=u.icon||((f=u.type)==null?void 0:f.icon)||p;return c.jsx(St,{text:u.title||((h=u.type)==null?void 0:h.name),onClick:()=>a(u),icon:g},d)})}),popover:nTn}),r]})}var swe=Object.freeze,rTn=Object.defineProperty,iTn=(t,e)=>swe(rTn(t,"raw",{value:swe(e||t.slice())})),owe;const sTn=t=>t==="error"?c.jsx(Yu,{}):t==="warning"?c.jsx(vo,{}):c.jsx(rw,{}),oTn=H(G)(t=>{let{theme:e}=t;return qe(owe||(owe=iTn([`
    &[data-info] {
      color: `,`;
    }

    &[data-warning] {
      color: `,`;
    }

    &[data-error] {
      color: `,`;
    }
  `])),e.sanity.color.muted.primary.enabled.fg,e.sanity.color.muted.caution.enabled.fg,e.sanity.color.muted.critical.enabled.fg)});function Rqe(t){const{markers:e,validation:n,renderCustomMarkers:r}=t,{CustomMarkers:i}=Ml().__internal.components;return e.length===0&&n.length===0?null:c.jsxs(Te,{space:1,children:[n.length>0&&n.map((s,o)=>{let{message:a,level:l}=s;return c.jsxs(ae,{children:[c.jsx(N,{marginRight:2,marginBottom:o+1===n.length?0:2,children:c.jsx(oTn,{size:1,"data-error":l==="error"?"":void 0,"data-warning":l==="warning"?"":void 0,"data-info":l==="info"?"":void 0,children:sTn(l)})}),c.jsx(N,{children:c.jsx(G,{size:1,children:a||"Error"})})]},"validationItem-".concat(o))}),e.length>0&&c.jsxs(N,{marginTop:n.length>0?3:0,children:[r&&r(e),!r&&c.jsx(i,{markers:e})]})]})}function aTn(){return c.jsxs(G,{size:1,children:["This is a example custom marker, please implement ",c.jsx("code",{children:"renderCustomMarkers"})," function."]})}const $re=re.createContext(null),WI=m.memo(function(e){const n=m.useRef(e);n.current=e;const r=m.useCallback(h=>{var p,g,v;return(v=(g=(p=n.current)==null?void 0:p.transformPatches)==null?void 0:g.call(p,h))!=null?v:[]},[n]),i=m.useCallback(h=>{n.current.onChange(h)},[]),s=m.useCallback(h=>{n.current.onPathFocus(h)},[]),o=m.useCallback(h=>{n.current.onPathBlur(h)},[]),a=m.useCallback(h=>{n.current.onPathOpen(h)},[]),l=m.useCallback((h,p)=>{n.current.onSetPathCollapsed(h,p)},[]),u=m.useCallback((h,p)=>{n.current.onSetFieldSetCollapsed(h,p)},[]),d=m.useCallback((h,p)=>{n.current.onFieldGroupSelect(h,p)},[]),f=m.useMemo(()=>({transformPatches:r,onChange:i,onPathFocus:s,onPathBlur:o,onPathOpen:a,onSetPathCollapsed:l,onSetFieldSetCollapsed:u,onFieldGroupSelect:d}),[i,d,o,s,a,u,l,r]);return c.jsx($re.Provider,{value:f,children:e.children})});function Pd(){const t=m.useContext($re);if(!t)throw new Error("Form context not provided");return t}function Fre(t,e){return WY(t,e,new WeakSet)}function WY(t,e,n){if(t===e)return t;if(n.has(e)||t==null||e==null||typeof t!==typeof e)return e;if(Array.isArray(e)){n.add(e);let s=t.length===e.length;const o=[];for(let a=0;a<e.length;a++){const l=WY(t[a],e[a],n);l!==t[a]&&(s=!1),o[a]=l}return s?t:o}if(typeof e=="object"){n.add(e);const s=Object.keys(e);let o=Object.keys(t).length===s.length;const a={};for(const l of s){const u=WY(t[l],e[l],n);u!==t[l]&&(o=!1),a[l]=u}return o?t:a}return e}const jqe=m.createContext([]);function lTn(t){return c.jsx(jqe.Provider,{value:t.presence,children:t.children})}function uTn(){const t=m.useContext(jqe);if(!t)throw new Error("Form context not provided");return t}function hE(t,e){const n=uTn(),r=m.useRef(n),i=Fre(r.current,n.filter(s=>ou(t,s.path)&&(e||!Li(t,s.path))));return r.current=i,i}const Oqe=m.createContext([]);function cTn(t){return c.jsx(Oqe.Provider,{value:t.validation,children:t.children})}function dTn(){const t=m.useContext(Oqe);if(!t)throw new Error("Form context not provided");return t}function Bre(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=dTn();return m.useMemo(()=>n.filter(r=>ou(t,r.path)&&(e||!Li(t,r.path))).map(r=>({message:r.item.message,level:r.level,path:r.path})),[e,t,n])}const Lqe=m.createContext({actions:[],hovered:!1,onMouseEnter:()=>{},onMouseLeave:()=>{}});function GI(){return m.useContext(Lqe)}function fTn(t){const{action:e}=t,n=m.useCallback(()=>{e.onAction()},[e]),r=typeof e.disabled=="object"&&c.jsx(G,{size:1,children:e.disabled.reason});return c.jsx(zI,{content:r,placement:"left",children:c.jsx(St,{disabled:!!e.disabled,fontSize:1,icon:e.icon,iconRight:e.iconRight||(e.selected?Uf:void 0),onClick:n,padding:3,pressed:e.selected,space:3,text:e.title,tone:e.tone})})}const hTn={placement:"right",fallbackPlacements:["top","bottom"]};function pTn(t){const{group:e}=t;return e.expanded?c.jsxs(c.Fragment,{children:[c.jsx(N,{padding:2,paddingBottom:1,children:c.jsx(jn,{muted:!0,size:0,children:e.title})}),e.children.map((n,r)=>{var i;return c.jsx(GY,{action:n,isFirst:r===0,prevIsGroup:((i=e.children[r-1])==null?void 0:i.type)==="group"},r)})]}):c.jsx(n9,{fontSize:1,icon:e.icon,padding:3,popover:hTn,space:3,text:e.title,tone:e.tone,children:e.children.map((n,r)=>{var i;return c.jsx(GY,{action:n,isFirst:r===0,prevIsGroup:((i=e.children[r-1])==null?void 0:i.type)==="group"},r)})})}function GY(t){const{action:e,isFirst:n,prevIsGroup:r}=t;return e.type==="divider"?c.jsx(Ci,{}):e.type==="group"?c.jsxs(c.Fragment,{children:[!n&&c.jsx(Ci,{}),c.jsx(pTn,{group:e})]}):c.jsxs(c.Fragment,{children:[r&&c.jsx(Ci,{}),c.jsx(fTn,{action:e})]})}const Pqe={placement:"top"};function awe(t){return"renderAsButton"in t&&t.renderAsButton}const E$=m.memo(function(e){const{focused:n,nodes:r}=e,{hovered:i}=GI(),[s,o]=m.useState(!1),a=m.useCallback(()=>o(!0),[]),l=m.useCallback(()=>o(!1),[]),u=m.useMemo(()=>r.filter(awe),[r]),d=m.useMemo(()=>r.filter(g=>!awe(g)),[r]),f=m.useMemo(()=>{const g=d.length;if(g===0||g>1)return d;const v=d[0];return v.type==="group"?[{...v,expanded:!0}]:d},[d]),h=m.useMemo(()=>[...u,...f.length?[{type:"group",children:f,icon:ll,title:"Field actions"}]:[]],[u,f]),p=m.useMemo(()=>({height:25,lineHeight:0,display:s||n||i?void 0:"none"}),[n,i,s]);return c.jsx(ae,{gap:1,style:p,children:h.map((g,v)=>c.jsx(mTn,{node:g,onOpen:a,onClose:l,open:s},v))})}),mTn=m.memo(function(e){const{node:n,onOpen:r,onClose:i,open:s}=e;return n.type==="divider"?c.jsx(ge,{borderLeft:!0,flex:"none"}):n.type==="action"?c.jsx(_y,{fontSize:1,icon:n.icon,label:s?void 0:n.title,mode:h0?"bleed":"ghost",onClick:n.onAction,padding:2,tooltip:Pqe}):c.jsx(vTn,{node:n,onOpen:r,onClose:i,open:s})}),gTn={constrainSize:!0,placement:"right",portal:!0,fallbackPlacements:["top","bottom"]};function vTn(t){const{node:e,onOpen:n,onClose:r,open:i}=t;return c.jsx(vr,{button:c.jsx(_y,{fontSize:1,icon:e.icon,label:i?void 0:e.title,mode:h0?"bleed":"ghost",padding:2,tooltip:Pqe}),id:m.useId(),menu:c.jsx(er,{children:e.children.map((s,o)=>{var a;return c.jsx(GY,{action:s,isFirst:o===0,prevIsGroup:((a=e.children[o-1])==null?void 0:a.type)==="group"},o)})}),onOpen:n,onClose:r,popover:gTn})}function Mqe(t){return t.filter(Boolean).filter(e=>"hidden"in e?e.hidden!==!0:!0).map(e=>e.type==="group"?{...e,children:Mqe(e.children)}:e)}const qI=m.memo(function(e){const{actions:n,documentId:r,documentType:i,onActions:s,path:o,schemaType:a}=e,l=n.length,u=m.useRef(l),[d,f]=m.useState(()=>Array.from(new Array(l))),h=m.useRef(d),p=m.useCallback((g,v)=>{f(y=>{const x=[...y];return x[g]=v,x})},[]);return m.useEffect(()=>{h.current!==d&&(h.current=d,s(Mqe(d)))},[d,s]),m.useEffect(()=>{if(u.current!==l){const g=Array.from(new Array(l));for(let v=0;v<l;v++)g[v]=h.current[v];u.current=l,f(g),h.current=g}},[l]),c.jsx(c.Fragment,{children:n.map((g,v)=>c.jsx(yTn,{action:g,index:v,documentId:r,documentType:i,path:o,schemaType:a,setFieldAction:p},v))})}),yTn=m.memo(function(e){const{action:n,documentId:r,documentType:i,index:s,path:o,schemaType:a,setFieldAction:l}=e,u=uu(n.useAction({documentId:r,documentType:i,path:o,schemaType:a}));return m.useEffect(()=>{l(s,u)},[s,u,l]),null}),$qe=m.createContext(null);function Nre(){const t=m.useContext($qe);if(!t)throw new Error("UserColorManager: missing context value");return t}function bTn(t){const e=Nre();return Va(t?e.listen(t):$2(),[t],e.get(null))}const xTn="purple",wTn=["green","red","gray"],_Tn=cMe.filter(t=>!wTn.includes(t)),Fqe=t=>{const e=t==="dark";return{background:e?"900":"100",border:e?"700":"300",text:e?"200":"700"}},CTn=t=>{const{background:e,border:n,text:r}=Fqe(t);return _Tn.reduce((i,s)=>(i[s]={name:s,background:Ke[s][e].hex,border:Ke[s][n].hex,text:Ke[s][r].hex,tints:Ke[s]},i),{})},ETn=t=>{const{background:e,border:n,text:r}=Fqe(t);return{name:"gray",background:Ke.gray[e].hex,border:Ke.gray[n].hex,text:Ke.gray[r].hex,tints:Ke.gray}};function STn(t){const{anonymousColor:e,colors:n,currentUserColor:r,scheme:i}=t,s=n||CTn(i),o=e||ETn(i),a=r||xTn;if(!s.hasOwnProperty(a))throw new Error("'colors' must contain 'currentUserColor' (".concat(a,")"));const l=Object.keys(s),u=new Map,d=new Map,f=l.reduce((I,D)=>(I[D]=0,I),{}),h=new Map;let p;return t!=null&&t.userStore&&t.userStore.me.subscribe(I=>A(I?I.id:null)),{get:g,listen:y};function g(I){return I?s[v(I)]:o}function v(I){if(I===p)return a;const D=h.get(I);if(D)return D;const R=d.get(I);if(R&&(f[R]===0||!C()))return x(I,R);const O=k(I);return f[O]===0?x(I,O):x(I,S(R))}function y(I){let D=u.get(I);if(D)return D;const R=v(I);return D=T(I,R),u.set(I,D),D}function x(I,D){return h.set(I,D),d.set(I,D),f[D]++,D}function b(I,D){h.delete(I),f[D]--}function _(){return l.find(I=>f[I]===0)}function C(){return!!_()}function S(I){let D=1/0,R=[];return l.forEach(O=>{const L=f[O];L===D?R.push(O):L<D&&(D=L,R=[O])}),I&&R.includes(I)?I:R[0]}function T(I,D){return new On(R=>{const O=s[D];return R.next(O),()=>{u.delete(I),b(I,D)}}).pipe($a({refCount:!0}))}function A(I){p=I,f[a]+=I?1:-1}function k(I){let D=0;for(let R=0;R<I.length;R++)D=(D<<5)-D+I.charCodeAt(R)|0;return l[Math.abs(D)%l.length]}}function TTn(t){let{children:e,manager:n}=t;const{scheme:r}=Po(),i=m.useMemo(()=>n||STn({scheme:r}),[n,r]);return c.jsx($qe.Provider,{value:i,children:e})}const kTn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ATn=/_key\s*==\s*['"](.*)['"]/;function Si(t){if(!Array.isArray(t))throw new Error("Path is not an array");return t.reduce((e,n,r)=>{const i=typeof n;if(i==="number")return"".concat(e,"[").concat(n,"]");if(i==="string"){const s=r===0?"":".";return"".concat(e).concat(s).concat(n)}if(jo(n)&&n._key)return"".concat(e,'[_key=="').concat(n._key,'"]');if(Array.isArray(n)){const[s,o]=n;return"".concat(e,"[").concat(s,":").concat(o,"]")}throw new Error("Unsupported path segment `".concat(JSON.stringify(n),"`"))},"")}function Cv(t,e){const n=e[0];if(!n)return t;const r=e.slice(1);if(tm(n))return Cv(Array.isArray(t)?t[n]:void 0,r);if(jo(n))return Cv(Array.isArray(t)?t.find(i=>i._key===n._key):void 0,r);if(typeof n=="string")return Cv(Jn(t)?t[n]:void 0,r);throw new Error("Unknown segment type ".concat(JSON.stringify(n)))}function ITn(t,e){return typeof e!="number"&&!jo(e)?-1:typeof e=="number"?e:t.findIndex(n=>hm(n)&&n._key===e._key)}function DTn(t){const e=t.match(kTn);if(!e)throw new Error("Invalid path string");return e.map(RTn)}function RTn(t){return tm(t)?jTn(t):jo(t)?OTn(t):Ix(t)?LTn(t):t}function jTn(t){return Number(t.replace(/[^\d]/g,""))}function OTn(t){const e=t.match(ATn);if(!e)throw new Error("Invalid key segment");return{_key:e[1]}}function LTn(t){const[e,n]=t.split(":").map(r=>r===""?r:Number(r));return[e,n]}function Bqe(t,e){return t.length!==e.length?!1:t.every((n,r)=>{const i=e[r];return jo(n)&&jo(i)?n._key===i._key:tm(n)?Number(n)===Number(i):Ix(n)&&Ix(i)?n[0]===i[0]&&n[1]===i[1]:n===i})}function Nqe(t){return hm(t)?t._key:void 0}function qY(t){const e=Nqe(t);return e?{_key:e}:void 0}function PTn(t){return typeof t=="object"&&t!==null&&Object.keys(t).length<=0}function Vqe(t,e){return t.get((e==null?void 0:e.author)||null)}function YI(t,e){const n=Array.isArray(e)?e:DTn(e);return MTn(t,n)}function MTn(t,e){const n=YY(t,e);if(n&&n.action!=="unchanged")return n.annotation||void 0}function YY(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(e.length===0)return t;const r=e[0],i=e.slice(1);if(Ix(r))throw new Error("Index tuples are not supported in diff paths");if(tm(r)||jo(r)){const o=tm(r)?"at index ".concat(r):"with key ".concat(r._key);if(t.type!=="array"){"Failed to get item ".concat(o," at path ").concat(Si(n)," (not an array)");return}const a=t.items.find(tm(r)?l=>l.toIndex===r:l=>$Tn(l,r));if(!a){"Failed to get item ".concat(o," at path ").concat(Si(n)," (item missing)");return}return YY(a.diff,i,n.concat(r))}if(t.type!=="object"){"Failed to get property ".concat(r," at path ").concat(Si(n)," (not an object)");return}const s=t.fields[r];if(typeof s>"u"){"Failed to get property ".concat(r," at path ").concat(Si(n)," (field did not exist)");return}return YY(s,i,n.concat(r))}function $Tn(t,e){const n=t.diff;return n.type!=="object"||!n.toValue?!1:n.toValue._key===e}function S$(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(e(t,n)){if(t.type==="array"){FTn(t,e,n);return}if(t.type==="object"){BTn(t,e,n);return}t.type==="string"&&NTn(t,e,n)}}function FTn(t,e,n){t.action!=="unchanged"&&t.items.forEach(r=>{var i;const s=r.diff.type==="object"&&((i=r.diff.toValue)==null?void 0:i._key),o=s?{_key:s}:VTn(r);S$(r.diff,e,n.concat(o))})}function BTn(t,e,n){t.action!=="unchanged"&&Object.keys(t.fields).forEach(r=>{const i=t.fields[r];S$(i,e,n.concat(r))})}function NTn(t,e,n){t.action!=="unchanged"&&t.segments.forEach(r=>{S$(r,e,n)})}function VTn(t){return typeof t.toIndex>"u"?t.fromIndex||0:t.toIndex}function Uqe(t){const e=Nre();return Vqe(e,t)}function aC(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=Nre(),r=m.useMemo(()=>YI(t,e),[t,e]);return m.useMemo(()=>Vqe(n,r),[r,n])}function Nu(t){if("diff"in t){const{diff:e,path:n=[],...r}=t,i=YI(e,n);return c.jsx(lwe,{...r,annotations:i?[i]:[]})}return c.jsx(lwe,{...t})}function lwe(t){const{annotations:e,children:n,description:r="Changed",...i}=t;if(!e)return n;const s=c.jsxs(Te,{padding:3,space:2,children:[c.jsx(jn,{size:1,style:{textTransform:"uppercase"},children:r}),c.jsx(Te,{space:2,children:e.map((o,a)=>c.jsx(UTn,{annotation:o},a))})]});return c.jsx(sC,{zOffset:"paneFooter",children:c.jsx(Mn,{content:s,portal:!0,allowedAutoPlacements:["top","bottom"],...i,children:n})})}function UTn(t){let{annotation:e}=t;const{author:n,timestamp:r}=e,[i]=SXe(n),s=Uqe(e),o=sF(r,{minimal:!0});return c.jsxs(cn,{space:2,children:[c.jsxs(ae,{align:"center",paddingRight:3,style:{backgroundColor:s.background,color:s.text,borderRadius:"calc(23px / 2)"},children:[c.jsx($f,{user:n}),c.jsx(cn,{paddingLeft:2,children:c.jsx(G,{muted:!0,size:1,style:{color:s.text},children:i?i.displayName:"Loading"})})]}),c.jsx(G,{as:"time",muted:!0,size:1,dateTime:r,children:o})]})}var uwe=Object.freeze,HTn=Object.defineProperty,zTn=(t,e)=>uwe(HTn(t,"raw",{value:uwe(e||t.slice())})),cwe;const WTn=H(ge)(cwe||(cwe=zTn([`
  --diff-card-radius: `,`;
  --diff-card-bg-color: `,`;

  max-width: 100%;
  position: relative;
  border-radius: var(--diff-card-radius);

  &:not(del) {
    text-decoration: none;
  }

  &[data-hover] {
    &::after {
      content: '';
      display: block;
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
    }

    &:hover {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }

    [data-from-to-layout]:hover & {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }
  }
`])),t=>{let{theme:e}=t;return Xe(e.sanity.radius[2])},t=>{let{theme:e}=t;return e.sanity.color.card.enabled.bg}),GTn=[],pu=m.forwardRef(function(e,n){const{annotation:r,as:i="div",children:s,className:o,diff:a,disableHoverEffect:l,path:u=GTn,style:d={},tooltip:f,...h}=e,p=m.useMemo(()=>r||YI(a,u),[r,a,u]),g=Uqe(p),v=c.jsx(WTn,{...h,as:i,className:o,"data-hover":l||!p?void 0:"",ref:n,radius:1,style:{...d,backgroundColor:g.background,color:g.text},children:s});return f&&p?c.jsx(Nu,{annotations:[p],description:f&&typeof f=="object"&&f.description,children:v}):v});var dwe=Object.freeze,qTn=Object.defineProperty,Hqe=(t,e)=>dwe(qTn(t,"raw",{value:dwe(e||t.slice())})),fwe,hwe;const Vre=H.div(fwe||(fwe=Hqe([`
  border-radius: `,`;
  padding: `,`;
`])),t=>{let{theme:e}=t;return Xe(e.sanity.radius[2])},t=>{let{theme:e}=t;return Xe(e.sanity.space[1])}),k6=H(G)(hwe||(hwe=Hqe([`
  &:not([hidden]) {
    color: inherit;
  }
`])));function YTn(t){const{change:e,segment:n}=t;if(typeof n=="string")return c.jsx(N,{style:n.length>30?{maxWidth:100}:{},children:c.jsx(G,{title:n,size:1,weight:"semibold",textOverflow:"ellipsis",children:n})});const{hasMoved:r,fromIndex:i,toIndex:s,annotation:o}=n,a=typeof i>"u",l=typeof s>"u";if(a)return c.jsx(KTn,{annotation:o,change:e,toIndex:s});if(l)return c.jsx(ZTn,{annotation:o,fromIndex:i});if(r&&typeof s<"u"&&typeof i<"u")return c.jsx(XTn,{annotation:o,fromIndex:i,toIndex:s});const u=(s||0)+1;return c.jsx(N,{padding:1,children:c.jsxs(G,{size:1,weight:"semibold",children:["#",u]})})}function KTn(t){const{annotation:e,change:n,toIndex:r=0}=t,i=r+1,s="Added in position ".concat(i),o=c.jsxs(c.Fragment,{children:["#",i]}),l=(n!=null&&n.diff?YI(n.diff,[]):void 0)||e;return l?c.jsx(pu,{annotation:l,tooltip:{description:s},as:Vre,children:c.jsx(k6,{size:1,weight:"semibold",forwardedAs:"ins",style:{textDecoration:"none"},children:o})}):c.jsx(G,{size:1,weight:"semibold",children:o})}function ZTn(t){const{annotation:e,fromIndex:n=0}=t,r=n+1,i="Removed from position ".concat(r);return c.jsx(pu,{annotation:e||null,as:Vre,tooltip:{description:i},children:c.jsxs(k6,{size:1,weight:"semibold",forwardedAs:"del",children:["#",r]})})}function XTn(t){const{annotation:e,fromIndex:n,toIndex:r}=t,i=r-n,s=i<0?"":"",o=Math.abs(i),a="Moved ".concat(o," position").concat(o===1?"":"s"," ").concat(i<0?"up":"down");return c.jsxs(c.Fragment,{children:[c.jsx(N,{padding:1,children:c.jsxs(k6,{size:1,weight:"semibold",children:["#",r+1]})}),c.jsx(pu,{annotation:e,as:Vre,tooltip:{description:a},children:c.jsxs(k6,{size:1,weight:"semibold",children:[s,Math.abs(i)]})})]})}function zqe(t){const{change:e,titlePath:n}=t;return c.jsx(F$e,{separator:c.jsx(G,{muted:!0,size:1,children:"/"}),children:n.map((r,i)=>typeof r=="string"||!e||e.showIndex?c.jsx(YTn,{change:e,segment:r},i):null)})}function QTn(t){return Jn(t)&&typeof(t==null?void 0:t.then)=="function"}function JTn(t,e,n){const{currentUser:r,document:i,parent:s,value:o}=n,a=m.useRef(!1);return m.useMemo(()=>{let l=!1;if(typeof t=="boolean"||t===void 0)return t||!1;try{l=t({document:i,parent:s,value:o,currentUser:r})}catch(u){return console.error("An error occurred while running the callback from `".concat(e,"`: ").concat(u.message)),!1}return QTn(l)&&!a.current?(console.warn("The `".concat(e,"` option is either a promise or a promise returning function. Async callbacks for `").concat(e,"` option is not currently supported.")),!1):(typeof l>"u"&&console.warn("The `".concat(e,"` option is or returned `undefined`. `").concat(e,"` should return a boolean.")),l)},[t,i,s,o,r,e])}const KY=t=>{const{checkProperty:e=!1,checkPropertyKey:n,document:r,parent:i,value:s}=t,o=uu(s),a=Md();return JTn(e,n,{currentUser:a,document:r,parent:i,value:o})},p0=m.createContext({path:[]});function ZY(t,e){const{jsonType:n}=e,r=Array.isArray(t)?"array":typeof t;if(!(t===null||r==="undefined")){if(r!==n)return{message:"Value is ".concat(r,", expected ").concat(n),value:t};if(ekn(e)&&tkn(t))for(const i of e.fields){const s=ZY(t[i.name],i.type);if(s)return s}}}function ekn(t){return t.jsonType==="object"}function tkn(t){return t!==null&&!Array.isArray(t)&&typeof t=="object"}function nkn(t){return LX(t)?t._type:ikn(t)}function rkn(t,e){return t.action==="added"?{toType:zS(e,t.toValue)}:t.action==="changed"?{fromType:zS(e,t.fromValue),toType:zS(e,t.toValue)}:t.action==="removed"?{fromType:zS(e,t.fromValue)}:{toType:zS(e,t.toValue)}}function zS(t,e){const n=nkn(e),r=t.of.find(i=>i.name===n);return r||(t.of.length===1?t.of[0]:void 0)}function ikn(t){return Array.isArray(t)?"array":t===null?"null":typeof t}const pE=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],T$="",mE=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],skn="",A6=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],okn="",Wqe="",pwe=new If.diff_match_patch;function akn(t){return t.of.some(qqe)}const lkn=mE.map(t=>t[0]).concat(pE.map(t=>t[0])),ukn=mE.map(t=>t[1]).concat(pE.map(t=>t[1])),Gqe=lkn.concat(ukn).concat(A6).concat(T$).concat(Wqe),mwe=new RegExp("".concat(Gqe.join("|")),"g"),ckn=new RegExp("".concat(Gqe.join("|"),`|
`),"g");function qqe(t){return t.jsonType==="object"&&t.name==="block"}function dkn(t){return EC(t)&&!!t.style&&["h1","h2","h3","h4","h5","h6"].includes(t.style)}function gwe(t,e){return t.fields.children.items.filter(r=>r.diff.isChanged&&(r.diff.toValue===e||r.diff.fromValue===e)).map(r=>r.diff).map(r=>r)[0]}function XY(t,e){const n=t.find(i=>i.name==="children");return n&&n.type&&n.type.jsonType==="array"&&n.type.of.find(i=>i.name===e._type)||void 0}function Ure(t){return t.decorators?kI(t.decorators,["value"],["asc"]):[]}function Yqe(t,e){return Ure(e).some(n=>n.value===t)}function vwe(t,e,n,r,i){return e?e.children.map(s=>{var o;let a=lv(s)?(o=s.text)==null?void 0:o.replace(mwe,""):"";if(lv(s)){const l=Hre(t,s),u=l==null?void 0:l.fields.text;u&&u.toValue===s.text&&u.type==="string"&&u.action!=="unchanged"&&(a=u.segments.filter(d=>d.action!=="removed").map(d=>d.text.replace(mwe,"")).join(Wqe)),s.marks&&s.marks.forEach(d=>{!!n[d]?a="".concat(n[d][0]).concat(a).concat(n[d][1]):r[d]&&(a="".concat(r[d][0]).concat(a).concat(r[d][1]))})}else a=i[s._key];return"".concat(T$).concat(a)}).join(""):""}function fkn(t,e){const n=t.action==="removed"?t.fromValue:t.toValue,r={...t,origin:t,displayValue:n};if(n){const i={},s={},o={},a=XY(e.fields,{_key:"bogus",_type:"span"});a&&Ure(a).forEach((v,y)=>{s[v.value]=mE[y]}),Xqe(r.origin).forEach((v,y)=>{i[v._key]=pE[y]}),Kqe(r.origin).forEach((v,y)=>{o[v._key]=A6[y]});const d=vwe(r.origin,r.fromValue,s,i,o),f=vwe(r.origin,r.toValue,s,i,o),h={...n,children:[{_type:"span",_key:"pseudoSpanKey",text:f,marks:[]}]},p={displayValue:n,children:[{_type:"span",_key:"pseudoSpanKey",text:d,marks:[]}]};return{origin:t,action:"changed",type:"object",displayValue:h,fromValue:p,toValue:h,isChanged:!0,fields:{children:{action:"changed",type:"array",isChanged:!0,items:[{diff:{action:"changed",type:"object",isChanged:!0,fields:{text:{type:"string",action:"changed",isChanged:!0,fromValue:d,toValue:f,segments:hkn(d,f).map(v=>({...v,...r.action!=="unchanged"&&r.annotation?{annotation:r.annotation}:{}}))}},fromValue:p.children[0],toValue:h.children[0]},annotation:null,fromIndex:0,toIndex:0,hasMoved:!1}],fromValue:p.children,toValue:h.children}}}}throw new Error("Can not display this diff")}function hkn(t,e){const n=[],r=pwe.diff_main(t,e);pwe.diff_cleanupEfficiency(r);let i=0,s=0;for(const[o,a]of r)switch(o){case If.DIFF_EQUAL:n.push({type:"stringSegment",action:"unchanged",text:a}),i+=a.length,s+=a.length;break;case If.DIFF_DELETE:n.push({type:"stringSegment",action:"removed",text:t.substring(i,i+a.length),annotation:null}),i+=a.length;break;case If.DIFF_INSERT:n.push({type:"stringSegment",action:"added",text:e.substring(s,s+a.length),annotation:null}),s+=a.length;break}return $i(n.map(o=>{const a=[];if(o.text.length>1){const l=[...o.text.matchAll(ckn)];let u=-1;l.forEach(d=>{const f=d.index||0;f>u&&(a.push({...o,text:o.text.substring(u+1,f)}),a.push({...o,text:d[0]})),d===l[l.length-1]&&a.push({...o,text:o.text.substring(f+1)}),u=f}),l.length===0&&a.push(o)}else a.push(o);return a}))}function Kqe(t){const e=[...t.toValue?t.toValue.children.filter(r=>r._type!=="span"):[]];return(t.fromValue?t.fromValue.children.filter(r=>r._type!=="span"):[]).forEach(r=>{e.some(i=>r._key===i._key)||e.push(r)}),kI(e,["_key"],["asc"])}function Hre(t,e){const n=t.fields.children&&t.fields.children.action!=="unchanged"&&t.fields.children.type==="array"&&t.fields.children.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.action==="removed"?r.diff.fromValue&&r.diff.fromValue._key===e._key:(r.diff.toValue&&r.diff.toValue._key)===e._key));if(n)return n.diff}function pkn(t,e){var n;return t.fields.markDefs&&t.fields.markDefs.isChanged&&t.fields.markDefs.type==="array"&&((n=t.fields.markDefs.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.toValue&&r.diff.toValue._key&&r.diff.toValue._key===e||r.diff.fromValue&&r.diff.fromValue._key&&r.diff.fromValue._key===e)))==null?void 0:n.diff)||void 0}function Zqe(t){return t&&Ur(Object.keys(t),["_key","_type"])||!1}function mkn(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function Xqe(t){const e=[...t.toValue&&t.toValue.markDefs?t.toValue.markDefs:[]];return(t.fromValue&&t.fromValue.markDefs?t.fromValue.markDefs:[]).forEach(r=>{e.some(i=>r._key===i._key)||e.push(r)}),kI(e,["_key"],["asc"])}const gkn=[];function vkn(t){let{checked:e,color:n}=t;return c.jsxs("svg",{width:"17",height:"17",viewBox:"0 0 17 17",xmlns:"http://www.w3.org/2000/svg",fill:n==null?void 0:n.background,children:[c.jsx("rect",{x:"0",y:"0",width:"17",height:"17",rx:"2.5"}),typeof e>"u"&&c.jsx("path",{d:"M4.07996 8.5H12.92",stroke:n==null?void 0:n.text,strokeWidth:"2"}),e&&c.jsx("path",{d:"M3.5 8L7 11.5L13.5 5",stroke:n==null?void 0:n.text,strokeWidth:"2"})]})}function ykn(t){let{checked:e,color:n}=t;return c.jsxs("svg",{width:"38",height:"22",viewBox:"0 0 38 22",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("rect",{width:"38",height:"22",rx:"11",fill:e?n==null?void 0:n.border:n==null?void 0:n.background}),typeof e>"u"&&c.jsx("rect",{x:"11",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),e&&c.jsx("rect",{x:"18",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),typeof e=="boolean"&&!e&&c.jsx("rect",{x:"4",y:"3",width:"16",height:"16",rx:"8",fill:"white"})]})}const bkn=t=>{let{diff:e,schemaType:n}=t;const{fromValue:r,toValue:i}=e,{title:s,options:o}=n,a=(o==null?void 0:o.layout)==="checkbox"?vkn:ykn,l=aC(e,[]),u=i!=null;return c.jsxs(ae,{align:"center",children:[c.jsx(Nu,{diff:e,children:c.jsxs(ae,{align:"center",children:[c.jsx(a,{checked:r,color:l}),u&&c.jsxs(c.Fragment,{children:[c.jsx(N,{marginX:2,children:c.jsx(Zre,{})}),c.jsx(a,{checked:i,color:l})]})]})}),u&&s&&c.jsx(N,{marginLeft:2,children:c.jsx(G,{size:1,weight:"semibold",children:s})})]})};var ywe=Object.freeze,xkn=Object.defineProperty,wkn=(t,e)=>ywe(xkn(t,"raw",{value:ywe(e||t.slice())})),bwe;const _kn="YYYY-MM-DD",Ckn="HH:mm",Ekn=H.div(bwe||(bwe=wkn([`
  display: inline-block;
  word-wrap: break-word;
`]))),Skn=function(e){let{value:n,schemaType:r}=e;return c.jsx(N,{as:Ekn,paddingX:2,paddingY:1,children:Tkn(n,r)})};function Tkn(t,e){const{options:n,name:r}=e,i=(n==null?void 0:n.dateFormat)||_kn,s=(n==null?void 0:n.timeFormat)||Ckn;return Z9(new Date(t),r==="date"?i:"".concat(i," ").concat(s))}const xwe=t=>{let{diff:e,schemaType:n}=t;return c.jsx(KI,{align:"center",diff:e,layout:"grid",previewComponent:Skn,schemaType:n})},Qqe=m.createContext(null);function k$(){const t=m.useContext(Qqe);if(!t)throw new Error("DocumentChange: missing context value");return t}function wwe(t){const[e,n]=m.useState(void 0),r=Cs(us);return m.useEffect(()=>{if(!t)return;const i=r.observable.getDocument(t).subscribe(n);return()=>{i.unsubscribe()}},[r,t]),t?e:void 0}function kkn(t,e){if(!t||!e)return 0;const n=e-t;return Math.round(n/t*100)}var _we=Object.freeze,Akn=Object.defineProperty,Ikn=(t,e)=>_we(Akn(t,"raw",{value:_we(e||t.slice())})),Cwe;const Dkn=H.div(Cwe||(Cwe=Ikn([`
  `,`
  &:not([hidden]) {
    display: inline-block;
  }

  [data-number='positive'] {
    color: var(--size-diff-positive);
  }

  [data-number='negative'] {
    color: var(--size-diff-negative);
  }
`])),t=>{let{theme:e}=t;return`
    --size-diff-positive: `.concat(e.sanity.color.solid.positive.enabled.bg,`;
    --size-diff-negative: `).concat(e.sanity.color.solid.critical.enabled.bg,`;
  `)}),Rkn=t=>{let{diff:e,schemaType:n}=t;const{fromValue:r,toValue:i,fields:s}=e,o=r==null?void 0:r.asset,a=i==null?void 0:i.asset,l=wwe(o==null?void 0:o._ref),u=wwe(a==null?void 0:a._ref),d=Object.entries(s).filter(T=>{let[A,k]=T;return k.isChanged&&A!=="_type"}).map(T=>{let[A]=T;return A}),f=d.includes("asset"),h=n.fields.filter(T=>T.name!=="asset"&&d.includes(T.name)).map(T=>T.name),p=(l==null?void 0:l.size)&&l.size/1e3/1e3,g=(u==null?void 0:u.size)&&u.size/1e3/1e3,v=kkn(p,g),y=p?p.toFixed(2):void 0,x=g?g.toFixed(2):void 0,b=m.useMemo(()=>({display:"block",flex:1}),[]),_=l&&c.jsx(pu,{as:"del",diff:e,path:"asset._ref",style:b,children:c.jsx(nK,{title:l.originalFilename||"Untitled",icon:Rv,children:c.jsx(G,{size:0,style:{color:"inherit"},children:"".concat(y,"MB")})})}),C=u&&c.jsx(pu,{as:"ins",diff:e,path:"asset._ref",style:b,children:c.jsx(nK,{title:u.originalFilename||"Untitled",icon:Rv,children:c.jsxs(ae,{align:"center",children:[c.jsx(G,{size:0,style:{color:"inherit"},children:"".concat(x,"MB")}),v!==0&&c.jsx(ge,{radius:2,padding:1,as:Dkn,marginLeft:2,children:c.jsxs(G,{size:0,"data-number":v>0?"positive":"negative",children:[v>0&&"+",v,"%"]})})]})})}),S=c.jsxs(c.Fragment,{children:[_&&!C&&c.jsx(Nu,{diff:e,path:"asset._ref",description:"Removed",children:_}),_&&C&&c.jsx(Nu,{diff:e,path:"asset._ref",children:c.jsx(Xre,{from:_,layout:"grid",to:C})}),!_&&C&&c.jsx(Nu,{diff:e,path:"asset._ref",description:"Added",children:C})]});return c.jsxs(c.Fragment,{children:[f&&S,h.length>0&&c.jsx(N,{marginTop:f?4:3,children:c.jsx(ZI,{diff:e,schemaType:n,fields:h})})]})};function Ewe(t,e){const n=(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t)||[]).slice(1).map(r=>parseInt(r,16)).concat(e);return"rgba(".concat(n.join(", "),")")}function jkn(t){let e=0;if(t.length==0)return e.toString();for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e=(e<<5)-e+r,e&=e}return e.toString()}function Okn(){const t=Math.ceil(window.devicePixelRatio||1);return Math.min(3,Math.max(1,t))}function Lkn(t){const{crop:e,diff:n,hash:r,hotspot:i,width:s=100,height:o=100,...a}=t,l=aC(n,"crop"),u=aC(n,"hotspot");return c.jsxs("svg",{...a,fill:"none",width:s,height:o,viewBox:"0 0 ".concat(s," ").concat(o),children:[c.jsx("defs",{children:e&&i&&c.jsxs("mask",{id:"mask-hotspot-".concat(r),children:[c.jsx("rect",{x:0,y:0,width:s,height:o,fill:"#fff"}),c.jsx(Swe,{hotspot:i,fill:"#000",offset:1,width:s,height:o,stroke:"#000",strokeWidth:3})]})}),e&&c.jsx(Nu,{diff:n,path:"crop",description:"Crop changed",children:c.jsx("g",{children:c.jsx(Pkn,{crop:e,fill:Ewe(l.border,.25),mask:i?"url(#mask-hotspot-".concat(r,")"):void 0,stroke:l.border,strokeWidth:1,width:s,height:o})})}),i&&c.jsx(Nu,{diff:n,path:"hotspot",description:"Hotspot changed",children:c.jsx("g",{children:c.jsx(Swe,{hotspot:i,fill:Ewe(u.border,.25),stroke:u.border,strokeWidth:1,width:s,height:o})})})]})}function Pkn(t){let{crop:e,width:n,height:r,...i}=t;const s={x:e.left*n,y:e.top*r,width:(1-e.right-e.left)*n,height:(1-e.bottom-e.top)*r};return c.jsx("rect",{...i,...s,style:{vectorEffect:"non-scaling-stroke"}})}function Swe(t){let{hotspot:e,offset:n=0,width:r,height:i,...s}=t;const o={cx:e.x*r,cy:e.y*i,rx:e.width/2*r+n,ry:e.height/2*i+n};return c.jsx("ellipse",{...s,...o,style:{vectorEffect:"non-scaling-stroke"}})}var Twe=Object.freeze,Mkn=Object.defineProperty,zre=(t,e)=>Twe(Mkn(t,"raw",{value:Twe(e||t.slice())})),kwe,Awe,Iwe;const $kn=["originalFilename"],Dwe=()=>c.jsx(ge,{flex:1,tone:"transparent",padding:4,radius:2,height:"stretch",children:c.jsx(ae,{align:"center",justify:"center",height:"fill",children:c.jsx(G,{size:1,muted:!0,children:"(no image)"})})}),Fkn=H.div(kwe||(kwe=zre([`
  height: 100%;
  max-height: 190px;
  position: relative;

  /* Ideally the checkerboard component currently in the form builder should be made available and used here */
  background-color: `,`;
  background-image: linear-gradient(45deg, `,` 25%, transparent 25%),
    linear-gradient(-45deg, `,` 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, `,` 75%),
    linear-gradient(-45deg, transparent 75%, `,` 75%);
  background-size: 16px 16px;
  background-position: 0 0, 0 8px, 8px -8px, -8px 0;

  &::after {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    pointer-events: none;
  }

  &[data-changed] {
    opacity: 0.45;
  }
`])),Ke.gray[100].hex,Ke.gray[50].hex,Ke.gray[50].hex,Ke.gray[50].hex,Ke.gray[50].hex),Bkn=H.img(Awe||(Awe=zre([`
  display: block;
  flex: 1;
  min-height: 0;
  object-fit: contain;
  width: 100%;
  height: 100%;

  &[data-action='removed'] {
    opacity: 0.45;
  }
`]))),Nkn=H.div(Iwe||(Iwe=zre([`
  svg {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
`])));function mH(t){var e,n,r,i;const{id:s,action:o,diff:a,hotspot:l,crop:u,is:d}=t,f=Cs(us),[h,p]=re.useState(),{value:g}=Xie(s,$kn),v=Gtn(s),y=m.useMemo(()=>M9(f),[f]),x=g===null,b=g&&g.originalFilename||"Untitled",_=y.image(s).height(190).dpr(Okn()).fit("max"),C=((n=(e=a.fromValue)==null?void 0:e.asset)==null?void 0:n._ref)!==((i=(r=a.toValue)==null?void 0:r.asset)==null?void 0:i._ref),S=o==="changed"?void 0:o;return c.jsxs(ae,{direction:"column",height:"fill",flex:1,children:[c.jsx(N,{flex:1,padding:2,paddingBottom:0,children:c.jsxs(ae,{as:Fkn,direction:"column","data-changed":d==="from"&&C?"":void 0,"data-error":h?"":void 0,children:[!x&&!h&&c.jsx(Bkn,{src:_.toString()||"",alt:b,"data-action":S,onError:p,width:v.width,height:v.height}),(x||h)&&c.jsx(N,{paddingY:5,children:c.jsx(G,{size:1,muted:!0,align:"center",children:x?"Image is deleted":"Error loading image"})}),c.jsx(Nkn,{children:c.jsx(Lkn,{crop:u&&!jtn(u)?u:void 0,diff:a,hash:jkn("".concat(_.toString()||"","-").concat(d)),hotspot:l&&!Otn(l)?l:void 0,width:v.width,height:v.height})})]})}),c.jsx(nK,{title:b,icon:Mh,markRemoved:C&&d==="from",children:S?c.jsx("div",{children:S}):c.jsxs("div",{children:[v.width,"  ",v.height]})})]})}const Vkn=["crop","hotspot"],Ukn=["asset",...Vkn],gH={flex:1},Hkn=t=>{let{diff:e,schemaType:n}=t;var r,i;const{fromValue:s,toValue:o,fields:a,isChanged:l}=e,u=(r=s==null?void 0:s.asset)==null?void 0:r._ref,d=(i=o==null?void 0:o.asset)==null?void 0:i._ref,f=YI(e,["asset","_ref"]),h=Object.keys(a).filter(k=>a[k].isChanged&&k!=="_type"),p=n.fields.filter(k=>!Ukn.includes(k.name)&&h.includes(k.name)).map(k=>k.name);let g="changed";!u&&d?g="added":!d&&u&&(g="removed");const v=h.includes("asset"),y=h.includes("crop"),x=h.includes("hotspot"),b=y||x,_=v||b,C=b&&!v,S=s&&u?c.jsx(pu,{annotation:f,style:gH,children:c.jsx(mH,{is:"from",id:u,diff:e,action:g,hotspot:C&&x?s.hotspot:void 0,crop:C&&y?s.crop:void 0})}):c.jsx(Dwe,{}),T=o&&d?c.jsx(pu,{annotation:f,style:gH,children:c.jsx(mH,{is:"to",id:d,diff:e,hotspot:C&&x?o.hotspot:void 0,crop:C&&y?o.crop:void 0})}):c.jsx(Dwe,{});if(!S&&!T)return c.jsx(ge,{padding:4,radius:2,tone:"transparent",children:c.jsx(G,{muted:!0,size:1,align:"center",children:"Image not set"})});if(!l)return d?c.jsx(pu,{annotation:f,style:gH,children:c.jsx(mH,{id:d,is:"to",diff:e})}):null;const A=c.jsx(Xre,{align:"center",from:S,layout:"grid",to:T});return c.jsxs(c.Fragment,{children:[_&&(v?c.jsx(Nu,{annotations:f?[f]:[],description:"".concat(g[0].toUpperCase()).concat(g.slice(1)),children:A}):A),p.length>0&&c.jsx(N,{marginTop:_?4:3,children:c.jsx(ZI,{diff:e,schemaType:n,fields:p})})]})};var Rwe=Object.freeze,zkn=Object.defineProperty,Wkn=(t,e)=>Rwe(zkn(t,"raw",{value:Rwe(e||t.slice())})),jwe;const Gkn=H.div(jwe||(jwe=Wkn([`
  display: inline-block;
  word-break: break-all;
`]))),qkn=t=>{const{value:e}=t;return c.jsx(N,{as:Gkn,paddingX:2,paddingY:1,children:e})},Ykn=t=>{let{diff:e,schemaType:n}=t;return c.jsx(KI,{diff:e,schemaType:n,previewComponent:qkn,layout:"inline"})};var Owe=Object.freeze,Kkn=Object.defineProperty,Zkn=(t,e)=>Owe(Kkn(t,"raw",{value:Owe(e||t.slice())})),Lwe;const Xkn=H.blockquote(Lwe||(Lwe=Zkn([`
  margin: 0;
`])));function Qkn(t){let{children:e}=t;return c.jsx("div",{children:c.jsx(Xkn,{children:e})})}var Pwe=Object.freeze,Jkn=Object.defineProperty,eAn=(t,e)=>Pwe(Jkn(t,"raw",{value:Pwe(e||t.slice())})),Mwe;const tAn={h1:2,h2:1,h3:0,h4:0,h5:0,h6:0},nAn=H(Ws)(Mwe||(Mwe=eAn([`
  &:not([hidden]) {
    display: inline;
    text-transform: none;
    margin: 0;

    &::before,
    &::after {
      content: unset;
    }
  }
`])));function rAn(t){let{style:e,children:n}=t;return c.jsx(nAn,{size:tAn[e],children:n})}var $we=Object.freeze,iAn=Object.defineProperty,sAn=(t,e)=>$we(iAn(t,"raw",{value:$we(e||t.slice())})),Fwe;const oAn=H.div(Fwe||(Fwe=sAn([`
  text-transform: none;
  white-space: wrap;
  overflow-wrap: break-word;
  margin: 0;
`])));function aAn(t){let{children:e}=t;return c.jsx(oAn,{children:e})}const lAn=[];function uAn(t){var e,n,r;const{diff:i,block:s,children:o}=t,a=aC(i,lAn),{path:l}=m.useContext(p0),{onSetFocus:u}=m.useContext(xw),d=i.action==="removed";let f=o;const h=m.useCallback(g=>{g.stopPropagation(),d||u(l)},[l,d,u]);s.style==="blockquote"?f=c.jsx(Qkn,{children:f}):s.style&&dkn(s)?f=c.jsx(rAn,{style:s.style,children:f}):f=c.jsx(aAn,{children:f});let p;if(i.origin.action==="changed"&&i.origin.fields.style&&i.origin.fields.style.action==="changed"&&i.origin.fields.style.annotation){p=(n=(e=i==null?void 0:i.origin)==null?void 0:e.fromValue)==null?void 0:n.style;const g=a?{background:a.background,color:a.text}:{};f=c.jsx(ge,{padding:3,border:!0,radius:2,style:{borderStyle:"dotted"},"diff-block-action":i.action,"data-block-note":"changed_from_style_".concat(p||"undefined"),children:c.jsxs(Te,{space:2,children:[c.jsx(Nu,{annotations:[(r=i.origin.fields.style)==null?void 0:r.annotation],diff:i.origin.fields.style,children:c.jsxs(G,{size:0,children:["Changed block style from '",p,"' to '",s.style,"'"]})}),c.jsx(N,{style:g,children:f})]})})}return c.jsx("div",{onClick:h,"data-diff-block-action":i.action,"data-block-note":"changed_from_style_".concat(p||"undefined"),children:f})}var Bwe=Object.freeze,cAn=Object.defineProperty,A$=(t,e)=>Bwe(cAn(t,"raw",{value:Bwe(e||t.slice())})),Nwe,Vwe,Uwe,Hwe;const gE=H(N)(Nwe||(Nwe=A$([`
  &:not([hidden]) {
    display: inline;
    align-items: center;

    &[data-changed] {
      cursor: pointer;
    }
  }
`]))),Jqe=H(G)(Vwe||(Vwe=A$([`
  &:not([hidden]) {
    display: inline;
    color: inherit;
  }
`]))),Wre=H(N)(Uwe||(Uwe=A$([`
  &:not([hidden]) {
    display: inline-flex;
    align-items: center;

    `,` [data-ui="Text"] {
      opacity: 0.5;
    }
  }
`])),gE),eYe=H(N)(Hwe||(Hwe=A$([`
  min-width: 160px;
  max-height: 40vh;
  overflow-y: auto;
`])));var zwe=Object.freeze,dAn=Object.defineProperty,fAn=(t,e)=>zwe(dAn(t,"raw",{value:zwe(e||t.slice())})),Wwe;const QY=H.div(Wwe||(Wwe=fAn([`
  text-decoration: none;
  display: inline;
  position: relative;
  border: 0;
  padding: 0;
  border-bottom: 2px dotted currentColor;
  box-shadow: inset 0 0 0 1px var(--card-border-color);
  white-space: nowrap;
  align-items: center;
  background-color: color(var(--card-fg-color) a(10%));

  &[data-changed] {
    cursor: pointer;
  }

  &[data-removed] {
    text-decoration: line-through;
  }

  &:hover `,` {
    opacity: 1;
  }
`])),Wre);function hAn(t){let{children:e,diff:n,object:r,schemaType:i,path:s,...o}=t;return i?n&&n.action!=="unchanged"?c.jsx(pAn,{...o,diff:n,object:r,schemaType:i,path:s,children:e}):c.jsx(QY,{children:e}):c.jsx(QY,{...o,children:"Unknown schema type"})}function pAn(t){let{diff:e,children:n,object:r,schemaType:i,path:s,...o}=t;const{onSetFocus:a}=m.useContext(xw),{path:l}=m.useContext(p0),[u,d]=m.useState(null),f=aC(e,[]),h=m.useMemo(()=>f?{background:f.background,color:f.text}:{},[f]),p=e.action==="removed",[g,v]=m.useState(!1),y=r&&Zqe(r),x=m.useMemo(()=>[s[0]].concat(["markDefs",{_key:r._key}]),[r._key,s]),b=m.useMemo(()=>l.slice(0,l.findIndex(L=>jo(L)&&L._key===r._key)),[l,r._key]),_=m.useMemo(()=>b.concat(s),[s,b]),C=m.useMemo(()=>b.concat(x),[x,b]),S="field-".concat(Uu(C)),T=fre(),A=m.useMemo(()=>T.filter(L=>{let[P]=L;return P.startsWith(S)}).length>0,[S,T]);m.useEffect(()=>{!g&&A&&(v(!0),a(C))},[A,C,a,g]);const k=m.useCallback(L=>{L.stopPropagation(),v(!0),p||(L.preventDefault(),a(_),setTimeout(()=>a(C),10))},[_,p,C,a]),I=m.useCallback(()=>{A||v(!1)},[A]);ga(I,[u]);const D=e.action!=="unchanged"&&e.annotation||null,R=m.useMemo(()=>D?[D]:[],[D]),O=c.jsx(p0.Provider,{value:{path:C},children:c.jsx(eYe,{padding:3,children:c.jsxs("div",{children:[y&&c.jsxs(jn,{size:1,muted:!0,children:["Empty ",i.title]}),!y&&c.jsx(ZI,{diff:e,schemaType:i})]})})});return c.jsx(QY,{...o,onClick:k,style:h,"data-changed":"","data-removed":e.action==="removed"?"":void 0,children:c.jsx(Ti,{content:O,open:g,ref:d,portal:!0,children:c.jsx(Wre,{paddingLeft:1,children:c.jsx(Nu,{annotations:R,description:"".concat(e.action," annotation"),children:c.jsxs(gE,{style:{display:"inline-flex"},children:[c.jsx("span",{children:n}),c.jsx(ae,{align:"center",paddingX:1,children:c.jsx(Jqe,{size:0,children:c.jsx(_0,{})})})]})})})})})}var Gwe=Object.freeze,mAn=Object.defineProperty,gAn=(t,e)=>Gwe(mAn(t,"raw",{value:Gwe(e||t.slice())})),qwe;const vAn=H.span(qwe||(qwe=gAn([`
  display: inline;
  `,`
`])),t=>{let{theme:e,decoration:n}=t;switch(n){case"strong":return"font-weight: bold;";case"em":return"font-style: italic;";case"underline":return"text-decoration: underline;";case"overline":return"text-decoration: overline;";case"strike-through":return"text-decoration: line-through;";case"code":return`
          font-family: `.concat(e.sanity.fonts.code.family,`;
          background: `).concat(e.sanity.color.muted.default.enabled.bg,`;
        `);default:return""}});function yAn(t){let{mark:e,children:n}=t;return c.jsx(vAn,{decoration:e,children:n})}var Ywe=Object.freeze,bAn=Object.defineProperty,xAn=(t,e)=>Ywe(bAn(t,"raw",{value:Ywe(e||t.slice())})),Kwe;const JY=H(ge)(Kwe||(Kwe=xAn([`
  &:not([hidden]) {
    display: inline;
    cursor: pointer;
    white-space: nowrap;
    align-items: center;

    &[data-removed] {
      text-decoration: line-through;
    }

    `,` {
      display: inline-flex;
    }
  }
`])),gE);function wAn(t){let{diff:e,object:n,schemaType:r,...i}=t;return r?e?c.jsx(_An,{...i,diff:e,object:n,schemaType:r}):c.jsx(JY,{children:c.jsx(Tw,{schemaType:r,value:n,layout:"inline"})}):c.jsxs(JY,{...i,border:!0,radius:1,children:["Unknown schema type: ",n._type]})}function _An(t){let{diff:e,object:n,path:r,schemaType:i,...s}=t;const{path:o}=m.useContext(p0),{onSetFocus:a}=m.useContext(xw),l=aC(e,[]),u=m.useMemo(()=>l?{background:l.background,color:l.text}:{},[l]),[d,f]=m.useState(!1),h=n&&Zqe(n),p=e.action==="removed",v=o.slice(0,o.findIndex(I=>jo(I)&&I._key===n._key)).concat(r),y="field-".concat(Uu(v)),b=fre().filter(I=>{let[D]=I;return D.startsWith(y)}).length>0,_=o.slice(0,-1).concat(r).concat([BPe]);m.useEffect(()=>{b&&(f(!0),a(_))},[_,b,a]);const C=m.useCallback(I=>{if(I.stopPropagation(),f(!0),!p){a(_);return}I.preventDefault()},[_,p,a]),S=m.useCallback(()=>{f(!1)},[]),T=c.jsx(p0.Provider,{value:{path:v},children:c.jsx(CAn,{diff:e,emptyObject:h,onClose:S,schemaType:i})}),A=e.action!=="unchanged"&&e.annotation||null,k=A?[A]:[];return c.jsx(JY,{...s,onClick:C,style:u,"data-removed":e.action==="removed"?"":void 0,border:!0,radius:2,children:c.jsx(Ti,{content:T,open:d,portal:!0,children:c.jsx(Wre,{children:c.jsx(Nu,{annotations:k,description:"".concat(e.action," inline object"),children:c.jsxs(gE,{children:[c.jsx(Tw,{schemaType:i,value:n,layout:"inline"}),c.jsx(ae,{align:"center",paddingX:1,children:c.jsx(Jqe,{size:0,children:c.jsx(_0,{})})})]})})})})})}function CAn(t){let{diff:e,emptyObject:n,onClose:r,schemaType:i}=t;const[s,o]=m.useState(null),a=m.useCallback(()=>{r()},[r]);return ga(a,[s]),c.jsxs(eYe,{ref:o,padding:3,children:[n&&c.jsxs(jn,{size:1,muted:!0,children:["Empty ",i.title]}),!n&&c.jsx(ZI,{diff:e,schemaType:i})]})}function EAn(t){let{diff:e,childDiff:n,children:r,path:i,segment:s,...o}=t;const a=e||n;return a&&a.action!=="unchanged"&&s.action!=="unchanged"?c.jsx(SAn,{...o,childDiff:n,diff:e,segment:s,path:i,children:r}):c.jsx(gE,{children:r})}function SAn(t){let{diff:e,childDiff:n,children:r,path:i,segment:s,...o}=t;const{onSetFocus:a}=re.useContext(xw),{path:l}=re.useContext(p0),u=m.useMemo(()=>i.slice(-2,1)[0],[i]),d=e&&e.action==="removed",h=l.slice(0,l.findIndex(b=>jo(b)&&jo(u)&&b._key===u._key)).concat(i),p=m.useCallback(b=>{b.stopPropagation(),d||(b.preventDefault(),a(h))},[h,d,a]),v=e&&e.segments.find(b=>b.text===s.text)||e||n,y=v&&v.action!=="unchanged"&&v.annotation||null,x=y&&s.action!=="unchanged"?c.jsx(pu,{annotation:y,as:s.action==="removed"?"del":"ins",tooltip:{description:"".concat(yi(s.action)," text")},children:r}):null;return c.jsx(gE,{...o,onClick:p,"data-changed":"",children:c.jsx("span",{children:c.jsx(c.Fragment,{children:x||r})})})}const Gre=mE.map(t=>t[0]),qre=mE.map(t=>t[1]),tL=pE.map(t=>t[0]),eK=pE.map(t=>t[1]),TAn=Gre.concat(tL),tYe=qre.concat(eK),kAn=Gre.concat(qre),AAn=new RegExp("".concat(kAn.concat(tYe).join("|")),"g");function IAn(t){const{diff:e,schemaType:n}=t,r=e.origin.toValue||e.origin.fromValue,i=m.useMemo(()=>e.origin.toValue?Kqe(e.origin):[],[e.origin]),s=m.useCallback(o=>{const a=XY(n.fields,o);let l=[];if(a){l=Ure(a);const u=e.fields.children,d=u.items[0].diff&&u.items[0].diff.type==="object"&&u.items[0].diff.fields.text.type==="string"&&u.items[0].diff.fields.text.segments||[],f=[],h={};if(jAn(r,e)&&(e.origin.action==="added"||e.origin.action==="removed")){const b=gwe(e.origin,r.children[0])||e.origin;if(b&&b.action!=="unchanged")return c.jsx(pu,{annotation:b.annotation,as:b.action==="removed"?"del":"ins",tooltip:{description:"".concat(yi(b.action)," empty text")},children:c.jsx("span",{children:skn})},"empty-block-".concat(r._key))}let p=-1,g=-1;const v=[];let y;const x=Xqe(e.origin);return d.forEach(b=>{var _,C,S;g++;const T=A6.includes(b.text),A=TAn.includes(b.text),k=tYe.includes(b.text),I=b.text===T$,D=b.action==="removed";if(I)D||p++;else if(A||k){if(A&&tL.includes(b.text)){const R=x[tL.indexOf(b.text)];R&&v.push({mark:R._key,symbols:[b.text,eK[tL.indexOf(b.text)]],object:R})}k&&eK.includes(b.text)&&(y=v.pop())}else if(T){const R=A6.findIndex(P=>P===b.text),O=(_=i[R])==null?void 0:_._key,L=i[R];if(O){const P=XY(n.fields,L),$=gwe(e.origin,L);f.push(c.jsx(wAn,{object:L,path:[{_key:r._key},"children",{_key:L._key}],diff:$,schemaType:P},"inline-object-".concat(L._key)))}}else if(b.text){const R=()=>{var B;return(B=e.origin.fromValue)==null?void 0:B.children.find(Q=>Q.text&&Q.text.match(mkn(b.text)))},O=r.children[p]||R(),L=O&&Hre(e.origin,O);if(!O)throw new Error("Could not find child");const P=(C=L==null?void 0:L.fields)!=null&&C.text?(S=L==null?void 0:L.fields)==null?void 0:S.text:void 0,$=c.jsx(EAn,{diff:P,path:[{_key:r._key},"children",{_key:O._key}],childDiff:L,segment:b,children:DAn({diff:e,child:O,decoratorTypes:l,seg:b,segIndex:g,spanSchemaType:a})},"text-".concat(O._key,"-").concat(g));if(v.length>0&&v.forEach(B=>{h[B.mark]=h[B.mark]||[],h[B.mark].push($)}),y){const B="annotation-".concat(y.object._key),Q=f[f.length-1];if(Q&&Q.key!==B){const V=pkn(e.origin,y.mark),Z=y&&a.annotations&&a.annotations.find(ie=>y&&y.object&&ie.name===y.object._type);f.push(c.jsx(hAn,{object:y.object,diff:V,path:[{_key:r._key},"children",{_key:O._key}],schemaType:Z,children:c.jsx(c.Fragment,{children:h[y.mark]})},B))}y=void 0}v.length===0&&f.push($)}}),re.createElement("div",{key:r._key},...f)}throw new Error("'span' schemaType not found")},[r,e,i,n]);return c.jsx(uAn,{block:e.displayValue,diff:e,children:c.jsx(c.Fragment,{children:(e.displayValue.children||[]).map(o=>s(o))})})}function DAn(t){let{diff:e,child:n,decoratorTypes:r,seg:i,segIndex:s,spanSchemaType:o}=t;if(i.text===`
`)return c.jsx("br",{});let a=c.jsx("span",{children:i.text.replace(/ /g,okn)},"text-".concat(s));const l=n&&Hre(e.origin,n),u=lv(n)?n.marks||[]:[];return l&&(a=RAn({activeMarks:u,decoratorTypes:r,diff:e,children:a,seg:i,segIndex:s,spanDiff:l,spanSchemaType:o})),u&&u.length>0&&u.forEach(d=>{Yqe(d,o)&&(a=c.jsx(yAn,{mark:d,children:a},"decorator-".concat(d,"-").concat(n._key,"-").concat(s)))}),a}function RAn(t){let{activeMarks:e,decoratorTypes:n,diff:r,children:i,seg:s,segIndex:o,spanDiff:a,spanSchemaType:l}=t;var u;let d=c.jsx("span",{children:i},"text-segment-".concat(o));const f=r.origin.fromValue&&r.fromValue&&r.fromValue.children[0].text||"",h=a&&a.action!=="unchanged"&&a.annotation||void 0,p=(u=a==null?void 0:a.fields)==null?void 0:u.marks,g=p&&p.action!=="unchanged"&&p.annotation||h;let v=[];const x=f.split(T$).filter(T=>!!T).join(""),b=x.substring(0,x.indexOf(s.text)+s.text.length),_=b.substring(0,b.indexOf(s.text)),C=[];return[..._.matchAll(AAn)].forEach(T=>{var A;const k=T[0],I=mE.concat(pE).find(D=>D.indexOf(k)>-1);if(I){const D=k===I[0],R=((A=n[D?Gre.indexOf(k):qre.indexOf(k)])==null?void 0:A.value)||k;_.lastIndexOf(k)>_.lastIndexOf(I[1])&&C.push(R)}}),v=dhn(e,ha(C)),g&&v.length>0&&v.some(T=>Yqe(T,l))&&(d=c.jsx(pu,{annotation:g,as:"ins",tooltip:{description:"Changed formatting"},children:d},"diffcard-annotation-".concat(o,"-").concat(v.join("-")))),d}function jAn(t,e){return t.children.length===1&&t.children[0]._type==="span"&&typeof t.children[0].text=="string"&&t.children[0].text===""&&e.origin.action!=="unchanged"}const OAn=t=>{const{diff:e,schemaType:n}=t,r=m.useMemo(()=>fkn(e,n),[e,n]);return c.jsx("div",{"data-diff-action":e.action,children:c.jsx(IAn,{diff:r,schemaType:n})})};var Zwe=Object.freeze,LAn=Object.defineProperty,PAn=(t,e)=>Zwe(LAn(t,"raw",{value:Zwe(e||t.slice())})),Xwe;const MAn=H.div(Xwe||(Xwe=PAn([`
  word-wrap: break-word;
`]))),$An=t=>{let{value:e,schemaType:n}=t;return c.jsx(N,{as:MAn,padding:2,children:c.jsx(Tw,{schemaType:n,value:e,layout:"default"})})},FAn=t=>{let{diff:e,schemaType:n}=t;return c.jsx(KI,{align:"center",diff:e,layout:"grid",path:"_ref",previewComponent:$An,schemaType:n})};var Qwe=Object.freeze,BAn=Object.defineProperty,NAn=(t,e)=>Qwe(BAn(t,"raw",{value:Qwe(e||t.slice())})),Jwe;const VAn=H.div(Jwe||(Jwe=NAn([`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`]))),UAn=t=>{const{value:e}=t;return c.jsx(N,{as:VAn,paddingX:2,paddingY:1,children:e})};var e2e=Object.freeze,HAn=Object.defineProperty,zAn=(t,e)=>e2e(HAn(t,"raw",{value:e2e(e||t.slice())})),t2e;const WAn=H.div(t2e||(t2e=zAn([`
  white-space: pre-wrap;
  word-wrap: break-word;
`]))),GAn=t=>{let{diff:e,schemaType:n}=t;const{options:r}=n;return r!=null&&r.list?c.jsx(KI,{diff:e,previewComponent:UAn,schemaType:n}):c.jsx(WAn,{children:c.jsx(H3n,{diff:e})})},n2e={block:OAn,boolean:{component:bkn,showHeader:!1},date:xwe,datetime:xwe,file:Rkn,image:Hkn,number:Ykn,reference:FAn,string:GAn};function nYe(t,e){var n;let r=t;for(;r;){const o=((n=r==null?void 0:r.components)==null?void 0:n.diff)||qAn(r,e)||n2e[r.name];if(o)return o;r=r.type}const s=["date","datetime"].includes(t.name)?t.name:t.jsonType;return n2e[s]}function qAn(t,e){const n=gkn;let r;for(const i of n){if(typeof i!="function"){console.error("Diff component resolver is not a function: ",i);continue}if(r=i({schemaType:t,parentSchemaType:e}),r)return r}}function YAn(t){const e=r2e(t.fromValue),n=r2e(t.toValue);return!e&&n?"Added":!n&&e?"Removed":"Changed"}function rYe(t){return t.type==="field"}function r2e(t){return t!==null&&typeof t<"u"&&t!==""}function Yre(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(!nYe(t,i.parentSchema)){if(t.jsonType==="object"&&e.type==="object")return iYe(t,e,n,r,i);if(t.jsonType==="array"&&e.type==="array")return XAn(t,e,n,r)}return sYe(t,e,n,r,i)}function iYe(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const s=[],o={...i,parentSchema:t},a=t.fieldsets||t.fields.map(l=>({single:!0,field:l}));for(const l of a)l.single?s.push(...KAn(l.field,e,n,r,o)):s.push(...ZAn(l,e,n,r,o));return s.length<2?s:[{type:"group",key:Si(n)||"root",path:n,titlePath:r,changes:Kre(s,r.length),schemaType:t}]}function KAn(t,e,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fieldFilter:s,...o}=i,a=e.fields[t.name];if(!a||!a.isChanged||s&&!s.includes(t.name))return[];const l=n.concat([t.name]),u=r.concat([t.type.title||t.name]);return Yre(t.type,a,l,u,o)}function ZAn(t,e,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fields:s,name:o,title:a,readOnly:l,hidden:u}=t,{fieldFilter:d,...f}=i,h=u,p=l,g=r.concat([a||o]),v=[];for(const y of s){const x=e.fields[y.name];if(!x||!x.isChanged||d&&!d.includes(y.name))continue;const b=n.concat([y.name]),_=g.concat([y.type.title||y.name]);v.push(...Yre({readOnly:p,hidden:h,...y.type},x,b,_,f))}return v.length<2?v:[{type:"group",key:Si(n)||"root",fieldsetName:o,path:n,titlePath:g,changes:Kre(v,g.length),readOnly:p,hidden:h}]}function XAn(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];const i=e.items.filter(l=>l.hasMoved&&l.fromIndex!==l.toIndex||l.diff.action!=="unchanged");if(i.length===0)return[];const s=akn(t),o=[],a=i.reduce((l,u)=>{const d=rkn(u.diff,t),f=d.toType||d.fromType;if(!f)return console.warn("Could not determine schema type for item at %s",Si(n)),l;const h=qY(u.diff.fromValue)||qY(u.diff.toValue)||e.items.indexOf(u),p=n.concat(h),g={itemDiff:u,parentDiff:e,parentSchema:t},v=r.concat({hasMoved:u.hasMoved,toIndex:u.toIndex,fromIndex:u.fromIndex,annotation:u.diff.action==="unchanged"?u.annotation:u.diff.annotation}),y=b=>(b.type==="field"&&Bqe(p,b.path)&&(b.itemDiff=u),b),x=Yre(f,u.diff,p,v,g).map(y);return s&&x.filter(rYe).forEach((b,_,C)=>{b.showHeader=C.length===1,b.showIndex=u.fromIndex!==u.toIndex&&u.hasMoved}),x.length===0?l.push(...sYe(f,u.diff,p,v,g)):l.push(...x),l},o);return a.length>1?[{type:"group",key:Si(n)||"root",path:n,titlePath:r,changes:Kre(a,r.length),schemaType:t}]:a}function sYe(t,e,n,r){let{itemDiff:i,parentDiff:s,parentSchema:o}=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fromValue:a,toValue:l,type:u}=e;if(u==="array"&&i2e(a)&&i2e(l))return[];let d;typeof a<"u"&&(d=ZY(a,t)),!d&&typeof l<"u"&&(d=ZY(l,t));let f=!0,h;const p=nYe(t,o);return p&&typeof p=="function"?h=p:p&&(h=p.component,f=typeof p.showHeader>"u"?f:p.showHeader),[{type:"field",diff:e,path:n,error:d,itemDiff:i,parentDiff:s,titlePath:r,schemaType:t,showHeader:f,showIndex:!0,key:Si(n)||"root",diffComponent:d?void 0:h,parentSchema:o}]}function Kre(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return t.map(n=>(n.titlePath=n.titlePath.slice(e),n))}function i2e(t){return Array.isArray(t)&&t.length===0||t===null||typeof t>"u"}const s2e=t=>t.type==="field"&&t.diff.action==="added",oYe=t=>{if(t.type!=="group")return[t];const e=[];return t.changes.forEach(n=>{e.push(...oYe(n))}),e},aYe=(t,e)=>{if(e.length>=t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},QAn=(t,e)=>{const n=t[e],r=Nqe(n);return r?{_key:r}:Array.isArray(t)?parseInt(e,10):e},JAn={diffMatchPatch:{enabled:!1}};function I$(t,e,n){if(!e)return;const r=[];if(t.type==="group"){const i=oYe(t),s=i.filter(s2e);i.filter(o=>!s2e(o)).forEach(o=>I$(o,e,n)),r.push(...o2e(e,s.map(o=>o.path)))}else t.diff.action==="added"?r.push(...o2e(e,[t.path])):t.type==="field"&&t.itemDiff&&t.parentDiff&&t.parentDiff.type==="array"&&t.itemDiff.hasMoved?r.push(...t3n(t.itemDiff,t.parentDiff,t.path)):r.push(...n3n(t.diff,e,t.path));n.patch.execute(r)}function e3n(t,e,n){const r=t.toValue;return lYe(r,e,n)}function o2e(t,e){const n=[];for(let r=0;r<e.length;r++)n.some(s=>aYe(e[r],s))||n.push(e3n(t,e[r],e));return[{unset:[...new Set(n.map(Si))]}]}function lYe(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;if(e.length<=0){if(!r)throw new Error("Root has no ancestor");return r}const i=e.slice(0,-1),s=Cv(t,i),o=[i,...n.filter(a=>!aYe(a,i))];return uYe(s,i,n)?lYe(t,i,o,r):e}function t3n(t,e,n){const r=n.slice(0,-1),{parentValue:i,fromIndex:s,fromValue:o}=s3n(e,t);let a;if(s===0)a={before:Si([...r,0])};else{const l=s-1,d=qY(i[l])||l;a={after:Si([...r,d])}}return[{unset:[Si(n)]},{insert:{...a,items:[o]}}]}function n3n(t,e,n){const r=i$(t.toValue,t.fromValue,JAn,n),i=r.filter(d=>d.op==="insert").map(d=>{let{after:f,items:h}=d;return{insert:{after:Si(f),items:h}}}),s=r.filter(d=>d.op==="unset").reduce((d,f)=>d.concat(Si(f.path)),[]),o=new Set,a=[];let l=!1;const u=r.filter(d=>d.op==="set").reduce((d,f)=>(l=!0,a.push(...r3n(f.path,e,o)),d[Si(f.path)]=f.value,d),{});return[...a,...i,...s.length>0?[{unset:s}]:[],...l?[{set:u}]:[]]}function r3n(t,e,n){const r=e.fromValue,i=e.toValue,s=[];for(let o=1;o<=t.length;o++){const a=t.slice(0,o),l=Si(a);if(n.has(l))continue;const u=t[o],d=jo(u)||tm(u),f=Cv(r,a),h=a2e(f);if(d&&Array.isArray(f)&&!Cv(i,t.slice(0,o+1))){const p=ITn(f,u),g=f[p-1],v=Cv(r,a.concat(u)),y=hm(g)?{_key:g._key}:p-1,x=Si(a.concat(p<1?0:y));s.push({setIfMissing:{[l]:[]}}),s.push({insert:{after:x,items:[a2e(v)]}}),o++;continue}typeof h>"u"||(n.add(l),s.push({setIfMissing:{[l]:h}}))}return s}function i3n(t,e,n){if(!Jn(t)||!Array.isArray(t))return!1;for(const r in t){if(!Object.prototype.hasOwnProperty.call(t,r)||r==="_type"||r==="_key")continue;const i=[...e,QAn(t,r)];if(!uYe(t[r],i,n))return!1}return!0}function uYe(t,e,n){const r=n==null?void 0:n.some(s=>Si(s)===Si(e)),i=Array.isArray(t)&&t.length<=0;return r||t===void 0||t===null||i||PTn(t)||i3n(t,e,n)}function a2e(t){if(Array.isArray(t))return[];if(typeof t!="object"||t===null)return;const e={};return hm(t)&&(e._key=t._key),LX(t)&&(e._type=t._type),e}function s3n(t,e){if(t.fromValue&&typeof e.fromIndex=="number"){const n=t.fromValue[e.fromIndex];return{parentValue:t.fromValue,fromIndex:e.fromIndex,fromValue:n}}throw new Error("Failed to find item at index ".concat(e.fromIndex))}const o3n=m.createContext(null);function a3n(){const t=m.useContext(o3n);return t&&t.readOnly||null}const $0=!1;var l3n=Object.defineProperty,u3n=(t,e,n)=>e in t?l3n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,c3n=(t,e,n)=>(u3n(t,typeof e!="symbol"?e+"":e,n),n);class d3n extends re.Component{constructor(){super(...arguments),c3n(this,"state",{})}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e){console.error("Error rendering diff component: "),console.error(e)}render(){const{error:e}=this.state;return e?c.jsx(ge,{padding:3,radius:2,tone:"critical",children:c.jsxs(ae,{children:[c.jsx(G,{size:1,children:c.jsx(Yu,{})}),c.jsxs(N,{paddingLeft:3,children:[c.jsx(G,{as:"h3",size:1,weight:"medium",children:"Rendering the changes to this field caused an error"}),$0]})]})}):this.props.children}}const f3n={down:dMe,right:fMe};function Zre(t){const{direction:e="right",...n}=t,r=f3n[e];return c.jsx(G,{muted:!0,size:1,...n,children:m.createElement(r)})}var l2e=Object.freeze,h3n=Object.defineProperty,cYe=(t,e)=>l2e(h3n(t,"raw",{value:l2e(e||t.slice())})),u2e,c2e;const vH=H.pre(u2e||(u2e=cYe([`
  overflow-x: auto;
  position: relative;
`]))),p3n=H.div(c2e||(c2e=cYe([`
  position: absolute;
  top: 0;
  right: 0;
`])));function m3n(t){const{children:e,as:n,change:r,...i}=t,s=m.useRef(!1),[o,a]=m.useState(!1),l=m.useCallback(()=>a(f=>!f),[a]),u=m.useCallback(()=>s.current=!0,[]),d=m.useCallback(()=>s.current=!1,[s]);return m.useEffect(()=>{function f(h){const{metaKey:p,key:g}=h;p&&g==="i"&&s.current&&l()}return window.addEventListener("keydown",f,!1),()=>window.removeEventListener("keydown",f,!1)},[l]),c.jsx(N,{as:n,onMouseEnter:u,onMouseLeave:d,...i,children:o?c.jsx(g3n,{change:r}):e})}const yH=t=>{let{title:e}=t;return c.jsx(N,{padding:3,display:"inline-block",as:p3n,children:c.jsx(jn,{size:1,muted:!0,children:e})})};function g3n(t){let{change:e}=t;var n,r,i;return c.jsxs(Te,{space:3,children:[c.jsxs(ge,{padding:3,tone:"transparent",as:vH,radius:1,children:[c.jsx(yH,{title:"meta"}),c.jsx(qs,{language:"json",size:1,children:v3n({path:Si(e.path),fromIndex:(n=e.itemDiff)==null?void 0:n.fromIndex,toIndex:(r=e.itemDiff)==null?void 0:r.toIndex,hasMoved:(i=e.itemDiff)==null?void 0:i.hasMoved,action:e.diff.action,isChanged:e.diff.isChanged})})]}),c.jsxs(ge,{as:vH,tone:"critical",padding:3,radius:1,children:[c.jsx(yH,{title:"from"}),c.jsx(qs,{language:"json",size:1,children:d2e(e.diff.fromValue)})]}),c.jsx(ge,{children:c.jsx(Zre,{direction:"down",align:"center"})}),c.jsxs(ge,{as:vH,tone:"positive",padding:3,radius:1,children:[c.jsx(yH,{title:"to"}),c.jsx(qs,{language:"json",size:1,children:d2e(e.diff.toValue)})]})]})}function d2e(t){return typeof t>"u"?"undefined":JSON.stringify(t,null,2)}function v3n(t){const e=[];return Object.entries(t).forEach(n=>{let[r,i]=n;typeof i<"u"&&i!==null&&e.push("".concat(r,": ").concat(i))}),e.join(`
`)}const y3n={flexShrink:0},b3n={alignItems:"stretch"},f2e={top:"flex-start",center:"center",bottom:"flex-end",default:"flex-start"},Xre=m.forwardRef(function(e,n){const{align:r="top",layout:i="inline",from:s,to:o,style:a,...l}=e,u=Zu(),d=i==="inline"?ae:Er,f=m.useMemo(()=>({...a,...i==="inline"?{maxWidth:"100%",display:"inline-flex"}:{gridTemplateColumns:"minmax(0, 1fr) ".concat(Xe(u.sanity.space[5])," minmax(0, 1fr)")}}),[i,a,u]),h=i==="inline"?y3n:b3n;return c.jsxs(d,{...l,ref:n,style:f,"data-from-to-layout":!0,children:[s&&c.jsxs(c.Fragment,{children:[c.jsx(ae,{align:f2e[r],style:h,children:s}),c.jsx(ae,{align:"center",justify:"center",padding:2,children:c.jsx(Zre,{})})]}),c.jsx(ae,{align:f2e[r],style:h,children:o})]})}),bH={flex:1,minWidth:0,display:"block",whiteSpace:"break-spaces"};function KI(t){const{align:e,cardClassName:n,diff:r,layout:i,path:s,previewComponent:o,schemaType:a}=t,{action:l}=r,u=YAn(r);if(l==="unchanged")return c.jsx(pu,{className:n,style:bH,children:m.createElement(o,{schemaType:a,value:r.toValue})});const d=r.fromValue!==void 0&&r.fromValue!==null&&c.jsx(pu,{as:"del",className:n,diff:r,path:s,style:bH,children:m.createElement(o,{schemaType:a,value:r.fromValue})}),f=r.toValue!==void 0&&r.toValue!==null&&c.jsx(pu,{as:"ins",className:n,diff:r,path:s,style:bH,children:m.createElement(o,{schemaType:a,value:r.toValue})});return d&&!f?c.jsx(Nu,{description:u,diff:r,path:s,children:d}):!d&&f?c.jsx(Nu,{description:u,diff:r,path:s,children:f}):c.jsx(Nu,{description:u,diff:r,path:s,children:c.jsx(Xre,{align:e,from:d,layout:i,to:f})})}const x3n=t=>{let{value:e,schemaType:n}=t;return c.jsx(N,{padding:2,children:c.jsx(Tw,{schemaType:n,value:e,layout:"default"})})},w3n=t=>{const{diff:e,schemaType:n}=t;return c.jsx(KI,{diff:e,schemaType:n,previewComponent:x3n,layout:"grid"})};var h2e=Object.freeze,_3n=Object.defineProperty,C3n=(t,e)=>h2e(_3n(t,"raw",{value:h2e(e||t.slice())})),p2e;const E3n=H(Ce)(p2e||(p2e=C3n([`
  [data-ui='Text'] {
    font-weight: normal;
  }

  div[data-ui='Box'] {
    display: none;
  }

  &:not([data-disabled='true']):hover,
  &:not([data-disabled='true']):focus {
    --card-fg-color: `,`;
    --card-bg-color: transparent;
    --card-border-color: transparent;

    div[data-ui='Box'] {
      display: block;
    }
  }
`])),t=>{let{theme:e}=t;return e.sanity.color.solid.critical.enabled.bg}),dYe=m.forwardRef(function(e,n){const{selected:r,...i}=e;return c.jsx(E3n,{icon:g7,selected:r,text:"Revert changes",mode:"bleed",padding:1,fontSize:1,space:2,ref:n,...i})});function S3n(t){let{error:e}=t;return c.jsx(ge,{tone:"critical",padding:3,children:c.jsxs(ae,{align:"flex-start",children:[c.jsx(N,{children:c.jsx(G,{children:c.jsx(Yu,{})})}),c.jsx(N,{flex:1,paddingLeft:3,children:c.jsxs(G,{size:1,as:"p",children:["Value error: ",e.message]})})]})})}var m2e=Object.freeze,T3n=Object.defineProperty,Qre=(t,e)=>m2e(T3n(t,"raw",{value:m2e(e||t.slice())})),g2e,v2e,y2e;const k3n=H.div(g2e||(g2e=Qre([`
  --field-change-error: `,`;
  &[data-revert-all-changes-hover] [data-revert-all-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),t=>{let{theme:e}=t;return e.sanity.color.solid.critical.enabled.bg}),A3n=H.div(v2e||(v2e=Qre([`
  --field-change-error: `,`;
  --diff-inspect-padding-xsmall: `,`;
  --diff-inspect-padding-small: `,`;

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) 0 var(--diff-inspect-padding-xsmall)
    var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-field-hover]:hover::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),t=>{let{theme:e}=t;return e.sanity.color.solid.critical.enabled.bg},t=>{let{theme:e}=t;return Xe(e.sanity.space[1])},t=>{let{theme:e}=t;return Xe(e.sanity.space[2])}),I3n=H(Ti)(y2e||(y2e=Qre([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function D3n(t){var e,n;const{change:r,hidden:i,readOnly:s}=t,o=(e=a3n())!=null?e:s,a=r.diffComponent||w3n,{documentId:l,schemaType:u,rootDiff:d,isComparingCurrent:f,FieldWrapper:h=re.Fragment}=k$(),p=Mm(l,u.name),[g,v]=m.useState(!1),[y,x]=m.useState(!1),[b,_]=m.useState(null),[C,S]=Ty({id:l,type:u.name,permission:"update"}),T=m.useCallback(()=>{I$(r,d,p)},[r,d,p]),A=m.useCallback(()=>{v(!0)},[]),k=re.useCallback(()=>{v(!1)},[]),I=m.useCallback(()=>{x(!0)},[]),D=m.useCallback(()=>{x(!1)},[]),R=m.useCallback(()=>v(!1),[]);ga(R,[b]);const L=((n=r.parentSchema)==null?void 0:n.jsonType)==="array"?r.path.slice(0,-1):r.path;return m.useMemo(()=>i?null:c.jsxs(Te,{space:1,as:k3n,children:[r.showHeader&&c.jsx(zqe,{change:r,titlePath:r.titlePath}),c.jsx(h,{path:L,hasHover:y,children:c.jsxs(m3n,{change:r,as:A3n,"data-revert-field-hover":y?"":void 0,"data-error":r.error?"":void 0,"data-revert-all-hover":!0,children:[r.error?c.jsx(S3n,{error:r.error}):c.jsx(d3n,{children:c.jsx(p0.Provider,{value:{path:r.path},children:c.jsx(a,{diff:r.diff,schemaType:r.schemaType})})}),f&&!S&&(C==null?void 0:C.granted)&&c.jsx(I3n,{content:c.jsxs(N,{padding:3,sizing:"border",children:["Are you sure you want to revert the changes?",c.jsxs(Er,{columns:2,gap:2,marginTop:2,children:[c.jsx(Ce,{mode:"ghost",onClick:k,children:c.jsx(G,{align:"center",children:"Cancel"})}),c.jsx(Ce,{tone:"critical",onClick:T,children:c.jsx(G,{align:"center",children:"Revert change"})})]})]}),open:g,portal:!0,placement:"left",ref:_,children:c.jsx(N,{flex:1,children:c.jsx(dYe,{onClick:A,onMouseEnter:I,onMouseLeave:D,selected:g,disabled:o,"data-testid":"single-change-revert-button-".concat(r==null?void 0:r.key)})})})]})})]}),[r,k,o,g,a,h,i,I,D,T,A,f,S,C,y,L])}function R3n(){const t=m.useRef(null),[e,n]=m.useState(!1);return m.useEffect(()=>{const r=t.current;if(!r)return()=>{};const i=()=>n(!0),s=()=>n(!1);return r.addEventListener("mouseover",i),r.addEventListener("mouseout",s),()=>{r.removeEventListener("mouseover",i),r.removeEventListener("mouseout",s)}},[]),[t,e]}var b2e=Object.freeze,j3n=Object.defineProperty,Jre=(t,e)=>b2e(j3n(t,"raw",{value:b2e(e||t.slice())})),x2e,w2e,_2e;const O3n=H.div(x2e||(x2e=Jre([`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`]))),L3n=H.div(w2e||(w2e=Jre([`
  --field-change-error: `,`;
  --diff-inspect-padding-xsmall: `,`;
  --diff-inspect-padding-small: `,`;

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-group-hover]:hover::before,
  &[data-revert-all-groups-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),t=>{let{theme:e}=t;return e.sanity.color.solid.critical.enabled.bg},t=>{let{theme:e}=t;return Xe(e.sanity.space[1])},t=>{let{theme:e}=t;return Xe(e.sanity.space[2])}),P3n=H(Ti)(_2e||(_2e=Jre([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function M3n(t){const{change:e,readOnly:n,hidden:r,...i}=t,{titlePath:s,changes:o,path:a}=e,{path:l}=m.useContext(p0),{documentId:u,schemaType:d,FieldWrapper:f,rootDiff:h,isComparingCurrent:p}=k$(),g=o.every(L=>rYe(L)&&qqe(L.schemaType)),v=Bqe(l,a),[y,x]=R3n(),b=Mm(u,d.name),[_,C]=m.useState(!1),[S,T]=m.useState(null),[A,k]=Ty({id:u,type:d.name,permission:"update"}),I=m.useCallback(()=>I$(e,h,b),[e,h,b]),D=m.useCallback(()=>{C(!0)},[]),R=m.useCallback(()=>{C(!1)},[]);ga(()=>C(!1),[S]);const O=m.useMemo(()=>r?null:c.jsxs(Te,{space:1,as:L3n,"data-revert-group-hover":x?"":void 0,"data-portable-text":g?"":void 0,children:[c.jsx(Te,{as:O3n,space:5,children:o.map(L=>c.jsx(fYe,{change:L,readOnly:n,hidden:r},L.key))}),p&&!k&&(A==null?void 0:A.granted)&&c.jsx(P3n,{content:c.jsxs(N,{children:["Are you sure you want to revert the changes?",c.jsxs(Er,{columns:2,gap:2,marginTop:2,children:[c.jsx(Ce,{mode:"ghost",onClick:R,children:c.jsx(G,{align:"center",children:"Cancel"})}),c.jsx(Ce,{tone:"critical",onClick:I,children:c.jsx(G,{align:"center",children:"Revert change"})})]})]}),portal:!0,padding:4,placement:"left",open:_,ref:T,children:c.jsx(N,{children:c.jsx(dYe,{onClick:D,ref:y,selected:_,disabled:n,"data-testid":"group-change-revert-button-".concat(e.fieldsetName)})})})]}),[o,R,_,n,e.fieldsetName,I,D,r,p,x,k,g,A,y]);return r?null:c.jsxs(Te,{space:1,...i,children:[c.jsx(zqe,{titlePath:s}),v||!f?O:c.jsx(f,{hasHover:x,path:e.path,children:O})]})}function fYe(t){var e,n;const{change:r,hidden:i,readOnly:s}=t,{value:o}=k$(),a=KY({document:o,checkProperty:i||((e=r.schemaType)==null?void 0:e.hidden),checkPropertyKey:"hidden",value:r.type==="field"?r.diff.toValue:void 0}),l=KY({document:o,checkProperty:s||((n=r.schemaType)==null?void 0:n.readOnly),checkPropertyKey:"readOnly",value:r.type==="field"?r.diff.toValue:void 0});return a?null:r.type==="field"?c.jsx(D3n,{change:r,readOnly:l}):r.type==="group"?c.jsx(M3n,{change:r,"data-testid":"group-change-".concat(r.fieldsetName),readOnly:l}):c.jsxs(G,{children:["Unknown change type: ",c.jsx("code",{children:r.type||"undefined"})]})}function tK(){return c.jsxs(Te,{space:3,children:[c.jsx(G,{size:1,weight:"semibold",as:"h3",children:"There are no changes"}),c.jsx(G,{as:"p",size:1,muted:!0,children:"Edit the document or select an older version in the timeline to see a list of changes appear in this panel."})]})}var C2e=Object.freeze,$3n=Object.defineProperty,hYe=(t,e)=>C2e($3n(t,"raw",{value:C2e(e||t.slice())})),E2e,S2e;const F3n=H.div(E2e||(E2e=hYe([`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`]))),B3n=H(Ti)(S2e||(S2e=hYe([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function ZI(t){let{diff:e,fields:n,schemaType:r}=t;const{documentId:i,isComparingCurrent:s,value:o}=k$(),a=Mm(i,r.name),{path:l}=m.useContext(p0),u=l.length===0,[d,f]=m.useState(!1),[h,p]=m.useState(!1),g=KY({document:o,value:void 0,checkProperty:r.readOnly,checkPropertyKey:"readOnly"});if(r.jsonType!=="object")throw new Error("Only object schema types are allowed in ChangeList");const[v,y]=Ty({id:i,type:r.name,permission:"update"}),x=m.useMemo(()=>iYe(r,e,l,[],{fieldFilter:n}),[r,n,l,e]),b=m.useMemo(()=>n&&n.length===0?[]:N3n(x),[x,n]),_=x[0],C=m.useCallback(()=>{I$(_,e,a),f(!1)},[_,e,a]),S=m.useCallback(()=>{f(!0)},[]),T=m.useCallback(()=>{p(!0)},[]),A=m.useCallback(()=>{p(!1)},[]),k=m.useCallback(()=>{f(!1)},[]),[I,D]=m.useState(null),R=m.useCallback(()=>f(!1),[]);if(ga(R,[I]),b.length===0)return u?c.jsx(tK,{}):null;const O=u&&b.length>1;return c.jsx(ge,{children:c.jsxs(Te,{space:5,children:[c.jsx(Te,{as:F3n,space:5,children:b.map(L=>c.jsx("div",{children:c.jsx(fYe,{change:L,"data-revert-all-changes-hover":h?"":void 0,readOnly:g||(L==null?void 0:L.readOnly),hidden:L==null?void 0:L.hidden},L.key)},L.key))}),O&&s&&!y&&(v==null?void 0:v.granted)&&c.jsx(B3n,{content:c.jsxs(N,{children:["Are you sure you want to revert all ",b.length," changes?",c.jsxs(Er,{columns:2,gap:2,marginTop:2,children:[c.jsx(Ce,{mode:"ghost",text:"Cancel",onClick:k}),c.jsx(Ce,{tone:"critical",text:"Revert all",onClick:C})]})]}),open:d,padding:4,placement:"left",portal:!0,ref:D,children:c.jsx(Te,{children:c.jsx(Ce,{tone:"critical",mode:"ghost",text:"Revert all changes",icon:g7,onClick:S,onMouseEnter:T,onMouseLeave:A,disabled:g})})})]})})}function N3n(t){return t.length===1&&t[0].type==="group"&&t[0].path.length===0?t[0].changes:t}var T2e=Object.freeze,V3n=Object.defineProperty,pYe=(t,e)=>T2e(V3n(t,"raw",{value:T2e(e||t.slice())})),k2e,A2e;const I2e=H.span(k2e||(k2e=pYe([`
  border-radius: `,`;
`])),t=>{let{theme:e}=t;return Xe(e.sanity.radius[1])}),D2e=H(G)(A2e||(A2e=pYe([`
  &:not([hidden]) {
    display: inline;
    line-height: calc(1.25em + 2px);
  }

  &:hover {
    background-color: none !important;
    background-image: linear-gradient(
      to bottom,
      var(--card-bg-color) 0,
      var(--card-bg-color) 33.333%,
      currentColor 33.333%,
      currentColor 100%
    );
    background-size: 1px 3px;
    background-repeat: repeat-x;
    background-position-y: bottom;
    padding-bottom: 3px;
    box-shadow: 0 0 0 1px var(--card-bg-color);
    z-index: 1;
  }
`])));function U3n(t){const{segment:e}=t,{text:n}=e;return e.action==="added"?c.jsx(pu,{annotation:e.annotation,disableHoverEffect:!0,tooltip:{description:"Added"},as:I2e,children:c.jsx(D2e,{as:"ins",style:{textDecoration:"none"},children:n})}):e.action==="removed"?c.jsx(pu,{annotation:e.annotation,as:I2e,disableHoverEffect:!0,tooltip:{description:"Removed"},children:c.jsx(D2e,{as:"del",children:n})}):c.jsx(ge,{as:"span",radius:2,style:{display:"inline"},children:n})}function H3n(t){const{diff:e}=t;return c.jsx(c.Fragment,{children:(e.segments||[]).map((n,r)=>c.jsx(U3n,{segment:n},r))})}var R2e=Object.freeze,z3n=Object.defineProperty,W3n=(t,e)=>R2e(z3n(t,"raw",{value:R2e(e||t.slice())})),j2e;const xH=H(G)(j2e||(j2e=W3n([`
  color: inherit;
`])));function nK(t){const{title:e,action:n,icon:r,children:i,markRemoved:s}=t;return c.jsxs(ae,{padding:2,align:"center",children:[r&&c.jsx(N,{padding:2,children:c.jsx(xH,{size:4,forwardedAs:s?"del":"div",children:m.createElement(r)})}),c.jsxs(Te,{space:2,paddingLeft:2,children:[c.jsx(xH,{size:1,weight:"semibold",forwardedAs:s?"del":"h3",textOverflow:"ellipsis",children:e}),n&&c.jsx("div",{children:n}),c.jsx(xH,{size:0,textOverflow:"ellipsis",children:i})]})]})}var O2e=Object.freeze,G3n=Object.defineProperty,q3n=(t,e)=>O2e(G3n(t,"raw",{value:O2e(e||t.slice())})),L2e;H.div(L2e||(L2e=q3n([`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`])));const mYe=m.createContext({hoveredStack:[],onMouseEnter:()=>{},onMouseLeave:()=>{}});function P2e(){return m.useContext(mYe)}function XI(t){const{actions:e,children:n,path:r}=t,{onMouseEnter:i,onMouseLeave:s}=P2e(),o=P2e().hoveredStack[0],a=h0||(o?Si(r)===o:!1),l=m.useCallback(()=>{i(r)},[i,r]),u=m.useCallback(()=>{s(r)},[s,r]),d=m.useMemo(()=>({actions:e,hovered:a,onMouseEnter:l,onMouseLeave:u}),[e,l,u,a]);return c.jsx(Lqe.Provider,{value:d,children:n})}function Y3n(t){const{children:e}=t,[n,r]=m.useState([]),i=m.useCallback(a=>{const l=Si(a);r(u=>u.includes(l)?u:[l,...u])},[]),s=m.useCallback(a=>{const l=Si(a);r(u=>u.includes(l)?u.filter(d=>d!==l):u)},[]),o=m.useMemo(()=>({hoveredStack:n,onMouseEnter:i,onMouseLeave:s}),[i,s,n]);return c.jsx(mYe.Provider,{value:o,children:e})}const K3n={publish:()=>{},subscribe:()=>(console.warn("No patch channel provided to form-builder. If you need input based patch updates, please provide one"),()=>{})};function Z3n(t){const{__internal_fieldActions:e=vs,__internal_patchChannel:n=K3n,autoFocus:r,changesOpen:i,children:s,collapsedFieldSets:o,collapsedPaths:a,file:l,filterField:u,focusPath:d,focused:f,groups:h,id:p,image:g,members:v,onChange:y,onFieldGroupSelect:x,onPathBlur:b,onPathFocus:_,onPathOpen:C,onSetFieldSetCollapsed:S,onSetPathCollapsed:T,presence:A,readOnly:k,renderAnnotation:I,renderBlock:D,renderField:R,renderInlineBlock:O,renderInput:L,renderItem:P,renderPreview:$,schemaType:B,unstable:Q,validation:V,value:Z}=t,ie=m.useRef(Z);m.useEffect(()=>{ie.current=Z},[Z]);const J=m.useMemo(()=>({patchChannel:n,components:{ArrayFunctions:Mre,CustomMarkers:(Q==null?void 0:Q.CustomMarkers)||aTn,Markers:(Q==null?void 0:Q.Markers)||Rqe},field:{actions:e},file:{assetSources:l.assetSources,directUploads:(l==null?void 0:l.directUploads)!==!1},filterField:u||(()=>!0),image:{assetSources:g.assetSources,directUploads:(g==null?void 0:g.directUploads)!==!1},getDocument:()=>ie.current,onChange:y}),[e,l.assetSources,l==null?void 0:l.directUploads,u,g.assetSources,g==null?void 0:g.directUploads,y,n,Q==null?void 0:Q.CustomMarkers,Q==null?void 0:Q.Markers]),X=m.useMemo(()=>({__internal:J,autoFocus:r,changesOpen:i,collapsedFieldSets:o,collapsedPaths:a,focusPath:d,focused:f,groups:h,id:p,members:v,readOnly:k,renderAnnotation:I,renderBlock:D,renderField:R,renderInlineBlock:O,renderInput:L,renderItem:P,renderPreview:$,schemaType:B,value:Z}),[J,r,i,o,a,Z,d,f,h,p,v,k,I,D,R,O,L,P,$,B]);return c.jsx(Dqe.Provider,{value:X,children:c.jsx(WI,{onChange:y,onFieldGroupSelect:x,onPathBlur:b,onPathFocus:_,onPathOpen:C,onSetPathCollapsed:T,onSetFieldSetCollapsed:S,children:c.jsx(lTn,{presence:A,children:c.jsx(cTn,{validation:V,children:c.jsx(Y3n,{children:s})})})})})}function X3n(t){const{__internal_fieldActions:e,__internal_patchChannel:n,autoFocus:r,changesOpen:i,children:s,collapsedFieldSets:o,collapsedPaths:a,focusPath:l,focused:u,groups:d,id:f,members:h,onChange:p,onPathBlur:g,onPathFocus:v,onPathOpen:y,onFieldGroupSelect:x,onSetPathCollapsed:b,onSetFieldSetCollapsed:_,presence:C,readOnly:S,schemaType:T,validation:A,value:k}=t,{file:I,image:D}=Zs().form,R=z9n(),O=W9n(),L=pZe(),P=G9n(),$=q9n(),B=Y9n(),Q=K9n(),V=m.useCallback(te=>c.jsx(R,{...te}),[R]),Z=m.useCallback(te=>c.jsx(O,{...te}),[O]),ie=m.useCallback(te=>c.jsx(P,{...te}),[P]),J=m.useCallback(te=>c.jsx(_qe,{component:L,...te}),[L]),X=m.useCallback(te=>c.jsx($,{...te}),[$]),fe=m.useCallback(te=>c.jsx(B,{...te}),[B]),ue=m.useCallback(te=>c.jsx(Q,{...te}),[Q]);return c.jsx(Z3n,{__internal_fieldActions:e,__internal_patchChannel:n,autoFocus:r,changesOpen:i,collapsedFieldSets:o,collapsedPaths:a,file:I,focusPath:l,focused:u,groups:d,id:f,image:D,members:h,onChange:p,onPathBlur:g,onPathFocus:v,onPathOpen:y,onFieldGroupSelect:x,onSetPathCollapsed:b,onSetFieldSetCollapsed:_,presence:C,readOnly:S,renderAnnotation:ue,renderBlock:X,renderField:Z,renderInlineBlock:fe,renderInput:V,renderItem:ie,renderPreview:J,schemaType:T,validation:A,value:k,children:s})}function aEr(t){const{__internal_fieldActions:e,__internal_patchChannel:n,autoFocus:r,changesOpen:i,collapsedFieldSets:s,collapsedPaths:o,focusPath:a,focused:l,groups:u,id:d,members:f,onChange:h,onPathBlur:p,onPathFocus:g,onPathOpen:v,onFieldGroupSelect:y,onSetFieldSetCollapsed:x,onSetPathCollapsed:b,presence:_,readOnly:C,schemaType:S,validation:T,value:A}=t;return c.jsx(X3n,{__internal_fieldActions:e,__internal_patchChannel:n,autoFocus:r,changesOpen:i,collapsedFieldSets:s,collapsedPaths:o,focusPath:a,focused:l,groups:u,id:d,members:f,onChange:h,onPathBlur:p,onPathFocus:g,onPathOpen:v,onFieldGroupSelect:y,onSetPathCollapsed:b,onSetFieldSetCollapsed:x,presence:_,validation:T,readOnly:C,schemaType:S,value:A,children:c.jsx(Q3n,{})})}function Q3n(){const{focusPath:t,focused:e,groups:n,id:r,members:i,readOnly:s,renderAnnotation:o,renderBlock:a,renderField:l,renderInlineBlock:u,renderInput:d,renderItem:f,renderPreview:h,schemaType:p,value:g}=Ml(),{onChange:v,onFieldGroupSelect:y,onPathBlur:x,onPathFocus:b,onPathOpen:_,onSetFieldSetCollapsed:C,onSetPathCollapsed:S}=Pd(),T=m.useCallback(V=>S([V],!0),[S]),A=m.useCallback(V=>S([V],!1),[S]),k=m.useCallback(()=>x(vs),[x]),I=m.useCallback(()=>b(vs),[b]),D=m.useCallback(V=>v(bn.from(V)),[v]),R=m.useRef(null),O=m.useCallback(V=>y(vs,V),[y]),L=m.useCallback(V=>_([V]),[_]),P=m.useCallback(()=>_([]),[_]),$=m.useCallback(V=>C([V],!0),[C]),B=m.useCallback(V=>C([V],!1),[C]),Q={focusPath:t,elementProps:{ref:R,id:r,onBlur:k,onFocus:I},changed:i.some(V=>V.kind==="field"&&V.field.changed),focused:e,groups:n,id:r,level:0,members:i,onChange:D,onFieldClose:P,onFieldCollapse:T,onFieldSetCollapse:$,onFieldExpand:A,onFieldSetExpand:B,onPathFocus:b,onFieldOpen:L,onFieldGroupSelect:O,path:vs,presence:vs,readOnly:s,renderAnnotation:o,renderBlock:a,renderField:l,renderInlineBlock:u,renderInput:d,renderItem:f,renderPreview:h,schemaType:p,validation:vs,value:g};return c.jsx(c.Fragment,{children:d(Q)})}const gYe=m.createContext({});function vYe(){return m.useContext(gYe)}function lEr(t){const{children:e,activePath:n,EditReferenceLinkComponent:r,onEditReference:i,initialValueTemplateItems:s}=t,o=m.useMemo(()=>({activePath:n,EditReferenceLinkComponent:r,onEditReference:i,initialValueTemplateItems:s}),[n,r,i,s]);return c.jsx(gYe.Provider,{value:o,children:e})}m.createContext(null);function D$(t,e){return qc(e,m.useCallback((n,r)=>{t.current&&!n&&r&&WA(t.current,{scrollMode:"always"})},[t]))}function J3n(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const e=new Uint8Array(t);return Jte(e),e}const eIn=(()=>{let t;return()=>{if(t)return t;t=[];for(let e=0;e<256;++e)t[e]=(e+256).toString(16).substring(1);return t}})();function o3(t){const e=eIn();return J3n(t).reduce((n,r)=>n+e[r],"").slice(0,t)}var M2e=Object.freeze,tIn=Object.defineProperty,yYe=(t,e)=>M2e(tIn(t,"raw",{value:M2e(e||t.slice())})),$2e,F2e;const nIn={portal:!0},rIn=H(ge)(t=>{let{theme:e,$selected:n}=t;var r;const{color:i}=e.sanity;return qe($2e||($2e=yYe([`
    --card-bg-color: inherit;
    --card-fg-color: inherit;
    --card-hairline-hard-color: `,`;
  `])),n?(r=i.selectable)==null?void 0:r.default.pressed.border:void 0)}),iIn=H(N)(F2e||(F2e=yYe([`
  max-width: 150px;
`]))),B2e=t=>{if(t.length===1)return"".concat(t[0].user.displayName," is editing this document");if(t.length>1)return"".concat(t.length," people are editing this document right now")};function R$(t){const{presence:e}=t,{color:n}=uMe().sanity,r=n.dark?"light":"dark",{selected:i}=w5n(),s=m.useMemo(()=>Array.from(new Set(e.map(a=>a.user.id))).map(a=>e.find(l=>l.user.id===a)).filter(ma),[e]),o=m.useMemo(()=>c.jsx(iIn,{padding:2,children:c.jsx(G,{align:"center",size:1,children:B2e(s)})}),[s]);return c.jsx(Mn,{content:o,...nIn,children:c.jsx(rIn,{scheme:i?r:void 0,$selected:i,children:c.jsx(X7,{maxLength:2,"aria-label":B2e(s),children:s.map(a=>c.jsx($f,{user:a.user},a.user.id))})})})}const sIn=3,bYe=3,lC=-4,a3=23,N2e=4,oIn=[0,.25,.75,1],W4=23,aIn=8,lIn=8,xYe=20,wYe=20,wH=!1,uIn=(t,e)=>{const n=t.length>e?e-1:e,r=Math.max(0,t.length-n);return[t.slice(0,r),t.slice(r)]};var V2e=Object.freeze,cIn=Object.defineProperty,_Ye=(t,e)=>V2e(cIn(t,"raw",{value:V2e(e||t.slice())})),U2e,H2e;const CYe=H(ae)(U2e||(U2e=_Ye([`
  & > div:first-child {
    flex: 1;
    min-width: 0;
  }
`]))),dIn=H(ae)(H2e||(H2e=_Ye([`
  height: 23px;
  min-width: 23px;
  vertical-align: top;
`]))),fIn=re.createContext([]);function hIn(t){const{children:e,items:n}=t,r=m.useMemo(()=>c.jsx(Te,{padding:1,children:n.map(i=>c.jsxs(ae,{align:"center",gap:2,padding:1,children:[c.jsx("div",{children:c.jsx($f,{user:i.user,status:"online"})}),c.jsx(G,{size:1,children:i.user.displayName})]},i.user.id))}),[n]);return c.jsx(Mn,{content:r,placement:"top",portal:"documentScrollElement",children:e})}const{Tracker:pIn,useReporter:mIn,useReportedValues:gIn}=WGe();function z2e(t){return-lC+(a3+lC)*t}const EYe=m.memo(function(e){let{presence:n,position:r="inside",animateArrowFrom:i="inside",maxAvatars:s=bYe,stack:o=!0}=e;const a=Wv(n||[],g=>g.user.id),l=XC(a,g=>g.lastActiveAt),[u,d]=o?uIn(l,s):[[],l],f=[...d.reverse().map(g=>({key:g.user.id,element:c.jsx($f,{animateArrowFrom:i,position:r,status:"online",user:g.user})})),u.length>=2?{key:"counter",element:c.jsx(zG,{count:u.length})}:null].filter(Boolean),h=z2e(s),p=Math.min(z2e(a.length),h);return c.jsxs(CYe,{justify:"flex-end",style:{width:h},children:[c.jsx("div",{}),c.jsx(hIn,{items:a,children:c.jsx(dIn,{direction:"row-reverse",style:{width:p},children:f.map((g,v)=>g&&c.jsx("div",{style:{position:"absolute",transform:"translate3d(".concat(-v*(a3+lC),"px, 0px, 0px)"),transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)",zIndex:100-v},children:g.element},g.key))})})]})});function vIn(t){const e=m.useContext(fIn),{presence:n=e,maxAvatars:r=bYe}=t,i=re.useRef(null);mIn(m.useId(),()=>({presence:n,element:i.current,maxAvatars:r}));const s=-lC+(a3+lC)*t.maxAvatars;return c.jsx(CYe,{justify:"flex-end",ref:i,style:{minWidth:s,minHeight:a3}})}const vE=vIn,yIn=t=>{const e=new Pi,n=new IntersectionObserver(r=>{r.forEach(i=>{e.next(i)})},t);return{observe:r=>new On(i=>{const s=e.pipe(dt(o=>o.target===r)).subscribe(i);return n.observe(r),()=>{s.unsubscribe(),n.unobserve(r)}})}},eie=t=>{const{onIntersection:e,io:n,id:r,...i}=t,s=re.useRef(null);return re.useEffect(()=>{const o=s.current;if(!o)return;const a=n.observe(o).pipe(Ei(l=>e(r,l))).subscribe();return()=>a.unsubscribe()},[n,r,e]),c.jsx("div",{ref:s,...i})};var W2e=Object.freeze,bIn=Object.defineProperty,Yx=(t,e)=>W2e(bIn(t,"raw",{value:W2e(e||t.slice())})),G2e,q2e,Y2e,K2e,Z2e,X2e,Q2e;const xIn=H.div(G2e||(G2e=Yx([`
  position: relative;
`]))),wIn=H.div(q2e||(q2e=Yx([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 13;
`]))),tie=qe(Y2e||(Y2e=Yx([`
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: absolute;
`]))),_In=H(eie)(t=>{let{$debug:e,margins:n}=t;return qe(K2e||(K2e=Yx([`
    `,`

    z-index: 100;
    position: sticky;
    height: 1px;
    top: `,`;
    background-color: `,`;
  `])),tie,n?"".concat(n[0]-1,"px"):void 0,e?"red":"none")}),CIn=H(eie)(t=>{let{$debug:e}=t;return qe(X2e||(X2e=Yx([`
    `,`

    visibility: none;

    `,`
  `])),tie,e&&qe(Z2e||(Z2e=Yx([`
      background: rgba(255, 0, 0, 0.25);
      outline: 1px solid #00b;
      visibility: visible;
    `]))))}),EIn=H(eie)(t=>{let{$debug:e}=t;return qe(Q2e||(Q2e=Yx([`
    `,`

    position: sticky;
    bottom: -1px;
    height: 1px;
    background-color: `,`;
  `])),tie,e?"blue":"transparent")}),SIn=t=>"".concat(t,"px"),TIn=t=>0-t,kIn=m.forwardRef(function(e,n){const{regions:r,render:i,children:s,margins:o}=e,a=m.useRef(null),l=m.useMemo(()=>o,[JSON.stringify(o)]),u=m.useMemo(()=>yIn({rootMargin:l.map(TIn).map(SIn).join(" "),threshold:oIn}),[l]),[d,f]=m.useState({}),h=m.useCallback((y,x)=>{f(b=>({...b,[y]:x}))},[]),p=d["::top"],g=d["::bottom"],v=m.useMemo(()=>p&&g?r.filter(y=>{var x;return((x=y.presence)==null?void 0:x.length)>0}).map(y=>{const x=d[y.id];if(!x)return null;const{bottom:b,top:_}=x.boundingClientRect,C=x.boundingClientRect.top<p.boundingClientRect.bottom,S=x.boundingClientRect.top<g.boundingClientRect.top,T=x.isIntersecting?_-(x.intersectionRect.top-W4):C?-p.boundingClientRect.bottom:g.boundingClientRect.top,A=x.isIntersecting?-(b-(x.intersectionRect.bottom+W4)):S?g.boundingClientRect.top:-p.boundingClientRect.bottom,k=T<=aIn?"top":A<=lIn?"bottom":"inside";return{distanceTop:T,distanceBottom:A,region:y,position:k}}).filter(Boolean):[],[g,d,r,p]);return c.jsxs(xIn,{ref:n,children:[c.jsx(_In,{$debug:wH,io:u,id:"::top",onIntersection:h,margins:l}),c.jsx("div",{children:s}),c.jsx(wIn,{ref:a,children:a.current&&i(v,a.current.offsetWidth)}),r.map(y=>{const x=y.rect.width===0;return c.jsx(CIn,{$debug:wH,io:u,onIntersection:h,id:y.id,style:{width:x?1:y.rect.width,left:y.rect.left-(x?1:0),top:y.rect.top-W4,height:y.rect.height+W4*2}},y.id)}),c.jsx(EIn,{$debug:wH,id:"::bottom",io:u,onIntersection:h})]})}),SYe={transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)"},AIn=t=>t.top+t.height;function IIn(t){return t.map((e,n,r)=>{var i;const s=(i=r[n-1])==null?void 0:i.region.rect,o=s?AIn(s):0;return{...e,spacerHeight:e.region.rect.top-o}})}const G4=t=>kI(t,e=>e.region.rect.top),DIn=(t,e)=>t+e,J2e=t=>t.reduce(DIn,0);function RIn(t){const e=IIn(G4(t)),n={top:[],inside:[],bottom:[],...wne(e,r=>r.position)};return{top:G4(n.top).map((r,i,s)=>({...r,indent:s.slice(i+1).reduce((o,a)=>o+a.region.rect.width,0)})),inside:G4(n.inside).map(r=>({...r,indent:0})),bottom:G4(n.bottom).map((r,i,s)=>({...r,indent:s.slice(0,i).reduce((o,a)=>o+a.region.rect.width,0)}))}}const e5e=t=>{let{height:e,...n}=t;return c.jsx("div",{style:{height:Math.max(0,e),...n==null?void 0:n.style}})},jIn=[0,0,0,0],OIn=(t,e)=>{let n=t,r=-n.scrollTop,i=0;for(;n&&n!==e;)r+=n.offsetTop-n.scrollTop,i+=n.offsetLeft,n=n.offsetParent instanceof HTMLElement?n.offsetParent:null;return{top:r,left:i}};function LIn(t,e){return{...OIn(t,e),width:t.offsetWidth,height:t.offsetHeight}}function PIn(t,e){return t.map(n=>{let[r,i]=n;return{...i,id:r,rect:LIn(i.element,e)}})}function MIn(t){const{children:e,margins:n=jIn}=t,r=gIn(),i=re.useRef(null),s=re.useMemo(()=>i.current?PIn(r,i.current):rK,[r]),o=re.useCallback((a,l)=>{const u=RIn(a.filter(p=>p.region.presence.length>0)),d=J2e(u.top.map(p=>p.region.rect.height+p.spacerHeight)),f=J2e([...u.inside,...u.bottom].map(p=>p.region.rect.height+p.spacerHeight)),h=u.inside.reduce((p,g)=>{const{distanceTop:v,distanceBottom:y}=g,x=v<=xYe,b=y<=wYe;return{nearTop:p.nearTop+(x?g.region.presence.length:0),nearBottom:p.nearBottom+(b?g.region.presence.length:0)}},{nearTop:0,nearBottom:0});return c.jsxs(c.Fragment,{children:[c.jsx(t5e,{closeCount:h.nearTop,margins:n,position:"top",regionsWithIntersectionDetails:u.top}),c.jsx(e5e,{height:d}),c.jsx($In,{containerWidth:l,regionsWithIntersectionDetails:u.inside}),c.jsx(e5e,{height:f}),c.jsx(t5e,{closeCount:h.nearBottom,margins:n,position:"bottom",regionsWithIntersectionDetails:u.bottom})]})},[n]);return c.jsx(kIn,{ref:i,margins:n,regions:s,render:o,children:e})}const rK=[],t5e=m.memo(function(e){const{closeCount:n,margins:r,position:i,regionsWithIntersectionDetails:s}=e,o=i==="top"?1:-1,a=m.useMemo(()=>s.length?$i(XC(s,v=>v.region.rect.top*o).map(v=>v.region.presence||rK)):rK,[o,s]),[l,u,d,f]=r,h=(f||0)+(a.length>0?-n*(a3+lC):0)-u,p=i==="top"?l:d,g=m.useMemo(()=>({zIndex:2,position:"sticky",display:"flex",flexDirection:"column",alignItems:"flex-end",...SYe,transform:"translate3d(".concat(h,"px, 0px, 0px)"),top:N2e+1+p,bottom:N2e+1+p}),[h,p]);return c.jsx("div",{"data-dock":i,style:g,children:c.jsx(EYe,{position:i,maxAvatars:sIn,presence:a})},"sticky-".concat(i))});function $In(t){const{regionsWithIntersectionDetails:e,containerWidth:n}=t;return c.jsx(c.Fragment,{children:e.map(r=>{const i=r.region.rect.left,{distanceTop:s,distanceBottom:o}=r,a=s<=xYe,l=o<=wYe,u=n-i-r.region.rect.width,{presence:d,maxAvatars:f}=r.region;return c.jsx(re.Fragment,{children:c.jsx("div",{style:{zIndex:2,position:"absolute",pointerEvents:"all",...SYe,left:i,transform:"translate3d(".concat(a||l?u:0,"px, 0px, 0px)"),height:r.region.rect.height,top:r.region.rect.top},children:c.jsx(BIn,{value:()=>"".concat(s," | ").concat(o,""),children:c.jsx(EYe,{stack:!a&&!l,position:a?"top":l?"bottom":"inside",maxAvatars:f,presence:d})})})},r.region.id)})})}const FIn=t=>t.children,BIn=FIn,NIn=[0,0,0,0];function VIn(t){let{children:e,margins:n}=t;return c.jsx(pIn,{children:c.jsx(MIn,{margins:n||NIn,children:e})})}const j$=VIn;var n5e=Object.freeze,UIn=Object.defineProperty,HIn=(t,e)=>n5e(UIn(t,"raw",{value:n5e(e||t.slice())})),r5e;const zIn=[],v_={error:Ke.red[500].hex,warning:Ke.yellow[500].hex,info:Ke.blue[500].hex},y_={error:c.jsx(Yu,{"data-testid":"input-validation-icon-error"}),warning:c.jsx(vo,{"data-testid":"input-validation-icon-warning"}),info:c.jsx(rw,{"data-testid":"input-validation-icon-info"})},WIn=H(Te)(r5e||(r5e=HIn([`
  max-width: 200px;
`])));function yE(t){const{validation:e=zIn,__unstable_showSummary:n,fontSize:r,placement:i="top"}=t,s=e.filter(p=>p.level==="error"),o=e.filter(p=>p.level==="warning"),a=e.filter(p=>p.level==="info"),l=s.length>0,u=o.length>0,d=a.length>0,f=m.useMemo(()=>{if(l)return y_.error;if(u)return y_.warning;if(d)return y_.info},[l,d,u]),h=m.useMemo(()=>{if(l)return v_.error;if(u)return v_.warning;if(d)return v_.info},[l,d,u]);return c.jsx(Mn,{content:c.jsxs(WIn,{padding:3,space:3,children:[n&&c.jsx(qIn,{validation:e}),!n&&c.jsx(c.Fragment,{children:e.map((p,g)=>c.jsx(GIn,{validation:p},g))})]}),portal:!0,placement:i,fallbackPlacements:["bottom","right","left"],children:c.jsx("div",{children:c.jsx(G,{muted:!0,size:r,weight:"semibold",style:{color:h},children:f})})})}function GIn(t){const{validation:e}=t,n=m.useMemo(()=>{if(e.level==="error")return y_.error;if(e.level==="warning")return y_.warning;if(e.level==="info")return y_.info},[e]),r=m.useMemo(()=>{if(e.level==="error")return v_.error;if(e.level==="warning")return v_.warning;if(e.level==="info")return v_.info},[e]);return c.jsxs(ae,{children:[c.jsx(N,{marginRight:2,children:c.jsx(G,{size:1,style:{color:r},children:n})}),c.jsx(N,{flex:1,children:c.jsx(G,{size:1,children:e.message})})]})}function qIn(t){let{validation:e}=t;const n=e.filter(p=>p.level==="error"),r=e.filter(p=>p.level==="warning"),i=n.length,s=r.length,o="error".concat(i===1?"":"s"),a="warning".concat(s===1?"":"s"),l=i&&"".concat(i," ").concat(o),u=s&&"".concat(s," ").concat(a),d=i>0,f=s>0,h=d&&f;return c.jsxs(G,{size:1,children:[l||"",h&&c.jsx(c.Fragment,{children:" and "}),u||""]})}const YIn=[],TYe=m.memo(function(e){const{description:n,inputId:r,title:i,validation:s=YIn}=e,o=s.length>0;return c.jsxs(Te,{space:2,children:[c.jsxs(ae,{children:[c.jsx(G,{as:"label",htmlFor:r,weight:"semibold",size:1,children:i||c.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}),o&&c.jsx(N,{marginLeft:2,children:c.jsx(yE,{fontSize:1,validation:s})})]}),n&&c.jsx(G,{muted:!0,size:1,children:n})]})}),KIn=H(ae)({lineHeight:1}),ZIn=m.memo(function(e){const{__unstable_actions:n,__unstable_presence:r,description:i,inputId:s,title:o,validation:a}=e;return c.jsxs(KIn,{align:"flex-end",children:[c.jsx(N,{flex:1,paddingY:2,children:c.jsx(TYe,{validation:a,description:i,inputId:s,title:o})}),r&&r.length>0&&c.jsx(N,{flex:"none",children:c.jsx(vE,{maxAvatars:4,presence:r})}),n&&c.jsx(N,{flex:"none",marginLeft:3,children:n})]})}),bE=m.memo(function(e){const{validation:n,__unstable_headerActions:r,__unstable_presence:i,children:s,description:o,inputId:a,level:l,title:u,...d}=e;return c.jsxs(Te,{...d,"data-level":l,space:1,children:[u&&c.jsx(ZIn,{__unstable_actions:r,validation:n,__unstable_presence:i,description:o,inputId:a,title:u}),c.jsx("div",{children:s})]})});var i5e=Object.freeze,XIn=Object.defineProperty,nie=(t,e)=>i5e(XIn(t,"raw",{value:i5e(e||t.slice())})),s5e,o5e,a5e;const l5e=H.legend(s5e||(s5e=nie([`
  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  padding: 0;
  display: table;
`]))),QIn=H(ae).attrs({forwardedAs:"button"})(t=>{const{theme:e}=t,{focusRing:n,radius:r}=e.sanity,{base:i}=e.sanity.color;return qe(o5e||(o5e=nie([`
    appearance: none;
    border: 0;
    background: none;
    color: inherit;
    -webkit-font-smoothing: inherit;
    font: inherit;
    outline: none;
    border-radius: `,`;
    position: relative;

    &:not([hidden]) {
      display: flex;
    }

    &:focus {
      box-shadow: `,`;
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }

    /* Added to increase the hit area of the collapsible fieldset */
    &::after {
      content: '';
      position: absolute;
      top: -10px;
      right: -10px;
      bottom: -10px;
      left: -10px;
    }
  `])),Xe(r[1]),vre({base:i,focusRing:n}))}),JIn=H(N)(a5e||(a5e=nie([`
  width: 9px;
  height: 9px;
  margin-right: 3px;

  & svg {
    transition: transform 100ms;
  }
`]))),eDn=m.memo(function(e){const{collapsed:n,collapsible:r,onClick:i,title:s}=e,o=c.jsx(G,{weight:"semibold",size:1,children:s||c.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})});return r?c.jsx(l5e,{children:c.jsxs(QIn,{type:"button",onClick:i,children:[c.jsx(JIn,{children:c.jsx(G,{muted:!0,size:1,children:c.jsx(x7,{style:{transform:"rotate(".concat(n?"0":"90deg",") translate3d(0, 0, 0)")}})})}),o]})}):c.jsx(l5e,{children:o})});var u5e=Object.freeze,tDn=Object.defineProperty,kYe=(t,e)=>u5e(tDn(t,"raw",{value:u5e(e||t.slice())})),c5e,d5e;function nDn(t){return typeof t=="function"?t():t}const rDn=H(N).attrs({forwardedAs:"fieldset"})(c5e||(c5e=kYe([`
  border: none;

  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  body:not(:-moz-handler-blocked) & {
    display: table-cell;
  }
`]))),iDn=H(ae)({lineHeight:1}),sDn=H(N)(t=>{const{$borderLeft:e,theme:n}=t,{focusRing:r,radius:i}=n.sanity,{base:s}=n.sanity.color;return qe(d5e||(d5e=kYe([`
    outline: none;
    border-left: `,`;
    border-radius: `,`;

    &:focus {
      box-shadow: `,`;
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }
  `])),e?"1px solid var(--card-border-color)":void 0,Xe(i[1]),vre({base:s,focusRing:{...r,offset:2}}))}),f5e=[],O$=m.forwardRef(function(e,n){const{__unstable_headerActions:r,validation:i=f5e,__unstable_presence:s=f5e,children:o,collapsible:a,columns:l,description:u,level:d=0,onFocus:f,onCollapse:h,onExpand:p,collapsed:g,tabIndex:v,title:y,...x}=e,b=i.length>0,_=Ms(n),C=m.useCallback(A=>{_.current===A.target&&f&&f(A)},[_,f]),S=m.useCallback(()=>g?p==null?void 0:p():h==null?void 0:h(),[g,h,p]),T=m.useMemo(()=>g?null:c.jsx(Er,{columns:l,gapX:4,gapY:5,children:nDn(o)}),[o,g,l]);return c.jsxs(rDn,{"data-level":d,...x,children:[y&&c.jsxs(iDn,{align:"flex-end",children:[c.jsx(N,{flex:1,paddingY:2,children:c.jsxs(Te,{space:2,children:[c.jsxs(ae,{children:[c.jsx(eDn,{collapsed:!!g,collapsible:a,onClick:a?S:void 0,title:y}),b&&c.jsx(N,{marginLeft:2,children:c.jsx(yE,{fontSize:1,validation:i})})]}),u&&c.jsx(G,{muted:!0,size:1,children:u})]})}),s.length>0&&c.jsx(N,{flex:"none",children:c.jsx(vE,{maxAvatars:4,presence:s})}),r&&c.jsx(N,{flex:"none",marginLeft:1,children:r})]}),c.jsx(sDn,{$borderLeft:d>0,hidden:g,marginTop:1,paddingLeft:d===0?0:3,onFocus:typeof v=="number"&&v>-1?C:void 0,ref:_,tabIndex:v,children:!g&&T})]})});var h5e=Object.freeze,oDn=Object.defineProperty,aDn=(t,e)=>h5e(oDn(t,"raw",{value:h5e(e||t.slice())})),p5e;const lDn=H.div(p5e||(p5e=aDn([`
  display: flex;
  justify-content: flex-end;
  box-sizing: border-box;
  min-height: var(--avatar-height);
  width: 77px;
  margin-left: var(--small-padding);

  &[data-max-avatars='1'] {
    max-width: 23px;
  }

  &[data-position='top'] {
    align-self: flex-start;
  }

  &[data-position='bottom'] {
    align-self: flex-end;
  }
`])));function uDn(t){let{children:e,maxAvatars:n,position:r="bottom"}=t;return c.jsx(lDn,{"data-max-avatars":n,"data-position":r,children:e})}var m5e=Object.freeze,cDn=Object.defineProperty,dDn=(t,e)=>m5e(cDn(t,"raw",{value:m5e(e||t.slice())})),g5e;const fDn=H(Ce)(g5e||(g5e=dDn([`
  cursor: `,`;
`])),t=>t.grid?"move":"ns-resize"),AYe=re.createContext(null),IYe=function(e){const n=m.useContext(AYe),{listeners:r,attributes:i}=cWe({id:n});return c.jsx(fDn,{icon:_Me,mode:"bleed","data-ui":"DragHandleButton",...i,...e,...r})};function hDn(t,e,n,r){const i={...t},s=r.y||0,o=r.x||0;return e.top+i.y<=n.top+s?i.y=n.top-e.top+s:e.bottom+i.y>=n.top+n.height-s&&(i.y=n.top+n.height-e.bottom-s),e.left+i.x<=n.left-o?i.x=n.left-e.left+o:e.right+i.x>=n.left+n.width+o&&(i.x=n.left+n.width-e.right+o),i}const pDn=t=>e=>{let{containerNodeRect:n,draggingNodeRect:r,transform:i}=e;return!r||!n?i:hDn(i,r,n,t)};var v5e=Object.freeze,mDn=Object.defineProperty,y5e=(t,e)=>v5e(mDn(t,"raw",{value:v5e(e||t.slice())})),b5e,x5e;const rie="moving",DYe=H(N)(x5e||(x5e=y5e([`
  `,`
`])),t=>t.$moving&&qe(b5e||(b5e=y5e([`
      z-index: 10000;
      /* prevents hover-effects etc on the dragged element  */
      pointer-events: none;
    `])))),gDn={threshold:{x:0,y:.02}},vDn={coordinateGetter:Smn},yDn={duration:200,easing:"ease"};function bDn(t){return t==="x"?kmn:Amn}function xDn(t){return t==="x"?fmn:pmn}const wDn=m.memo(function(e){const{items:n,axis:r,onItemMove:i,onItemMoveStart:s,onItemMoveEnd:o,children:a,...l}=e,u=Jhn(bve(Dne),bve(Ane,vDn)),d=m.useCallback(h=>{var p,g,v,y;const{active:x,over:b}=h;x.id!==(b==null?void 0:b.id)&&(i==null||i({fromIndex:(g=(p=x.data.current)==null?void 0:p.sortable)==null?void 0:g.index,toIndex:(y=(v=b==null?void 0:b.data.current)==null?void 0:v.sortable)==null?void 0:y.index})),o==null||o()},[i,o]),f=m.useMemo(()=>[pDn({y:4}),...r?[bDn(r)]:[]],[r]);return c.jsx(tmn,{sensors:u,autoScroll:gDn,modifiers:f,collisionDetection:tpn,onDragEnd:d,onDragStart:s,children:c.jsx(gmn,{items:n,strategy:r?xDn(r):void 0,children:c.jsx(Er,{...l,children:a})})})}),_Dn=m.forwardRef(function(e,n){const{id:r,children:i,disableTransition:s}=e,{setNodeRef:o,transform:a,transition:l,active:u}=cWe({id:r,transition:s?null:yDn}),d=r===(u==null?void 0:u.id),f=m.useMemo(()=>({transform:YA.Translate.toString(a),transition:l,pointerEvents:u?"none":void 0}),[a,l,u]),h=m.useCallback(p=>{o(p),typeof n=="function"?n(p):n&&(n.current=p)},[n,o]);return c.jsx(DYe,{ref:h,style:f,$moving:d,className:d?rie:"","data-index":e["data-index"],children:i})});function iie(t){const{onItemMove:e,onItemMoveEnd:n,onItemMoveStart:r,sortable:i,...s}=t,o=m.useCallback(a=>{e==null||e(a)},[e]);return i?c.jsx(wDn,{onItemMove:o,onItemMoveStart:r,onItemMoveEnd:n,...s}):c.jsx(Er,{...s})}const sie=m.forwardRef(function(e,n){const{sortable:r,...i}=e;return c.jsx(AYe.Provider,{value:e.id,children:r?c.jsx(_Dn,{ref:n,...i}):c.jsx(DYe,{ref:n,...i})})});var w5e=Object.freeze,CDn=Object.defineProperty,EDn=(t,e)=>w5e(CDn(t,"raw",{value:w5e(e||t.slice())})),_5e;const SDn=H(ge)(_5e||(_5e=EDn([`
  position: relative;
  border: 1px solid transparent;
  transition: border-color 250ms;

  .`,` & {
    border-color: var(--card-shadow-umbra-color);
    box-shadow: 0 0 0 0, 0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &:hover {
    border-color: var(--card-shadow-umbra-color);
  }

  &[aria-selected='true'] {
    border-color: var(--card-focus-ring-color);
  }
`])),rie);function L$(t){const{validation:e,selected:n,tone:r,presence:i,focused:s,children:o,dragHandle:a,menu:l,footer:u}=t,d=m.useRef(null);return qc(s,(f,h)=>{var p;!f&&h&&((p=d.current)==null||p.focus())}),c.jsx(SDn,{ref:d,selected:n,"aria-selected":n,radius:2,padding:1,tone:r,children:c.jsxs(Te,{space:1,children:[c.jsxs(ae,{align:"center",children:[a&&c.jsx(N,{marginRight:1,paddingY:1,children:c.jsx(IYe,{paddingX:1,paddingY:3})}),c.jsx(N,{flex:1,children:o}),(i||e||l)&&c.jsxs(ae,{align:"center",marginLeft:1,children:[i&&c.jsx(N,{marginLeft:1,children:i}),e&&c.jsx(N,{marginLeft:1,children:e}),l]})]}),u]})})}var C5e=Object.freeze,TDn=Object.defineProperty,P$=(t,e)=>C5e(TDn(t,"raw",{value:C5e(e||t.slice())})),E5e,S5e,T5e,k5e;const kDn=H.button(E5e||(E5e=P$([`
  display: block;
  -webkit-font-smoothing: inherit;
  appearance: none;
  font: inherit;
  background: none;
  width: 100%;
  text-align: left;
  border: 0;
  margin: 0;
  padding: 0;
  outline: none;
`]))),ADn=H(x7)(S5e||(S5e=P$([`
  transform: `,`;
`])),t=>t.open?"rotate(90deg)":""),IDn=H(ae)(T5e||(T5e=P$([`
  cursor: default;
`]))),DDn=H(N)(k5e||(k5e=P$([`
  & > div > svg {
    transform: rotate(0);
    transition: transform 100ms;
  }

  &[data-open] > div > svg {
    transform: rotate(90deg);
  }
`])));function Ew(t){const{children:e,open:n,icon:r,title:i="Details",...s}=t,[o,a]=m.useState(n||!1),l=m.useCallback(()=>a(u=>!u),[]);return m.useEffect(()=>a(n||!1),[n]),c.jsxs(N,{...s,children:[c.jsx(kDn,{type:"button",onClick:l,children:c.jsx(IDn,{align:"center",children:c.jsxs(cn,{children:[c.jsx(DDn,{"data-open":o?"":void 0,children:c.jsx(G,{size:1,children:c.jsx(ADn,{open:o})})}),r&&c.jsx(N,{marginLeft:1,children:r}),c.jsx(N,{flex:1,marginLeft:1,children:c.jsx(G,{size:1,weight:"medium",children:i})})]})})}),c.jsx(N,{hidden:!o,marginTop:3,children:e})]})}const RDn={warning:"caution",error:"critical",info:"positive"},jDn={warning:c.jsx(vo,{}),error:c.jsx(Yu,{}),info:c.jsx(rw,{})};function Ev(t){const{children:e,status:n="warning",title:r,...i}=t;return c.jsx(ge,{radius:2,tone:RDn[n],...i,"data-ui":"Alert",children:c.jsx(ae,{padding:1,children:e&&c.jsx(N,{flex:1,children:c.jsx(Ew,{icon:jDn[n],title:r,children:c.jsx(N,{marginLeft:3,marginTop:3,children:e})})})})})}function oie(t){if(Yh(t))return t.name==="object"?{}:{_type:t.name};if(_m(t))return[];if(t.jsonType==="string")return"";if(t.jsonType==="number")return 0;if(t.jsonType==="boolean")return!1}function xE(t){if(!Yh(t))throw new Error('Invalid item type: "'.concat(t.type,'". Default array input can only contain objects (for now)'));return{...oie(t),_key:jI(12)}}const ODn={portal:!0,tone:"default",placement:"left",constrainSize:!0},M$=m.memo(function(e){const{types:n,onInsert:r}=e;return c.jsxs(c.Fragment,{children:[c.jsx(A5e,{pos:"before",types:n,onInsert:r,text:"Add item before",icon:TMe}),c.jsx(A5e,{pos:"after",types:n,onInsert:r,text:"Add item after",icon:kMe})]})});function A5e(t){const{types:e,onInsert:n,pos:r,text:i,icon:s}=t;return(e==null?void 0:e.length)===1?c.jsx(St,{text:i,icon:s,onClick:()=>n(r,e[0])},r):c.jsx(n9,{text:i,popover:ODn,children:e==null?void 0:e.map(o=>c.jsx(St,{icon:o.icon,text:o.title,onClick:()=>n(r,o)},o.name))},r)}const RYe=()=>{},_H={isLoading:!0,result:void 0,error:void 0,retry:RYe},LDn={isLoading:!1,result:void 0,error:void 0,retry:RYe};function $$(t,e){const n=m.useMemo(()=>new Pi,[]),r=m.useMemo(()=>n.asObservable(),[n]),i=m.useCallback(()=>{n.next({type:"retry"})},[n]),s=Va(()=>go(Re(null),r).pipe(Be(()=>t),JP(a=>a?e(a).pipe(Be(l=>({isLoading:!1,result:l,error:void 0,retry:i})),vu(_H),Or(l=>(console.error(l),Re({isLoading:!1,result:void 0,error:l,retry:i})))):Re(LDn))),[e,t,r,i],_H),o=Pre(t,t);return t&&o!==t?_H:s}function PDn(t){const[e,n]=m.useReducer(r=>r+1,0);return m.useEffect(()=>{const r=setInterval(n,t);return()=>clearInterval(r)},[t]),e}function I5e(t){let{time:e}=t;PDn(1e3);const n=een(new Date(e));return c.jsxs("span",{title:n,children:[n," ago"]})}function jYe(t){var e,n,r,i;const{id:s,layout:o,preview:a,refType:l,renderPreview:u,showTypeLabel:d}=t,f=MC(),h=uF(s),p=((e=a.draft)==null?void 0:e._id)||((n=a.published)==null?void 0:n._id)||s,g=m.useMemo(()=>({_id:p,_type:l.name}),[p,l.name]),v=m.useMemo(()=>({layout:o,schemaType:l,value:g}),[o,g,l]);return c.jsxs(ae,{align:"center",children:[c.jsx(N,{flex:1,children:u(v)}),c.jsx(N,{paddingLeft:3,children:c.jsxs(cn,{space:3,children:[d&&c.jsx(jn,{size:1,muted:!0,children:l.title}),h&&h.length>0&&c.jsx(R$,{presence:h}),c.jsxs(cn,{space:4,children:[c.jsx(N,{children:c.jsx(Mn,{portal:!0,content:c.jsx(N,{padding:2,children:c.jsx(G,{size:1,children:(r=a.published)!=null&&r._updatedAt?c.jsxs(c.Fragment,{children:["Published ",c.jsx(I5e,{time:a.published._updatedAt})]}):c.jsx(c.Fragment,{children:"Not published"})})}),children:c.jsx(xs,{tone:f.tone==="default"?"positive":"default",size:1,dimmed:!a.published,muted:!a.published,children:c.jsx(IC,{})})})}),c.jsx(N,{children:c.jsx(Mn,{portal:!0,content:c.jsx(N,{padding:2,children:c.jsx(G,{size:1,children:(i=a.draft)!=null&&i._updatedAt?c.jsxs(c.Fragment,{children:["Edited ",c.jsx(I5e,{time:a.draft._updatedAt})]}):c.jsx(c.Fragment,{children:"No unpublished edits"})})}),children:c.jsx(xs,{tone:f.tone==="default"?"caution":"default",size:1,dimmed:!a.draft,muted:!a.draft,children:c.jsx(Ph,{})})})})]})]})})]})}function OYe(t){var e,n,r,i,s,o;const{referenceInfo:a,renderPreview:l,type:u,value:d,showTypeLabel:f}=t;if(a.isLoading||a.error)return c.jsx(Cw,{isPlaceholder:!0});if(((e=a.result)==null?void 0:e.availability.reason)==="NOT_FOUND"&&d._strengthenOnPublish){const x=u.to.find(_=>{var C;return _.name===((C=d==null?void 0:d._strengthenOnPublish)==null?void 0:C.type)});if(!x)return c.jsx(R5e,{documentId:d._ref,actualType:(n=d._strengthenOnPublish)==null?void 0:n.type,declaredTypes:u.to.map(_=>_.name)});const b=(r=d._strengthenOnPublish)!=null&&r.type?{_id:d._ref,_type:(i=d._strengthenOnPublish)==null?void 0:i.type}:d;return c.jsxs(ae,{align:"center",children:[c.jsx(N,{flex:1,children:l({layout:"default",schemaType:x,value:b,skipVisibilityCheck:!0})}),c.jsx(N,{children:c.jsx(cn,{space:4,children:f&&c.jsx(jn,{size:1,muted:!0,children:x.title})})})]})}const h=a.result.availability,p=h.reason==="NOT_FOUND",g=h.reason==="PERMISSION_DENIED";if(g||p)return c.jsxs(cn,{space:2,children:[c.jsx(N,{padding:1,children:c.jsx(ae,{align:"center",children:c.jsx(N,{flex:1,paddingY:2,children:c.jsx(G,{muted:!0,children:"Document unavailable"})})})}),g||p?c.jsx(N,{children:c.jsx(Mn,{portal:!0,content:p?c.jsxs(D5e,{title:"Not found",icon:M_,children:["The referenced document does not exist",c.jsx("br",{}),"(id: ",c.jsx("code",{children:d._ref}),")"]}):c.jsx(D5e,{title:"Insufficient permissions",icon:Dv,children:"The referenced document could not be accessed due to insufficient permissions"}),children:c.jsx(xs,{tone:"default",children:c.jsx(M_,{})})})}):null]});const v=(s=a.result)==null?void 0:s.type,y=u.to.find(x=>x.name===v);return y?c.jsx(jYe,{id:d._ref,layout:"default",preview:(o=a.result)==null?void 0:o.preview,refType:y,renderPreview:l,showTypeLabel:f}):c.jsx(R5e,{documentId:d._ref,actualType:v||"<unknown>",declaredTypes:u.to.map(x=>x.name)})}function D5e(t){const e=t.icon;return c.jsxs(ae,{padding:3,children:[c.jsx(N,{children:c.jsx(G,{size:1,children:c.jsx(e,{})})}),c.jsxs(N,{flex:1,marginLeft:3,children:[c.jsx(G,{size:1,weight:"semibold",children:t.title}),c.jsx(N,{marginTop:3,children:c.jsx(G,{as:"p",muted:!0,size:1,children:t.children})})]})]})}function R5e(t){return c.jsxs(ae,{align:"center",justify:"flex-start",children:[c.jsx(N,{padding:1,children:c.jsx(ae,{align:"center",children:c.jsx(N,{flex:1,paddingY:2,children:c.jsx(G,{muted:!0,children:"Document of invalid type"})})})}),c.jsx(N,{children:c.jsx(Mn,{portal:!0,content:c.jsxs(Te,{space:3,padding:3,children:[c.jsxs(G,{size:1,children:["Referenced document (",c.jsx("code",{children:t.documentId}),") is of type"," ",c.jsx("code",{children:t.actualType}),"."]}),c.jsxs(G,{size:1,children:["According to the schema, referenced documents can only be of type"," ",MDn(t.declaredTypes.map(e=>c.jsx("code",{children:e},e)),"or"),"."]})]}),children:c.jsx(N,{padding:2,children:c.jsx(xs,{tone:"default",children:c.jsx(M_,{})})})})})]})}const MDn=(t,e)=>t.length===1?t[0]:t.length===2?[t[0],c.jsxs(m.Fragment,{children:[" ",e," "]},"comma"),t[1]]:[...t.slice(0,-1).map((r,i)=>c.jsxs(m.Fragment,{children:[r,", "]},i)),c.jsxs(m.Fragment,{children:[e," ",t[t.length-1]]},"last")];var j5e=Object.freeze,$Dn=Object.defineProperty,FDn=(t,e)=>j5e($Dn(t,"raw",{value:j5e(e||t.slice())})),O5e;const BDn=H(ge)(O5e||(O5e=FDn([`
  /* this is a hack to avoid layout jumps while previews are loading
     there's probably better ways of solving this */
  min-height: 35px;
  position: relative;

  /* TextWithTone uses its own logic to set color, and we therefore need */
  /* to override this logic in order to set the correct color in different states */
  &[data-selected],
  &[data-pressed],
  &:active {
    [data-ui='TextWithTone'] {
      color: inherit;
    }
  }
`]))),LYe=m.forwardRef(function(e,n){const{documentType:r,as:i,...s}=e,o=r?"a":void 0,a=r?i:"div";return c.jsx(BDn,{...s,"data-as":o,documentType:r,forwardedAs:a,ref:n})}),PYe=m.createContext(null);function NDn(){const t=m.useContext(PYe);return t||{menuRef:{current:null},containerRef:{current:null}}}function VDn(t){const{menuRef:e,containerRef:n}=t;return c.jsx(PYe.Provider,{value:{menuRef:e,containerRef:n},children:t.children})}function UDn(t){let{readOnly:e,hasErrors:n,hasWarnings:r}=t;return e?"transparent":n?"critical":r?"caution":"default"}const HDn={portal:!0,tone:"default"},zDn={position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.6};function WDn(t){var e,n,r,i,s,o,a,l,u,d,f;const{schemaType:h,parentSchemaType:p,path:g,readOnly:v,onRemove:y,value:x,open:b,onInsert:_,presence:C,validation:S,inputId:T,changed:A,focused:k,children:I,inputProps:{onChange:D,focusPath:R,onPathFocus:O,renderPreview:L,elementProps:P}}=t,$=!v&&((e=p.options)==null?void 0:e.sortable)!==!1,B=p.of,Q=m.useRef(null),V=m.useRef(null),Z=m.useRef(null),{EditReferenceLink:ie,getReferenceInfo:J,selectedState:X,isCurrentDocumentLiveEdit:fe}=Cie({path:g,schemaType:h,value:x});D$(Q,b),qc(k,(mn,gn)=>{var br;!mn&&gn&&Q.current&&((br=Q.current)==null||br.focus())});const ue=t.validation.some(mn=>mn.level==="error"),te=t.validation.some(mn=>mn.level==="warning"),F=x._resolvingInitialValue,ne=m.useCallback(()=>{_({items:[{...x,_key:o3()}],position:"after"})},[_,x]),ce=m.useCallback((mn,gn)=>{_({items:[{...xE(gn),_key:o3()}],position:mn})},[_]),me=$$(x==null?void 0:x._ref,J),pe=x._ref,Ie=((n=me.result)==null?void 0:n.type)||((r=x==null?void 0:x._strengthenOnPublish)==null?void 0:r.type),xe=pe&&((o=(s=(i=me.result)==null?void 0:i.preview)==null?void 0:s.published)==null?void 0:o._id),Pe=m.useCallback(()=>{D([h.weak===!0?_n(!0,["_weak"]):Jt(["_weak"]),Jt(["_strengthenOnPublish"])])},[D,h.weak]),we=Ie?h.to.find(mn=>mn.name===Ie):void 0,De=X==="pressed",de=X==="selected",be=UDn({readOnly:v,hasErrors:ue,hasWarnings:te}),ve=!pe||R[0]==="_ref",ze=m.useMemo(()=>m.forwardRef(function(gn,br){return c.jsx(D0,{...gn,intent:"edit",params:{id:x==null?void 0:x._ref,type:we==null?void 0:we.name},target:"_blank",rel:"noopener noreferrer",ref:br})}),[we==null?void 0:we.name,x==null?void 0:x._ref]),He=m.useCallback(()=>{O(pe&&ve?[]:["_ref"])},[pe,ve,O]),Ne=m.useMemo(()=>v?null:c.jsx(N,{marginLeft:1,children:c.jsx(vr,{button:c.jsx(Ce,{paddingY:3,paddingX:2,mode:"bleed",icon:ll}),id:"".concat(T,"-menuButton"),menu:c.jsxs(er,{ref:V,children:[!v&&c.jsxs(c.Fragment,{children:[c.jsx(St,{text:"Remove",tone:"critical",icon:Qo,onClick:y}),c.jsx(St,{text:pe&&ve?"Cancel replace":"Replace",icon:pe&&ve?Rd:b7,onClick:He}),c.jsx(St,{text:"Duplicate",icon:Ox,onClick:ne}),c.jsx(M$,{onInsert:ce,types:B})]}),!v&&!ve&&pe&&c.jsx(Ci,{}),!ve&&pe&&c.jsx(St,{as:ze,"data-as":"a",text:"Open in new tab",icon:z3})]}),popover:HDn})}),[v,T,y,pe,ve,He,ne,ce,B,ze]),Fe=m.useCallback(()=>{D(h.weak===!0?_n(!0,["_weak"]):Jt(["_weak"]))},[D,h]),nt=x!=null&&x._weak?"weak":"strong",Ye=h.weak===!0?"weak":"strong",Ge=pe&&!me.isLoading&&(x==null?void 0:x._strengthenOnPublish),Ct=!me.isLoading&&((a=me.result)==null?void 0:a.availability.available)&&pe&&nt!==Ye&&!Ge,wt=((l=me.result)==null?void 0:l.preview.draft)||((u=me.result)==null?void 0:u.preview.published),pt=c.jsxs(c.Fragment,{children:[fe&&xe&&x._strengthenOnPublish&&c.jsx(Ev,{padding:1,title:h.weak?"Finalize reference":"Convert to strong reference",status:"info","data-testid":"alert-reference-published",children:c.jsxs(Te,{space:3,children:[c.jsxs(G,{as:"p",muted:!0,size:1,children:[c.jsx("strong",{children:(f=(d=me.result)==null?void 0:d.preview.published)==null?void 0:f.title})," is published and this reference should now be"," ",h.weak?c.jsx(c.Fragment,{children:"finalized"}):c.jsx(c.Fragment,{children:"converted to a strong reference"}),"."]}),c.jsx(Ce,{onClick:Pe,text:c.jsx(c.Fragment,{children:"Convert to strong reference"}),tone:"positive"})]})}),Ct&&c.jsx(Ev,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:c.jsxs(Te,{space:3,children:[c.jsxs(G,{as:"p",muted:!0,size:1,children:["This reference is ",c.jsx("em",{children:nt}),", but according to the current schema it should be"," ",c.jsxs("em",{children:[Ye,"."]})]}),c.jsx(G,{as:"p",muted:!0,size:1,children:h.weak?c.jsxs(c.Fragment,{children:["It will not be possible to delete the"," ",wt!=null&&wt.title?c.jsxs(c.Fragment,{children:['"',wt==null?void 0:wt.title,'"-document']}):c.jsx(c.Fragment,{children:"referenced document"})," ","without first removing this reference."]}):c.jsxs(c.Fragment,{children:["This makes it possible to delete the"," ",wt!=null&&wt.title?c.jsxs(c.Fragment,{children:['"',wt==null?void 0:wt.title,'"-document']}):c.jsx(c.Fragment,{children:"referenced document"})," ","without first deleting this reference, leaving this field referencing a nonexisting document."]})}),c.jsx(Ce,{onClick:Fe,text:c.jsxs(c.Fragment,{children:["Convert to ",Ye," reference"]}),tone:"caution"})]})}),me.error&&c.jsx(Ev,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:c.jsxs(Te,{space:3,children:[c.jsxs(G,{as:"p",muted:!0,size:1,children:["Error: ",me.error.message]}),c.jsx(Ce,{onClick:me.retry,text:c.jsx(c.Fragment,{children:"Retry"}),tone:"primary"})]})})]}),on=c.jsx(VDn,{menuRef:V,containerRef:Z,children:c.jsx(L$,{dragHandle:$,presence:!ve&&C.length>0&&c.jsx(vE,{presence:C,maxAvatars:1}),validation:!ve&&S.length>0&&c.jsx(yE,{validation:S}),menu:Ne,footer:ve?void 0:pt,tone:ve?void 0:be,focused:k,children:ve?c.jsx(N,{padding:1,ref:Z,children:c.jsx(O$,{title:h.title,description:h.description,__unstable_presence:C,validation:S,children:I})}):c.jsxs(LYe,{as:ie,tone:"inherit",radius:2,documentId:x==null?void 0:x._ref,documentType:we==null?void 0:we.name,disabled:F,paddingX:2,paddingY:1,__unstable_focusRing:!0,selected:de,pressed:De,"data-selected":de?!0:void 0,"data-pressed":De?!0:void 0,...P,children:[c.jsx(OYe,{value:x,referenceInfo:me,renderPreview:L,type:h}),F&&c.jsx(ge,{style:zDn,tone:"transparent",radius:2,as:ae,justify:"center",children:c.jsxs(ae,{align:"center",justify:"center",padding:3,children:[c.jsx(N,{marginX:3,children:c.jsx(_s,{muted:!0})}),c.jsx(G,{children:"Resolving initial value"})]})})]})})});return c.jsx(Pl,{path:g,isChanged:A,hasFocus:!!k,children:c.jsx(N,{paddingX:1,children:on})})}function L5e(t){return Yh(t.schemaType)}function P5e(t){return _m(t.schemaType)}function GDn(t){return t._key!==void 0}function nL(t){return GDn(t)?t:{...t,_key:o3(12)}}const MYe=4;function M5e(t,e){const n=t.indexOf(e);return n>-1&&t.splice(n,1),t}function qDn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:MYe;const n=YDn(e);return function(){return Vr(n(t(...arguments)))}}function YDn(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:MYe;const e=[],n=[],r=new Pi;return i;function i(a){return new On(l=>{if(e.length>=t)return s(a).pipe(rt(i)).subscribe(l);const u=a.subscribe(l);return e.push(u),()=>{M5e(e,u),M5e(n,a),u.unsubscribe(),o()}})}function s(a){return n.push(a),r.asObservable().pipe(gee(l=>l===a))}function o(){for(;n.length>0&&e.length<t;)r.next(n.shift())}}const KDn=4;function ZDn(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=r.metadata,s=r.storeOriginalFilename,{label:o,title:a,description:l,creditLine:u,source:d}=r;return tRn(n).pipe(Or(()=>Re(null)),rt(f=>f?JDn(t,"sanity.".concat(e,"Asset"),f):Re(null)),rt(f=>f?Re({type:"complete",id:f._id,asset:f}):t.observable.assets.upload(e,n,{tag:"asset.upload",extract:i,preserveFilename:s,label:o,title:a,description:l,creditLine:u,source:d}).pipe(Be(h=>h.type==="response"?{type:"complete",id:h.body.document._id,asset:h.body.document}:h))))}const $Ye=qDn(ZDn,KDn),XDn=(t,e,n)=>$Ye(t,"image",e,n),QDn=(t,e,n)=>$Ye(t,"file",e,n);function FYe(t,e){return t.observePaths({_type:"reference",_ref:e},["originalFilename","url","metadata","label","title","description","creditLine","source","size"])}function BYe(t,e){return FYe(t,e)}function NYe(t,e){return FYe(t,e)}function JDn(t,e,n){return t.observable.fetch("*[_type == $documentType && sha1hash == $hash][0]",{documentType:e,hash:n},{tag:"asset.find-duplicate"})}function eRn(t){return new On(e=>{const n=new FileReader;return n.onload=()=>{e.next(n.result),e.complete()},n.onerror=r=>{e.error(r)},n.readAsArrayBuffer(t),()=>{n.abort()}})}function tRn(t){return!window.crypto||!window.crypto.subtle||!window.FileReader?Re(null):eRn(t).pipe(rt(e=>crypto.subtle.digest("SHA-1",e)),Be(nRn))}function nRn(t){return Array.prototype.map.call(new Uint8Array(t),e=>"00".concat(e.toString(16)).slice(-2)).join("")}function rRn(t,e){return new On(n=>{const r=new window.FileReader;return r.onerror=i=>n.error(i),r.onload=()=>{n.next(r.result),n.complete()},r.readAsArrayBuffer(e===void 0?t:t.slice(0,e)),()=>r.abort()})}const iRn=/(invalid image format)|(No exif data)/i,sRn=128e3;function oRn(t){return Vr(rRn(t,sRn)).pipe(Be(e=>h0n(e)),Or(e=>(iRn.test(e.message)||console.warn("Exif read failed, continuing anyway: ".concat(e.message)),Re({}))))}function $5e(t){return[5,6,7,8].indexOf(t)>-1}function aRn(t,e){const n=e.x,r=e.y,i=(e.degrees||0)*(Math.PI/180);t==null||t.translate(n,r),t==null||t.rotate(i),t==null||t.translate(-n,-r)}function F5e(t,e,n){const r=t.getContext("2d");r==null||r.translate(e?t.width:0,n?t.height:0),r==null||r.scale(e?-1:1,n?-1:1)}const lRn=[{op:"none",degrees:0},{op:"flip-x",degrees:0},{op:"none",degrees:180},{op:"flip-y",degrees:0},{op:"flip-x",degrees:90},{op:"none",degrees:90},{op:"flip-x",degrees:-90},{op:"none",degrees:-90}],uRn=["top-left","top-right","bottom-right","bottom-left","left-top","right-top","right-bottom","left-bottom"],cRn="top-left",dRn=120;function fRn(t,e){const n=lRn[e-1],r=t.height/t.width;t.width=dRn/r,t.height=t.width*r;const i=document.createElement("canvas"),s=i.getContext("2d");if($5e(e)?(i.height=t.width,i.width=t.height):(i.width=t.width,i.height=t.height),n.op==="flip-x"&&F5e(i,!0,!1),n.op==="flip-y"&&F5e(i,!1,!0),n.degrees&&(aRn(s,{degrees:n.degrees,x:i.width/2,y:i.height/2}),$5e(e))){const o=i.width-i.height;s==null||s.translate(o/2,-o/2)}return s==null||s.drawImage(t,0,0,t.width,t.height),i}function hRn(t,e){return new On(n=>{const r=uRn.indexOf(e)+1,i=fRn(t,r);n.next(i.toDataURL("image/jpeg",.1)),n.complete()})}function pRn(t){return new On(e=>{const n=new window.Image;return n.onerror=()=>{e.error(new Error('Could not load image from url "'.concat(t,'". Image may be of an unsupported format')))},n.onload=()=>{e.next(n),e.complete()},n.src=t,()=>{}})}function mRn(t,e){return pRn(window.URL.createObjectURL(t)).pipe(rt(n=>hRn(n,e)))}const bh="_upload",gRn=Jt([bh]);function Tx(){return{type:"uploadProgress",patches:arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]}}const VYe=Tx([gRn]);function UYe(t){const e=new Date().toISOString(),n={progress:2,createdAt:e,updatedAt:e,file:{name:t.name,type:t.type}};return Tx([_n(n,[bh])])}function vRn(t,e,n){const r=XDn(t,e,n).pipe(dt(s=>s.stage!=="download"),Be(s=>({...s,progress:2+s.percent/100*98})),Be(s=>s.type==="complete"?Tx([_n({_type:"reference",_ref:s.asset._id},["asset"]),_n(100,[bh,"progress"]),_n(new Date().toISOString(),[bh,"updatedAt"])]):Tx([_n(s.percent,[bh,"progress"]),_n(new Date().toISOString(),[bh,"updatedAt"])]))),i=oRn(e).pipe(rt(s=>mRn(e,s.orientation||cRn)),Or(s=>(console.warn('Image preprocessing failed for "%s" with the error: %s',e.name,s.message),Re(null))),dt(Boolean),Be(s=>Tx([_n(s,[bh,"previewImage"])])));return go(Re(UYe(e)),li(r,i),Re(VYe))}function HYe(t,e,n){const r=QDn(t,e,n).pipe(Be(i=>i.type==="complete"?Tx([_n({_type:"reference",_ref:i.asset._id},["asset"]),_n(100,[bh,"progress"]),_n(new Date().toISOString(),[bh,"updated"])]):Tx([_n(i.percent,[bh,"progress"]),_n(new Date().toISOString(),[bh,"updated"])])));return go(Re(UYe(e)),r,Re(VYe))}const yRn={type:"image",accepts:"image/*",upload:(t,e,n,r)=>vRn(t,e,r)},bRn={type:"file",accepts:"",upload:(t,e,n,r)=>HYe(t,e,r)},xRn={type:"string",accepts:"text/*",upload:(t,e,n,r)=>HYe(t,e,r).pipe(Be(i=>({type:"uploadProgress",patches:[_n(i)]})))},wRn=[yRn,xRn,bRn].map((t,e)=>({...t,priority:e}));function iK(t,e){if(!t||!e)return!0;const n=Array.isArray(e)?e:e.split(","),r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(o=>{const a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}function aie(t,e){return wRn.find(n=>{var r;return Kp(n.type,t)&&iK(e,n.accepts)&&iK(e,((r=t.options)==null?void 0:r.accept)||"")})||null}const _Rn=["_key","_type","_weak"];function zYe(t){return Object.keys(t).every(e=>_Rn.includes(e))}const CRn=(t,e)=>{const n=Bc(e);return t.of.find(r=>r.name===n)};function ERn(t,e){return Object.entries(t).map(n=>{let[r,i]=n;return _n(i,[...e,r])})}function WYe(t,e,n){return Vr(t).pipe(rt(r=>{const i={_key:r._key};return Re(CRn(e,r)).pipe(rt(s=>s?Re(s):as),rt(s=>!zYe(r)||!n?as:go(Re({type:"patch",patches:[_n(!0,[i,"_resolvingInitialValue"])]}),Ls(()=>n(s,r)).pipe(dt(ma),Be(o=>({type:"patch",patches:ERn(o,[i])})),Or(o=>Re({type:"error",error:o,item:r,schemaType:s}))),Re({type:"patch",patches:[Jt([i,"_resolvingInitialValue"])]}))))}))}const B5e="before",N5e="after";function SRn(t,e,n){if(e!==B5e&&e!==N5e)throw new Error('Invalid position "'.concat(e,'", must be either ').concat(B5e," or ").concat(N5e));for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=V5e(...i);if(t.length===0)return o;const a=t.length,l=Math.abs((a+n)%a)%a,u=e==="after"?l+1:l,d=t.slice();return d.splice(u,0,...V5e(o)),d}function V5e(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce((r,i)=>r.concat(i),[])}const U5e=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);function TRn(t,e,n){const r=t.slice(),i=r[e];return r.splice(e,1),r.splice(n,0,i),r}function kRn(t,e){if(typeof e=="number")return e;const n=vze(t,e);return n===-1?!1:n}function ARn(t,e){const n=t.slice();if(e.path.length===0){if(e.type==="setIfMissing"){if(!Array.isArray(e.value))throw new Error("Cannot set value of an array to a non-array");return t===void 0?e.value:t}else if(e.type==="set"){if(!Array.isArray(e.value))throw new Error("Cannot set value of an array to a non-array");return e.value}else{if(e.type==="unset")return;if(e.type==="move"){if(!e.value||!U5e(e.value,"from")||!U5e(e.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: `.concat(JSON.stringify(e.value)));return TRn(n,e.value.from,e.value.to)}}throw new Error("Invalid array operation: ".concat(e.type))}const[r,...i]=e.path,s=kRn(t,r);if(s===!1)return n;if(i.length===0){if(e.type==="insert"){const{position:o,items:a}=e;return SRn(t,o,s,a)}else if(e.type==="unset"){if(typeof s!="number")throw new Error('Expected array index to be a number, instead got "'.concat(s,'"'));return n.splice(s,1),n}}return n[s]=uie(n[s],{...e,path:i}),n}function IRn(t,e){const n=yze(t);if(e.path.length===0){if(e.type==="set"){if(!V3(e.value))throw new Error("Cannot set value of an object to a non-object");return e.value}else{if(e.type==="unset")return;if(e.type==="setIfMissing")return t===void 0?e.value:t}throw new Error("Invalid object operation: ".concat(e.type))}const[r,...i]=e.path;if(typeof r!="string")throw new Error("Expected field name to be a string, instad got: ".concat(r));return i.length===0&&e.type==="unset"?Al(n,r):(n[r]=uie(n[r],{...e,path:i}),n)}const GYe={replace(t,e){return e},set(t,e){return e},setIfMissing(t,e){return t===void 0?e:t},unset(t,e){},inc(t,e){return t+e},dec(t,e){return t-e}},DRn=Object.keys(GYe);function RRn(t,e){if(!DRn.includes(e.type))throw new Error('Received patch of unsupported type "'.concat(e.type,'" for primitives. This is most likely a bug.'));if(e.path.length>0)throw new Error('Cannot apply deep operations on primitive values. Received patch with type "'.concat(e.type,'" and path "').concat(e.path.map(n=>JSON.stringify(n)).join("."),' that targeted the value "').concat(JSON.stringify(t),'"'));return GYe[e.type](t,e.value)}const H5e=new If.diff_match_patch,qYe={replace(t,e){return e},set(t,e){return e},setIfMissing(t,e){return t===void 0?e:t},unset(t,e){},diffMatchPatch(t,e){return H5e.patch_apply(H5e.patch_fromText(e),t)[0]}},jRn=Object.keys(qYe);function ORn(t,e){if(!jRn.includes(e.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(e.type),'" for string. This is most likely a bug.'));if(e.path.length>0)throw new Error('Cannot apply deep operations on string values. Received patch with type "'.concat(e.type,'" and path "').concat(e.path.join("."),' that targeted the value "').concat(JSON.stringify(t),'"'));return qYe[e.type](t,e.value)}function lie(t,e){return e.reduce(uie,t)}function LRn(t,e){return Array.isArray(t)?ARn(t,e):k9(t)?ORn(t,e):V3(t)?IRn(t,e):RRn(t,e)}function uie(t,e){return LRn(t,e)}function QI(t){const e=uu(t),{value:n}=Ml();return Cv(n,e)}function F$(){const t=QI(["_id"]);if(typeof t=="string")return Ks(t)}function PRn(t){const{onPathBlur:e,onPathFocus:n,onChange:r,onSetPathCollapsed:i,onSetFieldSetCollapsed:s,onPathOpen:o,onFieldGroupSelect:a}=Pd(),{member:l,renderAnnotation:u,renderBlock:d,renderField:f,renderInlineBlock:h,renderInput:p,renderItem:g,renderPreview:v}=t,{field:{actions:y}}=Ml().__internal,x=F$(),[b,_]=m.useState([]),C=m.useRef(),S=m.useRef({});qc(l.field.focused,(we,De)=>{var de;!we&&De&&((de=C.current)==null||de.focus())});const T=m.useCallback(we=>{we.currentTarget===we.target&&we.currentTarget===C.current&&n(l.field.path)},[l.field.path,n]),A=m.useCallback(we=>{we.currentTarget===we.target&&we.currentTarget===C.current&&e(l.field.path)},[l.field.path,e]),k=m.useRef(l.field.value);m.useEffect(()=>{k.current=l.field.value},[l.field.value]);const I=m.useCallback(we=>{const De=bn.from(we).patches;if(De.some(be=>be.type==="unset"&&be.path.length===1)&&(k.current=lie(k.current||[],De),Array.isArray(k.current)&&!k.current.length)){r(bn.from(Jt([l.name])));return}r(bn.from(we).prepend(sl([])).prefixAll(l.name))},[r,l.name,k]),D=Jie(),R=Na(),O=m.useCallback(()=>{i(l.field.path,!0)},[i,l.field.path]),L=m.useCallback(()=>{i(l.field.path,!1)},[i,l.field.path]),P=m.useCallback(we=>{i(l.field.path.concat({_key:we}),!0)},[i,l.field.path]),$=m.useCallback(we=>{i(l.field.path.concat({_key:we}),!1)},[i,l.field.path]),B=m.useCallback(we=>{o(we),i(we,!1)},[o,i]),Q=m.useCallback(()=>{o(l.field.path),i(l.field.path,!0)},[o,l.field.path,i]),V=m.useCallback(we=>{if(we.items.length===0)throw new Error("Insert event should include at least one item");const De=we.items.map(ze=>nL(ze));I(bn.from([nv(De,we.position,[we.referenceItem])]));const de=De[0]._key,be=[...l.field.path,{_key:de}];n(be);const ve=we.open!==!1;we.skipInitialValue?ve&&B(be):WYe(De,l.field.schemaType,D).pipe(Ei(ze=>{ze.type==="patch"?I(ze.patches):R.push({title:"Could not resolve initial value",description:"Unable to resolve initial value for type: ".concat(ze.schemaType.title,": ").concat(ze.error.message,"."),status:"error"})})).subscribe({complete:()=>{ve&&B(be)}})},[I,B,l.field.path,l.field.schemaType,n,D,R]),Z=m.useCallback(we=>{const De=l.field.value,de=De==null?void 0:De[we.fromIndex],be=De==null?void 0:De[we.toIndex];if(we.fromIndex!==we.toIndex){if(!(de!=null&&de._key)||!(be!=null&&be._key)){console.error("Neither the item you are moving nor the item you are moving to have a key. Cannot continue.");return}I([Jt([{_key:de._key}]),nv([de],we.fromIndex>we.toIndex?"before":"after",[{_key:be._key}])])}},[I,l.field.value]),ie=m.useCallback(we=>{I([sl([]),nv([nL(we)],"before",[0])])},[I]),J=m.useCallback(we=>{I([sl([]),nv([nL(we)],"after",[-1])])},[I]),X=m.useCallback(we=>{S.current[we]&&(S.current[we].unsubscribe(),delete S.current[we]),I([Jt([{_key:we}])])},[I]),fe=m.useCallback(we=>{n(l.field.path.concat(we))},[l.field.path,n]),ue=m.useMemo(()=>({onBlur:A,onFocus:T,id:l.field.id,ref:C}),[A,T,l.field.id]),te=Cs(us),F=Ml(),ne=F.__internal.image.directUploads,ce=F.__internal.file.directUploads,me=m.useCallback((we,De)=>Kp("image",we)&&!ne||Kp("file",we)&&!ce?null:aie(we,De),[ce,ne]),pe=m.useCallback(we=>{let{file:De,schemaType:de,uploader:be}=we;const ve=xE(de),ze=ve._key;V({items:[ve],position:"after",referenceItem:-1,open:!1});const He=be.upload(te,De,de).pipe(Be(Ne=>bn.from(Ne.patches||[]).prefixAll({_key:ze})),Ei(Ne=>I(Ne.patches)));S.current={...S.current,[ze]:He.subscribe()}},[te,I,V]),Ie=m.useMemo(()=>({level:l.field.level,members:l.field.members,value:l.field.value,readOnly:l.field.readOnly,schemaType:l.field.schemaType,changed:l.field.changed,id:l.field.id,onItemExpand:$,onItemCollapse:P,onItemClose:Q,onItemOpen:B,focusPath:l.field.focusPath,focused:l.field.focused,path:l.field.path,onChange:I,onInsert:V,onItemMove:Z,onItemRemove:X,onItemAppend:J,onItemPrepend:ie,onPathFocus:fe,resolveInitialValue:D,onUpload:pe,resolveUploader:me,validation:l.field.validation,presence:l.field.presence,renderAnnotation:u,renderBlock:d,renderInlineBlock:h,renderInput:p,renderField:f,renderItem:g,renderPreview:v,elementProps:ue}),[l.field.level,l.field.members,l.field.value,l.field.readOnly,l.field.schemaType,l.field.changed,l.field.id,l.field.focusPath,l.field.focused,l.field.path,l.field.validation,l.field.presence,$,P,Q,B,I,V,Z,X,J,ie,fe,D,pe,me,u,d,h,p,f,g,v,ue]),xe=m.useMemo(()=>p(Ie),[Ie,p]),Pe=m.useMemo(()=>({actions:b.length>0?c.jsx(E$,{focused:l.field.focused,nodes:b}):void 0,name:l.name,index:l.index,level:l.field.level,value:l.field.value,title:l.field.schemaType.title,description:l.field.schemaType.description,collapsible:l.collapsible,collapsed:l.collapsed,changed:l.field.changed,onCollapse:O,onExpand:L,schemaType:l.field.schemaType,inputId:l.field.id,path:l.field.path,presence:l.field.presence,validation:l.field.validation,children:xe,inputProps:Ie}),[b,l.name,l.index,l.field.focused,l.field.level,l.field.value,l.field.schemaType,l.field.id,l.field.path,l.field.presence,l.field.changed,l.field.validation,l.collapsible,l.collapsed,O,L,xe,Ie]);return c.jsxs(WI,{onFieldGroupSelect:a,onChange:I,onSetFieldSetCollapsed:s,onSetPathCollapsed:i,onPathOpen:o,onPathBlur:e,onPathFocus:n,children:[x&&y.length>0&&c.jsx(qI,{actions:y,documentId:x,documentType:l.field.schemaType.name,onActions:_,path:l.field.path,schemaType:l.field.schemaType}),c.jsx(XI,{actions:b,path:l.field.path,children:m.useMemo(()=>f(Pe),[Pe,f])})]})}function YYe(t,e,n){return Dx(t)&&typeof n=="string"&&Number(n)===e?n:String(e??"")}function MRn(t){const{member:e,renderInput:n,renderField:r}=t,{field:{actions:i}}=Ml().__internal,s=F$(),[o,a]=m.useState([]),l=m.useRef(),[u,d]=m.useState(),{onPathBlur:f,onPathFocus:h,onChange:p}=Pd();m.useEffect(()=>{var A;e.field.focused&&((A=l.current)==null||A.focus())},[e.field.focused]);const g=m.useCallback(()=>{f(e.field.path)},[e.field.path,f]),v=m.useCallback(()=>{h(e.field.path)},[e.field.path,h]),y=m.useCallback(A=>{p(bn.from(A).prefixAll(e.name))},[p,e.name]),x=m.useCallback(A=>{let k=A.currentTarget.value;if(Dx(e.field.schemaType)){if(k=A.currentTarget.valueAsNumber,k>Number.MAX_SAFE_INTEGER||k<Number.MIN_SAFE_INTEGER)return}else B3(e.field.schemaType)&&(k=A.currentTarget.checked);const I=k===""||typeof k=="number"&&isNaN(k);Dx(e.field.schemaType)&&d(I?void 0:A.currentTarget.value),p(bn.from(I?Jt():_n(k)).prefixAll(e.name))},[e.name,e.field.schemaType,p]),b=m.useMemo(()=>e.field.validation.filter(A=>A.level==="error").map(A=>A.message).join(`
`),[e.field.validation])||void 0,_=m.useMemo(()=>({onBlur:g,onFocus:v,id:e.field.id,ref:l,onChange:x,value:YYe(e.field.schemaType,e.field.value,u),readOnly:!!e.field.readOnly,placeholder:e.field.schemaType.placeholder}),[g,v,x,e.field.id,e.field.readOnly,e.field.schemaType,e.field.value,u]),C=m.useMemo(()=>({value:e.field.value,readOnly:e.field.readOnly,schemaType:e.field.schemaType,changed:e.field.changed,id:e.field.id,path:e.field.path,focused:e.field.focused,level:e.field.level,onChange:y,validation:e.field.validation,presence:e.field.presence,validationError:b,elementProps:_}),[e.field.value,e.field.readOnly,e.field.schemaType,e.field.changed,e.field.id,e.field.path,e.field.focused,e.field.level,e.field.validation,e.field.presence,y,b,_]),S=m.useMemo(()=>n(C),[C,n]),T=m.useMemo(()=>({actions:o.length>0?c.jsx(E$,{focused:e.field.focused,nodes:o}):void 0,name:e.name,index:e.index,level:e.field.level,value:e.field.value,schemaType:e.field.schemaType,title:e.field.schemaType.title,description:e.field.schemaType.description,inputId:e.field.id,path:e.field.path,validation:e.field.validation,presence:e.field.presence,children:S,changed:e.field.changed,inputProps:C}),[o,e.field.focused,e.field.level,e.field.value,e.field.schemaType,e.field.id,e.field.path,e.field.validation,e.field.presence,e.field.changed,e.name,e.index,S,C]);return c.jsxs(c.Fragment,{children:[s&&i.length>0&&c.jsx(qI,{actions:i,documentId:s,documentType:e.field.schemaType.name,onActions:a,path:e.field.path,schemaType:e.field.schemaType}),c.jsx(XI,{actions:o,path:e.field.path,children:r(T)})]})}const $Rn=function(e){const{onPathBlur:n,onPathFocus:r,onChange:i,onPathOpen:s,onSetPathCollapsed:o,onSetFieldSetCollapsed:a,onFieldGroupSelect:l}=Pd(),{member:u,renderAnnotation:d,renderBlock:f,renderField:h,renderInlineBlock:p,renderInput:g,renderItem:v,renderPreview:y}=e,{field:{actions:x}}=Ml().__internal,b=F$(),[_,C]=m.useState([]),S=m.useRef(),T=m.useRef(u.field.value);m.useEffect(()=>{T.current=u.field.value},[u.field.value]),qc(u.field.focused,(F,ne)=>{var ce;!F&&ne&&((ce=S.current)==null||ce.focus())});const A=m.useCallback(()=>{n(u.field.path)},[u.field.path,n]),k=m.useCallback(()=>{r(u.field.path)},[u.field.path,r]),I=m.useCallback(F=>{r(u.field.path.concat(F))},[u.field.path,r]),D=m.useCallback(F=>{if(!(u.field.path.length===0)){const ce=bn.from(F).patches;if(T.current=lie(T.current||{},ce),T.current&&Dan(T.current)){i(bn.from(Jt([u.name])));return}}i(bn.from(F).prepend(sl(oie(u.field.schemaType))).prefixAll(u.name))},[i,u,T]),R=m.useCallback(()=>{o(u.field.path,!0)},[o,u.field.path]),O=m.useCallback(()=>{o(u.field.path,!1)},[o,u.field.path]),L=m.useCallback(F=>{o(u.field.path.concat(F),!0)},[o,u.field.path]),P=m.useCallback(F=>{o(u.field.path.concat(F),!1)},[o,u.field.path]),$=m.useCallback(F=>{s(u.field.path.concat(F))},[s,u.field.path]),B=m.useCallback(()=>{s(u.field.path)},[s,u.field.path]),Q=m.useCallback(F=>{a(u.field.path.concat(F),!1)},[a,u.field.path]),V=m.useCallback(F=>{a(u.field.path.concat(F),!0)},[a,u.field.path]),Z=m.useCallback(()=>{s(u.field.path)},[s,u.field.path]),ie=m.useCallback(()=>{s(u.field.path.slice(0,-1))},[s,u.field.path]),J=m.useCallback(F=>{l(u.field.path,F)},[l,u.field.path]),X=m.useMemo(()=>({onBlur:A,onFocus:k,id:u.field.id,ref:S}),[A,k,u.field.id]),fe=m.useMemo(()=>({elementProps:X,level:u.field.level,members:u.field.members,value:u.field.value,readOnly:u.field.readOnly,validation:u.field.validation,presence:u.field.presence,schemaType:u.field.schemaType,changed:u.field.changed,id:u.field.id,onFieldGroupSelect:J,onFieldOpen:$,onFieldClose:B,onFieldCollapse:L,onFieldExpand:P,onFieldSetExpand:Q,onFieldSetCollapse:V,onPathFocus:I,path:u.field.path,focusPath:u.field.focusPath,focused:u.field.focused,groups:u.field.groups,onChange:D,renderAnnotation:d,renderBlock:f,renderField:h,renderInlineBlock:p,renderInput:g,renderItem:v,renderPreview:y}),[X,u.field.level,u.field.members,u.field.value,u.field.readOnly,u.field.validation,u.field.presence,u.field.schemaType,u.field.changed,u.field.id,u.field.path,u.field.focusPath,u.field.focused,u.field.groups,J,$,B,L,P,Q,V,I,D,d,f,h,p,g,v,y]),ue=m.useMemo(()=>g(fe),[fe,g]),te=m.useMemo(()=>({actions:_.length>0?c.jsx(E$,{focused:u.field.focused,nodes:_}):void 0,name:u.name,index:u.index,level:u.field.level,value:u.field.value,validation:u.field.validation,presence:u.field.presence,title:u.field.schemaType.title,description:u.field.schemaType.description,collapsible:u.collapsible,collapsed:u.collapsed,onCollapse:R,onExpand:O,open:u.open,changed:u.field.changed,onOpen:Z,onClose:ie,schemaType:u.field.schemaType,inputId:u.field.id,path:u.field.path,children:ue,inputProps:fe}),[_,u.field.focused,u.field.level,u.field.value,u.field.validation,u.field.presence,u.field.schemaType,u.field.changed,u.field.id,u.field.path,u.name,u.index,u.collapsible,u.collapsed,u.open,R,O,Z,ie,ue,fe]);return c.jsxs(WI,{onFieldGroupSelect:l,onChange:D,onSetFieldSetCollapsed:a,onPathOpen:s,onSetPathCollapsed:o,onPathBlur:n,onPathFocus:r,children:[b&&x.length>0&&c.jsx(qI,{actions:x,documentId:b,documentType:u.field.schemaType.name,onActions:C,path:u.field.path,schemaType:u.field.schemaType}),c.jsx(XI,{actions:_,path:u.field.path,children:m.useMemo(()=>h(te),[te,h])})]})};function FRn(t,e){return new On(n=>{const r=new FileReader;return r.onerror=i=>n.error(i),r.onload=()=>{n.next(r.result),n.complete()},r.readAsText(t,e),()=>{r.abort()}})}function BRn(t,e,n){const r=t.slice(),i=r[e];return r.splice(e,1),r.splice(n,0,i),r}function NRn(t,e,n){const r=e.slice();return r.splice(t+1,0,...n),r}function VRn(t){return/^\d+$/.test(t)}function URn(t,e){let n=!1,r=!1,i=!1;return e.forEach(s=>{B3(s)&&(n=!0),SPe(s)&&(i=!0),Dx(s)&&(r=!0)}),n&&(t==="true"||t==="false")?t==="true":r&&VRn(t)?Number(t):i?t:void 0}function HRn(t){return{priority:0,accepts:"text/*",type:"string",upload(e,n){return FRn(n,"utf-8").pipe(Be(r=>r==null?void 0:r.split(/[\n\r]/).map(i=>URn(i,t)).filter(i=>i!==void 0)),dt(r=>Array.isArray(r)),Be(r=>({type:"uploadProgress",patches:[nv(r,"after",[-1])]})))}}}function zRn(t){const{onPathBlur:e,onPathFocus:n,onChange:r,onPathOpen:i,onSetPathCollapsed:s,onSetFieldSetCollapsed:o,onFieldGroupSelect:a}=Pd(),{member:l,renderAnnotation:u,renderBlock:d,renderField:f,renderInlineBlock:h,renderInput:p,renderItem:g,renderPreview:v}=t,{field:{actions:y}}=Ml().__internal,x=F$(),[b,_]=m.useState([]),C=m.useRef(),S=m.useRef(),T=Cs(us);qc(l.field.focused,(ne,ce)=>{var me;!ne&&ce&&((me=C.current)==null||me.focus())});const A=m.useCallback(ne=>{ne.currentTarget===ne.target&&ne.currentTarget===C.current&&n(l.field.path)},[l.field.path,n]),k=m.useCallback(ne=>{ne.currentTarget===ne.target&&ne.currentTarget===C.current&&e(l.field.path)},[l.field.path,e]),I=m.useCallback(ne=>{const ce=bn.from(ne).patches;if(ce.some(pe=>pe.type==="unset"&&pe.path.length===1)){const pe=lie(l.field.value||[],ce);if(Array.isArray(pe)&&!pe.length){r(bn.from(Jt([l.name])));return}}r(bn.from(ne).prepend(sl([])).prefixAll(l.name))},[r,l.name,l.field.value]),D=m.useCallback(ne=>{s(l.field.path,ne)},[s,l.field.path]),R=m.useCallback(()=>{s(l.field.path,!0)},[s,l.field.path]),O=m.useCallback(()=>{s(l.field.path,!1)},[s,l.field.path]),L=m.useCallback(ne=>{I(ne.length===0?Jt():_n(ne))},[I]),P=m.useCallback(ne=>{const{value:ce=[]}=l.field;ne.fromIndex!==ne.toIndex&&L(BRn(ce,ne.fromIndex,ne.toIndex))},[l.field,L]),$=m.useCallback(ne=>{const{value:ce=[]}=l.field;L(ce.concat(ne))},[l.field,L]),B=m.useCallback(ne=>{const{value:ce=[]}=l.field;L([ne].concat(ce||[]))},[l.field,L]),Q=m.useCallback(ne=>{const{value:ce=[]}=l.field,me=ne.referenceIndex+(ne.position==="before"?-1:0);L(NRn(me,ce,ne.items))},[l.field,L]),V=m.useCallback(ne=>{I(Jt([ne]))},[I]),Z=m.useCallback(ne=>{n(l.field.path.concat([ne]))},[l.field.path,n]),ie=m.useMemo(()=>({onBlur:k,onFocus:A,id:l.field.id,ref:C}),[k,A,l.field.id]),J=m.useMemo(()=>HRn(l.field.schemaType.of),[l.field.schemaType.of]),X=m.useCallback((ne,ce)=>iK(ce,"text/*")?J:null,[J]),fe=m.useCallback(ne=>{let{file:ce,schemaType:me,uploader:pe}=ne;const Ie=pe.upload(T,ce,me).pipe(Be(xe=>bn.from(xe.patches||[])),Ei(xe=>I(xe.patches)));S.current&&S.current.unsubscribe(),S.current=Ie.subscribe()},[T,I]),ue=m.useMemo(()=>({level:l.field.level,members:l.field.members,value:l.field.value,readOnly:l.field.readOnly,onSetCollapsed:D,schemaType:l.field.schemaType,changed:l.field.changed,id:l.field.id,elementProps:ie,path:l.field.path,focusPath:l.field.focusPath,focused:l.field.focused,onChange:I,onInsert:Q,onMoveItem:P,onItemRemove:V,onItemAppend:$,onItemPrepend:B,validation:l.field.validation,presence:l.field.presence,resolveUploader:X,onUpload:fe,renderAnnotation:u,renderBlock:d,renderInlineBlock:h,renderInput:p,renderItem:g,onIndexFocus:Z,renderPreview:v}),[l.field.level,l.field.members,l.field.value,l.field.readOnly,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.field.focusPath,l.field.focused,l.field.validation,l.field.presence,D,ie,I,Q,P,V,$,B,X,fe,u,d,h,p,g,Z,v]),te=m.useMemo(()=>p(ue),[ue,p]),F=m.useMemo(()=>({actions:b.length>0?c.jsx(E$,{focused:l.field.focused,nodes:b}):void 0,name:l.name,index:l.index,level:l.field.level,value:l.field.value,title:l.field.schemaType.title,description:l.field.schemaType.description,collapsible:l.collapsible,collapsed:l.collapsed,onExpand:O,changed:l.field.changed,onCollapse:R,schemaType:l.field.schemaType,inputId:l.field.id,path:l.field.path,presence:l.field.presence,validation:l.field.validation,children:te,inputProps:ue}),[b,l.field.focused,l.field.level,l.field.value,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.field.presence,l.field.validation,l.name,l.index,l.collapsible,l.collapsed,O,R,te,ue]);return c.jsxs(WI,{onFieldGroupSelect:a,onChange:I,onPathOpen:i,onSetFieldSetCollapsed:o,onSetPathCollapsed:s,onPathBlur:e,onPathFocus:n,children:[x&&y.length>0&&c.jsx(qI,{actions:y,documentId:x,documentType:l.field.schemaType.name,onActions:_,path:l.field.path,schemaType:l.field.schemaType}),c.jsx(XI,{actions:b,path:l.field.path,children:m.useMemo(()=>f(F),[F,f])})]})}function KYe(t){return Yh(t.field.schemaType)}function WRn(t){return _m(t.field.schemaType)&&t.field.schemaType.of.every(e=>TPe(e))}function cie(t){return _m(t.field.schemaType)&&t.field.schemaType.of.every(e=>Yh(e))}const Kv=m.memo(function(e){const{member:n,renderAnnotation:r,renderBlock:i,renderField:s,renderInlineBlock:o,renderInput:a,renderItem:l,renderPreview:u}=e;return KYe(n)?c.jsx($Rn,{member:n,renderAnnotation:r,renderBlock:i,renderField:s,renderInlineBlock:o,renderInput:a,renderItem:l,renderPreview:u}):WRn(n)?c.jsx(zRn,{member:n,renderAnnotation:r,renderBlock:i,renderField:s,renderInput:a,renderInlineBlock:o,renderItem:l,renderPreview:u}):cie(n)?c.jsx(PRn,{member:n,renderAnnotation:r,renderBlock:i,renderField:s,renderInlineBlock:o,renderInput:a,renderItem:l,renderPreview:u}):c.jsx(MRn,{member:n,renderField:s,renderInput:a})}),ZYe=["yes","true","1"],XYe=["false","no","false","0","null"],GRn=ZYe.concat(XYe),q4=()=>!0,qRn=t=>e=>e&&e[t],YRn=t=>e=>(e&&e._type)===t;function KRn(t){const e=new Date(t.getTime()+t.getTimezoneOffset()*60*1e3),n=t.getTimezoneOffset()/60,r=t.getHours();return e.setHours(r-n),e}function ZRn(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return null}const CH={string:{number:{test:Number,convert:Number},boolean:{test:t=>GRn.includes(t.toLowerCase()),convert:t=>ZYe.includes(t.toLowerCase())||!XYe.includes(t.toLowerCase())},richDate:{test:t=>i0(t),convert:t=>({_type:"richDate",local:KRn(new Date(t)).toJSON(),utc:new Date(t).toJSON(),timezone:ZRn(),offset:new Date().getTimezoneOffset()})}},date:{richDate:{test:YRn("date"),convert:t=>Object.assign({},t,{_type:"richDate"})}},richDate:{datetime:{test:qRn("utc"),convert:t=>t.utc}},number:{string:{test:q4,convert:String},boolean:{test:q4,convert:Number}},boolean:{string:{test:q4,convert:t=>t?"Yes":"No"},number:{test:q4,convert:Number}}};function XRn(t){let{value:e,targetType:n,onChange:r}=t;const i=m.useMemo(()=>({...e,_type:n}),[n,e]),s=m.useCallback(()=>r(bn.from(sl(n,["_type"])),i),[i,r,n]);return c.jsx(Ce,{onClick:s,text:c.jsxs(c.Fragment,{children:["Convert to ",c.jsx("code",{children:n})]})})}function QRn(t){let{value:e,onChange:n,validTypes:r}=t;const i=m.useMemo(()=>({...e,_type:r[0]}),[r,e]),s=m.useCallback(()=>n(bn.from(Jt()),i),[i,n]);return c.jsx(Ce,{onClick:s,tone:"critical",text:"Unset value"})}function JRn(t){let{validTypes:e,value:n,onChange:r}=t;const i=es(),s=e.length===1,o=i.has(e[0]);return c.jsx(Lm,{status:"warning",title:c.jsxs(c.Fragment,{children:["Property value missing ",c.jsx("code",{children:"_type"})]}),children:c.jsx(Ew,{open:$0,title:c.jsx(c.Fragment,{children:"Developer info"}),children:c.jsxs(Te,{space:3,children:[c.jsxs(G,{as:"p",muted:!0,size:1,children:["Encountered an object value without a ",c.jsx("code",{children:"_type"})," property."]}),s&&!o&&c.jsxs(G,{as:"p",muted:!0,size:1,children:["Either remove the ",c.jsx("code",{children:"name"})," property of the object declaration, or set"," ",c.jsx("code",{children:"_type"})," property on items."]}),!s&&c.jsx(G,{as:"p",muted:!0,size:1,children:"The following types are valid here according to schema:"}),!s&&c.jsx(Te,{as:"ul",space:2,children:e.map(a=>c.jsx(G,{as:"li",muted:!0,size:1,children:c.jsx("code",{children:a})},a))}),c.jsxs(Te,{space:2,children:[c.jsxs(G,{as:"h4",weight:"semibold",size:1,children:["Current value (",c.jsx("code",{children:"object"}),"):"]}),c.jsx(ge,{border:!0,overflow:"auto",padding:2,radius:2,tone:"inherit",children:c.jsx(qs,{language:"json",children:JSON.stringify(n,null,2)})})]}),c.jsxs(Er,{columns:[1,2,2],gap:1,children:[s&&c.jsx(XRn,{onChange:r,targetType:e[0],value:n}),c.jsx(QRn,{onChange:r,validTypes:e,value:n})]})]})})})}function e4n(t,e,n){return e in CH?Object.keys(CH[e]).filter(r=>n.includes(r)).map(r=>({from:e,to:r,...CH[e][r]})).filter(r=>r.test(t)):[]}const QYe=m.forwardRef((t,e)=>{const{value:n,actualType:r,validTypes:i,onChange:s}=t;m.useImperativeHandle(e,()=>({focus:()=>{}}));const o=m.useCallback(()=>{s(bn.from(Jt()))},[s]),a=m.useCallback(d=>{s(bn.from(_n(d)))},[s]),l=m.useMemo(()=>e4n(n,r,i),[n,r,i]);if(Ys(n)&&!("_type"in n))return c.jsx(JRn,{value:n,validTypes:i,onChange:s});const u=c.jsx(Te,{padding:2,children:c.jsx(Ce,{onClick:o,tone:"critical",text:"Reset value"})});return c.jsxs(Lm,{status:"error",suffix:u,title:c.jsx(c.Fragment,{children:"Invalid property value"}),children:[c.jsx(G,{as:"p",muted:!0,size:1,children:"The property value is stored as a value type that does not match the expected type."}),c.jsx(Ew,{marginTop:4,open:$0,title:c.jsx(c.Fragment,{children:"Developer info"}),children:c.jsxs(Te,{space:3,children:[i.length===1&&c.jsxs(G,{as:"p",muted:!0,size:1,children:["The value of this property must be of type ",c.jsx("code",{children:i[0]})," according to the schema."]}),i.length===1&&c.jsx(G,{as:"p",muted:!0,size:1,children:"Mismatching value types typically occur when the schema has recently been changed."}),i.length!==1&&c.jsx(G,{as:"p",muted:!0,size:1,children:"Only the following types are valid here according to schema:"}),i.length!==1&&c.jsx(Te,{as:"ul",space:2,children:i.map(d=>c.jsx(G,{as:"li",children:c.jsx("code",{children:d})},d))}),c.jsxs(Te,{marginTop:2,space:2,children:[c.jsxs(G,{size:1,weight:"semibold",children:["The current value (",c.jsx("code",{children:r}),")"]}),c.jsx(ge,{border:!0,padding:2,radius:2,tone:"inherit",children:c.jsx(qs,{language:"json",size:1,children:JSON.stringify(n,null,2)})})]}),l.length>0&&c.jsx(Te,{space:1,children:l.map(d=>c.jsx(t4n,{converter:d,onConvert:a,value:n},"".concat(d.from,"-").concat(d.to)))})]})})]})});QYe.displayName="InvalidValueInput";function t4n(t){let{converter:e,onConvert:n,value:r}=t;const i=m.useCallback(()=>n(e.convert(r)),[e,n,r]);return c.jsx(Ce,{onClick:i,text:c.jsxs(c.Fragment,{children:["Convert to ",c.jsx("code",{children:e.to})]})})}function n4n(t){const{error:e,onChange:n}=t,r=m.useCallback(()=>{n(bn.from((e.value||[]).map((i,s)=>sl(jI(),[s,"_key"]))))},[e.value,n]);return c.jsx(bE,{title:e.schemaType.title,description:e.schemaType.description,children:c.jsxs(Lm,{status:"warning",suffix:c.jsx(Te,{padding:2,children:c.jsx(Ce,{onClick:r,text:"Add missing keys",tone:"caution"})}),title:c.jsx(c.Fragment,{children:"Missing keys"}),children:[c.jsx(G,{as:"p",muted:!0,size:1,children:"Some items in the list are missing their keys. This must be fixed in order to edit the list."}),c.jsx(Ew,{marginTop:4,open:$0,title:c.jsx(c.Fragment,{children:"Developer info"}),children:c.jsxs(Te,{space:3,children:[c.jsxs(G,{as:"p",muted:!0,size:1,children:["This usually happens when items are created using an API client, and the"," ",c.jsx("code",{children:"_key"})," property has not been included."]}),c.jsxs(G,{as:"p",muted:!0,size:1,children:["The value of the ",c.jsx("code",{children:"_key"})," property must be a unique string."]})]})})]})})}function r4n(t){const{error:e,onChange:n}=t,r=m.useCallback(()=>{n(bn.from((e.duplicates||[]).map(i=>{let[s,o]=i;return _n("".concat(o,"_deduped_").concat(s),[s,"_key"])})))},[e.duplicates,n]);return c.jsx(bE,{title:e.schemaType.title,description:e.schemaType.description,children:c.jsxs(Lm,{status:"warning",suffix:c.jsx(Te,{padding:2,children:c.jsx(Ce,{onClick:r,text:"Generate unique keys",tone:"caution"})}),title:c.jsx(c.Fragment,{children:"Non-unique keys"}),children:[c.jsx(G,{as:"p",muted:!0,size:1,children:"Several items in this list share the same identifier (key). Every item must have an unique identifier."}),c.jsx(Ew,{marginTop:4,open:$0,title:c.jsx(c.Fragment,{children:"Developer info"}),children:c.jsxs(Te,{space:3,children:[c.jsxs(G,{as:"p",muted:!0,size:1,children:["This usually happens when items are created using an API client, and the"," ",c.jsx("code",{children:"_key"})," property of each elements has been generated non-uniquely."]}),c.jsxs(G,{as:"p",muted:!0,size:1,children:["The value of the ",c.jsx("code",{children:"_key"})," property must be a unique string."]})]})})]})})}function i4n(t){const{error:e,onChange:n}=t,r=()=>{const s=(e.value||[]).flatMap((o,a)=>Ys(o)?[]:[a]).reverse().map(o=>Jt([o]));n(bn.from(s))};return c.jsx(bE,{title:e.schemaType.title,description:e.schemaType.description,children:c.jsxs(Lm,{status:"error",suffix:c.jsx(Te,{padding:2,children:c.jsx(Ce,{onClick:r,text:"Remove non-object values",tone:"critical"})}),title:c.jsx(c.Fragment,{children:"Invalid list values"}),children:[c.jsx(G,{as:"p",muted:!0,size:1,children:"Some items in this list are not objects. This must be fixed in order to edit the list."}),c.jsx(Ew,{marginTop:4,open:$0,title:c.jsx(c.Fragment,{children:"Developer info"}),children:c.jsx(Te,{space:3,children:c.jsx(G,{as:"p",muted:!0,size:1,children:"This usually happens when items are created using an API client, or when a custom input component has added invalid data to the list."})})})]})})}function B$(t){const{member:e}=t,{onChange:n}=Pd(),r=m.useCallback(i=>{n(bn.from(i).prefixAll(e.fieldName))},[n,e.fieldName]);return e.error.type==="INCOMPATIBLE_TYPE"?c.jsx(QYe,{value:e.error.value,onChange:r,actualType:e.error.resolvedValueType,validTypes:[e.error.expectedSchemaType.name]}):e.error.type==="MISSING_KEYS"?c.jsx(n4n,{error:e.error,onChange:r}):e.error.type==="DUPLICATE_KEYS"?c.jsx(r4n,{error:e.error,onChange:r}):e.error.type==="MIXED_ARRAY"?c.jsx(i4n,{onChange:r,error:e.error}):c.jsxs(N,{children:["Unexpected error: ",t.member.error.type]})}const die=m.memo(function(e){var n;const{member:r,renderAnnotation:i,renderBlock:s,renderField:o,renderInlineBlock:a,renderInput:l,renderItem:u,renderPreview:d}=e,{onSetFieldSetCollapsed:f}=Pd(),h=m.useCallback(()=>{f(r.fieldSet.path,!0)},[r.fieldSet.path,f]),p=m.useCallback(()=>{f(r.fieldSet.path,!1)},[r.fieldSet.path,f]);return c.jsx(O$,{title:r.fieldSet.title||pw(r.fieldSet.name),description:r.fieldSet.description,level:r.fieldSet.level,collapsible:r.fieldSet.collapsible,collapsed:r.fieldSet.collapsed,onCollapse:h,onExpand:p,columns:(n=r==null?void 0:r.fieldSet)==null?void 0:n.columns,"data-testid":"fieldset-".concat(r.fieldSet.name),children:r.fieldSet.members.map(g=>g.kind==="error"?c.jsx(B$,{member:g},r.key):c.jsx(Kv,{member:g,renderAnnotation:i,renderBlock:s,renderField:o,renderInlineBlock:a,renderInput:l,renderItem:u,renderPreview:d},g.key))})});function fie(t){const e=m.useRef(),{member:n,renderAnnotation:r,renderBlock:i,renderField:s,renderInlineBlock:o,renderInput:a,renderItem:l,renderPreview:u}=t,{onPathBlur:d,onPathFocus:f,onChange:h,onPathOpen:p,onSetPathCollapsed:g,onSetFieldSetCollapsed:v,onFieldGroupSelect:y}=Pd(),x=Jie();qc(n.item.focused,(F,ne)=>{var ce;!F&&ne&&((ce=e.current)==null||ce.focus())});const b=m.useCallback(()=>{h(bn.from([Jt([{_key:n.key}])]))},[n.key,h]),_=m.useCallback(F=>{p(F),g(F,!1)},[p,g]),C=Na(),S=m.useCallback(F=>{if(F.items.length===0)throw new Error("Insert event should include at least one item");const ne=F.items.map(xe=>nL(xe));h(bn.from([nv(ne,F.position,[{_key:n.key}])]));const ce=ne[0]._key,pe=[...n.item.path.slice(0,-1),{_key:ce}];f(pe);const Ie=F.open!==!1;F.skipInitialValue?Ie&&_(pe):WYe(ne,n.parentSchemaType,x).pipe(Ei(xe=>{xe.type==="patch"?h(bn.from(xe.patches)):C.push({title:"Could not resolve initial value",description:"Unable to resolve initial value for type: ".concat(xe.schemaType.title,": ").concat(xe.error.message,"."),status:"error"})})).subscribe({complete:()=>{Ie&&_(pe)}})},[_,n.item.path,n.key,n.parentSchemaType,h,f,x,C]),T=m.useCallback(()=>{d(n.item.path)},[n.item.path,d]),A=m.useCallback(()=>{f(n.item.path)},[n.item.path,f]),k=m.useCallback(F=>{f(n.item.path.concat(F))},[n.item.path,f]),I=m.useCallback(F=>{h(bn.from(F).prepend(sl(oie(n.item.schemaType))).prefixAll({_key:n.key}))},[h,n.item.schemaType,n.key]),D=m.useCallback(()=>{g(n.item.path,!0)},[g,n.item.path]),R=m.useCallback(()=>{g(n.item.path,!1)},[g,n.item.path]),O=m.useCallback(F=>{g(n.item.path.concat(F),!0)},[g,n.item.path]),L=m.useCallback(F=>{g(n.item.path.concat(F),!1)},[g,n.item.path]),P=m.useCallback(()=>{p(n.item.path)},[p,n.item.path]),$=m.useCallback(F=>{p(n.item.path.concat(F))},[p,n.item.path]),B=m.useCallback(F=>{v(n.item.path.concat(F),!1)},[v,n.item.path]),Q=m.useCallback(F=>{v(n.item.path.concat(F),!0)},[v,n.item.path]),V=m.useCallback(()=>{p(n.item.path)},[p,n.item.path]),Z=!n.item.value||zYe(n.item.value),ie=m.useCallback(()=>{Z&&b();const F=n.item.path.slice(0,-1);p(F),f(F)},[Z,p,n.item.path,f,b]),J=m.useCallback(F=>{y(n.item.path,F)},[y,n.item.path]),X=m.useMemo(()=>({onBlur:T,onFocus:A,id:n.item.id,ref:e}),[T,A,n.item.id]),fe=m.useMemo(()=>({changed:n.item.changed,focusPath:n.item.focusPath,focused:n.item.focused,groups:n.item.groups,id:n.item.id,level:n.item.level,members:n.item.members,onChange:I,onFieldClose:P,onFieldCollapse:O,onFieldSetCollapse:Q,onFieldExpand:L,onFieldSetExpand:B,onFieldGroupSelect:J,onPathFocus:k,onFieldOpen:$,path:n.item.path,presence:n.item.presence,readOnly:n.item.readOnly,renderAnnotation:r,renderBlock:i,renderField:s,renderInlineBlock:o,renderInput:a,renderItem:l,renderPreview:u,schemaType:n.item.schemaType,validation:n.item.validation,value:n.item.value,elementProps:X}),[X,I,P,O,Q,L,B,k,$,J,n.item.changed,n.item.focusPath,n.item.focused,n.item.groups,n.item.id,n.item.level,n.item.members,n.item.path,n.item.presence,n.item.readOnly,n.item.schemaType,n.item.validation,n.item.value,r,i,s,o,a,l,u]),ue=m.useMemo(()=>a(fe),[fe,a]),te=m.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,collapsible:n.collapsible,collapsed:n.collapsed,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:S,onRemove:b,presence:n.item.presence,validation:n.item.validation,open:n.open,onOpen:V,onClose:ie,onExpand:R,onCollapse:D,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:A,onBlur:T,inputId:n.item.id,path:n.item.path,children:ue,changed:n.item.changed,inputProps:fe}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.parentSchemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.item.changed,n.collapsible,n.collapsed,n.open,S,b,V,ie,R,D,A,T,ue,fe]);return c.jsx(WI,{onFieldGroupSelect:y,onChange:I,onPathOpen:p,onSetFieldSetCollapsed:v,onSetPathCollapsed:g,onPathBlur:d,onPathFocus:f,children:m.useMemo(()=>l(te),[te,l])})}function hie(t){switch(t.jsonType){case"string":return"";case"number":return-0;case"boolean":return!1;default:throw new Error('Unable to create value from type "'.concat(t.jsonType,'"'))}}function s4n(t){const e=m.useRef(),{member:n,renderItem:r,renderInput:i}=t,[s,o]=m.useState(),{onPathBlur:a,onPathFocus:l,onChange:u}=Pd();qc(n.item.focused,(C,S)=>{var T;!C&&S&&((T=e.current)==null||T.focus())});const d=m.useCallback(C=>{a(n.item.path)},[n.item.path,a]),f=m.useCallback(C=>{l(n.item.path)},[n.item.path,l]),h=m.useCallback(C=>{u(bn.from(C).prefixAll(n.index))},[u,n.index]),p=m.useCallback(C=>{let S=C.currentTarget.value;if(Dx(n.item.schemaType)){if(S=C.currentTarget.valueAsNumber,S>Number.MAX_SAFE_INTEGER||S<Number.MIN_SAFE_INTEGER)return}else B3(n.item.schemaType)&&(S=C.currentTarget.checked);const T=S===""||typeof S=="number"&&isNaN(S);Dx(n.item.schemaType)&&o(T?void 0:C.currentTarget.value),h(_n(T?hie(n.item.schemaType):S))},[h,n.item.schemaType]),g=m.useMemo(()=>({onBlur:d,onFocus:f,id:n.item.id,ref:e,onChange:p,value:o4n(n.item.schemaType,n.item.value,s),readOnly:!!n.item.readOnly,placeholder:n.item.schemaType.placeholder}),[d,f,p,n.item.id,n.item.readOnly,n.item.schemaType,n.item.value,s]),v=m.useMemo(()=>({changed:n.item.changed,level:n.item.level,value:n.item.value,readOnly:n.item.readOnly,schemaType:n.item.schemaType,id:n.item.id,path:n.item.path,focused:n.item.focused,onChange:h,validation:n.item.validation,presence:n.item.presence,elementProps:g}),[n.item.changed,n.item.level,n.item.value,n.item.readOnly,n.item.schemaType,n.item.id,n.item.path,n.item.focused,n.item.validation,n.item.presence,h,g]),y=m.useMemo(()=>i(v),[v,i]),x=m.useCallback(()=>{u(bn.from([Jt([n.index])]))},[n.index,u]),b=m.useCallback(C=>{u(bn.from([nv(C.items,C.position,[n.index])]))},[n.index,u]),_=m.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:b,onRemove:x,presence:n.item.presence,validation:n.item.validation,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:f,onBlur:d,inputId:n.item.id,path:n.item.path,children:y}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.parentSchemaType,b,x,f,d,y]);return c.jsx(c.Fragment,{children:m.useMemo(()=>r(_),[_,r])})}function o4n(t,e,n){return Object.is(e,-0)?"":YYe(t,e,n)}var z5e=Object.freeze,a4n=Object.defineProperty,l4n=(t,e)=>z5e(a4n(t,"raw",{value:z5e(e||t.slice())})),W5e;const u4n=H(ge)(W5e||(W5e=l4n([`
  max-width: `,`px;
`])),t=>{let{theme:e}=t;return e.sanity.container[1]});function JYe(t){const{value:e,onFocus:n,vertical:r,...i}=t,[s,o]=re.useState(!1),[a,l]=re.useState(null);ga(()=>o(!1),[a]);const u=re.useCallback(h=>{(h.key==="Escape"||h.key==="Tab")&&o(!1)},[]),d=m.useCallback(()=>{o(h=>!h)},[]),f=Bc(e);return c.jsx(Ti,{open:s,ref:l,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:c.jsx(u4n,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:c.jsxs(Te,{space:4,children:[c.jsxs(G,{weight:"semibold",children:["Item of type ",c.jsx("code",{children:f})," not valid for this list"]}),c.jsx(G,{size:1,weight:"semibold",children:"Why is this happening?"}),c.jsxs(G,{size:1,children:["The current schema does not declare items of type ",c.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),c.jsx(N,{children:c.jsxs(G,{size:1,children:[c.jsx(f7,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),c.jsxs(Te,{space:2,children:[c.jsx(G,{size:1,weight:"semibold",children:"JSON representation of this item:"}),c.jsx(ge,{padding:2,overflow:"auto",border:!0,children:c.jsx(qs,{size:1,as:"pre",language:"json",children:JSON.stringify(e,null,2)})})]})]})}),children:c.jsx(ge,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...i,children:c.jsxs(ae,{align:"center",children:[c.jsx(N,{marginRight:3,children:c.jsx(G,{children:c.jsx(kh,{})})}),c.jsx(N,{flex:1,children:c.jsxs(G,{size:1,textOverflow:"ellipsis",children:["Item of type ",c.jsx("code",{children:f})," not valid for this list"]})})]})})})}function c4n(t){const{member:e}=t;return e.error.type==="INVALID_ITEM_TYPE"?c.jsx(JYe,{value:e.error.value}):c.jsxs("div",{children:["Unexpected Error: ",e.error.type]})}const d4n=m.memo(function(e){const{member:n,renderAnnotation:r,renderBlock:i,renderInput:s,renderInlineBlock:o,renderField:a,renderItem:l,renderPreview:u}=e;return n.kind==="field"?c.jsx(Kv,{member:n,renderAnnotation:r,renderBlock:i,renderInlineBlock:o,renderInput:s,renderField:a,renderItem:l,renderPreview:u},n.key):n.kind==="error"?c.jsx(B$,{member:n},n.key):n.kind==="fieldSet"?c.jsx(die,{member:n,renderAnnotation:r,renderBlock:i,renderInlineBlock:o,renderInput:s,renderField:a,renderItem:l,renderPreview:u},n.key):(console.warn(new Error("Unhandled member kind ".concat(n.kind))),null)});function f4n(t){const{members:e,renderAnnotation:n,renderBlock:r,renderInput:i,renderInlineBlock:s,renderField:o,renderItem:a,renderPreview:l}=t,u=m.useMemo(()=>e.map(d=>c.jsx(d4n,{member:d,renderAnnotation:n,renderBlock:r,renderField:o,renderInlineBlock:s,renderInput:i,renderItem:a,renderPreview:l},d.key)),[e,n,r,o,s,i,a,l]);return c.jsx(c.Fragment,{children:u})}const WS=t=>{let{children:e}=t;return e};function h4n(t){return"absolutePath"in t}const eKe=m.memo(function(e){const n=m.useMemo(()=>h4n(e)?e.absolutePath:e.path.concat(e.relativePath),[e]),r=m.useCallback(()=>c.jsx(c.Fragment,{children:"Missing destination render function"}),[]);return c.jsx(p4n,{...e,absolutePath:n,destinationRenderAnnotation:e.renderAnnotation||r,destinationRenderBlock:e.renderBlock||r,destinationRenderField:e.renderField,destinationRenderInlineBlock:e.renderInlineBlock||r,destinationRenderInput:e.renderInput,destinationRenderItem:e.renderItem,destinationRenderPreview:e.renderPreview})}),p4n=m.memo(function t(e){const{absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:i,destinationRenderField:s,destinationRenderInlineBlock:o,destinationRenderInput:a,destinationRenderItem:l,destinationRenderPreview:u}=e,d=m.useCallback(y=>{if(Li(y.path,n)||ou(n,y.path))return a(y);if(!L5e(y)&&!P5e(y))throw new Error("Expected either object input props or array input props for: ".concat(JSON.stringify(y.path)));return c.jsx(t,{...y,absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:i,destinationRenderInput:a,destinationRenderItem:l,destinationRenderField:s,destinationRenderInlineBlock:o,destinationRenderPreview:u})},[n,r,i,s,o,a,l,u]),f=m.useCallback(y=>ou(n,y.path)&&(e.includeField||!Li(n,y.path))?s(y):WS(y),[n,s,e.includeField]),h=m.useCallback(y=>ou(n,y.path)&&(e.includeItem||!Li(n,y.path))?l(y):WS(y),[n,l,e.includeItem]),p=m.useCallback(y=>ou(n,y.path)&&(e.includeItem||!Li(n,y.path))?i(y):WS(y),[n,i,e.includeItem]),g=m.useCallback(y=>ou(n,y.path)&&(e.includeItem||!Li(n,y.path))?o(y):WS(y),[n,o,e.includeItem]),v=m.useCallback(y=>ou(n,y.path)&&(e.includeItem||!Li(n,y.path))?r(y):WS(y),[n,r,e.includeItem]);if(P5e(e)){const y=tk(e.path,n),x=e.members.find(b=>b.kind=="item"&&jo(y[0])&&b.key===y[0]._key);if(!x){const _=tk(e.path,n)[0]._key;return c.jsxs("div",{children:["No array item with _key ",c.jsxs("code",{children:['"',_,'"']})," found at path ",JSON.stringify(e.path)]})}return x.kind==="error"?c.jsx(c4n,{member:x}):c.jsx(fie,{member:x,renderAnnotation:v,renderBlock:p,renderInput:d,renderField:f,renderInlineBlock:g,renderItem:h,renderPreview:u})}if(L5e(e)){const y=tk(e.path,n),x=e.members.find(b=>b.kind=="field"&&y[0]===b.name);if(!x){const b=y[0];return c.jsxs("div",{children:["Field ",JSON.stringify(b)," not found among members  please verify that it's both defined in the schema and that it has not been conditionally hidden."]})}return c.jsx(Kv,{member:x,renderAnnotation:v,renderBlock:p,renderInput:d,renderInlineBlock:g,renderField:f,renderItem:h,renderPreview:u})}throw new Error("FormInput can only be used with arrays or objects")}),tKe=m.createContext(null);function m4n(){const t=m.useContext(tKe);if(!t)throw new Error("VirtualizerScrollInstance: missing context value");return t}function I6(t){const{scrollElement:e,containerElement:n}=t;return c.jsx(tKe.Provider,{value:{scrollElement:e,containerElement:n},children:t.children})}const g4n=[0,0,1,0];function nKe(t){const{children:e,header:n,id:r,legacy_referenceElement:i,onClose:s,type:o,width:a,autofocus:l}=t,[u,d]=m.useState(null),f=m.useRef(null),h=c.jsx(j$,{margins:g4n,children:c.jsx(N,{ref:f,padding:4,children:e})});return o==="dialog"?c.jsx(I6,{scrollElement:u,containerElement:f,children:c.jsx(pa,{header:n,id:r||"",onClickOutside:s,onClose:s,width:a,contentRef:d,__unstable_autoFocus:l,children:h})}):c.jsx(v5n,{header:n,onClose:s,referenceElement:i,width:a,containerRef:d,children:c.jsx(I6,{scrollElement:u,containerElement:f,children:h})})}function v4n(t){let{readOnly:e,hasErrors:n,hasWarnings:r}=t;return e?"transparent":n?"critical":r?"caution":"default"}const y4n={portal:!0,tone:"default"},b4n={position:"absolute",top:0,left:0,bottom:0,right:0,opacity:.6},x4n={position:"relative"};function w4n(t){var e,n,r,i,s,o;const{schemaType:a,parentSchemaType:l,path:u,readOnly:d,onRemove:f,value:h,open:p,onInsert:g,onFocus:v,onOpen:y,onClose:x,changed:b,focused:_,children:C,inputProps:{renderPreview:S}}=t,T=!d&&((e=l.options)==null?void 0:e.sortable)!==!1,A=l.of,k=m.useRef(null);D$(k,p),qc(_,(X,fe)=>{var ue;!X&&fe&&k.current&&((ue=k.current)==null||ue.focus())});const I=h._resolvingInitialValue,D=m.useCallback(()=>{g({items:[{...h,_key:o3()}],position:"after"})},[g,h]),R=m.useCallback((X,fe)=>{g({items:[xE(fe)],position:X})},[g]),O=hE(u,!0),L=m.useMemo(()=>O.length===0?null:c.jsx(vE,{presence:O,maxAvatars:1}),[O]),P=Bre(u,!0),$=m.useMemo(()=>P.length===0?null:c.jsx(N,{marginLeft:1,paddingX:1,paddingY:3,children:c.jsx(yE,{validation:P,__unstable_showSummary:!0})}),[P]),B=P.some(X=>X.level==="error"),Q=P.some(X=>X.level==="warning"),V=m.useMemo(()=>d?null:c.jsx(vr,{button:c.jsx(Ce,{padding:2,mode:"bleed",icon:ll}),id:"".concat(t.inputId,"-menuButton"),menu:c.jsxs(er,{children:[c.jsx(St,{text:"Remove",tone:"critical",icon:Qo,onClick:f}),c.jsx(St,{text:"Duplicate",icon:Ox,onClick:D}),c.jsx(M$,{types:A,onInsert:R})]}),popover:y4n}),[D,R,f,A,t.inputId,d]),Z=v4n({readOnly:d,hasErrors:B,hasWarnings:Q}),ie=c.jsx(L$,{menu:V,presence:L,validation:$,tone:Z,focused:_,dragHandle:T,selected:p,children:c.jsxs(ge,{as:"button",type:"button",tone:"inherit",radius:2,disabled:I,padding:1,onClick:y,ref:k,onFocus:v,__unstable_focusRing:!0,style:x4n,children:[S({schemaType:t.schemaType,value:t.value,layout:"default",skipVisibilityCheck:!0}),I&&c.jsx(ge,{style:b4n,tone:"transparent",radius:2,as:ae,justify:"center",children:c.jsxs(ae,{align:"center",justify:"center",padding:3,children:[c.jsx(N,{marginX:3,children:c.jsx(_s,{muted:!0})}),c.jsx(G,{size:1,muted:!0,children:"Resolving initial value"})]})})]})}),J=Dre(a);return c.jsxs(c.Fragment,{children:[c.jsx(Pl,{path:u,isChanged:b,hasFocus:!!_,children:c.jsx(N,{paddingX:1,children:ie})}),p&&c.jsx(nKe,{header:d?"View ".concat(J):"Edit ".concat(J),type:((r=(n=l==null?void 0:l.options)==null?void 0:n.modal)==null?void 0:r.type)||"dialog",width:(o=(s=(i=l==null?void 0:l.options)==null?void 0:i.modal)==null?void 0:s.width)!=null?o:1,id:h._key,onClose:x,autofocus:_,legacy_referenceElement:k.current,children:C})]})}function _4n(t){var e;return(e=t.components)!=null&&e.item?t.components.item:Iv(t)?WDn:w4n}function C4n(t){let{readOnly:e,hasErrors:n,hasWarnings:r}=t;return e?"transparent":n?"critical":r?"caution":"default"}const E4n={portal:!0,tone:"default"};function S4n(t){var e,n,r,i,s,o,a,l,u,d;const f=m.useRef(null),{schemaType:h,path:p,open:g,inputId:v,children:y,inputProps:x}=t,{readOnly:b,focused:_,renderPreview:C,onChange:S}=t.inputProps,T=m.useCallback(()=>x.onChange(Jt()),[x]),A=t.value,{EditReferenceLink:k,getReferenceInfo:I,selectedState:D,isCurrentDocumentLiveEdit:R}=Cie({path:p,schemaType:h,value:A});D$(f,g),qc(_,(we,De)=>{!we&&De&&f.current&&f.current.focus()});const O=t.validation.some(we=>we.level==="error"),L=t.validation.some(we=>we.level==="warning"),P=$$(A==null?void 0:A._ref,I),$=((e=P.result)==null?void 0:e.type)||((n=A==null?void 0:A._strengthenOnPublish)==null?void 0:n.type),B=$?h.to.find(we=>we.name===$):void 0,Q=D==="pressed",V=D==="selected",Z=A==null?void 0:A._ref,ie=Z&&((s=(i=(r=P.result)==null?void 0:r.preview)==null?void 0:i.published)==null?void 0:s._id),J=m.useCallback(()=>{S([h.weak===!0?_n(!0,["_weak"]):Jt(["_weak"]),Jt(["_strengthenOnPublish"])])},[S,h.weak]),X=m.useCallback(()=>{S(h.weak===!0?_n(!0,["_weak"]):Jt(["_weak"]))},[S,h]),fe=m.useCallback(()=>{x.onPathFocus(["_ref"])},[x]),ue=A!=null&&A._weak?"weak":"strong",te=h.weak===!0?"weak":"strong",F=Z&&!P.isLoading&&(A==null?void 0:A._strengthenOnPublish),ne=!P.isLoading&&((o=P.result)==null?void 0:o.availability.available)&&Z&&ue!==te&&!F,ce=C4n({readOnly:b,hasErrors:O,hasWarnings:L}),me=!(A!=null&&A._ref)||x.focusPath[0]==="_ref",pe=((a=P.result)==null?void 0:a.preview.draft)||((l=P.result)==null?void 0:l.preview.published),Ie=c.jsxs(c.Fragment,{children:[R&&ie&&A._strengthenOnPublish&&c.jsx(Ev,{padding:1,title:h.weak?"Finalize reference":"Convert to strong reference",status:"info","data-testid":"alert-reference-published",children:c.jsxs(Te,{space:3,children:[c.jsxs(G,{as:"p",muted:!0,size:1,children:[c.jsx("strong",{children:(d=(u=P.result)==null?void 0:u.preview.published)==null?void 0:d.title})," is published and this reference should now be"," ",h.weak?c.jsx(c.Fragment,{children:"finalized"}):c.jsx(c.Fragment,{children:"converted to a strong reference"}),"."]}),c.jsx(Ce,{onClick:J,text:c.jsx(c.Fragment,{children:"Convert to strong reference"}),tone:"positive"})]})}),ne&&c.jsx(Ev,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:c.jsxs(Te,{space:3,children:[c.jsxs(G,{as:"p",muted:!0,size:1,children:["This reference is ",c.jsx("em",{children:ue}),", but according to the current schema it should be"," ",c.jsxs("em",{children:[te,"."]})]}),c.jsx(G,{as:"p",muted:!0,size:1,children:h.weak?c.jsxs(c.Fragment,{children:["It will not be possible to delete the"," ",pe!=null&&pe.title?c.jsxs(c.Fragment,{children:['"',pe==null?void 0:pe.title,'"-document']}):c.jsx(c.Fragment,{children:"referenced document"})," ","without first removing this reference."]}):c.jsxs(c.Fragment,{children:["This makes it possible to delete the"," ",pe!=null&&pe.title?c.jsxs(c.Fragment,{children:['"',pe==null?void 0:pe.title,'"-document']}):c.jsx(c.Fragment,{children:"referenced document"})," ","without first deleting this reference, leaving this field referencing a nonexisting document."]})}),c.jsx(Ce,{onClick:X,text:c.jsxs(c.Fragment,{children:["Convert to ",te," reference"]}),tone:"caution"})]})}),P.error&&c.jsx(Ev,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:c.jsxs(Te,{space:3,children:[c.jsxs(G,{as:"p",muted:!0,size:1,children:["Error: ",P.error.message]}),c.jsx(Ce,{onClick:P.retry,text:c.jsx(c.Fragment,{children:"Retry"}),tone:"primary"})]})})]}),xe=m.useMemo(()=>m.forwardRef(function(De,de){return c.jsx(D0,{...De,intent:"edit",params:{id:A==null?void 0:A._ref,type:B==null?void 0:B.name},target:"_blank",rel:"noopener noreferrer",ref:de})}),[B==null?void 0:B.name,A==null?void 0:A._ref]),Pe=m.useMemo(()=>b?null:c.jsx(N,{marginLeft:1,children:c.jsx(vr,{button:c.jsx(Ce,{paddingY:3,paddingX:2,mode:"bleed",icon:ll}),id:"".concat(v,"-menuButton"),menu:c.jsxs(er,{children:[!b&&c.jsxs(c.Fragment,{children:[c.jsx(St,{text:"Clear",tone:"critical",icon:Qo,onClick:T}),c.jsx(St,{text:"Replace",icon:b7,onClick:fe})]}),!b&&(A==null?void 0:A._ref)&&c.jsx(Ci,{}),(A==null?void 0:A._ref)&&c.jsx(St,{as:xe,"data-as":"a",text:"Open in new tab",icon:z3})]}),popover:E4n})}),[T,fe,v,xe,b,A==null?void 0:A._ref]);return c.jsx(bE,{__unstable_headerActions:t.actions,level:t.level,title:t.title,description:t.description,validation:t.validation,__unstable_presence:t.presence,children:me?c.jsx(N,{paddingY:2,children:y}):c.jsx(ge,{shadow:1,radius:1,padding:1,tone:ce,children:c.jsxs(Te,{space:1,children:[c.jsxs(ae,{gap:1,align:"center",children:[c.jsx(LYe,{flex:1,as:k,tone:"inherit",radius:2,documentId:A==null?void 0:A._ref,documentType:B==null?void 0:B.name,paddingX:2,paddingY:1,__unstable_focusRing:!0,selected:V,pressed:Q,ref:f,"data-selected":V?!0:void 0,"data-pressed":Q?!0:void 0,children:c.jsx(OYe,{value:A,referenceInfo:P,renderPreview:C,type:h})}),c.jsx(N,{children:Pe})]}),Ie]})})})}function rKe(t,e){return ms(t.options,e)}const G5e=["array","file","image","reference","slug"],T4n=["asset","crop","hotspot","_ref","_weak"],k4n=["tags"],A4n=["slug"];function pie(t,e){if(!t)return[];if(e.has(t))return[];e.add(t);const n=t.type?pie(t.type,e):[];return[t,...n]}function I4n(t,e){return _m(t)?R4n(t,e):D4n(t,e)}function D4n(t,e){var n,r,i;const{type:s,options:o}=t,a=iKe(s,G5e),l=(t==null?void 0:t.jsonType)==="object"?t.fields:void 0,u=(a==null?void 0:a.name)||"";if(A4n.includes(u))return 0;const d=G5e.includes(u),f=((n=l==null?void 0:l.filter(p=>!T4n.includes(p.name)).length)!=null?n:0)>0,h=((i=(r=o==null?void 0:o.list)==null?void 0:r.length)!=null?i:0)>0;return f||h||!d?e:0}function R4n(t,e){var n;const{options:r}=t,i=((n=(r==null?void 0:r.list)||[])==null?void 0:n.length)>0,s=k4n.includes((r==null?void 0:r.layout)||"");return i&&!s?e:0}function iKe(t,e){if(t!=null&&t.name&&e.includes(t==null?void 0:t.name))return t;if(t)return iKe(t.type,e)}function j4n(t){const{onMouseEnter:e,onMouseLeave:n}=GI();return c.jsx(Pl,{path:t.path,hasFocus:!!t.inputProps.focused,isChanged:t.inputProps.changed,onMouseEnter:e,onMouseLeave:n,children:t.children})}function O4n(t){const{onMouseEnter:e,onMouseLeave:n}=GI();return c.jsx(bE,{__unstable_headerActions:t.actions,__unstable_presence:t.presence,"data-testid":"field-".concat(t.inputId),description:t.description,inputId:t.inputId,level:t.level,onMouseEnter:e,onMouseLeave:n,title:t.title,validation:t.validation,children:c.jsx(Pl,{path:t.path,hasFocus:!!t.inputProps.focused,isChanged:t.inputProps.changed,children:t.children})})}function L4n(t){const{onMouseEnter:e,onMouseLeave:n}=GI();return c.jsx(O$,{__unstable_headerActions:t.actions,"data-testid":"field-".concat(t.inputId),level:t.level,title:t.title,description:t.description,collapsed:t.collapsed,collapsible:t.collapsible,onCollapse:t.onCollapse,onExpand:t.onExpand,onMouseEnter:e,onMouseLeave:n,validation:t.validation,__unstable_presence:t.presence,children:t.children})}function P4n(t){const{onMouseEnter:e,onMouseLeave:n}=GI(),r=t.inputProps.members.find(s=>s.kind==="field"&&s.name==="hotspot"),i=r!=null&&r.open?t.presence:t.presence.concat((r==null?void 0:r.field.presence)||[]);return c.jsx(O$,{__unstable_headerActions:t.actions,level:t.level,title:t.title,description:t.description,collapsed:t.collapsed,collapsible:t.collapsible,onCollapse:t.onCollapse,onExpand:t.onExpand,onMouseEnter:e,onMouseLeave:n,validation:t.validation,__unstable_presence:i,children:t.children})}function M4n(t){var e;if((e=t.components)!=null&&e.field)return t.components.field;if(B3(t))return j4n;const n=pie(t,new Set);return n.some(r=>r.name==="image"||r.name==="file")?P4n:n.some(r=>Iv(r))?S4n:t.jsonType!=="object"&&t.jsonType!=="array"?O4n:L4n}function $4n(t){const{allowedDecorators:e,block:n,onChange:r}=t;let i;return s=>{i=Array.isArray(s)?s:[s],i=i.map(a=>UA(a,{allowedDecorators:e}));const o=[nv(i,"after",[{_key:n._key}])];return r(bn.from(o))}}function F4n(t){const{allowedDecorators:e,block:n,onChange:r}=t;return i=>{const s=[_n(UA(i,{allowedDecorators:e}),[{_key:n._key}])];return r(bn.from(s))}}function B4n(t){const{block:e,onChange:n}=t;return()=>{const r=[Jt([{_key:e._key}])];return n(bn.from(r))}}var q5e=Object.freeze,N4n=Object.defineProperty,V4n=(t,e)=>q5e(N4n(t,"raw",{value:q5e(e||t.slice())})),Y5e;const U4n=H.div(Y5e||(Y5e=V4n([`
  display: flex;
  pointer-events: all;
`])));function sKe(t){const e=va(),{block:n,onChange:r,renderBlockActions:i}=t,s=m.useMemo(()=>e.schemaTypes.decorators.map(a=>a.value),[e]),o=m.useMemo(()=>{if(i){const a={block:n,value:_t.getValue(e),set:F4n({allowedDecorators:s,block:n,onChange:r}),unset:B4n({block:n,onChange:r}),insert:$4n({allowedDecorators:s,block:n,onChange:r})};return i(a)}},[i,n,e,r,s]);return o?c.jsx(U4n,{contentEditable:!1,children:o}):null}var K5e=Object.freeze,H4n=Object.defineProperty,z4n=(t,e)=>K5e(H4n(t,"raw",{value:K5e(e||t.slice())})),Z5e;const oKe=H.div(t=>{let{theme:e}=t;const{radius:n,space:r,color:i}=e.sanity,s=fr(i.spot.yellow,.2);return qe(Z5e||(Z5e=z4n([`
    position: absolute;
    border-radius: `,`px;
    top: -`,`px;
    bottom: -`,`px;
    left: `,`px;
    right: 0;
    background-color: `,`;
  `])),n[3],r[2],r[1]+r[1],r[4]+r[1],s)});var X5e=Object.freeze,W4n=Object.defineProperty,G4n=(t,e)=>X5e(W4n(t,"raw",{value:X5e(e||t.slice())})),Q5e;const aKe=H(Pl)(()=>qe(Q5e||(Q5e=G4n([`
    width: 1px;
    height: 100%;

    & > div {
      height: 100%;
    }
  `]))));function N$(t){return t.type?N$(t.type):t.name==="block"}function q4n(t){return t.kind==="field"&&t.field.schemaType.jsonType==="array"}const Y4n=["@@_NONEXISTENT_PATH_@@"];function V$(t){const e=m.useRef(null),n=t!=null&&t.validation&&t.validation.length>0?t.validation:vs,r=Bre((t==null?void 0:t.path)||Y4n),i=m.useMemo(()=>t!=null&&t.schemaType&&N$(t==null?void 0:t.schemaType)?n:n.concat(r),[r,t,n]),[s,o,a]=m.useMemo(()=>[i.filter(u=>u.level==="error").length>0,i.filter(u=>u.level==="warning").length>0,i.filter(u=>u.level==="info").length>0],[i]),l=Fre(e.current,i);return e.current=l,m.useMemo(()=>({validation:l,hasError:s,hasWarning:o,hasInfo:a}),[l,s,o,a])}const lKe=m.createContext([]);function K4n(t){return c.jsx(lKe.Provider,{value:t.markers,children:t.children})}function U$(t){const e=m.useContext(lKe);if(!e)throw new Error("Form context not provided");return m.useMemo(()=>e.filter(r=>Li(r.path,t)),[e,t])}const mie=m.createContext([]);function Z4n(t){return c.jsx(mie.Provider,{value:t.memberItems,children:t.children})}function H$(t){const e=m.useContext(mie);if(!e)throw new Error("Form context not provided");return e.find(n=>n.key===t)}function X4n(){const t=m.useContext(mie);if(!t)throw new Error("Form context not provided");return t}var J5e=Object.freeze,Q4n=Object.defineProperty,m0=(t,e)=>J5e(Q4n(t,"raw",{value:J5e(e||t.slice())})),e_e,t_e,n_e,r_e,i_e,s_e,o_e,a_e,l_e;const J4n=H(ge)(t=>{var e;const{color:n,radius:r,space:i}=t.theme.sanity,s=qe(e_e||(e_e=m0([`
    pointer-events: none;
    content: '';
    position: absolute;
    top: -`,`px;
    bottom: -`,`px;
    left: -`,`px;
    right: -`,`px;
    border-radius: `,`px;
    mix-blend-mode: `,`;
  `])),i[1],i[1],i[1],i[1],r[2],n.dark?"screen":"multiply");return qe(t_e||(t_e=m0([`
    box-shadow: 0 0 0 1px var(--card-border-color);
    border-radius: `,`px;
    pointer-events: all;
    position: relative;

    &[data-focused] {
      box-shadow: 0 0 0 1px `,`;
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-markers] {
      &:after {
        `,`
        background-color: `,`;
      }
    }

    &[data-warning] {
      &:after {
        `,`
        background-color: `,`;
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-invalid] {
      &:after {
        `,`
        background-color: `,`;
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }
  `])),r[1],(e=n.selectable)==null?void 0:e.primary.selected.border,n.input.default.hovered.border,s,n.dark?Ke.purple[950].hex:Ke.purple[50].hex,s,n.muted.caution.hovered.bg,n.muted.caution.hovered.border,s,n.input.invalid.enabled.bg,n.input.invalid.hovered.border)}),ejn=H(N)(n_e||(n_e=m0([`
  display: block;
  width: 100%;
  user-select: none;
  pointer-events: all;
`]))),tjn=H.div(t=>{let{theme:e,$hasChanges:n}=t;const{space:r}=e.sanity;return qe(i_e||(i_e=m0([`
      position: absolute;
      width: `,`px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: `,`px;
      user-select: none;

      `,`

      [data-dragged] & {
        visibility: hidden;
      }
    `])),r[2],r[1],!n&&qe(r_e||(r_e=m0([`
        display: none;
      `]))))}),njn=H(ae)(s_e||(s_e=m0([`
  position: relative;

  [data-dragged] > & {
    opacity: 0.5;
  }
`]))),rjn=H(N)(o_e||(o_e=m0([`
  width: 25px;
  position: relative;

  [data-dragged] & {
    visibility: hidden;
  }
`]))),ijn=H(ae)(a_e||(a_e=m0([`
  position: absolute;
  right: 0;
  [data-dragged] & {
    visibility: hidden;
  }
`]))),sjn=H(N)(l_e||(l_e=m0([`
  max-width: 250px;
`]))),ojn={constrainSize:!0,placement:"bottom",portal:"default",tone:"default"};function ajn(t){const{children:e,focused:n,isOpen:r,onOpen:i,onRemove:s,readOnly:o,value:a}=t,l=m.useId(),u=m.useRef(null),d=m.useRef(!1),f=m.useMemo(()=>wm(a)?m.forwardRef(function(g,v){return c.jsx(D0,{...g,intent:"edit",params:{id:a._ref},ref:v})}):void 0,[a]);m.useEffect(()=>{r&&(d.current=!1)},[r]),zf(m.useCallback(p=>{n&&p.key==="Tab"&&u.current&&!d.current&&!r&&(p.preventDefault(),p.stopPropagation(),u.current.focus(),d.current=!0)},[n,r]));const h=m.useCallback(p=>{p.preventDefault(),p.stopPropagation(),s()},[s]);return c.jsxs(ae,{children:[c.jsx(N,{flex:1,children:e}),c.jsx(N,{children:c.jsx(vr,{button:c.jsx(Ce,{"aria-label":"Open menu",fontSize:1,iconRight:ll,mode:"bleed",paddingX:2,tabIndex:n?0:1}),ref:u,id:l,menu:c.jsx(er,{children:c.jsxs(c.Fragment,{children:["_ref"in a&&a._ref&&c.jsx(St,{as:f,"data-as":"a",icon:Lx,text:"Open reference"}),o&&c.jsx(St,{icon:oQ,onClick:i,text:"View"}),!o&&c.jsx(St,{icon:Ph,onClick:i,text:"Edit"}),!o&&c.jsx(St,{icon:Qo,onClick:h,text:"Delete",tone:"critical"})]})}),popover:ojn})})]})}const uKe=t=>Array.isArray(t)?t.flatMap(uKe):typeof t=="number"?[t]:t==="auto"?["auto"]:[],ljn=t=>t==="dialog"||t==="popover"?t:void 0;function ujn(t){var e;const n=(e=t.options)==null?void 0:e.modal;return typeof n=="object"&&n!==null?{type:ljn(n.type),width:uKe(n.width)}:void 0}function cjn(t){const{onClose:e,children:n,title:r,width:i=1,autoFocus:s}=t,o=m.useId(),[a,l]=m.useState(null),u=m.useRef(null);return c.jsx(pa,{header:r,id:o,onClickOutside:e,onClose:e,portal:"default",width:i,contentRef:l,__unstable_autoFocus:s,children:c.jsx(j$,{margins:[0,0,1,0],children:c.jsx(I6,{scrollElement:a,containerElement:u,children:c.jsx(N,{padding:4,ref:u,children:n})})})})}var u_e=Object.freeze,djn=Object.defineProperty,gie=(t,e)=>u_e(djn(t,"raw",{value:u_e(e||t.slice())})),c_e,d_e,f_e;const fjn=H(Ti)(c_e||(c_e=gie([`
  &[data-popper-reference-hidden='true'] {
    visibility: hidden;
    pointer-events: none;
  }

  & > div {
    overflow: hidden;
    overflow: clip;
  }
`]))),hjn=H(N)(d_e||(d_e=gie([`
  /* Prevent overflow caused by change indicator */
  overflow-x: hidden;
  overflow-y: auto;
`]))),pjn=H(N)(f_e||(f_e=gie([`
  box-shadow: 0 1px 0 var(--card-shadow-outline-color);
  position: relative;
  z-index: 10;
  min-height: auto;
`]))),mjn=["top","bottom"];function gjn(t){const{floatingBoundary:e,referenceBoundary:n,referenceElement:r,width:i=0}=t,[s,o]=m.useState(!1);return m.useEffect(()=>{o(!0)},[]),c.jsx(fjn,{content:c.jsx(vjn,{...t}),constrainSize:!0,"data-ui":"PopoverEditDialog",fallbackPlacements:mjn,floatingBoundary:e,open:s,overflow:"auto",placement:"bottom",portal:"default",preventOverflow:!0,referenceBoundary:n,referenceElement:r,width:i})}function vjn(t){const{onClose:e,referenceBoundary:n,referenceElement:r,title:i,autoFocus:s}=t;zf(m.useCallback(u=>{u.key==="Escape"&&e()},[e])),ga(e,r?[r]:[],n);const[o,a]=m.useState(null),l=m.useRef(null);return c.jsx(I6,{scrollElement:o,containerElement:l,children:c.jsxs(ae,{ref:l,direction:"column",height:"fill",children:[c.jsx(pjn,{flex:"none",padding:1,children:c.jsxs(ae,{align:"center",children:[c.jsx(N,{flex:1,padding:2,children:c.jsx(G,{weight:"semibold",children:i})}),c.jsx(Ce,{autoFocus:!!s,icon:Rd,mode:"bleed",onClick:e,padding:2})]})}),c.jsx(hjn,{flex:1,children:c.jsx(j$,{margins:[0,0,1,0],children:c.jsx(N,{padding:3,ref:a,children:t.children})})})]})})}function vie(t){const{autoFocus:e,defaultType:n,floatingBoundary:r,onClose:i,referenceBoundary:s,referenceElement:o,schemaType:a}=t,l=m.useMemo(()=>ujn(a),[a]),u=(l==null?void 0:l.type)||n,d=c.jsxs(c.Fragment,{children:["Edit ",a.title]}),f=m.useCallback(()=>{i()},[i]),h=l==null?void 0:l.width;return u==="popover"?c.jsx(gjn,{autoFocus:e,floatingBoundary:r,onClose:f,referenceBoundary:s,referenceElement:o,title:d,width:h,children:t.children}):c.jsx(cjn,{onClose:f,title:d,width:h,autoFocus:e,children:t.children})}function yjn(t){var e;const{floatingBoundary:n,focused:r,isFullscreen:i,onItemClose:s,onItemOpen:o,onPathFocus:a,path:l,readOnly:u,referenceBoundary:d,relativePath:f,renderAnnotation:h,renderBlock:p,renderBlockActions:g,renderCustomMarkers:v,renderField:y,renderInlineBlock:x,renderInput:b,renderItem:_,renderPreview:C,schemaType:S,selected:T,value:A}=t,{onChange:k}=Pd(),{Markers:I}=Ml().__internal.components,[D,R]=m.useState(!1),O=U$(l),L=va(),P=H$(Si(l)),$=m.useRef(!1),B=m.useMemo(()=>({anchor:{path:f,offset:0},focus:{path:f,offset:0}}),[f]),Q=m.useCallback(()=>R(!0),[]),V=m.useCallback(()=>R(!1),[]),Z=m.useCallback(()=>{P&&(_t.blur(L),o(P.node.path))},[L,P,o]),ie=m.useCallback(()=>{s(),_t.select(L,B),_t.focus(L)},[s,L,B]),J=m.useCallback(()=>{if(!$.current)try{_t.delete(L,B,{mode:"blocks"})}catch(ve){console.error(ve)}finally{$.current=!0}},[L,B]);m.useEffect(()=>()=>{$.current&&_t.focus(L)},[L]);const X=m.useMemo(()=>i&&!g?{paddingX:5}:i&&g?{paddingLeft:5,paddingRight:2}:g?{paddingLeft:3,paddingRight:2}:{paddingX:3},[i,g]),{validation:fe,hasError:ue,hasWarning:te,hasInfo:F}=V$(P==null?void 0:P.node),ne=L.schemaTypes.portableText,ce=O.length>0,me=hE(l,!0),pe=m.useMemo(()=>me.filter(ve=>Li(ve.path,l)),[l,me]),Ie=ue||te||F||ce,xe=m.useMemo(()=>Ie&&c.jsx(sjn,{padding:2,children:c.jsx(I,{markers:O,validation:fe,renderCustomMarkers:v})})||null,[I,O,v,Ie,fe]),Pe=!!(P!=null&&P.member.open),we=P==null?void 0:P.input,De=(P==null?void 0:P.node.path)||vs,de=(e=P==null?void 0:P.elementRef)==null?void 0:e.current,be=m.useMemo(()=>({__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:de||null,children:we,focused:r,markers:O,onClose:ie,onOpen:Z,onPathFocus:a,onRemove:J,open:Pe,parentSchemaType:ne,path:De,presence:pe,readOnly:!!u,renderAnnotation:h,renderBlock:p,renderDefault:cKe,renderField:y,renderInlineBlock:x,renderInput:b,renderItem:_,renderPreview:C,schemaType:S,selected:T,validation:fe,value:A}),[n,de,we,r,O,ie,Z,a,J,Pe,ne,De,pe,u,d,h,p,y,x,b,_,C,S,T,fe,A]);return m.useMemo(()=>c.jsx(N,{ref:P==null?void 0:P.elementRef,contentEditable:!1,children:c.jsx(ae,{paddingBottom:1,marginY:3,style:void 0,children:c.jsxs(njn,{flex:1,children:[c.jsx(Mn,{placement:"top",portal:"editor",disabled:!Ie,content:xe,children:c.jsx(ejn,{...X,children:p&&p(be)})}),c.jsx(rjn,{marginRight:1,children:c.jsx(ijn,{children:g&&A&&r&&!u&&c.jsx(sKe,{block:A,onChange:k,renderBlockActions:g})})}),i&&P&&c.jsx(tjn,{$hasChanges:P.member.item.changed,onMouseOut:V,onMouseOver:Q,children:c.jsx(aKe,{hasFocus:r,isChanged:P.member.item.changed,path:P.member.item.path,withHoverEffect:!1})}),D&&c.jsx(oKe,{})]})})}),[be,r,V,Q,X,i,P,k,u,p,g,D,xe,Ie,A])}const cKe=t=>{const{__unstable_floatingBoundary:e,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:i,focused:s,markers:o,onClose:a,onOpen:l,onRemove:u,open:d,readOnly:f,renderPreview:h,schemaType:p,selected:g,value:v,validation:y}=t,x=Ift(v),b=y.filter(A=>A.level==="error").length>0,_=y.filter(A=>A.level==="warning").length>0,C=o.length>0,S=g||s?"primary":"default",T=m.useCallback(A=>{A.preventDefault(),A.stopPropagation(),l()},[l]);return c.jsxs(c.Fragment,{children:[c.jsx(J4n,{"data-focused":s?"":void 0,"data-image-preview":x?"":void 0,"data-invalid":b?"":void 0,"data-markers":C?"":void 0,"data-read-only":f?"":void 0,"data-selected":g?"":void 0,"data-testid":"pte-block-object","data-warning":_?"":void 0,flex:1,onDoubleClick:T,padding:x?0:1,tone:S,children:h({actions:c.jsx(ajn,{isOpen:d,focused:s,onOpen:l,onRemove:u,readOnly:f,value:v}),layout:x?"blockImage":"block",schemaType:p,skipVisibilityCheck:!0,value:v})}),d&&c.jsx(vie,{floatingBoundary:e,defaultType:"dialog",onClose:a,autoFocus:s,schemaType:p,referenceBoundary:n,referenceElement:r,children:i})]})},GS=[1,2,3,4,5,6,7,8,9],h_e=["","",""],p_e=["number","lower-alpha","lower-roman"],bjn={em:"em","strike-through":"s",underline:"u",strong:"strong",code:"code"},xjn={h1:{paddingTop:5,paddingBottom:4},h2:{paddingTop:4,paddingBottom:4},h3:{paddingTop:4,paddingBottom:3},h4:{paddingTop:4,paddingBottom:3},h5:{paddingTop:4,paddingBottom:3},h6:{paddingTop:4,paddingBottom:2},normal:{paddingTop:2,paddingBottom:3},blockquote:{paddingTop:2,paddingBottom:3}};function Hb(t){return"list-level-".concat(t)}var m_e=Object.freeze,wjn=Object.defineProperty,bm=(t,e)=>m_e(wjn(t,"raw",{value:m_e(e||t.slice())})),g_e,v_e,y_e,b_e,x_e,w_e,__e,C_e,E_e,S_e;function _jn(t){var e;const{$level:n,theme:r}=t,{color:i,fonts:s,radius:o,space:a}=r.sanity,l=p_e[(n-1)%p_e.length],u=h_e[(n-1)%h_e.length];return qe(g_e||(g_e=bm([`
    --marker-bg-color: transparent;

    mix-blend-mode: `,`;
    position: relative;

    & > [data-ui='TextBlock_inner'] {
      position: relative;
      flex: 1;
    }

    & > div:before {
      content: '';
      position: absolute;
      top: -`,`px;
      bottom: -`,`px;
      left: -`,`px;
      right: -`,`px;
      border-radius: `,`px;
      background-color: var(--marker-bg-color);
      // This is to make sure the marker is always behind the text
      z-index: -1;
    }

    &[data-markers] {
      --marker-bg-color: `,`;
    }

    &[data-warning] {
      --card-border-color: `,`;
      --marker-bg-color: `,`;
    }

    &[data-error] {
      --card-border-color: `,`;
      --marker-bg-color: `,`;
    }

    & [data-list-prefix] {
      position: absolute;
      margin-left: -4.5rem;
      width: 3.75rem;
      text-align: right;
      box-sizing: border-box;
    }

    &[data-list-item='number'] [data-list-prefix] {
      font-variant-numeric: tabular-nums;

      & > span:before {
        content: counter(`,`) '.';
        content: counter(`,", ",`) '.';
      }
    }

    &[data-list-item='bullet'] [data-list-prefix] {
      & > span {
        position: relative;
        top: -0.1875em;

        &:before {
          content: '`,`';
          font-size: 0.46666em;
        }
      }
    }

    & [data-text] {
      overflow-wrap: anywhere;
      text-transform: none;
      white-space: pre-wrap;
      font-family: `,`;
      flex: 1;

      *::selection {
        background-color: `,`;
      }
    }
  `])),i.dark?"screen":"multiply",a[1],a[1],a[1],a[1],o[2],i.dark?Ke.purple[950].hex:Ke.purple[50].hex,i.muted.caution.enabled.border,i.muted.caution.hovered.bg,i.muted.critical.enabled.border,i.muted.critical.hovered.bg,Hb(n),Hb(n),l,u,s.text.family,(e=i.selectable)==null?void 0:e.primary.pressed.bg)}const Cjn=H.div(_jn),Ejn=H(N)(v_e||(v_e=bm([`
  position: relative;
  display: flex;
`]))),Sjn=H.div(y_e||(y_e=bm([`
  user-select: none;
  white-space: nowrap;
`]))),Tjn=H(N)(b_e||(b_e=bm([`
  user-select: none;
`]))),kjn=H(N)(x_e||(x_e=bm([`
  line-height: 0;
  width: 25px;
  position: relative;
`]))),Ajn=H(ae)(t=>{let{theme:e}=t;const{fonts:n,space:r}=e.sanity,i=n.text.sizes[1],s=n.text.sizes[2],o=i.lineHeight-i.ascenderHeight-i.descenderHeight,a=s.lineHeight-s.ascenderHeight-s.descenderHeight,u=0-(o+r[2]+r[2]-a)/2;return qe(w_e||(w_e=bm([`
    user-select: none;
    position: absolute;
    right: 0;
    top: `,`px;
  `])),u)}),Ijn=H(N)(__e||(__e=bm([`
  max-width: 250px;
`]))),Djn=H(ae)(C_e||(C_e=bm([`
  position: relative;
  padding-left: `,`px;
`])),t=>{let{$level:e}=t;return e?e*32:0}),Rjn=H.div(t=>{let{theme:e,$hasChanges:n}=t;const{space:r}=e.sanity;return qe(S_e||(S_e=bm([`
      position: absolute;
      width: `,`px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: `,`px;
      user-select: none;

      `,`
    `])),r[2],r[1],!n&&qe(E_e||(E_e=bm([`
        display: none;
      `]))))});var T_e=Object.freeze,jjn=Object.defineProperty,dKe=(t,e)=>T_e(jjn(t,"raw",{value:T_e(e||t.slice())})),k_e,A_e;const F0=H.div(k_e||(k_e=dKe([`
  display: block;
`]))),yie=t=>{let{children:e,...n}=t;return c.jsx(G,{"data-testid":"text-style--normal",...n,children:c.jsx(F0,{children:e})})},fKe=t=>{let{children:e,...n}=t;return c.jsx(Ws,{as:"h1","data-testid":"text-style--h1",size:5,...n,children:c.jsx(F0,{children:e})})},hKe=t=>{let{children:e,...n}=t;return c.jsx(Ws,{as:"h2","data-testid":"text-style--h2",size:4,...n,children:c.jsx(F0,{children:e})})},pKe=t=>{let{children:e,...n}=t;return c.jsx(Ws,{as:"h3","data-testid":"text-style--h3",size:3,...n,children:c.jsx(F0,{children:e})})},mKe=t=>{let{children:e,...n}=t;return c.jsx(Ws,{as:"h4","data-testid":"text-style--h4",size:2,...n,children:c.jsx(F0,{children:e})})},gKe=t=>{let{children:e,...n}=t;return c.jsx(Ws,{as:"h5","data-testid":"text-style--h5",size:1,...n,children:c.jsx(F0,{children:e})})},vKe=t=>{let{children:e,...n}=t;return c.jsx(Ws,{as:"h6","data-testid":"text-style--h6",size:0,...n,children:c.jsx(F0,{children:e})})},Ojn=H.blockquote(A_e||(A_e=dKe([`
  position: relative;
  display: block;
  margin: 0;
  padding-left: `,`px;

  &::before {
    content: '';
    position: absolute;
    left: 0;
    top: -4px;
    bottom: -4px;
    width: 3px;
    background: var(--card-border-color);
  }
`])),t=>{let{theme:e}=t;return e.sanity.space[3]}),yKe=t=>{let{children:e,...n}=t;return c.jsx(Ojn,{"data-testid":"text-style--blockquote",...n,children:c.jsx(G,{as:"p",children:e})})},EH={normal:yie,h1:fKe,h2:hKe,h3:pKe,h4:mKe,h5:gKe,h6:vKe,blockquote:yKe};function Ljn(t){const{children:e,floatingBoundary:n,focused:r,isFullscreen:i,onItemClose:s,onItemOpen:o,onPathFocus:a,path:l,readOnly:u,referenceBoundary:d,renderBlock:f,renderAnnotation:h,renderBlockActions:p,renderCustomMarkers:g,renderField:v,renderInlineBlock:y,renderInput:x,renderItem:b,renderPreview:_,schemaType:C,selected:S,spellCheck:T,value:A}=t,{Markers:k}=Ml().__internal.components,[I,D]=m.useState(!1),R=U$(l),O=H$(Si(l)),L=va(),{onChange:P}=Pd(),$=hE(l,!0),B=m.useMemo(()=>$.filter(we=>Li(we.path,l)||we.path.slice(-3)[1]==="children"&&we.path.length-l.length===2),[l,$]),Q=m.useCallback(()=>D(!0),[]),V=m.useCallback(()=>D(!1),[]),{validation:Z,hasError:ie,hasWarning:J,hasInfo:X}=V$(O==null?void 0:O.node),fe=!!g&&R.length>0,ue=ie||J||fe||X,te=m.useCallback(()=>{O&&o(O.node.path)},[o,O]),F=m.useCallback(()=>{const we={focus:{path:l,offset:0},anchor:{path:l,offset:0}};_t.delete(L,we,{mode:"blocks"}),setTimeout(()=>_t.focus(L))},[L,l]),ne=m.useMemo(()=>c.jsxs(Djn,{align:"flex-start",$level:A==null?void 0:A.level,children:[A.listItem&&c.jsx(Sjn,{contentEditable:!1,children:c.jsx(G,{"data-list-prefix":"",children:c.jsx(F0,{})})}),c.jsx("div",{"data-text":"",style:void 0,children:e})]}),[A.listItem,A.level,e]),ce=m.useMemo(()=>i&&!p?{paddingX:5}:i&&p?{paddingLeft:5,paddingRight:2}:p?{paddingLeft:3,paddingRight:2}:{paddingX:3},[i,p]),me=m.useMemo(()=>A.listItem?{paddingY:2}:xjn[A.style||"normal"]||{paddingY:2},[A]),pe=!!(O!=null&&O.member.open),Ie=L.schemaTypes.portableText,xe=m.useMemo(()=>{var we;return{__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:((we=O==null?void 0:O.elementRef)==null?void 0:we.current)||null,children:ne,focused:r,markers:R,onClose:s,onOpen:te,onPathFocus:a,onRemove:F,open:pe,parentSchemaType:Ie,path:(O==null?void 0:O.node.path)||vs,presence:B,readOnly:!!u,renderAnnotation:h,renderBlock:f,renderDefault:bKe,renderField:v,renderInput:x,renderInlineBlock:y,renderItem:b,renderPreview:_,schemaType:C,selected:S,validation:Z,value:A}},[n,r,pe,R,O==null?void 0:O.elementRef,O==null?void 0:O.node.path,s,te,a,F,Ie,u,d,h,f,v,y,x,b,_,C,S,ne,B,Z,A]),Pe=m.useMemo(()=>ue&&c.jsx(Ijn,{padding:2,children:c.jsx(k,{markers:R,renderCustomMarkers:g,validation:Z})})||null,[k,R,g,ue,Z]);return m.useMemo(()=>c.jsx(N,{"data-testid":"text-block",...me,style:void 0,ref:O==null?void 0:O.elementRef,children:c.jsx(Ejn,{"data-testid":"text-block__wrapper",children:c.jsxs(ae,{flex:1,...ce,children:[c.jsx(N,{flex:1,children:c.jsx(Mn,{content:Pe,disabled:!ue,placement:"top",portal:"editor",children:c.jsx(Cjn,{$level:A.level||1,"data-error":ie?"":void 0,"data-list-item":A.listItem,"data-markers":fe?"":void 0,"data-read-only":u,"data-testid":"text-block__text","data-warning":J?"":void 0,spellCheck:T,children:f&&f(xe)})})}),c.jsxs(Tjn,{contentEditable:!1,children:[c.jsx(kjn,{marginRight:1,children:c.jsx(Ajn,{children:p&&r&&!u&&c.jsx(sKe,{onChange:P,block:A,renderBlockActions:p})})}),i&&O&&c.jsx(Rjn,{$hasChanges:O.member.item.changed,onMouseEnter:Q,onMouseLeave:V,children:c.jsx(aKe,{hasFocus:r,isChanged:O.member.item.changed,path:O.member.item.path,withHoverEffect:!1})})]}),I&&c.jsx(oKe,{})]})})}),[xe,r,Q,V,ie,fe,J,ce,i,O,P,me,u,f,p,I,T,Pe,ue,A])}const bKe=t=>c.jsx(c.Fragment,{children:t.children});var I_e=Object.freeze,Pjn=Object.defineProperty,Mjn=(t,e)=>I_e(Pjn(t,"raw",{value:I_e(e||t.slice())})),D_e;const $jn=H(Ti)(D_e||(D_e=Mjn([`
  &[data-popper-reference-hidden='true'] {
    display: none !important;
  }
`]))),Fjn=["top","bottom"];function Bjn(t){const{floatingBoundary:e,onClosePopover:n,onEdit:r,onDelete:i,referenceBoundary:s,referenceElement:o,title:a,open:l}=t,{sanity:u}=Zu(),d=m.useRef(null),f=m.useRef(null),h=u.color.dark?"light":"dark";zf(m.useCallback(v=>{v.key==="Escape"&&(v.preventDefault(),v.stopPropagation(),n())},[n]));const p=m.useCallback(v=>{var y;if(!((y=f.current)!=null&&y.disabled)){v.preventDefault(),v.stopPropagation();try{i(v)}catch(x){console.error(x)}finally{f.current&&(f.current.disabled=!0)}}},[i]),g=m.useMemo(()=>c.jsx(N,{padding:1,children:c.jsxs(cn,{space:1,children:[c.jsx(N,{padding:2,children:c.jsx(G,{weight:"semibold",size:1,children:a})}),c.jsx(Ce,{icon:Ph,mode:"bleed",onClick:r,padding:2,ref:d,alt:"Edit object"}),c.jsx(Ce,{ref:f,icon:Qo,mode:"bleed",padding:2,onClick:p,tone:"critical",alt:"Remove object"})]})}),[p,r,a]);return c.jsx($jn,{constrainSize:!0,content:g,fallbackPlacements:Fjn,floatingBoundary:e,open:l,placement:"top",portal:!0,referenceBoundary:s,referenceElement:o,scheme:h})}var R_e=Object.freeze,Njn=Object.defineProperty,bie=(t,e)=>R_e(Njn(t,"raw",{value:R_e(e||t.slice())})),j_e,O_e,L_e;const Vjn=H(ge)(zjn),Ujn=H.span(j_e||(j_e=bie([`
  display: block;
  max-width: calc(5em + 80px);
  position: relative;
`]))),Hjn=H(N)(O_e||(O_e=bie([`
  max-width: 250px;
`])));function zjn(t){let{theme:e}=t;var n,r,i;const{color:s,radius:o}=e.sanity;return qe(L_e||(L_e=bie([`
    line-height: 0;
    border-radius: `,`px;
    padding: 2px;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    height: calc(1em - 1px);
    margin-top: 0.0625em;
    cursor: default;

    &:not([hidden]) {
      display: inline-flex;
      align-items: center;
      vertical-align: top;
    }

    &[data-ready-only] {
      cursor: default;
    }

    &[data-focused] {
      box-shadow: inset 0 0 0 1px `,`;
      color: `,`;
    }

    &[data-selected] {
      background-color: `,`;
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-markers] {
      --card-bg-color: `,`;
    }

    &[data-warning] {
      --card-bg-color: `,`;

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-invalid] {
      --card-bg-color: `,`;
      --card-border-color: `,`;

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }
  `])),o[2],(n=s.selectable)==null?void 0:n.primary.selected.border,(r=s.selectable)==null?void 0:r.primary.pressed.fg,(i=s.selectable)==null?void 0:i.primary.pressed.bg,s.input.default.hovered.border,s.dark?Ke.purple[950].hex:Ke.purple[50].hex,s.muted.caution.hovered.bg,s.muted.caution.hovered.border,s.input.invalid.enabled.bg,s.input.invalid.enabled.border,s.input.invalid.hovered.border)}const Wjn=t=>{var e;const{floatingBoundary:n,focused:r,onItemClose:i,onItemOpen:s,onPathFocus:o,path:a,readOnly:l,referenceBoundary:u,relativePath:d,renderAnnotation:f,renderBlock:h,renderCustomMarkers:p,renderField:g,renderItem:v,renderInlineBlock:y,renderInput:x,renderPreview:b,schemaType:_,selected:C,value:S}=t,{Markers:T}=Ml().__internal.components,A=va(),k=U$(a),I=H$(Si(a)),{validation:D,hasError:R,hasInfo:O,hasWarning:L}=V$(I==null?void 0:I.node),P=A.schemaTypes.block,$=k.length>0,B=m.useMemo(()=>({anchor:{path:d,offset:0},focus:{path:d,offset:0}}),[d]),Q=m.useCallback(()=>{_t.delete(A,B,{mode:"children"}),_t.focus(A)},[B,A]),V=m.useCallback(()=>{I&&(_t.blur(A),s(I.node.path))},[A,s,I]),Z=m.useCallback(()=>{i(),_t.select(A,B),_t.focus(A)},[i,A,B]),ie=!!(I!=null&&I.member.open),J=I==null?void 0:I.input,X=(I==null?void 0:I.node.path)||vs,fe=(e=I==null?void 0:I.elementRef)==null?void 0:e.current,ue=hE(a,!0),te=m.useMemo(()=>ue.filter(me=>Li(me.path,a)),[a,ue]),F=m.useMemo(()=>({__unstable_floatingBoundary:n,__unstable_referenceBoundary:u,__unstable_referenceElement:fe,children:J,focused:r,onClose:Z,onOpen:V,onPathFocus:o,onRemove:Q,open:ie,markers:k,member:I==null?void 0:I.member,parentSchemaType:P,path:X,presence:te,readOnly:!!l,renderAnnotation:f,renderBlock:h,renderDefault:xKe,renderField:g,renderInlineBlock:y,renderInput:x,renderItem:v,renderPreview:b,schemaType:_,selected:C,value:S,validation:D}),[n,r,J,ie,k,I==null?void 0:I.member,X,Z,V,o,Q,P,l,u,fe,f,h,g,y,x,v,b,te,_,C,D,S]),ne=R||L||O||$,ce=m.useMemo(()=>ne&&c.jsx(Hjn,{padding:2,children:c.jsx(T,{markers:k,validation:D,renderCustomMarkers:p})})||null,[T,k,p,ne,D]);return m.useMemo(()=>c.jsx("span",{ref:I==null?void 0:I.elementRef,contentEditable:!1,children:c.jsx(Mn,{placement:"bottom",portal:"editor",disabled:!ne,content:ce,children:y&&c.jsx("span",{style:{position:"relative"},children:y(F)})})}),[F,I==null?void 0:I.elementRef,y,ce,ne])},xKe=t=>{const{__unstable_floatingBoundary:e,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:i,focused:s,markers:o,onClose:a,onOpen:l,onRemove:u,open:d,readOnly:f,renderPreview:h,schemaType:p,selected:g,validation:v,value:y}=t,x=o.length>0,[b,_]=m.useState(!1),C=(p==null?void 0:p.title)||p.name,S=v.filter(D=>D.level==="error").length>0,T=v.filter(D=>D.level==="warning").length>0,A=m.useCallback(()=>{_(!1),l()},[l]);m.useEffect(()=>{_(d?!1:!!s)},[s,d]);const k=m.useMemo(()=>{if(S)return"critical";if(T)return"caution";if(g||s)return"primary"},[s,S,T,g]),I=m.useCallback(()=>{_(!1)},[]);return c.jsxs(c.Fragment,{children:[c.jsx(Vjn,{"data-focused":s||void 0,"data-invalid":S||void 0,"data-markers":x||void 0,"data-read-only":f||void 0,"data-selected":g||void 0,"data-warning":T||void 0,forwardedAs:"span",onClick:f?A:void 0,onDoubleClick:A,tone:k,children:c.jsx(Ujn,{children:h({layout:"inline",schemaType:p,skipVisibilityCheck:!0,value:y,fallbackTitle:"Click to edit"})})}),r&&c.jsx(Bjn,{floatingBoundary:e,onClosePopover:I,onDelete:u,onEdit:A,open:b,referenceBoundary:n,referenceElement:r,title:C}),d&&c.jsx(vie,{defaultType:"popover",onClose:a,autoFocus:s,floatingBoundary:e,referenceBoundary:n,referenceElement:r,schemaType:p,children:i})]})};var P_e=Object.freeze,Gjn=Object.defineProperty,qjn=(t,e)=>P_e(Gjn(t,"raw",{value:P_e(e||t.slice())})),M_e;const Yjn=H(Ti)(M_e||(M_e=qjn([`
  &[data-popper-reference-hidden='true'] {
    display: none !important;
  }
`]))),Kjn=["top","bottom"];function Zjn(t){const{floatingBoundary:e,onOpen:n,onRemove:r,referenceBoundary:i,referenceElement:s,title:o}=t,[a,l]=m.useState(!1),[u,d]=m.useState(null),[f,h]=m.useState(null),p=m.useRef(null),{sanity:g}=Zu(),v=m.useRef(null),y=g.color.dark?"light":"dark",x=m.useMemo(()=>u?{getBoundingClientRect:()=>u}:null,[u]);zf(m.useCallback(S=>{a&&S.key==="Escape"&&l(!1)},[a]));const b=m.useCallback(()=>{const S=window.getSelection();if(!S)return;const{anchorNode:T,anchorOffset:A,focusNode:k,focusOffset:I}=S;m.startTransition(()=>h({anchorNode:T,anchorOffset:A,focusNode:k,focusOffset:I}))},[]);m.useEffect(()=>(document.addEventListener("selectionchange",b,{passive:!0}),()=>{document.removeEventListener("selectionchange",b)}),[b]),m.useEffect(()=>{var S;if(!f)return;const{anchorNode:T,focusNode:A}=f;if(s!=null&&s.contains(T)&&T===A){const k=(S=window.getSelection())==null?void 0:S.getRangeAt(0),I=k==null?void 0:k.getBoundingClientRect();p.current=k||null,I&&m.startTransition(()=>d(I)),m.startTransition(()=>l(!0))}else A&&(m.startTransition(()=>{l(!1),d(null)}),p.current=null)},[f,s]);const _=m.useCallback(()=>{l(!1),n()},[n]),C=m.useCallback(()=>{l(!1),r()},[r]);return m.useEffect(()=>{if(!a)return;const S=()=>{p.current&&d(p.current.getBoundingClientRect())};return e==null||e.addEventListener("scroll",S,{passive:!0}),()=>{e==null||e.removeEventListener("scroll",S)}},[a,e]),a?c.jsx(Yjn,{floatingBoundary:e,constrainSize:!0,content:c.jsx(N,{padding:1,children:c.jsxs(cn,{space:1,children:[c.jsx(N,{padding:2,children:c.jsx(G,{weight:"semibold",size:1,children:o})}),c.jsx(Ce,{icon:Ph,mode:"bleed",onClick:_,padding:2,alt:"Edit annotation",tabIndex:0}),c.jsx(Ce,{icon:Qo,mode:"bleed",padding:2,onClick:C,tone:"critical",alt:"Remove annotation",tabIndex:0})]})}),fallbackPlacements:Kjn,open:!0,placement:"top",portal:!0,preventOverflow:!0,ref:v,referenceBoundary:i,referenceElement:x,scheme:y}):null}var $_e=Object.freeze,Xjn=Object.defineProperty,wKe=(t,e)=>$_e(Xjn(t,"raw",{value:$_e(e||t.slice())})),F_e,B_e;const Qjn=H.span(t=>{var e,n,r,i;const{$toneKey:s="default",theme:o}=t;return qe(F_e||(F_e=wKe([`
      text-decoration: none;
      display: inline;
      background-color: `,`;
      border-bottom: 1px dashed `,`;
      color: `,`;

      &[data-link] {
        border-bottom: 1px solid `,`;
      }

      &[data-custom-markers] {
        background-color: `,`;
      }

      &[data-warning] {
        background-color: `,`;
      }

      &[data-error] {
        background-color: `,`;
      }
    `])),(e=o.sanity.color.selectable)==null?void 0:e[s].enabled.bg,(n=o.sanity.color.selectable)==null?void 0:n[s].enabled.fg,(r=o.sanity.color.selectable)==null?void 0:r[s].enabled.fg,(i=o.sanity.color.selectable)==null?void 0:i[s].enabled.fg,o.sanity.color.dark?Ke.purple[950].hex:Ke.purple[50].hex,o.sanity.color.muted.caution.hovered.bg,o.sanity.color.muted.critical.hovered.bg)}),Jjn=H(N).attrs({forwardedAs:"span"})(B_e||(B_e=wKe([`
  max-width: 250px;
`])));function eOn(t){var e;const{children:n,editorNodeFocused:r,floatingBoundary:i,focused:s,onItemClose:o,onItemOpen:a,onPathFocus:l,path:u,readOnly:d,referenceBoundary:f,renderAnnotation:h,renderBlock:p,renderCustomMarkers:g,renderField:v,renderInlineBlock:y,renderInput:x,renderItem:b,renderPreview:_,schemaType:C,selected:S,value:T}=t,{Markers:A=Rqe}=Ml().__internal.components,k=va(),I=m.useMemo(()=>u.slice(0,u.length-2).concat(["markDefs",{_key:T._key}]),[u,T._key]),[D,R]=m.useState(null),O=m.useMemo(()=>u.slice(u.length-3,u.length),[u]),L=H$(Si(I)),{validation:P}=V$(L==null?void 0:L.node),$=U$(u),B=m.useMemo(()=>c.jsx("span",{"data-annotation":"",children:n}),[n]),Q=m.useCallback(()=>{L&&(_t.blur(k),l(L.node.focusPath),a(L.node.path))},[k,L,a,l]),V=m.useCallback(()=>{o();const pe=_t.getSelection(k),Ie=(pe==null?void 0:pe.focus.path)&&Li(pe.focus.path,O)&&pe.focus.offset,xe=(pe==null?void 0:pe.anchor.path)&&Li(pe.anchor.path,O)&&pe.anchor.offset;_t.select(k,{anchor:{path:O,offset:xe||0},focus:{path:O,offset:Ie||0}}),_t.focus(k)},[k,O,o]),Z=m.useCallback(()=>{_t.removeAnnotation(k,C),_t.focus(k)},[k,C]),ie=m.useMemo(()=>P.length>0||$.length>0?c.jsx(Mn,{placement:"bottom",portal:"default",content:c.jsx(Jjn,{padding:2,children:c.jsx(A,{markers:$,renderCustomMarkers:g,validation:P})}),children:B}):void 0,[A,$,g,B,P]),J=hE(u,!0),X=m.useMemo(()=>J.filter(pe=>Li(pe.path,u)),[u,J]),fe=!!(L!=null&&L.member.open),ue=L==null?void 0:L.input,te=(L==null?void 0:L.node.path)||vs,F=D,ne=m.useMemo(()=>({__unstable_floatingBoundary:i,__unstable_referenceBoundary:f,__unstable_referenceElement:F,__unstable_textElementFocus:r,children:ue,focused:s,markers:$,onClose:V,onOpen:Q,onPathFocus:l,onRemove:Z,open:fe,parentSchemaType:k.schemaTypes.block,path:te,presence:X,readOnly:!!d,renderAnnotation:h,renderBlock:p,renderField:v,renderInlineBlock:y,renderInput:x,renderPreview:_,renderItem:b,renderDefault:sK,schemaType:C,selected:S,textElement:ie||B,validation:P,value:T}),[k.schemaTypes.block,r,i,s,ue,fe,$,ie,te,V,Q,l,Z,d,f,F,h,p,v,y,x,b,_,X,C,S,B,P,T]),ce=(e=C.components)==null?void 0:e.annotation,me=m.useCallback(pe=>{L!=null&&L.elementRef&&(L.elementRef.current=pe),R(pe)},[L]);return m.useMemo(()=>c.jsx("span",{ref:me,style:void 0,children:ce?c.jsx(ce,{...ne}):c.jsx(sK,{...ne})}),[ce,ne,me])}const sK=t=>{const{__unstable_floatingBoundary:e,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:i,focused:s,markers:o,onClose:a,onOpen:l,onRemove:u,open:d,readOnly:f,schemaType:h,textElement:p,validation:g}=t,v=h.name==="link",y=g.filter(C=>C.level==="error").length>0,x=g.filter(C=>C.level==="warning").length>0,b=o.length>0,_=m.useMemo(()=>y?"critical":x?"caution":v?"primary":"default",[v,y,x]);return c.jsxs(Qjn,{$toneKey:_,"data-link":v?"":void 0,"data-error":y?"":void 0,"data-warning":x?"":void 0,"data-markers":b||void 0,onClick:f?l:void 0,children:[p,c.jsx(Zjn,{floatingBoundary:e,referenceBoundary:n,referenceElement:r,onOpen:l,onRemove:u,title:h.title||h.name}),d&&c.jsx(vie,{defaultType:"popover",floatingBoundary:e,onClose:a,autoFocus:s,referenceBoundary:n,referenceElement:r,schemaType:h,children:i})]})};function tOn(t){var e;return(e=t.components)!=null&&e.block?t.components.block:N$(t)?bKe:cKe}function nOn(t){var e;return(e=t.components)!=null&&e.inlineBlock?t.components.inlineBlock:xKe}function rOn(t){var e;return(e=t.components)!=null&&e.annotation?t.components.annotation:sK}const iOn=/^\d+$/;function sOn(t){return t.replace(/^['"]/,"").replace(/['"]$/,"")}function oOn(t){const[e,n]=t.split("==");return{[e]:sOn(n)}}function aOn(t){return iOn.test(t)?Number(t):t}function lOn(t){return t.split(/[[.\]]/g).filter(Boolean).map(e=>e.includes("==")?oOn(e):aOn(e))}function g2(t){return lOn(t)}var uOn=Object.defineProperty,cOn=(t,e,n)=>e in t?uOn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,SH=(t,e,n)=>(cOn(t,typeof e!="symbol"?e+"":e,n),n);class uEr extends re.Component{constructor(){super(...arguments),SH(this,"state",{focusPath:[]}),SH(this,"handleFocus",e=>{this.setState({focusPath:e})}),SH(this,"handleBlur",()=>{})}render(){return this.props.children({onBlur:this.handleBlur,onFocus:this.handleFocus,focusPath:this.state.focusPath})}}function uC(t){const{reference:e,children:n,observeAsset:r,waitPlaceholder:i}=t,s=e==null?void 0:e._ref,o=Va(()=>r(s),[s,r]);return c.jsx(c.Fragment,{children:s&&o?n(o):i})}function dOn(t){return t.files&&t.files.length>0?Promise.resolve(Array.from(t.files||[])):_Ke(Array.from(t.items||[])).then($i)}function fOn(t){const e=Array.from(t.files||[]),n=Array.from(t.items||[]);return e&&e.length>0?Promise.resolve(e):_Ke(n).then($i)}function N_e(t){return t===null?[]:[t]}function _Ke(t){return Promise.all(t.map(e=>{if(e.kind==="file"&&e.webkitGetAsEntry){let n;try{n=e.webkitGetAsEntry()}catch{return N_e(e.getAsFile())}return n?n.isDirectory?CKe(n):N_e(e.getAsFile()):[]}if(e.kind==="file"){const n=e.getAsFile();return Promise.resolve(n?[n]:[])}return e.kind==="string"?(console.warn('DataTransfer with kind="string" is currently not supported'),Promise.resolve([])):(console.warn("Unknown DataTransferItem.kind: %s",e.kind),Promise.resolve([]))}))}function CKe(t){if(t.isFile)return new Promise((e,n)=>t.file(e,n)).then(e=>[e]);if(t.isDirectory){const e=t.createReader();return new Promise((n,r)=>e.readEntries(n,r)).then(n=>n.filter(r=>!r.name.startsWith("."))).then(n=>Promise.all(n.map(CKe)).then($i))}return Promise.resolve([])}function hOn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/jpeg",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return t.match(/^webkit-fake-url:\/\//)?Promise.reject(new Error("Cannot read image contents from webkit fake url")):new Promise((r,i)=>{const s=new Image;s.crossOrigin="anonymous",s.referrerPolicy="strict-origin-when-cross-origin",s.onload=()=>{const o=document.createElement("canvas");o.width=s.width,o.height=s.height;const a=o.getContext("2d");a==null||a.drawImage(s,0,0,o.width,o.height);try{o.toBlob(r,e,n)}catch(l){i(l)}},s.src=t})}const pOn={opacity:0,position:"absolute"};function EKe(t){return re.forwardRef(function(n,r){const{onFiles:i,onFilesOver:s,onFilesOut:o,disabled:a,...l}=n,[u,d]=re.useState(!1),f=re.useRef(null),h=Ms(r),p=re.useRef([]),g=m.useCallback(T=>{i==null||i(T)},[i]),v=m.useCallback(T=>{T.target===h.current&&(T.ctrlKey||T.metaKey)&&T.key==="v"&&d(!0)},[h]),y=m.useCallback(T=>{dOn(T.clipboardData).then(A=>f.current?A.length>0?A:mOn(f.current,"image/jpeg"):[]).then(A=>{var k;g(A),d(!1),(k=h.current)==null||k.focus()})},[g,h]),x=m.useCallback(T=>{p.current=[],T.preventDefault(),T.stopPropagation();const A=T.nativeEvent.dataTransfer;i&&A&&fOn(A).then(k=>{k&&g(k)}),o==null||o()},[g,i,o]),b=m.useCallback(T=>{i&&(T.preventDefault(),T.stopPropagation())},[i]),_=m.useCallback(T=>{if(T.stopPropagation(),s&&h.current===T.currentTarget){p.current=[...new Set(p.current),T.currentTarget];const A=Array.from(T.dataTransfer.items).map(k=>({type:k.type,kind:k.kind}));s(A)}},[s,h]),C=m.useCallback(T=>{T.stopPropagation();const A=p.current.indexOf(T.currentTarget);A>-1&&p.current.splice(A,1),p.current.length===0&&(o==null||o())},[o]),S=re.useRef(!1);return re.useEffect(()=>{var T;!S.current&&u&&f.current?(f.current.focus(),gOn(f.current)):S.current&&!u&&((T=f.current)==null||T.focus()),S.current=u},[u]),c.jsxs(c.Fragment,{children:[c.jsx(t,{...l,ref:h,onKeyDown:a?void 0:v,onDragOver:a?void 0:b,onDragEnter:a?void 0:_,onDragLeave:a?void 0:C,onDrop:a?void 0:x}),!a&&u&&c.jsx("div",{contentEditable:!0,onPaste:y,ref:f,style:pOn})]})})}function mOn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/jpeg";return t.isContentEditable?new Promise(n=>setTimeout(n,10)).then(()=>Array.from(t.querySelectorAll("img"))).then(n=>(t.innerHTML="",n)).then(n=>Promise.all(n.map(r=>hOn(r.src)))).then(n=>n.map(r=>new File([r],"pasted-image.jpg",{type:e}))):Promise.reject(new Error('Expected element to be contentEditable="true". Instead found a non contenteditable '.concat(t.tagName)))}function gOn(t){const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n==null||n.removeAllRanges(),n==null||n.addRange(e)}function xie(t){return"inset 0 0 0 ".concat(t.width,"px ").concat(t.color)}function wie(t){const{base:e,border:n,focusRing:r}=t,i=r.offset+r.width,s=0-r.offset,o=e?e.bg:"var(--card-bg-color)";return[s>0&&"inset 0 0 0 ".concat(s,"px var(--card-focus-ring-color)"),n&&xie(n),s<0&&"0 0 0 ".concat(0-s,"px ").concat(o),i>0&&"0 0 0 ".concat(i,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var V_e=Object.freeze,vOn=Object.defineProperty,yOn=(t,e)=>V_e(vOn(t,"raw",{value:V_e(e||t.slice())})),U_e;function SKe(t){return H(t)(e=>{const n={width:e.$border?1:0,color:"var(--card-border-color)"};return qe(U_e||(U_e=yOn([`
        --card-focus-box-shadow: `,`;

        border-radius: `,`;
        outline: none;
        box-shadow: var(--card-focus-box-shadow);

        &:focus {
          --card-focus-box-shadow: `,`;
        }
      `])),xie(n),Xe(e.theme.sanity.radius[1]),wie({base:e.theme.sanity.color.base,border:n,focusRing:e.theme.sanity.focusRing}))})}const TKe=EKe(SKe(ge));var H_e=Object.freeze,bOn=Object.defineProperty,z$=(t,e)=>H_e(bOn(t,"raw",{value:H_e(e||t.slice())})),z_e,W_e,G_e,q_e;const xOn=H(ge)(z_e||(z_e=z$([`
  min-height: 82px;
  box-sizing: border-box;
`]))),wOn=H(ae)(W_e||(W_e=z$([`
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),_On=H(Te)(G_e||(G_e=z$([`
  position: relative;
  width: 60%;
`]))),COn=H(qs)(q_e||(q_e=z$([`
  position: relative;
  width: 100%;

  code {
    overflow: hidden;
    overflow: clip;
    text-overflow: ellipsis;
    position: relative;
    max-width: 200px;
  }
`]))),EOn=1e3*60*2,SOn=t=>new Date().getTime()-new Date(t).getTime();function kKe(t){let{uploadState:e,onCancel:n,onStale:r,height:i}=t;const s=e.file.name;return m.useEffect(()=>{SOn(e.updatedAt)>EOn&&(r==null||r())},[e.updatedAt,r]),c.jsx(xOn,{tone:"primary",padding:4,border:!0,style:{height:"".concat(i,"px")},children:c.jsxs(wOn,{align:"center",justify:"space-between",height:"fill",direction:"row",gap:2,children:[c.jsxs(_On,{children:[c.jsx(ae,{justify:"center",gap:[3,3,2,2],direction:["column","column","row"],children:c.jsx(G,{size:1,children:c.jsxs(cn,{space:2,children:["Uploading",c.jsx(COn,{size:1,children:s||"..."})]})})}),c.jsx(ge,{marginTop:3,radius:5,shadow:1,children:c.jsx(sqe,{value:e.progress})})]}),n?c.jsx(Ce,{fontSize:2,text:"Cancel upload",mode:"ghost",tone:"critical",onClick:n}):null]})})}function TOn(t,e){return new Promise((n,r)=>{const i=new XMLHttpRequest;i.onload=()=>{const s=new FileReader;s.onloadend=()=>{var o;const a=(o=s.result)==null?void 0:o.toString(),l=a==null?void 0:a.substring(11,a.indexOf(";base64"));if(!l&&!e){r(new Error("Could not find mime type for image"));return}n(AKe(s.result,e||"".concat(R0(),".").concat(l)))},s.readAsDataURL(i.response)},i.onerror=s=>{r(s)},i.open("GET",t),i.responseType="blob",i.send()})}function kOn(t,e){return new Promise((n,r)=>{const i=t.toString(),s=i.substring(11,i.indexOf(";base64"));if(!s&&!e){r(new Error("Could not find mime type for image"));return}n(AKe(t,e||"".concat(R0(),".").concat(s)))})}function AKe(t,e){var n;const r=t.split(","),i=(n=r[0].match(/:(.*?);/))==null?void 0:n[1],s=atob(r[1]);let o=s.length;const a=new Uint8Array(o);for(;o--;)a[o]=s.charCodeAt(o);return new File([a],e,{type:i})}function IKe(t){let{assetFromSource:e,onChange:n,type:r,resolveUploader:i,uploadWith:s,isImage:o}=t;if(!e)throw new Error("No asset given");if(!Array.isArray(e)||e.length===0)throw new Error("Returned value must be an array with at least one item (asset)");const a=e[0],l=a.assetDocumentProps,u=l==null?void 0:l.originalFilename,d=l==null?void 0:l.label,f=l==null?void 0:l.title,h=l==null?void 0:l.description,p=l==null?void 0:l.creditLine,g=l==null?void 0:l.source,v=o?[Jt(["hotspot"]),Jt(["crop"])]:[];switch(a.kind){case"assetDocumentId":n([sl({_type:r.name}),...v,_n({_type:"reference",_ref:a.value},["asset"])]);break;case"file":{const y=i(r,a.value);y&&s(y,a.value,{label:d,title:f,description:h,creditLine:p,source:g});break}case"base64":kOn(a.value,u).then(y=>{const x=i(r,y);x&&s(x,y,{label:d,title:f,description:h,creditLine:p,source:g})});break;case"url":TOn(a.value,u).then(y=>{const x=i(r,y);x&&s(x,y,{label:d,title:f,description:h,creditLine:p,source:g})});break;default:throw new Error("Invalid value returned from asset source plugin")}}var Y_e=Object.freeze,AOn=Object.defineProperty,IOn=(t,e)=>Y_e(AOn(t,"raw",{value:Y_e(e||t.slice())})),K_e;const DOn=H(St)(K_e||(K_e=IOn([`
  position: relative;

  & input {
    overflow: hidden;
    overflow: clip;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    position: absolute;
    min-width: 0;
    display: block;
    appearance: none;
    padding: 0;
    margin: 0;
    border: 0;
    opacity: 0;
  }
`]))),ROn=re.forwardRef(function(e,n){const{icon:r,id:i,accept:s,capture:o,fontSize:a,multiple:l,onSelect:u,padding:d=3,space:f=3,textAlign:h,text:p,disabled:g,...v}=e,y="".concat(i||"","-").concat(m.useId()),x=re.useCallback(_=>{u&&_.target.files&&u(Array.from(_.target.files))},[u]),b=c.jsxs(ae,{align:"center",justify:"flex-start",padding:d,children:[r&&c.jsx(N,{marginRight:p?f:void 0,children:c.jsxs(G,{size:a,children:[m.isValidElement(r)&&r,ws.isValidElementType(r)&&m.createElement(r)]})}),p&&c.jsx(G,{align:h,size:a,textOverflow:"ellipsis",children:p})]});return c.jsxs(DOn,{...v,htmlFor:y,padding:0,fontSize:2,disabled:g,ref:n,children:[b,c.jsx("input",{"data-testid":"file-menuitem-input",accept:s,capture:o,id:y,multiple:l,onChange:x,type:"file",value:"",disabled:g})]})});function DKe(t){const{onUpload:e,onReset:n,readOnly:r,accept:i,directUploads:s,browse:o,downloadUrl:a,copyUrl:l}=t,{push:u}=Na(),d=m.useCallback(()=>{navigator.clipboard.writeText(l||""),u({closable:!0,status:"success",title:"The URL is copied to the clipboard"})},[u,l]);return c.jsxs(c.Fragment,{children:[c.jsx(N,{padding:2,children:c.jsx(jn,{muted:!0,size:1,children:"Replace"})}),c.jsx(ROn,{icon:DC,mode:"bleed",onSelect:e,accept:i,text:"Upload","data-testid":"file-input-upload-button",disabled:r||!s,fontSize:2}),o,(a||l)&&c.jsx(Ci,{}),a&&c.jsx(St,{as:"a",icon:sQ,text:"Download",href:a}),l&&c.jsx(St,{icon:nQ,text:"Copy URL",onClick:d}),c.jsx(Ci,{}),c.jsx(St,{tone:"critical",icon:pm,text:"Clear field",onClick:n,disabled:r,"data-testid":"file-input-clear"})]})}var Z_e=Object.freeze,jOn=Object.defineProperty,OOn=(t,e)=>Z_e(jOn(t,"raw",{value:Z_e(e||t.slice())})),X_e;const LOn=H(ae)(X_e||(X_e=OOn([`
  pointer-events: none;
`])));function RKe(t){const{hoveringFiles:e,type:n,readOnly:r,acceptedFiles:i,rejectedFilesCount:s,directUploads:o}=t,a=n==="file",l=m.useMemo(()=>r?c.jsx(lQ,{}):e&&s>0||!o?c.jsx(Dv,{}):a?c.jsx(AC,{}):c.jsx(Mh,{}),[o,e,a,r,s]),u=m.useMemo(()=>{let d="Drag or paste ".concat(n," here");return o?(r&&(d="Read only"),e&&o&&!r&&(i.length>0&&(d="Drop to upload ".concat(n)),s>0&&(d="Can't upload ".concat(s," file").concat(s>1?"s":""," here"))),d):"Can't upload files here"},[i.length,o,e,r,s,n]);return c.jsxs(LOn,{align:"center",gap:2,justify:"center",children:[c.jsx(G,{muted:!0,children:l}),c.jsx(G,{size:1,muted:!0,children:u})]})}var Q_e=Object.freeze,POn=Object.defineProperty,MOn=(t,e)=>Q_e(POn(t,"raw",{value:Q_e(e||t.slice())})),J_e;const $On=H(Ce).attrs({forwardedAs:"label"})(t=>{let{theme:e}=t;const{focusRing:n}=e.sanity,r=e.sanity.color.base,i={width:1,color:"var(--card-border-color)"};return qe(J_e||(J_e=MOn([`
      &:not([data-disabled='true']) {
        &:focus-within {
          box-shadow: `,`;
        }
      }

      & input {
        overflow: hidden;
        overflow: clip;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        position: absolute;
        min-width: 0;
        display: block;
        appearance: none;
        padding: 0;
        margin: 0;
        border: 0;
        opacity: 0;
      }
    `])),wie({base:r,border:i,focusRing:n}))}),FOn=re.forwardRef(function(e,n){const{icon:r,id:i,accept:s,capture:o,fontSize:a,multiple:l,onSelect:u,padding:d=3,space:f=3,textAlign:h,text:p,disabled:g,...v}=e,y="".concat(i||"","-").concat(m.useId()),x=Zu(),b=re.useCallback(C=>{u&&C.target.files&&u(Array.from(C.target.files))},[u]),_=c.jsxs(ae,{align:"center",justify:"center",padding:d,children:[r&&c.jsx(N,{marginRight:p?f:void 0,children:c.jsxs(G,{size:a,children:[m.isValidElement(r)&&r,ws.isValidElementType(r)&&m.createElement(r)]})}),p&&c.jsx(G,{align:h,size:a,textOverflow:"ellipsis",weight:x.sanity.button.textWeight,children:p})]});return c.jsxs($On,{...v,htmlFor:y,padding:0,fontSize:2,disabled:g,children:[_,c.jsx("input",{"data-testid":"file-button-input",accept:s,capture:o,id:y,multiple:l,onChange:b,ref:n,type:"file",value:"",disabled:g})]})});function BOn(t){const{accept:e,acceptedFiles:n,browse:r,directUploads:i,hoveringFiles:s,onUpload:o,readOnly:a,rejectedFilesCount:l,type:u}=t,[d,f]=m.useState(null),h=Z7(d),p=(h==null?void 0:h.border)&&h.border.width<440;return c.jsxs(ae,{align:p?void 0:"center",direction:p?"column":"row",gap:4,justify:"space-between",paddingY:p?1:void 0,ref:f,children:[c.jsx(ae,{flex:1,justify:"center",children:c.jsx(RKe,{acceptedFiles:n,directUploads:i,hoveringFiles:s,readOnly:a,rejectedFilesCount:l,type:u})}),c.jsxs(ae,{align:"center",gap:2,justify:"center",wrap:"wrap",children:[c.jsx(FOn,{accept:e,"data-testid":"file-input-upload-button",disabled:a||!i,icon:DC,mode:"ghost",onSelect:o,text:"Upload"}),r]})]})}const jKe=re.memo(BOn);var eCe=Object.freeze,NOn=Object.defineProperty,VOn=(t,e)=>eCe(NOn(t,"raw",{value:eCe(e||t.slice())})),tCe;const UOn=H(Ce)(tCe||(tCe=VOn([`
  width: 100%;
`])));function OKe(t){let{onClearStale:e}=t;return c.jsxs(ge,{tone:"caution",padding:4,border:!0,radius:2,children:[c.jsxs(ae,{gap:4,marginBottom:4,children:[c.jsx(N,{children:c.jsx(G,{size:1,children:c.jsx(vo,{})})}),c.jsxs(Te,{space:3,children:[c.jsx(G,{size:1,weight:"semibold",children:"Incomplete upload"}),c.jsx(G,{size:1,children:"An upload has made no progress in the last 6m and likely got interrupted. You can safely clear the incomplete upload and try uploading again."})]})]}),c.jsx(UOn,{icon:pm,text:"Clear upload",onClick:e,mode:"ghost"})]})}var nCe=Object.freeze,HOn=Object.defineProperty,LKe=(t,e)=>nCe(HOn(t,"raw",{value:nCe(e||t.slice())})),rCe,iCe;const zOn=H(ge)(rCe||(rCe=LKe([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`]))),WOn=H(ae)(iCe||(iCe=LKe([`
  height: 100%;
`])));function PKe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;if(t===0)return"0 Bytes";const n=1024,r=e<0?0:e,i=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(t)/Math.log(n));return"".concat(parseFloat((t/Math.pow(n,s)).toFixed(r))," ").concat(i[s])}function GOn(t){const{originalFilename:e,size:n,children:r,muted:i,disabled:s,onClick:o,isMenuOpen:a,onMenuOpen:l,setMenuButtonElement:u}=t,[d,f]=m.useState(null),[h,p]=m.useState(null),g=m.useCallback(()=>l(!0),[l]);zf(m.useCallback(y=>{a&&(y.key==="Escape"||y.key==="Tab")&&(l(!1),h==null||h.focus())},[a,l,h])),ga(m.useCallback(y=>{h!=null&&h.contains(y.target)||l(!1)},[h,l]),[d]);const v=m.useCallback(y=>{u(y),p(y)},[u]);return m.useEffect(()=>{a&&(d==null||d.focus())},[a,d]),c.jsxs(ae,{wrap:"nowrap",justify:"space-between",align:"center",children:[c.jsx(ge,{as:i||s?void 0:"button",radius:2,padding:2,tone:"inherit",onClick:o,flex:1,children:c.jsxs(ae,{wrap:"nowrap",align:"center",children:[c.jsx(ge,{padding:3,tone:"transparent",shadow:1,radius:1,children:c.jsx(G,{muted:i,children:c.jsx(AC,{})})}),c.jsxs(Te,{flex:1,space:2,marginLeft:3,children:[c.jsx(G,{size:2,textOverflow:"ellipsis",muted:i,"data-testid":"file-name",children:e}),c.jsx(G,{size:1,muted:!0,"data-testid":"file-size",children:PKe(n)})]})]})}),c.jsx(N,{padding:2,children:c.jsx(ae,{justify:"center",children:c.jsx(Ti,{content:c.jsx(er,{ref:f,children:r}),id:"file-actions-menu",portal:!0,open:a,constrainSize:!0,children:c.jsx(Ce,{"aria-label":"Open file options menu","data-testid":"options-menu-button",icon:ll,mode:"bleed",onClick:g,ref:v})})})})]})}function sCe(){return c.jsxs(ae,{align:"center",justify:"flex-start",padding:2,children:[c.jsx(NC,{padding:3,radius:1,animated:!0}),c.jsxs(Te,{flex:1,space:2,marginLeft:3,children:[c.jsx(YP,{style:{width:"100%"},radius:1,animated:!0}),c.jsx(YP,{style:{width:"100%"},radius:1,animated:!0})]})]})}var oCe=Object.freeze,qOn=Object.defineProperty,YOn=(t,e)=>oCe(qOn(t,"raw",{value:oCe(e||t.slice())})),aCe;const KOn=H(Ce)(aCe||(aCe=YOn([`
  width: 100%;
`])));function ZOn(t){let{onClearValue:e}=t;return c.jsxs(ge,{tone:"caution",padding:4,border:!0,radius:2,children:[c.jsxs(ae,{gap:4,marginBottom:4,children:[c.jsx(N,{children:c.jsx(G,{size:1,children:c.jsx(vo,{})})}),c.jsxs(Te,{space:3,children:[c.jsx(G,{size:1,weight:"semibold",children:"Invalid file value"}),c.jsx(G,{size:1,children:"The value of this field is not a valid file. Resetting this field will let you choose a new file."})]})]}),c.jsx(KOn,{icon:pm,text:"Reset value",onClick:e,mode:"ghost"})]})}var XOn=Object.defineProperty,QOn=(t,e,n)=>e in t?XOn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Uo=(t,e,n)=>(QOn(t,typeof e!="symbol"?e+"":e,n),n);function JOn(t){let{children:e}=t;return e}const eLn=["asset"];class tLn extends re.PureComponent{constructor(e){var n;super(e),n=this,Uo(this,"_assetFieldPath"),Uo(this,"uploadSubscription",null),Uo(this,"browseButtonElement",null),Uo(this,"state",{isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,isMenuOpen:!1}),Uo(this,"toast",null),Uo(this,"handleRemoveButtonClick",()=>{const{path:r,value:i}=this.props,o=typeof r.slice(-1)[0]!="string",a=Object.keys(i||{}),u=a.filter(f=>!["_type","_key","_upload","asset"].includes(f)).length===0,d=["asset"].concat(a.filter(f=>["_upload"].includes(f))).map(f=>Jt([f]));this.props.onChange(bn.from(u&&!o?Jt():d))}),Uo(this,"handleCancelUpload",()=>{this.cancelUpload()}),Uo(this,"handleClearUploadState",()=>{this.setState({isStale:!1}),this.clearUploadStatus()}),Uo(this,"handleStaleUpload",()=>{this.setState({isStale:!0})}),Uo(this,"handleClearField",()=>{this.props.onChange(Jt(["asset"]))}),Uo(this,"handleSelectFiles",r=>{const{directUploads:i,readOnly:s}=this.props,{hoveringFiles:o}=this.state;i&&!s?this.uploadFirstAccepted(r):o.length>0&&this.handleFilesOut()}),Uo(this,"handleSelectFileFromAssetSource",r=>{this.setState({selectedAssetSource:r})}),Uo(this,"handleAssetSourceClosed",()=>{var r;this.setState({selectedAssetSource:null}),(r=this.browseButtonElement)==null||r.focus()}),Uo(this,"setBrowseButtonElement",r=>{this.browseButtonElement=r}),Uo(this,"uploadWith",function(r,i){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{schemaType:o,onChange:a,client:l}=n.props,{source:u}=s,d={metadata:ms(o,"options.metadata"),storeOriginalFilename:ms(o,"options.storeOriginalFilename"),source:u};n.cancelUpload(),n.setState({isUploading:!0}),a(bn.from([sl({_type:o.name})])),n.uploadSubscription=r.upload(l,i,o,d).subscribe({next:f=>{f.patches&&a(bn.from(f.patches))},error:f=>{var h;console.error(f),(h=n.toast)==null||h.push({status:"error",description:"The upload could not be completed at this time.",title:"Upload failed"}),n.clearUploadStatus()},complete:()=>{n.setState({isUploading:!1})}})}),Uo(this,"handleSelectAssetFromSource",r=>{const{onChange:i,schemaType:s,resolveUploader:o}=this.props;IKe({assetFromSource:r,onChange:i,type:s,resolveUploader:o,uploadWith:this.uploadWith}),this.setState({selectedAssetSource:null})}),Uo(this,"handleFileTargetFocus",r=>{var i;r.currentTarget===r.target&&r.currentTarget===((i=this.props.elementProps.ref)==null?void 0:i.current)&&this.props.elementProps.onFocus(r)}),Uo(this,"handleFilesOver",r=>{this.setState({hoveringFiles:r})}),Uo(this,"handleFilesOut",()=>{this.setState({hoveringFiles:[]})}),Uo(this,"handleUpload",r=>{let{file:i,uploader:s}=r;this.uploadWith(s,i)}),Uo(this,"setToast",r=>{this.toast=r}),this._assetFieldPath=e.path.concat(eLn)}clearUploadStatus(){var e;(e=this.props.value)!=null&&e._upload&&this.props.onChange(bn.from([Jt(["_upload"])]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(e){const{schemaType:n}=this.props,r=e.map(i=>{var s,o;return{file:i,uploader:(o=(s=this.props).resolveUploader)==null?void 0:o.call(s,n,i)}}).find(i=>i.uploader);r&&this.uploadWith(r.uploader,r.file),this.setState({isMenuOpen:!1})}renderUploadState(e){const{isUploading:n}=this.state;return c.jsx(kKe,{uploadState:e,onCancel:n?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload})}renderAssetSource(){const{selectedAssetSource:e}=this.state,{value:n,schemaType:r,observeAsset:i}=this.props;if(!e)return null;const s=ms(r,"options.accept",""),o=e.component;return n&&n.asset?c.jsx(uC,{observeAsset:i,reference:n.asset,waitPlaceholder:c.jsx(sCe,{}),children:a=>c.jsx(o,{selectedAssets:[a],selectionType:"single",assetType:"file",accept:s,dialogHeaderTitle:"Select file",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):c.jsx(o,{selectedAssets:[],selectionType:"single",assetType:"file",accept:s,dialogHeaderTitle:"Select file",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}renderAsset(){const{value:e,changed:n,readOnly:r,elementProps:i}=this.props,{hoveringFiles:s,isStale:o}=this.state,a=!!(e!=null&&e._upload||e!=null&&e.asset);return e&&typeof e.asset<"u"&&!(e!=null&&e._upload)&&!D0e(e)?()=>c.jsx(ZOn,{onClearValue:this.handleClearField}):l=>c.jsxs(c.Fragment,{children:[o&&c.jsx(N,{marginBottom:2,children:c.jsx(OKe,{onClearStale:this.handleClearUploadState})}),c.jsx(Pl,{path:this._assetFieldPath,hasFocus:!!l.focused,isChanged:n,children:e!=null&&e._upload?this.renderUploadState(e._upload):c.jsx(TKe,{...i,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!r,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:a||s.length>0,style:{padding:1},sizing:"border",radius:2,children:c.jsxs("div",{style:{position:"relative"},children:[!(e!=null&&e.asset)&&this.renderUploadPlaceholder(),e!=null&&e.asset&&s.length>0?this.renderAssetMenu(this.getFileTone()):null,!(e!=null&&e._upload)&&(e==null?void 0:e.asset)&&this.renderPreview()]})})})]})}renderPreview(){const{value:e,readOnly:n,assetSources:r,schemaType:i,directUploads:s,observeAsset:o}=this.props,{isMenuOpen:a}=this.state,l=e==null?void 0:e.asset;if(!l)return null;const u=ms(i,"options.accept","");let d=r&&(r==null?void 0:r.length)===0?null:c.jsx(St,{icon:nl,text:"Browse",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(r[0])},disabled:n,"data-testid":"file-input-browse-button"});return r.length>1&&(d=r.map(f=>c.jsx(St,{text:f.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(f)},icon:f.icon||Mh,disabled:n,"data-testid":"file-input-browse-button-".concat(f.name)},f.name))),c.jsx(uC,{reference:l,observeAsset:o,waitPlaceholder:c.jsx(sCe,{}),children:f=>{let{originalFilename:h,extension:p,url:g,size:v}=f;const y=h||"download.".concat(p);let x,b;return D0e(e)&&(b="".concat(g,"?dl"),x=g),c.jsx(GOn,{size:v,originalFilename:y,muted:!n,onMenuOpen:_=>this.setState({isMenuOpen:_}),isMenuOpen:a,setMenuButtonElement:this.setBrowseButtonElement,children:c.jsx(DKe,{onUpload:this.handleSelectFiles,browse:d,onReset:this.handleRemoveButtonClick,downloadUrl:b,copyUrl:x,readOnly:n,accept:u,directUploads:s})})}})}renderAssetMenu(e){const{schemaType:n,readOnly:r,directUploads:i,resolveUploader:s}=this.props,{hoveringFiles:o}=this.state,a=o.filter(u=>s==null?void 0:s(n,u)),l=o.length-a.length;return c.jsx(zOn,{tone:e,children:c.jsx(WOn,{align:"center",justify:"center",gap:2,flex:1,children:c.jsx(RKe,{readOnly:r,hoveringFiles:o,acceptedFiles:a,rejectedFilesCount:l,directUploads:i,type:"file"})})})}renderBrowser(){const{assetSources:e,readOnly:n,directUploads:r,id:i}=this.props;return e.length===0?null:e.length>1&&!n&&r?c.jsx(vr,{id:"".concat(i,"_assetFileButton"),ref:this.setBrowseButtonElement,button:c.jsx(Ce,{mode:"ghost",text:"Select","data-testid":"file-input-multi-browse-button",icon:nl}),"data-testid":"input-select-button",menu:c.jsx(er,{children:e.map(s=>c.jsx(St,{text:s.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(s)},icon:s.icon||Mh,disabled:n,"data-testid":"file-input-browse-button-".concat(s.name)},s.name))})}):c.jsx(Ce,{fontSize:2,text:"Browse",icon:nl,mode:"ghost",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(e[0])},"data-testid":"file-input-browse-button",disabled:n,ref:this.setBrowseButtonElement})}renderUploadPlaceholder(){const{readOnly:e,schemaType:n,directUploads:r,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,o=s.filter(u=>i==null?void 0:i(n,u)),a=s.length-o.length,l=ms(n,"options.accept","");return c.jsx("div",{style:{padding:1},children:c.jsx(ge,{tone:e?"transparent":"inherit",border:!0,padding:3,style:s.length===0?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},children:c.jsx(jKe,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:e,hoveringFiles:s,acceptedFiles:o,rejectedFilesCount:a,type:"file",accept:l,directUploads:r})})})}getFileTone(){const{directUploads:e,schemaType:n,value:r,readOnly:i,resolveUploader:s}=this.props,{hoveringFiles:o}=this.state,a=o.filter(u=>s==null?void 0:s(n,u)),l=o.length-a.length;return o.length>0&&(l>0||!e)?"critical":!(r!=null&&r._upload)&&!i&&o.length>0?"primary":r!=null&&r._upload&&(r!=null&&r.asset)&&i?"transparent":"default"}render(){const{members:e,renderAnnotation:n,renderBlock:r,renderInlineBlock:i,renderItem:s,renderInput:o,renderField:a,renderPreview:l}=this.props,{selectedAssetSource:u}=this.state;return c.jsxs(c.Fragment,{children:[c.jsx(Ere,{ref:this.setToast}),e.map(d=>d.kind==="field"&&(d.name==="crop"||d.name==="hotspot")?null:d.kind==="field"?c.jsx(Kv,{member:d,renderAnnotation:n,renderInlineBlock:i,renderBlock:r,renderInput:d.name==="asset"?this.renderAsset():o,renderField:d.name==="asset"?JOn:a,renderItem:s,renderPreview:l},d.key):d.kind==="fieldSet"?c.jsx(die,{member:d,renderAnnotation:n,renderBlock:r,renderField:a,renderInlineBlock:i,renderInput:o,renderItem:s,renderPreview:l},d.key):d.kind==="error"?c.jsx(B$,{member:d},d.key):c.jsxs(c.Fragment,{children:["Unknown member kind: $",d.kind]})),u&&this.renderAssetSource()]})}}function nLn(t){var e;const n=(e=t.schemaType.options)==null?void 0:e.sources,r=Yc(),{file:i}=Ml().__internal,s=Cs(us),o=m.useCallback((u,d)=>i.directUploads?aie(u,d):null,[i.directUploads]),a=m.useMemo(()=>n||i.assetSources,[i,n]),l=m.useCallback(u=>NYe(r,u),[r]);return c.jsx(tLn,{...t,client:s,assetSources:a,directUploads:i.directUploads,observeAsset:l,resolveUploader:o})}var lCe=Object.freeze,rLn=Object.defineProperty,iLn=(t,e)=>lCe(rLn(t,"raw",{value:lCe(e||t.slice())})),uCe;const cCe=H(N)(uCe||(uCe=iLn([`
  position: relative;
  padding-bottom: calc(`,` * 100%);

  & > div {
    position: absolute;
    top: `,`px;
    left: `,`px;
    right: `,`px;
    bottom: `,`px;
  }
`])),t=>{let{ratio:e=3/2}=t;return 1/e},t=>{let{padding:e=0}=t;return e},t=>{let{padding:e=0}=t;return e},t=>{let{padding:e=0}=t;return e},t=>{let{padding:e=0}=t;return e});function sLn(t){const{src:e,children:n}=t,[r,i]=m.useState(!0),[s,o]=m.useState(null),[a,l]=m.useState(null);return m.useEffect(()=>{o(null),l(null),i(!0);const u=new Image;u.onload=()=>{o(u),l(null),i(!1)},u.onerror=()=>{l(new Error("Could not load image from ".concat(JSON.stringify(e)))),i(!1)},u.referrerPolicy="strict-origin-when-cross-origin",u.src=e},[e]),n({image:s,error:a,isLoading:r})}const oLn=["","webkit","moz","ms","o"].map(t=>"".concat(t,"backingStoreRatio"));let Y4=-1;function aLn(t){return Y4===-1&&(Y4=oLn.find(e=>e in t)),Y4&&t[Y4]}function dCe(t,e){const n={x:e.center.x,y:e.center.y},r=e.width/2,i=e.height/2;if(r<=0||i<=0)return!1;const s={x:t.x-n.x,y:t.y-n.y};return Math.pow(s.x,2)/Math.pow(r,2)+Math.pow(s.y,2)/Math.pow(i,2)<=1}function fCe(t,e){let{x:n,y:r}=t;return Math.pow(n-e.x,2)+Math.pow(r-e.y,2)<Math.pow(e.radius,2)}function TH(t,e){return t.x>=e.left&&t.x<=e.left+e.width&&t.y>=e.top&&t.y<=e.top+e.height}function hCe(t,e){return{x:e.center.x-e.width/2*Math.cos(t),y:e.center.y-e.height/2*Math.sin(t)}}var lLn=Object.defineProperty,uLn=(t,e,n)=>e in t?lLn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zp=(t,e,n)=>(uLn(t,typeof e!="symbol"?e+"":e,n),n);class oK{constructor(e,n){Zp(this,"x"),Zp(this,"y"),this.x=e,this.y=n}}class pCe{constructor(e,n,r){Zp(this,"y"),Zp(this,"_left"),Zp(this,"_right"),this.y=e,this._left=n,this._right=r}get right(){return new oK(this._right,this.y)}get left(){return new oK(this._left,this.y)}get length(){return this._right-this._left}}class cLn{constructor(e){Zp(this,"rect"),this.rect=e}get top(){return new pCe(this.rect.top,this.rect.left,this.rect.right)}get bottom(){return new pCe(this.rect.bottom,this.rect.left,this.rect.right)}}class aa{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;Zp(this,"left"),Zp(this,"top"),Zp(this,"width"),Zp(this,"height"),this.left=e,this.top=n,this.width=r,this.height=i}static fromEdges(e){let{left:n,right:r,top:i,bottom:s}=e;return new aa(n,i,1-n-r,1-i-s)}setTopLeft(e,n){return new aa(e,n,this.width||0,this.height||0)}setSize(e,n){return new aa(this.left||0,this.top||0,e,n)}setCenter(e,n){const r=this.width||0,i=this.height||0;return new aa(e-r/2,n-i/2,r||0,i||0)}get center(){return new oK(this.left+this.width/2,this.top+this.height/2)}get corners(){return new cLn(this)}get right(){return this.left+this.width}get bottom(){return this.top+this.height}multiply(e){return new aa((this.left||0)+this.width*e.left,(this.top||0)+this.height*e.top,this.width*e.width,this.height*e.height)}grow(e){return new aa(this.left-e,this.top-e,this.width+e*2,this.height+e*2)}shrink(e){return this.grow(-e)}cropRelative(e){const n=this.top+e.top*this.height,r=this.left+e.left*this.width,i=this.height*e.height,s=this.width*e.width;return new aa(r,n,s,i)}clamp(e){let{left:n,top:r,width:i,height:s}=this;return e.width<i&&(i=e.width,n=e.left),e.height<s&&(s=e.height,r=e.top),n+i>e.left+e.width&&(n=e.right-i),r+s>e.top+e.height&&(r=e.bottom-s),new aa(Math.max(n,e.left),Math.max(r,e.top),i,s)}}var dLn=Object.defineProperty,fLn=(t,e,n)=>e in t?dLn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,og=(t,e,n)=>(fLn(t,typeof e!="symbol"?e+"":e,n),n);const K4=W1("sanity-imagetool");function hLn(t){return class extends re.PureComponent{constructor(){super(...arguments),og(this,"domNode",null),og(this,"currentPos",null),og(this,"isDragging",!1),og(this,"handleTouchMove",n=>{this.isDragging&&n.preventDefault()}),og(this,"handleDragStart",n=>{const{onDragStart:r,readOnly:i}=this.props;if(i||!this.domNode)return;if(this.isDragging){K4("Start cancelled, already a drag in progress");return}this.isDragging=!0;const s=AH(n);K4("Drag started %o",s),r(kH(s.x,s.y,this.domNode.getBoundingClientRect())),this.currentPos=s}),og(this,"handleDrag",n=>{if(!this.isDragging||this.props.readOnly||!this.currentPos)return;const{onDrag:r}=this.props,i=AH(n),s=pLn(i,this.currentPos);r(s),K4("moving by %o",s),this.currentPos=i}),og(this,"handleDragEnd",n=>{const{onDragEnd:r,readOnly:i}=this.props;if(!this.isDragging||i||!this.domNode)return;const s=AH(n);r(kH(s.x,s.y,this.domNode.getBoundingClientRect())),this.isDragging=!1,this.currentPos=null,K4("Done moving %o",s)}),og(this,"handleDragCancel",()=>{if(!this.isDragging||this.props.readOnly||!this.currentPos||!this.domNode)return;const{onDragEnd:n}=this.props;this.isDragging=!1,n(kH(this.currentPos.x,this.currentPos.y,this.domNode.getBoundingClientRect())),this.currentPos=null}),og(this,"setDomNode",n=>{this.domNode=n})}componentDidMount(){h0?(document.body.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),document.body.addEventListener("touchend",this.handleDragEnd),document.body.addEventListener("touchcancel",this.handleDragCancel)):(document.body.addEventListener("mousemove",this.handleDrag),document.body.addEventListener("mouseup",this.handleDragEnd),document.body.addEventListener("mouseleave",this.handleDragCancel))}componentWillUnmount(){h0?(document.body.removeEventListener("touchmove",this.handleTouchMove),document.body.removeEventListener("touchend",this.handleDragEnd),document.body.removeEventListener("touchcancel",this.handleDragCancel)):(document.body.removeEventListener("mousemove",this.handleDrag),document.body.removeEventListener("mouseup",this.handleDragEnd),document.body.removeEventListener("mouseleave",this.handleDragCancel))}render(){const{readOnly:n,onDragStart:r,onDragEnd:i,onDrag:s,...o}=this.props;return c.jsx(t,{ref:this.setDomNode,onTouchStart:n?void 0:this.handleDragStart,onMouseDown:n?void 0:this.handleDragStart,onTouchMove:n?void 0:this.handleDrag,...o})}}}function kH(t,e,n){return{x:t-n.left,y:e-n.top}}function AH(t){return"touches"in t?t.touches.length>0?{x:t.touches[0].clientX,y:t.touches[0].clientY}:{x:0,y:0}:{x:t.clientX,y:t.clientY}}function pLn(t,e){return{x:t.x-e.x,y:t.y-e.y}}var mCe=Object.freeze,mLn=Object.defineProperty,MKe=(t,e)=>mCe(mLn(t,"raw",{value:mCe(e||t.slice())})),gCe,vCe;const gLn=hLn("canvas"),vLn=H.div(gCe||(gCe=MKe([`
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
`]))),yLn=H(gLn)(vCe||(vCe=MKe([`
  display: block;
  position: relative;
  max-width: calc(100% - 0.5em); /* to prevent overlap with change bar */
  max-height: calc(100% + 1em);
  user-select: none;
`]))),bLn="data:image/png;base64,AAACAAEAICACAAcABQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAEAAAAAAAAAAAAAAgAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8AAAA/AAAAfwAAAP+AAAH/gAAB/8AAA//AAAd/wAAGf+AAAH9gAADbYAAA2yAAAZsAAAGbAAAAGAAAAAAAAA//////////////////////////////////////////////////////////////////////////////////////gH///4B///8Af//+AD///AA///wAH//4AB//8AAf//AAD//5AA///gAP//4AD//8AF///AB///5A////5///8=",xLn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAABdSURBVEjH7ZA7DsAwCEMN6v2vTCdESpLKQRl5gxfzMQDNRQyWlEK83QAIRh3cH/QbIhQwMDl8gORl7A16WD/xxAdq6N6SgycKUblf41+wbFBT44RiCi11NU3TLHgBxRUUD4ITqnIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMDEtMjFUMDA6MTM6NDMrMDE6MDC74T7AAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEyLTA0LTAyVDA0OjEzOjM3KzAyOjAwQJ35wQAAAABJRU5ErkJggg==",g0={x:.5,y:.5,height:1,width:1},v0={top:0,left:0,right:0,bottom:0};var wLn=Object.defineProperty,_Ln=(t,e,n)=>e in t?wLn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,s1=(t,e,n)=>(_Ln(t,typeof e!="symbol"?e+"":e,n),n);const qS=8,CLn=12,ELn=10;function SLn(t){const e=t.top>t.bottom,n=t.left>t.right;return{top:e?t.bottom:t.top,bottom:e?t.top:t.bottom,left:n?t.right:t.left,right:n?t.left:t.right}}function TLn(t,e){return!(!t||!t.crop||t.crop.top+e.top<0||t.crop.left+e.left<0||t.crop.right+e.right<0||t.crop.bottom+e.bottom<0)}function yCe(t,e){const{top:n,right:r,bottom:i,left:s}=t.crop||v0,o={hotspot:t.hotspot,crop:{top:n+(e.top||0)>0?n:0,right:r+(e.right||0)>0?r:0,bottom:i+(e.bottom||0)>0?i:0,left:s+(e.left||0)>0?s:0}},a={top:n+(e.top||0)>0&&e.top||0,right:r+(e.right||0)>0&&e.right||0,bottom:i+(e.bottom||0)>0&&e.bottom||0,left:s+(e.left||0)>0&&e.left||0};return{value:o,delta:a}}function kLn(t){switch(t){case"left":case"right":return"col-resize";case"top":case"bottom":return"row-resize";case"topRight":case"bottomLeft":return"nesw-resize";case"topLeft":case"bottomRight":return"nwse-resize";default:return null}}const bCe=b9(()=>{const t=window.devicePixelRatio||1,e=document.createElement("canvas").getContext("2d"),n=e&&aLn(e)||1;return t/n}),xCe=["left","right","top","topLeft","topRight","bottom","bottomLeft","bottomRight"];class ALn extends re.PureComponent{constructor(){super(...arguments),s1(this,"state",{cropping:!1,cropMoving:!1,moving:!1,resizing:!1,mousePosition:null}),s1(this,"canvas"),s1(this,"handleDragStart",e=>{let{x:n,y:r}=e;const i={x:n*this.getScale(),y:r*this.getScale()},s=dCe(i,this.getHotspotRect()),o=fCe(i,this.getDragHandleCoords()),a=this.getActiveCropHandleFor(i),l=TH(i,this.getCropRect());a?this.setState({cropping:a}):o?this.setState({resizing:!0}):s?this.setState({moving:!0}):l&&this.setState({cropMoving:!0})}),s1(this,"handleDrag",e=>{this.state.cropping?this.emitCrop(this.state.cropping,e):this.state.cropMoving?this.emitCropMove(e):this.state.moving?this.emitMove(e):this.state.resizing&&this.emitResize(e)}),s1(this,"handleDragEnd",()=>{const{onChange:e,onChangeEnd:n}=this.props;this.setState({moving:!1,resizing:!1,cropping:!1,cropMoving:!1});const{hotspot:r,crop:i}=this.getClampedValue(),s=SLn(i),o={crop:{top:s.top,bottom:1-s.bottom,left:s.left,right:1-s.right},hotspot:{x:r.center.x,y:r.center.y,height:Math.abs(r.height),width:Math.abs(r.width)}};e(o),n&&n(o)}),s1(this,"handleMouseOut",()=>{this.setState({mousePosition:null})}),s1(this,"handleMouseMove",e=>{const n=e.currentTarget.getBoundingClientRect();this.setState({mousePosition:{x:(e.clientX-n.left)*this.getScale(),y:(e.clientY-n.top)*this.getScale()}})}),s1(this,"setCanvas",e=>{this.canvas=e})}getHotspotRect(){const{value:e,image:n}=this.props,r=e.hotspot||g0,i=new aa().setSize(r.width,r.height).setCenter(r.x,r.y);return new aa().setSize(n.width,n.height).shrink(qS*this.getScale()).multiply(i)}getCropRect(){const{value:e,image:n}=this.props;return new aa().setSize(n.width,n.height).shrink(qS*this.getScale()).cropRelative(aa.fromEdges(e.crop||v0).clamp(new aa(0,0,1,1)))}getCropHandles(){const e=this.getCropRect(),n=CLn*this.getScale(),r=n/2,i=new aa(0,0,n,n);return{left:i.setTopLeft(e.left-r,e.center.y-r),right:i.setTopLeft(e.right-r,e.center.y-r),top:i.setTopLeft(e.center.x-r,e.top-r),topLeft:i.setTopLeft(e.left-r,e.top-r),topRight:i.setTopLeft(e.right-r,e.top-r),bottom:i.setTopLeft(e.center.x-r,e.bottom-r),bottomLeft:i.setTopLeft(e.left-r,e.bottom-r),bottomRight:i.setTopLeft(e.right-r,e.bottom-r)}}getActiveCropHandleFor(e){let{x:n,y:r}=e;const i=this.getCropHandles();for(const s of xCe)if(TH({x:n,y:r},i[s]))return s;return!1}emitMove(e){const{image:n,value:r,onChange:i}=this.props,s=this.getScale(),o={x:e.x*s/n.width,y:e.y*s/n.height};i(ILn(r,o))}emitCropMove(e){const{image:n,onChange:r,value:i}=this.props,s=this.getScale(),o=e.x*s/n.width,a=-e.x*s/n.width,l=e.y*s/n.height,u=-e.y*s/n.height,d={left:o,right:a,top:l,bottom:u};TLn(i,d)&&r(wCe(i,d))}emitCrop(e,n){const{image:r,onChange:i,value:s}=this.props,o=this.getScale();let a=0,l=0,u=0,d=0;e=="left"||e==="topLeft"||e==="bottomLeft"?a=n.x*o/r.width:(e=="right"||e==="topRight"||e==="bottomRight")&&(l=-n.x*o/r.width),e=="top"||e==="topLeft"||e==="topRight"?u=n.y*o/r.height:(e=="bottom"||e==="bottomLeft"||e==="bottomRight")&&(d=-n.y*o/r.height);const f={left:a,right:l,top:u,bottom:d},h=yCe(s,f).value,p=yCe(s,f).delta;i(wCe(h,p))}emitResize(e){const{image:n,onChange:r,value:i}=this.props,s=this.getScale(),o={x:e.x*s*2/n.width,y:e.y*s*2/n.height};r(DLn(i,{height:o.y,width:o.x}))}getClampedValue(){const e=this.props.value,n=aa.fromEdges(e.crop||v0).clamp(new aa(0,0,1,1)),r=e.hotspot||g0,i=new aa(0,0,1,1).setSize(r.width,r.height).setCenter(r.x,r.y).clamp(n);return{crop:n,hotspot:i}}paintHotspot(e,n){const{image:r,readOnly:i}=this.props,s=new aa().setSize(r.width,r.height),{hotspot:o,crop:a}=this.getClampedValue(),l=this.getScale(),u=qS*l;e.save(),p(),d(),e.clip(),h(),e.restore(),i||g(Math.PI*1.25);function d(){e.save();const v=s.shrink(u).multiply(o),y=v.height/v.width;e.scale(1,y),e.beginPath(),e.globalAlpha=n,e.arc(v.center.x,v.center.y/y,Math.abs(v.width/2),0,2*Math.PI,!1),e.strokeStyle="white",e.lineWidth=1.5*l,e.stroke(),e.closePath(),e.restore()}function f(v,y,x,b,_,C,S,T){e.save(),e.drawImage(r,v,y,x,b,_,C,S,T),e.restore()}function h(){const v=s.multiply(o),y=s.shrink(u).multiply(o);f(v.left,v.top,v.width,v.height,y.left,y.top,y.width,y.height)}function p(){const v=s.cropRelative(a),y=s.shrink(u).cropRelative(a);e.save(),f(v.left,v.top,v.width,v.height,y.left,y.top,y.width,y.height),e.globalAlpha=.5,e.fillStyle="black",e.fillRect(y.left,y.top,y.width,y.height),e.restore()}function g(v){e.save();const y=ELn*l,x=s.shrink(u).multiply(o),b=hCe(v,x);e.beginPath(),e.arc(b.x,b.y,y,0,2*Math.PI,!1),e.fillStyle="rgb(255,255,255)",e.fill(),e.closePath(),e.restore(),e.beginPath(),e.arc(b.x,b.y,y,0,2*Math.PI,!1),e.strokeStyle="rgb(0, 0, 0)",e.lineWidth=.5*l,e.stroke(),e.closePath()}}getActualSize(){var e;const n=(e=this.canvas)==null?void 0:e.domNode;return n?{height:n.clientHeight,width:n.clientWidth}:{height:0,width:0}}getDragHandleCoords(){const e=this.getHotspotRect(),n=hCe(Math.PI*1.25,e);return{x:n.x,y:n.y,radius:8*this.getScale()}}debug(e){e.save();const{image:n}=this.props,r=this.getHotspotRect(),i=this.getScale(),s=qS*i;e.setLineDash&&e.setLineDash([2*i,2*i]),e.lineWidth=.5*i,e.strokeStyle="rgba(200, 200, 200, 0.5)",o(r.center.x),a(r.center.y),e.strokeStyle="rgba(150, 150, 150, 0.5)",a(r.top),a(r.bottom),o(r.left),o(r.right),e.restore();function o(u){l(u,s,u,n.height-s)}function a(u){l(s,u,n.width-s,u)}function l(u,d,f,h){e.beginPath(),e.moveTo(u,d),e.lineTo(f,h),e.stroke(),e.closePath()}}paintBackground(e){const{image:n}=this.props,r=new aa().setSize(n.width,n.height).shrink(qS*this.getScale());e.save(),e.fillStyle="white",e.clearRect(0,0,n.width,n.height),e.globalAlpha=.3,e.drawImage(n,r.left,r.top,r.width,r.height),e.restore()}paint(e){const{readOnly:n}=this.props;e.save();const r=bCe();e.scale(r,r);const i=!n&&this.state.mousePosition?.8:.2;this.paintBackground(e),this.paintHotspot(e,i),this.debug(e),this.paintCropBorder(e),n||this.highlightCropHandles(e,i),e.restore()}paintMousePosition(e){if(!this.state.mousePosition)return;const{x:n,y:r}=this.state.mousePosition;e.beginPath(),e.arc(n,r,14*this.getScale(),0,2*Math.PI,!1),e.fillStyle="lightblue",e.fill(),e.restore()}paintCropBorder(e){const n=this.getCropRect();e.save(),e.beginPath(),e.fillStyle="rgba(66, 66, 66, 0.9)",e.lineWidth=1,e.rect(n.left,n.top,n.width,n.height),e.stroke(),e.closePath(),e.restore()}highlightCropHandles(e,n){e.save();const r=this.getCropHandles();xCe.forEach(i=>{e.fillStyle=this.state.cropping===i?"rgba(202, 54, 53, ".concat(n,")"):"rgba(230, 230, 230, ".concat(n+.4,")");const{left:s,top:o,height:a,width:l}=r[i];e.fillRect(s,o,l,a),e.beginPath(),e.fillStyle="rgba(66, 66, 66, ".concat(n,")"),e.rect(s,o,l,a),e.closePath(),e.stroke()}),e.restore()}getScale(){const e=this.getActualSize();return this.props.image.width/e.width}getCursor(){const{mousePosition:e}=this.state,{readOnly:n}=this.props;if(!e||n)return"auto";const r=this.state.cropping||this.getActiveCropHandleFor(e);if(r)return kLn(r)||"auto";const i=fCe(e,this.getDragHandleCoords());if(this.state.resizing||i)return"move";if(this.state.moving||this.state.cropMoving)return"url(".concat(xLn,"), move");const s=dCe(e,this.getHotspotRect()),o=TH(e,this.getCropRect());return s||o?"url(".concat(bLn,"), move"):"auto"}componentDidMount(){this.draw()}componentDidUpdate(){this.draw()}draw(){if(!this.canvas)return;const e=this.canvas.domNode,n=e.getContext("2d");if(!n)return;this.paint(n);const r=e.style.cursor,i=this.getCursor();r!==i&&(e.style.cursor=i)}render(){const{image:e,readOnly:n}=this.props,r=bCe();return c.jsx(vLn,{children:c.jsx(yLn,{readOnly:n,ref:this.setCanvas,onDrag:this.handleDrag,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,height:e.height*r,width:e.width*r})})}}function ILn(t,e){const n=t&&t.hotspot||g0;return{...t,hotspot:{...n,x:n.x+e.x,y:n.y+e.y}}}function DLn(t,e){const n=t&&t.hotspot||g0;return{...t,hotspot:{...n,height:n.height+e.height,width:n.width+e.width}}}function wCe(t,e){const n=t&&t.crop||v0;return{...t,crop:{left:n.left+(e.left||0),right:n.right+(e.right||0),top:n.top+(e.top||0),bottom:n.bottom+(e.bottom||0)}}}function RLn(t){const{image:e,maxHeight:n,maxWidth:r,children:i}=t,[s]=m.useState(()=>{const a=document.createElement("canvas");return a.style.display="none",a});m.useEffect(()=>(document.body.appendChild(s),()=>{document.body.removeChild(s)}),[s]);const o=m.useCallback((a,l,u)=>{const d=a.width/a.height,f=Math.min(a.width,u),h=Math.min(a.height,l),p=a.width>a.height,g=p?f:h*d,v=p?f/d:h;s.width=g,s.height=v;const y=s.getContext("2d");return y&&y.drawImage(a,0,0,a.width,a.height,0,0,g,v),s},[s]);return i(o(e,n,r))}function l3(t){return c.jsx(sLn,{src:t.src,children:e=>{let{isLoading:n,image:r,error:i}=e;return n?c.jsx("div",{children:"Loading..."}):i?c.jsx("div",{children:i.message}):r?c.jsx(RLn,{image:r,maxHeight:l3.maxHeight,maxWidth:l3.maxWidth,children:s=>c.jsx(ALn,{image:s,...t})}):null}})}l3.maxHeight=500;l3.maxWidth=1e3;function jLn(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=_Ce(t.image)||1,n=t.hotspot||g0,r=t.crop||v0,i=_Ce(t.container)||e*LLn(r),s=t.align||{x:"center",y:"center"},o=OLn(e,{hotspot:n,crop:r},{aspect:i,align:s}),a=FKe($Ke(100/i));return{debug:{result:o},container:{overflow:"hidden",position:"relative",width:"100%",height:a},padding:{marginTop:a},crop:{position:"absolute",overflow:"hidden",height:o1(o.crop.height),width:o1(o.crop.width),top:o1(o.crop.top),left:o1(o.crop.left)},image:{position:"absolute",height:o1(o.image.height),width:o1(o.image.width),top:o1(o.image.top),left:o1(o.image.left)}}}function _Ce(t){if(!t)return null;if("aspectRatio"in t)return t.aspectRatio;if("height"in t||"width"in t){if(typeof t.height!="number"&&typeof t.width!="number")throw new Error("Height and width must be numbers, got ".concat(JSON.stringify(t)));return t.width/t.height}return null}function $Ke(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;const n=Math.pow(10,e);return Math.round(t*n)/n}function OLn(t,e,n){const r=e.crop,i=n.aspect,s=n.align,o=1-r.left-r.right,a=1-r.top-r.bottom,l={top:-r.top/a,left:-r.left/o,width:1/o,height:1/a},d=o/a*t,f={x:(e.hotspot.x-r.left)/o,y:(e.hotspot.y-r.top)/a,height:e.hotspot.height/a,width:e.hotspot.width/o},h=1/f.width,p=1/f.height*d/i,g=Math.min(h,p);let v;const y=d<=i;y?v=1:v=d/i;let x,b;if(v>g){x="letterbox";let _;const C=v-g;y?_=1-C:_=g,b={width:_,height:_/d*i,left:0,top:0};const S=f.x*b.width-f.width*b.width/2;switch(s.x){case"left":b.left=y?0:-S;break;case"right":b.left=y?1-b.width:S;break;case"center":b.left=y?(1-b.width)/2:-S;break;default:throw new Error("Invalid x alignment: '".concat(s.x,"'. Must be either 'left', 'right' or 'center'"))}const T=f.y*b.height-f.height*b.height/2;switch(s.y){case"top":b.top=y?-T:0;break;case"bottom":b.top=T;break;case"center":b.top=y?-T:(1-b.height)/2;break;default:throw new Error("Invalid y alignment: '".concat(s.y,"'. Must be either 'top', 'bottom' or 'center'"))}}else if(y){x="full_width";let _=-f.y/d*i+.5;const C=v/d*i;_>0?_=0:-_>C-1&&(_=-(C-1)),b={width:v,height:C,left:0,top:_}}else{x="full_height";const _=v;let C=.5-f.x*v;C>0?C=0:-C>_-1&&(C=-(_-1)),b={width:_,height:v/d*i,top:0,left:C}}return{method:x,crop:b,image:l}}function LLn(t){const e=1-t.top-t.bottom;return(1-t.left-t.right)/e}function FKe(t){return t===0?0:"".concat(t,"%")}function o1(t){return FKe($Ke(t*100))}var CCe=Object.freeze,PLn=Object.defineProperty,MLn=(t,e)=>CCe(PLn(t,"raw",{value:CCe(e||t.slice())})),ECe;const $Ln=H.div(ECe||(ECe=MLn([`
  position: relative;
  width: 100%;
`]))),FLn=W1("sanity-imagetool");function BLn(t,e){const n=1/e,r=e*n,i=r-(t.left+t.right)*r,s=n-(t.top+t.bottom)*n;return i/s}const NLn=m.memo(function(e){const{alignX:n="center",alignY:r="center",alt:i,aspectRatio:s="none",className:o="",crop:a=v0,hotspot:l=g0,onError:u,onLoad:d,src:f,srcAspectRatio:h,srcSet:p,style:g}=e,[v,y]=m.useState(null),x=m.useRef(null),b=m.useRef(null),_=m.useCallback(()=>{if(x.current)if(s==="auto"){const T=x.current.parentNode;m.startTransition(()=>y(T.offsetWidth/T.offsetHeight))}else y(null)},[s]);m.useEffect(()=>{const T=b.current;return T&&T.src&&T.complete&&T.naturalWidth!==void 0&&(FLn("Image '%s' already loaded, refreshing (from cache) to trigger onLoad / onError",f),T.src=T.src),_(),window.addEventListener("resize",_),()=>{window.removeEventListener("resize",_)}},[f,_]);const C=m.useMemo(()=>s==="none"?a?BLn(a,h):h:s==="auto"?v:s||null,[s,v,a,h]),S=m.useMemo(()=>jLn({container:{aspectRatio:C||h},image:{aspectRatio:h},hotspot:l,crop:a,align:{x:n,y:r}}),[n,r,a,l,h,C]);return c.jsx($Ln,{className:"".concat(o),style:g,ref:x,children:c.jsxs("div",{style:S.container,children:[c.jsx("div",{style:S.padding}),c.jsx("div",{style:S.crop,children:c.jsx("img",{ref:b,src:f,alt:i,srcSet:p,onLoad:d,onError:u,style:S.image})})]})})}),VLn="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ULn(t){return t.startsWith("blob:")}function HLn(t){return new On(e=>{const n=document.createElement("img");let r=!1;const i=()=>{r=!0,e.next(n),e.complete()},s=()=>{r=!0,e.error(new Error("Could not load image from ".concat(ULn(t)?"blob":t)))};return n.onload=i,n.onerror=s,n.src=t,()=>{n.onload=null,n.onerror=null,r||(n.src=VLn)}})}const SCe={isLoading:!0};function zLn(t){const[e,n]=m.useState(SCe);return m.useEffect(()=>{n(SCe);const r=HLn(t).subscribe({error:i=>{n({isLoading:!1,error:i})},next:i=>{n({image:i,isLoading:!1})}});return()=>{r.unsubscribe()}},[t]),e}var TCe=Object.freeze,WLn=Object.defineProperty,GLn=(t,e)=>TCe(WLn(t,"raw",{value:TCe(e||t.slice())})),kCe;const ACe=["hotspot"],ICe=[["3:4",3/4],["Square",1/1],["16:9",16/9],["Panorama",4/1]],DCe={crop:v0,hotspot:g0},qLn=H.div(kCe||(kCe=GLn([`
  min-height: 6em;
`])));function YLn(t){return c.jsx(ae,{align:"center",justify:"center",padding:4,style:{overflowWrap:"break-word"},children:t.children})}function KLn(t){const{imageUrl:e,value:n,changed:r,level:i,path:s,focusPath:o=vs,presence:a,onChange:l,schemaType:u,onPathFocus:d,readOnly:f,elementProps:h}=t,[p,g]=m.useState(n||DCe),{image:v,isLoading:y,error:x}=zLn(e),b=m.useCallback(()=>{d(ACe)},[d]);m.useEffect(()=>{g(n||DCe)},[n]);const _=o[0]==="hotspot";qc(_,S=>{var T;!S&&_&&((T=h.ref.current)==null||T.focus())});const C=m.useCallback(S=>{if(f)return;const T=u.fields.find(D=>D.name==="crop"&&D.type.name!=="object"),A=u.fields.find(D=>D.type.name!=="object"&&D.name==="hotspot"),k=T?{_type:T.type.name,...S.crop||v0}:S.crop,I=A?{_type:A.type.name,...S.hotspot||g0}:S.hotspot;l([_n(k,["crop"]),_n(I,["hotspot"])])},[l,f,u.fields]);return c.jsx(bE,{title:"Hotspot & crop",level:i,description:"Adjust the rectangle to crop image. Adjust the circle to specify the area that should always be visible.",__unstable_presence:a,children:c.jsxs("div",{children:[c.jsx(ge,{__unstable_checkered:!0,__unstable_focusRing:!0,tabIndex:0,ref:h.ref,onFocus:b,children:c.jsx(Pl,{path:s.concat(ACe),hasFocus:o[0]==="hotspot",isChanged:r,children:c.jsxs(cCe,{ratio:3/2,children:[(y||x)&&c.jsx(YLn,{children:x?c.jsx(ge,{padding:4,radius:2,tone:"critical",border:!0,children:c.jsxs(G,{children:["Error: ",x.message]})}):c.jsx(G,{muted:!0,children:"Loading image "})}),!y&&v&&c.jsx(N,{margin:1,children:c.jsx(l3,{value:p,src:v.src,readOnly:!!f,onChangeEnd:C,onChange:g})})]})})}),c.jsx(N,{marginTop:3,children:c.jsx(Er,{columns:ICe.length,gap:1,children:ICe.map(S=>{let[T,A]=S;return c.jsxs("div",{children:[c.jsx(Ws,{as:"h4",size:0,children:T}),c.jsx(N,{marginTop:2,children:c.jsx(cCe,{ratio:A,children:c.jsx(ge,{__unstable_checkered:!0,children:!y&&v?c.jsx(NLn,{aspectRatio:A,src:v.src,srcAspectRatio:v.width/v.height,hotspot:p.hotspot||g0,crop:p.crop||v0}):c.jsx(qLn,{})})})})]},A)})})})]})})}var RCe=Object.freeze,ZLn=Object.defineProperty,XLn=(t,e)=>RCe(ZLn(t,"raw",{value:RCe(e||t.slice())})),jCe;const QLn=H(cn)(jCe||(jCe=XLn([`
  position: absolute;
  top: 0;
  right: 0;
`])));function JLn(t){const{onEdit:e,children:n,showEdit:r,setHotspotButtonElement:i,setMenuButtonElement:s,onMenuOpen:o,isMenuOpen:a}=t,[l,u]=m.useState(null),[d,f]=m.useState(null),h=m.useCallback(()=>o(!a),[o,a]);zf(m.useCallback(g=>{a&&(g.key==="Escape"||g.key==="Tab")&&(o(!1),d==null||d.focus())},[a,o,d])),ga(m.useCallback(g=>{d!=null&&d.contains(g.target)||o(!1)},[d,o]),[l]);const p=m.useCallback(g=>{s(g),f(g)},[s]);return m.useEffect(()=>{a&&(l==null||l.focus())},[a,l]),c.jsxs(QLn,{"data-buttons":!0,space:1,padding:2,children:[r&&c.jsx(Ce,{"aria-label":"Open image edit dialog","data-testid":"options-menu-edit-details",icon:rQ,mode:"ghost",onClick:e,ref:i}),c.jsx(Ti,{id:"image-actions-menu",content:c.jsx(er,{ref:u,children:n}),portal:!0,open:a,constrainSize:!0,children:c.jsx(Ce,{"aria-label":"Open image options menu","data-testid":"options-menu-button",icon:ll,mode:"ghost",onClick:h,ref:p})})]})}var OCe=Object.freeze,ePn=Object.defineProperty,W$=(t,e)=>OCe(ePn(t,"raw",{value:OCe(e||t.slice())})),LCe,PCe,MCe,$Ce;const FCe=30,tPn=H(ge)(LCe||(LCe=W$([`
  position: relative;
  width: 100%;
  overflow: hidden;
  overflow: clip;
  min-height: 3.75rem;
  max-height: 20rem;

  & > div[data-container] {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex !important;
    align-items: center;
    justify-content: center;
  }

  & img {
    max-width: 100%;
    max-height: 100%;
  }
`]))),nPn=H(_s)(PCe||(PCe=W$([`
  position: absolute;
`]))),rPn=H(ae)(t=>{let{tone:e,drag:n}=t;const r=qi.color.light[e].card.enabled.fg,i=fr(qi.color.light[e].card.enabled.bg,.8);return qe(MCe||(MCe=W$([`
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      backdrop-filter: `,`;
      color: `,`;
      background-color: `,`;
    `])),n?"blur(10px)":"",e?r:"",n?i:"transparent")}),iPn=H(ae)($Ce||($Ce=W$([`
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
`]))),sPn=t=>{const n=new URLSearchParams(t.split("?")[1]).get("rect");return n?[n.split(",")[2],n.split(",")[3]].map(Number):t.split("-")[1].split(".")[0].split("x").map(Number)};function oPn(t){const{drag:e,readOnly:n,isRejected:r,src:i,...s}=t,[o,a]=m.useState(!1),[l,u]=m.useState(null),d=lI(l),f=(d==null?void 0:d.width)||0,p=e?r||n?"critical":"primary":"default",g=FCe*document.documentElement.clientHeight/100,[v,y]=sPn(i),x=v/y,_=(v>f?f/x:y)<g?null:"".concat(FCe,"vh");m.useEffect(()=>{a(!1)},[i]);const C=m.useCallback(()=>{a(!0)},[]);return c.jsxs(tPn,{...s,ref:u,style:{height:_},tone:"transparent",children:[c.jsxs(ge,{"data-container":!0,tone:"inherit",children:[!o&&c.jsx(BCe,{cardTone:"transparent",drag:!0,content:c.jsx(nPn,{})}),c.jsx("img",{src:i,"data-testid":"hotspot-image-input",alt:t.alt,onLoad:C,referrerPolicy:"strict-origin-when-cross-origin"})]}),e&&c.jsx(BCe,{cardTone:p,drag:e,content:c.jsxs(c.Fragment,{children:[c.jsx(N,{marginBottom:3,children:c.jsx(Ws,{children:c.jsx(aPn,{isRejected:r,readOnly:n})})}),c.jsx(lPn,{isRejected:r,readOnly:n})]})})]})}function aPn(t){let{isRejected:e,readOnly:n}=t;return e?c.jsx(Dv,{}):n?c.jsx(lQ,{}):c.jsx(Mh,{})}function lPn(t){let{isRejected:e,readOnly:n}=t,r="Drop image to upload";return e&&(r="Cannot upload this file here"),n&&(r="This field is read only"),c.jsx(G,{size:1,children:r})}function BCe(t){let{cardTone:e,drag:n,content:r}=t;return c.jsx(rPn,{justify:"flex-end",padding:3,tone:e,drag:n,children:c.jsx(iPn,{direction:"column",align:"center",justify:"center",children:r})})}var NCe=Object.freeze,uPn=Object.defineProperty,cPn=(t,e)=>NCe(uPn(t,"raw",{value:NCe(e||t.slice())})),VCe;const dPn=H(Ce)(VCe||(VCe=cPn([`
  width: 100%;
`])));function fPn(t){let{onClearValue:e}=t;return c.jsxs(ge,{tone:"caution",padding:4,border:!0,radius:2,children:[c.jsxs(ae,{gap:4,marginBottom:4,children:[c.jsx(N,{children:c.jsx(G,{size:1,children:c.jsx(vo,{})})}),c.jsxs(Te,{space:3,children:[c.jsx(G,{size:1,weight:"semibold",children:"Invalid image value"}),c.jsx(G,{size:1,children:"The value of this field is not a valid image. Resetting this field will let you choose a new image."})]})]}),c.jsx(dPn,{icon:pm,text:"Reset value",onClick:e,mode:"ghost"})]})}var hPn=Object.defineProperty,pPn=(t,e,n)=>e in t?hPn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_i=(t,e,n)=>(pPn(t,typeof e!="symbol"?e+"":e,n),n);const mPn=()=>typeof window>"u"||!window.devicePixelRatio?1:Math.round(Math.max(1,window.devicePixelRatio));function gPn(t){let{children:e}=t;return e}const UCe=["asset"],vPn={portal:!0};class yPn extends re.PureComponent{constructor(e){var n;super(e),n=this,_i(this,"_previewElement",null),_i(this,"_assetPath"),_i(this,"uploadSubscription",null),_i(this,"state",{isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,hotspotButtonElement:null,menuButtonElement:null,isMenuOpen:!1}),_i(this,"toast",null),_i(this,"setPreviewElement",r=>{this._previewElement=r}),_i(this,"setHotspotButtonElement",r=>{this.setState({hotspotButtonElement:r})}),_i(this,"setMenuButtonElement",r=>{this.setState({menuButtonElement:r})}),_i(this,"getUploadOptions",r=>{const{schemaType:i,resolveUploader:s}=this.props,o=s&&s(i,r);return o?[{type:i,uploader:o}]:[]}),_i(this,"uploadWith",function(r,i){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{schemaType:o,onChange:a,client:l}=n.props,{label:u,title:d,description:f,creditLine:h,source:p}=s,g={metadata:ms(o,"options.metadata"),storeOriginalFilename:ms(o,"options.storeOriginalFilename"),label:u,title:d,description:f,creditLine:h,source:p};n.cancelUpload(),n.setState({isUploading:!0}),a(sl({_type:o.name})),n.uploadSubscription=r.upload(l,i,o,g).subscribe({next:v=>{v.patches&&a(v.patches)},error:v=>{var y;console.error(v),(y=n.toast)==null||y.push({status:"error",description:"The upload could not be completed at this time.",title:"Upload failed"}),n.clearUploadStatus()},complete:()=>{a([Jt(["hotspot"]),Jt(["crop"])]),n.setState({isUploading:!1})}})}),_i(this,"handleRemoveButtonClick",()=>{const{value:r}=this.props,i=Object.keys(r||{}),o=i.filter(l=>!["_type","_key","_upload","asset","crop","hotspot"].includes(l)).length===0,a=["asset"].concat(i.filter(l=>["crop","hotspot","_upload"].includes(l))).map(l=>Jt([l]));this.props.onChange(o&&!this.valueIsArrayElement()?Jt():a)}),_i(this,"handleFieldChange",r=>{const{onChange:i,schemaType:s}=this.props;if(!this.valueIsArrayElement()&&this.eventIsUnsettingLastFilledField(r)){i(Jt());return}i(r.prepend(sl({_type:s.name})).patches)}),_i(this,"eventIsUnsettingLastFilledField",r=>{const i=r.patches[0];if(r.patches.length!==1||i.type!=="unset")return!1;const o=Object.keys(this.props.value||{}).filter(l=>!["_type","_key","crop","hotspot"].includes(l));return r.patches[0].path.length===1&&o.length===1&&o[0]===r.patches[0].path[0]}),_i(this,"valueIsArrayElement",()=>{const{path:r}=this.props;return typeof r.slice(-1)[0]!="string"}),_i(this,"handleOpenDialog",()=>{const{onFieldOpen:r}=this.props;r("hotspot")}),_i(this,"handleCloseDialog",()=>{var r;const{onFieldClose:i}=this.props;i("hotspot"),(r=this.state.hotspotButtonElement)==null||r.focus()}),_i(this,"handleSelectAssetFromSource",r=>{const{onChange:i,schemaType:s,resolveUploader:o}=this.props;IKe({assetFromSource:r,onChange:i,type:s,resolveUploader:o,uploadWith:this.uploadWith,isImage:!0}),this.setState({selectedAssetSource:null})}),_i(this,"handleFileTargetFocus",r=>{var i;r.currentTarget===r.target&&r.currentTarget===((i=this.props.elementProps.ref)==null?void 0:i.current)&&this.props.elementProps.onFocus(r)}),_i(this,"handleFilesOver",r=>{this.setState({hoveringFiles:r.filter(i=>i.kind!=="string")})}),_i(this,"handleFilesOut",()=>{this.setState({hoveringFiles:[]})}),_i(this,"handleCancelUpload",()=>{this.cancelUpload()}),_i(this,"handleClearUploadState",()=>{this.setState({isStale:!1}),this.clearUploadStatus()}),_i(this,"handleStaleUpload",()=>{this.setState({isStale:!0})}),_i(this,"handleClearField",()=>{this.props.onChange([Jt(["asset"]),Jt(["crop"]),Jt(["hotspot"])])}),_i(this,"handleSelectFiles",r=>{const{directUploads:i,readOnly:s}=this.props,{hoveringFiles:o}=this.state;i&&!s?this.uploadFirstAccepted(r):o.length>0&&this.handleFilesOut()}),_i(this,"handleSelectImageFromAssetSource",r=>{this.setState({selectedAssetSource:r})}),_i(this,"handleAssetSourceClosed",()=>{var r;this.setState({selectedAssetSource:null}),(r=this.state.menuButtonElement)==null||r.focus()}),_i(this,"renderHotspotInput",r=>{const{value:i,changed:s,id:o,imageUrlBuilder:a}=this.props,l=this.isImageToolEnabled()&&i&&i.asset;return c.jsx(pa,{__unstable_autoFocus:!1,header:"Edit hotspot and crop",id:"".concat(o,"_dialog"),onClickOutside:this.handleCloseDialog,onClose:this.handleCloseDialog,width:1,children:c.jsx(j$,{children:c.jsx(N,{padding:4,children:c.jsx(Te,{space:5,children:l&&(i==null?void 0:i.asset)&&c.jsx(KLn,{...this.props,imageUrl:a.image(i.asset).url(),value:i,presence:r.presence,changed:s})})})})})}),_i(this,"renderPreview",()=>{const{value:r,schemaType:i,readOnly:s,directUploads:o,imageUrlBuilder:a,resolveUploader:l}=this.props;if(!r||!Tk(r))return null;const{hoveringFiles:u}=this.state,d=u.filter(p=>l(i,p)),f=u.length-d.length,h=a.width(2e3).fit("max").image(r).dpr(mPn()).auto("format").url();return c.jsx(oPn,{drag:!(r!=null&&r._upload)&&u.length>0,isRejected:f>0||!o,readOnly:s,src:h,alt:"Preview of uploaded image"})}),_i(this,"setToast",r=>{this.toast=r}),this._assetPath=e.path.concat(UCe)}isImageToolEnabled(){return ms(this.props.schemaType,"options.hotspot")===!0}clearUploadStatus(){var e;(e=this.props.value)!=null&&e._upload&&this.props.onChange(Jt(["_upload"]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(e){const{schemaType:n,resolveUploader:r}=this.props,i=e.map(s=>({file:s,uploader:r(n,s)})).find(s=>s.uploader);i&&this.uploadWith(i.uploader,i.file),this.setState({isMenuOpen:!1})}renderAssetMenu(){const{value:e,assetSources:n,schemaType:r,readOnly:i,directUploads:s,imageUrlBuilder:o,observeAsset:a}=this.props,l=e==null?void 0:e.asset;if(!l)return null;const u=ms(r,"options.accept","image/*"),d=e&&l&&this.isImageToolEnabled();let f=n&&n.length===0?null:c.jsx(St,{icon:nl,text:"Select",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(n[0])},disabled:i,"data-testid":"file-input-browse-button"});return n&&n.length>1&&(f=n.map(h=>c.jsx(St,{text:h.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(h)},icon:h.icon||Mh,"data-testid":"file-input-browse-button-".concat(h.name),disabled:i},h.name))),c.jsx(uC,{observeAsset:a,reference:l,children:h=>{let{_id:p,originalFilename:g,extension:v}=h,y,x;if(Tk(e)){const b=g||"download.".concat(v);x=o.image(p).forceDownload(b).url(),y=o.image(p).url()}return c.jsx(JLn,{isMenuOpen:this.state.isMenuOpen,onEdit:this.handleOpenDialog,onMenuOpen:b=>this.setState({isMenuOpen:b}),setHotspotButtonElement:this.setHotspotButtonElement,setMenuButtonElement:this.setMenuButtonElement,showEdit:d,children:c.jsx(DKe,{onUpload:this.handleSelectFiles,browse:f,onReset:this.handleRemoveButtonClick,downloadUrl:x,copyUrl:y,readOnly:i,directUploads:s,accept:u})})}})}renderBrowser(){const{assetSources:e,readOnly:n,directUploads:r,id:i}=this.props;return e&&e.length===0?null:e&&e.length>1&&!n&&r?c.jsx(vr,{id:"".concat(i,"_assetImageButton"),ref:this.setMenuButtonElement,button:c.jsx(Ce,{"data-testid":"file-input-multi-browse-button",icon:nl,iconRight:_0,mode:"ghost",text:"Select"}),menu:c.jsx(er,{children:e.map(s=>c.jsx(St,{text:s.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(s)},icon:s.icon||Mh,disabled:n,"data-testid":"file-input-browse-button-".concat(s.name)},s.name))}),popover:vPn}):c.jsx(Ce,{fontSize:2,text:"Select",icon:nl,mode:"ghost",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(e[0])},"data-testid":"file-input-browse-button",disabled:n})}renderUploadPlaceholder(){const{schemaType:e,readOnly:n,directUploads:r,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,o=s.filter(u=>i(e,u)),a=s.length-o.length,l=ms(e,"options.accept","image/*");return c.jsx("div",{style:{padding:1},children:c.jsx(ge,{tone:n?"transparent":"inherit",border:!0,padding:3,style:s.length===0?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},children:c.jsx(jKe,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:n,hoveringFiles:s,acceptedFiles:o,rejectedFilesCount:a,type:"image",accept:l,directUploads:r})})})}renderUploadState(e){var n;const{isUploading:r}=this.state,i=(n=this._previewElement)==null?void 0:n.offsetHeight;return c.jsx(kKe,{uploadState:e,onCancel:r?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload,height:i})}renderAssetSource(){const{selectedAssetSource:e}=this.state,{value:n,schemaType:r,observeAsset:i}=this.props,s=ms(r,"options.accept","image/*");if(!e)return null;const o=e.component;return n&&n.asset?c.jsx(uC,{observeAsset:i,reference:n.asset,children:a=>c.jsx(o,{selectedAssets:[a],assetType:"image",accept:s,selectionType:"single",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):c.jsx(o,{selectedAssets:[],selectionType:"single",assetType:"image",accept:s,onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}getFileTone(){const{schemaType:e,value:n,readOnly:r,directUploads:i,resolveUploader:s}=this.props,{hoveringFiles:o}=this.state,a=o.filter(u=>s(e,u)),l=o.length-a.length;return o.length>0&&(l>0||!i)?"critical":!(n!=null&&n._upload)&&!r&&o.length>0?"primary":r||n!=null&&n._upload&&(n!=null&&n.asset)?"transparent":"default"}renderAsset(){const{value:e,readOnly:n,elementProps:r}=this.props,{hoveringFiles:i,isStale:s}=this.state,o=!!(e!=null&&e._upload||e!=null&&e.asset);return e&&typeof e.asset<"u"&&!(e!=null&&e._upload)&&!Tk(e)?()=>c.jsx(fPn,{onClearValue:this.handleClearField}):a=>c.jsxs(c.Fragment,{children:[s&&c.jsx(N,{marginBottom:2,children:c.jsx(OKe,{onClearStale:this.handleClearUploadState})}),c.jsx(Pl,{path:a.path.concat(UCe),hasFocus:!!a.focused,isChanged:a.changed,children:e!=null&&e._upload?this.renderUploadState(e._upload):c.jsxs(TKe,{...r,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!n,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:o||i.length>0,style:{padding:1},sizing:"border",radius:2,children:[!(e!=null&&e.asset)&&this.renderUploadPlaceholder(),!(e!=null&&e._upload)&&(e==null?void 0:e.asset)&&c.jsxs("div",{style:{position:"relative"},ref:this.setPreviewElement,children:[this.renderPreview(),this.renderAssetMenu()]})]})})]})}render(){const{members:e,renderAnnotation:n,renderBlock:r,renderField:i,renderInlineBlock:s,renderInput:o,renderItem:a,renderPreview:l}=this.props,{selectedAssetSource:u}=this.state,d=e.find(f=>f.kind==="field"&&f.name==="hotspot");return c.jsxs(Te,{space:5,"data-testid":"image-input",children:[c.jsx(Ere,{ref:this.setToast}),e.map(f=>f.kind==="field"&&(f.name==="crop"||f.name==="hotspot")?null:f.kind==="field"?c.jsx(Kv,{member:f,renderAnnotation:n,renderBlock:r,renderInlineBlock:s,renderInput:f.name==="asset"?this.renderAsset():o,renderField:f.name==="asset"?gPn:i,renderItem:a,renderPreview:l},f.key):f.kind==="fieldSet"?c.jsx(die,{member:f,renderAnnotation:n,renderBlock:r,renderField:i,renderInlineBlock:s,renderInput:o,renderItem:a,renderPreview:l},f.key):f.kind==="error"?c.jsx(B$,{member:f},f.key):c.jsxs(c.Fragment,{children:["Unknown member kind: $",f.kind]})),(d==null?void 0:d.open)&&c.jsx(eKe,{...this.props,absolutePath:d.field.path,renderInput:this.renderHotspotInput}),u&&this.renderAssetSource()]})}}function bPn(t){var e;const n=(e=t.schemaType.options)==null?void 0:e.sources,{image:r}=Ml().__internal,i=Yc(),s=Cs(us),a=Ml().__internal.image.directUploads,l=m.useCallback((h,p)=>a?aie(h,p):null,[a]),u=re.useMemo(()=>n||r.assetSources,[r,n]),d=re.useMemo(()=>M9(s),[s]),f=m.useCallback(h=>BYe(i,h),[i]);return c.jsx(yPn,{...t,client:s,assetSources:u,directUploads:r.directUploads,imageUrlBuilder:d,observeAsset:f,resolveUploader:l})}const BKe=()=>{},IH={isLoading:!0,result:void 0,error:void 0,retry:BKe},xPn={isLoading:!1,result:void 0,error:void 0,retry:BKe};function NKe(t,e){const[n,r]=m.useState(0),i=m.useCallback(()=>{r(l=>l+1)},[]),s=m.useMemo(()=>({_id:t._id,_type:t._type}),[t._id,t._type]),o=Va(()=>s._id?e(s).pipe(Be(l=>({isLoading:!1,result:l,error:void 0,retry:i,retryAttempt:n})),vu(IH),Or(l=>(console.error(l),Re({isLoading:!1,result:void 0,error:l,retry:i,retryAttempt:n})))):Re(xPn),[s,e,i,n],IH);return Pre(t._id,t._id)!==t._id?IH:o}var HCe=Object.freeze,wPn=Object.defineProperty,VKe=(t,e)=>HCe(wPn(t,"raw",{value:HCe(e||t.slice())})),zCe,WCe;const _Pn=H(ae)(zCe||(zCe=VKe([`
  /* this is a hack to avoid layout jumps while previews are loading
  or the message is not tall enough to fill the card
  there's probably better ways of solving this */
  min-height: 36px;
`]))),UKe=H(ae)(WCe||(WCe=VKe([`
  /* This limits the width of the tooltip content */
  max-width: 250px;
`])));function GCe(t){return c.jsx(UKe,{padding:3,children:c.jsx(N,{flex:1,children:c.jsx(N,{children:c.jsx(G,{as:"p",size:1,children:t.children})})})})}function HKe(t){var e,n,r;const{refType:i,showStudioUrlIcon:s,hasStudioUrl:o,showTypeLabel:a,availability:l,preview:u,id:d,dataset:f,projectId:h}=t,p=(l==null?void 0:l.reason)==="NOT_FOUND",g=(l==null?void 0:l.reason)==="PERMISSION_DENIED",v=(e=u.published)==null?void 0:e.media,y=m.useMemo(()=>{if(v){const x=typeof(v==null?void 0:v.asset)<"u"&&Tk(v),b=re.isValidElement(v);return!x&&!b?null:function(C){let{dimensions:S}=C;return b?v:c.jsx("img",{src:M9({dataset:f,projectId:h}).image(v).withOptions(S).url(),alt:"Image preview of referenced document",referrerPolicy:"strict-origin-when-cross-origin"})}}return i!=null&&i.icon?m.createElement(i.icon):null},[v,f,h,i==null?void 0:i.icon]);return c.jsxs(_Pn,{align:"center",justify:"center",flex:1,"data-testid":"preview",children:[l!=null&&l.available?c.jsx(N,{flex:1,children:c.jsx(bre,{title:(n=u.published)==null?void 0:n.title,subtitle:(r=u.published)==null?void 0:r.subtitle,media:y||!1})}):c.jsx(N,{flex:1,children:c.jsx(ae,{align:"center",children:c.jsx(N,{flex:1,paddingY:2,children:c.jsx(G,{muted:!0,children:"Document unavailable"})})})}),c.jsx(N,{paddingLeft:3,children:c.jsxs(cn,{space:4,children:[i&&a&&c.jsx(jn,{size:1,muted:!0,children:i.title||i.type}),(g||p)&&c.jsx(N,{children:c.jsx(Mn,{portal:!0,content:p?c.jsxs(GCe,{children:["The referenced document no longer exist and might have been deleted.",c.jsx("br",{}),"(id: ",c.jsx("code",{children:d}),")"]}):c.jsx(GCe,{children:"The referenced document could not be accessed due to insufficient permissions"}),children:c.jsx(xs,{tone:"default",children:g?c.jsx(Dv,{}):c.jsx(M_,{})})})}),!(p||g)&&s&&c.jsx(N,{children:c.jsx(Mn,{portal:!0,content:c.jsx(UKe,{padding:2,children:o?c.jsx(G,{size:1,children:"This document opens in a new tab"}):c.jsxs(G,{size:1,children:["This document cannot be opened ",c.jsx("br",{})," (unable to resolve URL to Studio)"]})}),children:c.jsx(xs,{size:1,tone:"default",muted:!o,children:c.jsx(z3,{})})})})]})})]})}function _ie(){return Cs(us).config().projectId}function CPn(t){var e;const{isLoading:n,result:r,error:i}=NKe(t.document,t.getReferenceInfo),s=_ie();if(n)return c.jsxs(Te,{space:2,padding:1,children:[c.jsx(Vc,{style:{maxWidth:320},radius:1,animated:!0}),c.jsx(Vc,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(i)return c.jsx(Te,{space:2,padding:1,children:c.jsxs(Lm,{title:"Failed to load referenced document",children:["Error: ",i.message]})});if(!r)return null;if(((e=r.availability)==null?void 0:e.reason)==="PERMISSION_DENIED")return c.jsx(Te,{space:2,padding:1,children:"Insufficient permissions to view this document"});const o=t.referenceType.to.find(a=>a.type===r.type);return o?r&&o&&c.jsx(HKe,{id:r.id,availability:r.availability,preview:r.preview,refType:o,dataset:t.referenceType.dataset,projectId:s,showTypeLabel:t.referenceType.to.length>1}):c.jsxs(Te,{space:2,padding:1,children:[`Search returned a type that's not valid for this reference: "$`,r.type,'"']})}function qCe(t){var e,n;const{value:r,type:i,showStudioUrlIcon:s,hasStudioUrl:o,referenceInfo:a}=t,l=_ie();if(a.isLoading||a.error)return c.jsxs(Te,{space:2,padding:1,children:[c.jsx(Vc,{style:{maxWidth:320},radius:1,animated:!a.error}),c.jsx(Vc,{style:{maxWidth:200},radius:1,size:1,animated:!a.error})]});const u=i.to.length>1,d=(e=a.result)==null?void 0:e.type,f=i.to.find(h=>h.type===d);return(n=a.result.availability)!=null&&n.available&&!f?c.jsx(Te,{space:2,padding:2,children:c.jsxs(G,{as:"p",children:["The referenced document is of invalid type: (",d||"unknown",")",c.jsx("pre",{children:JSON.stringify(r,null,2)})]})}):c.jsx(HKe,{availability:a.result.availability,hasStudioUrl:o,showStudioUrlIcon:s,preview:a.result.preview,refType:f,projectId:l,dataset:i.dataset,id:r._ref,showTypeLabel:u})}var YCe=Object.freeze,EPn=Object.defineProperty,zKe=(t,e)=>YCe(EPn(t,"raw",{value:YCe(e||t.slice())})),KCe,ZCe;const SPn=H(Ti)(KCe||(KCe=zKe([`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`]))),TPn=H(G)(ZCe||(ZCe=zKe([`
  word-break: break-word;
`]))),kPn=m.forwardRef(function(e,n){const r=e.options&&e.options.length>0,i=m.useCallback((s,o)=>{let{content:a,hidden:l,inputElement:u,onMouseEnter:d,onMouseLeave:f}=s;return c.jsx(SPn,{"data-testid":"autocomplete-popover",placement:"bottom-start",arrow:!1,constrainSize:!0,onMouseEnter:d,onMouseLeave:f,content:c.jsx("div",{ref:o,children:r?a:c.jsx(N,{padding:4,children:c.jsx(ae,{align:"center",height:"fill",justify:"center",children:c.jsxs(TPn,{align:"center",muted:!0,children:["No results for ",c.jsxs("strong",{children:["",e.searchString,""]})]})})})}),open:!e.loading&&!l,ref:e.portalRef,portal:!0,referenceElement:e.referenceElement||u,matchReferenceWidth:!0})},[r,e.searchString,e.loading,e.portalRef,e.referenceElement]);return c.jsx(eee,{...e,ref:n,renderPopover:i})});var XCe=Object.freeze,APn=Object.defineProperty,IPn=(t,e)=>XCe(APn(t,"raw",{value:XCe(e||t.slice())})),QCe;const DPn=H(Ce)(QCe||(QCe=IPn([`
  width: 100%;
`])));function RPn(t){let{value:e,onClearValue:n}=t;const r=m.useMemo(()=>!!(e!=null&&e._ref),[e==null?void 0:e._ref]);return c.jsxs(ge,{tone:"caution",padding:4,border:!0,radius:2,"data-testid":"alert-cross-dataset-reference-feature-disabled",children:[c.jsxs(ae,{gap:4,marginBottom:r?4:void 0,children:[c.jsx(N,{children:c.jsx(G,{size:1,children:c.jsx(vo,{})})}),c.jsxs(Te,{space:3,children:[c.jsx(G,{as:"h2",size:1,weight:"semibold",children:"Unavailable feature: Cross dataset reference"}),r&&c.jsxs(Te,{space:3,children:[c.jsxs(G,{as:"p",size:1,children:["This feature has been disabled. Read how to enable it in"," ",c.jsx("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:"documentation"})]}),c.jsx(G,{as:"p",size:1,children:"You can still clear this field's existing reference, but that cannot be revoked as long as the feature is disabled."})]}),!r&&c.jsxs(G,{as:"p",size:1,children:["Read how to enable it in"," ",c.jsx("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:"documentation"})]})]})]}),n&&r&&c.jsx(DPn,{icon:pm,text:"Reset value",onClick:n,mode:"ghost"})]})}const JCe={isLoading:!0,enabled:!0,features:[]};function jPn(t){let{versionedClient:e}=t;return e.observable.request({uri:"/features",tag:"features"})}let DH;function OPn(t){const e=Cs(us);return DH||(DH=jPn({versionedClient:e}).pipe($a())),Va(()=>DH.pipe(Be(function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return{isLoading:!1,enabled:!!(r!=null&&r.includes(t)),features:r}}),vu(JCe),Or(r=>(console.error(r),Re({isLoading:!1,enabled:!0,features:[]})))),[t],JCe)}const eEe={hits:[],isLoading:!1},LPn=()=>!0,tEe=["_ref"],PPn="crossDatasetReferences";function MPn(t){var e,n,r;const{changed:i,focused:s,focusPath:o,getReferenceInfo:a,onChange:l,onPathFocus:u,onSearch:d,path:f,readOnly:h,schemaType:p,validation:g,value:v,elementProps:y}=t,x=_ie(),[b,_]=m.useState(eEe),C=m.useCallback(we=>{if(!we){l(Jt()),u([]);return}if(!b.hits.find(de=>de.id===we))throw new Error("Selected an item that wasnt part of the result set");l(_n({_type:p.name,_ref:Ks(we),_projectId:x,_dataset:p.dataset,_weak:p.weak,_key:v==null?void 0:v._key})),u([])},[v==null?void 0:v._key,b.hits,p.name,p.dataset,p.weak,x,l,u]),S=m.useCallback(()=>{l(Jt())},[l]),T=m.useCallback(we=>{we.keyCode===27&&(u==null||u([]))},[u]),A=m.useCallback(we=>a(we,p),[a,p]),k=m.useMemo(()=>({_id:v==null?void 0:v._ref}),[v==null?void 0:v._ref]),I=NKe(k,A),D=OPn(PPn),R=m.useRef(null),O=o.length===1&&o[0]==="_ref",L=y.ref;qc({hasFocusAt:O,ref:v==null?void 0:v._ref},(we,De)=>{var de;const be=(we==null?void 0:we.ref)!==De.ref;((we==null?void 0:we.hasFocusAt)!==De.hasFocusAt||be)&&De.hasFocusAt&&((de=L.current)==null||de.focus())});const P=v!=null&&v._weak?"weak":"strong",$=p.weak===!0?"weak":"strong",B=!!(v!=null&&v._ref),Q=m.useCallback(()=>{l(p.weak===!0?_n(!0,["_weak"]):Jt(["_weak"]))},[l,p]),{push:V}=Na(),Z=m.useMemo(()=>g.filter(we=>we.level==="error"),[g]),ie=m.useCallback(we=>{we.currentTarget===y.ref.current&&(u==null||u([BPe]))},[y.ref,u]),J=m.useCallback(we=>{we.currentTarget===y.ref.current&&(u==null||u(tEe))},[y.ref,u]),X=m.useCallback(()=>{u==null||u(tEe)},[u]),fe=m.useId(),ue=vee(we=>we.pipe(dt(ma),Xi(),Kt(De=>go(Re({isLoading:!0}),d(De).pipe(Be(de=>({hits:de,searchString:De,isLoading:!1})),Or(de=>(V({title:"Reference search failed",description:de.message,status:"error",id:"reference-search-fail-".concat(fe)}),console.error(de),Re({hits:[]})))))),Pf((De,de)=>({...De,...de}),eEe),Ei(_)),[fe,d,V]),te=m.useCallback(()=>{ue("")},[ue]),F=!I.isLoading&&B&&P!==$,ne=(v==null?void 0:v._ref)&&((n=p.studioUrl)==null?void 0:n.call(p,{id:v==null?void 0:v._ref,type:(e=I==null?void 0:I.result)==null?void 0:e.type}))||null,ce=m.useCallback(we=>c.jsx(Sx,{as:"button",type:"button",radius:2,children:c.jsx(N,{paddingX:3,paddingY:1,children:c.jsx(CPn,{referenceType:p,document:we.hit.published,getReferenceInfo:A})})}),[p,A]),me=(r=I.result)==null?void 0:r.preview.published,pe=O||!(v!=null&&v._ref),Ie=m.useRef(null),xe=m.useRef(null),Pe=m.useRef(null);return Iqe([Ie,xe,Pe],()=>{O&&u([])}),c.jsxs(c.Fragment,{children:[!D.isLoading&&!D.enabled&&c.jsx(RPn,{value:v,onClearValue:S}),(D.isLoading||D.enabled)&&c.jsx(Te,{space:1,children:pe?c.jsx(Te,{space:2,ref:Ie,children:c.jsx(Pl,{path:f,isChanged:i,hasFocus:!!s,children:c.jsx("div",{ref:R,children:c.jsx(kPn,{...y,"data-testid":"autocomplete",loading:b.isLoading,referenceElement:R.current,portalRef:xe,id:fe||"",options:b.hits.map(we=>({value:we.id,hit:we})),onFocus:J,radius:1,placeholder:"Type to search",onKeyDown:T,readOnly:h,disabled:I.isLoading,onQueryChange:ue,searchString:b.searchString,onChange:C,filterOption:LPn,renderOption:ce,openButton:{onClick:te}})})})}):c.jsx(Pl,{path:f,isChanged:i,hasFocus:!!s,children:c.jsxs(ge,{padding:0,border:!0,flex:1,radius:1,tone:h?"transparent":I.error||Z.length>0?"critical":"default",children:[c.jsxs(ae,{align:"center",padding:1,children:[ne?c.jsx(Sx,{as:"a",target:"_blank",rel:"noopener noreferrer",href:ne,"data-as":"a",flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:ie,ref:y.ref,children:c.jsx(qCe,{value:v,referenceInfo:I,showStudioUrlIcon:!0,hasStudioUrl:!!ne,type:p})}):c.jsx(Sx,{flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:ie,ref:y.ref,children:c.jsx(qCe,{value:v,referenceInfo:I,showStudioUrlIcon:!0,type:p})}),c.jsx(cn,{paddingX:1,children:c.jsx(vr,{button:c.jsx(Ce,{padding:2,mode:"bleed",icon:ll,"data-testid":"menu-button"}),id:"".concat(fe,"-menuButton"),menu:c.jsx(er,{children:!h&&c.jsxs(c.Fragment,{children:[c.jsx(St,{text:"Clear",tone:"critical",icon:pm,"data-testid":"menu-item-clear",onClick:S}),c.jsx(St,{text:"Replace",icon:b7,"data-testid":"menu-item-replace",onClick:X})]})}),placement:"right",popover:{portal:!0,tone:"default"}})})]}),F&&c.jsx(Ev,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:c.jsxs(Te,{space:3,children:[c.jsxs(G,{as:"p",muted:!0,size:1,children:["This reference is ",c.jsx("em",{children:P}),", but according to the current schema it should be ",c.jsxs("em",{children:[$,"."]})]}),c.jsx(G,{as:"p",muted:!0,size:1,children:p.weak?c.jsxs(c.Fragment,{children:['It will not be possible to delete the "',me==null?void 0:me.title,'"-document without first removing this reference.']}):c.jsxs(c.Fragment,{children:['This makes it possible to delete the "',me==null?void 0:me.title,'"-document without first deleting this reference, leaving this field referencing a nonexisting document.']})}),c.jsx(Ce,{onClick:Q,text:c.jsxs(c.Fragment,{children:["Convert to ",$," reference"]}),tone:"caution"})]})}),I.error&&c.jsx(Ev,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:c.jsxs(Te,{space:3,children:[c.jsxs(G,{as:"p",muted:!0,size:1,children:["Error: ",I.error.message]}),c.jsx(Ce,{onClick:I.retry,text:c.jsx(c.Fragment,{children:"Retry"}),tone:"primary"})]})})]})})})]})}function $Pn(t,e,n,r){return Lre(n.to.map(s=>({name:s.type,__experimental_search:s.__experimental_search})),t,r)(e,{includeDrafts:!1}).pipe(Be(s=>s.map(o=>o.hit)),Be(VI),Be(s=>s.map(o=>({id:o.id,type:o.type,published:o.published}))))}const FPn="cross-dataset-refs",WKe={available:!0,reason:"READABLE"},BPn={available:!1,reason:"PERMISSION_DENIED"},NPn={available:!1,reason:"NOT_FOUND"};function VPn(t){const{client:e,documentPreviewStore:n}=t,{dataset:r,projectId:i}=e.config(),s=r&&i?{dataset:r,projectId:i}:void 0;return function(a,l){return(a._type?Re(a):n.observeDocumentTypeFromId(a._id,s).pipe(Be(u=>({_id:a._id,_type:u})))).pipe(Kt(u=>{if(!u._type)return UPn(e,a._id).pipe(Be(p=>({id:a._id,type:void 0,availability:p,preview:{published:void 0}})));const d=l.to.find(p=>p.type===u._type),f=[...Rre(d==null?void 0:d.preview)||[],["_updatedAt"],["_createdAt"]],h=n.observePaths(a,f,s).pipe(Be(p=>p&&T6(p,d)));return ol([h]).pipe(Be(p=>{let[g]=p;return{type:u._type,id:a._id,availability:WKe,preview:{published:Jn(g)?g:void 0}}}))}))}}function UPn(t,e){const n={uri:t.getDataUrl("doc",e),json:!0,query:{excludeContent:"true"},tag:"".concat(FPn,".availability")};return t.observable.request(n).pipe(Be(r=>{const s=Ate(r.omitted||[],o=>o.id)[e];return s?s.reason==="existence"?NPn:s.reason==="permission"?BPn:null:WKe}))}async function HPn(t,e,n,r){if(!t)return{};if(typeof t.filter=="function"){const i=n.slice(0,-1),s=TC(e,i);return await t.filter({document:e,parentPath:i,parent:s,getClient:r})}return{filter:t.filter,params:"filterParams"in t?t.filterParams:void 0}}function zPn(t){const e=m.useRef(t);return e.current=t,e}function WPn(t){const{path:e,schemaType:n}=t,r=Zs(),i=r.getClient(us),s=Yc(),o=r.getClient,a=m.useMemo(()=>i.withConfig({dataset:n.dataset,apiVersion:"2022-03-07",ignoreBrowserTokenWarning:!0}).clone(),[i,n.dataset]),l=QI([]),u=zPn(l),d=m.useCallback(h=>Vr(HPn(n.options,u.current,e,o)).pipe(rt(p=>{let{filter:g,params:v}=p;return $Pn(a,h,n,{...n.options,filter:g,params:v,tag:"search.cross-dataset-reference"})}),Or(p=>{var g;const v=p.details&&p.details.type==="queryParseError";return(g=n.options)!=null&&g.filter&&v&&(p.message='Invalid reference filter, please check the custom "filter" option'),il(p)})),[a,u,e,n,o]),f=m.useMemo(()=>VPn({client:a,documentPreviewStore:s}),[a,s]);return c.jsx(MPn,{...t,getReferenceInfo:f,onSearch:d})}function GPn(t){const e=m.useRef(t);return e.current=t,e}async function qPn(t,e,n,r){if(!t)return{};if(typeof t.filter=="function"){const i=n.slice(0,-1),s=TC(e,i);return t.filter({document:e,parentPath:i,parent:s,getClient:r})}return{filter:t.filter,params:"filterParams"in t?t.filterParams:void 0}}function Cie(t){var e,n,r,i;const{path:s,schemaType:o}=t,a=Zs(),l=a.getClient(us),u=es(),d=Yc(),f=m.useMemo(()=>l.withConfig({apiVersion:"2021-03-25"}),[l]),{EditReferenceLinkComponent:h,onEditReference:p,activePath:g,initialValueTemplateItems:v}=vYe(),y=QI([]),x=GPn(y),b=(e=x.current)==null?void 0:e._type,_=m.useMemo(()=>{var L;return(L=u.get(b))==null?void 0:L.liveEdit},[b,u]),C=((n=o.options)==null?void 0:n.disableNew)===!0,S=a.getClient,T=m.useCallback(L=>Vr(qPn(o.options,x.current,s,S)).pipe(rt(P=>{let{filter:$,params:B}=P;return Aqe(f,L,o,{...o.options,filter:$,params:B,tag:"search.reference"})}),Or(P=>{var $;const B=P.details&&P.details.type==="queryParseError";return($=o.options)!=null&&$.filter&&B&&(P.message='Invalid reference filter, please check the custom "filter" option'),il(P)})),[x,s,f,o,S]),A=(i=(r=t.value)==null?void 0:r._strengthenOnPublish)==null?void 0:i.template,k=m.useMemo(()=>m.forwardRef(function(P,$){return h?c.jsx(h,{...P,ref:$,parentRefPath:s,template:A}):null}),[h,s,A]),I=m.useCallback(L=>{p==null||p({parentRefPath:s,id:L.id,type:L.type,template:L.template})},[p,s]),D=ou(s,(g==null?void 0:g.path)||[])?g==null?void 0:g.state:"none",R=m.useMemo(()=>C?[]:(v||[]).filter(L=>o.to.some(P=>{var $;return P.name===(($=L.template)==null?void 0:$.schemaType)})).map(L=>{var P;return(P=L.template)!=null&&P.schemaType?{id:L.id,title:L.title||"".concat(L.template.schemaType," from template ").concat(L.template.id),type:L.template.schemaType,icon:L.icon,template:{id:L.template.id,params:L.parameters},permission:{granted:L.granted,reason:L.reason}}:void 0}).filter(ma),[C,v,o.to]),O=m.useCallback(L=>kqe(d,L,o),[d,o]);return{selectedState:D,handleSearch:T,isCurrentDocumentLiveEdit:_,handleEditReference:I,EditReferenceLink:k,createOptions:R,getReferenceInfo:O}}function YPn(t){const{getReferenceInfo:e,id:n,renderPreview:r}=t,{isLoading:i,result:s,error:o}=$$(n,e);if(i)return c.jsxs(Te,{space:2,padding:1,children:[c.jsx(Vc,{style:{maxWidth:320},radius:1,animated:!0}),c.jsx(Vc,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(o)return c.jsx(Te,{space:2,padding:1,children:c.jsx(Lm,{title:"Failed to load referenced document",children:c.jsxs(G,{muted:!0,size:1,children:["Error: ",o.message]})})});if(!s)return null;if(s.availability.reason==="PERMISSION_DENIED")return c.jsx(Te,{space:2,padding:1,children:"Insufficient permissions to view this document"});const a=t.type.to.find(l=>l.name===s.type);return a?s&&a&&c.jsx(jYe,{id:s.id,layout:"default",preview:s.preview,refType:a,renderPreview:r,showTypeLabel:t.type.to.length>1}):c.jsxs(Te,{space:2,padding:1,children:[`Search returned a type that's not valid for this reference: "$`,s.type,'"']})}const KPn={display:"inline-flex"},ZPn={width:"100%"},XPn={portal:!0,tone:"default",constrainSize:!0,fallbackPlacements:["bottom","left","top"],placement:"right",preventOverflow:!0};function QPn(t){const{createOptions:e,onCreate:n,id:r,...i}=t;return e.some(o=>o.permission.granted)?e.length>1?c.jsx(vr,{button:c.jsx(Ce,{...i,disabled:t.readOnly,text:"Create new",mode:"ghost",icon:Qa}),id:r,menu:c.jsx(er,{ref:t.menuRef,children:e.map(o=>c.jsx(Mn,{disabled:o.permission.granted,content:c.jsx(N,{padding:2,children:c.jsx(ym,{operationLabel:"create this type of document"})}),portal:!0,children:c.jsx("div",{children:c.jsx(St,{disabled:!o.permission.granted,icon:o.icon,text:o.title,onClick:()=>n(o)})})},o.id))}),popover:XPn}):c.jsx(Ce,{...i,text:"Create new",mode:"ghost",disabled:!e[0].permission.granted||t.readOnly,onClick:()=>n(e[0]),icon:Qa}):c.jsx(Mn,{content:c.jsx(N,{padding:2,children:c.jsx(ym,{operationLabel:"create a new reference"})}),children:c.jsx("div",{style:KPn,children:c.jsx(Ce,{text:"Create new",mode:"ghost",disabled:!0,icon:Qa,style:ZPn})})})}var nEe=Object.freeze,JPn=Object.defineProperty,GKe=(t,e)=>nEe(JPn(t,"raw",{value:nEe(e||t.slice())})),rEe,iEe;const eMn=H(Ti)(rEe||(rEe=GKe([`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`]))),tMn=H(G)(iEe||(iEe=GKe([`
  word-break: break-word;
`]))),nMn=m.forwardRef(function(e,n){const r=e.options&&e.options.length>0,i=m.useCallback((s,o)=>{let{content:a,hidden:l,inputElement:u,onMouseEnter:d,onMouseLeave:f}=s;var h;return c.jsx(eMn,{placement:"bottom-start",arrow:!1,constrainSize:!0,onMouseEnter:d,onMouseLeave:f,content:c.jsx("div",{ref:o,children:r?a:c.jsx(N,{padding:4,children:c.jsx(ae,{align:"center",height:"fill",justify:"center",children:c.jsxs(tMn,{align:"center",muted:!0,children:["No results for ",c.jsxs("strong",{children:["",e.searchString,""]}),((h=e.searchString)==null?void 0:h.toLowerCase())==="capybara"?c.jsx(c.Fragment,{children:". What a shame. There should be more Capybaras."}):null]})})})}),open:!e.loading&&!l,ref:e.portalRef,portal:!0,referenceElement:e.referenceElement||u,matchReferenceWidth:!0})},[r,e.searchString,e.loading,e.portalRef,e.referenceElement]);return c.jsx(eee,{...e,ref:n,renderPopover:i})});var sEe=Object.freeze,rMn=Object.defineProperty,qKe=(t,e)=>sEe(rMn(t,"raw",{value:sEe(e||t.slice())})),oEe,aEe;const iMn=qe(oEe||(oEe=qKe([`
  grid-template-columns: minmax(0px, 1fr);
`]))),sMn=qe(aEe||(aEe=qKe([`
  grid-template-columns: 1fr min-content;
`]))),oMn=H(Er)(t=>t.$narrow?iMn:sMn),aMn=m.forwardRef(function(e,n){const[r,i]=m.useState(null),s=m.useCallback(a=>{lMn(n,a),i(a)},[n]),o=lI(r);return c.jsx(oMn,{ref:s,gap:1,$narrow:((o==null?void 0:o.width)||0)<480,children:e.children})});function lMn(t,e){typeof t=="function"?t(e):t&&(t.current=e)}var lEe=Object.freeze,uMn=Object.defineProperty,cMn=(t,e)=>lEe(uMn(t,"raw",{value:lEe(e||t.slice())})),uEe;const dMn=H(Sx)(uEe||(uEe=cMn([`
  /* this is a hack to avoid layout jumps while previews are loading
  there's probably better ways of solving this */
  min-height: 36px;
`]))),cEe={hits:[],isLoading:!1},fMn=()=>!0;function hMn(t){return t!==null}function pMn(t){var e,n,r,i,s,o;const{createOptions:a,onChange:l,onEditReference:u,onSearch:d,schemaType:f,readOnly:h,id:p,onPathFocus:g,value:v,renderPreview:y,path:x,elementProps:b,focusPath:_}=t,{getReferenceInfo:C}=Cie({path:x,schemaType:f,value:v}),[S,T]=m.useState(cEe),A=m.useCallback(pe=>{const Ie=R0(),xe=[sl({}),_n(f.name,["_type"]),_n(Ie,["_ref"]),_n(!0,["_weak"]),_n({type:pe.type,weak:f.weak,template:pe.template},["_strengthenOnPublish"])].filter(ma);l(xe),u({id:Ie,type:pe.type,template:pe.template}),g([])},[l,u,g,f]),k=m.useCallback(pe=>{if(!pe){l(Jt()),g([]);return}const Ie=S.hits.find(Pe=>Pe.id===pe);if(!Ie)throw new Error("Selected an item that wasnt part of the result set");const xe=[sl({}),_n(f.name,["_type"]),_n(Ks(pe),["_ref"]),Ie.published&&!f.weak?Jt(["_weak"]):_n(!0,["_weak"]),Ie.published?Jt(["_strengthenOnPublish"]):_n({type:Ie==null?void 0:Ie.type,weak:f.weak},["_strengthenOnPublish"])].filter(ma);l(xe),g([])},[l,g,f.name,f.weak,S.hits]),I=m.useCallback(()=>{l(Jt())},[l]),D=m.useCallback(()=>{v!=null&&v._ref||I()},[I,v==null?void 0:v._ref]),R=m.useCallback(pe=>{pe.key==="Escape"&&g([])},[g]),O=$$(v==null?void 0:v._ref,C),L=m.useRef(null),{push:P}=Na(),$=vee(pe=>pe.pipe(dt(hMn),Kt(Ie=>go(Re({isLoading:!0}),d(Ie).pipe(Be(xe=>({hits:xe,searchString:Ie,isLoading:!1})),Or(xe=>(P({title:"Reference search failed",description:xe.message,status:"error",id:"reference-search-fail-".concat(p)}),console.error(xe),Re({hits:[]})))))),Pf((Ie,xe)=>({...Ie,...xe}),cEe),Ei(T)),[p,d,P]),B=m.useCallback(()=>{$("")},[$]),Q=m.useCallback(pe=>{pe.key==="Escape"&&g([])},[g]),V=m.useCallback(pe=>{var Ie,xe;const Pe=((Ie=pe.hit.draft)==null?void 0:Ie._id)||((xe=pe.hit.published)==null?void 0:xe._id)||pe.value;return c.jsx(dMn,{forwardedAs:"button",type:"button",radius:2,tone:"inherit",children:c.jsx(N,{paddingX:3,paddingY:1,children:c.jsx(YPn,{getReferenceInfo:C,id:Pe,renderPreview:y,type:f})})})},[f,C,y]),Z=m.useCallback(()=>{var pe,Ie,xe,Pe;return((Ie=(pe=O.result)==null?void 0:pe.preview.draft)==null?void 0:Ie.title)||((Pe=(xe=O.result)==null?void 0:xe.preview.published)==null?void 0:Pe.title)||""},[(n=(e=O.result)==null?void 0:e.preview.draft)==null?void 0:n.title,(i=(r=O.result)==null?void 0:r.preview.published)==null?void 0:i.title]),ie=m.useCallback(()=>g(["_ref"]),[g]),J=m.useCallback(pe=>{var Ie;(Ie=L.current)!=null&&Ie.contains(pe.relatedTarget)||t.elementProps.onBlur(pe)},[t.elementProps]),X=((o=(s=O==null?void 0:O.result)==null?void 0:s.availability)==null?void 0:o.reason)==="NOT_FOUND"&&!(v!=null&&v._strengthenOnPublish)&&(v==null?void 0:v._weak);qc((_==null?void 0:_[0])==="_ref",(pe,Ie)=>{var xe;!pe&&Ie&&((xe=b.ref.current)==null||xe.focus())});const fe=m.useMemo(()=>S.hits.map(pe=>({value:pe.id,hit:pe})),[S.hits]),ue=_.length===1&&_[0]==="_ref",{menuRef:te,containerRef:F}=NDn(),ne=m.useRef(null),ce=m.useRef(null),me=m.useRef(null);return Iqe([F,ne,ce,me,te],()=>{ue&&D()}),c.jsx(Te,{space:1,"data-testid":"reference-input",ref:ne,children:c.jsxs(Te,{space:2,children:[X?c.jsx(Lm,{"data-testid":"alert-nonexistent-document",title:"Nonexistent document reference",suffix:c.jsx(Te,{padding:2,children:c.jsx(Ce,{text:"Clear",onClick:I})}),children:c.jsxs(G,{size:1,children:["This field is currently referencing a document that doesn't exist (ID:",c.jsx("code",{children:v._ref}),"). You can either remove the reference or replace it with another document."]})}):null,c.jsxs(aMn,{ref:L,children:[c.jsx(nMn,{...b,onFocus:ie,onBlur:J,"data-testid":"autocomplete",loading:S.isLoading,referenceElement:L.current,options:fe,radius:1,placeholder:"Type to search",onKeyDown:R,readOnly:O.isLoading||h,onQueryChange:$,searchString:S.searchString,onChange:k,filterOption:fMn,renderOption:V,renderValue:Z,openButton:{onClick:B},portalRef:ce,value:v==null?void 0:v._ref}),a.length>0&&c.jsx(QPn,{id:"".concat(p,"-selectTypeMenuButton"),readOnly:h,createOptions:a,onCreate:A,onKeyDown:Q,menuRef:me})]})]})})}async function mMn(t,e,n,r){if(!t)return{};if(typeof t.filter=="function"){const i=n.slice(0,-1),s=TC(e,i);return await t.filter({document:e,parentPath:i,parent:s,getClient:r})}return{filter:t.filter,params:"filterParams"in t?t.filterParams:void 0}}function gMn(t){const e=m.useRef(t);return e.current=t,e}function vMn(t){var e,n,r,i;const s=Zs(),o=s.getClient(us),a=es(),l=Yc(),{path:u,schemaType:d}=t,{EditReferenceLinkComponent:f,onEditReference:h,activePath:p,initialValueTemplateItems:g}=vYe(),v=QI([]),y=gMn(v),x=(e=y.current)==null?void 0:e._type,b=a.get(x),_=m.useMemo(()=>b==null?void 0:b.liveEdit,[b]),C=((n=d.options)==null?void 0:n.disableNew)===!0,S=s.getClient,T=m.useCallback(L=>Vr(mMn(d.options,y.current,u,S)).pipe(rt(P=>{let{filter:$,params:B}=P;return Aqe(o,L,d,{...d.options,filter:$,params:B,tag:"search.reference"})}),Or(P=>{var $;const B=P.details&&P.details.type==="queryParseError";return($=d.options)!=null&&$.filter&&B&&(P.message='Invalid reference filter, please check the custom "filter" option'),il(P)})),[y,u,o,d,S]),A=(i=(r=t.value)==null?void 0:r._strengthenOnPublish)==null?void 0:i.template,k=m.useMemo(()=>m.forwardRef(function(P,$){return f?c.jsx(f,{...P,ref:$,parentRefPath:u,template:A}):null}),[f,u,A]),I=m.useCallback(L=>{h==null||h({parentRefPath:u,id:L.id,type:L.type,template:L.template})},[h,u]),D=ou(u,(p==null?void 0:p.path)||[])?p==null?void 0:p.state:"none",R=m.useMemo(()=>C?[]:(g||[]).filter(L=>d.to.some(P=>{var $;return P.name===(($=L.template)==null?void 0:$.schemaType)})).map(L=>{var P,$,B;return(P=L.template)!=null&&P.schemaType?{id:L.id,title:L.title||"".concat(L.template.schemaType," from template ").concat(($=L.template)==null?void 0:$.id),type:L.template.schemaType,icon:L.icon,template:{id:(B=L.template)==null?void 0:B.id,params:L.parameters},permission:{granted:L.granted,reason:L.reason}}:void 0}).filter(ma),[C,g,d.to]),O=m.useCallback((L,P)=>kqe(l,L,P),[l]);return c.jsx(pMn,{...t,onSearch:T,liveEdit:_,getReferenceInfo:O,selectedState:D,editReferenceLinkComponent:k,createOptions:R,onEditReference:I})}function yMn(t){return PX(t.schemaType)}function bMn(t){return Lft(t.schemaType)}function D6(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t!="object"&&!Array.isArray(t))return t===e;if(t._key&&t._key===e._key)return!0;if(Array.isArray(t))return!t.length!==e.length?!1:t.every((i,s)=>D6(t[s],e[s]));const n=Object.keys(t),r=Object.keys(t);return n.length!==r.length?!1:n.every(i=>D6(t[i],e[i]))}function dEe(t,e){return t?t.some(n=>D6(n,e)):!1}function xMn(t,e){return t.of.find(n=>n.name===Bc(e))}const wMn=[];function _Mn(t){var e,n;const{renderPreview:r,schemaType:i,onChange:s,onPathFocus:o,value:a=[],readOnly:l,elementProps:u,path:d,changed:f}=t,h=m.useMemo(()=>{var y;return(((y=i.options)==null?void 0:y.list)||wMn).map((x,b)=>hm(x)?x:{...x,_key:"auto-generated-".concat(b)})},[(e=i.options)==null?void 0:e.list]),p=m.useCallback((y,x)=>{if(!y&&hm(x)){s(Jt([{_key:x._key}]));return}const b=h.filter(_=>D6(x,_)?y:dEe(a,_));s(b.length>0?_n(b):Jt())},[s,h,a]),g=m.useCallback(y=>{o([y])},[o]),v=((n=i.options)==null?void 0:n.layout)==="grid";return c.jsx(Pl,{path:d,isChanged:f,hasFocus:!1,children:c.jsx(Er,{gap:2,columns:v?Math.min(h.length,4):1,tabIndex:0,...u,children:h.map((y,x)=>{const b=xMn(i,y),_=dEe(a,y),C=!b;return c.jsxs(ae,{align:"center",as:"label",muted:C,children:[c.jsx(r0,{disabled:C,checked:_,onChange:S=>p(S.currentTarget.checked,y),onFocus:()=>g(x),readOnly:l}),c.jsx(N,{flex:1,marginLeft:2,children:b?r({layout:"default",schemaType:b,value:y}):c.jsx(ge,{tone:"caution",radius:2,children:c.jsx(JYe,{value:y,onFocus:()=>g(x)})})})]},x)})})})}var fEe=Object.freeze,CMn=Object.defineProperty,EMn=(t,e)=>fEe(CMn(t,"raw",{value:fEe(e||t.slice())})),hEe;const SMn=H(ge)(hEe||(hEe=EMn([`
  max-width: `,`px;
`])),t=>{let{theme:e}=t;return e.sanity.container[1]});function YKe(t){const{value:e,onFocus:n,vertical:r,...i}=t,[s,o]=re.useState(!1),[a,l]=re.useState(null);ga(()=>o(!1),[a]);const u=re.useCallback(h=>{(h.key==="Escape"||h.key==="Tab")&&o(!1)},[]),d=m.useCallback(()=>{o(h=>!h)},[]),f=Bc(e);return c.jsx(Ti,{open:s,ref:l,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:c.jsx(SMn,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:c.jsxs(Te,{space:4,children:[c.jsx(N,{children:c.jsx(G,{weight:"semibold",children:"Why is this happening?"})}),c.jsxs(G,{size:1,children:["The current schema does not declare items of type ",c.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),c.jsx(N,{children:c.jsxs(G,{size:1,children:[c.jsx(f7,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),c.jsxs(Te,{space:2,children:[c.jsx(G,{size:1,weight:"semibold",children:"JSON representation of this item:"}),c.jsx(ge,{padding:2,overflow:"auto",border:!0,children:c.jsx(qs,{size:1,as:"pre",language:"json",children:JSON.stringify(e,null,2)})})]})]})}),children:c.jsx(ge,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...i,children:c.jsxs(ae,{align:"center",children:[c.jsx(N,{marginRight:3,children:c.jsx(G,{children:c.jsx(kh,{})})}),c.jsx(N,{flex:1,children:c.jsxs(G,{size:1,textOverflow:"ellipsis",children:["Item of type ",c.jsx("code",{children:f})," not valid for this list"]})})]})})})}function TMn(t){return!!(t&&typeof t=="object"&&"title"in t&&"value"in t)}function kMn(t){return t.map(e=>TMn(e)?{title:e.title||yi(String(e.value)),value:e.value}:{title:yi(String(e)),value:e})}function AMn(t,e){return t.of.find(n=>n.name===Bc(e.value))}function IMn(t){var e,n;const{schemaType:r,onChange:i,value:s=[],readOnly:o,path:a,changed:l,onIndexFocus:u,elementProps:d}=t,f=m.useMemo(()=>{var g;return kMn(((g=r.options)==null?void 0:g.list)||[])},[(e=r.options)==null?void 0:e.list]),h=(g,v)=>{const y=f.map(x=>x.value).filter(x=>x===v?g:s.includes(x));i(y.length>0?_n(y):Jt())},p=((n=r.options)==null?void 0:n.layout)==="grid";return c.jsx(Pl,{path:a,isChanged:l,hasFocus:!1,children:c.jsx(Er,{gap:2,columns:p?Math.min(f.length,4):1,...d,children:f.map((g,v)=>{const y=AMn(r,g),x=s.includes(g.value),b=!y;return c.jsxs(ae,{align:"center",as:"label",muted:b,children:[c.jsx(r0,{disabled:b,checked:x,onChange:_=>h(_.currentTarget.checked,g.value),onFocus:()=>u(v),readOnly:o}),c.jsx(N,{padding:2,children:c.jsx(G,{children:g.title})}),!y&&c.jsx(YKe,{value:g,onFocus:()=>u(v)})]},v)})})})}function KKe(t){return yMn(t)?c.jsx(_Mn,{...t}):c.jsx(IMn,{...t})}var pEe=Object.freeze,DMn=Object.defineProperty,G$=(t,e)=>pEe(DMn(t,"raw",{value:pEe(e||t.slice())})),mEe,gEe,vEe,yEe;const RMn=H.div(mEe||(mEe=G$([`
  position: relative;
`]))),ZKe=H.div(gEe||(gEe=G$([`
  z-index: 13;
  opacity: 0;
  transition: opacity 300ms linear;
`]))),XKe=H(ge)(vEe||(vEe=G$([`
  border: 1px solid var(--card-border-color);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 12;
  transition: opacity 150ms ease-in-out;
  opacity: 0;
  box-sizing: border-box;
`]))),jMn=H(ae)(yEe||(yEe=G$([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  :hover,
  :focus {
    & `,` {
      opacity: 0.9;
    }

    & `,` {
      opacity: 1;
    }
  }
`])),XKe,ZKe),OMn=()=>typeof window<"u"&&"ontouchstart"in window||typeof navigator<"u"&&navigator.maxTouchPoints>0;function LMn(t){const{children:e,message:n,onActivate:r,isOverlayActive:i}=t,[s,o]=m.useState(!1),a=m.useCallback(()=>{r&&r()},[r]),l=m.useCallback(h=>{i&&h.code==="Space"&&r&&(h.preventDefault(),r())},[i,r]),u=m.useCallback(()=>{o(!0)},[]),d=m.useCallback(()=>{o(!1)},[]),f=m.useMemo(()=>{const h=OMn();let p=h?"Tap":"Click";s&&!h&&(p+=" or press space");const g=n||"".concat(p," to activate");return c.jsx(G,{weight:"semibold",children:g})},[s,n]);return c.jsxs(RMn,{onBlur:d,onClick:a,onFocus:u,onKeyDown:l,children:[i&&c.jsxs(jMn,{tabIndex:0,align:"center",justify:"center",children:[c.jsx(XKe,{radius:1}),c.jsx(ZKe,{children:f})]}),e]})}var bEe=Object.freeze,PMn=Object.defineProperty,MMn=(t,e)=>bEe(PMn(t,"raw",{value:bEe(e||t.slice())})),xEe;const $Mn=H.span(xEe||(xEe=MMn([`
  /* Make sure the annotation styling is visible */
  &[data-mark='code'] {
    mix-blend-mode: multiply;
    color: inherit;
  }
`])));function FMn(t){const{value:e,focused:n,selected:r,children:i,schemaType:s}=t,o=bjn[e],a=s.component,l=m.useCallback(u=>c.jsx($Mn,{as:o,"data-mark":e,children:u.children}),[o,e]);return m.useMemo(()=>{const u={focused:n,renderDefault:l,schemaType:s,selected:r,title:s.title,value:e};return a?c.jsx(a,{...u,children:i}):c.jsx(l,{...u,children:i})},[a,l,i,n,s,r,e])}const BMn={portal:!0,constrainSize:!0};function wEe(t){const{disableRestoreFocusOnClose:e,menuButton:n,menuButtonProps:r,menuOptionsArray:i,onMenuClose:s}=t;return c.jsx(vr,{__unstable_disableRestoreFocusOnClose:e,id:"menu-button",onClose:s,popover:BMn,...r,button:n,menu:c.jsx(er,{children:i.map((o,a)=>{const{collapsedProps:l={},expandedProps:u={},tooltipProps:d={},tooltipText:f,dividerBefore:h,fontSize:p,padding:g,text:v,icon:y,selected:x,...b}=o.props;return c.jsxs(re.Fragment,{children:[h&&a!==0&&c.jsx(Ci,{}),c.jsx(St,{text:v,icon:y,pressed:x,...b})]},o.key)})})})}function NMn(t){const{callback:e,children:n,options:r,...i}=t,[s,o]=m.useState(null);return m.useEffect(()=>{if(!s)return;const a=new IntersectionObserver(e,r);return a.observe(s),()=>{a.unobserve(s),a.disconnect()}},[s,e,r]),c.jsx(ae,{ref:o,...i,children:n})}var _Ee=Object.freeze,VMn=Object.defineProperty,UMn=(t,e)=>_Ee(VMn(t,"raw",{value:_Ee(e||t.slice())})),CEe;const HMn=H.div(CEe||(CEe=UMn([`
  border-right: 1px solid var(--card-border-color);
  height: auto;

  &[data-hidden] {
    opacity: 0;
  }
`])));function EEe(t){const{hidden:e,...n}=t;return c.jsx(HMn,{"data-ui":"CollapseMenuDivider","data-hidden":e?"":void 0,...n})}var SEe=Object.freeze,zMn=Object.defineProperty,wE=(t,e)=>SEe(zMn(t,"raw",{value:SEe(e||t.slice())})),TEe,kEe,AEe,IEe,DEe,REe;const jEe=3,QKe=qe(TEe||(TEe=wE([`
  list-style: none;
  display: flex;
  white-space: nowrap;

  &[data-hidden='true'] {
    opacity: 0;
    visibility: hidden;
  }
`]))),WMn=H(ae)(kEe||(kEe=wE([`
  padding: `,`px;
  margin: -`,`px;
  box-sizing: border-box;
`])),jEe,jEe),GMn=H(ae)(AEe||(AEe=wE([`
  border-radius: inherit;
  position: relative;
`]))),OEe=H(ae)(IEe||(IEe=wE([`
  width: max-content;

  &[data-hidden='true'] {
    height: 0px;
    visibility: hidden;
  }
`]))),qMn=H(NMn)(DEe||(DEe=wE([`
  `,`
`])),QKe),YMn=H(ae)(REe||(REe=wE([`
  `,`
`])),QKe);function KMn(t){return!!t}const Eie=m.forwardRef(function(e,n){const{children:r,collapsed:i,collapseText:s=!0,disableRestoreFocusOnClose:o,gap:a,menuButtonProps:l,onMenuClose:u,...d}=e,[f,h]=m.useState(null),[p,g]=m.useState(null),v=lI(f),[y,x]=m.useState([]),b=m.useMemo(()=>v&&f&&p?v.width<p.scrollWidth:!1,[p,f,v]),_=m.useMemo(()=>(l==null?void 0:l.button)||c.jsx(Ce,{icon:ll,mode:"bleed"}),[l]),C=m.useMemo(()=>({root:f,threshold:1,rootMargin:"2px"}),[f]),S=m.useMemo(()=>re.Children.toArray(r).filter(KMn),[r]),T=m.useMemo(()=>S.filter(R=>{let{key:O}=R;return y.find(L=>L.key===O)}),[S,y]),A=m.useMemo(()=>i||T.length>0,[i,T.length]),k=m.useCallback(R=>T.some(O=>O.key===R),[T]),I=m.useCallback((R,O)=>{const L=k(O.key);if(!R.isIntersecting&&!L&&x(P=>[O,...P]),R.isIntersecting&&L){const P=T.filter($=>{let{key:B}=$;return B!==O.key});x(P)}},[k,T]),D=m.useMemo(()=>S.map(R=>{const{collapsedProps:O,expandedProps:L}=R.props,P=b?O:L,$=b&&s?void 0:R.props.text;return m.cloneElement(R,{...P,text:$})}),[S,s,b]);return i?c.jsx(wEe,{disableRestoreFocusOnClose:o,menuButton:_,menuButtonProps:l,menuOptionsArray:S,onMenuClose:u}):c.jsxs(WMn,{align:"center","data-ui":"CollapseMenu",overflow:"hidden",sizing:"border",ref:n,...d,children:[c.jsxs(GMn,{direction:"column",flex:1,justify:"center",ref:h,children:[c.jsx(OEe,{gap:a,children:D.map((R,O)=>{const{dividerBefore:L,tooltipText:P="",tooltipProps:$={}}=R.props,B=k(R.key);return c.jsxs(re.Fragment,{children:[L&&O!==0&&c.jsx(EEe,{hidden:B}),c.jsx(qMn,{options:C,callback:Q=>I(Q[0],R),"aria-hidden":B,"data-hidden":B,children:c.jsx(Mn,{portal:!0,disabled:!P,content:c.jsx(N,{padding:2,sizing:"border",children:c.jsx(G,{size:1,children:P})}),...$,children:c.jsx(ae,{children:m.cloneElement(R,{disabled:R.props.disabled||B,"aria-hidden":B})})})})]},R.key)})}),c.jsx(OEe,{"data-hidden":!0,"aria-hidden":"true",gap:a,ref:g,children:S.map((R,O)=>{const{dividerBefore:L}=R.props;return c.jsxs(re.Fragment,{children:[L&&O!==0&&c.jsx(EEe,{}),c.jsx(YMn,{children:m.cloneElement(R,{disabled:!0,"aria-hidden":!0})},R.key)]},R.key)})})]}),A&&c.jsx(ae,{marginLeft:a,children:c.jsx(wEe,{disableRestoreFocusOnClose:o,menuButton:_,menuButtonProps:l,menuOptionsArray:T,onMenuClose:u})})]})}),Sie=m.forwardRef(function(e,n){const{collapsedProps:r={},expandedProps:i={},tooltipProps:s={},tooltipText:o,dividerBefore:a,...l}=e;return c.jsx(Ce,{"data-ui":"CollapseMenuButton",...l,ref:n})});var LEe=Object.freeze,ZMn=Object.defineProperty,XMn=(t,e)=>LEe(ZMn(t,"raw",{value:LEe(e||t.slice())})),PEe;const QMn=H.div(PEe||(PEe=XMn([`
  width: 1em;
  height: 1em;
  border-radius: inherit;
  background-origin: content-box;
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
  transform: scale(0.7);
`])));function JMn(t){const{icon:e,active:n}=t,r=m.useMemo(()=>({backgroundImage:"url(".concat(e,")"),filter:n?"invert(100%)":"invert(0%)"}),[n,e]);return c.jsx(QMn,{style:r})}function e6n(t,e,n){return t.schemaTypes.decorators.map(i=>{const s=Object.keys(n.marks||{}).find(a=>{var l;return((l=n.marks)==null?void 0:l[a])===i.value});let o=[];return s&&(o=[s]),{type:"format",disabled:e,icon:i==null?void 0:i.icon,key:i.value,handle:()=>{_t.toggleMark(t,i.value),_t.focus(t)},hotkeys:o,title:i.title}})}function t6n(t,e){return t.schemaTypes.lists.map(r=>({type:"listStyle",key:r.value,disabled:e,icon:r==null?void 0:r.icon,handle:()=>{_t.toggleList(t,r.value)},title:r.title}))}function n6n(t){return ms(t,"icon")||ms(t,"type.icon")||ms(t,"type.to.icon")||ms(t,"type.to[0].icon")}function r6n(t,e,n){const r=t.schemaTypes,i=_t.focusChild(t),s=i&&i.text;return r.annotations.map(o=>({type:"annotation",disabled:!s||e,icon:n6n(o),key:o.name,handle:a=>{a?(_t.removeAnnotation(t,o),_t.focus(t)):n(o)},title:o.title||pw(o.name)}))}function i6n(t,e,n,r){return[{name:"format",actions:e6n(t,e,r)},{name:"list",actions:t6n(t,e)},{name:"annotation",actions:r6n(t,e,n)}]}function s6n(t){return t.styles.map(e=>({key:"style-".concat(e.value),style:e.value,styleComponent:e&&e.component,title:e.title}))}function MEe(t,e){const n=ms(t,"to[0].icon");return t.icon||t.type&&t.type.icon||n||e}function o6n(t,e,n,r){const i=t.blockObjects.map((a,l)=>({handle:()=>n(a),icon:MEe(a,pMe),inline:!1,key:"block-".concat(l),type:a})),s=t.inlineObjects.map((a,l)=>({handle:()=>r(a),icon:MEe(a,SMe),inline:!0,key:"inline-".concat(l),type:a}));return i.concat(s).filter(a=>{var l;return!((l=a.type)!=null&&l.hidden)})}const a6n={link:Lx},l6n={strong:mMe,em:AMe,"strike-through":FMe,underline:NMe,code:yMe},u6n={number:OMe,bullet:rk};function c6n(t,e){return t.icon?typeof t.icon=="string"?c.jsx(JMn,{active:e,icon:t.icon}):t.icon:t.type==="annotation"?a6n[t.key]||kh:t.type==="listStyle"?u6n[t.key]||kh:l6n[t.key]||kh}function q$(){const t=va(),e=OI();return m.useMemo(()=>_t.focusBlock(t),[t,e])}function d6n(t){let{hotkeys:e,onMemberOpen:n,resolveInitialValue:r,disabled:i}=t;const s=va(),o=m.useCallback(async a=>{const l=await r(a),u=_t.addAnnotation(s,a,l);u&&u.markDefPath&&n(u.markDefPath)},[s,n,r]);return m.useMemo(()=>s?i6n(s,i,o,e):[],[i,s,o,e])}function f6n(t){let{actions:e}=t;const n=va(),r=OI();return uu(m.useMemo(()=>{const i=_t.activeAnnotations(n).map(s=>s._type);return e.filter(s=>s.type==="annotation"?i.includes(s.key):s.type==="listStyle"?_t.hasListStyle(n,s.key):_t.isMarkActive(n,s.key)).map(s=>s.key)},[n,r]))}function h6n(t){let{items:e}=t;const n=va(),r=q$(),i=OI();return uu(m.useMemo(()=>e.filter(s=>_t.hasBlockStyle(n,s.style)).map(s=>s.style),[r,i]))}const p6n=m.memo(Eie),m6n={constrainSize:!0,portal:!0},g6n={padding:2,mode:"bleed"},v6n=m.memo(function(e){const{disabled:n,groups:r,isFullscreen:i,collapsed:s}=e,o=q$(),a=va(),l=(o==null?void 0:o._type)!==a.schemaTypes.block.name,u=!l&&Array.isArray(o.children)&&o.children.length===1&&(o==null?void 0:o.children[0].text)==="",d=n||l,f=m.useMemo(()=>r.reduce((y,x)=>y.concat(x.actions.map((b,_)=>_===0?{...b,firstInGroup:!0}:b)),[]),[r]),h=f6n({actions:f}),p=m.useCallback(()=>{_t.focus(a)},[a]),g=m.useMemo(()=>f.map(y=>{const x=y.type==="annotation"&&u,b=h.includes(y.key);return m.createElement(Sie,{disabled:d||x,...g6n,dividerBefore:y.firstInGroup,icon:c6n(y,b),key:y.key,onClick:()=>y.handle(b),selected:b,text:y.title||y.key,tooltipText:y.title||y.key,tooltipProps:{disabled:d||x,placement:i?"bottom":"top",portal:"default"}})}),[f,h,d,u,i]),v=m.useMemo(()=>({button:c.jsx(Ce,{icon:ll,mode:"bleed",padding:2,disabled:d}),popover:m6n}),[d]);return c.jsx(p6n,{collapsed:s,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:v,onMenuClose:p,children:g})});var $Ee=Object.freeze,y6n=Object.defineProperty,JKe=(t,e)=>$Ee(y6n(t,"raw",{value:$Ee(e||t.slice())})),FEe,BEe;const b6n=m.memo(vr),x6n=H(St)(FEe||(FEe=JKe([`
  // Change the border color variable used by BlockQuote
  // to make the border visible when the MenuItem is selected
  &[data-selected] {
    [data-option='blockquote'] {
      --card-border-color: var(--card-muted-fg-color);
    }
  }
`]))),w6n=H(Ce)(BEe||(BEe=JKe([`
  width: 100%;
`]))),_6n={constrainSize:!0,placement:"bottom-start",portal:"default"},eZe={h1:t=>c.jsx(fKe,{children:t}),h2:t=>c.jsx(hKe,{children:t}),h3:t=>c.jsx(pKe,{children:t}),h4:t=>c.jsx(mKe,{children:t}),h5:t=>c.jsx(gKe,{children:t}),h6:t=>c.jsx(vKe,{children:t}),normal:t=>c.jsx(yie,{children:t}),blockquote:t=>c.jsx(yKe,{"data-option":"blockquote",children:t})},C6n=Object.keys(eZe),E6n=t=>t.preventDefault(),RH={key:"style-none",style:"",title:"No style"},S6n=m.memo(function(e){const{disabled:n,items:r}=e,i=va(),s=q$(),o=n||(s?i.schemaTypes.block.name!==s._type:!1),a=h6n({items:r}),{activeItems:l,items:u}=m.useMemo(()=>{const v=r.filter(x=>a.includes(x.style));let y=r;return v.length===0&&y.length>1&&(y=y.concat([RH]),v.push(RH)),{activeItems:v,items:y}},[a,r]),d=m.useMemo(()=>l.length>1?"Multiple":l.length===1?l[0].title:RH.title,[l]),f=m.useCallback(v=>{if(s&&v.style!==s.style){const y=_t.getSelection(i);_t.toggleBlockStyle(i,v.style),_t.select(i,null),y&&_t.select(i,{...y})}setTimeout(()=>{_t.focus(i)})},[i,s]),h=m.useCallback((v,y)=>{const x=C6n.includes(v),b=eZe[v];return x?b(y):c.jsx(G,{children:y})},[]),p=m.useMemo(()=>c.jsx(w6n,{disabled:o,iconRight:C0,mode:"bleed",onClick:E6n,padding:2,text:d}),[o,d]),g=m.useMemo(()=>c.jsx(er,{disabled:o,children:u.map(v=>c.jsx(x6n,{pressed:l.includes(v),onClick:o?void 0:()=>f(v),children:h(v.style,(v==null?void 0:v.title)||v.style)},v.key))}),[o,l,f,u,h]);return c.jsx(b6n,{popover:_6n,id:"block-style-select",button:p,menu:g})}),T6n=m.memo(Eie),k6n={constrainSize:!0,portal:!0},A6n=m.memo(function(e){const{disabled:n,items:r,isFullscreen:i,collapsed:s}=e,o=q$(),a=va(),l=o&&o._type!==a.schemaTypes.block.name,u=m.useCallback(()=>{_t.focus(a)},[a]),d=m.useMemo(()=>r.map(h=>{const p=h.type.title||kVe(h.type.name);return c.jsx(Sie,{"aria-label":"Insert ".concat(p).concat(h.inline?" (inline)":" (block)"),padding:2,mode:"bleed",disabled:n||l&&h.inline===!0,icon:h.icon,onClick:h.handle,text:p,tooltipText:"Insert ".concat(p),tooltipProps:{disabled:n,placement:i?"bottom":"top",portal:"default"}},h.key)}),[r,n,l,i]),f=m.useMemo(()=>({button:c.jsx(Ce,{icon:Qa,mode:"bleed",padding:2,disabled:n}),popover:k6n}),[n]);return c.jsx(T6n,{collapsed:s,collapseText:!1,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:f,onMenuClose:u,children:d})});var NEe=Object.freeze,I6n=Object.defineProperty,cC=(t,e)=>NEe(I6n(t,"raw",{value:NEe(e||t.slice())})),VEe,UEe,HEe,zEe,WEe,GEe;const D6n=H(ae)(VEe||(VEe=cC([`
  width: 100%;
`]))),R6n=H(N)(UEe||(UEe=cC([`
  width: 8em;
`]))),j6n=H(ae)(HEe||(HEe=cC([`
  border-right: 1px solid var(--card-border-color);
`]))),O6n=H(N)(WEe||(WEe=cC([`
  `,`
`])),t=>{let{$withInsertMenu:e}=t;return e&&qe(zEe||(zEe=cC([`
      max-width: max-content;
      border-right: 1px solid var(--card-border-color);
    `])))}),L6n=H(N)(GEe||(GEe=cC([`
  border-left: 1px solid var(--card-border-color);
`]))),P6n=300,M6n=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),$6n=m.memo(function(e){let{actionGroups:n,blockStyles:r,disabled:i,insertMenuItems:s,isFullscreen:o,onToggleFullscreen:a}=e;const u=n.reduce((x,b)=>x+b.actions.length,0)>0,d=s.length>0,[f,h]=m.useState(null),p=lI(f),g=p?(p==null?void 0:p.width)<400:!1,v=r.length>1;oqe({rootElement:f});const y=m.useCallback(x=>{x.preventDefault(),x.stopPropagation()},[]);return c.jsxs(D6n,{align:"center",ref:h,onMouseDown:y,children:[v&&c.jsx(j6n,{flex:g?1:void 0,children:c.jsx(R6n,{padding:o?2:1,children:c.jsx(S6n,{disabled:i,items:r})})}),c.jsxs(ae,{flex:1,children:[u&&c.jsx(O6n,{flex:g?void 0:1,padding:o?2:1,$withInsertMenu:d,children:c.jsx(v6n,{disabled:i,collapsed:g,groups:n,isFullscreen:o})}),d&&c.jsx(N,{flex:g?void 0:1,padding:o?2:1,children:c.jsx(A6n,{disabled:i,collapsed:g,items:s,isFullscreen:o})})]}),c.jsx(L6n,{padding:o?2:1,children:c.jsx(Mn,{content:c.jsxs(ae,{align:"center",padding:1,children:[c.jsx(N,{flex:1,paddingX:1,children:c.jsx(G,{size:1,children:"".concat(o?"Collapse":"Expand"," editor")})}),c.jsx(N,{marginLeft:1,children:c.jsx(tee,{keys:["".concat(M6n?"Cmd":"Ctrl"),"Enter"]})})]}),placement:o?"bottom":"top",portal:"default",children:c.jsx(Ce,{padding:2,icon:o?bMe:EMe,mode:"bleed",onClick:a})})})]})});function F6n(t){const{hotkeys:e,isFullscreen:n,readOnly:r,onMemberOpen:i,onToggleFullscreen:s}=t,o=va(),a=OI(),l=Jie(),u=r||!a,{push:d}=Na(),f=m.useCallback(x=>{let b=!1;const _=setTimeout(()=>{b=!0,d({id:"resolving-initial-value",status:"info",title:"Resolving initial value"})},P6n);return l(x,{}).then(C=>(b&&d({id:"resolving-initial-value",status:"info",duration:500,title:"Initial value resolved"}),C)).catch(C=>{d({title:"Could not resolve initial value",id:"resolving-initial-value",description:"Unable to resolve initial value for type: ".concat(x.name,": ").concat(C.message,"."),status:"error"})}).finally(()=>clearTimeout(_))},[d,l]),h=m.useCallback(async x=>{const b=await f(x),_=_t.insertBlock(o,x,b);_&&i(_)},[o,i,f]),p=m.useCallback(async x=>{const b=await f(x),_=_t.insertChild(o,x,b);_&&i(_)},[o,i,f]),g=d6n({hotkeys:e,onMemberOpen:i,resolveInitialValue:f,disabled:!0}),v=m.useMemo(()=>s6n(o.schemaTypes),[o]),y=m.useMemo(()=>o6n(o.schemaTypes,u,h,p),[u,o,h,p]);return c.jsx($6n,{actionGroups:g,blockStyles:v,disabled:u,insertMenuItems:y,isFullscreen:n,onToggleFullscreen:s})}var qEe=Object.freeze,B6n=Object.defineProperty,Sv=(t,e)=>qEe(B6n(t,"raw",{value:qEe(e||t.slice())})),YEe,KEe,ZEe,XEe,QEe,JEe,eSe,tSe;const N6n=H(ge)(YEe||(YEe=Sv([`
  height: `,`;

  &:not([hidden]) {
    display: flex;
  }

  flex-direction: column;
`])),t=>{let{$fullscreen:e}=t;return e?"100%":"15em"}),V6n=H(ge)(KEe||(KEe=Sv([`
  z-index: 10;
  line-height: 0;
`]))),U6n=H(ge)(ZEe||(ZEe=Sv([`
  position: relative;
  overflow: hidden;
  overflow: clip;

  & > [data-portal] {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;

    & > * {
      pointer-events: initial;
    }
  }

  &::selection,
  *::selection {
    background-color: transparent;
  }
`]))),H6n=H(gre)(XEe||(XEe=Sv([`
  position: relative;
  overflow: auto;
  height: 100%;
  display: flex;
  flex-direction: column;

  & > * {
    flex: 1;
    min-height: auto;
  }
`]))),z6n=H(Wc)(QEe||(QEe=Sv([`
  /* @todo: calculate from theme */
  /* max-width: 728px; */
`]))),W6n=H(ge)(tSe||(tSe=Sv([`
  height: 100%;
  width: 100%;
  counter-reset: `,`;
  overflow: hidden;
  overflow: clip;

  & > div {
    height: 100%;
  }

  & .pt-editable {
    display: block;
    width: 100%;
    height: 100%;

    `,`

    & > .pt-list-item-bullet + .pt-list-item-number,
    & > .pt-list-item-number + .pt-list-item-bullet {
      margin-top: `,`px;
      counter-reset: `,`;
    }

    & > :not(.pt-list-item) + .pt-list-item {
      margin-top: `,`px;
    }

    /* Reset the list count if the element is not a numbered list item */
    & > :not(.pt-list-item-number) {
      counter-reset: `,`;
    }

    `,`

    & > .pt-list-item + :not(.pt-list-item) {
      margin-top: `,`px;
    }

    & > :first-child {
      padding-top: `,`px;
    }

    & > :last-child {
      padding-bottom: `,`px;
    }

    /* & > .pt-block {
      & .pt-inline-object {
      }
    } */

    & .pt-drop-indicator {
      pointer-events: none;
      border: 1px solid var(--card-focus-ring-color) !important;
      height: 0px !important;
      border-radius: 1px;
      margin-top: -3px;
      left: calc(
        `,` - 1px
      );
      right: calc(
        `,` - 1px
      );
      width: calc(
        100% -
          `,` + 2px
      ) !important;
    }
  }
`])),GS.map(t=>Hb(t)).join(" "),GS.map(t=>qe(JEe||(JEe=Sv([`
        & > .pt-list-item-number[class~='pt-list-item-level-`,`'] {
          counter-increment: `,`;
        }
      `])),t,Hb(t))),t=>{let{theme:e}=t;return e.sanity.space[3]},GS.map(t=>Hb(t)).join(" "),t=>{let{theme:e}=t;return e.sanity.space[2]},GS.map(t=>Hb(t)).join(" "),GS.slice(1).map(t=>qe(eSe||(eSe=Sv([`
        & > .pt-list-item-level-`," + .pt-list-item-level-",` {
          counter-reset: `,`;
        }
      `])),t,t-1,Hb(t))),t=>{let{theme:e}=t;return e.sanity.space[3]},t=>{let{$isFullscreen:e,theme:n}=t;return n.sanity.space[e?5:3]},t=>{let{$isFullscreen:e,theme:n}=t;return n.sanity.space[e?9:5]},t=>{let{$isFullscreen:e,theme:n}=t;return Xe(e?n.sanity.space[5]:n.sanity.space[3])},t=>{let{$isFullscreen:e,theme:n}=t;return Xe(e?n.sanity.space[5]:n.sanity.space[3])},t=>{let{$isFullscreen:e,theme:n}=t;return Xe(e?n.sanity.space[5]*2:n.sanity.space[3]*2)});function G6n(){const t=va();return m.useMemo(()=>{var e;const n=(e=t.schemaTypes.block.options)==null?void 0:e.spellCheck,r=typeof navigator>"u"?!1:/Chrome\/96/.test(navigator.userAgent);return n===void 0&&r===!0?!1:n},[t])}function q6n(t){return m.useMemo(()=>(e,n)=>{if(_t.getSelection(e)){const i=n.startContainer.parentElement;if(!i)return;WA(i,{scrollMode:"if-needed",boundary:t,block:"start",inline:"nearest"})}},[t])}const Y6n=t=>{const{block:e,focused:n,children:r,selected:i,schemaType:s}=t,o=m.useMemo(()=>(e.style&&EH[e.style]?EH[e.style]:EH[0])||yie,[e.style]),a=m.useCallback(l=>c.jsx(o,{children:c.jsx(F0,{"data-testid":"text-style--".concat(e.style),children:l.children})}),[o,e.style]);return m.useMemo(()=>{const l=s.component,{title:u,value:d}=s,f={block:e,focused:n,renderDefault:a,schemaType:s,selected:i,title:u,value:d};return l?c.jsx(l,{...f,children:r}):c.jsx(a,{...f,children:r})},[a,e,r,n,s,i])},nSe=t=>c.jsx(c.Fragment,{children:t.children}),K6n=t=>{const{block:e,children:n,schemaType:r,selected:i,focused:s,level:o,value:a}=t,{title:l,component:u}=r;return m.useMemo(()=>{const d={block:e,focused:s,level:o,renderDefault:nSe,schemaType:r,selected:i,title:l,value:a};return u?c.jsx(u,{...d,children:n}):c.jsx(nSe,{...d,children:n})},[u,e,n,s,o,r,i,l,a])},Z6n=t=>c.jsx(FMn,{...t}),X6n=t=>c.jsx(Y6n,{...t}),Q6n=t=>c.jsx(K6n,{...t});function J6n(t){const{hasFocus:e,hotkeys:n,initialSelection:r,isActive:i,isFullscreen:s,onCopy:o,onItemOpen:a,onPaste:l,onToggleFullscreen:u,path:d,readOnly:f,renderAnnotation:h,renderBlock:p,renderChild:g,scrollElement:v,setPortalElement:y,setScrollElement:x}=t,{isTopLayer:b}=Zh(),_=m.useRef(null),C=va(),{element:S}=$C();zf(m.useCallback(O=>{!b||!s||O.key==="Escape"&&u()},[u,s,b]));const T=m.useCallback(()=>c.jsx(c.Fragment,{children:"Empty"}),[]),A=G6n(),k=q6n(v),I=m.useRef(e);m.useEffect(()=>{I.current=e},[e]),m.useEffect(()=>{I.current&&_t.focus(C)},[C,s]);const D=m.useMemo(()=>c.jsx(ehn,{hotkeys:n,onCopy:o,onPaste:l,ref:_,renderAnnotation:h,renderBlock:p,renderChild:g,renderDecorator:Z6n,renderListItem:Q6n,renderPlaceholder:T,renderStyle:X6n,scrollSelectionIntoView:k,selection:r,spellCheck:A}),[n,r,o,l,h,p,g,T,k,A]),R=m.useCallback(O=>{a(d.concat(O))},[a,d]);return c.jsxs(N6n,{$fullscreen:s,"data-testid":"pt-editor",children:[i&&c.jsx(V6n,{"data-testid":"pt-editor__toolbar-card",shadow:1,children:c.jsx(F6n,{hotkeys:n,isFullscreen:s,onMemberOpen:R,onToggleFullscreen:u,readOnly:f})}),c.jsxs(U6n,{flex:1,tone:f?"transparent":"default",children:[c.jsx(H6n,{ref:x,children:c.jsx(z6n,{padding:s?2:0,sizing:"border",width:1,children:c.jsx(W6n,{$isFullscreen:s,tone:f?"transparent":"default",children:c.jsx(Q7,{element:s?v:S,children:D})})})}),c.jsx("div",{"data-portal":"",ref:y})]})]})}var rSe=Object.freeze,e8n=Object.defineProperty,tZe=(t,e)=>rSe(e8n(t,"raw",{value:rSe(e||t.slice())})),iSe,sSe;const t8n=H.div(t=>{let{theme:e}=t;const{focusRing:n,input:r}=e.sanity,i=e.sanity.color.base,o={color:e.sanity.color.input.default.enabled.border,width:r.border.width};return qe(iSe||(iSe=tZe([`
    --input-box-shadow: `,`;

    position: relative;

    & [data-wrapper] {
      overflow: hidden;
      overflow: clip;
      position: relative;
      z-index: 1;
      padding: `,`px;
    }

    & [data-border] {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      box-shadow: var(--input-box-shadow);
      z-index: 2;
      border-radius: 1px;
      pointer-events: none;
    }

    &:not([data-read-only])[data-focused] [data-border] {
      --input-box-shadow: `,`;
    }
  `])),xie(o),r.border.width,wie({base:i,border:o,focusRing:n}))}),n8n=H(Wf)(sSe||(sSe=tZe([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
`])));function r8n(t){const e=va(),[n]=m.useState(()=>t);return n!==t&&console.warn("Make sure that hotkeys are a stable object across renders, or there will be issues with key handling in the Portable Text Editor."),m.useMemo(()=>{const r={marks:{}};return e.schemaTypes.decorators.forEach(i=>{switch(i.value){case"strong":r.marks["mod+b"]=i.value;break;case"em":r.marks["mod+i"]=i.value;break;case"underline":r.marks["mod+u"]=i.value;break;case"code":r.marks["mod+'"]=i.value;break}}),{marks:{...r.marks,...(n||{}).marks},custom:n.custom}},[e,n])}function i8n(t){const{focusPath:e,boundaryElement:n,onItemClose:r}=t,i=X4n(),s=va(),o=OI();m.useEffect(()=>{var a,l,u,d;if(e.length===0||o!=null&&o.focus.path&&Li(o.focus.path,e))return;const f=i.find(h=>h.member.open);if(f&&((a=f.elementRef)!=null&&a.current)){n&&(WA(n,{scrollMode:"if-needed",block:"start",inline:"start"}),WA(f.elementRef.current,{scrollMode:"if-needed",boundary:n,block:"start",inline:"start"}));const h=e.length===1,p=f.kind==="textBlock",g=p&&e.length===4&&e[1]==="children"&&e[3]==="text",v=p&&e.length===3&&e[1]==="children";if(f.kind==="textBlock"){const y=v||g?e.slice(0,3):[e[0],"children",Array.isArray((l=f.node.value)==null?void 0:l.children)&&((u=f.node.value)==null?void 0:u.children[0]._key)&&{_key:(d=f.node.value)==null?void 0:d.children[0]._key}||0];(h||v||g)&&(_t.select(s,{anchor:{path:y,offset:0},focus:{path:y,offset:0}}),_t.focus(s))}}},[n,s,e,r,i,o==null?void 0:o.focus.path])}function s8n(t){const{changed:e,focused:n,focusPath:r=vs,hasFocus:i,hotkeys:s,isActive:o,isFullscreen:a,onActivate:l,onCopy:u,onItemClose:d,onItemOpen:f,onItemRemove:h,onPaste:p,onPathFocus:g,onToggleFullscreen:v,path:y,readOnly:x,renderAnnotation:b,renderBlock:_,renderBlockActions:C,renderCustomMarkers:S,renderField:T,renderInlineBlock:A,renderInput:k,renderItem:I,renderPreview:D,value:R}=t,O=va(),L=$C().element,[P,$]=m.useState(null),[B,Q]=m.useState(null),V=m.useCallback(()=>{v()},[v]),Z=m.useMemo(()=>({...s,custom:{"mod+enter":v,...(s==null?void 0:s.custom)||{}}}),[s,v]),ie=r8n(Z),J=R&&C?C:void 0,X=R&&S?S:void 0,[fe,ue]=m.useState(null),te=m.useCallback(Pe=>{const{children:we,focused:De,path:de,selected:be,schemaType:ve,value:ze}=Pe;return c.jsx(Ljn,{floatingBoundary:L,focused:De,isFullscreen:a,onItemClose:d,onItemOpen:f,onItemRemove:h,onPathFocus:g,path:y.concat(de),readOnly:x,referenceBoundary:B,renderAnnotation:b,renderField:T,renderInlineBlock:A,renderInput:k,renderItem:I,renderBlockActions:J,renderCustomMarkers:X,renderPreview:D,renderBlock:_,schemaType:ve,selected:be,value:ze,children:we})},[J,X,B,a,d,f,h,g,L,y,x,b,_,T,A,k,I,D]),F=m.useCallback(Pe=>{const{focused:we,path:De,selected:de,schemaType:be,value:ve}=Pe;return c.jsx(yjn,{floatingBoundary:L,focused:we,isFullscreen:a,onItemClose:d,onItemOpen:f,onItemRemove:h,onPathFocus:g,path:y.concat(De),readOnly:x,referenceBoundary:B,relativePath:De,renderAnnotation:b,renderBlock:_,renderBlockActions:J,renderCustomMarkers:X,renderField:T,renderInlineBlock:A,renderInput:k,renderItem:I,renderPreview:D,schemaType:be,selected:de,value:ve})},[L,B,a,d,f,h,g,y,x,b,_,J,X,T,A,k,I,D]),ne=m.useCallback(Pe=>{const{value:we}=Pe;return we._type===O.schemaTypes.block.name?te(Pe):F(Pe)},[O.schemaTypes.block.name,F,te]),ce=m.useCallback(Pe=>{const{children:we,focused:De,path:de,selected:be,schemaType:ve,value:ze}=Pe;return ze._type===O.schemaTypes.span.name?we:c.jsx(Wjn,{floatingBoundary:L,focused:De,onItemClose:d,onItemOpen:f,onPathFocus:g,path:y.concat(de),readOnly:x,referenceBoundary:B,relativePath:de,renderAnnotation:b,renderBlock:_,renderCustomMarkers:S,renderField:T,renderInlineBlock:A,renderInput:k,renderItem:I,renderPreview:D,schemaType:ve,selected:be,value:ze})},[L,B,O.schemaTypes.span.name,d,f,g,y,x,b,_,S,T,A,k,I,D]),me=m.useCallback(Pe=>{const{children:we,focused:De,path:de,selected:be,schemaType:ve,value:ze}=Pe;return c.jsx(eOn,{editorNodeFocused:De,floatingBoundary:L,focused:!!n,onItemClose:d,onItemOpen:f,onPathFocus:g,path:y.concat(de),readOnly:x,referenceBoundary:B,renderAnnotation:b,renderBlock:_,renderCustomMarkers:S,renderField:T,renderInlineBlock:A,renderInput:k,renderItem:I,renderPreview:D,schemaType:ve,selected:be,value:ze,children:we})},[L,B,n,d,f,g,y,x,b,_,S,T,A,k,I,D]),pe=m.useMemo(()=>c.jsx(J6n,{hasFocus:i,hotkeys:ie,isActive:o,isFullscreen:a,onItemOpen:f,onCopy:u,onPaste:p,onToggleFullscreen:V,path:y,readOnly:x,renderAnnotation:me,renderBlock:ne,renderChild:ce,setPortalElement:ue,scrollElement:B,setScrollElement:Q}),[B,ie,V,i,me,ne,ce,o,a,u,f,p,y,x]),Ie=hI(),xe=m.useMemo(()=>({collapsed:P,default:Ie.element,editor:fe,expanded:Ie.element}),[Ie.element,fe,P]);return i8n({focusPath:r,boundaryElement:B,onItemClose:d}),c.jsx(J7,{__unstable_elements:xe,children:c.jsx(LMn,{onActivate:l,isOverlayActive:!o,children:c.jsx(Pl,{disabled:a,hasFocus:!!n,isChanged:e,path:y,children:c.jsxs(t8n,{"data-focused":i?"":void 0,"data-read-only":x?"":void 0,children:[c.jsx(N,{"data-wrapper":"",ref:$,children:c.jsx(dy,{__unstable_name:a?"expanded":"collapsed",children:a?c.jsx(n8n,{children:pe}):pe})}),c.jsx("div",{"data-border":""})]})})})})}function o8n(t){const{onChange:e,onIgnore:n,resolution:r,readOnly:i}=t,s=m.useCallback(()=>{r&&e({type:"mutation",patches:r.patches})},[e,r]);return r?c.jsx(Lm,{suffix:c.jsxs(Te,{padding:2,children:[r.action&&c.jsxs(Er,{columns:[1,2],gap:1,children:[c.jsx(Ce,{mode:"ghost",onClick:n,text:"Ignore"}),!i&&c.jsx(Ce,{onClick:s,text:r.action,tone:"caution"})]}),c.jsx(N,{padding:3,children:r.action&&c.jsx(G,{as:"p",muted:!0,size:1,children:"NOTE: Its generally safe to perform the action above, but if you are in doubt, get in touch with those responsible for configuring your studio."})})]}),title:c.jsx(c.Fragment,{children:"Invalid Portable Text Editor value"}),children:c.jsxs(Te,{space:3,children:[c.jsx(G,{as:"p",muted:!0,size:1,children:r.description}),c.jsx(ge,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:c.jsx(qs,{language:"json",children:JSON.stringify(r.item,null,2)})})]})}):null}function a8n(t){const{path:e}=t,{patchChannel:n}=Ml().__internal;return{subscribe:m.useCallback(i=>n.subscribe(s=>{let{snapshot:o,patches:a}=s;const l=a.filter(u=>aK(u.path,e)).map(u=>({...u,path:u.path.slice(e.length)}));l.length&&i({shouldReset:c8n(e,a),snapshot:Jn(o)?d8n(o,e):{},patches:l})}),[e,n])}}function l8n(t,e){const n=typeof t;return n!==typeof e?!1:n==="object"?zv(t,e):t===e}function aK(t,e){if(t===e)return!0;if(!Array.isArray(t)||!Array.isArray(e)||t.length<e.length)return!1;for(let n=0,r=e.length;n<r;n++)if(!l8n(e[n],t[n]))return!1;return!0}function u8n(t,e){return t.length===0||aK(e,t)&&!aK(t,e)}function c8n(t,e){return e.some(n=>u8n(n.path,t)&&(n.type==="set"||n.type==="unset"))}function d8n(t,e){return e.reduce((n,r)=>typeof r=="object"?_We(n,r):ms(n,r),t)}function f8n(t){const{elementProps:e,focused:n,focusPath:r,hotkeys:i,markers:s=vs,members:o,onChange:a,onCopy:l,onItemRemove:u,onInsert:d,onPaste:f,onPathFocus:h,path:p,readOnly:g,renderBlockActions:v,renderCustomMarkers:y,schemaType:x,value:b}=t,{onBlur:_}=e;m.useImperativeHandle(e.ref,()=>({focus(){S.current&&_t.focus(S.current)}}));const{subscribe:C}=a8n({path:p}),S=m.useRef(null),[T,A]=m.useState(!1),[k,I]=m.useState(null),[D,R]=m.useState(!1),[O,L]=m.useState(!1),P=Na(),$=m.useRef([]),B=m.useMemo(()=>new Pi,[]),Q=m.useMemo(()=>B.asObservable(),[B]),V=m.useRef(null),Z=m.useCallback(()=>{S.current&&R(F=>!F)},[]);m.useEffect(()=>{k&&b!==k.value&&I(null)},[k,b]),m.useEffect(()=>C(F=>{let{patches:ne,snapshot:ce}=F;B.next({patches:ne,snapshot:ce})}),[B,C]);const ie=m.useMemo(()=>{var F;const ne=[];for(const me of o)if(me.kind==="item")if(!N$(me.item.schemaType))ne.push({kind:"objectBlock",member:me,node:me.item});else{(me.item.validation.length>0||me.item.changed||(F=me.item.presence)!=null&&F.length)&&ne.push({kind:"textBlock",member:me,node:me.item});const Ie=me.item.members.find(Pe=>Pe.kind==="field"&&Pe.name==="children");if(Ie&&Ie.kind==="field"&&cie(Ie))for(const Pe of Ie.field.members)Pe.kind==="item"&&Pe.item.schemaType.name!=="span"&&ne.push({kind:"inlineObject",member:Pe,node:Pe.item});const xe=me.item.members.filter(q4n).find(Pe=>Pe.name==="markDefs");if(xe)for(const Pe of xe.field.members)Pe.kind==="item"&&Pe.item.schemaType.jsonType==="object"&&ne.push({kind:"annotation",member:Pe,node:Pe.item})}const ce=ne.map(me=>{const pe=Si(me.node.path),Ie=$.current.find(Pe=>Pe.key===pe);let xe;return me.kind!=="textBlock"&&(xe=c.jsx(eKe,{absolutePath:me.node.path,...t})),Ie?((me.member.open||Ie.node.value!==me.node.value)&&(Ie.input=xe),Ie.member=me.member,Ie.node=me.node,Ie):{kind:me.kind,key:pe,member:me.member,node:me.node,elementRef:m.createRef(),input:xe}});return $.current=ce,ce},[o,t]),J=n||h8n(r);m.useEffect(()=>{J&&L(!0)},[J]);const X=m.useCallback(F=>{switch(F.type){case"mutation":a(oSe(F.patches));break;case"selection":m.startTransition(()=>{F.selection&&h(F.selection.focus.path)});break;case"focus":L(!0);break;case"blur":_(F.event);break;case"undo":case"redo":a(oSe(F.patches));break;case"invalidValue":I(F);break;case"error":P.push({status:F.level,description:F.description});break}},[_,a,h,P]);m.useEffect(()=>{A(!1)},[b]);const fe=m.useCallback(()=>{A(!0)},[]),ue=m.useMemo(()=>k&&k.resolution?c.jsx(N,{marginBottom:2,children:c.jsx(o8n,{onChange:X,onIgnore:fe,resolution:k.resolution,readOnly:g})}):null,[X,fe,k,g]),te=m.useCallback(()=>{O||(L(!0),S.current&&_t.focus(S.current))},[O]);return c.jsxs(N,{ref:V,children:[!T&&ue,(!k||T)&&c.jsx(K4n,{markers:s,children:c.jsx(Z4n,{memberItems:ie,children:c.jsx(_t,{ref:S,patches$:Q,onChange:X,maxBlocks:void 0,readOnly:g,schemaType:x,value:b,children:c.jsx(s8n,{...t,hasFocus:J,hotkeys:i,isActive:O,isFullscreen:D,onActivate:te,onItemRemove:u,onCopy:l,onInsert:d,onPaste:f,onToggleFullscreen:Z,renderBlockActions:v,renderCustomMarkers:y})})})})]})}function oSe(t){return t.map(e=>({...e,patchType:qx}))}function h8n(t){return t.length===1||t.length===3&&t[1]==="children"}function lK(t){return"inset 0 0 0 ".concat(t.width,"px ").concat(t.color)}function p8n(t){const{base:e,border:n,focusRing:r}=t,i=r.offset+r.width,s=0-r.offset,o=e?e.bg:"var(--card-bg-color)";return[s>0&&"inset 0 0 0 ".concat(s,"px var(--card-focus-ring-color)"),n&&lK(n),s<0&&"0 0 0 ".concat(0-s,"px ").concat(o),i>0&&"0 0 0 ".concat(i,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var aSe=Object.freeze,m8n=Object.defineProperty,nZe=(t,e)=>aSe(m8n(t,"raw",{value:aSe(e||t.slice())})),lSe,uSe;const g8n=H(ge)(t=>{const{theme:e}=t,{focusRing:n,input:r,radius:i}=e.sanity,s=e.sanity.color.input,o=Xe(e.sanity.space[1]);return{position:"relative",borderRadius:"".concat(i[1],"px"),color:s.default.enabled.fg,boxShadow:lK({color:s.default.enabled.border,width:r.border.width}),"& > .content":{position:"relative",lineHeight:0,margin:"-".concat(o," 0 0 -").concat(o)},"& > .content > div":{display:"inline-block",verticalAlign:"top",padding:"".concat(o," 0 0 ").concat(o)},"&:not([data-read-only])":{cursor:"text"},"@media(hover:hover)":{"&:not([data-disabled]):not([data-read-only]):hover":{borderColor:s.default.hovered.border}},"&:not([data-disabled]):not([data-read-only])[data-focused]":{boxShadow:p8n({border:{color:s.default.enabled.border,width:r.border.width},focusRing:n})},"*:disabled + &":{color:s.default.disabled.fg,backgroundColor:s.default.disabled.bg,boxShadow:lK({color:s.default.disabled.border,width:r.border.width})}}}),v8n=H.input(t=>{const{theme:e}=t,n=e.sanity.fonts.text,r=e.sanity.color.input,i=e.sanity.space[2],s=e.sanity.fonts.text.sizes[2];return{appearance:"none",background:"none",border:0,borderRadius:0,outline:"none",fontSize:Xe(s.fontSize),lineHeight:s.lineHeight/s.fontSize,fontFamily:n.family,fontWeight:n.weights.regular,margin:0,display:"block",minWidth:"1px",maxWidth:"100%",boxSizing:"border-box",paddingTop:Xe(i-s.ascenderHeight),paddingRight:Xe(i),paddingBottom:Xe(i-s.descenderHeight),paddingLeft:Xe(i),"&:not(:invalid):not(:disabled)":{color:r.default.enabled.fg},"&:not(:invalid):disabled":{color:r.default.disabled.fg}}}),y8n=H(N)(t=>{const{theme:e}=t,n=e.sanity.color.input;return qe(lSe||(lSe=nZe([`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    pointer-events: none;
    --card-fg-color: `,`;
  `])),n.default.enabled.placeholder)}),b8n=H(N)(uSe||(uSe=nZe([`
  // This is needed to make textOverflow="ellipsis" work properly for the Text primitive
  max-width: 100%;
`]))),rZe=m.forwardRef((t,e)=>{const{disabled:n,onChange:r,onFocus:i,placeholder:s,readOnly:o,value:a=[],...l}=t,u=m.useMemo(()=>s||(typeof window<"u"&&"ontouchstart"in window?"Enter tag":"Enter tag and press ENTER"),[s]),[d,f]=m.useState(""),h=!n&&!o,[p,g]=m.useState(!1),v=Ms(e),y=m.useRef(null),x=m.useCallback(A=>{if(Sm(A.target)&&A.target.closest('[data-ui="Tag"]'))return;const I=v.current;I&&setTimeout(()=>I.focus(),0)},[v]),b=m.useCallback(()=>{g(!1)},[]),_=m.useCallback(A=>{f(A.currentTarget.value)},[]),C=m.useCallback(A=>{g(!0),i&&i(A)},[i]),S=m.useCallback(A=>{if(A.key==="Enter"&&(A.preventDefault(),A.stopPropagation(),r&&d)){const k=a.concat([{value:d}]);f(""),r&&r(k)}},[d,r,a]),T=m.useCallback(A=>{if(!r)return;const k=a.slice(0);k.splice(A,1),r(k)},[r,a]);return m.useEffect(()=>{const A=v.current;A&&(A.style.width="0",A.style.width="".concat(A.scrollWidth,"px"))},[v,d]),c.jsxs(g8n,{"data-disabled":n?"":void 0,"data-focused":p?"":void 0,"data-read-only":o?"":void 0,"data-ui":"TagInput",onPointerDown:x,overflow:"auto",padding:1,ref:y,children:[h&&c.jsx(y8n,{hidden:!!(d||a.length),padding:3,children:c.jsx(G,{textOverflow:"ellipsis",children:u})}),c.jsxs("div",{className:"content",children:[a.map((A,k)=>c.jsx(b8n,{children:c.jsx(x8n,{enabled:h,index:k,muted:!h,onRemove:T,tag:A})},"tag-".concat(k))),c.jsx("div",{children:c.jsx(v8n,{...l,disabled:!h,onBlur:b,onChange:_,onFocus:C,onKeyDown:S,ref:v,type:"text",value:d})},"tag-input")]})]})});rZe.displayName="TagInput";function x8n(t){const{enabled:e,index:n,muted:r,onRemove:i,tag:s}=t,o=m.useCallback(()=>{i(n)},[n,i]);return c.jsx(ge,{"data-ui":"Tag",padding:1,radius:2,tone:"transparent",children:c.jsxs(ae,{align:"center",children:[c.jsx(N,{flex:1,padding:1,children:c.jsx(G,{muted:r,textOverflow:"ellipsis",children:s.value})}),e&&c.jsx(N,{marginLeft:1,children:c.jsx(Ce,{icon:Rd,mode:"bleed",onClick:o,padding:1})})]})})}function w8n(t){const{onChange:e,readOnly:n,value:r=[],elementProps:i,path:s,changed:o}=t,a=m.useMemo(()=>r==null?void 0:r.map(u=>({value:u})),[r]),l=m.useCallback(u=>{e(u.length===0?Jt():_n(u.map(d=>d.value)))},[e]);return c.jsx(Pl,{path:s,isChanged:o,hasFocus:!1,children:c.jsx(rZe,{onChange:l,readOnly:n,value:a,...i})})}const _8n={portal:!0,tone:"default"};function iZe(t){const{member:e,sortable:n,onRemove:r}=t,i=m.useId();return c.jsx(N,{paddingX:1,children:c.jsx(L$,{dragHandle:n,tone:"caution",menu:c.jsx(vr,{button:c.jsx(Ce,{padding:2,mode:"bleed",icon:ll}),id:"".concat(i,"-menuButton"),menu:c.jsx(er,{children:c.jsx(St,{text:"Remove",tone:"critical",icon:Qo,onClick:r})}),popover:_8n}),children:e.error.type==="INVALID_ITEM_TYPE"?c.jsx(YKe,{value:e.error.value}):c.jsxs("div",{children:["Unexpected Error: ",e.error.type]})})})}function C8n(t){const{hoveringFiles:e,types:n,resolveUploader:r}=t,i=e.filter(a=>n.some(l=>r(l,a))),s=e.length-i.length,o=n.length>1;return c.jsx(c.Fragment,{children:i.length>0?c.jsxs(c.Fragment,{children:[c.jsxs(cn,{space:2,children:[c.jsx(G,{children:c.jsx(DC,{})}),c.jsxs(G,{children:["Drop to upload"," ",o&&c.jsxs(c.Fragment,{children:[i.length," file",i.length>1?"s":""]})]})]}),s>0&&c.jsx(N,{marginTop:4,children:c.jsxs(cn,{space:2,children:[c.jsx(G,{muted:!0,size:1,children:c.jsx(Dv,{})}),c.jsxs(G,{muted:!0,size:1,children:[s," file",s>1?"s":""," can't be uploaded here"]})]})})]}):c.jsxs(cn,{space:2,children:[c.jsx(G,{children:c.jsx(Dv,{})}),c.jsxs(G,{children:["Can't upload ",e.length>1?"any of these files":"this file"," here"]})]})})}var cSe=Object.freeze,E8n=Object.defineProperty,S8n=(t,e)=>cSe(E8n(t,"raw",{value:cSe(e||t.slice())})),dSe;const T8n=H(Wf)(dSe||(dSe=S8n([`
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background-color: var(--card-bg-color);
  opacity: 0.8;
`])));var fSe=Object.freeze,k8n=Object.defineProperty,A8n=(t,e)=>fSe(k8n(t,"raw",{value:fSe(e||t.slice())})),hSe;const I8n=H.div(hSe||(hSe=A8n([`
  position: relative;
`])));function D8n(t,e,n){return t.map(r=>({type:r,uploader:e(r,n)})).filter(r=>r.uploader)}function R8n(t){const e=EKe(t);return re.forwardRef(function(r,i){const{children:s,resolveUploader:o,onUpload:a,types:l,...u}=r,{push:d}=Na(),f=re.useCallback((y,x)=>{const{type:b,uploader:_}=x;a==null||a({file:y,schemaType:b,uploader:_})},[a]),h=re.useCallback(y=>{if(!o)return;const x=y.map(C=>({file:C,uploaderCandidates:D8n(l,o,C)})),b=x.filter(C=>C.uploaderCandidates.length>0),_=x.filter(C=>C.uploaderCandidates.length===0);if(_.length>0){const C=_.length>1;d({closable:!0,status:"warning",title:"The following item".concat(C?"s":""," can't be uploaded because there's no known conversion from content type").concat(C?"s":""," to array item:"),description:_.map((S,T)=>c.jsxs(ae,{padding:2,children:[c.jsx(N,{marginLeft:1,children:c.jsx(G,{weight:"semibold",children:S.file.name})}),c.jsx(N,{paddingLeft:2,children:c.jsxs(G,{size:1,children:["(",S.file.type,")"]})})]},T))})}b.forEach(C=>{f(C.file,XC(C.uploaderCandidates,S=>S.uploader.priority)[0])})},[d,o,l,f]),[p,g]=re.useState([]),v=re.useCallback(()=>g([]),[]);return c.jsx(I8n,{children:c.jsxs(e,{...u,ref:i,onFiles:h,onFilesOver:g,onFilesOut:v,children:[o&&p.length>0&&c.jsx(T8n,{zOffset:10,children:c.jsx(C8n,{hoveringFiles:p,types:l,resolveUploader:o})}),s]})})})}const Tie=R8n(SKe(ge));function j8n(t,e,n){return O8n(t,e,r=>r===n)}function O8n(t,e,n){let r=e-1,i=e;const s=t.length;for(;r>-1||i<s;){const o=t[i];if(i<s&&n(o,i))return i;const a=t[r];if(r>-1&&n(a,r))return r;r--,i++}return-1}const L8n={portal:!0,tone:"default"},P8n=re.forwardRef(function(e,n){const{sortable:r,value:i,insertableTypes:s,onInsert:o,onRemove:a,readOnly:l,inputId:u,validation:d,children:f,presence:h,schemaType:p}=e,g=d.filter(C=>C.level==="error").length>0,v=d.filter(C=>C.level==="warning").length>0,y=m.useCallback((C,S)=>{o({position:C,items:[hie(S)]})},[o]),x=m.useCallback(()=>{i&&o({position:"after",items:[i]})},[o,i]),b=m.useMemo(()=>{if(g)return"critical";if(v)return"caution"},[g,v]),_=c.jsx(vr,{button:c.jsx(Ce,{padding:2,mode:"bleed",icon:ll}),id:"".concat(u,"-menuButton"),popover:L8n,menu:c.jsxs(er,{children:[c.jsx(St,{text:"Remove",tone:"critical",icon:Qo,onClick:a}),c.jsx(St,{text:"Duplicate",icon:Ox,onClick:x}),c.jsx(M$,{types:s,onInsert:y})]})});return c.jsx(L$,{tone:b,menu:!l&&_,dragHandle:!l&&r,presence:h.length===0?null:c.jsx(vE,{presence:h,maxAvatars:1}),validation:d.length>0?c.jsx(N,{marginLeft:1,paddingX:1,paddingY:3,children:c.jsx(yE,{validation:d})}):null,children:c.jsx(ae,{align:p?"flex-end":"center",ref:n,children:c.jsx(ae,{align:"flex-end",flex:1,children:c.jsx(N,{flex:1,marginRight:2,children:f})})})})});function M8n(t){const{schemaType:e,readOnly:n,children:r,onValueCreate:i,onItemAppend:s}=t,o=m.useId(),a=re.useCallback(d=>{s(i(d))},[i,s]),l=re.useCallback(()=>{a(e.of[0])},[e,a]),u=m.useMemo(()=>({constrainSize:!0,portal:!0}),[]);return n?c.jsx(Mn,{portal:!0,content:c.jsx(N,{padding:2,sizing:"border",children:c.jsx(G,{size:1,children:"This field is read-only"})}),children:c.jsx(Er,{children:c.jsx(Ce,{icon:Qa,mode:"ghost",disabled:!0,text:e.of.length===1?"Add item":"Add item..."})})}):c.jsxs(Er,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[e.of.length===1?c.jsx(Ce,{icon:Qa,mode:"ghost",onClick:l,text:"Add item"}):c.jsx(vr,{button:c.jsx(Ce,{icon:Qa,mode:"ghost",text:"Add item"}),id:o||"",menu:c.jsx(er,{children:e.of.map((d,f)=>{var h,p;const g=Iv(d)&&(d.to||[]).length===1&&d.to[0].icon,v=d.icon||((h=d.type)==null?void 0:h.icon)||g;return c.jsx(St,{text:d.title||((p=d.type)==null?void 0:p.name),onClick:()=>a(d),icon:v},f)})}),popover:u}),r]})}var $8n=Object.defineProperty,F8n=(t,e,n)=>e in t?$8n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ab=(t,e,n)=>(F8n(t,typeof e!="symbol"?e+"":e,n),n);class sZe extends re.PureComponent{constructor(e){super(e),ab(this,"_element",null),ab(this,"handleAppend",n=>{const{value:r=[],onIndexFocus:i,onItemAppend:s}=this.props;s(n),i(r.length)}),ab(this,"handlePrepend",n=>{const{onIndexFocus:r,value:i=[],onItemPrepend:s}=this.props;s(n),r(i.length)}),ab(this,"handleSortEnd",n=>{const{onIndexFocus:r,onMoveItem:i,value:s}=this.props;s&&i(n),r(n.toIndex)}),ab(this,"handleItemMoveStart",()=>{this.setState({disableTransition:!1})}),ab(this,"handleItemMoveEnd",()=>{this.setState({disableTransition:!0})}),ab(this,"renderArrayItem",n=>{var r;const{schemaType:i}=this.props,s=((r=i.options)==null?void 0:r.sortable)!==!1;return c.jsx(P8n,{...n,sortable:s,insertableTypes:i.of})}),this.state={disableTransition:!1}}focus(){this._element&&this._element.focus()}getSnapshotBeforeUpdate(e){var n;const{focusPath:r=[],value:i=[]}=e,{focusPath:s=[],value:o=[]}=this.props;if(r[0]===s[0]&&i.length!==o.length){const a=s[0],l=window.getSelection();if(!((l==null?void 0:l.focusNode)instanceof HTMLElement))return null;const u=(n=l.focusNode)==null?void 0:n.querySelector("input,textarea");return u instanceof HTMLInputElement?{prevFocusedIndex:a,restoreSelection:{text:l.toString(),start:u.selectionStart,end:u.selectionEnd,value:u.value}}:{}}return null}componentDidUpdate(e,n,r){var i;const{onIndexFocus:s}=this.props;if(r!=null&&r.restoreSelection&&e.value){const o=e.value[r.prevFocusedIndex],a=j8n(this.props.value||[],r.prevFocusedIndex,o);if(a===-1)return;const l=(i=this._element)==null?void 0:i.querySelector("[data-item-index='".concat(a,"'] input,textarea"));if(l instanceof HTMLInputElement){l.focus();try{l.setSelectionRange(r.restoreSelection.start,r.restoreSelection.end)}catch{}}s(a)}}render(){const{schemaType:e,members:n,readOnly:r,renderInput:i,onUpload:s,onItemRemove:o,resolveUploader:a,elementProps:l,arrayFunctions:u=M8n,path:d,changed:f}=this.props,h=!r&&ms(e,"options.sortable")!==!1,p=n.map(g=>({id:"".concat(g.key,"-").concat(g.kind==="item"?g.item.value:"error"),member:g}));return c.jsxs(Te,{space:3,"data-testid":"array-primitives-input",children:[c.jsx(Tie,{types:e.of,resolveUploader:a,onUpload:s,...l,tabIndex:0,children:c.jsx(Te,{space:1,children:p.length===0?c.jsx(ge,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:c.jsx(G,{align:"center",muted:!0,size:1,children:e.placeholder||c.jsx(c.Fragment,{children:"No items"})})}):c.jsx(ge,{padding:1,border:!0,children:c.jsx(iie,{onItemMove:this.handleSortEnd,onItemMoveStart:this.handleItemMoveStart,onItemMoveEnd:this.handleItemMoveEnd,items:p.map(g=>g.id),sortable:h,gap:1,children:p.map((g,v)=>{let{member:y,id:x}=g;return c.jsxs(sie,{id:x,sortable:h,disableTransition:this.state.disableTransition,children:[y.kind==="item"&&c.jsx(Pl,{path:y.item.path,isChanged:f,hasFocus:!1,children:c.jsx(s4n,{member:y,renderItem:this.renderArrayItem,renderInput:i})}),y.kind==="error"&&c.jsx(iZe,{sortable:h,member:y,onRemove:()=>o(v)})]},y.key)})})})})}),c.jsx(u,{onChange:this.props.onChange,onItemAppend:this.handleAppend,onItemPrepend:this.handlePrepend,onValueCreate:hie,readOnly:this.props.readOnly,schemaType:this.props.schemaType,value:this.props.value})]})}}var pSe=Object.freeze,B8n=Object.defineProperty,Y$=(t,e)=>pSe(B8n(t,"raw",{value:pSe(e||t.slice())})),mSe,gSe,vSe,ySe;const N8n=H(ae)(mSe||(mSe=Y$([`
  min-height: 35px;
`]))),V8n=H(ae)(gSe||(gSe=Y$([`
  position: absolute;
  top: 0;
  right: 0;
  height: 35px;
`]))),uK=H(ge)(vSe||(vSe=Y$([`
  position: absolute;
  top: 0;
  left: 0;
`]))),U8n=H(ge)(ySe||(ySe=Y$([`
  transition: border-color 250ms;
  box-sizing: border-box;
  position: relative;

  @media (hover: hover) {
    `,` {
      opacity: 0;
    }

    &:hover,
    &:focus-within {
      `,` {
        opacity: 1;
      }
    }
  }

  .`,` & {
    box-shadow: 0 0 0 0, 0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &[aria-selected='true'] {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`])),uK,uK,rie);function oZe(t){const{validation:e,selected:n,tone:r,presence:i,children:s,dragHandle:o,menu:a,footer:l,...u}=t;return c.jsxs(U8n,{forwardedAs:ae,direction:"column",border:!0,selected:n,"aria-selected":n,radius:2,tone:r,...u,children:[s,o&&c.jsx(uK,{margin:1,radius:2,display:"flex",tone:"inherit","data-ui":"DragHandleCard",children:c.jsx(IYe,{grid:!0,padding:2,mode:"ghost"})}),i&&c.jsx(V8n,{align:"center",marginX:1,children:i}),c.jsxs(N8n,{align:"center",paddingX:1,sizing:"border",justify:"space-between",children:[c.jsx(ae,{children:e}),c.jsx(N,{children:l}),a]})]})}var bSe=Object.freeze,H8n=Object.defineProperty,z8n=(t,e)=>bSe(H8n(t,"raw",{value:bSe(e||t.slice())})),xSe;const W8n=H(ge)(xSe||(xSe=z8n([`
  border-top-right-radius: inherit;
  border-top-left-radius: inherit;
  height: 100%;
  position: relative;

  @media (hover: hover) {
    &:hover {
      filter: brightness(95%);
    }
  }

  &:focus:focus-visible {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`])));function G8n(t){let{readOnly:e,hasErrors:n,hasWarnings:r}=t;return e?"transparent":n?"critical":r?"caution":"default"}const q8n={portal:!0,tone:"default"},Y8n={position:"absolute",top:0,left:0,bottom:0,right:0};function K8n(t){var e,n,r,i,s,o;const{schemaType:a,parentSchemaType:l,path:u,readOnly:d,onRemove:f,value:h,open:p,onInsert:g,onFocus:v,onOpen:y,onClose:x,changed:b,focused:_,children:C,inputProps:{renderPreview:S}}=t,T=!d&&((e=l.options)==null?void 0:e.sortable)!==!1,A=l.of,k=m.useRef(null);D$(k,p),qc(_,(X,fe)=>{var ue;!X&&fe&&k.current&&((ue=k.current)==null||ue.focus())});const I=h._resolvingInitialValue,D=m.useCallback(()=>{g({items:[{...h,_key:o3()}],position:"after"})},[g,h]),R=m.useCallback((X,fe)=>{g({items:[xE(fe)],position:X})},[g]),O=hE(u,!0),L=m.useMemo(()=>O.length===0?null:c.jsx(vE,{presence:O,maxAvatars:1}),[O]),P=Bre(u,!0),$=m.useMemo(()=>P.length===0?null:c.jsx(N,{marginLeft:1,paddingX:1,paddingY:3,children:c.jsx(yE,{validation:P,__unstable_showSummary:!0})}),[P]),B=P.some(X=>X.level==="error"),Q=P.some(X=>X.level==="warning"),V=m.useMemo(()=>d?null:c.jsx(vr,{button:c.jsx(Ce,{padding:2,mode:"bleed",icon:ll}),id:"".concat(t.inputId,"-menuButton"),menu:c.jsxs(er,{children:[c.jsx(St,{text:"Remove",tone:"critical",icon:Qo,onClick:f}),c.jsx(St,{text:"Duplicate",icon:Ox,onClick:D}),c.jsx(M$,{types:A,onInsert:R})]}),popover:q8n}),[D,R,f,A,t.inputId,d]),Z=G8n({readOnly:d,hasErrors:B,hasWarnings:Q}),ie=c.jsx(oZe,{menu:V,presence:L,validation:$,tone:Z,radius:2,border:!0,focused:_,dragHandle:T,selected:p,children:c.jsxs(W8n,{tone:"inherit",overflow:"auto",forwardedAs:"button","data-ui":"PreviewCard","data-as":"button",type:"button",flex:1,tabIndex:0,disabled:I,onClick:y,ref:k,onFocus:v,__unstable_focusRing:!0,children:[S({schemaType:a,value:h,layout:"media",withBorder:!1,withShadow:!1}),I&&c.jsx(ge,{as:ae,style:Y8n,children:c.jsxs(ae,{align:"center",justify:"center",gap:1,padding:1,children:[c.jsx(N,{padding:3,children:c.jsx(_s,{muted:!0})}),c.jsx(G,{muted:!0,size:1,children:"Resolving initial value"})]})})]})}),J=Dre(a);return c.jsxs(c.Fragment,{children:[c.jsx(Pl,{path:u,isChanged:b,hasFocus:!!_,children:ie}),p&&c.jsx(nKe,{header:d?"View ".concat(J):"Edit ".concat(J),type:((r=(n=l==null?void 0:l.options)==null?void 0:n.modal)==null?void 0:r.type)||"dialog",width:(o=(s=(i=l==null?void 0:l.options)==null?void 0:i.modal)==null?void 0:s.width)!=null?o:1,id:h._key,onClose:x,autofocus:_,legacy_referenceElement:k.current,children:C})]})}var wSe=Object.freeze,Z8n=Object.defineProperty,X8n=(t,e)=>wSe(Z8n(t,"raw",{value:wSe(e||t.slice())})),_Se;const Q8n=H(ge)(_Se||(_Se=X8n([`
  max-width: `,`px;
`])),t=>{let{theme:e}=t;return e.sanity.container[1]});function J8n(t){const{value:e,onFocus:n,vertical:r,...i}=t,[s,o]=re.useState(!1),[a,l]=re.useState(null);ga(()=>o(!1),[a]);const u=re.useCallback(h=>{(h.key==="Escape"||h.key==="Tab")&&o(!1)},[]),d=m.useCallback(()=>{o(h=>!h)},[]),f=Bc(e);return c.jsx(Ti,{open:s,ref:l,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:c.jsx(Q8n,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:c.jsxs(Te,{space:4,children:[c.jsx(N,{children:c.jsx(G,{weight:"semibold",children:"Why is this happening?"})}),c.jsxs(G,{size:1,children:["The current schema does not declare items of type ",c.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),c.jsx(N,{children:c.jsxs(G,{size:1,children:[c.jsx(f7,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),c.jsxs(Te,{space:2,children:[c.jsx(G,{size:1,weight:"semibold",children:"JSON representation of this item:"}),c.jsx(ge,{padding:2,overflow:"auto",border:!0,children:c.jsx(qs,{size:1,as:"pre",language:"json",children:JSON.stringify(e,null,2)})})]})]})}),children:c.jsx(ge,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,style:{height:"100%"},onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...i,children:c.jsxs(Te,{space:4,marginTop:2,children:[c.jsx(N,{margin:1,children:c.jsx(G,{align:"center",size:4,children:c.jsx(kh,{})})}),c.jsxs(G,{align:"center",size:1,children:["Items of type ",c.jsx("code",{children:f})," is not valid for this list"]})]})})})}const e7n={portal:!0,tone:"default"};function t7n(t){const{member:e,sortable:n}=t,r=m.useId(),{onChange:i}=Pd(),s=m.useCallback(()=>{i(bn.from([Jt([{_key:e.key}])]))},[i,e.key]);return c.jsx(oZe,{dragHandle:n,tone:"caution",style:{height:"100%"},menu:c.jsx(vr,{button:c.jsx(Ce,{padding:2,mode:"bleed",icon:ll}),id:"".concat(r,"-menuButton"),menu:c.jsx(er,{children:c.jsx(St,{text:"Remove",tone:"critical",icon:Qo,onClick:s})}),popover:e7n}),children:e.error.type==="INVALID_ITEM_TYPE"?c.jsx(J8n,{value:e.error.value,vertical:!0}):c.jsxs("div",{children:["Unexpected Error: ",e.error.type]})})}const n7n=[];function r7n(t){var e;const{arrayFunctions:n=Mre,elementProps:r,members:i,onChange:s,onInsert:o,onItemMove:a,onUpload:l,readOnly:u,renderAnnotation:d,renderBlock:f,renderField:h,renderInlineBlock:p,renderInput:g,renderPreview:v,resolveUploader:y,schemaType:x,value:b=n7n}=t,_=m.useCallback(k=>{o({items:[k],position:"before",referenceItem:0})},[o]),C=m.useCallback(k=>{o({items:[k],position:"after",referenceItem:-1})},[o]),S=((e=x.options)==null?void 0:e.sortable)!==!1,T=m.useCallback(k=>c.jsx(K8n,{...k}),[]),A=m.useMemo(()=>i.map(k=>k.key),[i]);return c.jsxs(Te,{space:3,children:[c.jsx(Tie,{types:x.of,resolveUploader:y,onUpload:l,...r,tabIndex:0,children:c.jsxs(Te,{"data-ui":"ArrayInput__content",space:3,children:[(i==null?void 0:i.length)===0&&c.jsx(ge,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:c.jsx(G,{align:"center",muted:!0,size:1,children:x.placeholder||c.jsx(c.Fragment,{children:"No items"})})}),(i==null?void 0:i.length)>0&&c.jsx(ge,{border:!0,radius:1,children:c.jsx(iie,{columns:[2,3,4],gap:3,padding:1,margin:1,items:A,onItemMove:a,sortable:S,children:i.map(k=>c.jsxs(sie,{sortable:S,id:k.key,flex:1,children:[k.kind==="item"&&c.jsx(fie,{member:k,renderAnnotation:d,renderBlock:f,renderInlineBlock:p,renderItem:T,renderField:h,renderInput:g,renderPreview:v}),k.kind==="error"&&c.jsx(t7n,{sortable:S,member:k})]},k.key))})})]})}),c.jsx(n,{onChange:s,onItemAppend:C,onItemPrepend:_,onValueCreate:xE,readOnly:u,schemaType:x,value:b})]})}function i7n(t,e){const n=m.useRef(t),r=n.current,i=e(r,t);return m.useEffect(()=>{i||(n.current=t)}),i?r:t}const s7n=[];function o7n(t){var e;const{arrayFunctions:n=Mre,elementProps:r,members:i,onChange:s,onInsert:o,onItemMove:a,onUpload:l,focusPath:u,readOnly:d,renderAnnotation:f,renderBlock:h,renderField:p,renderInlineBlock:g,renderInput:v,renderItem:y,renderPreview:x,resolveUploader:b,schemaType:_,value:C=s7n}=t,[S,T]=m.useState(null),{space:A}=Zu().sanity,k=m.useCallback(te=>{o({items:[te],position:"before",referenceItem:0})},[o]),I=m.useCallback(te=>{o({items:[te],position:"after",referenceItem:-1})},[o]),D=i7n(m.useMemo(()=>i.map(te=>te.key),[i]),zv),{scrollElement:R,containerElement:O}=m4n(),L=m.useRef(null),P=m.useMemo(()=>jo(u[0])?u[0]._key:u[0],[u]),$=m.useCallback(te=>{const F={...te};if(S!==null&&(F.startIndex=Math.min(te.startIndex,S),F.endIndex=Math.max(te.endIndex,S)),P){const ne=D.findIndex(ce=>ce===P);ne!==-1&&(F.startIndex=Math.min(F.startIndex,ne),F.endIndex=Math.max(F.endIndex,ne))}return wBe(F)},[S,P,D]),B=m.useCallback((te,F)=>{if(!te.scrollElement)return;const ne=te.scrollElement,ce=()=>{var me,pe,Ie,xe;const Pe=(pe=(me=O.current)==null?void 0:me.getBoundingClientRect().top)!=null?pe:0,we=(xe=(Ie=L.current)==null?void 0:Ie.getBoundingClientRect().top)!=null?xe:0,De=Math.floor(we-Pe);F(ne.scrollTop-De)};return ce(),te.scrollElement.addEventListener("scroll",ce,{capture:!1,passive:!0}),()=>{ne.removeEventListener("scroll",ce)}},[O]),Q=m.useCallback(()=>53,[]),V=EBe({count:i.length,estimateSize:Q,getScrollElement:m.useCallback(()=>R,[R]),observeElementOffset:B,rangeExtractor:$,getItemKey:m.useCallback(te=>D[te],[D]),scrollToFn:(te,F,ne)=>{te!==ne.scrollOffset&&_Be(te,F,ne)}}),Z=V.getVirtualItems(),ie=m.useCallback(te=>{var F,ne;const{active:ce}=te;T((ne=(F=ce.data.current)==null?void 0:F.sortable)==null?void 0:ne.index)},[]),J=m.useCallback(()=>{T(null)},[]),X=((e=_.options)==null?void 0:e.sortable)!==!1,fe=1,ue=1;return c.jsxs(Te,{space:3,ref:L,children:[c.jsx(Tie,{types:_.of,resolveUploader:b,onUpload:l,...r,tabIndex:0,children:c.jsx(Te,{"data-ui":"ArrayInput__content",space:3,children:i.length===0?c.jsx(ge,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:c.jsx(G,{align:"center",muted:!0,size:1,children:_.placeholder||c.jsx(c.Fragment,{children:"No items"})})}):c.jsx(ge,{border:!0,radius:1,style:{height:"".concat(V.getTotalSize()+Z.length*A[fe]+A[ue],"px"),width:"100%",position:"relative"},children:c.jsx(iie,{axis:"y",gap:fe,paddingY:ue,items:D,onItemMove:a,onItemMoveStart:ie,onItemMoveEnd:J,sortable:X,style:{position:"absolute",top:0,left:0,width:"100%",transform:"translateY(".concat(Z[0].start,"px)")},children:Z.map(te=>{const F=i[te.index];return c.jsxs(sie,{ref:V.measureElement,sortable:X,"data-index":te.index,id:F.key,children:[F.kind==="item"&&c.jsx(fie,{member:F,renderAnnotation:f,renderBlock:h,renderField:p,renderInlineBlock:g,renderInput:v,renderItem:y,renderPreview:x}),F.kind==="error"&&c.jsx(iZe,{sortable:X,member:F,onRemove:()=>t.onItemRemove(F.key)})]},te.key)})})})})}),c.jsx(n,{onChange:s,onItemAppend:I,onItemPrepend:k,onValueCreate:xE,readOnly:d,schemaType:_,value:C})]})}function aZe(t){var e;return((e=t.schemaType.options)==null?void 0:e.layout)==="grid"?c.jsx(r7n,{...t}):c.jsx(o7n,{...t})}const a7n=["string","number","boolean"];function l7n(t){return t.of.every(e=>a7n.includes(e.jsonType))}function u7n(t){return t.of.length===1&&Kp("string",t.of[0])}function c7n(t){var e;return((e=t.options)==null?void 0:e.layout)==="tags"}function d7n(t){return t.of.some(e=>Kp("block",e))}function f7n(t){var e;return!!((e=t.options)!=null&&e.list)}function h7n(t){return u7n(t)&&c7n(t)?w8n:f7n(t)?KKe:l7n(t)?sZe:d7n(t)?f8n:aZe}function p7n(t){return MX(t)?t:{title:pw("".concat(t)),value:t}}const CSe={title:"",value:void 0};function lZe(t){var e,n;const{value:r,readOnly:i,validationError:s,schemaType:o,onChange:a,path:l,changed:u,focused:d,elementProps:f}=t,h=m.useMemo(()=>{var S;return(((S=o.options)==null?void 0:S.list)||[]).map(p7n)},[(e=o.options)==null?void 0:e.list]),p=h.find(S=>S.value===r),g=o.options&&o.options.layout==="radio",v=m.useCallback(S=>{const T=Number(S);return h[T]},[h]),y=m.useCallback(S=>String(h.indexOf(S)),[h]),x=m.useId(),b=re.useCallback(S=>{a(bn.from(typeof(S==null?void 0:S.value)>"u"?Jt():_n(S.value)))},[a]),_=m.useCallback(S=>{const T=v(S.currentTarget.value);if(!T){b(CSe);return}b(T)},[b,v]),C=g?c.jsx(m7n,{...f,value:p,inputId:x,items:h,direction:((n=o.options)==null?void 0:n.direction)||"vertical",customValidity:s,onChange:b,readOnly:i}):c.jsx(Bv,{...f,customValidity:s,value:y(p),readOnly:i,onChange:_,children:[CSe,...h].map((S,T)=>c.jsx("option",{value:T-1,children:S.title},"".concat(T-1)))});return c.jsx(Pl,{path:l,isChanged:u,hasFocus:!!d,children:C})}const m7n=m.forwardRef(function(e,n){const{items:r,value:i,onChange:s,onFocus:o,readOnly:a,customValidity:l,direction:u,inputId:d}=e,f=u==="horizontal"?cn:Te;return c.jsx(ge,{border:!0,padding:3,radius:1,children:c.jsx(f,{space:3,role:"group",children:r.map((h,p)=>c.jsx(g7n,{customValidity:l,inputId:d,item:h,onChange:s,onFocus:o,readOnly:a,ref:p===0?n:null,value:i},p))})})}),g7n=m.forwardRef(function(e,n){const{customValidity:r,inputId:i,item:s,onChange:o,onFocus:a,readOnly:l,value:u}=e,d=m.useCallback(()=>{o(s)},[s,o]);return c.jsxs(ae,{as:"label",align:"center",children:[c.jsx(y3t,{ref:n,checked:u===s,onChange:d,onFocus:a,readOnly:l,customValidity:r,name:i}),c.jsx(N,{marginLeft:2,children:c.jsx(G,{size:1,weight:"semibold",children:s.title})})]})});function uZe(t){const{validationError:e,elementProps:n}=t;return c.jsx(Fi,{...n,customValidity:e,"data-testid":"string-input"})}function v7n(t){return rKe(t,"list")?lZe:uZe}const y7n=(t,e)=>{if(typeof t=="function")throw new Error('Schema type "'.concat((e==null?void 0:e.name)||"<not-found>","\"'s `validation` was not run though `inferFromSchema`"));return t?Array.isArray(t)?t:[t]:[]};function rL(t,e){for(const n of y7n(t==null?void 0:t.validation,t))for(const r of n._rules)if(r.flag===e)return r;return null}function cZe(t){const{schemaType:e,validationError:n,elementProps:r}=t,i=rL(e,"min"),s=rL(e,"integer"),o=rL(e,"precision"),a=typeof(i==null?void 0:i.constraint)=="number"&&(i==null?void 0:i.constraint)>=0,l=s||(o==null?void 0:o.constraint)===0,u=a?l?"numeric":"decimal":"text";return c.jsx(Fi,{...r,type:"number",step:"any",inputMode:u,customValidity:n,placeholder:e.placeholder,pattern:a?"[d]*":void 0,max:Number.MAX_SAFE_INTEGER,min:Number.MIN_SAFE_INTEGER,"data-testid":"number-input"})}function b7n(t){return rKe(t,"list")?lZe:cZe}var ESe=Object.freeze,x7n=Object.defineProperty,dZe=(t,e)=>ESe(x7n(t,"raw",{value:ESe(e||t.slice())})),SSe,TSe;const w7n=H(N)(SSe||(SSe=dZe([`
  align-self: center;
`]))),_7n=H(N)(TSe||(TSe=dZe([`
  line-height: 0;
`])));function C7n(t){var e;const{id:n,value:r,schemaType:i,readOnly:s,elementProps:o,validation:a}=t,l=((e=i.options)==null?void 0:e.layout)||"switch",u=typeof r!="boolean",d=r||!1,f=l==="checkbox"?r0:QJ,h=s?"transparent":void 0;return c.jsx(ge,{border:!0,"data-testid":"boolean-input",radius:1,tone:h,children:c.jsxs(ae,{children:[c.jsx(_7n,{padding:3,children:c.jsx(f,{label:i.title,...o,checked:d,disabled:s,indeterminate:u,style:{margin:-4}})}),c.jsx(N,{flex:1,paddingY:3,children:c.jsx(TYe,{description:i.description,inputId:n,validation:a,title:i.title})}),c.jsx(w7n,{paddingX:3,paddingY:1,children:c.jsx(uDn,{maxAvatars:1,position:"top"})})]})})}function E7n(t){const{validationError:e,elementProps:n}=t;return c.jsx(Fi,{...n,type:"email",inputMode:"email",customValidity:e})}function S7n(t){const{fieldNames:e,onChange:n,readOnly:r,value:i}=t,s=e.length,o=m.useCallback(a=>{n(Jt([a]))},[n]);return c.jsxs(Lm,{status:"warning",title:c.jsxs(c.Fragment,{children:[s===1&&c.jsx(c.Fragment,{children:"Unknown field found"}),s>1&&c.jsx(c.Fragment,{children:"Unknown fields found"})]}),children:[c.jsx(G,{as:"p",muted:!0,size:1,children:s===1?c.jsx(c.Fragment,{children:"Encountered a field that is not defined in the schema."}):c.jsxs(c.Fragment,{children:["Encountered ",s," fields that are not defined in the schema."]})}),c.jsxs(Ew,{marginTop:4,open:$0,title:c.jsx(c.Fragment,{children:"Developer info"}),children:[c.jsx(N,{marginBottom:3,children:c.jsx(G,{as:"p",muted:!0,size:1,children:s===1?c.jsx(c.Fragment,{children:"This field is not defined in the schema, which could mean that the field definition has been removed or that someone else has added it to their own local project and have not deployed their changes yet."}):c.jsx(c.Fragment,{children:"These fields are not defined in the documents schema, which could mean that the field definitions have been removed or that someone else has added them to their own local project and have not deployed their changes yet."})})}),c.jsx(Te,{as:"ul",space:3,children:e.map(a=>c.jsx(T7n,{fieldName:a,onUnsetClick:o,readOnly:r,value:i==null?void 0:i[a]},a))})]})]})}function T7n(t){let{fieldName:e,onUnsetClick:n,readOnly:r,value:i}=t;const s=m.useCallback(()=>{n(e)},[e,n]);return c.jsx(ge,{as:"li",padding:3,radius:2,shadow:1,tone:"caution",children:c.jsxs(Te,{space:2,children:[c.jsxs(ge,{border:!0,radius:1,children:[c.jsx(ge,{borderBottom:!0,padding:3,children:c.jsx(qs,{weight:"medium",children:e})}),c.jsx(N,{overflow:"auto",padding:3,children:c.jsx(qs,{language:"json",children:JSON.stringify(i,null,2)})})]}),r&&c.jsxs(G,{as:"p",muted:!0,size:1,children:["This field is ",c.jsx("strong",{children:"read only"})," according to the documents schema and cannot be unset. If you want to be able to unset this in Studio, make sure you remove the"," ",c.jsx("code",{children:"readOnly"})," field from the enclosing type in the schema."]}),!r&&c.jsx(Ce,{icon:Qo,onClick:s,tone:"critical",text:c.jsx(c.Fragment,{children:"Remove field"})})]})})}var kSe=Object.freeze,k7n=Object.defineProperty,A7n=(t,e)=>kSe(k7n(t,"raw",{value:kSe(e||t.slice())})),ASe;const I7n=H(ge)(ASe||(ASe=A7n([`
  margin-bottom: `,`px;
  padding-bottom: `,`px;
`])),t=>{let{$level:e,theme:n}=t;return e===0?0:n.sanity.space[5]*-1},t=>{let{$level:e,theme:n}=t;return n.sanity.space[4]}),D7n=m.forwardRef(function(e,n){const{onClick:r}=e,i=re.useCallback(()=>{r==null||r(e.name)},[e.name,r]);return c.jsx(TA,{"data-testid":"group-tab-".concat(name),size:1,id:"".concat(e.name,"-tab"),label:e.title,ref:n,...e,onClick:i})}),R7n=t=>{const{name:e,title:n,...r}=t,{selected:i}=t;return c.jsx("option",{title:n,value:e,id:"".concat(e,"-tab"),"aria-controls":r["aria-controls"],"data-testid":"group-select-".concat(e),"aria-selected":i?"true":"false",children:n||e})};var ISe=Object.freeze,j7n=Object.defineProperty,O7n=(t,e)=>ISe(j7n(t,"raw",{value:ISe(e||t.slice())})),DSe;const L7n=H(LAt)(DSe||(DSe=O7n([`
  /* Hide on small screens */
  &[data-eq-max~='0'] [data-ui='TabList'] {
    display: none;
  }

  /* Hide on medium to large screens */
  [data-ui='Select'] {
    display: none;
  }

  /* Show on small screens */
  &[data-eq-max~='0'] [data-ui='Select'] {
    display: block;
  }
`]))),P7n=t=>{let{inputId:e,groups:n,onClick:r,shouldAutoFocus:i=!0,disabled:s}=t;return c.jsx(nee,{space:2,"data-testid":"field-group-tabs",children:n.map(o=>c.jsx(D7n,{"aria-controls":"".concat(e,"-field-group-fields"),autoFocus:i&&o.selected,disabled:s||o.disabled,icon:o==null?void 0:o.icon,name:o.name,onClick:r,selected:!!o.selected,title:o.title||o.name},"".concat(e,"-").concat(o.name,"-tab")))})},M7n=t=>{let{disabled:e,groups:n,inputId:r,onSelect:i,shouldAutoFocus:s=!0}=t;var o;const a=m.useCallback(l=>{i(l.currentTarget.value)},[i]);return c.jsx(Bv,{"aria-label":"Field groups",autoFocus:s,"data-testid":"field-group-select",disabled:e,fontSize:2,muted:!0,onChange:a,value:(o=n.find(l=>l.selected))==null?void 0:o.name,children:n.map(l=>c.jsx(R7n,{"aria-controls":"".concat(r,"-field-group-fields"),disabled:l.disabled,name:l.name,selected:!!l.selected,title:l.title||l.name},"".concat(r,"-").concat(l.name,"-tab")))})},$7n=re.memo(function(e){let{disabled:n=!1,onClick:r,...i}=e;const s=m.useCallback(o=>{r==null||r(o)},[r]);return c.jsxs(L7n,{"data-testid":"field-group-root",children:[c.jsx(P7n,{...i,disabled:n,onClick:s}),c.jsx(M7n,{...i,disabled:n,onSelect:s})]})}),RSe=m.memo(function(e){const{schemaType:n,groups:r,members:i,onChange:s,renderAnnotation:o,renderBlock:a,renderInlineBlock:l,renderInput:u,renderField:d,renderItem:f,renderPreview:h,level:p,value:g,id:v,onFieldGroupSelect:y}=e,{columns:x}=n.options||{},b=m.useMemo(()=>{if(!n.fields)return null;const C=n.fields.map(T=>T.name),S=Object.keys(g||{}).filter(T=>!T.startsWith("_")&&!C.includes(T));return S.length===0?null:c.jsx(S7n,{fieldNames:S,value:g,onChange:s})},[s,n.fields,g]),_=m.useCallback(()=>c.jsx(f4n,{members:i,renderAnnotation:o,renderBlock:a,renderField:d,renderInlineBlock:l,renderInput:u,renderItem:f,renderPreview:h}),[i,o,a,d,l,u,f,h]);return i.length===0?null:c.jsxs(Te,{space:5,children:[r.length>0?c.jsx(I7n,{$level:p,"data-testid":"field-groups",children:c.jsx($7n,{groups:r,inputId:v,onClick:y,shouldAutoFocus:!1})}):null,x?c.jsx(Er,{columns:x,gap:4,marginTop:1,children:_()}):_(),b]})});function F7n(t){const{date:e,focused:n,isCurrentMonth:r,isToday:i,onSelect:s,selected:o}=t,a=m.useCallback(()=>{s(e)},[e,s]);return c.jsx("div",{"aria-selected":o,"data-ui":"CalendarDay",children:c.jsx(ge,{"aria-label":e.toDateString(),"aria-pressed":o,as:"button",__unstable_focusRing:!0,"data-weekday":!0,"data-focused":n?"true":"",role:"button",tabIndex:-1,onClick:a,padding:3,radius:2,selected:o,tone:i||o?"primary":"default",children:c.jsx(G,{muted:!o&&!r,style:{textAlign:"center"},weight:r?"medium":"regular",children:e.getDate()})})})}const B7n=["January","February","March","April","May","June","July","August","September","October","November","December"],N7n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],V7n=Rne(0,24),U7n=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],H7n=[1,2,3,4,5,6],z7n=t=>{const e=bUe(t);return yUe({start:e,end:wUe(e)})},W7n=t=>t.map(e=>[e,...H7n.map(n=>Lu(e,n))]),G7n=t=>W7n(z7n(t)).map(e=>({number:xUe(e[0]),days:e}));function q7n(t){return c.jsx(N,{"aria-hidden":t.hidden||!1,"data-ui":"CalendarMonth",children:c.jsxs(Er,{gap:1,style:{gridTemplateColumns:"repeat(7, minmax(44px, 46px))"},children:[N7n.map(e=>c.jsx(N,{paddingY:2,children:c.jsx(G,{size:1,weight:"medium",style:{textAlign:"center"},children:e})},e)),G7n(t.date).map((e,n)=>e.days.map((r,i)=>{const s=t.focused&&M1(r,t.focused),o=t.selected&&M1(r,t.selected),a=M1(r,new Date),l=t.focused&&kUe(r,t.focused);return c.jsx(F7n,{date:r,focused:s,isCurrentMonth:l,isToday:a,onSelect:t.onSelect,selected:o},"".concat(n,"-").concat(i))}))]})})}const jSe={dayPresets:!1,timePresets:!1},fZe=re.forwardRef(function(e,n){let{onChange:r,onBlur:i,onKeyPress:s,value:o,...a}=e;const[l,u]=re.useState(),d=re.useCallback(g=>{u(g.currentTarget.value)},[]),f=re.useCallback(g=>{g.currentTarget.value!=="".concat(o)&&r&&r(g),u(void 0)},[r,o]),h=re.useCallback(g=>{f(g),i&&i(g)},[f,i]),p=re.useCallback(g=>{g.key==="Enter"&&f(g),s&&s(g)},[f,s]);return c.jsx(Fi,{...a,"data-testid":"date-input",ref:n,value:l===void 0?o:l,onChange:d,onBlur:h,onKeyPress:p})}),Y7n=t=>{let{onChange:e,...n}=t;const r=re.useCallback(i=>{const s=parseInt(i.currentTarget.value,10);isNaN(s)||e(s)},[e]);return c.jsx(fZe,{...n,onChange:r,inputMode:"numeric"})},K7n=c.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1}),Z7n=m.forwardRef(function(e,n){const{selectTime:r,onFocusedDateChange:i,selectedDate:s=new Date,focusedDate:o=s,timeStep:a=1,onSelect:l,...u}=e,d=m.useCallback(T=>i(T),[i]),f=m.useCallback(T=>d(wtn(IUe(o,T),1)),[o,d]),h=m.useCallback(T=>f(Number(T.currentTarget.value)),[f]),p=m.useCallback(T=>d(bte(o,T)),[o,d]),g=m.useCallback(T=>d(_tn(o,T)),[o,d]),v=m.useCallback(T=>{l(kO(lU(T,s.getHours()),s.getMinutes()))},[l,s]),y=m.useCallback(T=>{const A=Number(T.currentTarget.value);l(kO(s,A))},[l,s]),x=m.useCallback(T=>{const A=Number(T.currentTarget.value);l(lU(s,A))},[l,s]);m.useCallback((T,A)=>{l(lU(kO(s,A),T))},[l,s]);const b=Ms(n),_=m.useCallback(()=>{var T,A;(A=(T=b.current)==null?void 0:T.querySelector('[data-focused="true"]'))==null||A.focus()},[b]),C=m.useCallback(T=>{var A,k;if(U7n.includes(T.key)){if(T.preventDefault(),T.target.hasAttribute("data-calendar-grid")){_();return}T.key==="ArrowUp"&&i(Lu(o,-7)),T.key==="ArrowDown"&&i(Lu(o,7)),T.key==="ArrowLeft"&&i(Lu(o,-1)),T.key==="ArrowRight"&&i(Lu(o,1)),(k=(A=b.current)==null?void 0:A.querySelector("[data-preserve-focus]"))==null||k.focus()}},[b,_,i,o]);m.useEffect(()=>{_()},[_]),m.useEffect(()=>{var T;((T=document.activeElement)==null?void 0:T.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&_()},[b,_,o]),m.useCallback(()=>v(Lu(new Date,-1)),[v]),m.useCallback(()=>v(new Date),[v]),m.useCallback(()=>v(Lu(new Date,1)),[v]);const S=m.useCallback(()=>l(new Date),[l]);return c.jsxs(N,{"data-ui":"Calendar",...u,ref:b,children:[c.jsxs(N,{padding:2,children:[jSe.dayPresets,c.jsxs(ae,{children:[c.jsx(N,{flex:1,children:c.jsx(X7n,{moveFocusedDate:p,onChange:h,value:o==null?void 0:o.getMonth()})}),c.jsx(N,{marginLeft:2,children:c.jsx(Q7n,{moveFocusedDate:p,onChange:g,value:o.getFullYear()})})]}),c.jsxs(N,{"data-calendar-grid":!0,onKeyDown:C,marginTop:2,overflow:"hidden",tabIndex:0,children:[c.jsx(q7n,{date:o,focused:o,onSelect:v,selected:s}),K7n]})]}),r&&c.jsxs(N,{padding:2,style:{borderTop:"1px solid var(--card-border-color)"},children:[c.jsxs(ae,{align:"center",children:[c.jsxs(ae,{align:"center",flex:1,children:[c.jsx(N,{children:c.jsx(Bv,{"aria-label":"Select hour",value:s==null?void 0:s.getHours(),onChange:x,children:V7n.map(T=>c.jsx("option",{value:T,children:"".concat(T).padStart(2,"0")},T))})}),c.jsx(N,{paddingX:1,children:c.jsx(G,{children:":"})}),c.jsx(N,{children:c.jsx(Bv,{"aria-label":"Select minutes",value:s==null?void 0:s.getMinutes(),onChange:y,children:Rne(0,60,a).map(T=>c.jsx("option",{value:T,children:"".concat(T).padStart(2,"0")},T))})})]}),c.jsx(N,{marginLeft:2,children:c.jsx(Ce,{text:"Set to current time",mode:"bleed",onClick:S})})]}),jSe.timePresets]})]})});function X7n(t){const{moveFocusedDate:e,onChange:n,value:r}=t,i=m.useCallback(()=>e(-1),[e]),s=m.useCallback(()=>e(1),[e]);return c.jsxs(ae,{flex:1,children:[c.jsx(Ce,{"aria-label":"Go to previous month",onClick:i,mode:"bleed",icon:h7,paddingX:2,radius:0}),c.jsx(N,{flex:1,children:c.jsx(Bv,{radius:0,value:r,onChange:n,children:B7n.map((o,a)=>c.jsx("option",{value:a,children:o},a))})}),c.jsx(Ce,{"aria-label":"Go to next month",mode:"bleed",icon:nw,onClick:s,paddingX:2,radius:0})]})}function Q7n(t){const{moveFocusedDate:e,onChange:n,value:r}=t,i=m.useCallback(()=>e(-12),[e]),s=m.useCallback(()=>e(12),[e]);return c.jsxs(ae,{children:[c.jsx(Ce,{"aria-label":"Previous year",onClick:i,mode:"bleed",icon:h7,paddingX:2,radius:0}),c.jsx(Y7n,{value:r,onChange:n,radius:0,style:{width:65}}),c.jsx(Ce,{"aria-label":"Next year",onClick:s,mode:"bleed",icon:nw,paddingX:2,radius:0})]})}const J7n=re.forwardRef(function(e,n){const{value:r=new Date,onChange:i,...s}=e,[o,a]=re.useState(),l=re.useCallback(u=>{i(u),a(void 0)},[i]);return c.jsx(Z7n,{...s,ref:n,selectedDate:r,onSelect:l,focusedDate:o||r,onFocusedDateChange:a})}),e9n=m.forwardRef(function(e,n){const{value:r,inputValue:i,onInputChange:s,onChange:o,selectTime:a,timeStep:l,...u}=e,[d,f]=m.useState(null),h=Ms(n),p=m.useRef(null),[g,v]=m.useState(!1);ga(()=>v(!1),[d]);const y=m.useCallback(()=>{var C,S;(C=h.current)==null||C.focus(),(S=h.current)==null||S.select()},[h]),x=m.useCallback(C=>{C.key==="Escape"&&v(!1)},[]),b=m.useCallback(()=>v(!0),[]),_=c.jsx(N,{padding:1,children:c.jsx(Ce,{ref:p,icon:U1,mode:"bleed",padding:2,onClick:b,style:{display:"block"},"data-testid":"select-date-button"})});return c.jsx(fZe,{ref:h,...u,value:i,onChange:s,suffix:g?c.jsx(Fv,{zOffset:1e3,children:c.jsx(Ti,{constrainSize:!0,"data-testid":"date-input-dialog",portal:!0,content:c.jsx(N,{overflow:"auto",children:c.jsx(gy,{onDeactivation:y,children:c.jsx(J7n,{selectTime:a,timeStep:l,onKeyUp:x,value:r,onChange:o})})}),open:!0,placement:"bottom",ref:f,radius:2,children:_})}):_})}),t9n=new Date,hZe=re.forwardRef(function(e,n){const{id:r,deserialize:i,formatInputValue:s,onChange:o,parseInputValue:a,placeholder:l,readOnly:u,selectTime:d,serialize:f,timeStep:h,value:p,...g}=e,[v,y]=re.useState(null);m.useEffect(()=>{y(null)},[p]);const x=re.useCallback(T=>{const A=T.currentTarget.value,k=A===""?null:a(A);k===null?(o(null),typeof p>"u"&&v&&y(null)):k.isValid?o(f(k.date)):y(A)},[a,o,p,v,f]),b=re.useCallback(T=>{o(T?f(T):null)},[f,o]),_=Ms(n),C=v?a(v):p?i(p):null,S=v||(C!=null&&C.isValid?s(C.date):p);return u?c.jsx(Fi,{value:S,readOnly:!0}):c.jsx(e9n,{...g,id:r,selectTime:d,timeStep:h,placeholder:l||"e.g. ".concat(s(t9n)),ref:_,value:C==null?void 0:C.date,inputValue:S||"",readOnly:!!u,onInputChange:x,onChange:b,customValidity:C==null?void 0:C.error})});function n9n(t){return t instanceof Date&&!isNaN(t.valueOf())}const r9n="YYYY-MM-DD",i9n="HH:mm";function s9n(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dateFormat:t.dateFormat||r9n,timeFormat:t.timeFormat||i9n,timeStep:"timeStep"in t&&Number(t.timeStep)||1,calendarTodayLabel:t.calendarTodayLabel||"Today"}}function cK(t){return t.toISOString()}function o9n(t){const e=new Date(t);return n9n(e)?{isValid:!0,date:e}:{isValid:!1,error:'Invalid date value: "'.concat(t,'"')}}function a9n(t,e){if(!e||e===1)return t;const n=itn(t),r=ren(n),i=r%e;return cK(i!==0?kO(n,r-i):n)}function l9n(t){const{onChange:e,schemaType:n,value:r,elementProps:i}=t,{dateFormat:s,timeFormat:o,timeStep:a}=s9n(n.options),l=m.useCallback(f=>{let h=f;h!==null&&a>1&&(h=a9n(h,a)),e(h===null?Jt():_n(h))},[e,a]),u=re.useCallback(f=>Z9(f,"".concat(s," ").concat(o)),[s,o]),d=re.useCallback(f=>Qte(f,"".concat(s," ").concat(o)),[s,o]);return c.jsx(hZe,{...i,onChange:l,deserialize:o9n,formatInputValue:u,parseInputValue:d,placeholder:n.placeholder,selectTime:!0,serialize:cK,timeStep:a,value:r})}const kie="YYYY-MM-DD",u9n=kie;function c9n(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dateFormat:t.dateFormat||u9n,calendarTodayLabel:t.calendarTodayLabel||"Today"}}const d9n=t=>Qte(t,kie),f9n=t=>Z9(t,kie);function h9n(t){const{readOnly:e,onChange:n,schemaType:r,elementProps:i,value:s}=t,{dateFormat:o}=c9n(r.options),a=m.useCallback(d=>{n(d===null?Jt():_n(d))},[n]),l=m.useCallback(d=>Z9(d,o),[o]),u=m.useCallback(d=>Qte(d,o),[o]);return c.jsx(hZe,{...i,deserialize:d9n,formatInputValue:l,onChange:a,parseInputValue:u,placeholder:r.placeholder,readOnly:e,selectTime:!1,serialize:f9n,value:s})}var OSe=Object.freeze,p9n=Object.defineProperty,m9n=(t,e)=>OSe(p9n(t,"raw",{value:OSe(e||t.slice())})),LSe;const g9n=H(M$e)(LSe||(LSe=m9n([`
  &[data-as='textarea'] {
    resize: vertical;
  }
`])));function v9n(t){const{schemaType:e,validationError:n,value:r,elementProps:i}=t;return c.jsx(g9n,{customValidity:n,value:r||"",placeholder:e.placeholder,rows:typeof e.rows=="number"?e.rows:10,...i})}function y9n(t){var e,n;const{schemaType:r,validationError:i,elementProps:s}=t,o=rL(r,"uri"),a=(n=(e=o==null?void 0:o.constraint)==null?void 0:e.options)!=null&&n.allowRelative?"text":"url";return c.jsx(Fi,{type:a,inputMode:"url",customValidity:i,...s})}const b9n=(t,e)=>{var n;const r=(n=e.options)==null?void 0:n.maxLength;return t?EWe(t,{truncate:typeof r=="number"?r:200,symbols:!0}):""};async function x9n(t,e,n){var r;return t&&(((r=e.options)==null?void 0:r.slugify)||b9n)(t,e,n)}function w9n(t,e){const[n,r]=re.useState(null),i=re.useRef(0),s=re.useCallback(o=>{const a=++i.current;r({status:"pending"}),Promise.resolve().then(()=>t(o)).then(l=>{a===i.current&&r({status:"complete",result:l})},l=>{a===i.current&&r({status:"error",error:l})})},[t,...e]);return[n,s]}function _9n(){const{getClient:t}=Zs(),e=es(),n=Md(),r=Wie(),i=zie();return m.useMemo(()=>({projectId:r,dataset:i,getClient:t,schema:e,currentUser:n}),[t,e,n,r,i])}function C9n(t,e,n){const r=t.slice(0,-1),i=TC(e,r);return{parentPath:r,parent:i,...n}}async function E9n(t,e,n){return typeof t=="function"?t(e,n):TC(e,t)}function S9n(t){var e;const{getDocument:n}=Ml().__internal,{path:r,value:i,schemaType:s,validation:o,onChange:a,readOnly:l,elementProps:u}=t,d=(e=s.options)==null?void 0:e.source,f=m.useMemo(()=>o.filter(b=>b.level==="error"),[o]),h=_9n(),p=m.useCallback(b=>{if(!b){a(bn.from(Jt([])));return}a(bn.from([sl({_type:s.name}),_n(b,["current"])]))},[a,s.name]),[g,v]=w9n(()=>{if(!d)return Promise.reject(new Error('Source is missing. Check source on type "'.concat(s.name,'" in schema')));const b=n()||{_type:s.name},_=C9n(r,b,h);return E9n(d,b,_).then(C=>x9n(C||"",s,_)).then(C=>p(C))},[d,n,s,r,h,p]),y=(g==null?void 0:g.status)==="pending",x=re.useCallback(b=>p(b.currentTarget.value),[p]);return c.jsx(Te,{space:3,children:c.jsxs(ae,{children:[c.jsxs(N,{flex:1,children:[c.jsx(Fi,{customValidity:f.length>0?f[0].message:"",disabled:y,onChange:x,value:(i==null?void 0:i.current)||"",readOnly:l,...u}),(g==null?void 0:g.status)==="error"&&c.jsx(ge,{padding:2,tone:"critical",children:g.error.message})]}),d&&c.jsx(N,{marginLeft:1,children:c.jsx(Ce,{mode:"ghost",type:"button",disabled:l||y,onClick:v,text:(g==null?void 0:g.status)==="pending"?"Generating":"Generate"})})]})})}function T9n(t){return m.useMemo(()=>{var n;return Array.isArray((n=t.schemaType.options)==null?void 0:n.list)},[t.schemaType])?c.jsx(KKe,{...t}):bMn(t)?c.jsx(sZe,{...t}):c.jsx(aZe,{...t})}const PSe={document:RSe,object:RSe,array:T9n,boolean:C7n,number:cZe,text:v9n,email:E7n,datetime:l9n,date:h9n,url:y9n,image:bPn,file:nLn,string:uZe,slug:S9n,crossDatasetReference:WPn};function k9n(t){if(Kp("array",t))return h7n(t);if(Kp("reference",t))return vMn;if(Kp("string",t))return v7n(t);if(Kp("number",t))return b7n(t)}function A9n(t){var e;if((e=t.components)!=null&&e.input)return t.components.input;const n=k9n(t);if(n)return n;const i=pie(t,new Set).reduce((o,a)=>(o[a.name]=a,o),{}),s=Object.values(i).find(o=>PSe[o.name]);if(s)return PSe[s.name];throw new Error("Could not find input component for schema type `".concat(t.name,"`"))}function I9n(t){var e;return(e=t.components)!=null&&e.preview?t.components.preview:Cw}function Sw(t){const{componentResolver:e,componentProps:n}=t;if(!n.schemaType)throw new Error("the `schemaType` property must be defined");const r=e(n.schemaType),i=m.useCallback(s=>{var o;if(!((o=s.schemaType)!=null&&o.type))throw new Error("Attempted to render form component of non-existent parent type");const{components:a,...l}=s.schemaType,u=e(l);return m.createElement(u,s)},[e]);return m.createElement(r,{...n,renderDefault:i})}function D9n(t){return Sw({componentProps:t,componentResolver:A9n})}function R9n(t){return Sw({componentProps:t,componentResolver:M4n})}function j9n(t){return Sw({componentProps:t,componentResolver:_4n})}function O9n(t){return Sw({componentProps:t,componentResolver:I9n})}function L9n(t){return Sw({componentProps:t,componentResolver:tOn})}function P9n(t){return Sw({componentProps:t,componentResolver:nOn})}function M9n(t){return Sw({componentProps:t,componentResolver:rOn})}function $9n(t){var e,n;return(n=(e=t.form)==null?void 0:e.components)==null?void 0:n.input}function F9n(t){var e,n;return(n=(e=t.form)==null?void 0:e.components)==null?void 0:n.field}function B9n(t){var e,n;return(n=(e=t.form)==null?void 0:e.components)==null?void 0:n.preview}function N9n(t){var e,n;return(n=(e=t.form)==null?void 0:e.components)==null?void 0:n.item}function V9n(t){var e,n;return(n=(e=t.form)==null?void 0:e.components)==null?void 0:n.block}function U9n(t){var e,n;return(n=(e=t.form)==null?void 0:e.components)==null?void 0:n.inlineBlock}function H9n(t){var e,n;return(n=(e=t.form)==null?void 0:e.components)==null?void 0:n.annotation}function z9n(){return ep({defaultComponent:D9n,pick:$9n})}function W9n(){return ep({defaultComponent:R9n,pick:F9n})}function pZe(){return ep({defaultComponent:O9n,pick:B9n})}function G9n(){return ep({defaultComponent:j9n,pick:N9n})}function q9n(){return ep({defaultComponent:L9n,pick:V9n})}function Y9n(){return ep({defaultComponent:P9n,pick:U9n})}function K9n(){return ep({defaultComponent:M9n,pick:H9n})}function Tw(t){const e=pZe();return c.jsx(_qe,{...t,component:e})}const Z9n=t=>{let{asset:e,assetType:n,referringDocuments:r}=t;const i=r.length,s=i>0,o=e.originalFilename?c.jsx("strong",{children:e.originalFilename}):"this ".concat(n);return s?c.jsxs(c.Fragment,{children:[c.jsx(ge,{borderBottom:!0,marginTop:2,paddingBottom:2,marginBottom:1,children:c.jsxs(G,{as:"h2",size:[1,1,2,2],weight:"regular",textOverflow:"ellipsis",children:[i," ",i===1?"document is":"documents are"," using ",o]})}),r.map(a=>c.jsx(X9n,{document:a},a._id))]}):c.jsxs(G,{size:[1,1,2,2],as:"h2",weight:"regular",children:["No documents are using ",o]})},X9n=t=>{let{document:e}=t;const n=es(),r=m.useCallback(i=>c.jsx(D0,{...i,params:{id:e._id,type:e._type},intent:"edit"}),[e]);return c.jsx(ge,{as:r,paddingY:2,paddingX:1,radius:2,"data-as":"a",tabIndex:0,children:c.jsx(ae,{align:"center",gap:2,children:c.jsx(Tw,{layout:"default",value:{_type:"reference",_ref:e._id},schemaType:n.get(e._type)})})},e._id)},MSe={maxWidth:"100%",height:"120px",objectFit:"contain",objectPosition:"center"},$Se={gridColumn:"span 1",overflow:"hidden",display:"flex",alignSelf:"center",justifyContent:"center"},FSe={height:"100%"},Q9n=t=>{let{asset:e,assetType:n,hasResults:r=!1}=t;const i=n==="image",s=e.originalFilename?c.jsxs(c.Fragment,{children:["The ",n," ",c.jsx("strong",{children:e.originalFilename})]}):"this ".concat(n);return r?c.jsx(ge,{tone:"caution",padding:[3,3,4],border:!0,radius:2,marginBottom:3,children:c.jsxs(Er,{columns:3,gap:[2,3,4],children:[c.jsxs(ae,{gap:[3,4],align:"center",style:{gridColumn:i?"span 2":"span 3"},children:[c.jsx(G,{children:c.jsx(vo,{})}),c.jsxs(G,{size:1,children:[s," cannot be deleted because it's being used. In order to delete the ",n," you need the remove all uses of it."]})]}),i&&c.jsx(ge,{__unstable_checkered:!0,border:!0,radius:1,style:$Se,children:c.jsx(ae,{align:"center",justify:"center",style:FSe,children:c.jsx("img",{src:"".concat(e.url,"?w=200"),style:MSe,alt:"Preview of image",referrerPolicy:"strict-origin-when-cross-origin"})})})]})}):c.jsx(ge,{paddingX:[2,3,4],paddingY:[3,3,3,4],children:c.jsxs(Er,{columns:3,gap:3,children:[c.jsx(ae,{style:{gridColumn:i?"span 2":"span 3"},align:"center",children:c.jsxs(G,{children:["You are about to delete the ",n,e.originalFilename&&c.jsxs(c.Fragment,{children:[" ",c.jsx("strong",{children:e.originalFilename})]})," ","and its metadata.",c.jsx("br",{}),c.jsx("br",{}),"Are you sure?"]})}),i&&c.jsx(ge,{__unstable_checkered:!0,border:!0,radius:1,style:$Se,children:c.jsx(ae,{align:"center",justify:"center",style:FSe,children:c.jsx("img",{src:"".concat(e.url,"?w=200"),style:MSe,alt:"Preview of image",referrerPolicy:"strict-origin-when-cross-origin"})})})]})})},jH="confirmDelete",OH="listUsage";function dK(t){let{asset:e,assetType:n="image",mode:r=OH,isDeleting:i=!1,onClose:s,onDelete:o}=t;const{isLoading:a,referringDocuments:l}=bqe(e._id),d=r===OH?"Documents using ".concat(n):"Delete ".concat(n),[f,h]=m.useState(!1),[p,g]=m.useState(!0),[v,y]=m.useState([]),x=r===jH,b=v.length>0,_=r===OH||b,C=r===jH&&!b,S=x?c.jsxs(Er,{padding:2,gap:2,columns:2,children:[c.jsx(Ce,{mode:"bleed",text:"Cancel",onClick:s}),c.jsx(Ce,{text:"Delete",tone:"critical",icon:Qo,onClick:o,loading:i,disabled:!f})]}):void 0;return m.useEffect(()=>{const T=l.reduce((k,I)=>I._id.startsWith("drafts.")?k.concat(I._id.slice(7)):k,[]),A=l.filter(k=>!T.includes(k._id));y(A),h(A.length===0&&!a),g(a)},[a,l]),c.jsxs(pa,{__unstable_autoFocus:!p,footer:S,header:d,id:"asset-dialog",onClickOutside:s,onClose:s,width:1,children:[p&&c.jsx(N,{padding:4,children:c.jsx(vEn,{text:"Loading..."})}),!p&&c.jsxs(Te,{paddingX:C?0:[2,3,4],paddingY:C?0:[3,3,3,4],space:1,children:[r===jH&&c.jsx(Q9n,{asset:e,assetType:n,hasResults:b}),_&&c.jsx(Z9n,{asset:e,referringDocuments:v,assetType:n})]})]})}function mZe(t){let{isSelected:e,border:n=!0,onAction:r}=t;const i=e?"default":"bleed",s=e?"primary":"default";return c.jsx(vr,{button:c.jsx(Ce,{padding:2,mode:n?"ghost":i,icon:ll,tone:n?"default":s}),id:"asset-menu",portal:!0,menu:c.jsxs(er,{children:[c.jsx(St,{text:"Show uses",icon:Lx,onClick:()=>{r({type:"showUsage"})}}),c.jsx(St,{text:"Delete",icon:Qo,tone:"critical",onClick:()=>{r({type:"delete"})}})]}),placement:"right"})}var BSe=Object.freeze,J9n=Object.defineProperty,K$=(t,e)=>BSe(J9n(t,"raw",{value:BSe(e||t.slice())})),NSe,VSe,USe,HSe;const e$n=typeof window>"u"||!window.devicePixelRatio?1:Math.round(window.devicePixelRatio),t$n=H.img(NSe||(NSe=K$([`
  position: absolute;
  z-index: 1;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`]))),n$n=H(ge)(VSe||(VSe=K$([`
  position: relative;
  z-index: 1;
  padding-bottom: 100%;
`]))),fK=H.div(USe||(USe=K$([`
  position: relative;
  display: inherit;
`]))),r$n=H.div(HSe||(HSe=K$([`
  box-sizing: border-box;
  position: absolute;
  z-index: 2;
  top: 3px;
  right: 3px;

  & button[data-selected] {
    display: block;
  }

  @media (hover: hover) {
    // If hover is supported, hide the buttons until the user hovers or focuses the asset
    // Use opacity to enable the buttons to still be focusable
    & button {
      opacity: 0;
    }

    `,`:hover & {
      button {
        opacity: 1;
      }
    }

    `,`:focus-within & {
      button {
        opacity: 1;
      }
    }
  }
`])),fK,fK),i$n=re.memo(function(e){const n=Cs(us),r=Na(),i=m.useRef(),{asset:s,onClick:o,onKeyPress:a,onDeleteFinished:l,isSelected:u}=e,[d,f]=m.useState(!1),[h,p]=m.useState(!1),[g,v]=m.useState(!1);m.useEffect(()=>()=>{i.current&&i.current.unsubscribe()},[]);const y=m.useCallback(()=>{p(!0)},[p]),x=m.useCallback(()=>{f(!1),p(!1)},[f,p]),b=m.useCallback(()=>{f(!0)},[f]),_=m.useCallback(O=>{r.push({closable:!0,status:"error",title:"Image could not be deleted",description:O.message})},[r]),C=m.useCallback(()=>{r.push({status:"success",title:"Image was deleted"})},[r]),S=m.useCallback(()=>{v(!0),i.current=n.observable.delete(s._id).subscribe({next:()=>{v(!1),l(s._id),p(!1),C()},error:O=>{v(!1),_(O),console.error("Could not delete asset",O)}})},[s._id,_,C,l,n.observable]),T=m.useCallback(O=>{O.type==="delete"&&y(),O.type==="showUsage"&&b()},[y,b]),{originalFilename:A,_id:k,url:I}=s,D=200*Math.max(1,e$n),R=I.includes(".gif")?"".concat(I,"?h=").concat(D,"&fit=max&fm=jpg"):"".concat(I,"?h=").concat(D,"&fit=max");return c.jsxs(fK,{children:[c.jsx(Ce,{tone:"primary",selected:u,tabIndex:0,"data-id":k,mode:"ghost",onKeyPress:a,padding:0,style:{padding:2},children:c.jsxs(n$n,{__unstable_checkered:!0,children:[c.jsx(t$n,{alt:A,src:R,onClick:o,"data-id":k}),g&&c.jsx(gEn,{})]})}),c.jsx(r$n,{children:c.jsx(mZe,{isSelected:u,onAction:T})}),(d||h)&&c.jsx(dK,{asset:s,mode:h?"confirmDelete":"listUsage",onClose:x,onDelete:S,isDeleting:g})]})}),s$n=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],o$n=["B","kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],a$n=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],l$n=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],zSe=(t,e,n)=>{let r=t;return typeof e=="string"||Array.isArray(e)?r=t.toLocaleString(e,n):(e===!0||n!==void 0)&&(r=t.toLocaleString(void 0,n)),r};function u$n(t){let{bits:e=!1,binary:n=!1,signed:r=!1,minimumFractionDigits:i,maximumFractionDigits:s,locale:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=t;if(!Number.isFinite(a))throw new TypeError("Expected a finite number, got ".concat(typeof a,": ").concat(a));const l=e?n?l$n:a$n:n?o$n:s$n;if(r&&a===0)return" 0 ".concat(l[0]);const u=a<0,d=u?"-":r?"+":"";u&&(a=-a);let f;if(i!==void 0&&(f={minimumFractionDigits:i}),s!==void 0&&(f={maximumFractionDigits:s,...f}),a<1){const v=zSe(a,o,f);return"".concat(d+v," ").concat(l[0])}const h=Math.min(Math.floor(n?Math.log(a)/Math.log(1024):Math.log10(a)/3),l.length-1);a/=(n?1024:1e3)**h,f||(a=a.toPrecision(3));const p=zSe(Number(a),o,f),g=l[h];return"".concat(d+p," ").concat(g)}const LH={"image/bmp":{title:"Bitmap Image"},"image/jpeg":{title:"JPEG Image"},"image/gif":{title:"GIF Image"},"image/vnd.microsoft.icon":{title:"Icon"},"image/png":{title:"PNG Image"},"image/svg+xml":{title:"SVG Image"},"image/webp":{title:"WebP Image"},"image/tiff":{title:"TIFF Image"},"image/heic":{title:"HEIC Image"},"audio/midi":{title:"MIDI Audio"},"audio/midi-x":{title:"MIDI Audio"},"audio/mpeg":{title:"MP3 Audio"},"audio/ogg":{title:"OGG Audio"},"audio/wav":{title:"WAV Audio"},"audio/webm":{title:"WebM Audio"},"audio/aac":{title:"AAC Audio"},"video/x-msvideo":{title:"AVI Video"},"video/mp4":{title:"MP4 Video"},"video/mpeg":{title:"MPEG Video"},"video/ogg":{title:"OGG Video"},"video/webm":{title:"WebM Video"},"video/quicktime":{title:"QuickTime Video"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{title:"Excel Spreadsheet"},"application/vnd.ms-excel":{title:"Excel Spreadsheet"},"text/plain":{title:"Text"},"text/javascript":{title:"JavaScript"},"text/markdown":{title:"Markdown"},"text/csv":{title:"CSV"},"text/css":{title:"CSS"},"application/pdf":{title:"PDF Document"},"application/xml":{title:"XML Document"},"text/xml":{title:"XML Document"},"application/zip":{title:"ZIP Archive"},"application/vnd.rar":{title:"RAR Archive"},"application/x-7z-compressed":{title:"7-zip Archive"},"application/octet-stream":{title:"Binary"}};function c$n(t){const e=t.replace("x-","").split("/")[1];return e.charAt(0).toUpperCase()+e.slice(1)}function d$n(t){return LH!=null&&LH[t]?LH[t].title:c$n(t)}var WSe=Object.freeze,f$n=Object.defineProperty,Yg=(t,e)=>WSe(f$n(t,"raw",{value:WSe(e||t.slice())})),GSe,qSe,YSe,KSe,ZSe,XSe,QSe,JSe,eTe;const hK=H.span(GSe||(GSe=Yg([`
  background-color: transparent;
  flex-shrink: 0;
`]))),q2=H(ae)(qSe||(qSe=Yg([""]))),h$n=H(G)(YSe||(YSe=Yg([""]))),p$n=H(ge)(ZSe||(ZSe=Yg([`
  &:hover-within `,` {
    --card-muted-fg-color: var(--card-muted-fg-color);
    --card-fg-color: var(--card-fg-color);
  }

  `,`
`])),h$n,t=>t.isSelected&&qe(KSe||(KSe=Yg([`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);
    `])))),tTe=H(Ce)(JSe||(JSe=Yg([`
  box-shadow: none;
  min-width: 0;
  cursor: pointer;
  position: initial;

  &:before,
  &:after {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    z-index: 2;
  }

  &:before {
    z-index: 0;
    pointer-events: none;
    border-radius: 0.1875rem;
  }

  `,`

  `,`
`])),t=>t.isSelected&&qe(XSe||(XSe=Yg([`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);

      &:before {
        background-color: var(--card-focus-ring-color);
      }

      `,` {
        --card-muted-fg-color: var(--card-bg-color);
      }

      `,` {
        --card-muted-fg-color: var(--card-bg-color);
        --card-fg-color: var(--card-bg-color);
      }
    `])),hK,q2),t=>!t.isSelected&&qe(QSe||(QSe=Yg([`
      &:hover:before {
        background-color: var(--card-bg-color);
      }

      &:focus:before {
        background-color: var(--card-code-bg-color);
      }

      &:focus-within:before {
        background-color: var(--card-bg-color);
      }
    `])))),m$n=H(G)(eTe||(eTe=Yg([`
  overflow-wrap: anywhere;
`]))),nTe={position:"relative"},rTe={flexShrink:0},PH={minWidth:0},iTe={zIndex:3,marginTop:"-0.5rem",marginBottom:"-0.5rem"},g$n="Cannot delete current file",v$n=t=>{const e=Cs(us),n=Na(),r=m.useRef(),[i,s]=m.useState(!1),[o,a]=m.useState(!1),[l,u]=m.useState(!1),[d,f]=m.useState(!1),{asset:h,onClick:p,onKeyPress:g,onDeleteFinished:v,isSelected:y,isMobile:x}=t,{originalFilename:b,_id:_,mimeType:C,size:S,_createdAt:T}=h,A=sF(T,{agoSuffix:!0}),k=d$n(C),I=u$n(S),D=(b||"").length>37,R=()=>{a(!0)},O=Z=>{n.push({closable:!0,status:"error",title:"File could not be deleted",description:Z.message})},L=()=>{n.push({status:"success",title:"File was deleted"})},P=()=>{u(!0),r.current=e.observable.delete(h._id).subscribe({next:()=>{u(!1),v==null||v(h._id),a(!1),L()},error:Z=>{u(!1),O(Z),console.error("Could not delete asset",Z)}})},$=()=>{s(!1),a(!1)},B=()=>{s(!0)},Q=()=>{f(!d)},V=Z=>{Z.type==="delete"&&R(),Z.type==="showUsage"&&B()};return x?c.jsxs(ge,{paddingBottom:2,style:nTe,children:[c.jsxs(Er,{columns:4,gap:1,style:{position:"relative",gridTemplateColumns:"1fr 30px",opacity:l?.5:1},children:[c.jsx(tTe,{asset:h,mode:"bleed",padding:0,"data-id":_,onClick:p,paddingY:1,children:c.jsxs(ae,{gap:2,flex:2,align:"center",children:[c.jsx(ge,{as:hK,padding:2,tone:"transparent",radius:2,children:c.jsx(G,{muted:!0,size:2,style:rTe,children:c.jsx(Rv,{})})}),c.jsx(G,{size:1,align:"left",textOverflow:"ellipsis",style:PH,children:b})]})}),c.jsx(ae,{justify:"flex-end",align:"center",paddingRight:1,style:iTe,children:c.jsx(Ce,{mode:"bleed",fontSize:1,padding:2,onClick:Q,icon:d?gMe:_0})})]}),d&&c.jsxs(c.Fragment,{children:[c.jsxs(Er,{marginTop:3,columns:3,gap:1,children:[c.jsxs(Te,{space:2,children:[c.jsx(jn,{size:1,muted:!0,children:"Size"}),c.jsx(G,{size:1,muted:!0,children:I})]}),c.jsxs(Te,{space:2,children:[c.jsx(jn,{size:1,muted:!0,children:"Type"}),c.jsx(G,{size:1,muted:!0,children:k})]}),c.jsxs(Te,{space:2,children:[c.jsx(jn,{size:1,muted:!0,children:"Date added"}),c.jsx(G,{size:1,muted:!0,children:A})]})]}),c.jsxs(Te,{space:2,marginTop:3,children:[c.jsx(Ce,{fontSize:1,tone:"default",mode:"ghost",text:"Show uses",onClick:B,icon:Lx}),c.jsx(Ce,{fontSize:1,tone:"critical",mode:"ghost",text:"Delete",icon:Qo,disabled:y,title:y?g$n:"Delete file",onClick:R})]})]}),(i||o)&&c.jsx(dK,{assetType:"file",asset:h,mode:o?"confirmDelete":"listUsage",onClose:$,onDelete:P,isDeleting:l})]}):c.jsxs(p$n,{asset:h,paddingBottom:1,style:nTe,radius:0,overflow:"hidden",isSelected:y,"aria-selected":"true",children:[c.jsxs(Er,{columns:4,gap:1,"data-id":_,paddingY:1,style:{position:"relative",gridTemplateColumns:"3fr 1fr 1fr 2fr 30px",opacity:l?.5:1},children:[c.jsx(tTe,{asset:h,mode:"bleed","data-id":_,onClick:p,padding:0,onKeyPress:g,title:"Select the file ".concat(b),isSelected:y,children:c.jsxs(q2,{gap:2,flex:2,paddingRight:1,align:"center",onClick:p,onKeyPress:g,"data-id":_,title:"Select the file ".concat(b),children:[c.jsx(ge,{as:hK,padding:2,tone:"transparent",radius:2,style:rTe,children:c.jsx(G,{muted:!0,size:2,children:c.jsx(Rv,{})})}),D&&c.jsx(Mn,{content:c.jsx(N,{padding:2,children:c.jsx(G,{size:1,children:b})}),fallbackPlacements:["right","left"],placement:"top",portal:!0,children:c.jsx(G,{size:1,align:"left",textOverflow:"ellipsis",style:PH,children:b})}),!D&&c.jsx(G,{size:1,align:"left",textOverflow:"ellipsis",style:PH,children:b})]})}),c.jsx(q2,{align:"center",children:c.jsx(G,{size:1,muted:!0,children:I})}),c.jsx(q2,{align:"center",children:c.jsx(N,{children:c.jsx(m$n,{size:1,muted:!0,textOverflow:"ellipsis",children:k})})}),c.jsx(q2,{align:"center",children:c.jsx(G,{as:"time",size:1,muted:!0,dateTime:T,children:A})}),c.jsx(q2,{justify:"flex-end",align:"center",paddingX:1,paddingY:1,style:iTe,children:c.jsx(mZe,{border:!1,isSelected:!1,onAction:V})})]}),(i||o)&&c.jsx(dK,{assetType:"file",asset:h,mode:o?"confirmDelete":"listUsage",onClose:$,onDelete:P,isDeleting:l})]})},y$n={paddingLeft:"2.2rem"},sTe={gridTemplateColumns:"3fr 1fr 1fr 2fr 30px"};function b$n(t){const n=T0()<2,{assets:r,onClick:i,onKeyPress:s,onDeleteFinished:o,selectedAssets:a,isLoading:l}=t;return c.jsxs(N,{padding:4,children:[c.jsx(ge,{borderBottom:!0,paddingBottom:2,marginBottom:1,children:n?c.jsx(Er,{style:sTe,children:c.jsx(N,{flex:2,paddingLeft:5,children:c.jsx(jn,{muted:!0,size:1,children:"Filename"})})}):c.jsxs(Er,{gap:1,style:sTe,children:[c.jsx(N,{flex:2,style:y$n,children:c.jsx(jn,{muted:!0,size:1,children:"Filename"})}),c.jsx(N,{flex:1,children:c.jsx(jn,{muted:!0,size:1,children:"Size"})}),c.jsx(N,{flex:1,children:c.jsx(jn,{muted:!0,size:1,children:"Type"})}),c.jsx(N,{flex:1,children:c.jsx(jn,{muted:!0,size:1,children:"Date added"})})]})}),c.jsxs(Te,{children:[l&&r.length===0&&c.jsx(N,{paddingTop:4,paddingBottom:2,children:c.jsx(ae,{justify:"center",children:c.jsx(_s,{muted:!0})})}),r.map(u=>c.jsx(v$n,{asset:u,isMobile:n,isSelected:a.some(d=>d._id===u._id),onClick:i,onKeyPress:s,onDeleteFinished:o},u._id))]})]})}var oTe=Object.freeze,x$n=Object.defineProperty,gZe=(t,e)=>oTe(x$n(t,"raw",{value:oTe(e||t.slice())})),aTe,lTe;const iL=200,vZe="sanity.imageAsset",w$n="sanity.fileAsset",_$n=t=>{const e=["image/*","audio/*","video/*"],r=t.split(",").map(i=>i.trim()).reduce((i,s)=>e.includes(s)?{...i,wildcards:"mimeType match '".concat(s,"' || ").concat(i.wildcards)}:s.indexOf(".")===0?{...i,extensions:"'".concat(s.replace(".",""),"', ").concat(i.extensions)}:{...i,mimes:"'".concat(s,"', ").concat(i.mimes)},{mimes:"",extensions:"",wildcards:""});return`&&
  (
    `.concat(r.wildcards,` 
    extension in [`).concat(r.extensions,`] ||
    mimeType in [`).concat(r.mimes,`]
  )`)},C$n=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iL,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:vZe,r=arguments.length>3?arguments[3]:void 0;const s=r.length>0?_$n(r):"";return`
  *[_type == "`.concat(n,'" ').concat(s,"] | order(_updatedAt desc) [").concat(t,"...").concat(e,`] {
    _id,
    _updatedAt,
    _createdAt,
    url,
    originalFilename,
    mimeType,
    extension,
    size,
    metadata {dimensions}
  }
`)},E$n=H(Er)(aTe||(aTe=gZe([`
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
`]))),S$n=H(ge)(lTe||(lTe=gZe([`
  border-top: 1px solid var(--card-border-color);
  position: sticky;
  bottom: 0;
  z-index: 200;
`]))),T$n=function(e,n){const r=Cs(us),i=m.useMemo(()=>r.withConfig({apiVersion:"2023-02-14"}),[r]),s=m.useRef("default-asset-source-".concat(hUe())),o=m.useRef(0),a=m.useRef(),[l,u]=m.useState([]),[d,f]=m.useState(!1),[h,p]=m.useState(!1),[g,v]=m.useState(!0),{selectedAssets:y,assetType:x="image",dialogHeaderTitle:b="Select image",onClose:_,onSelect:C,accept:S}=e,T=S?S.split(",").map(V=>V.trim()).join(", "):"",A=!g&&S&&S.length>0,k=S&&S==="image/*"&&x==="image",I=m.useCallback(V=>{const Z=V*iL,ie=Z+iL,J=x==="image",X=J?"asset.image-list":"asset.file-list",fe=J?vZe:w$n;v(!0),typeof S<"u"&&(a.current=i.observable.fetch(C$n(Z,ie,fe,S),{},{tag:X}).subscribe(ue=>{f(ue.length<iL),u(te=>te.concat(ue)),v(!1)}))},[x,S,i]),D=m.useCallback(V=>{u(Z=>Z.filter(ie=>ie._id!==V))},[u]),R=m.useCallback(V=>{l.find(ie=>ie._id===V)&&C([{kind:"assetDocumentId",value:V}])},[l,C]),O=m.useCallback(V=>{V.preventDefault(),R(V.currentTarget.getAttribute("data-id"))},[R]),L=m.useCallback(V=>{V.key==="Enter"&&(V.preventDefault(),R(V.currentTarget.getAttribute("data-id")))},[R]),P=m.useCallback(()=>{_&&_()},[_]),$=m.useCallback(V=>{V.preventDefault(),I(++o.current)},[I]);m.useEffect(()=>(I(o.current),()=>{a.current&&a.current.unsubscribe()}),[I]),m.useEffect(()=>{!g&&(!o.current||o.current===0)&&p(!0)},[g]);const B=m.useMemo(()=>c.jsxs(N,{padding:4,children:[c.jsx(E$n,{gap:2,children:l.map(V=>c.jsx(i$n,{asset:V,isSelected:y.some(Z=>Z._id===V._id),onClick:O,onKeyPress:L,onDeleteFinished:D},V._id))}),g&&l.length===0&&c.jsx(ae,{justify:"center",children:c.jsx(_s,{muted:!0})}),!g&&l.length===0&&c.jsx(G,{align:"center",muted:!0,children:"No images"})]}),[l,D,O,L,g,y]),Q=m.useMemo(()=>c.jsx(b$n,{isLoading:g,assets:l,selectedAssets:y,onClick:O,onKeyPress:L,onDeleteFinished:D}),[g,l,y,O,L,D]);return c.jsxs(pa,{__unstable_autoFocus:h,header:b,id:s.current,onClickOutside:P,onClose:P,ref:n,width:2,children:[A&&!k&&c.jsx(ge,{tone:"primary",marginTop:4,marginX:4,padding:[3,3,4],border:!0,radius:2,children:c.jsxs(ae,{gap:[3,4],align:"center",children:[c.jsx(G,{children:c.jsx(rw,{})}),c.jsxs(G,{size:1,children:["Only showing assets of accepted types: ",c.jsx("b",{children:T})]})]})}),x==="image"&&B,x==="file"&&Q,l.length>0&&!d&&c.jsx(S$n,{tone:"default",padding:4,children:c.jsx(ae,{direction:"column",children:c.jsx(Ce,{type:"button",icon:sQ,loading:g,onClick:$,text:"Load more",tone:"primary"})})})]})},yZe=re.memo(re.forwardRef(T$n)),bZe={name:"sanity-default",title:"Uploaded files",component:yZe,icon:iQ},xZe={name:"sanity-default",title:"Uploaded images",component:yZe,icon:Mh};function k$n(t){return t.reduce((e,n)=>(e[n.name]=n,e),{})}function Sy(t,e){return t[e]}function A$n(t){return t.reduce((e,n)=>(n.type==="field"&&e.push(n.fieldType),e),[])}const I$n=[{fieldPath:"_updatedAt",icon:U1,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Updated at",name:"updatedAt",type:"pinned"},{fieldPath:"_createdAt",icon:U1,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Created at",name:"createdAt",type:"pinned"},{icon:Lx,operators:[{name:"referencesDocument",type:"item"},{name:"referencesAssetImage",type:"item"},{name:"referencesAssetFile",type:"item"}],title:"Contains document, image or file",name:"references",type:"pinned"},{fieldType:"array",icon:rk,name:"array",operators:[{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:rk,name:"arrayList",operators:[{name:"arrayListIncludes",type:"item"},{name:"arrayListNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:rk,name:"arrayReferences",operators:[{name:"arrayReferenceIncludes",type:"item"},{name:"arrayReferenceNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"boolean",icon:tQ,name:"boolean",operators:[{name:"booleanEqual",type:"item"},{type:"divider"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"date",icon:U1,name:"date",operators:[{name:"dateLast",type:"item"},{type:"divider"},{name:"dateRange",type:"item"},{name:"dateAfter",type:"item"},{name:"dateBefore",type:"item"},{type:"divider"},{name:"dateEqual",type:"item"},{name:"dateNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"datetime",icon:U1,name:"datetime",operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"email",icon:O2,name:"email",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"file",icon:Rv,name:"file",operators:[{name:"assetFileEqual",type:"item"},{name:"assetFileNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"image",icon:Mh,name:"image",operators:[{name:"assetImageEqual",type:"item"},{name:"assetImageNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"number",icon:jMe,name:"number",operators:[{name:"numberEqual",type:"item"},{name:"numberNotEqual",type:"item"},{type:"divider"},{name:"numberGt",type:"item"},{name:"numberGte",type:"item"},{name:"numberLt",type:"item"},{name:"numberLte",type:"item"},{type:"divider"},{name:"numberRange",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"array",icon:hMe,name:"portableText",operators:[{name:"portableTextMatches",type:"item"},{name:"portableTextNotMatches",type:"item"},{type:"divider"},{name:"portableTextEqual",type:"item"},{name:"portableTextNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"reference",icon:Lx,name:"reference",operators:[{name:"referenceEqual",type:"item"},{name:"referenceNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"slug",icon:O2,name:"slug",operators:[{name:"slugMatches",type:"item"},{name:"slugNotMatches",type:"item"},{type:"divider"},{name:"slugEqual",type:"item"},{name:"slugNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:O2,name:"string",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:C0,name:"stringList",operators:[{name:"stringListEqual",type:"item"},{name:"stringListNotEqual",type:"item"},{type:"divider"},{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"text",icon:O2,name:"text",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"url",icon:O2,name:"url",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"}];function D$n(t){let{documentId:e,schemaType:n}=t;const r=Yc(),{draft:i,published:s,isLoading:o}=Va(()=>_$(r,n,e,""),[e,r,n]),a=m.useMemo(()=>({_id:e,_type:n.name}),[e,n.name]),l=C$({draft:i,published:s,value:a});return o?c.jsx(NC,{animated:!0,marginLeft:1,radius:2,style:{width:"10ch",height:"1em"}}):c.jsx(c.Fragment,{children:l.title||e.slice(0,8)})}const R6="yyyy-MM-dd";function R$n(t){let{value:e}=t;return c.jsx(c.Fragment,{children:e?"True":"False"})}function uTe(t){let{value:e}=t;const n=e!=null&&e.date?new Date(e.date):null;return!n||!i0(n)?null:c.jsx(c.Fragment,{children:Ja(n,R6)})}function cTe(t){let{value:e}=t;const n=e!=null&&e.date?new Date(e.date):null;return!n||!i0(n)?null:c.jsx(c.Fragment,{children:Ja(n,R6)})}function j$n(t){let{value:e}=t;var n;return c.jsxs(c.Fragment,{children:[Math.floor((n=e==null?void 0:e.unitValue)!=null?n:0)," ",e.unit]})}function dTe(t){let{value:e}=t;const n=e!=null&&e.dateMin?new Date(e.dateMin):null,r=e!=null&&e.dateMax?new Date(e.dateMax):null;return!r||!n||!i0(r)||!i0(n)?null:c.jsxs(c.Fragment,{children:[Ja(n,R6),"  ",Ja(r,R6)]})}function v2(t){let{value:e}=t;return c.jsx(c.Fragment,{children:e})}function y2(t){let{value:e}=t;return c.jsxs(c.Fragment,{children:[e," ",Do("item",e)]})}function O$n(t){let{value:e}=t;return c.jsxs(c.Fragment,{children:[e.min,"  ",e.max]})}function L$n(t){let{value:e}=t;return c.jsxs(c.Fragment,{children:[e.min,"  ",e.max," items"]})}function xh(t){let{value:e}=t;const n=es(),r=e._ref,i=n.get(e._type);return i?c.jsx(D$n,{documentId:r,schemaType:i}):null}function cu(t){let{value:e}=t;return c.jsx(c.Fragment,{children:e})}const wZe=m.createContext(void 0);function yr(){const t=m.useContext(wZe);if(t===void 0)throw new Error("useSearchState must be used within an SearchProvider");return t}function gf(t){let{value:e,onChange:n}=t;const[r,i]=m.useState(e??""),{state:{fullscreen:s}}=yr(),o=m.useCallback(a=>{i(a.currentTarget.value);const l=parseFloat(a.currentTarget.value);n(Number.isFinite(l)?l:null)},[n]);return c.jsx(Fi,{fontSize:s?2:1,onChange:o,placeholder:"Value",radius:2,step:"any",type:"number",value:r})}function _Ze(t){let{onChange:e,value:n}=t;var r,i;const[s,o]=m.useState((r=n==null?void 0:n.max)!=null?r:""),[a,l]=m.useState((i=n==null?void 0:n.min)!=null?i:""),{state:{fullscreen:u}}=yr(),d=m.useCallback(h=>{var p;o(h.currentTarget.value);const g=parseFloat(h.currentTarget.value);e({max:Number.isFinite(g)?g:null,min:(p=n==null?void 0:n.min)!=null?p:null})},[n==null?void 0:n.min,e]),f=m.useCallback(h=>{var p;l(h.currentTarget.value);const g=parseFloat(h.currentTarget.value);e({max:(p=n==null?void 0:n.max)!=null?p:null,min:Number.isFinite(g)?g:null})},[n==null?void 0:n.max,e]);return c.jsxs(ae,{gap:2,children:[c.jsx(N,{flex:1,children:c.jsx(Fi,{fontSize:u?2:1,onChange:f,placeholder:"Min value",radius:2,step:"any",type:"number",value:a})}),c.jsx(N,{flex:1,children:c.jsx(Fi,{fontSize:u?2:1,onChange:d,placeholder:"Max value",radius:2,step:"any",type:"number",value:s})})]})}function Z$(t,e){const n=e.split("."),r=n[0];if(r&&Yh(t)){const i=t.fields.find(s=>s.name===r);if(i){const s=n.slice(1).join(".");return s?Z$(i.type,s):i}}}var fTe=Object.freeze,P$n=Object.defineProperty,CZe=(t,e)=>fTe(P$n(t,"raw",{value:fTe(e||t.slice())})),hTe,pTe;const M$n=H(N)(hTe||(hTe=CZe([`
  @supports (-webkit-overflow-scrolling: touch) {
    * [data-ui='Box'] {
      background-attachment: scroll;
    }
  }
`]))),$$n=H(jn)(pTe||(pTe=CZe([`
  max-width: 150px;
`])));function F$n(t){let{documentId:e,presence:n,schemaType:r}=t;const i=Yc(),{draft:s,published:o,isLoading:a}=Va(()=>_$(i,r,e,""),[e,i,r]),l=m.useMemo(()=>({_id:e,_type:r.name}),[e,r.name]),u=m.useMemo(()=>a?null:c.jsxs(cn,{space:3,children:[n&&n.length>0&&c.jsx(R$,{presence:n}),c.jsx($$n,{size:0,muted:!0,textOverflow:"ellipsis",children:r.title})]}),[a,n,r.title]);return c.jsx(M$n,{children:c.jsx(Cw,{...C$({draft:s,published:o,value:l}),isPlaceholder:a??!0,layout:"default",icon:r.icon,status:u})})}function Aie(t){let{compact:e,disableIntentLink:n,documentId:r,documentType:i,onClick:s,...o}=t;const l=es().get(i),u=uF(r),d=m.useMemo(()=>({id:r,type:l==null?void 0:l.name}),[r,l==null?void 0:l.name]),{onClick:f,href:h}=QC({intent:"edit",params:d}),p=m.useCallback(g=>{n||f(g),s==null||s()},[n,s,f]);return l?c.jsx(N,{...o,children:c.jsx(Sx,{as:"a","data-as":"a",flex:1,href:n?void 0:h,onClick:p,padding:e?1:2,radius:2,tabIndex:-1,children:c.jsx(F$n,{documentId:r,presence:u,schemaType:l})})}):null}const B$n=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),N$n="_debug_search_score",EZe=!1,mTe=1e3,SZe="k",V$n=B$n?"Cmd":"Ctrl",u3=qi.space[1],U$n=735,TZe=800,JI=5,_E=2;function X$(t){let{allowEmptyQueries:e,terms:n}=t;const r=e?!0:n.query.length>0,i=!!n.filter,s=n.types.length>0;return r||i||s}function H$n(t,e){return Q$(t).filter(n=>z$n(n,e)).sort(pK)}function Q$(t){return SSn(t).filter(e=>e.__experimental_omnisearch_visibility!==!1)}function pK(t,e){var n,r;return((n=t.title)!=null?n:t.name).localeCompare((r=e.title)!=null?r:e.name)}function z$n(t,e){var n;return!e||((n=t.title)!=null?n:t.name).toLowerCase().includes(e==null?void 0:e.toLowerCase())}const W$n=300,MH={error:null,hits:[],loading:!1,terms:{query:"",types:[]}};function G$n(t){return t!==null}function q$n(t){var e;return{...t,terms:{...t.terms,filter:(e=t.terms.filter)==null?void 0:e.trim(),query:t.terms.query.trim()}}}function kZe(t){let{allowEmptyQueries:e,initialState:n,onComplete:r,onError:i,onStart:s,schema:o}=t;const[a,l]=m.useState(n),u=Cs(us),d=m.useMemo(()=>Lre(Q$(o),u,{tag:"search.global",unique:!0}),[u,o]),f=vee(p=>p.pipe(dt(G$n),Be(q$n),Xi(Ur),CFe(g=>gu((g==null?void 0:g.debounceTime)||W$n)),Ei(s),Kt(g=>go(Re({...MH,loading:!0,options:g.options,terms:g.terms}),yFe(()=>X$({allowEmptyQueries:e,terms:g.terms}),d(g.terms,g.options).pipe(Be(v=>({hits:v})),Ei(v=>{let{hits:y}=v;return r==null?void 0:r(y)}),Or(v=>(i==null||i(v),Re({...MH,error:v,loading:!1,options:g.options,terms:g.terms})))),Re(as).pipe(Ei(()=>r==null?void 0:r([])))),Re({loading:!1}))),Pf((g,v)=>({...g,...v}),MH),Ei(l)),[e,d]);return{handleSearch:m.useCallback(p=>f(p),[f]),searchState:a}}const Y$n=40;function Iie(t){let{availableCharacters:e=Y$n,types:n}=t;const r=n.reduce(function(){let s=e;return function(o,a,l){const u=gTe(a);return s-=u.length,(l===0||e>u.length&&s>u.length)&&o.push(a),o}}(),[]),i=n.length-r.length;return n.length?["".concat(r.map(gTe).join(", ")),...i?["+".concat(i," more")]:[]].join(" "):"All types"}function gTe(t){var e;return(e=t.title)!=null?e:t.name}var vTe=Object.freeze,K$n=Object.defineProperty,Z$n=(t,e)=>vTe(K$n(t,"raw",{value:vTe(e||t.slice())})),yTe;const X$n=()=>!0,Q$n=H(G)(yTe||(yTe=Z$n([`
  word-break: break-word;
`]))),J$n=m.forwardRef(function(e,n){let{onSelect:r,types:i=[],value:s}=e;const o=m.useRef(null),a=es(),{state:{fullscreen:l}}=yr(),u=m.useId(),[d,f]=m.useState([]),{handleSearch:h,searchState:p}=kZe({allowEmptyQueries:!0,initialState:{hits:[],loading:!1,error:null,terms:{query:"",types:i}},onComplete:C=>{f(C.map(S=>({hit:S,value:S.hit._id})))},schema:a}),g=m.useCallback(()=>{h({debounceTime:0,options:{limit:100},terms:{query:"",types:i}})},[h,i]),v=m.useCallback(C=>{h(C?{options:{limit:100},terms:{query:C||"",types:i}}:{debounceTime:0,options:{limit:0},terms:{query:"",types:i}})},[h,i]),y=m.useCallback(C=>{var S;const T=(S=d.find(A=>A.value===C))==null?void 0:S.hit.hit;T&&(r==null||r({_ref:Ks(T._id),_type:T._type}))},[d,r]),x=m.useMemo(()=>{const C=Iie({types:i});return i.length>0?"Search for ".concat(C):"Search all documents"},[i]),b=m.useCallback(C=>{const S=C.hit.hit._type;return c.jsx(Aie,{compact:!0,disableIntentLink:!0,documentId:C.value,documentType:S})},[]),_=m.useCallback((C,S)=>{const{content:T,hidden:A,onMouseEnter:k,onMouseLeave:I}=C,D=d&&d.length>0;return c.jsx(Ti,{arrow:!1,constrainSize:!0,content:c.jsx("div",{ref:S,children:D?T:p.terms.query&&c.jsx(N,{padding:4,children:c.jsx(ae,{align:"center",height:"fill",justify:"center",children:c.jsxs(Q$n,{align:"center",muted:!0,children:["No results for ",c.jsxs("strong",{children:["",p.terms.query,""]})]})})})}),matchReferenceWidth:!0,onMouseEnter:k,onMouseLeave:I,open:!p.loading&&!A,overflow:"auto",placement:"bottom-start",radius:_E,referenceElement:o.current})},[d,p.loading,p.terms.query]);return c.jsx("div",{ref:o,children:c.jsx(eee,{"aria-label":x,filterOption:X$n,fontSize:l?2:1,id:u,loading:p.loading,openButton:{onClick:g},options:d,onQueryChange:v,onSelect:y,placeholder:x,radius:2,ref:n,renderOption:b,renderPopover:_,value:s==null?void 0:s._ref})})});function Fk(t){let{fieldDefinition:e,onChange:n,value:r}=t;const{onClose:i,state:{documentTypesNarrowed:s,fullscreen:o}}=yr(),a=es(),l=m.useCallback(h=>n(h),[n]),u=m.useMemo(()=>e?e.documentTypes.filter(h=>s.includes(h)).flatMap(h=>{const p=a.get(h);if(p){const g=Z$(p,e.fieldPath);if(_m(g==null?void 0:g.type))return g==null?void 0:g.type.of.filter(Iv).flatMap(v=>v.to);if(Iv(g==null?void 0:g.type))return g==null?void 0:g.type.to}return[]}).reduce((h,p)=>(h.findIndex(g=>g.name===(p==null?void 0:p.name))<0&&h.push(p),h),[]):[],[s,e,a]),d=m.useCallback(()=>l(null),[l]),f=m.useCallback(()=>{i==null||i()},[i]);return c.jsx(N,{style:{width:"min(calc(100vw - 40px), 420px)"},children:r!=null&&r._ref&&(r!=null&&r._type)?c.jsxs(Te,{space:3,children:[c.jsx(ge,{padding:1,radius:1,shadow:1,children:c.jsx(Aie,{compact:!0,documentId:r._ref,documentType:r._type,onClick:f})}),c.jsx(Ce,{fontSize:o?2:1,mode:"ghost",onClick:d,text:"Clear",tone:"critical"})]}):c.jsx(J$n,{onSelect:l,types:u,value:r})})}function eFn(t){let{onClick:e,selected:n,title:r,value:i}=t;const s=m.useCallback(()=>e(i),[e,i]);return c.jsx(St,{onClick:s,padding:3,pressed:n,tone:"default",children:c.jsx(ae,{align:"center",justify:"space-between",gap:3,children:c.jsxs(Te,{paddingRight:2,space:2,children:[c.jsx(G,{size:1,weight:"regular",children:r}),i&&c.jsx(qs,{muted:!0,size:0,children:i})]})})})}function j6(t){let{fieldDefinition:e,onChange:n,value:r}=t;const i=m.useId(),{state:{documentTypesNarrowed:s}}=yr(),o=es(),a=m.useMemo(()=>e?e.documentTypes.filter(f=>s.includes(f)).map(f=>{const h=o.get(f);if(h){const p=Z$(h,e.fieldPath);return p==null?void 0:p.type.options}return null}).filter(ma).map(f=>f.list).flatMap(f=>f==null?void 0:f.map(h=>tFn(h))).filter(ma).reduce((f,h)=>{const p=f.findIndex(g=>g.value===(h==null?void 0:h.value));if(p>-1){const g=f[p];f[p]={...f[p],title:ha([...g.title,h.title]).sort()}}else f.push({...h,title:[h.title]});return f},[]):[],[s,e,o]),l=m.useCallback(u=>{n(u)},[n]);return c.jsx(vr,{button:c.jsx(Ce,{mode:"ghost",padding:3,children:c.jsxs(ae,{align:"center",gap:2,justify:"space-between",children:[c.jsx(G,{size:1,weight:"regular",children:r||"Select..."}),c.jsx(N,{marginLeft:1,children:c.jsx(G,{size:1,children:c.jsx(C0,{})})})]})}),id:i||"",menu:c.jsx(er,{children:a.map((u,d)=>c.jsx(eFn,{onClick:l,selected:u.value===r,title:u.title.join(", "),value:u.value||""},d))}),popover:{constrainSize:!0,placement:"bottom-start",portal:!1,radius:2}})}function tFn(t){return MX(t)?t:{title:pw("".concat(t)),value:t}}const AZe=()=>c.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM7.04 15.328V13.624L12.08 11.872L15.32 10.816V10.72L12.08 9.664L7.04 7.912V6.208L17.36 9.88V11.656L7.04 15.328Z",fill:"currentColor"})}),IZe=()=>c.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M7.568 18.848V16.952L14.792 12.08V11.984L7.568 7.112V5.216L16.52 11.288V12.776L7.568 18.848Z",fill:"currentColor"})}),DZe=()=>c.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM17.36 15.328L7.04 11.656V9.88L17.36 6.208V7.912L12.32 9.664L9.08 10.72V10.816L12.32 11.872L17.36 13.624V15.328Z",fill:"currentColor"})}),RZe=()=>c.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M16.952 19.632L8 13.56V12.072L16.952 6V7.896L9.728 12.768V12.864L16.952 17.736V19.632Z",fill:"currentColor"})});function rn(t){return JSON.stringify(t)}const nFn={arrayCountEqual:{buttonLabel:"has",buttonValueComponent:y2,groqFilter:t=>{let{fieldPath:e,value:n}=t;return Number.isFinite(n)&&e?"count(".concat(e,") == ").concat(rn(n)):null},initialValue:null,inputComponent:gf,label:"quantity is",type:"arrayCountEqual"},arrayCountGt:{buttonLabel:"has >",buttonValueComponent:y2,groqFilter:t=>{let{fieldPath:e,value:n}=t;return Number.isFinite(n)&&e?"count(".concat(e,") > ").concat(rn(n)):null},icon:IZe,initialValue:null,inputComponent:gf,label:"quantity greater than",type:"arrayCountGt"},arrayCountGte:{buttonLabel:"has ",buttonValueComponent:y2,groqFilter:t=>{let{fieldPath:e,value:n}=t;return Number.isFinite(n)&&e?"count(".concat(e,") >= ").concat(rn(n)):null},icon:AZe,initialValue:null,inputComponent:gf,label:"quantity greater than or equal to",type:"arrayCountGte"},arrayCountLt:{buttonLabel:"has <",buttonValueComponent:y2,groqFilter:t=>{let{fieldPath:e,value:n}=t;return Number.isFinite(n)&&e?"count(".concat(e,") < ").concat(rn(n)):null},icon:RZe,initialValue:null,inputComponent:gf,label:"quantity less than",type:"arrayCountLt"},arrayCountLte:{buttonLabel:"has ",buttonValueComponent:y2,groqFilter:t=>{let{fieldPath:e,value:n}=t;return Number.isFinite(n)&&e?"count(".concat(e,") <= ").concat(rn(n)):null},icon:DZe,initialValue:null,inputComponent:gf,label:"quantity less than or equal to",type:"arrayCountLte"},arrayCountNotEqual:{buttonLabel:"does not have",buttonValueComponent:y2,groqFilter:t=>{let{fieldPath:e,value:n}=t;return Number.isFinite(n)&&e?"count(".concat(e,") != ").concat(rn(n)):null},initialValue:null,inputComponent:gf,label:"quantity is not",type:"arrayCountNotEqual"},arrayCountRange:{buttonLabel:"has between",buttonValueComponent:L$n,groqFilter:t=>{let{fieldPath:e,value:n}=t;return Number.isFinite(n==null?void 0:n.max)&&Number.isFinite(n==null?void 0:n.min)&&e?"count(".concat(e,") > ").concat(rn(n==null?void 0:n.min)," && count(").concat(e,") < ").concat(rn(n==null?void 0:n.max)):""},initialValue:null,inputComponent:_Ze,label:"quantity is between",type:"arrayCountRange"},arrayListIncludes:{buttonLabel:"includes",buttonValueComponent:cu,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n&&e?"".concat(rn(n)," in ").concat(e):null},initialValue:null,inputComponent:j6,label:"includes",type:"arrayListIncludes"},arrayListNotIncludes:{buttonLabel:"does not include",buttonValueComponent:cu,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n&&e?"!(".concat(rn(n)," in ").concat(e,")"):null},initialValue:null,inputComponent:j6,label:"does not include",type:"arrayListNotIncludes"},arrayReferenceIncludes:{buttonLabel:"includes",buttonValueComponent:xh,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n!=null&&n._ref&&e?"".concat(rn(n._ref)," in ").concat(e,"[]._ref"):null},initialValue:null,inputComponent:Fk,label:"includes",type:"arrayReferenceIncludes"},arrayReferenceNotIncludes:{buttonLabel:"does not include",buttonValueComponent:xh,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n!=null&&n._ref&&e?"!(".concat(rn(n._ref)," in ").concat(e,"[]._ref)"):null},initialValue:null,inputComponent:Fk,label:"does not include",type:"arrayReferenceNotIncludes"}},jZe=m.createContext(null);function rFn(t){let{children:e,workspace:n}=t;return c.jsx(jZe.Provider,{value:n,children:e})}function kw(){const t=m.useContext(jZe);if(!t)throw new Error("Workspace: missing context value");return t}const sL=m.createContext(null);function iFn(t){let{children:e,...n}=t;const r=m.useContext(sL),{unstable_sources:i}=kw();if("source"in n){const{source:s}=n;return c.jsx(sL.Provider,{value:s,children:e})}if("name"in n){const{name:s}=n,o=i.find(a=>a.name===s);if(!o)throw new Error("Could not find source with name `".concat(s,"` in current workspace"));return r===o?c.jsx(c.Fragment,{children:e}):c.jsx(sL.Provider,{value:o,children:e})}throw new Error("Invalid props passed into SourceProvider. A `name` or a `source` object is required.")}function Zs(){const t=m.useContext(sL);if(!t)throw new Error("Could not find `source` context");return t}function sFn(t){return c.jsx(N,{...t,children:c.jsxs(ae,{align:"flex-start",gap:3,children:[c.jsx(xs,{tone:"caution",children:c.jsx(vo,{})}),c.jsxs(Te,{space:4,children:[c.jsx(xs,{size:1,tone:"caution",weight:"semibold",children:"No valid asset sources found."}),c.jsx(xs,{size:1,tone:"caution",children:"Currently, only the default asset source is supported."}),c.jsx(xs,{size:1,tone:"caution",children:"Please ensure it's enabled in your studio configuration file."})]})]})})}function oFn(t){let{reference:e}=t;const n=Yc(),r=m.useCallback(i=>NYe(n,i),[n]);return c.jsx(uC,{observeAsset:r,reference:e,waitPlaceholder:c.jsx(lFn,{}),children:i=>c.jsx(aFn,{asset:i})})}function aFn(t){let{asset:e}=t;return c.jsx(ge,{padding:2,shadow:1,children:c.jsxs(ae,{align:"center",justify:"space-between",wrap:"nowrap",children:[c.jsx(ge,{padding:3,radius:1,shadow:1,tone:"transparent",children:c.jsx(G,{children:c.jsx(AC,{})})}),c.jsxs(Te,{flex:1,space:2,marginLeft:3,children:[c.jsx(G,{size:2,textOverflow:"ellipsis",muted:!0,children:(e==null?void 0:e.originalFilename)||e._id}),c.jsx(G,{size:1,muted:!0,children:PKe(e.size)})]})]})})}function lFn(){return c.jsx(ge,{padding:2,shadow:1,children:c.jsxs(ae,{align:"center",justify:"flex-start",children:[c.jsx(ge,{padding:3,radius:1,shadow:1,tone:"transparent",children:c.jsx(G,{children:c.jsx(AC,{})})}),c.jsxs(Te,{flex:1,space:2,marginLeft:3,children:[c.jsx(YP,{animated:!0,style:{width:"100%"},radius:1}),c.jsx(YP,{animated:!0,style:{width:"100%"},radius:1})]})]})})}var bTe=Object.freeze,uFn=Object.defineProperty,Die=(t,e)=>bTe(uFn(t,"raw",{value:bTe(e||t.slice())})),xTe,wTe,_Te;const cFn=H(ge)(xTe||(xTe=Die([`
  position: relative;
  padding-bottom: 100%;
`]))),dFn=H.img(wTe||(wTe=Die([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`]))),fFn=H(ae)(_Te||(_Te=Die([`
  height: 100%;
  position: absolute;
  width: 100%;
`])));function hFn(t){let{reference:e}=t;const n=Yc(),r=m.useCallback(i=>BYe(n,i),[n]);return c.jsx(uC,{observeAsset:r,reference:e,children:i=>c.jsx(pFn,{asset:i})})}function pFn(t){let{asset:e}=t;const[n,r]=m.useState(!1),i="".concat(e.url,"?h=800&fit=max"),s=m.useCallback(()=>r(!0),[]);return c.jsxs(cFn,{__unstable_checkered:!0,border:!0,children:[!n&&c.jsx(fFn,{align:"center",justify:"center",children:c.jsx(_s,{})}),c.jsx(dFn,{onLoad:s,src:i})]})}function mFn(t){let{reference:e}=t;return e?e._type.startsWith("sanity.fileAsset")?c.jsx(oFn,{reference:e}):e._type.startsWith("sanity.imageAsset")?c.jsx(hFn,{reference:e}):null:null}var CTe=Object.freeze,gFn=Object.defineProperty,vFn=(t,e)=>CTe(gFn(t,"raw",{value:CTe(e||t.slice())})),ETe;const yFn={file:"sanity.fileAsset",image:"sanity.imageAsset"},bFn=H(N)(ETe||(ETe=vFn([`
  width: min(calc(100vw - 40px), 320px);
`])));function P5(t){return function(n){let{onChange:r,value:i}=n;const[s,o]=m.useState(null),[a,l]=m.useState(null),{state:{fullscreen:u}}=yr(),{file:d,image:f}=Zs().form,h=m.useMemo(()=>{switch(t){case"file":return d.assetSources.filter(A=>A.name===bZe.name);case"image":return f.assetSources.filter(A=>A.name===xZe.name);default:throw Error("Unknown asset source found")}},[d.assetSources,f.assetSources]),p=m.useId(),g=Cs(us),v=m.useCallback(()=>{l(null),r(null)},[r]),y=m.useCallback(()=>{o(null)},[]),x=m.useCallback(A=>{const k=A[0];l(k),y()},[y]),b=m.useCallback(A=>o(A),[]);m.useEffect(()=>{(a==null?void 0:a.kind)==="assetDocumentId"&&typeof(a==null?void 0:a.value)=="string"&&t&&r({_ref:a.value,_type:yFn[t]})},[g,r,a]);const _=s==null?void 0:s.component,C=u?2:1,S=i?"Change ".concat(t):"Select ".concat(t),T=ms(t,"options.accept",t==="image"?"image/*":"");return c.jsx(bFn,{children:c.jsxs(Te,{space:3,children:[s&&_&&c.jsx(dy,{children:c.jsx(_,{assetType:t,dialogHeaderTitle:"Select ".concat(t),onClose:y,onSelect:x,selectedAssets:[],selectionType:"single",accept:T})}),i&&c.jsx(mFn,{reference:i}),c.jsxs(ae,{gap:2,children:[h.length===0&&c.jsx(sFn,{padding:2}),h.length>0&&c.jsx(c.Fragment,{children:h.length>1?c.jsx(vr,{button:c.jsx(Ce,{fontSize:C,icon:i?DW:nl,iconRight:_0,mode:"ghost",style:{flex:i?1:0},text:S}),id:p,menu:c.jsx(er,{children:h.map(A=>c.jsx(St,{fontSize:C,icon:A.icon||Mh,onClick:()=>b(A),text:A.title},A.name))}),popover:{constrainSize:!0,portal:!1,radius:2}}):c.jsx(Ce,{fontSize:C,icon:i?DW:nl,mode:"ghost",onClick:()=>b(h[0]),style:{flex:i?1:0},text:S})}),i&&c.jsx(Ce,{fontSize:u?2:1,mode:"ghost",onClick:v,style:{flex:1},text:"Clear",tone:"critical"})]})]})})}}const xFn={assetFileEqual:{buttonLabel:"is",buttonValueComponent:xh,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n!=null&&n._ref&&e?"".concat(e,".asset._ref == ").concat(rn(n._ref)):null},initialValue:null,inputComponent:P5("file"),label:"is",type:"assetFileEqual"},assetFileNotEqual:{buttonLabel:"is not",buttonValueComponent:xh,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n!=null&&n._ref&&e?"".concat(e,".asset._ref != ").concat(rn(n._ref)):null},initialValue:null,inputComponent:P5("file"),label:"is not",type:"assetFileNotEqual"},assetImageEqual:{buttonLabel:"is",buttonValueComponent:xh,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n!=null&&n._ref&&e?"".concat(e,".asset._ref == ").concat(rn(n._ref)):null},initialValue:null,inputComponent:P5("image"),label:"is",type:"assetImageEqual"},assetImageNotEqual:{buttonLabel:"is not",buttonValueComponent:xh,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n!=null&&n._ref&&e?"".concat(e,".asset._ref != ").concat(rn(n._ref)):null},initialValue:null,inputComponent:P5("image"),label:"is not",type:"assetImageNotEqual"}};function wFn(t){let{onChange:e,value:n}=t;const{state:{fullscreen:r}}=yr(),i=m.useCallback(s=>{e(s.currentTarget.value==="true")},[e]);return c.jsxs(Bv,{fontSize:r?2:1,onChange:i,radius:2,value:String(n??!0),children:[c.jsx("option",{value:"true",children:"True"}),c.jsx("option",{value:"false",children:"False"})]})}const _Fn={booleanEqual:{buttonLabel:"is",buttonValueComponent:R$n,groqFilter:t=>{let{fieldPath:e,value:n}=t;return typeof n<"u"&&e?"".concat(e," == ").concat(rn(n)):null},initialValue:!0,inputComponent:wFn,label:"is",type:"booleanEqual"}},CFn={defined:{buttonLabel:"not empty",groqFilter:t=>{let{fieldPath:e}=t;return e?"defined(".concat(e,")"):null},label:"not empty",type:"defined"},notDefined:{buttonLabel:"empty",groqFilter:t=>{let{fieldPath:e}=t;return e?"!defined(".concat(e,")"):null},label:"empty",type:"notDefined"}};var STe=Object.freeze,EFn=Object.defineProperty,SFn=(t,e)=>STe(EFn(t,"raw",{value:STe(e||t.slice())})),TTe;const kTe="Include time",TFn=H(G)(TTe||(TTe=SFn([`
  cursor: default;
`])));function Rie(t){let{onChange:e,value:n}=t;return c.jsxs(ae,{align:"center",gap:2,justify:"flex-end",marginTop:1,children:[c.jsx(Te,{children:c.jsx(TFn,{muted:!0,onClick:e,size:1,weight:"medium",children:kTe})}),c.jsx(QJ,{checked:n,label:kTe,onChange:e})]})}const OZe=m.createContext(void 0);function jie(){const t=m.useContext(OZe);if(t===void 0)throw new Error("useCalendar must be used within an CalendarContext.Provider");return t}const kFn=["January","February","March","April","May","June","July","August","September","October","November","December"],AFn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];Rne(0,24);const IFn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],DFn=[1,2,3,4,5,6];function RFn(t){const{focusedDate:e}=jie(),{fontSize:n,moveFocusedDate:r,onNowClick:i}=t,s=m.useCallback(()=>r(-1),[r]),o=m.useCallback(()=>r(1),[r]);return c.jsxs(ae,{align:"center",flex:1,justify:"space-between",children:[c.jsxs(cn,{paddingLeft:2,space:1,children:[c.jsx(G,{weight:"medium",children:kFn[e.getMonth()]}),c.jsx(G,{weight:"medium",children:e.getFullYear()})]}),c.jsxs(N,{children:[c.jsx(Ce,{fontSize:n,text:"Today",mode:"bleed",onClick:i}),c.jsx(Ce,{"aria-label":"Go to previous month",onClick:s,mode:"bleed",icon:h7}),c.jsx(Ce,{"aria-label":"Go to next month",mode:"bleed",icon:nw,onClick:o})]})]})}var ATe=Object.freeze,jFn=Object.defineProperty,LZe=(t,e)=>ATe(jFn(t,"raw",{value:ATe(e||t.slice())})),ITe,DTe;const OFn=H.svg(t=>{let{theme:e}=t;return qe(ITe||(ITe=LZe([`
    bottom: 0;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;

    circle {
      stroke: `,`;
      stroke-width: 3;
      fill: none;
    }
  `])),e.sanity.color.card.enabled.border)}),LFn=H(ge)(DTe||(DTe=LZe([`
  position: relative;

  &[data-focused='true'] {
    z-index: 1;
  }

  &[data-start-date='true'] {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }

  &[data-end-date='true'] {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }

  &[data-within-range='true'] {
    border-radius: 0;
  }
`])));function PFn(t){let{date:e,onSelect:n}=t;const r=m.useCallback(()=>{n(e)},[e,n]),{date:i,endDate:s,focusedDate:o,fontSize:a,selectRange:l}=jie(),u=i&&M1(e,i),d=l&&i&&M1(e,i),f=l&&s&&M1(e,s),h=kUe(e,o),p=o&&M1(e,o),g=M1(e,new Date),v=i&&s&&!d&&!f&&Oq(e,i)&&_Ue(e,s);return c.jsxs(LFn,{__unstable_focusRing:!0,"aria-label":e.toDateString(),"aria-pressed":u,"data-end-date":f?!0:void 0,"data-focused":p?"true":"","data-ui":"CalendarDay","aria-selected":u,"data-start-date":d?!0:void 0,"data-within-range":v?!0:void 0,forwardedAs:"button",onClick:r,padding:3,radius:2,role:"button",selected:u||d||f,tabIndex:-1,tone:v?"primary":"default",children:[g&&c.jsx(OFn,{height:"100%",preserveAspectRatio:"xMidYMid meet",vectorEffect:"non-scaling-stroke",viewBox:"0 0 100 100",width:"100%",children:c.jsx("circle",{cx:"50",cy:"50",r:"40%"})}),c.jsx(G,{align:"center",muted:!u&&!h,size:a,weight:g?"medium":"regular",children:e.getDate()})]})}const MFn=t=>{const e=bUe(t);return yUe({start:e,end:wUe(e)})},$Fn=t=>t.map(e=>[e,...DFn.map(n=>Lu(e,n))]),FFn=t=>$Fn(MFn(t)).map(e=>({number:xUe(e[0]),days:e}));var RTe=Object.freeze,BFn=Object.defineProperty,NFn=(t,e)=>RTe(BFn(t,"raw",{value:RTe(e||t.slice())})),jTe;const VFn=H(Er)(jTe||(jTe=NFn([`
  grid-template-columns: repeat(7, minmax(44px, auto));
`])));function UFn(t){let{hidden:e,onSelect:n}=t;const{focusedDate:r,fontSize:i}=jie();return c.jsx(N,{"aria-hidden":e||!1,"data-ui":"CalendarMonth",children:c.jsxs(VFn,{children:[AFn.map(s=>c.jsx(N,{paddingBottom:3,paddingTop:2,children:c.jsx(G,{align:"center",size:i,weight:"medium",children:s})},s)),FFn(r).map((s,o)=>s.days.map((a,l)=>c.jsx(PFn,{date:a,onSelect:n},"".concat(o,"-").concat(l))))]})})}const HFn=c.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1});function zFn(t){const{date:e,endDate:n,fontSize:r,onSelect:i,selectRange:s,selectTime:o}=t,[a,l]=m.useState(null),[u,d]=m.useState(!1),[f,h]=m.useState(e||new Date),p=m.useRef(e||null),g=m.useRef(n||null),v=m.useCallback(()=>{var C;(C=a==null?void 0:a.querySelector('[data-focused="true"]'))==null||C.focus()},[a]),y=m.useCallback(C=>{const S=xtn(C,{hours:C.getHours(),minutes:C.getMinutes(),seconds:0,milliseconds:0}),T=e&&_Ue(S,e),A=n&&Oq(S,n);if(s){if(T||A){i({date:S,endDate:null});return}i(u?{date:e||null,endDate:S}:{date:S,endDate:e?null:n||null})}else i({date:S})},[e,n,i,u,s]),x=m.useCallback(()=>{const C=new Date;s?h(C):i({date:C})},[i,s,h]),b=m.useCallback(C=>{var S;if(IFn.includes(C.key)){if(C.preventDefault(),C.target.hasAttribute("data-calendar-grid")){v();return}C.key==="ArrowUp"&&h(Lu(f,-7)),C.key==="ArrowDown"&&h(Lu(f,7)),C.key==="ArrowLeft"&&h(Lu(f,-1)),C.key==="ArrowRight"&&h(Lu(f,1)),(S=a==null?void 0:a.querySelector("[data-preserve-focus]"))==null||S.focus()}},[a,v,f,h]),_=m.useCallback(C=>h(bte(f,C)),[f,h]);return m.useEffect(()=>{v()},[v]),m.useEffect(()=>{var C;((C=document.activeElement)==null?void 0:C.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&v()},[v,f]),m.useEffect(()=>{var C,S;const T=(e==null?void 0:e.getTime())!==((C=p.current)==null?void 0:C.getTime()),A=(n==null?void 0:n.getTime())!==((S=g.current)==null?void 0:S.getTime()),k=T&&!A,I=!T&&A,D=e&&n&&Oq(e,n);k&&(D&&(d(!0),i({date:e,endDate:null})),d(!!e),e&&h(e)),I&&(D&&(d(!0),i({date:n,endDate:null})),d(!!e&&!n),n&&h(n)),T&&A&&(d(!0),e&&h(e)),p.current=e||null,g.current=n||null},[e,n,i]),c.jsx(OZe.Provider,{value:{date:e,endDate:n,focusedDate:f,fontSize:r,selectRange:s,selectTime:o},children:c.jsxs(N,{"data-ui":"Calendar",ref:l,children:[c.jsx(ae,{children:c.jsx(N,{flex:1,children:c.jsx(RFn,{fontSize:r,moveFocusedDate:_,onNowClick:x})})}),c.jsxs(N,{"data-calendar-grid":!0,onKeyDown:b,marginTop:2,overflow:"hidden",tabIndex:0,children:[c.jsx(UFn,{onSelect:y}),HFn]})]})})}function Oie(t){let{date:e,endDate:n,onChange:r,selectRange:i,selectTime:s}=t;const{state:{fullscreen:o}}=yr(),a=m.useCallback(l=>{r(l)},[r]);return c.jsx(zFn,{date:e,endDate:n,fontSize:o?2:1,onSelect:a,selectRange:i,selectTime:s})}var OTe=Object.freeze,WFn=Object.defineProperty,GFn=(t,e)=>OTe(WFn(t,"raw",{value:OTe(e||t.slice())})),LTe;const qFn=H(N)(t=>{let{background:e,smallClearButton:n}=t;return qe(LTe||(LTe=GFn([`
      width: 100%;

      input + span {
        background: `,`;
      }

      [data-qa='clear-button'] {
        background: none;
        box-shadow: none;
        display: flex; /* TODO: hack, currently used to vertically center <TextInput>'s clearButton */
        transform: `,`;
        &:hover {
          opacity: 0.5;
        }
      }
    `])),r=>{let{theme:i}=r;return e?i.sanity.color.card.disabled.bg2:"transparent"},n?"scale(0.8)":"scale(1)")}),Lie=m.forwardRef(function(e,n){const{background:r,smallClearButton:i,...s}=e;return c.jsx(qFn,{background:r,smallClearButton:i,children:c.jsx(Fi,{...s,ref:n})})});function Bg(t){let{date:e,dateOnly:n,roundDay:r}=t,i;switch(r){case"end":i=jM(e);break;case"start":i=qv(e);break;default:i=e;break}return n?i.toISOString().split("T")[0]:i.toISOString()}var PTe=Object.freeze,YFn=Object.defineProperty,PZe=(t,e)=>PTe(YFn(t,"raw",{value:PTe(e||t.slice())})),MTe,$Te;const Z4={date:{exampleDate:"Jan 1, 2000",pattern:"MMM d, yyyy"},datetime:{exampleDate:"Jan 1, 2000 12:00 AM",pattern:"MMM d, yyyy p"}},KFn=H.span(t=>{let{theme:e}=t;return qe(MTe||(MTe=PZe([`
    font-weight: `,`;
  `])),e.sanity.fonts.text.weights.medium)}),ZFn=H(G)($Te||($Te=PZe([`
  color: `,`;
`])),Ke.red[500].hex);function O6(t){let{isDateTime:e,onChange:n,placeholderDate:r,isDateTimeFormat:i,value:s,...o}=t;const a=m.useMemo(()=>i?Z4.datetime.pattern:Z4.date.pattern,[i]),[l,u]=m.useState(void 0),[d,f]=m.useState(()=>{if(!s)return"";const b=new Date(s);return Ja(b,a)}),h=m.useMemo(()=>Ja(r||new Date,a),[a,r]),p=m.useCallback(b=>{let{dateString:_,triggerOnChange:C}=b;if(!_)return;const S=ttn(_,a,new Date),T=i0(S);T&&(C&&n(Bg({date:S,dateOnly:!e})),f(Ja(S,a))),u(T?void 0:"Invalid ".concat(e?"datetime":"date"))},[a,e,n]),g=m.useCallback(()=>{p({dateString:d,triggerOnChange:!0})},[d,p]),v=m.useCallback(b=>{f(b.currentTarget.value)},[]),y=m.useCallback(()=>{n(null),u(void 0),f("")},[n]),x=m.useCallback(b=>{b.key==="Enter"&&p({dateString:d,triggerOnChange:!0})},[d,p]);return m.useEffect(()=>{const b=s&&new Date(s);b&&p({dateString:Ja(b,a),triggerOnChange:!1})},[a,p,i,s]),c.jsx(Mn,{content:c.jsxs(ae,{gap:2,children:[c.jsx(ZFn,{size:1,children:c.jsx(Yu,{})}),c.jsxs(G,{muted:!0,size:1,children:["Must be in the format"," ",c.jsx(KFn,{children:i?Z4.datetime.exampleDate:Z4.date.exampleDate})]})]}),disabled:!l,padding:3,placement:"top",portal:!0,children:c.jsx("div",{children:c.jsx(Lie,{...o,clearButton:!!d,customValidity:l,onBlur:g,onChange:v,onClear:y,onKeyDown:x,placeholder:h,value:d})})})}function MZe(t){let{isDateTime:e,onChange:n,value:r}=t;const{state:{fullscreen:i}}=yr(),s=m.useCallback(l=>{let{date:u}=l;if(u){const d=Bg({date:u,dateOnly:!e});n({includeTime:r==null?void 0:r.includeTime,date:d})}else n(null)},[e,n,r==null?void 0:r.includeTime]),o=m.useCallback(()=>{const l=!(r!=null&&r.includeTime),u=r!=null&&r.date?new Date(r.date):null;let d=null;u&&(d=Bg({date:u,dateOnly:!e})),n({includeTime:l,date:d})},[e,n,r]),a=m.useCallback(l=>{n({includeTime:r==null?void 0:r.includeTime,date:l||null})},[n,r==null?void 0:r.includeTime]);return c.jsxs(Te,{space:3,children:[c.jsx(O6,{"aria-label":"Date",fontSize:i?2:1,isDateTime:e,isDateTimeFormat:e&&(r==null?void 0:r.includeTime),onChange:a,radius:2,value:r==null?void 0:r.date}),c.jsx(Oie,{date:r!=null&&r.date?new Date(r.date):void 0,onChange:s,selectTime:e}),e&&c.jsx(Rie,{onChange:o,value:!!(r!=null&&r.includeTime)})]})}function FTe(t){return c.jsx(MZe,{...t,isDateTime:!1})}function J$(t){let{direction:e,isDateTime:n,onChange:r,value:i}=t;const{state:{fullscreen:s}}=yr(),o=m.useMemo(()=>{switch(e){case"after":return"end";case"before":return"start";default:return}},[e]),a=m.useCallback(d=>{let{date:f}=d,h=null;f&&(h=Bg({date:f,dateOnly:!n,roundDay:i!=null&&i.includeTime?void 0:o})),r({includeTime:i==null?void 0:i.includeTime,date:h})},[n,r,o,i==null?void 0:i.includeTime]),l=m.useCallback(()=>{const d=!(i!=null&&i.includeTime),f=i!=null&&i.date?new Date(i.date):null;let h=null;f&&(h=Bg({date:f,dateOnly:!n,roundDay:d?"start":o})),r({includeTime:d,date:h})},[n,r,o,i]),u=m.useCallback(d=>{r({includeTime:i==null?void 0:i.includeTime,date:d||null})},[r,i==null?void 0:i.includeTime]);return c.jsxs(Te,{space:3,children:[c.jsx(O6,{"aria-label":"Date",fontSize:s?2:1,isDateTime:n,isDateTimeFormat:n&&(i==null?void 0:i.includeTime),onChange:u,radius:2,value:i==null?void 0:i.date}),c.jsx(Oie,{date:i!=null&&i.date?new Date(i.date):void 0,onChange:a,selectTime:n}),n&&c.jsx(Rie,{onChange:l,value:!!(i!=null&&i.includeTime)})]})}function XFn(t){return c.jsx(J$,{...t,direction:"after",isDateTime:!1})}function QFn(t){return c.jsx(J$,{...t,direction:"before",isDateTime:!1})}function BTe(t){let{onChange:e,value:n}=t;const[r,i]=m.useState((n==null?void 0:n.unitValue)||""),s=m.useRef("days"),o=m.useRef((n==null?void 0:n.unitValue)||null),{state:{fullscreen:a}}=yr(),l=m.useCallback(()=>{e({unit:s==null?void 0:s.current,unitValue:o==null?void 0:o.current})},[e]),u=m.useCallback(f=>{s.current=f.currentTarget.value,l()},[l]),d=m.useCallback(f=>{i(f.currentTarget.value);const h=parseFloat(f.currentTarget.value);o.current=Number.isFinite(h)?h:null,l()},[l]);return c.jsxs(ae,{gap:2,children:[c.jsx(N,{flex:1,children:c.jsx(Fi,{"aria-label":"Unit value",fontSize:a?2:1,onChange:d,pattern:"\\d*",radius:2,step:"1",type:"number",value:r})}),c.jsx(N,{flex:1,children:c.jsxs(Bv,{"aria-label":"Select unit",fontSize:a?2:1,onChange:u,radius:2,value:n==null?void 0:n.unit,children:[c.jsx("option",{value:"days",children:"Days"}),c.jsx("option",{value:"months",children:"Months"}),c.jsx("option",{value:"years",children:"Years"})]})})]})}const JFn=-7;function $Ze(t){let{isDateTime:e,onChange:n,value:r}=t;const{state:{fullscreen:i}}=yr(),s=m.useMemo(()=>Lu(new Date,JFn),[]),o=m.useMemo(()=>new Date,[]),a=m.useCallback(f=>{let{date:h,endDate:p}=f;n(NTe({date:h,endDate:p,includeTime:r==null?void 0:r.includeTime,isDateTime:e}))},[e,n,r==null?void 0:r.includeTime]),l=m.useCallback(()=>{const f=!(r!=null&&r.includeTime);n(NTe({date:r!=null&&r.dateMin?new Date(r.dateMin):null,endDate:r!=null&&r.dateMax?new Date(r.dateMax):null,includeTime:f,isDateTime:e}))},[e,n,r]),u=m.useCallback(f=>{n({includeTime:r==null?void 0:r.includeTime,dateMax:f||null,dateMin:(r==null?void 0:r.dateMin)||null})},[n,r]),d=m.useCallback(f=>{n({includeTime:r==null?void 0:r.includeTime,dateMax:(r==null?void 0:r.dateMax)||null,dateMin:f||null})},[n,r]);return c.jsx("div",{children:c.jsxs(Te,{space:3,children:[c.jsxs(ae,{direction:"column",gap:3,children:[c.jsx(O6,{"aria-label":"Start date",fontSize:i?2:1,isDateTime:e,isDateTimeFormat:e&&(r==null?void 0:r.includeTime),onChange:d,placeholderDate:s,radius:2,value:r==null?void 0:r.dateMin}),c.jsx(O6,{"aria-label":"End date",fontSize:i?2:1,isDateTime:e,isDateTimeFormat:e&&(r==null?void 0:r.includeTime),onChange:u,placeholderDate:o,radius:2,value:r==null?void 0:r.dateMax})]}),c.jsx(Oie,{date:r!=null&&r.dateMin?new Date(r.dateMin):void 0,endDate:r!=null&&r.dateMax?new Date(r.dateMax):void 0,onChange:a,selectRange:!0,selectTime:e}),e&&c.jsx(Rie,{onChange:l,value:!!(r!=null&&r.includeTime)})]})})}function NTe(t){let{date:e,endDate:n,includeTime:r,isDateTime:i}=t;return r?{includeTime:r,dateMax:n?Bg({date:n,dateOnly:!i,roundDay:"start"}):null,dateMin:e?Bg({date:e,dateOnly:!i,roundDay:"start"}):null}:{includeTime:r,dateMax:n?Bg({date:n,dateOnly:!i,roundDay:"end"}):null,dateMin:e?Bg({date:e,dateOnly:!i,roundDay:"start"}):null}}function eBn(t){return c.jsx($Ze,{...t,isDateTime:!1})}function VTe(t){return c.jsx(MZe,{...t,isDateTime:!0})}function tBn(t){return c.jsx(J$,{...t,direction:"after",isDateTime:!0})}function nBn(t){return c.jsx(J$,{...t,direction:"before",isDateTime:!0})}function rBn(t){return c.jsx($Ze,{...t,isDateTime:!0})}const Xd={dateAfter:{buttonLabel:"after",buttonValueComponent:cTe,initialValue:null,label:"is after"},dateBefore:{buttonLabel:"before",buttonValueComponent:cTe,initialValue:null,label:"is before"},dateEqual:{buttonLabel:"is",buttonValueComponent:uTe,initialValue:{date:null,includeTime:!1},label:"is"},dateLast:{buttonLabel:"last",buttonValueComponent:j$n,label:"is in the last"},dateNotEqual:{buttonLabel:"is not",buttonValueComponent:uTe,initialValue:{date:null,includeTime:!1},label:"is not"},dateRange:{buttonLabel:"is between",initialValue:null,label:"is between"}},iBn={dateAfter:{...Xd.dateAfter,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n!=null&&n.date&&e?"".concat(e," > ").concat(rn(n==null?void 0:n.date)):null},inputComponent:XFn,type:"dateAfter"},dateBefore:{...Xd.dateBefore,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n!=null&&n.date&&e?"".concat(e," < ").concat(rn(n==null?void 0:n.date)):null},inputComponent:QFn,type:"dateBefore"},dateEqual:{...Xd.dateEqual,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n!=null&&n.date&&e?"".concat(e," == ").concat(rn(n.date)):null},inputComponent:FTe,type:"dateEqual"},dateLast:{...Xd.dateLast,groqFilter:t=>{let{fieldPath:e,value:n}=t;const r=typeof(n==null?void 0:n.unitValue)=="number"?Math.floor(n.unitValue):void 0,i=Number.isFinite(r)?I0e(new Date,{days:(n==null?void 0:n.unit)==="days"?r:0,months:(n==null?void 0:n.unit)==="months"?r:0,years:(n==null?void 0:n.unit)==="years"?r:0}).toISOString().split("T")[0]:null;return i&&e?"".concat(e," > ").concat(rn(i)):null},inputComponent:BTe,initialValue:{unit:"days",unitValue:7},type:"dateLast"},dateNotEqual:{...Xd.dateNotEqual,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n!=null&&n.date&&e?"".concat(e," != ").concat(rn(n.date)):null},inputComponent:FTe,type:"dateNotEqual"},dateRange:{...Xd.dateRange,buttonValueComponent:dTe,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n!=null&&n.dateMax&&(n!=null&&n.dateMin)&&e?"".concat(e," >= ").concat(rn(n.dateMin)," && ").concat(e," <= ").concat(rn(n.dateMax)):null},initialValue:{includeTime:!1,dateMax:A0e().toISOString(),dateMin:null},inputComponent:eBn,type:"dateRange"},dateTimeAfter:{...Xd.dateAfter,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n!=null&&n.date&&e?"dateTime(".concat(e,") > dateTime(").concat(rn(n.date),")"):null},inputComponent:tBn,type:"dateTimeAfter"},dateTimeBefore:{...Xd.dateBefore,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n!=null&&n.date&&e?"dateTime(".concat(e,") < dateTime(").concat(rn(n.date),")"):null},inputComponent:nBn,type:"dateTimeBefore"},dateTimeEqual:{...Xd.dateEqual,groqFilter:t=>{let{fieldPath:e,value:n}=t;const r=(n==null?void 0:n.date)&&new Date(n.date);if(!r||!i0(r)||!e)return null;const i=(n!=null&&n.includeTime?C0e(r):qv(r)).toISOString(),s=(n!=null&&n.includeTime?E0e(r):jM(r)).toISOString();return"dateTime(".concat(e,") > dateTime(").concat(rn(i),") && dateTime(").concat(e,") < dateTime(").concat(rn(s),")")},inputComponent:VTe,type:"dateTimeEqual"},dateTimeLast:{...Xd.dateLast,groqFilter:t=>{let{fieldPath:e,value:n}=t;const r=typeof(n==null?void 0:n.unitValue)=="number"?Math.floor(n.unitValue):void 0,i=Number.isFinite(r)?I0e(new Date,{days:(n==null?void 0:n.unit)==="days"?r:0,months:(n==null?void 0:n.unit)==="months"?r:0,years:(n==null?void 0:n.unit)==="years"?r:0}).toISOString():null;return i&&e?"dateTime(".concat(e,") > dateTime(").concat(rn(i),")"):null},initialValue:{unit:"days",unitValue:7},inputComponent:BTe,type:"dateTimeLast"},dateTimeNotEqual:{...Xd.dateNotEqual,groqFilter:t=>{let{fieldPath:e,value:n}=t;const r=(n==null?void 0:n.date)&&new Date(n.date);if(!r||!i0(r)||!e)return null;const i=(n!=null&&n.includeTime?C0e(r):qv(r)).toISOString(),s=(n!=null&&n.includeTime?E0e(r):jM(r)).toISOString();return"dateTime(".concat(e,") < dateTime(").concat(rn(i),") || dateTime(").concat(e,") > dateTime(").concat(rn(s),")")},inputComponent:VTe,type:"dateTimeNotEqual"},dateTimeRange:{...Xd.dateRange,buttonValueComponent:dTe,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n!=null&&n.dateMax&&(n!=null&&n.dateMin)&&e?"dateTime(".concat(e,") >= dateTime(").concat(rn(n.dateMin),") && dateTime(").concat(e,") <= dateTime(").concat(rn(n.dateMax),")"):null},initialValue:{includeTime:!1,dateMax:A0e().toISOString(),dateMin:null},inputComponent:rBn,type:"dateTimeRange"}},sBn={numberEqual:{buttonLabel:"is",buttonValueComponent:v2,groqFilter:t=>{let{fieldPath:e,value:n}=t;return Number.isFinite(n)&&e?"".concat(e," == ").concat(rn(n)):null},initialValue:null,inputComponent:gf,label:"is",type:"numberEqual"},numberGt:{buttonLabel:">",buttonValueComponent:v2,groqFilter:t=>{let{fieldPath:e,value:n}=t;return Number.isFinite(n)&&e?"".concat(e," > ").concat(rn(n)):null},icon:IZe,initialValue:null,inputComponent:gf,label:"greater than",type:"numberGt"},numberGte:{buttonLabel:"",buttonValueComponent:v2,groqFilter:t=>{let{fieldPath:e,value:n}=t;return Number.isFinite(n)&&e?"".concat(e," >= ").concat(rn(n)):null},icon:AZe,initialValue:null,inputComponent:gf,label:"greater than or equal to",type:"numberGte"},numberLt:{buttonLabel:"<",buttonValueComponent:v2,groqFilter:t=>{let{fieldPath:e,value:n}=t;return Number.isFinite(n)&&e?"".concat(e," < ").concat(rn(n)):null},icon:RZe,initialValue:null,inputComponent:gf,label:"less than",type:"numberLt"},numberLte:{buttonLabel:"",buttonValueComponent:v2,groqFilter:t=>{let{fieldPath:e,value:n}=t;return Number.isFinite(n)&&e?"".concat(e," <= ").concat(rn(n)):null},icon:DZe,initialValue:null,inputComponent:gf,label:"less than or equal to",type:"numberLte"},numberNotEqual:{buttonLabel:"is not",buttonValueComponent:v2,groqFilter:t=>{let{fieldPath:e,value:n}=t;return Number.isFinite(n)&&e?"".concat(e," != ").concat(rn(n)):null},initialValue:null,inputComponent:gf,label:"is not",type:"numberNotEqual"},numberRange:{buttonLabel:"is between",buttonValueComponent:O$n,groqFilter:t=>{let{fieldPath:e,value:n}=t;return Number.isFinite(n==null?void 0:n.max)&&Number.isFinite(n==null?void 0:n.min)&&e?"".concat(e," > ").concat(rn(n==null?void 0:n.min)," && ").concat(e," < ").concat(rn(n==null?void 0:n.max)):""},initialValue:null,inputComponent:_Ze,label:"is between",type:"numberRange"}};function _f(t){let{onChange:e,value:n}=t;const{state:{fullscreen:r}}=yr(),i=m.useCallback(s=>e(s.currentTarget.value||null),[e]);return c.jsx(Fi,{fontSize:r?2:1,onChange:i,placeholder:"Value",radius:2,value:n||""})}const oBn={portableTextEqual:{buttonLabel:"is",buttonValueComponent:cu,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n&&e?"pt::text(".concat(e,") == ").concat(rn(n)):null},initialValue:null,inputComponent:_f,label:"is",type:"portableTextEqual"},portableTextMatches:{buttonLabel:"contains",buttonValueComponent:cu,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n&&e?"pt::text(".concat(e,") match ").concat(rn(n)):null},initialValue:null,inputComponent:_f,label:"contains",type:"portableTextMatches"},portableTextNotEqual:{buttonLabel:"is not",buttonValueComponent:cu,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n&&e?"pt::text(".concat(e,") != ").concat(rn(n)):null},initialValue:null,inputComponent:_f,label:"is not",type:"portableTextNotEqual"},portableTextNotMatches:{buttonLabel:"does not contain",buttonValueComponent:cu,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n&&e?"!(pt::text(".concat(e,") match ").concat(rn(n),")"):null},initialValue:null,inputComponent:_f,label:"does not contain",type:"portableTextNotMatches"}},aBn={referenceEqual:{buttonLabel:"is",buttonValueComponent:xh,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n!=null&&n._ref&&e?"".concat(e,"._ref == ").concat(rn(n._ref)):null},initialValue:null,inputComponent:Fk,label:"is",type:"referenceEqual"},referenceNotEqual:{buttonLabel:"is not",buttonValueComponent:xh,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n!=null&&n._ref&&e?"".concat(e,"._ref != ").concat(rn(n._ref)):null},initialValue:null,inputComponent:Fk,label:"is not",type:"referenceNotEqual"},referencesAssetFile:{buttonLabel:"",buttonValueComponent:xh,groqFilter:t=>{let{value:e}=t;return e!=null&&e._ref?"references(".concat(rn(e._ref),")"):null},initialValue:null,inputComponent:P5("file"),label:"file",type:"referencesAssetFile"},referencesAssetImage:{buttonLabel:"",buttonValueComponent:xh,groqFilter:t=>{let{value:e}=t;return e!=null&&e._ref?"references(".concat(rn(e._ref),")"):null},initialValue:null,inputComponent:P5("image"),label:"image",type:"referencesAssetImage"},referencesDocument:{buttonLabel:"",buttonValueComponent:xh,groqFilter:t=>{let{value:e}=t;return e!=null&&e._ref?"references(".concat(rn(e._ref),")"):null},initialValue:null,inputComponent:Fk,label:"document",type:"referencesDocument"}},lBn={slugEqual:{buttonLabel:"is",buttonValueComponent:cu,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n&&e?"".concat(e,".current == ").concat(rn(n)):null},initialValue:null,inputComponent:_f,label:"is",type:"slugEqual"},slugMatches:{buttonLabel:"contains",buttonValueComponent:cu,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n&&e?"".concat(e,".current match ").concat(rn(n)):null},initialValue:null,inputComponent:_f,label:"contains",type:"slugMatches"},slugNotEqual:{buttonLabel:"is not",buttonValueComponent:cu,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n&&e?"".concat(e,".current != ").concat(rn(n)):null},initialValue:null,inputComponent:_f,label:"is not",type:"slugNotEqual"},slugNotMatches:{buttonLabel:"does not contain",buttonValueComponent:cu,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n&&e?"!(".concat(e,".current match ").concat(rn(n),")"):null},initialValue:null,inputComponent:_f,label:"does not contain",type:"slugNotMatches"}},uBn={stringEqual:{buttonLabel:"is",buttonValueComponent:cu,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n&&e?"".concat(e," == ").concat(rn(n)):null},initialValue:null,inputComponent:_f,label:"is",type:"stringEqual"},stringListEqual:{buttonLabel:"is",buttonValueComponent:cu,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n&&e?"".concat(e," == ").concat(rn(n)):null},initialValue:null,inputComponent:j6,label:"is",type:"stringListEqual"},stringListNotEqual:{buttonLabel:"is not",buttonValueComponent:cu,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n&&e?"".concat(e," != ").concat(rn(n)):null},initialValue:null,inputComponent:j6,label:"is not",type:"stringListNotEqual"},stringMatches:{buttonLabel:"contains",buttonValueComponent:cu,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n&&e?"".concat(e," match ").concat(rn(n)):null},initialValue:null,inputComponent:_f,label:"contains",type:"stringMatches"},stringNotEqual:{buttonLabel:"is not",buttonValueComponent:cu,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n&&e?"".concat(e," != ").concat(rn(n)):null},initialValue:null,inputComponent:_f,label:"is not",type:"stringNotEqual"},stringNotMatches:{buttonLabel:"does not contain",buttonValueComponent:cu,groqFilter:t=>{let{fieldPath:e,value:n}=t;return n&&e?"!(".concat(e," match ").concat(rn(n),")"):null},initialValue:null,inputComponent:_f,label:"does not contain",type:"stringNotMatches"}},cBn={...nFn,...xFn,..._Fn,...iBn,...CFn,...sBn,...oBn,...aBn,...lBn,...uBn},dBn=Object.values(cBn);function Pm(t){const e=typeof t;if(e==="object"){if(t===null)return"null";if(Array.isArray(t))return"array";if(t instanceof Object&&t.constructor.name!=="Object")return t.constructor.name}return e}const fBn=[],hBn=[],pBn=[],mBn=(t,e,n)=>{let{schema:r}=e;const i=r==null?void 0:r.types;if(!i)return t;if(typeof i=="function")return i(t,n);if(Array.isArray(i))return[...t,...i];throw new Error("Expected `schema.types` to be an array or a function, but received ".concat(Pm(i)))},gBn=async(t,e,n)=>{let{document:r}=e;const i=r==null?void 0:r.productionUrl;return i?await i(t,n):t},vBn=(t,e,n)=>{let{tools:r}=e;if(!r)return t;if(typeof r=="function")return r(t,n);if(Array.isArray(r))return[...t,...r];throw new Error("Expected `tools` to be an array or a function, but received ".concat(Pm(r)))},yBn=(t,e,n)=>{let{schema:r}=e;const i=r==null?void 0:r.templates;if(!i)return t;if(typeof i=="function")return i(t,n);if(Array.isArray(i))return[...t,...i];throw new Error("Expected `schema.templates` to be an array or a function, but received ".concat(Pm(i)))},bBn=(t,e,n)=>{let{document:r}=e;const i=r==null?void 0:r.badges;if(!i)return t;if(typeof i=="function")return i(t,n);if(Array.isArray(i))return[...t,...i];throw new Error("Expected `document.badges` to be an array or a function, but received ".concat(Pm(i)))},xBn=(t,e,n)=>{let{document:r}=e;const i=r==null?void 0:r.actions;if(!i)return t;if(typeof i=="function")return i(t,n);if(Array.isArray(i))return[...t,...i];throw new Error("Expected `document.actions` to be an array or a function, but received ".concat(Pm(i)))},wBn=(t,e,n)=>{let{document:r}=e;const i=r==null?void 0:r.newDocumentOptions;if(!i)return t;if(typeof i!="function")throw new Error("Expected `document.resolveNewDocumentOptions` to be a function, but received ".concat(Pm(i)));return i(t,n)},_Bn=(t,e,n)=>{let{form:r}=e;var i;const s=(i=r==null?void 0:r.file)==null?void 0:i.assetSources;if(!s)return t;if(typeof s=="function")return s(t,n);if(Array.isArray(s))return[...t,...s];throw new Error("Expected `form.file.assetSources` to be an array or a function, but received ".concat(Pm(s)))},CBn=(t,e,n)=>{let{form:r}=e;var i;const s=(i=r==null?void 0:r.image)==null?void 0:i.assetSources;if(!s)return t;if(typeof s=="function")return s(t,n);if(Array.isArray(s))return[...t,...s];throw new Error("Expected `form.image.assetSources` to be an array or a function, but received ".concat(Pm(s)))},EBn=(t,e,n)=>{let{document:r}=e;const i=r==null?void 0:r.unstable_languageFilter;if(!i)return t;if(typeof i=="function")return i(t,n);if(Array.isArray(i))return[...t,...i];throw new Error("Expected `document.unstable_languageFilter` to be an array or a function, but received ".concat(Pm(i)))},SBn=(t,e,n)=>{let{document:r}=e;const i=r==null?void 0:r.inspectors;if(!i)return t;if(typeof i=="function")return i(t,n);if(Array.isArray(i))return[...t,...i];throw new Error("Expected `document.inspectors` to be an array or a function, but received ".concat(Pm(i)))};var TBn=Object.defineProperty,kBn=(t,e,n)=>e in t?TBn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$H=(t,e,n)=>(kBn(t,typeof e!="symbol"?e+"":e,n),n);class UTe extends Error{constructor(e){let{propertyName:n,path:r,cause:i}=e;const s=Jn(i)&&typeof(i==null?void 0:i.message)=="string"?": ".concat(i.message):"";super("An error occurred while resolving `".concat(n,"` from ").concat(r.join(" > ")).concat(s)),$H(this,"propertyName"),$H(this,"path"),$H(this,"cause"),this.propertyName=n,this.cause=i,this.path=r}}const Pie=(t,e)=>{let{plugins:n=[],...r}=t;const i={config:r,path:[...e,r.name]};return[...n.flatMap(a=>Pie(a,[...e,r.name])),i]};function rf(t){let{config:e,context:n,initialValue:r,propertyName:i,...s}=t;const o=Pie(e,[]);if("reducer"in s)return o.reduce((l,u)=>{let{config:d,path:f}=u;try{return s.reducer(l,d,n)}catch(h){throw new UTe({propertyName:i,path:f,cause:h})}},r);const a=s.asyncReducer;return(async()=>{let l=r;for(const{config:u,path:d}of o)try{l=await a(l,u,n)}catch(f){throw new UTe({propertyName:i,path:d,cause:f})}return l})()}var ABn=Object.defineProperty,IBn=(t,e,n)=>e in t?ABn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,FH=(t,e,n)=>(IBn(t,typeof e!="symbol"?e+"":e,n),n);class Cf extends Error{constructor(e){let{causes:n,name:r,type:i}=e;const s=n.filter(Boolean).map(o=>Jn(o)&&typeof(o==null?void 0:o.message)=="string"?o.message:String(o));super("Could not resolve ".concat(i).concat(r?" `".concat(r,"`"):"",`:
`).concat(s.map(o=>"	- ".concat(o)).join(`
`),`

`)),FH(this,"name"),FH(this,"type"),FH(this,"causes"),this.name=r,this.causes=n,this.type=i}}class Mie extends Error{constructor(e){super("SchemaError"),this.schema=e}}var HTe=Object.freeze,DBn=Object.defineProperty,RBn=(t,e)=>HTe(DBn(t,"raw",{value:HTe(e||t.slice())})),zTe;function WTe(t){const e=t.split("").reduce((n,r)=>(n<<5)-n+r.charCodeAt(0)|0,0);return Math.abs(e*16807%2147483647)/2147483647}const jBn=H.text(zTe||(zTe=RBn([`
  font-family: `,`;
  font-weight: `,`;
  font-size: 16px;
  transform: translateY(1px);
`])),t=>{let{theme:e}=t;return e.sanity.fonts.heading.family},t=>{let{theme:e}=t;return e.sanity.fonts.heading.weights.bold});function OBn(t,e){const n=WTe("".concat(t," ").concat(e)),r=cMe.filter(p=>p!=="gray"),i=r[Math.floor(n*r.length)],s=["300","400","500","600","700"],o=WTe(n.toString()),a=s[Math.floor(o*s.length)],l=Ke[i][a].hex,u=t.split(/\s/g).map(p=>p.replace(/\\W/g,"")).filter(Boolean).slice(0,2).map(p=>p.charAt(0).toUpperCase()),d=WWe(l,.4),f=Gyn(l,.4),h=rye(l,"readable",d)?rye(l,"readable",f)?Yyn(l):f:d;return c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[c.jsx("rect",{width:32,height:32,rx:2,fill:l}),c.jsx(jBn,{x:"50%",y:"50%",textAnchor:"middle",alignmentBaseline:"middle",dominantBaseline:"middle",fill:h,children:u})]})}const LBn=t=>t.severity==="error";function PBn(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return ws.isValidElementType(t)?m.createElement(t):m.isValidElement(t)?t:OBn(e,n)}function MBn(t,e){if(!Array.isArray(t)&&"missingConfigFile"in t)throw new Cf({name:"",type:"configuration file",causes:["No `sanity.config.ts` file found","No `sanity.config.js` file found"]});const n=NBn(e==null?void 0:e.basePath),r=Array.isArray(t)?t:[t];try{XBn({workspaces:r})}catch(s){throw new Cf({name:"",type:"workspace",causes:[s.message]})}return{type:"prepared-config",workspaces:r.map(s=>{let{unstable_sources:o=[],...a}=s;const u=[a,...o].map(h=>{const{projectId:p,dataset:g}=h;let v;try{v=rf({propertyName:"schema.types",config:h,context:{projectId:p,dataset:g},initialValue:[],reducer:mBn})}catch(S){throw new Cf({name:h.name,type:"source",causes:[S]})}const y=fEn({name:h.name,types:v}),x=y._validation,b=x==null?void 0:x.filter(S=>S.problems.some(LBn));if(x&&(b!=null&&b.length))throw new Mie(y);const _=$Bn(h),C=_.state.pipe(Be(S=>{let{client:T,authenticated:A,currentUser:k}=S;return BBn({config:h,client:T,currentUser:k,schema:y,authenticated:A,auth:_})}),$a(1));return{name:h.name,projectId:h.projectId,dataset:h.dataset,title:h.title||yi(h.name),auth:_,schema:y,source:C}}),d=a.title||yi(a.name);return{type:"workspace-summary",auth:u[0].auth,basePath:VBn(n,a.basePath),dataset:a.dataset,schema:u[0].schema,icon:PBn(a.icon,d,"".concat(a.projectId," ").concat(a.dataset)),name:a.name||"default",projectId:a.projectId,theme:a.theme||qi,title:d,subtitle:a.subtitle,__internal:{sources:u}}})}}function $Bn(t){if(eCn(t.auth))return t.auth;const e=t.unstable_clientFactory||tVe,{projectId:n,dataset:r,apiHost:i}=t;return J_n({apiHost:i,...t.auth,clientFactory:e,dataset:r,projectId:n})}function FBn(t,e){const n=t.withConfig({apiVersion:"2022-06-30"}),{dataset:r,url:i,requestTagPrefix:s="sanity.studio"}=n.config(),o="".concat(i.replace(/\/+$/,""),"/socket/").concat(r).replace(/^http/,"ws"),a="".concat(o,"?tag=").concat(s),l=e.token?{token$:e.token}:{};return rzt(a,l)}function BBn(t){let{config:e,client:n,currentUser:r,schema:i,authenticated:s,auth:o}=t;var a,l,u,d;const{dataset:f,projectId:h}=e,p=FBn(n,o),g=[],v={},y=D=>{if(!D||!D.apiVersion)throw new Error("Missing required `apiVersion` option");return v[D.apiVersion]||(v[D.apiVersion]=n.withConfig(D)),v[D.apiVersion]},x={client:n,getClient:y,currentUser:r,dataset:f,projectId:h,schema:i},b=n;x.client=[...Object.keys(n),...Object.keys(b.__proto__)].reduce((D,R)=>{const O=Object.hasOwnProperty.call(n,R)?b[R]:b.__proto__[R];return Object.defineProperty(D,R,{get(){return console.warn('`configContext.client` is deprecated and will be removed in the next release! Use `context.getClient({apiVersion: "2021-06-07"})` instead'),O}})},{});let _;try{_=rf({config:e,context:x,propertyName:"schema.templates",reducer:yBn,initialValue:i.getTypeNames().filter(D=>!/^sanity\./.test(D)).map(D=>i.get(D)).filter(ma).filter(D=>{var R;return((R=D.type)==null?void 0:R.name)==="document"}).map(D=>({id:D.name,schemaType:D.name,title:D.title||D.name,icon:D.icon,value:D.initialValue||{_type:D.name}}))})}catch(D){throw new Cf({name:e.name,type:"source",causes:[D]})}let C;try{C=rf({config:e,context:x,initialValue:[],propertyName:"tools",reducer:vBn})}catch(D){throw new Cf({name:e.name,type:"source",causes:[D]})}if(C.some(D=>{let{name:R}=D;return R==="tool"}))throw new Error('A tool cannot have the name "tool". Please enter a different name.');const S=_.filter(D=>{var R;return!((R=D.parameters)!=null&&R.length)}).map(D=>({templateId:D.id,description:D.description,icon:D.icon,title:D.title})),T=_.reduce((D,R)=>(D.set(R.id,R),D),new Map),A=D=>{const{schemaType:R}=D,O=rf({config:e,context:{...x,creationContext:D},initialValue:S,propertyName:"document.resolveNewDocumentOptions",reducer:wBn}),L=[];if(L.length)throw new Cf({name:e.name,type:"source",causes:L});return O.map((P,$)=>{const B=T.get(P.templateId);if(!B)throw new Error("Could not find template with ID `".concat(P.templateId,"`"));const Q=i.get(B.schemaType);if(!Q)throw new Error("Could not find matching schema type `".concat(B.schemaType,"` for template `").concat(B.id,"`"));const V=P.title||B.title,Z=(Q==null?void 0:Q.title)===V||Q==null?void 0:Q.title;return{id:"".concat(P.templateId,"-").concat($),templateId:P.templateId,type:"initialValueTemplateItem",title:V,subtitle:P.subtitle||Z,description:P.description||B.description,icon:P.icon||B.icon||(Q==null?void 0:Q.icon),initialDocumentId:P.initialDocumentId,parameters:P.parameters,schemaType:B.schemaType}}).filter(P=>{var $;return!R||D.type==="document"?!0:R===(($=T.get(P.templateId))==null?void 0:$.schemaType)})};let k;try{k=A({type:"global"})}catch(D){g.push(D)}if(g.length)throw new Cf({name:e.name,type:"source",causes:g});return{type:"source",name:e.name,title:e.title||yi(e.name),schema:i,getClient:y,dataset:f,projectId:h,tools:C,currentUser:r,authenticated:s,templates:_,auth:o,document:{actions:D=>rf({config:e,context:{...x,...D},initialValue:hBn,propertyName:"document.actions",reducer:xBn}),badges:D=>rf({config:e,context:{...x,...D},initialValue:fBn,propertyName:"document.badges",reducer:bBn}),unstable_fieldActions:D=>rf({config:e,context:{...x,...D},initialValue:cCn,propertyName:"document.unstable_fieldActions",reducer:uCn}),inspectors:D=>rf({config:e,context:{...x,...D},initialValue:vs,propertyName:"document.inspectors",reducer:SBn}),resolveProductionUrl:D=>rf({config:e,context:{...x,...D},initialValue:void 0,propertyName:"resolveProductionUrl",asyncReducer:gBn}),resolveNewDocumentOptions:A,unstable_languageFilter:D=>rf({config:e,context:{...x,...D},initialValue:pBn,propertyName:"document.unstable_languageFilter",reducer:EBn})},form:{file:{assetSources:rf({config:e,context:x,initialValue:[bZe],propertyName:"formBuilder.file.assetSources",reducer:_Bn}),directUploads:((l=(a=e.form)==null?void 0:a.file)==null?void 0:l.directUploads)===void 0?!0:e.form.file.directUploads},image:{assetSources:rf({config:e,context:x,initialValue:[xZe],propertyName:"formBuilder.image.assetSources",reducer:CBn}),directUploads:((d=(u=e.form)==null?void 0:u.image)==null?void 0:d.directUploads)===void 0?!0:e.form.image.directUploads}},search:{filters:I$n,operators:dBn},__internal:{bifur:p,staticInitialValueTemplateItems:k,options:e}}}function NBn(t){const e=t||"";if(typeof e!="string"||e.length>0&&!e.startsWith("/"))throw new Cf({name:"",type:"options",causes:["basePath must be a string, and must start with a slash"]});return e==="/"?"":e}function VBn(t,e){const n=[t,e||""].map(r=>r.replace(/^\/+/g,"").replace(/\/+$/g,"")).filter(Boolean).join("/");return"/".concat(n)}function UBn(t){const{projectId:e,dataset:n,schema:r,currentUser:i,getClient:s}=t;return m.useMemo(()=>({projectId:e,dataset:n,schema:r,currentUser:i,getClient:s}),[e,n,r,i,s])}function HBn(t){const{projectId:e,dataset:n,schema:r,currentUser:i,getClient:s}=t;return{projectId:e,dataset:n,schema:r,currentUser:i,getClient:s}}function zBn(t){const{title:e}=t;return c.jsx(N,{padding:3,children:c.jsx(G,{weight:"bold",children:e})})}const eF=m.createContext(null),tF=m.createContext(null);function FZe(){return nTt()?"dark":"light"}function BZe(t){let{children:e,scheme:n}=t;const r=FZe(),i=n==="system"?r:n;return c.jsx(EA,{scheme:i,theme:qi,children:e})}const GTe="sanityStudio:ui:colorScheme";function WBn(t){let{children:e,onSchemeChange:n,scheme:r}=t;return r?c.jsx(qBn,{scheme:r,onSchemeChange:n,children:e}):c.jsx(GBn,{onSchemeChange:n,children:e})}function GBn(t){let{children:e,onSchemeChange:n}=t;const r=m.useMemo(()=>{let s;const o=new Set;return{subscribe:a=>(s||(s=qTe(localStorage.getItem(GTe))||"system"),o.add(a),()=>{o.delete(a)}),getSnapshot:()=>s,setSnapshot:a=>{s=qTe(a);for(const l of o)l()},getServerSnapshot:()=>"system"}},[]),i=m.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getServerSnapshot);return m.useEffect(()=>{typeof n=="function"&&n(i),localStorage.setItem(GTe,i)},[n,i]),c.jsx(tF.Provider,{value:r.setSnapshot,children:c.jsx(eF.Provider,{value:i,children:c.jsx(BZe,{scheme:i,children:e})})})}function qTe(t){switch(t){case"dark":case"light":return t;default:return"system"}}function qBn(t){let{children:e,onSchemeChange:n,scheme:r}=t;return c.jsx(tF.Provider,{value:typeof n=="function"?n:!1,children:c.jsx(eF.Provider,{value:r,children:c.jsx(BZe,{scheme:r,children:e})})})}function $ie(){const t=m.useContext(tF);if(t===null)throw new Error("Could not find `ColorSchemeSetValueContext` context");return t}function NZe(){const t=m.useContext(eF);if(t===null)throw new Error("Could not find `ColorSchemeValueContext` context");return t}function VZe(){const t=NZe(),e=FZe();return t==="system"?e:t}function Po(){const t=VZe(),e=$ie();return m.useMemo(()=>({scheme:t,setScheme:e}),[t,e])}function UZe(t){const e=NZe();return m.useMemo(()=>[{title:"System",name:"system",label:"Use system appearance",selected:e==="system",onSelect:()=>t("system"),icon:xMe},{title:"Dark",name:"dark",label:"Use dark appearance",selected:e==="dark",onSelect:()=>t("dark"),icon:RMe},{title:"Light",name:"light",label:"Use light appearance",selected:e==="light",onSelect:()=>t("light"),icon:BMe}],[e,t])}const HZe=m.createContext(null);function YBn(t){let{config:e,children:n,basePath:r}=t;const{workspaces:i}=m.useMemo(()=>MBn(e,{basePath:r}),[e,r]);return c.jsx(HZe.Provider,{value:i,children:n})}function NT(t,e){let{name:n,title:r}=t;return typeof n=="string"&&n.trim().length>0?n:mK(r,e)}function mK(t,e){const n=typeof t=="string"&&t.trim().length>0?' (titled "'.concat(t,'")'):"";return"at index ".concat(e).concat(n)}function eD(){const t=m.useContext(HZe);if(!t)throw new Error("Could not find `workspaces` context");return t}var KBn=Object.defineProperty,ZBn=(t,e,n)=>e in t?KBn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,YTe=(t,e,n)=>(ZBn(t,typeof e!="symbol"?e+"":e,n),n);class Xp extends Error{constructor(e,n){super(e),YTe(this,"index"),YTe(this,"identifier"),this.index=n==null?void 0:n.index,this.identifier=(n==null?void 0:n.workspace)&&NT(n.workspace,n.index)}}function XBn(t){let{workspaces:e}=t;if(e.length===0)throw new Xp("At least one workspace is required.");QBn(e),JBn(e)}function QBn(t){const e=t.length===1,n=new Map;t.forEach((r,i)=>{const{name:s,title:o}=r,a=mK(o,i);if(!s&&!e)throw new Xp("All workspaces must have a `name`, unless only a single workspace is defined. "+"Workspace ".concat(a," did not define a `name`."),{workspace:r,index:i});const l=e&&typeof s>"u"?"default":s;if(typeof l!="string")throw new Xp("Workspace at index ".concat(i," defined an invalid `name` - must be a string."),{workspace:r,index:i});const u=l.toLowerCase(),d=n.get(u);if(d){const f=mK(d.workspace.title,d.index);throw new Xp("`name`s must be unique. Workspace ".concat(f," and ")+"workspace ".concat(a," both have the `name` `").concat(l,"`"),{workspace:r,index:i})}if(n.set(u,{index:i,workspace:r}),!/^[a-z0-9][a-z0-9_-]*$/i.test(l))throw new Xp("All workspace `name`s must consist of only a-z, 0-9, underscore and dashes, and cannot begin with an underscore or dash. "+"Workspace ".concat(a," has the invalid name `").concat(l,"`"),{workspace:r,index:i})})}function JBn(t){t.length>1&&t.every(eNn),t.every(tNn);const[e,...n]=t,r=(e.basePath||"/").substring(1).split("/").filter(Boolean).length;n.forEach((s,o)=>{const a=(s.basePath||"/").substring(1).split("/").length;if(r!==a)throw new Xp("All workspace `basePath`s must have the same amount of segments. Workspace `".concat(NT(e,o),"` had ").concat(r," segment").concat(r===1?"":"s"," `").concat(e.basePath,"` but workspace `").concat(NT(s,o),"` had ").concat(a," segment").concat(a===1?"":"s"," `").concat(s.basePath,"`"),{workspace:s,index:o})});const i=new Map;t.forEach((s,o)=>{const a=(s.basePath||"").toLowerCase(),l=i.get(a);if(l)throw new Xp("`basePath`s must be unique. Workspaces `".concat(l,"` and ")+"`".concat(NT(s,o),"` both have the `basePath` `").concat(a,"`"),{workspace:s,index:o});i.set(a,NT(s,o))})}function eNn(t,e){const{name:n,basePath:r}=t;if(r&&typeof r=="string")return!0;throw typeof r>"u"?new Xp("If more than one workspace is defined, every workspace must have a `basePath` defined. "+"Workspace `".concat(n,"` is missing a `basePath`"),{workspace:t,index:e}):new Xp("If more than one workspace is defined, every workspace must have a `basePath` defined. "+"Workspace `".concat(n,"` has an invalid `basePath` (must be a non-empty string)"),{workspace:t,index:e})}function tNn(t,e){const{name:n,basePath:r}=t;if(!(!r||r==="/")&&!/^\/[a-z0-9/_-]*[a-z0-9_-]+$/i.test(r))throw new Xp("All workspace `basePath`s must start with a leading `/`, consist of only URL safe characters, and cannot end with a trailing `/`. "+"Workspace `".concat(n,"`'s basePath is `").concat(r,"`"),{workspace:t,index:e})}function nNn(){return c.jsx(ge,{height:"fill",children:c.jsx(ae,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:c.jsx(Wc,{width:0,children:c.jsx(ge,{padding:4,radius:2,shadow:1,tone:"caution",children:c.jsxs(ae,{children:[c.jsx(N,{children:c.jsx(G,{size:1,children:c.jsx(vo,{})})}),c.jsxs(Te,{flex:1,marginLeft:3,space:3,children:[c.jsx(G,{as:"h1",size:1,weight:"bold",children:"No configured tools"}),c.jsx(G,{as:"p",muted:!0,size:1,children:"Please configure a tool in your Studio configuration."}),c.jsx(G,{as:"p",muted:!0,size:1,children:c.jsx("a",{href:"https://www.sanity.io/docs/studio-tools",rel:"noreferrer",target:"_blank",children:"Learn how to add a tool "})})]})]})})})})})}function rNn(t){const{toolName:e}=t;return c.jsx(ge,{height:"fill",children:c.jsx(ae,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:c.jsx(Wc,{width:0,children:c.jsx(ge,{padding:4,radius:2,shadow:1,tone:"caution",children:c.jsxs(ae,{children:[c.jsx(N,{children:c.jsx(G,{size:1,children:c.jsx(vo,{})})}),c.jsx(Te,{flex:1,marginLeft:3,space:3,children:c.jsxs(G,{as:"h1",size:1,weight:"bold",children:["Tool not found: ",c.jsx("code",{children:e})]})})]})})})})})}function Bk(){return c.jsxs(ae,{as:ge,justify:"center",align:"center",height:"fill",direction:"column",gap:4,children:[c.jsx(G,{muted:!0,children:"Loading"}),c.jsx(_s,{muted:!0})]})}var KTe=Object.freeze,iNn=Object.defineProperty,zZe=(t,e)=>KTe(iNn(t,"raw",{value:KTe(e||t.slice())})),ZTe,XTe;const sNn={error:"critical",warning:"caution"},QTe=H.code(ZTe||(ZTe=zZe([`
  && {
    background: none;
    color: inherit;
  }
`]))),oNn=H(G)(XTe||(XTe=zZe([`
  white-space: pre-line;
`])));function WZe(t){const{problemGroups:e}=t,n=m.useMemo(()=>{const r=[];for(const i of e)for(const s of i.problems)r.push({group:i,problem:s});return r},[e]);return c.jsx(Te,{as:"ul",space:4,children:n.map((r,i)=>{let{group:s,problem:o}=r;const a=o.severity==="error",l=o.severity==="warning",u=aNn(s);return c.jsxs(ge,{border:!0,padding:4,radius:2,tone:sNn[o.severity],children:[c.jsxs(ae,{children:[c.jsx(N,{marginRight:3,children:c.jsxs(G,{muted:!0,size:1,children:[a&&c.jsx(Yu,{}),l&&c.jsx(vo,{})]})}),c.jsx(N,{flex:1,children:c.jsx(G,{size:1,weight:"semibold",children:u?c.jsxs(c.Fragment,{children:[pw(u.type),' type "',u.name,'"']}):null})})]}),c.jsx(N,{marginTop:4,children:c.jsx(ge,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:c.jsx(F$e,{separator:c.jsx(G,{muted:!0,size:1,children:""}),children:s.path.map((d,f)=>d.kind==="type"?c.jsx(G,{size:1,children:c.jsx(QTe,{children:"".concat(lNn(d.name),":").concat(d.type)})},f):d.kind==="property"?c.jsx(G,{size:1,children:c.jsx(QTe,{children:d.name})},f):null)})})}),c.jsx(N,{as:"ul",marginTop:4,children:c.jsx(N,{as:"li",children:c.jsxs(Te,{space:3,children:[c.jsx(oNn,{muted:!0,size:1,children:o.message}),o.helpId&&c.jsx(G,{muted:!0,size:1,children:c.jsx("a",{href:gXt(o.helpId),target:"_blank",rel:"noopener noreferrer",children:"View documentation "})})]})})})]},i)})})}function aNn(t){const e=t.path[0];return e.kind==="type"?{name:e.name,type:e.type}:null}function lNn(t){if(t!=null&&t.startsWith("<unnamed_type_@_index")){const e=t.slice(1,-1).split("_");return"[".concat(e[4],"]")}return t}function uNn(t){return t.map(e=>e.kind==="type"?"".concat(e.name||"<unnamed>","(").concat(e.type,")"):e.kind==="property"?e.name:null).filter(Boolean).join(" > ")}function cNn(t){const e=t._validation,n=e==null?void 0:e.filter(r=>r.problems.some(i=>i.severity==="warning"));(n==null?void 0:n.length)!==0&&(console.groupCollapsed(" Schema has ".concat(n==null?void 0:n.length," warnings")),n==null||n.forEach(r=>{const i=uNn(r.path);console.group("%cAt ".concat(i),"color: #FF7636"),r.problems.forEach(s=>{console.log(s.message)}),console.groupEnd()}),console.groupEnd())}function dNn(t){let{schema:e}=t;var n;const r=((n=e._validation)==null?void 0:n.filter(i=>i.problems.some(s=>s.severity==="error")))||[];return m.useEffect(()=>cNn(e),[e]),c.jsx(ge,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",children:c.jsx(Wc,{width:1,children:c.jsxs(Te,{space:5,children:[c.jsx(Ws,{as:"h1",children:"Schema errors"}),c.jsx(WZe,{problemGroups:r})]})})})}function fNn(t){return c.jsx(ge,{height:"fill",sizing:"border",tone:"caution",display:"flex",children:c.jsx(ae,{direction:"row",justify:"center",flex:1,align:"center",children:c.jsxs(Te,{space:4,children:[c.jsx(Ws,{as:"h1",children:"Workspace not found"}),c.jsx(cn,{children:c.jsx(Ce,{text:"Go to default workspace",onClick:t.onNavigateToDefaultWorkspace,mode:"ghost"})})]})})})}const GZe=m.createContext(null);function hNn(t){let{pathname:e,workspaces:n,basePathRegex:r}=t;const[i]=n;for(const{workspace:s,basePath:o,basePathRegex:a}of n)if(a.test(e)||o==="/")return{type:"match",workspace:s};return e==="/"?{type:"redirect",pathname:i.basePath}:r.test(e)?{type:"redirect",pathname:i.basePath}:{type:"not-found"}}function pNn(t){const n=t.map(i=>i.basePath.substring(1).split("/")).reduce((i,s)=>{for(let o=0;o<i.length;o++){const a=i[o],l=s[o].toLowerCase();if(a!==l)return i.slice(0,o)}return i});function r(i){let[s,...o]=i;return s?"(\\/".concat(Gne(s)).concat(r(o),"(\\/|$))?"):""}return new RegExp("^".concat(r(n),"$"),"i")}function mNn(t){return m.useMemo(()=>gNn(t),[t])}function gNn(t){return t.map(e=>{const n=e.basePath||"/";return{workspace:e,name:e.name,basePath:n,basePathRegex:new RegExp("^".concat(Gne(n),"(\\/|$)"),"i")}})}function vNn(t,e){const n=mNn(e),r=m.useMemo(()=>pNn(n),[n]),[i]=m.useState(()=>t.location.pathname),s=m.useMemo(()=>({subscribe:o=>t.listen(o),getSnapshot:()=>t.location.pathname,getServerSnapshot:()=>i,selector:o=>hNn({basePathRegex:r,pathname:o,workspaces:n}),isEqual:(o,a)=>{if(o.type!==a.type)return!1;switch(o.type){case"match":return o.workspace===a.workspace;case"redirect":return o.pathname===a.pathname;case"not-found":return!0;default:throw new Error("Unknown type: ".concat(o.type))}}}),[r,t,i,n]);return Vne.useSyncExternalStoreWithSelector(s.subscribe,s.getSnapshot,s.getServerSnapshot,s.selector,s.isEqual)}const qZe=m.createContext(null);function yNn(t){let{children:e,history:n}=t;return c.jsx(qZe.Provider,{value:n,children:e})}function bNn(){const t=m.useContext(qZe);if(!t)throw new Error("Could not find `RouterHistoryProvider` context");return t}const xNn=m.memo(function(e){let{children:n,history:r,activeWorkspace:i,setActiveWorkspace:s}=e;const o=m.useMemo(()=>({activeWorkspace:i,setActiveWorkspace:s}),[i,s]);return c.jsx(GZe.Provider,{value:o,children:c.jsx(yNn,{history:r,children:n})})}),wNn=()=>typeof document>"u"?Sbn():Ebn();function _Nn(t){let{children:e,LoadingComponent:n,NotFoundComponent:r,unstable_history:i}=t;const s=eD(),o=m.useMemo(()=>i||wNn(),[i]),a=m.useCallback(d=>{const f=s.find(h=>h.name===d);f&&o.push(f.basePath)},[o,s]),l=m.useCallback(()=>{a(s[0].name)},[a,s]),u=vNn(o,s);switch(m.useEffect(()=>{u.type==="redirect"&&o.replace(u.pathname)},[o,u]),u.type){case"match":return c.jsx(xNn,{activeWorkspace:u.workspace,history:o,setActiveWorkspace:a,children:e});case"redirect":return c.jsx(n,{});case"not-found":return c.jsx(r,{onNavigateToDefaultWorkspace:l});default:throw new Error("Unknown type: ".concat(u.type))}}function CE(){const t=m.useContext(GZe);if(!t)throw new Error("Could not find `ActiveWorkspaceMatcher` context");return t}var JTe=Object.freeze,CNn=Object.defineProperty,ENn=(t,e)=>JTe(CNn(t,"raw",{value:JTe(e||t.slice())})),eke;const tke={"logged-in":"","logged-out":"Signed out","no-access":""},SNn=H(ge)(eke||(eke=ENn([`
  width: 35px;
  height: 35px;

  svg {
    width: 100%;
    height: 100%;
  }
`]))),nke=t=>{if(ws.isValidElementType(t))return m.createElement(t);if(m.isValidElement(t))return t};function gK(t){const{state:e,subtitle:n,selected:r,title:i,icon:s,iconRight:o}=t,a=m.useMemo(()=>nke(s),[s]),l=m.useMemo(()=>nke(o),[o]);return c.jsxs(ae,{align:"center",flex:"none",gap:3,children:[c.jsx(SNn,{radius:2,tone:"transparent",children:a}),c.jsxs(Te,{flex:1,space:2,children:[c.jsx(G,{textOverflow:"ellipsis",weight:"medium",children:i}),n&&c.jsx(G,{muted:!0,size:1,textOverflow:"ellipsis",children:n})]}),e&&tke[e]&&c.jsx(N,{paddingLeft:1,children:c.jsx(G,{size:1,muted:!0,textOverflow:"ellipsis",children:tke[e]})}),(r||l)&&c.jsxs(ae,{align:"center",gap:4,paddingLeft:3,paddingRight:2,children:[r&&c.jsx(G,{children:c.jsx(Uf,{})}),l&&c.jsx(G,{muted:!0,children:l})]})]})}const YZe=Om(t=>ol(t.map(e=>e.auth.state.pipe(Be(n=>[e.name,n])))).pipe(Be(e=>Object.fromEntries(e)))),TNn="https://beta.sanity.io/docs/platform/studio/config/workspaces";var rke=Object.freeze,kNn=Object.defineProperty,ANn=(t,e)=>rke(kNn(t,"raw",{value:rke(e||t.slice())})),ike;const ske=[{url:"https://slack.sanity.io/",title:"Community"},{url:"https://www.sanity.io/docs",title:"Docs"},{url:"https://www.sanity.io/legal/privacy",title:"Privacy"},{url:"https://www.sanity.io",title:"sanity.io"}],INn=H(G)(ike||(ike=ANn([`
  a {
    color: inherit;
  }
`])));function oke(t){const{children:e,footer:n,header:r}=t;return c.jsxs(Te,{space:6,children:[c.jsx(ge,{border:!0,radius:3,overflow:"auto",children:c.jsxs(Te,{children:[typeof r=="object"&&c.jsx(N,{children:r}),typeof r=="string"&&c.jsx(N,{paddingY:4,children:c.jsx(Ws,{align:"center",size:1,children:r})}),c.jsx(N,{paddingX:1,children:c.jsx(ge,{borderTop:!!r,borderBottom:!!n,children:e})}),n&&c.jsx(N,{children:n})]})}),c.jsxs(ae,{direction:"column",gap:4,justify:"center",align:"center",paddingBottom:4,children:[c.jsx(G,{size:3,children:c.jsx(Rbn,{})}),c.jsx(ae,{align:"center",gap:2,children:ske.map((i,s)=>c.jsxs(re.Fragment,{children:[c.jsx(INn,{muted:!0,size:1,children:c.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",children:i.title})}),s<ske.length-1&&c.jsx(G,{size:1,muted:!0,children:""})]},i.title))})]})]})}function DNn(){var t;const e=eD(),{activeWorkspace:n,setActiveWorkspace:r}=CE(),[i]=YZe(e),[s,o]=m.useState((n==null?void 0:n.name)||null),a=e.length===1?e[0]:e.find(d=>d.name===s),l=(t=a==null?void 0:a.auth)==null?void 0:t.LoginComponent,u=m.useCallback(()=>o(null),[]);return i?l&&a?c.jsxs(Te,{space:2,children:[e.length>1&&c.jsx(ae,{children:c.jsx(Ce,{fontSize:1,icon:eQ,mode:"bleed",onClick:u,padding:2,text:"Choose another workspace"})}),c.jsx(oke,{header:c.jsx(N,{padding:3,children:c.jsx(gK,{icon:a.icon,title:a.title,subtitle:a==null?void 0:a.subtitle})}),children:c.jsx(Te,{padding:2,paddingBottom:3,paddingTop:4,children:m.createElement(l,{...Al(a,["type","__internal"]),key:s})})})]}):c.jsx(oke,{header:"Choose your workspace",footer:c.jsx(Te,{padding:1,children:c.jsx(Ce,{as:"a",href:TNn,icon:Qa,justify:"flex-start",mode:"bleed",rel:"noopener noreferrer",target:"__blank",text:"Add workspace"})}),children:c.jsx(Te,{space:1,paddingX:1,paddingY:2,children:e.map(d=>{const h=i[d.name].authenticated?"logged-in":d.auth.LoginComponent?"logged-out":"no-access",p=()=>{h==="logged-in"&&d.name!==n.name&&r(d.name),h==="logged-out"&&o(d.name)};return c.jsx(ge,{as:"button",radius:2,padding:2,onClick:p,children:c.jsx(gK,{icon:d==null?void 0:d.icon,iconRight:nw,state:h,subtitle:d==null?void 0:d.subtitle,title:(d==null?void 0:d.title)||d.name})},d.name)})})}):c.jsx(Bk,{})}var ake=Object.freeze,RNn=Object.defineProperty,jNn=(t,e)=>ake(RNn(t,"raw",{value:ake(e||t.slice())})),lke;const ONn=H(er)(lke||(lke=jNn([`
  max-width: 350px;
  min-width: 250px;
`])));function KZe(t){const{scheme:e}=Po(),n=eD(),{activeWorkspace:r,setActiveWorkspace:i}=CE(),[s]=YZe(n),{navigateUrl:o}=I0(),a=m.useMemo(()=>({constrainSize:!0,scheme:e,portal:!0}),[e]);return c.jsx(vr,{button:c.jsx(Ce,{icon:C0,mode:"bleed",...t,disabled:!s}),id:"workspace-menu",menu:c.jsxs(ONn,{children:[c.jsx(N,{paddingX:3,paddingY:3,children:c.jsx(jn,{size:1,muted:!0,children:"Workspaces"})}),s&&n.map(l=>{const d=s[l.name].authenticated?"logged-in":l.auth.LoginComponent?"logged-out":"no-access",f=()=>{d==="logged-in"&&l.name!==r.name&&i(l.name),d==="logged-out"&&o({path:l.basePath})};return c.jsx(St,{onClick:f,padding:2,pressed:l.name===r.name,children:c.jsx(gK,{icon:l==null?void 0:l.icon,selected:l.name===r.name,state:d,subtitle:l==null?void 0:l.subtitle,title:(l==null?void 0:l.title)||l.name})},l.name)})]}),popover:a})}function ZZe(){return c.jsx(ge,{height:"fill",overflow:"auto",children:c.jsx(ae,{height:"fill",direction:"column",align:"center",justify:"center",paddingTop:4,children:c.jsx(Wc,{width:0,children:c.jsx(DNn,{})})})})}function LNn(){return c.jsx(c.Fragment,{children:"TODO: implement config errors screen"})}function XZe(){const[t,e]=m.useState(null),[n,r]=m.useState(null);if(n)throw n;const{activeWorkspace:i}=CE(),s=m.useCallback(()=>{var l,u;(u=(l=i.auth).logout)==null||u.call(l)},[i]);m.useEffect(()=>{const l=i.auth.state.subscribe({next:u=>{let{currentUser:d}=u;e(d)},error:r});return()=>{l.unsubscribe()}},[i]);const o=fqe(t==null?void 0:t.provider),a=o?" through ".concat(o):"";return c.jsx(ge,{height:"fill",children:c.jsx(pa,{id:"not-authorized-dialog",header:"Not authorized",width:1,footer:c.jsx(Te,{paddingX:3,paddingY:2,children:c.jsx(Ce,{text:"Sign out",onClick:s})}),children:c.jsxs(Te,{paddingX:4,paddingY:5,space:4,children:[c.jsx(G,{children:"You are not authorized to access this studio. Maybe you could ask someone to invite you to collaborate on this project?"}),c.jsxs(G,{children:["If you think this is an error, verify that you are signed in with the correct account. You are currently signed in as"," ",c.jsxs("strong",{children:[t==null?void 0:t.name," (",t==null?void 0:t.email,")"]}),a,"."]})]})})})}var uke=Object.freeze,PNn=Object.defineProperty,MNn=(t,e)=>uke(PNn(t,"raw",{value:uke(e||t.slice())})),cke;const $Nn=H.label(cke||(cke=MNn([`
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  overflow: clip;
  position: absolute;
  white-space: nowrap;
  width: 1px;
`])));function FNn(t){const{projectId:e}=t,n=window.location.origin,r=m.useMemo(()=>{const i=new URL("https://sanity.io/manage/project/".concat(e,"/api"));return i.searchParams.set("cors","add"),i.searchParams.set("origin",n),i.searchParams.set("credentials",""),i.toString()},[n,e]);return m.useEffect(()=>{const i=()=>{window.location.reload()};return window.addEventListener("focus",i),()=>{window.removeEventListener("focus",i)}},[]),c.jsx(ge,{height:"fill",children:c.jsx(pa,{id:"cors-error-dialog",header:"Before you continue...",width:1,children:c.jsxs(Te,{paddingX:4,paddingY:5,space:4,children:[c.jsxs(G,{children:["To access your content, you need to ",c.jsx("b",{children:"add the following URL as a CORS origin"})," to your Sanity project."]}),c.jsx($Nn,{"aria-hidden":"true",children:"CORS URL to be added"}),c.jsx(Fi,{value:n,readOnly:!0}),c.jsx(Ce,{as:"a",href:r,target:"_blank",rel:"noopener noreferrer",tone:"primary",children:c.jsxs(ae,{align:"center",justify:"center",gap:3,children:[c.jsx(G,{weight:"medium",children:"Continue"}),c.jsx(G,{weight:"medium",children:c.jsx(z3,{})})]})})]})})})}function QZe(t){let{children:e,heading:n="An error occured"}=t;const[{error:r},i]=m.useState({error:null}),s=Jn(r)&&typeof r.message=="string"&&r.message,o=Jn(r)&&typeof r.stack=="string"&&r.stack,a=m.useCallback(()=>i({error:null}),[i]);return fbn(a),r instanceof Sre?c.jsx(FNn,{projectId:r==null?void 0:r.projectId}):r instanceof Mie?c.jsx(dNn,{schema:r.schema}):r?c.jsx(ge,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",tone:"critical",children:c.jsx(Wc,{width:3,children:c.jsxs(Te,{space:4,children:[c.jsx(Ws,{children:n}),c.jsx("div",{children:c.jsx(Ce,{onClick:a,text:"Retry",tone:"default"})}),c.jsx(ge,{border:!0,radius:2,overflow:"auto",padding:4,tone:"inherit",children:c.jsxs(Te,{space:4,children:[s&&c.jsx(qs,{size:1,children:c.jsxs("strong",{children:["Error: ",s]})}),o&&c.jsx(qs,{size:1,children:o})]})})]})})}):c.jsx(fI,{onCatch:i,children:e})}var dke=Object.freeze,BNn=Object.defineProperty,NNn=(t,e)=>dke(BNn(t,"raw",{value:dke(e||t.slice())})),fke;const VNn=H(ge)(fke||(fke=NNn([`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 200;
`]))),JZe=m.createContext({onSearchFullscreenOpenChange:()=>"",searchFullscreenOpen:!1,searchFullscreenPortalEl:null});function UNn(){const{name:t,title:e,tools:n}=kw(),r=Nee(m.useCallback(p=>typeof p.tool=="string"?p.tool:void 0,[])),i=m.useMemo(()=>n.find(p=>p.name===r),[r,n]),[s,o]=m.useState(!1),[a,l]=m.useState(null),u=m.useMemo(()=>{const p=e||yi(t);return r?"".concat(p,"  ").concat(yi(r)):p},[r,t,e]);m.useEffect(()=>{document.title=u},[u]);const d=m.useCallback(p=>{o(p)},[]),f=m.useMemo(()=>({searchFullscreenOpen:s,searchFullscreenPortalEl:a,onSearchFullscreenOpenChange:d}),[s,a,d]),h=Rzn();return c.jsxs(ae,{"data-ui":"ToolScreen",direction:"column",height:"fill","data-testid":"studio-layout",children:[c.jsx(JZe.Provider,{value:f,children:c.jsx(h,{})}),n.length===0&&c.jsx(nNn,{}),n.length>0&&!i&&r&&c.jsx(rNn,{toolName:r}),s&&c.jsx(VNn,{ref:l,overflow:"auto"}),c.jsx(QZe,{heading:"The ".concat(i==null?void 0:i.name," tool crashed"),children:c.jsx(ge,{flex:1,hidden:s,children:i&&r&&c.jsx(jFt,{scope:r,children:c.jsx(m.Suspense,{fallback:c.jsx(HNn,{}),children:m.createElement(i.component,{tool:i})})})})},i==null?void 0:i.name)]})}function HNn(){return c.jsxs(ae,{justify:"center",align:"center",height:"fill",direction:"column",gap:4,children:[c.jsx(G,{muted:!0,children:"Loading"}),c.jsx(_s,{muted:!0})]})}var hke=Object.freeze,zNn=Object.defineProperty,WNn=(t,e)=>hke(zNn(t,"raw",{value:hke(e||t.slice())})),pke;const GNn=H.div(pke||(pke=WNn([`
  position: absolute;
  width: 18px;
  height: 18px;
  background: var(--card-bg-color);
  bottom: -4px;
  right: -4px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  border: 1px solid var(--card-bg-color);
  box-sizing: content-box;

  svg {
    box-sizing: content-box;
    border: 1px solid var(--card-hairline-soft-color);
    border-radius: 50%;
    padding: 2px;
    width: 12px;
    height: 12px;
  }

  &[data-logo='github'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }

  &[data-logo='saml'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }
`]))),qNn=c.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsxs("g",{clipPath:"url(#clip0)",children:[c.jsx("path",{d:"M12 6.13764C12 5.72977 11.9663 5.31971 11.8943 4.91846H6.12036V7.22895H9.42684C9.28963 7.97412 8.84876 8.63332 8.20322 9.05221V10.5514H10.1759C11.3342 9.50637 12 7.9631 12 6.13764Z",fill:"#4285F4"}),c.jsx("path",{d:"M6.12019 12.0002C7.77118 12.0002 9.16349 11.4688 10.1779 10.5517L8.20529 9.05253C7.65646 9.41851 6.94793 9.62574 6.12244 9.62574C4.52544 9.62574 3.17136 8.56971 2.68552 7.1499H0.649902V8.69537C1.68908 10.7215 3.80567 12.0002 6.12019 12.0002V12.0002Z",fill:"#34A853"}),c.jsx("path",{d:"M2.68332 7.14986C2.4269 6.40469 2.4269 5.59778 2.68332 4.8526V3.30713H0.649951C-0.218278 5.00252 -0.218278 6.99995 0.649951 8.69533L2.68332 7.14986V7.14986Z",fill:"#FBBC04"}),c.jsx("path",{d:"M6.12019 2.37483C6.99291 2.3616 7.8364 2.68348 8.46845 3.27433L10.2161 1.56131C9.1095 0.542752 7.64071 -0.017233 6.12019 0.000404333C3.80566 0.000404333 1.68908 1.27911 0.649902 3.3074L2.68326 4.85288C3.16686 3.43087 4.52319 2.37483 6.12019 2.37483V2.37483Z",fill:"#EA4335"})]}),c.jsx("defs",{children:c.jsx("clipPath",{id:"clip0",children:c.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),YNn=c.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("g",{clipPath:"url(#clip0)",children:c.jsx("path",{d:"M11.195 3.13503C10.6711 2.22838 9.91808 1.47537 9.01144 0.951471C8.09222 0.414976 7.08837 0.146729 5.99987 0.146729C4.91137 0.146729 3.90752 0.414976 2.98831 0.951471C2.08163 1.47534 1.32862 2.22836 0.804744 3.13503C0.268248 4.05497 0 5.05883 0 6.14659C0 7.45399 0.381531 8.62978 1.14459 9.67394C1.90765 10.7181 2.89327 11.4408 4.10143 11.8419C4.24208 11.868 4.34624 11.8497 4.41392 11.7872C4.44666 11.7577 4.47263 11.7215 4.49006 11.681C4.50749 11.6405 4.51595 11.5967 4.51488 11.5527C4.51488 11.537 4.51361 11.3963 4.51105 11.1307C4.5085 10.8651 4.50722 10.6334 4.50722 10.4355L4.32745 10.4666C4.18407 10.4895 4.03885 10.4986 3.89375 10.494C3.71159 10.4908 3.53001 10.4725 3.35087 10.4393C3.16049 10.4045 2.98119 10.3246 2.82796 10.2064C2.66705 10.0846 2.54715 9.91661 2.48428 9.72484L2.40602 9.54506C2.34022 9.40286 2.25754 9.2691 2.15976 9.14666C2.04775 9.00072 1.93447 8.90176 1.81991 8.84977L1.76518 8.81064C1.72769 8.78356 1.6936 8.75205 1.66367 8.71679C1.63479 8.6841 1.61108 8.64719 1.59334 8.60734C1.57766 8.57085 1.5907 8.54085 1.63247 8.51731C1.67461 8.49405 1.75123 8.48256 1.86068 8.48256L2.01692 8.50582C2.12108 8.52662 2.24996 8.5891 2.40356 8.69326C2.5585 8.79876 2.68797 8.93748 2.78254 9.09932C2.90239 9.31294 3.04695 9.47575 3.21624 9.58775C3.38552 9.69976 3.55609 9.75576 3.72793 9.75576C3.87725 9.7578 4.02641 9.74479 4.17312 9.7169C4.29459 9.69195 4.41264 9.65254 4.52473 9.59952C4.57162 9.25037 4.69931 8.98212 4.90782 8.79477C4.63684 8.76849 4.36827 8.72157 4.10444 8.6544C3.84797 8.58382 3.60133 8.48141 3.37029 8.34958C3.12825 8.218 2.91442 8.04015 2.74095 7.82613C2.57421 7.6178 2.4374 7.34417 2.3305 7.00524C2.2236 6.6663 2.1707 6.27584 2.1718 5.83383C2.1718 5.20357 2.37757 4.66708 2.7891 4.22435C2.59629 3.75006 2.61453 3.21885 2.84383 2.63073C2.99487 2.58385 3.21879 2.61897 3.51559 2.73608C3.81239 2.85319 4.02983 2.95352 4.16792 3.03707C4.30601 3.12025 4.41665 3.19058 4.49983 3.24804C5.48153 2.9773 6.51821 2.9773 7.49991 3.24804L7.79679 3.0606C8.0249 2.92356 8.26549 2.80849 8.51535 2.71693C8.79135 2.61276 9.00231 2.58412 9.14825 2.63101C9.38248 3.21949 9.40327 3.7507 9.21064 4.22462C9.62199 4.66735 9.82776 5.20385 9.82795 5.83411C9.82795 6.27684 9.77459 6.66904 9.66787 7.01071C9.56116 7.35238 9.42325 7.62601 9.25415 7.8316C9.07785 8.04326 8.86311 8.21966 8.62124 8.35149C8.39008 8.48329 8.14337 8.5857 7.88682 8.65632C7.62412 8.72277 7.35674 8.76915 7.087 8.79505C7.35698 9.02927 7.49206 9.3994 7.49225 9.90543V11.5527C7.49115 11.5964 7.49929 11.6398 7.51612 11.6802C7.53295 11.7206 7.5581 11.7569 7.58993 11.7869C7.65505 11.8493 7.75794 11.8675 7.89858 11.8416C9.10693 11.4403 10.0926 10.7177 10.8557 9.67367C11.6188 8.62968 12.0003 7.4539 12.0003 6.14632C11.9997 5.05873 11.7313 4.05497 11.195 3.13503V3.13503Z",fill:"black"})}),c.jsx("defs",{children:c.jsx("clipPath",{id:"clip0",children:c.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),KNn=c.jsxs("svg",{width:"17",height:"9",viewBox:"0 0 17 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M0.0691681 5.98162C0.115833 7.24157 1.07247 8.00221 2.59841 8.00221C4.17102 8.00221 5.12299 7.19957 5.12299 5.86962C5.12299 4.83832 4.55367 4.25501 3.25172 3.96569L2.56108 3.80703C1.8331 3.64837 1.53445 3.38704 1.53445 2.91106C1.53445 2.40708 1.94977 2.09442 2.61708 2.09442C3.27505 2.09442 3.6997 2.43508 3.75103 2.99039H5.00166C4.95966 1.78643 4.01236 0.997795 2.60308 0.997795C1.14713 0.997795 0.218496 1.79577 0.218496 3.05105C0.218496 4.04968 0.815808 4.69366 2.03376 4.96898L2.73374 5.13231C3.51304 5.30497 3.8117 5.54763 3.8117 6.00495C3.8117 6.55093 3.34972 6.90092 2.62174 6.90092C1.85644 6.90092 1.38045 6.56493 1.31979 5.98162H0.0691681Z"}),c.jsx("path",{d:"M5.97695 5.98162C6.02362 7.24157 6.98025 8.00221 8.5062 8.00221C10.0788 8.00221 11.0308 7.19957 11.0308 5.86962C11.0308 4.83832 10.4615 4.25501 9.15951 3.96569L8.46886 3.80703C7.74089 3.64837 7.44223 3.38704 7.44223 2.91106C7.44223 2.40708 7.85755 2.09442 8.52486 2.09442C9.18284 2.09442 9.60749 2.43508 9.65882 2.99039H10.9094C10.8674 1.78643 9.92015 0.997795 8.51086 0.997795C7.05492 0.997795 6.12628 1.79577 6.12628 3.05105C6.12628 4.04968 6.72359 4.69366 7.94155 4.96898L8.64153 5.13231C9.42083 5.30497 9.71949 5.54763 9.71949 6.00495C9.71949 6.55093 9.2575 6.90092 8.52953 6.90092C7.76422 6.90092 7.28824 6.56493 7.22758 5.98162H5.97695Z"}),c.jsx("path",{d:"M16.9852 5.01565V3.98435C16.9852 2.11309 16.0099 0.997795 14.3953 0.997795C12.7807 0.997795 11.8054 2.11309 11.8054 3.98435V5.01565C11.8054 6.88692 12.7807 8.00221 14.3953 8.00221C16.0099 8.00221 16.9852 6.88692 16.9852 5.01565ZM14.3953 6.82625C13.5833 6.82625 13.154 6.21494 13.154 5.00165V3.99835C13.154 2.78506 13.5833 2.17375 14.3953 2.17375C15.2073 2.17375 15.6366 2.78506 15.6366 3.99835V5.00165C15.6366 6.21494 15.2073 6.82625 14.3953 6.82625Z"})]}),ZNn=t=>{let{provider:e}=t;const n=e==null?void 0:e.startsWith("saml-"),r=n?"saml":e;return c.jsxs(GNn,{"data-logo":r,children:[e==="google"&&qNn,e==="github"&&YNn,e==="sanity"&&c.jsx(Obn,{}),n&&KNn]})};var mke=Object.freeze,XNn=Object.defineProperty,eXe=(t,e)=>mke(XNn(t,"raw",{value:mke(e||t.slice())})),gke,vke;const L6=1,QNn=H(er)(gke||(gke=eXe([`
  min-width: 200px;
  max-width: 300px;
`]))),JNn=H(N)(vke||(vke=eXe([`
  position: relative;
  min-width: `,`px;
  min-height: `,`px;
`])),t=>{let{theme:e}=t;return e.sanity.avatar.sizes[L6].size},t=>{let{theme:e}=t;return e.sanity.avatar.sizes[L6].size});function eVn(t){let{setScheme:e}=t;const n=UZe(e);return c.jsxs(c.Fragment,{children:[c.jsx(Ci,{}),c.jsx(N,{padding:2,children:c.jsx(jn,{size:1,muted:!0,children:"Appearance"})}),n.map(r=>{let{icon:i,label:s,name:o,onSelect:a,selected:l,title:u}=r;return c.jsx(St,{"aria-label":s,icon:i,onClick:a,pressed:l,text:u,iconRight:l&&c.jsx(Uf,{})},o)})]})}function tVn(){const{currentUser:t,projectId:e,auth:n}=kw(),r=VZe(),i=$ie(),s=!!(t&&ZGe(t,"administrator")),o=fqe(t==null?void 0:t.provider),a=m.useMemo(()=>({placement:"bottom-end",portal:!0,preventOverflow:!0,scheme:r,constrainSize:!0}),[r]);return c.jsx(vr,{button:c.jsx(Ce,{mode:"bleed",padding:0,paddingX:1,children:c.jsxs(ae,{align:"center",gap:1,children:[c.jsx($f,{user:"me",size:1}),c.jsx(G,{size:L6,muted:!0,children:c.jsx(_0,{})})]})}),id:"user-menu",menu:c.jsxs(QNn,{children:[c.jsx(ge,{padding:2,children:c.jsxs(ae,{align:"center",children:[c.jsx(Mn,{disabled:!o,portal:!0,content:o&&c.jsx(N,{padding:2,children:c.jsxs(G,{size:1,children:["Signed in with ",o]})}),children:c.jsxs(JNn,{marginRight:3,children:[c.jsx($f,{size:L6,user:"me"}),(t==null?void 0:t.provider)&&c.jsx(ZNn,{provider:t.provider})]})}),c.jsxs(Te,{space:2,flex:1,children:[c.jsx(G,{size:2,weight:"medium",textOverflow:"ellipsis",children:t==null?void 0:t.name}),c.jsx(G,{size:1,muted:!0,textOverflow:"ellipsis",children:t==null?void 0:t.email})]})]})}),i&&c.jsx(eVn,{setScheme:i}),c.jsx(Ci,{}),c.jsx(St,{as:"a","aria-label":"Manage project",href:"https://sanity.io/manage/project/".concat(e),target:"_blank",text:"Manage project",icon:H3}),s&&c.jsx(St,{as:"a","aria-label":"Invite members",href:"https://sanity.io/manage/project/".concat(e,"/members"),target:"_blank",text:"Invite members",icon:w7}),n.logout&&c.jsxs(c.Fragment,{children:[c.jsx(Ci,{}),c.jsx(St,{iconRight:aQ,text:"Sign out",disabled:!n.logout,...n.logout&&{onClick:n.logout}})]})]}),popover:a})}var yke=Object.freeze,nVn=Object.defineProperty,rVn=(t,e)=>yke(nVn(t,"raw",{value:yke(e||t.slice())})),bke;const iVn=H(N)(bke||(bke=rVn([`
  max-width: 300px;
`]))),tXe=33;function sVn(t){const{option:e,currentUser:n,onClick:r,preview:i}=t,s=m.useMemo(()=>({template:e.templateId,type:e.schemaType}),[e.schemaType,e.templateId]),{onClick:o,href:a}=QC({intent:"create",params:s}),l=m.useCallback(u=>{o(u),r(e)},[o,r,e]);return c.jsx(Mn,{disabled:e.hasPermission,portal:!0,content:c.jsx(iVn,{padding:2,children:c.jsx(ym,{currentUser:n,operationLabel:"create this document"})}),children:c.jsx("div",{children:c.jsx(ge,{as:e.hasPermission?"a":"button",disabled:!e.hasPermission,href:a,marginBottom:1,onClick:l,padding:i==="inline"?3:4,radius:2,children:c.jsx(G,{size:i==="inline"?1:void 0,children:e.title})})})},e.id)}var xke=Object.freeze,oVn=Object.defineProperty,nXe=(t,e)=>xke(oVn(t,"raw",{value:xke(e||t.slice())})),wke,_ke;const BH=H(ae)(wke||(wke=nXe([`
  min-height: 100px;
`]))),aVn=H.strong(_ke||(_ke=nXe([`
  word-break: break-all;
`])));function Cke(t){const{currentUser:e,loading:n,onDocumentClick:r,options:i,preview:s,searchQuery:o,textInputElement:a}=t,l=i.length>0&&!n,u=m.useCallback(()=>{r()},[r]),d=m.useCallback(h=>{var p;return((p=i[h])==null?void 0:p.hasPermission)===!1},[i]),f=m.useCallback(h=>c.jsx(sVn,{currentUser:e,onClick:u,option:h,preview:s},h.id),[e,u,s]);return n?c.jsx(BH,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:c.jsxs(cn,{space:2,children:[c.jsx(_s,{muted:!0,size:1}),c.jsx(G,{muted:!0,size:1,children:"Loading"})]})}):!l&&o?c.jsx(BH,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:c.jsxs(G,{align:"center",muted:!0,size:1,children:["No results found for ",c.jsxs(aVn,{children:["",o,""]})]})}):l?c.jsx(fE,{activeItemDataAttr:"data-hovered",ariaLabel:"New document",autoFocus:h0?void 0:"input",getItemDisabled:d,inputElement:a,itemHeight:tXe,items:i,overscan:5,padding:s==="inline"?1:2,paddingBottom:0,renderItem:f}):c.jsx(BH,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:c.jsx(G,{align:"center",muted:!0,size:1,children:"No documents found"})})}function lVn(t,e){const n=e.title.toLowerCase();return t.trim().toLowerCase().split(/[\s\-_]+/).every(s=>n.includes(s))}function uVn(t,e,n){const r=e.title.toLowerCase(),i=n.title.toLowerCase(),s=t.trim().toLowerCase();return r.startsWith(s)&&!i.startsWith(s)?-1:i.startsWith(s)&&!r.startsWith(s)?1:r.includes(s)&&!i.includes(s)?-1:i.includes(s)&&!r.includes(s)?1:0}function cVn(t,e){return t.map(i=>({...i,title:(i==null?void 0:i.title)||i.id})).sort((i,s)=>i.title.localeCompare(s.title)).filter(i=>lVn(e,i)).sort((i,s)=>uVn(e,i,s))}var Eke=Object.freeze,dVn=Object.defineProperty,Aw=(t,e)=>Eke(dVn(t,"raw",{value:Eke(e||t.slice())})),Ske,Tke,kke,Ake,Ike,Dke,Rke;const fVn=H(Ti)(()=>qe(Ske||(Ske=Aw([`
    [data-ui='Popover__wrapper'] {
      width: 320px;
      display: flex;
      flex-direction: column;
      border-radius: `,`px;
      position: relative;
      overflow: hidden;
      overflow: clip;
    }
  `])),t=>{let{theme:e}=t;return e.sanity.radius[3]})),hVn=H(pa)(()=>qe(Tke||(Tke=Aw([`
    [data-ui='DialogCard'] {
      justify-content: flex-start;
    }
  `])))),pVn=H(N)(kke||(kke=Aw([`
  max-width: 300px;
`]))),jke=H(ae)(Ake||(Ake=Aw([""]))),mVn=H(ge)(Ike||(Ike=Aw([`
  min-height: max-content;
`]))),gVn=H(ge)(Dke||(Dke=Aw([`
  min-height: max-content;
`]))),vVn=H(ae)(t=>{const{$maxDisplayedItems:e,$itemHeight:n}=t;return qe(Rke||(Rke=Aw([`
      --item-height: `,`px;
      --max-items: `,`;
      --list-padding: 0.5rem;

      position: relative;
      max-height: calc(var(--item-height) * var(--max-items) + var(--list-padding));
      min-height: calc((var(--item-height) * 1));
    `])),n,e)}),yVn=10;function bVn(t){const{canCreateDocument:e,modal:n="popover",loading:r,options:i}=t,[s,o]=m.useState(!1),[a,l]=m.useState(""),[u,d]=m.useState(null),[f,h]=m.useState(null),[p,g]=m.useState(null),[v,y]=m.useState(null),{scheme:x}=Po(),b=Md(),_=i.length>0,C=!e||!_,S="Search",T="Create new document",A=m.useMemo(()=>cVn(i,a),[i,a]),k=m.useCallback(V=>{l(V.currentTarget.value)},[]),I=m.useCallback(()=>o(V=>!V),[]),D=m.useCallback(()=>{o(!1),l(""),p==null||p.focus()},[p]),R=m.useCallback(V=>{V.key==="ArrowDown"&&!s&&o(!0)},[s]),O=m.useCallback(V=>{(V.key==="Escape"||V.key==="Tab")&&s&&D()},[D,s]);ga(()=>{s&&D()},[p,f,u]);const L=m.useMemo(()=>({currentUser:b,loading:r,onDocumentClick:I,options:A,searchQuery:a,preview:n==="popover"?"inline":"default",textInputElement:v}),[b,A,I,r,n,v,a]),P=m.useMemo(()=>({border:!1,defaultValue:a,disabled:r,icon:nl,onChange:k,placeholder:S,ref:y}),[k,r,S,a]),$=m.useMemo(()=>({"aria-label":T,disabled:C||r,icon:mx,mode:"bleed",onClick:I,ref:g,selected:s}),[C,I,r,s,T]),B=m.useMemo(()=>_?e?c.jsx(G,{size:1,children:"New document..."}):c.jsx(ym,{currentUser:b,operationLabel:"create any document"}):c.jsx(G,{size:1,children:"No document types"}),[e,b,_]),Q=m.useMemo(()=>({content:c.jsx(pVn,{padding:2,children:B}),disabled:r||s,placement:"bottom",portal:!0,scheme:x}),[r,s,x,B]);return n==="dialog"?c.jsxs(c.Fragment,{children:[c.jsx(Mn,{...Q,children:c.jsx("div",{children:c.jsx(Ce,{...$})})}),s&&c.jsx(hVn,{header:T,id:"create-new-document-dialog",onClickOutside:D,onClose:D,ref:h,scheme:x,width:1,children:c.jsxs(jke,{direction:"column",flex:1,height:"fill",children:[c.jsx(gVn,{padding:2,borderBottom:!0,children:c.jsx(Fi,{...P})}),c.jsx(ae,{direction:"column",overflow:"hidden",children:c.jsx(Cke,{...L})})]})})]}):c.jsx(fVn,{constrainSize:!0,onKeyDown:O,open:s,portal:!0,radius:3,ref:d,scheme:x,content:c.jsxs(jke,{direction:"column",flex:1,forwardedAs:gy,height:"fill",returnFocus:!0,children:[c.jsx(mVn,{sizing:"border",children:c.jsxs(Te,{children:[c.jsx(N,{paddingX:3,paddingY:3,children:c.jsx(N,{paddingY:1,children:c.jsx(jn,{size:1,muted:!0,children:T})})}),c.jsx(ge,{borderTop:!0,borderBottom:!0,padding:1,children:c.jsx(Fi,{...P,fontSize:1,radius:1})})]})}),c.jsx(vVn,{$itemHeight:tXe,$maxDisplayedItems:yVn,direction:"column",overflow:"hidden",children:c.jsx(Cke,{...L})})]}),children:c.jsx("div",{children:c.jsx(Mn,{...Q,children:c.jsx("div",{children:c.jsx(Ce,{...$,"aria-expanded":s,"aria-haspopup":"true",onKeyDown:R})})})})})}function xVn(){const{__internal:{staticInitialValueTemplateItems:t}}=Zs(),[e,n]=UXe({templateItems:t}),r=(e==null?void 0:e.some(s=>t.some(o=>o.id===s.id)))||!1,i=m.useMemo(()=>t.map(s=>{var o;return{...s,title:(s==null?void 0:s.title)||s.id,hasPermission:((o=e==null?void 0:e.find(a=>a.id===s.id))==null?void 0:o.granted)||!1}}),[e,t]);return{canCreateDocument:r,loading:n,options:i}}var Oke=Object.freeze,wVn=Object.defineProperty,_Vn=(t,e)=>Oke(wVn(t,"raw",{value:Oke(e||t.slice())})),Lke;const CVn=H(ge)(Lke||(Lke=_Vn([`
  background: transparent;
  margin: calc((-35px + 11px) / 2);
`]))),EVn=m.memo(function(e){const{presence:n,focused:r,onFocus:i}=e,[s,o]=m.useState(null),a=kI(n.locations||[],["lastActiveAt"],["desc"]).find(f=>f.documentId),l=!!(a!=null&&a.documentId);m.useEffect(()=>{r&&s&&(s.focus(),s.setAttribute("data-selected","")),r||s==null||s.removeAttribute("data-selected")},[s,r]);const u=m.useCallback(()=>{i(n.user.id)},[i,n.user.id]),d=m.useMemo(()=>m.forwardRef(function(h,p){return a!=null&&a.path?c.jsx(D0,{...h,intent:"edit",params:{id:a==null?void 0:a.documentId,path:Uu(a==null?void 0:a.path)},ref:p}):null}),[a]);return c.jsx(St,{as:a?d:"div","data-as":a?"a":"div",onFocus:u,paddingY:l?4:3,paddingLeft:4,paddingRight:3,ref:o,children:c.jsxs(ae,{align:"center",children:[c.jsx(CVn,{children:c.jsx($f,{size:1,user:n.user,status:l?"editing":"inactive"},n.user.id)}),c.jsxs(Te,{space:2,marginLeft:4,children:[c.jsx(G,{textOverflow:"ellipsis",children:n.user.displayName}),!l&&c.jsx(G,{size:0,muted:!0,textOverflow:"ellipsis",children:"Not in a document"})]})]})})});var Pke=Object.freeze,SVn=Object.defineProperty,Fie=(t,e)=>Pke(SVn(t,"raw",{value:Pke(e||t.slice())})),Mke,$ke,Fke;const TVn=4,kVn=H(ge)(Mke||(Mke=Fie([`
  background: transparent;
`]))),AVn=H(er)($ke||($ke=Fie([`
  max-width: 350px;
  min-width: 250px;
`]))),IVn=H(Te)(Fke||(Fke=Fie([`
  position: sticky;
  bottom: 0;
`])));function DVn(t){const{collapse:e}=t,n=cqn(),{projectId:r}=kw(),{scheme:i}=Po(),s=n.length>0,[o,a]=m.useState(),l=m.useCallback(h=>{a(h)},[]),u=m.useCallback(()=>{a("")},[]),d=m.useMemo(()=>e?c.jsx(_y,{icon:w7,mode:"bleed",tone:s?"positive":void 0}):c.jsx(Ce,{mode:"bleed",padding:1,children:c.jsx(kVn,{children:c.jsx(X7,{maxLength:TVn,children:n.map(h=>c.jsx($f,{user:h.user},h.user.id))})})}),[e,s,n]),f=m.useMemo(()=>({constrainSize:!0,portal:!0,scheme:i}),[i]);return c.jsx(vr,{button:d,id:"global-presence-menu",onClose:u,menu:c.jsxs(AVn,{padding:1,children:[s&&c.jsx(Te,{children:n.map(h=>c.jsx(EVn,{focused:o===h.user.id,onFocus:l,presence:h},h.user.id))}),!s&&c.jsx(N,{paddingX:3,paddingY:4,children:c.jsxs(Te,{space:3,children:[c.jsx(G,{weight:"semibold",size:2,children:"No one else is here"}),c.jsx(G,{size:1,muted:!0,children:"Invite people to the project to see their online status."})]})}),c.jsxs(IVn,{space:1,children:[c.jsx(Ci,{}),c.jsx(St,{as:"a",href:"https://sanity.io/manage/project/".concat(r),iconRight:H3,onFocus:u,paddingY:4,rel:"noopener noreferrer",target:"_blank",text:"Manage members"})]})]}),popover:f})}var Bke=Object.freeze,RVn=Object.defineProperty,Bie=(t,e)=>Bke(RVn(t,"raw",{value:Bke(e||t.slice())})),Nke,Vke,Uke;const Hke={duration:.2},jVn={open:{opacity:1},closed:{opacity:0}},OVn={open:{x:"0%"},closed:{x:"-100%"}},LVn=H(Wf)(Nke||(Nke=Bie([`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`]))),PVn=H(HJ(ge))(Vke||(Vke=Bie([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--card-shadow-penumbra-color);
`]))),MVn=H(HJ(ge))(Uke||(Uke=Bie([`
  position: relative;
  pointer-events: all;
  flex-direction: column;
  height: 100%;
  min-width: 200px;
  max-width: 280px;
  overflow: auto;
`])));function $Vn(t){let{setScheme:e}=t;const n=UZe(e);return c.jsx(c.Fragment,{children:c.jsxs(ge,{borderTop:!0,flex:"none",padding:3,overflow:"auto",children:[c.jsx(N,{padding:2,children:c.jsx(jn,{size:1,muted:!0,children:"Appearance"})}),c.jsx(Te,{as:"ul",marginTop:1,space:1,children:n.map(r=>{let{icon:i,label:s,name:o,onSelect:a,selected:l,title:u}=r;return c.jsx(Te,{as:"li",children:c.jsx(Ce,{"aria-label":s,icon:i,iconRight:l&&c.jsx(Uf,{}),justify:"flex-start",mode:"bleed",onClick:a,selected:l,text:u})},o)})})]})})}const FVn=m.memo(function(e){const{activeToolName:n,isOpen:r,onClose:i,tools:s}=e,o=$ie(),{auth:a,currentUser:l,projectId:u}=kw(),d=eD(),f=_Xe(),h=!!(l&&ZGe(l,"administrator")),p=m.useCallback(g=>{g.key==="Escape"&&i()},[i]);return c.jsx(a$e,{children:r&&c.jsx(gy,{autoFocus:!0,returnFocus:!0,children:c.jsxs(LVn,{onKeyDown:p,children:[c.jsx(PVn,{animate:"open","data-open":r,exit:"closed",initial:"closed",onClick:i,transition:Hke,variants:jVn}),c.jsxs(MVn,{animate:"open","data-open":r,display:"flex",exit:"closed",height:"fill",initial:"closed",shadow:1,transition:Hke,variants:OVn,children:[c.jsx(ge,{borderBottom:!0,children:c.jsxs(Te,{space:3,padding:3,children:[c.jsxs(ae,{align:"center",children:[c.jsx(ae,{flex:1,align:"center",paddingRight:2,children:c.jsxs(ae,{flex:1,align:"center",children:[c.jsx(N,{children:c.jsx($f,{size:1,user:"me"})}),c.jsx(N,{flex:1,marginLeft:2,title:(l==null?void 0:l.name)||(l==null?void 0:l.email),children:c.jsx(G,{textOverflow:"ellipsis",children:(l==null?void 0:l.name)||(l==null?void 0:l.email)})})]})}),c.jsx(N,{children:c.jsx(Ce,{icon:Rd,mode:"bleed",onClick:i,title:"Close menu"})})]}),d.length>1&&c.jsx(KZe,{text:"Select workspace",justify:"flex-start"})]})}),c.jsxs(ae,{direction:"column",flex:1,justify:"space-between",overflow:"auto",children:[c.jsx(ge,{flex:"none",padding:3,children:c.jsx(f,{activeToolName:n,closeSidebar:i,context:"sidebar",isSidebarOpen:r,tools:s})}),c.jsxs(ae,{direction:"column",children:[o&&c.jsx($Vn,{setScheme:o}),c.jsx(ge,{borderTop:!0,flex:"none",padding:3,children:c.jsxs(Te,{as:"ul",space:1,children:[c.jsx(Te,{as:"li",children:c.jsx(Ce,{"aria-label":"Manage project",as:"a",href:"https://sanity.io/manage/project/".concat(u),icon:H3,justify:"flex-start",mode:"bleed",target:"_blank",text:"Manage project"})}),h&&c.jsx(Te,{as:"li",children:c.jsx(Ce,{"aria-label":"Invite members",as:"a",href:"https://sanity.io/manage/project/".concat(u,"/members"),icon:w7,justify:"flex-start",mode:"bleed",target:"_blank",text:"Invite members"})})]})})]})]}),a.logout&&c.jsx(ge,{flex:"none",padding:3,borderTop:!0,children:c.jsx(Te,{children:c.jsx(Ce,{iconRight:aQ,justify:"flex-start",mode:"bleed",onClick:a.logout,text:"Sign out"})})})]})]})})})});function BVn(){var t;const n=((t=es()._validation)==null?void 0:t.filter(f=>f.problems.some(h=>h.severity==="warning")))||[],{scheme:r}=Po(),i=m.useId(),[s,o]=m.useState(!1),[a,l]=m.useState(null),u=m.useCallback(()=>o(!0),[]),d=m.useCallback(()=>{o(!1),a&&a.focus()},[a]);return n.length===0?null:c.jsxs(c.Fragment,{children:[c.jsx(_y,{icon:vo,label:"Found configuration issues",mode:"bleed",onClick:u,ref:l,selected:s,tone:"caution",tooltip:{scheme:r}}),s&&c.jsx(pa,{header:c.jsxs(Te,{space:3,children:[c.jsx(G,{weight:"semibold",children:"Configuration issues"}),c.jsx(G,{muted:!0,size:1,children:"Configuration checks are only performed during development and will not be visible in production builds"})]}),width:2,onClickOutside:d,onClose:d,scheme:r,id:i,children:c.jsxs(Te,{space:4,padding:4,children:[c.jsxs(Ws,{as:"h2",size:1,children:["Found ",n.length," schema warnings"]}),c.jsx(WZe,{problemGroups:n})]})})]})}function zke(t){const{title:e,children:n,href:r,onClick:i}=t;return c.jsx(Ce,{"aria-label":e,as:"a","data-testid":"logo",href:r,mode:"bleed",onClick:i,padding:0,children:n})}const NVn=Iu("mod+".concat(SZe)),VVn=Iu("escape");function UVn(t){let{open:e,onClose:n,onOpen:r}=t;const{isTopLayer:i}=Zh(),s=m.useCallback(()=>{n==null||n()},[n]),o=m.useCallback(a=>{NVn(a)&&(a.preventDefault(),e?s():r==null||r()),VVn(a)&&e&&i&&s()},[s,i,e,r]);zf(o)}function rXe(t){let{children:e,hasValidTerms:n,onClose:r,onOpen:i,open:s}=t;const o=m.useRef(!1),{dispatch:a,searchCommandList:l,setOnClose:u,state:{result:d}}=yr(),f=m.useCallback(()=>{var h;a({index:(h=l==null?void 0:l.getTopIndex())!=null?h:-1,type:"LAST_ACTIVE_INDEX_SET"}),r()},[a,r,l]);return UVn({onClose:f,onOpen:i,open:s}),m.useEffect(()=>{u(f)},[f,u]),m.useEffect(()=>{(!n||d.loaded)&&o.current&&a({index:0,type:"LAST_ACTIVE_INDEX_SET"})},[a,n,d.loaded]),m.useEffect(()=>{!n&&o.current&&!s&&a({type:"ORDERING_RESET"})},[a,n,s]),m.useEffect(()=>{o!=null&&o.current||(o.current=!0)},[]),s?c.jsx("div",{children:e}):null}function HVn(t){return t.reduce((e,n)=>(e[n.type]=n,e),{})}function Zv(t,e){return e?t[e]:void 0}function zVn(t,e){var n;return(n=Zv(t,e))==null?void 0:n.initialValue}function vK(t,e){var n;return{fieldId:e,filterName:t.name,operatorType:((n=t==null?void 0:t.operators.find(r=>r.type==="item"))==null?void 0:n.name)||""}}function lb(t){let{fieldDefinitions:e,filterDefinitions:n,filters:r,operatorDefinitions:i}=t;return r.filter(s=>tD({filter:s,filterDefinitions:n,fieldDefinitions:e,operatorDefinitions:i})).map(s=>{var o;return(o=Zv(i,s.operatorType))==null?void 0:o.groqFilter({fieldPath:WVn({filter:s,fieldDefinitions:e,filterDefinitions:n}),value:s==null?void 0:s.value})}).filter(s=>!ubn(s)).filter(ma).join(" && ")}function y0(t,e){return e!=null&&e.fieldId?t[e.fieldId]:void 0}function Mu(t){return[t.filterName,...t.fieldId?[t.fieldId]:[]].join("-")}function ub(t){let{fieldDefinitions:e,filters:n,types:r}=t;const i=r.map(l=>l.name),s=Object.values(e).filter(l=>n.map(u=>u==null?void 0:u.fieldId).includes(l.id)).filter(l=>l.documentTypes.length>0).map(l=>l.documentTypes),o=oM(...s),a=[];return i.length>0&&a.push(i),o.length>0&&a.push(o),oM(...a).sort()}function WVn(t){let{filter:e,fieldDefinitions:n,filterDefinitions:r}=t;const i=y0(n,e),s=Sy(r,e.filterName);if(s)switch(s.type){case"field":return i==null?void 0:i.fieldPath;case"pinned":return s==null?void 0:s.fieldPath;default:return}}function tD(t){let{filter:e,filterDefinitions:n,fieldDefinitions:r,operatorDefinitions:i}=t;const s=Sy(n,e.filterName),o=Zv(i,e.operatorType),a=y0(r,e);return!(!s||!o||e.fieldId&&!a||s.type==="field"&&(!(a!=null&&a.fieldPath)||!e.fieldId||!o.groqFilter({fieldPath:a.fieldPath,value:e.value}))||s.type==="pinned"&&!o.groqFilter({fieldPath:s.fieldPath,value:e.value}))}var Wke=Object.freeze,GVn=Object.defineProperty,qVn=(t,e)=>Wke(GVn(t,"raw",{value:Wke(e||t.slice())})),Gke;const YVn=Iu("escape"),KVn=500,ZVn=H.div(Gke||(Gke=qVn([`
  background: transparent;
  height: 100%;
  left: 0;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: -1;
`])));function Nie(t){let{anchorElement:e,children:n,onClose:r}=t;const{isTopLayer:i}=Zh(),s=m.useCallback(a=>{YVn(a)&&i&&r()},[i,r]);zf(s);const o=XVn(e||null);return c.jsxs(c.Fragment,{children:[c.jsx(ZVn,{onClick:r}),c.jsx(gy,{autoFocus:!1,returnFocus:!0,children:c.jsx(ge,{display:"flex",overflow:"hidden",radius:_E,style:{maxHeight:"min(calc(100vh - ".concat(o,"px - ").concat(JI,"px - ").concat(u3,"px), ").concat(KVn,"px"),zIndex:1},children:c.jsx(ae,{children:n})})})]})}function NH(t){const e=t.getBoundingClientRect();return e.y+e.height+JI}function XVn(t){const[e,n]=m.useState(t&&NH(t)),r=m.useCallback(()=>{t&&n(NH(t))},[t]);return m.useEffect(()=>{t&&n(NH(t))},[t]),m.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),e}var qke=Object.freeze,QVn=Object.defineProperty,iXe=(t,e)=>qke(QVn(t,"raw",{value:qke(e||t.slice())})),Yke,Kke;const JVn=H(N)(Yke||(Yke=iXe([`
  border-bottom: 1px solid `,`;
  flex-shrink: 0;
`])),t=>{let{theme:e}=t;return e.sanity.color.base.border}),eUn=H(ae)(Kke||(Kke=iXe([`
  box-sizing: border-box;
`]))),sXe=m.forwardRef(function(e,n){let{ariaInputLabel:r,onChange:i,onClear:s,typeFilter:o}=e;const{state:{fullscreen:a}}=yr();return c.jsx(JVn,{children:c.jsx(eUn,{align:"center",flex:1,padding:1,children:c.jsx(Lie,{"aria-label":r,autoComplete:"off",border:!1,clearButton:!!o,fontSize:a?2:1,icon:nl,muted:!0,onChange:i,onClear:s,placeholder:"Filter",ref:n,smallClearButton:!0,spellCheck:!1,radius:2,value:o})})})});function tUn(t){let{documentTypesNarrowed:e,fieldDefinitions:n,filterDefinitions:r,schema:i,titleFilter:s,types:o}=t;const a=Object.values(n).filter(u=>sUn(u,s)).map(u=>{const d=Sy(r,u.filterName);return d?vK(d,u.id):null}).filter(ma),l=rUn({fieldDefinitions:n,filterDefinitions:r,titleFilter:s});return e.length===0?[...l,...c3({fieldDefinitions:n,filterDefinitions:r,filters:a,headerTitle:"All fields",id:"field"})]:[...l,...nUn({documentTypesNarrowed:e,fieldDefinitions:n,filterDefinitions:r,filters:a,schema:i,types:o})]}function c3(t){let{fieldDefinitions:e,filterDefinitions:n,filters:r,id:i,headerTitle:s,tone:o}=t;const a={title:s||"",tone:o||"default",type:"header"},l=r.map(u=>({fieldDefinition:y0(e,u),filterDefinition:Sy(n,u.filterName),filter:u,group:i,tone:o||"default",type:"filter"}));return l.length>0?[...s?[a]:[],...l]:[]}function nUn(t){let{documentTypesNarrowed:e,fieldDefinitions:n,filterDefinitions:r,filters:i,schema:s,types:o}=t;const a=i.filter(d=>{const f=y0(n,d);return lUn(e,f)}),l=e.length>1&&o.length>1?c3({fieldDefinitions:n,filterDefinitions:r,filters:a,headerTitle:"Shared fields",id:"shared",tone:"primary"}):[],u=e.map(d=>{const f=s.get(d);return{title:(f==null?void 0:f.title)||yi(f==null?void 0:f.name)||"(Unknown type)",documentType:d}}).sort((d,f)=>d.title.localeCompare(f.title)).map(d=>{let{documentType:f,title:h}=d;const p=i.filter(g=>{const v=y0(n,g);return iUn([f],v)});return c3({fieldDefinitions:n,filterDefinitions:r,filters:p,id:h,headerTitle:h})}).flat();return[...l,...u]}function rUn(t){let{fieldDefinitions:e,filterDefinitions:n,titleFilter:r}=t;const i=Object.values(n).filter(aUn).filter(o=>Zke(o,r)).map(o=>vK(o)),s=Object.values(n).filter(oUn).filter(o=>Zke(o,r)).reduce((o,a)=>(o[a.group]=o[a.group]||[],o[a.group].push(vK(a)),o),{});return[...c3({fieldDefinitions:e,filterDefinitions:n,filters:i,id:"pinned-ungrouped",tone:"primary"}),...Object.entries(s).flatMap(o=>{let[a,l]=o;return c3({fieldDefinitions:e,filterDefinitions:n,filters:l,headerTitle:a,id:a,tone:"primary"})})]}function iUn(t,e){return e==null?void 0:e.documentTypes.some(n=>t.includes(n))}function sUn(t,e){return t.titlePath.join("/").toLowerCase().includes(e.toLowerCase())}function Zke(t,e){return t.title.toLowerCase().includes(e.toLowerCase())}function oUn(t){return t.type==="pinned"&&typeof(t==null?void 0:t.group)<"u"}function aUn(t){return t.type==="pinned"&&typeof(t==null?void 0:t.group)>"u"}function lUn(t,e){return DA(t,(e==null?void 0:e.documentTypes)||[]).length===0}function oXe(t){let{filter:e,maxLength:n}=t;const{state:{definitions:r}}=yr(),i=m.useMemo(()=>{const s=Sy(r.filters,e.filterName);switch(s==null?void 0:s.type){case"field":{const o=y0(r.fields,e);return o!=null&&o.titlePath?o.titlePath[o.titlePath.length-1]:null}case"pinned":return s.title;default:return null}},[r,e]);return i?n&&i.length>n?c.jsxs("span",{children:[i.slice(0,n),""]}):c.jsx("span",{children:i}):null}function uUn(t){let{filter:e}=t;var n;const{state:{definitions:r}}=yr(),i=(n=Sy(r.filters,e.filterName))==null?void 0:n.icon;return i?m.createElement(i):c.jsx(kh,{})}function aXe(t){let{filter:e,small:n=!0}=t;var r;const{state:{definitions:i}}=yr(),s=y0(i.fields,e);return c.jsxs(Te,{space:n?2:3,children:[(s==null?void 0:s.titlePath)&&((r=s.titlePath)==null?void 0:r.length)>1&&c.jsx(N,{marginLeft:4,children:c.jsx(G,{muted:!0,size:n?0:1,children:s.titlePath.slice(0,-1).map((o,a)=>c.jsxs(re.Fragment,{children:[c.jsx("span",{children:o}),a!==s.titlePath.length-2&&c.jsx("span",{style:{opacity:.75,paddingLeft:"0.25em",paddingRight:"0.25em"},children:c.jsx(nw,{})})]},a))})}),c.jsxs(ae,{align:"flex-start",gap:3,children:[c.jsx(N,{style:{flexShrink:0},children:c.jsx(G,{size:n?1:2,children:c.jsx(uUn,{filter:e})})}),c.jsx(G,{size:n?1:2,weight:"medium",children:c.jsx(oXe,{filter:e})})]})]})}function lXe(t){return m.isValidElement(t)?cUn(Uwn(t)):typeof t=="string"?t:""}function cUn(t){var e;return((e=new DOMParser().parseFromString(t,"text/html"))==null?void 0:e.body.textContent)||""}const VH=10;function dUn(t){let{children:e,fieldDefinition:n,filterDefinition:r,visible:i}=t;const{state:{documentTypesNarrowed:s}}=yr(),o=es(),a=m.useMemo(()=>n!=null&&n.documentTypes?n.documentTypes.map(u=>{const d=o.get(u);return(d==null?void 0:d.title)||yi(d==null?void 0:d.name)}).filter(ma).sort():[],[n==null?void 0:n.documentTypes,o]),l=m.useMemo(()=>{if(n!=null&&n.documentTypes){const u=n.documentTypes.map(f=>{const h=o.get(f);if(h){const p=Z$(h,n.fieldPath);return(p==null?void 0:p.type.description)&&lXe(p==null?void 0:p.type.description)}return null}).filter(ma).sort(),d=ha(u);if(d.length===1)return d[0]}},[n==null?void 0:n.documentTypes,n==null?void 0:n.fieldPath,o]);return c.jsx(Mn,{content:c.jsx(ge,{tone:"default",radius:2,style:{maxWidth:"250px"},children:c.jsxs(Te,{padding:3,space:4,children:[n&&c.jsxs(Te,{space:2,children:[c.jsx(jn,{muted:!0,size:0,children:"Field name"}),c.jsx(cn,{children:c.jsx(ge,{tone:"caution",padding:1,radius:2,children:c.jsx(qs,{size:0,children:n==null?void 0:n.name})})})]}),l&&c.jsxs(Te,{space:3,children:[c.jsx(jn,{muted:!0,size:0,children:"Field description"}),c.jsx(G,{muted:!0,size:0,children:Xke(l)})]}),(r==null?void 0:r.description)&&c.jsx(G,{muted:!0,size:0,children:Xke(r.description)}),!s.length&&a.length>0&&c.jsxs(Te,{space:2,children:[c.jsxs(ae,{align:"center",gap:1,children:[c.jsx(jn,{muted:!0,size:0,children:"Used in document types"}),c.jsx(ge,{padding:1,radius:2,tone:"transparent",children:c.jsx(G,{size:0,muted:!0,children:a.length})})]}),c.jsxs(G,{size:0,weight:"regular",muted:!0,children:[a.slice(0,VH).join(", "),(a==null?void 0:a.length)>VH?" +".concat(a.length-VH," more"):""]})]})]})}),disabled:!i,fallbackPlacements:["left"],placement:"right",portal:!0,children:e})}function Xke(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:256;return t.length>e?"".concat(t.slice(0,e-1),""):t}const fUn=re.memo(function(e){let{item:n,onClose:r,...i}=e;const[s,o]=m.useState(!1),{dispatch:a,state:{filters:l}}=yr(),u=m.useCallback(()=>{a({filter:n.filter,type:"TERMS_FILTERS_ADD"}),r==null||r()},[a,n.filter,r]),d=!!l.find(v=>Mu(v)===Mu(n.filter)),f=m.useRef(),h=m.useCallback(()=>{f.current=setTimeout(()=>o(!0),500)},[]),p=m.useCallback(()=>{o(!1),clearTimeout(f.current)},[]);m.useEffect(()=>()=>clearTimeout(f.current),[]);const g=!!(n.fieldDefinition||n.filterDefinition.description);return c.jsx(N,{...i,children:c.jsx(Ce,{disabled:d,fontSize:1,justify:"flex-start",mode:"bleed",onClick:d?void 0:u,onMouseEnter:h,onMouseLeave:p,padding:0,style:{position:"relative",whiteSpace:"normal",width:"100%"},tabIndex:-1,tone:n==null?void 0:n.tone,children:c.jsx(dUn,{fieldDefinition:n.fieldDefinition,filterDefinition:n.filterDefinition,visible:g&&s,children:c.jsx(N,{padding:3,children:c.jsx(aXe,{filter:n.filter})})})})})}),hUn=re.memo(function(e){let{item:n}=e;return c.jsx(N,{paddingTop:1,children:c.jsx(ge,{borderBottom:!0,padding:3,tone:n==null?void 0:n.tone,children:c.jsx(jn,{muted:!0,size:0,textOverflow:"ellipsis",children:n.title})})})});function pUn(t){let{onClose:e}=t;const[n,r]=m.useState(null),[i,s]=m.useState(""),o=m.useCallback(x=>s(x.currentTarget.value),[s]),a=m.useCallback(()=>s(""),[]),l=es(),{state:{documentTypesNarrowed:u,definitions:d,filters:f,terms:{types:h}}}=yr(),p=m.useMemo(()=>tUn({documentTypesNarrowed:u,fieldDefinitions:d.fields,filterDefinitions:d.filters,schema:l,titleFilter:i,types:h}),[u,d.fields,d.filters,l,i,h]),g=m.useCallback(x=>x.type==="filter"?c.jsx(fUn,{item:x,onClose:e,paddingBottom:1}):x.type==="header"?c.jsx(hUn,{item:x}):null,[e]),v=m.useCallback(x=>{const b=p[x];return b.type!=="filter"||!!f.find(_=>Mu(_)===Mu(b.filter))},[p,f]),y=m.useCallback(x=>{const b=p[x];switch(b.type){case"filter":return[...b.group?[b.group]:[],Mu(b.filter)].join("-");case"header":return"".concat(b.type,"-").concat(b.title);default:return x}},[p]);return c.jsxs(ae,{direction:"column",style:{width:"300px"},children:[c.jsx(sXe,{ariaInputLabel:"Filter by title",onChange:o,onClear:a,ref:r,typeFilter:i}),c.jsxs(ae,{children:[p.length>0&&c.jsx(fE,{activeItemDataAttr:"data-hovered",ariaLabel:"Filters",autoFocus:"input",getItemDisabled:v,getItemKey:y,inputElement:n,itemHeight:45,items:p,overscan:20,padding:1,paddingBottom:0,renderItem:g}),p.length==0&&c.jsx(N,{padding:3,children:c.jsxs(G,{muted:!0,size:1,textOverflow:"ellipsis",children:["No matches for '",i,"'"]})})]})]})}function Qke(){const[t,e]=m.useState(!1),[n,r]=m.useState(null),{state:{fullscreen:i}}=yr(),s=m.useCallback(()=>e(!1),[]),o=m.useCallback(()=>e(!0),[]);return c.jsx(Ti,{__unstable_margins:[JI,0,0,0],content:c.jsx(Nie,{anchorElement:n,onClose:s,children:c.jsx(pUn,{onClose:s})}),open:t,placement:"bottom-start",radius:_E,portal:!0,children:c.jsx(Ce,{fontSize:1,icon:Qa,mode:"bleed",onClick:o,padding:i?3:2,ref:r,selected:t,space:2,text:"Add filter"})})}const mUn=re.memo(function(e){let{selected:n,type:r,...i}=e;var s,o;const{dispatch:a}=yr(),l=m.useCallback(()=>{a({type:"TERMS_TYPE_ADD",schemaType:r})},[a,r]),u=m.useCallback(()=>{a({type:"TERMS_TYPE_REMOVE",schemaType:r})},[a,r]),d=m.useCallback(()=>{n?u():l()},[l,u,n]);return c.jsx(N,{...i,children:c.jsx(Ce,{fontSize:1,iconRight:n&&Uf,justify:"flex-start",mode:"bleed",onClick:d,style:{width:"100%"},tabIndex:-1,text:(o=r.title)!=null?o:r.name,tone:n?"primary":"default"},(s=r.title)!=null?s:r.name)})});var Jke=Object.freeze,gUn=Object.defineProperty,vUn=(t,e)=>Jke(gUn(t,"raw",{value:Jke(e||t.slice())})),eAe;const yUn=H(N)(eAe||(eAe=vUn([`
  border-top: 1px solid `,`;
  flex-shrink: 0;
`])),t=>{let{theme:e}=t;return e.sanity.color.base.border});function bUn(){const[t,e]=m.useState(null),[n,r]=m.useState(""),i=m.useRef(null),s=es(),{dispatch:o,state:{terms:{types:a}}}=yr(),[l,u]=m.useState(a),d=wUn(s,a,l,n),f=m.useCallback(b=>r(b.currentTarget.value),[r]),h=m.useCallback(()=>r(""),[]),p=m.useCallback(()=>{var b,_;u([]),o({type:"TERMS_TYPES_CLEAR"}),(b=i==null?void 0:i.current)==null||b.focusInputElement(),(_=i==null?void 0:i.current)==null||_.scrollToIndex(0)},[o]),g=m.useCallback(b=>{const _=d[b];switch(_.type){case"divider":return"".concat(_.type,"-").concat(b);case"header":return"".concat(_.type,"-").concat(_.title);case"item":return"".concat(_.type,"-").concat(_.item.name);default:return b}},[d]),v=m.useCallback(b=>b.type==="divider"?c.jsx(N,{paddingY:1,children:c.jsx(Ci,{})}):b.type==="header"?c.jsx(N,{margin:1,paddingBottom:2,paddingTop:3,children:c.jsx(jn,{muted:!0,size:0,children:b.title})}):b.type==="item"?c.jsx(mUn,{paddingBottom:1,selected:b.selected,type:b.item}):null,[]),y=m.useCallback(b=>d[b].type!=="item",[d]),x=m.useCallback(b=>{const _=d[b];return _.type==="item"&&_.selected},[d]);return c.jsxs(ae,{direction:"column",style:{width:"250px"},children:[c.jsx(sXe,{ariaInputLabel:"Filter by document type",onChange:f,onClear:h,ref:e,typeFilter:n}),c.jsxs(ae,{children:[d.length>0&&c.jsx(fE,{activeItemDataAttr:"data-hovered",ariaLabel:"Document types",ariaMultiselectable:!0,autoFocus:"input",getItemDisabled:y,getItemSelected:x,getItemKey:g,inputElement:t,itemHeight:37,items:d,overscan:20,padding:1,paddingBottom:0,ref:i,renderItem:v}),!d.length&&c.jsx(N,{padding:3,children:c.jsxs(G,{muted:!0,size:1,textOverflow:"ellipsis",children:["No matches for '",n,"'"]})})]}),!n&&a.length>0&&c.jsx(xUn,{onClick:p,selectedTypes:a})]})}function xUn(t){let{onClick:e,selectedTypes:n}=t;return c.jsx(yUn,{padding:1,children:c.jsx(Te,{children:c.jsx(Ce,{"aria-label":"Clear checked filters","data-name":"type-filter-button",disabled:n.length===0,fontSize:1,mode:"bleed",onClick:e,padding:3,text:"Clear",tone:"primary"})})})}function wUn(t,e,n,r){return m.useMemo(()=>{const[i,s]=pte(H$n(t,r),u=>n.includes(u)),o=i.length>0,a=i.length>0,l=[];return o&&l.push({title:"Selected",type:"header"}),i.forEach(u=>l.push({item:u,selected:e.includes(u),type:"item"})),o&&a&&l.push({type:"divider"}),s.forEach(u=>l.push({item:u,selected:e.includes(u),type:"item"})),l},[t,e,n,r])}var tAe=Object.freeze,_Un=Object.defineProperty,CUn=(t,e)=>tAe(_Un(t,"raw",{value:tAe(e||t.slice())})),nAe;const EUn=H(Ce)(t=>{let{theme:e}=t;const{regular:n}=e.sanity.fonts.text.weights;return qe(nAe||(nAe=CUn([`
    [data-ui='Text'] {
      font-weight: `,`;
    }
  `])),n)});function SUn(){const[t,e]=m.useState(!1),[n,r]=m.useState(null),[i,s]=m.useState(null),{state:{fullscreen:o,terms:{types:a}}}=yr(),l=m.useCallback(()=>e(!1),[]),u=m.useCallback(()=>e(!0),[]);ga(l,[n,i]);const d=m.useMemo(()=>Iie({types:a}),[a]);return c.jsx(Ti,{__unstable_margins:[JI,0,0,0],content:c.jsx(Nie,{anchorElement:n,onClose:l,children:c.jsx(bUn,{})}),open:t,placement:"bottom-start",portal:!0,radius:_E,ref:s,children:c.jsx(EUn,{fontSize:1,iconRight:C0,mode:"ghost",onClick:u,padding:o?3:2,ref:r,selected:t,style:{maxWidth:"100%"},text:d,tone:"default"})})}var rAe=Object.freeze,TUn=Object.defineProperty,kUn=(t,e)=>rAe(TUn(t,"raw",{value:rAe(e||t.slice())})),iAe;const UH=H(N)(iAe||(iAe=kUn([`
  flex-shrink: `,`;
`])),t=>{let{$flexShrink:e=0}=t;return e});function uXe(t){let{filter:e,fontSize:n=1,showContent:r=!0}=t;const{state:{definitions:i,fullscreen:s}}=yr(),o=Zv(i.operators,e.operatorType),a=o==null?void 0:o.buttonValueComponent;return c.jsxs(ae,{align:"center",gap:1,children:[c.jsx(UH,{$flexShrink:s?1:0,children:c.jsx(xs,{tone:"default",size:n,textOverflow:"ellipsis",weight:"semibold",children:c.jsx(oXe,{filter:e,maxLength:s?25:40})})}),r&&(o==null?void 0:o.buttonLabel)&&c.jsx(UH,{$flexShrink:0,children:c.jsx(xs,{tone:"default",size:n,textOverflow:"ellipsis",weight:"regular",children:o.buttonLabel})}),r&&a&&c.jsx(UH,{$flexShrink:1,children:c.jsx(xs,{tone:"default",size:n,textOverflow:"ellipsis",weight:"semibold",children:c.jsx(a,{value:e==null?void 0:e.value})})})]})}function AUn(t){return c.jsx(N,{...t,children:c.jsxs(ae,{align:"flex-start",gap:3,children:[c.jsx(xs,{tone:"critical",children:c.jsx(Yu,{})}),c.jsxs(Te,{space:4,children:[c.jsx(xs,{size:1,tone:"critical",weight:"semibold",children:"An error occurred whilst displaying this filter."}),c.jsx(xs,{size:1,tone:"critical",children:"This may indicate invalid options defined in your schema."})]})]})})}function IUn(t){let{onClick:e,operator:n,selected:r}=t;const i=m.useCallback(()=>e(n.type),[e,n.type]);return c.jsx(St,{onClick:i,padding:3,pressed:r,tone:"default",children:c.jsxs(ae,{align:"center",justify:"space-between",gap:3,children:[c.jsx(N,{paddingRight:2,children:c.jsx(G,{size:1,weight:"regular",children:n.label})}),(n==null?void 0:n.icon)&&c.jsx(G,{muted:!0,size:1,children:m.createElement(n.icon)})]})})}function DUn(t){let{filter:e,operator:n}=t;var r;const i=m.useId(),{dispatch:s,state:o}=yr(),a=(r=Sy(o.definitions.filters,e.filterName))==null?void 0:r.operators,l=m.useCallback(u=>{s({filterKey:Mu(e),operatorType:u,type:"TERMS_FILTERS_SET_OPERATOR"})},[s,e]);return!n||!a||a.length<=1?null:c.jsx(cn,{children:c.jsx(vr,{button:c.jsx(Ce,{mode:"ghost",padding:3,children:c.jsxs(ae,{align:"center",gap:2,justify:"space-between",children:[c.jsx(G,{size:o.fullscreen?2:1,weight:"regular",children:n.label}),c.jsx(N,{marginLeft:1,children:c.jsx(G,{size:1,children:c.jsx(C0,{})})})]})}),id:i||"",menu:c.jsx(er,{children:a.map((u,d)=>{if(u.type==="item"){const f=Zv(o.definitions.operators,u.name);return f?c.jsx(IUn,{onClick:l,operator:f,selected:n.type===u.name},d):null}return u.type==="divider"?c.jsx(Ci,{},d):null})}),placement:"bottom-start",popover:{constrainSize:!0,portal:!1,radius:2}})})}function RUn(t){let{filter:e}=t;const[n,r]=m.useState(null),{dispatch:i,state:{definitions:s,fullscreen:o}}=yr(),a=Sy(s.filters,e.filterName),l=Zv(s.operators,e.operatorType),u=y0(s.fields,e),d=Mu(e),f=m.useCallback(()=>{i({filterKey:Mu(e),type:"TERMS_FILTERS_REMOVE"})},[i,e]),h=m.useCallback(v=>{i({filterKey:d,type:"TERMS_FILTERS_SET_VALUE",value:v})},[i,d]),p=m.useCallback(v=>{r(v)},[]),g=l==null?void 0:l.inputComponent;return n?c.jsx(AUn,{padding:4}):c.jsx(fI,{onCatch:p,children:c.jsx(gy,{autoFocus:!h0,returnFocus:!0,children:c.jsxs(ae,{direction:"column-reverse",children:[g&&c.jsx(ge,{borderTop:!0,padding:3,children:c.jsx(g,{fieldDefinition:u,onChange:h,value:e.value},e.operatorType)}),c.jsx(ge,{padding:3,children:c.jsxs(Te,{space:3,children:[c.jsxs(ae,{align:"flex-start",gap:3,justify:"space-between",children:[c.jsx(N,{paddingBottom:1,paddingLeft:1,paddingRight:2,paddingTop:o?2:1,children:c.jsx(aXe,{filter:e,small:!o})}),o&&c.jsx(Ce,{fontSize:2,icon:Qo,mode:"bleed",onClick:f,padding:2,tone:"critical"})]}),(a==null?void 0:a.description)&&c.jsx(ge,{border:!0,padding:3,radius:2,tone:"transparent",children:c.jsx(G,{muted:!0,size:1,children:a.description})}),c.jsx(DUn,{filter:e,operator:l})]})})]})})})}var sAe=Object.freeze,jUn=Object.defineProperty,OUn=(t,e)=>sAe(jUn(t,"raw",{value:sAe(e||t.slice())})),oAe;const LUn=H(ae)(oAe||(oAe=OUn([`
  max-width: 480px;
  min-width: 150px;
  overflow: hidden;
  overflow: clip;
  width: 100%;
`])));function PUn(t){let{filter:e}=t;return c.jsxs(LUn,{direction:"column",children:[c.jsx(RUn,{filter:e}),EZe]})}var aAe=Object.freeze,MUn=Object.defineProperty,nF=(t,e)=>aAe(MUn(t,"raw",{value:aAe(e||t.slice())})),lAe,uAe,cAe,dAe;const $Un=H(Ce)(lAe||(lAe=nF([`
  border-radius: `,`;
`])),t=>{let{theme:e}=t;return"0 ".concat(Xe(e.sanity.radius[2])," ").concat(Xe(e.sanity.radius[2])," 0")}),FUn=H(ge)(uAe||(uAe=nF([`
  position: absolute;
  right: 0;
`]))),BUn=H.div(cAe||(cAe=nF([`
  align-items: center;
  display: inline-flex;
  max-width: 100%;
  position: relative;
`]))),NUn=H(Ce)(dAe||(dAe=nF([`
  border: none;
  width: 100%;
`])));function VUn(t){let{filter:e,initialOpen:n}=t;const[r,i]=m.useState(n),{dispatch:s,state:{definitions:o,fullscreen:a}}=yr(),l=m.useCallback(()=>i(!1),[]),u=m.useCallback(()=>i(!0),[]),d=m.useCallback(()=>s({filterKey:Mu(e),type:"TERMS_FILTERS_REMOVE"}),[s,e]),f=m.useCallback(p=>{["Backspace","Delete"].includes(p.key)&&d()},[d]),h=tD({fieldDefinitions:o.fields,filter:e,filterDefinitions:o.filters,operatorDefinitions:o.operators});return c.jsx(Ti,{__unstable_margins:[JI,0,0,0],content:c.jsx(Nie,{onClose:l,children:c.jsx(PUn,{filter:e})}),constrainSize:!0,open:r,overflow:"auto",placement:"bottom-start",portal:!0,radius:_E,children:c.jsxs(BUn,{children:[c.jsx(ge,{__unstable_focusRing:!0,display:"flex",radius:2,tone:h?"primary":"transparent",children:c.jsx(NUn,{mode:"bleed",onClick:u,onKeyDown:f,paddingLeft:a?3:2,paddingRight:a?3:5,paddingY:a?3:2,children:c.jsx(uXe,{filter:e,showContent:h})})}),!a&&c.jsx(FUn,{__unstable_focusRing:!0,display:"flex",radius:2,tone:h?"primary":"transparent",children:c.jsx($Un,{"aria-label":"Delete filter",fontSize:1,icon:Rd,mode:"bleed",onClick:d,onKeyDown:f,padding:2,radius:2})})]})})}function cXe(){const{dispatch:t,state:{filters:e,fullscreen:n,lastAddedFilter:r,terms:{types:i}}}=yr(),s=m.useRef(!1),o=m.useCallback(()=>{t({type:"TERMS_FILTERS_CLEAR"}),t({type:"TERMS_TYPES_CLEAR"})},[t]),a=e.length>0||i.length>0;m.useEffect(()=>{s.current=!0},[]);const l=r&&Mu(r),u=()=>c.jsx(Ce,{fontSize:1,mode:"bleed",onClick:o,padding:n?3:2,text:"Clear filters",tone:"critical"});return c.jsxs(c.Fragment,{children:[c.jsxs(ae,{align:"flex-start",gap:3,justify:"space-between",padding:2,children:[c.jsxs(ae,{flex:1,gap:2,wrap:"wrap",children:[c.jsx(SUn,{}),e==null?void 0:e.map(d=>{const f=Mu(d);return c.jsx(VUn,{filter:d,initialOpen:s.current&&l===f},f)}),!n&&c.jsx(Qke,{})]}),a&&!n&&c.jsx(u,{})]}),n&&c.jsxs(ae,{justify:"space-between",paddingBottom:2,paddingX:2,children:[c.jsx(Qke,{}),a&&c.jsx(u,{})]}),EZe]})}function UUn(){return c.jsx(ae,{align:"center",direction:"column",gap:4,paddingX:4,paddingY:5,children:c.jsxs(cn,{space:3,children:[c.jsx(G,{muted:!0,children:"Use"}),c.jsx(G,{muted:!0,children:c.jsx(m7,{})}),c.jsx(G,{muted:!0,children:"to refine your search"})]})})}function HUn(t){let{availableCharacters:e,types:n}=t;const r=m.useMemo(()=>Iie({availableCharacters:e,types:n}),[e,n]);return c.jsx(ge,{border:!0,padding:2,radius:2,children:c.jsx(G,{muted:!0,size:1,children:r})})}var fAe=Object.freeze,zUn=Object.defineProperty,WUn=(t,e)=>fAe(zUn(t,"raw",{value:fAe(e||t.slice())})),hAe;const GUn=H(ge)(hAe||(hAe=WUn([`
  cursor: default;
`])));function qUn(t){let{filter:e}=t;return c.jsx(GUn,{border:!0,padding:2,radius:2,tone:"primary",children:c.jsx(uXe,{filter:e})})}var pAe=Object.freeze,YUn=Object.defineProperty,rF=(t,e)=>pAe(YUn(t,"raw",{value:pAe(e||t.slice())})),mAe,gAe,vAe,yAe;const KUn=40,dXe=H(Ce)(mAe||(mAe=rF([`
  border-radius: `,`;
  cursor: default;
  width: 100%;
`])),t=>{let{theme:e}=t;return Xe(e.sanity.radius[2])}),ZUn=H(N)(gAe||(gAe=rF([`
  flex-shrink: 3;
`]))),XUn=H(N)(vAe||(vAe=rF([`
  flex-shrink: 2;
`]))),QUn=H.div(yAe||(yAe=rF([`
  opacity: 0.8;
  visibility: hidden;

  @media (hover: hover) {
    `,`:hover & {
      visibility: visible;
    }
    &:hover {
      opacity: 0.4;
    }
  }
`])),dXe);function JUn(t){let{index:e,maxVisibleTypePillChars:n=KUn,value:r,...i}=t;var s;const{dispatch:o,recentSearchesStore:a}=yr(),l=n-r.query.length,u=m.useCallback(()=>{if(o({type:"TERMS_SET",filters:r==null?void 0:r.filters,terms:r}),a){const f=a==null?void 0:a.addSearch(r,r==null?void 0:r.filters);o({recentSearches:f,type:"RECENT_SEARCHES_SET"})}},[o,a,r]),d=m.useCallback(f=>{if(f.stopPropagation(),a){const h=a==null?void 0:a.removeSearchAtIndex(e);o({recentSearches:h,type:"RECENT_SEARCHES_SET"})}},[o,e,a]);return c.jsx(N,{...i,children:c.jsx(dXe,{mode:"bleed",onClick:u,paddingLeft:3,paddingRight:1,paddingY:1,tabIndex:-1,children:c.jsxs(ae,{align:"stretch",children:[c.jsxs(cn,{paddingY:2,children:[c.jsx(G,{muted:!0,size:1,children:c.jsx(p7,{})}),c.jsx(G,{children:""})]}),c.jsxs(ae,{align:"stretch",flex:1,gap:2,justify:"flex-start",marginLeft:3,wrap:"wrap",children:[r.query&&c.jsx(XUn,{paddingY:2,children:c.jsx(G,{muted:!0,textOverflow:"ellipsis",children:r.query})}),r.types.length>0&&c.jsx(ZUn,{children:c.jsx(HUn,{availableCharacters:l,types:r.types})}),(s=r==null?void 0:r.filters)==null?void 0:s.map((f,h)=>c.jsx(qUn,{filter:f},h))]}),c.jsx(ae,{align:"center",children:c.jsx(QUn,{onClick:d,children:c.jsx(ae,{padding:2,children:c.jsx(G,{size:1,children:c.jsx(Rd,{})})})})})]})})})}var bAe=Object.freeze,eHn=Object.defineProperty,tHn=(t,e)=>bAe(eHn(t,"raw",{value:bAe(e||t.slice())})),xAe;const nHn=36,rHn=20,iHn=40,sHn=H(ge)(xAe||(xAe=tHn([`
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
`])));function fXe(t){let{inputElement:e}=t;const{dispatch:n,recentSearchesStore:r,state:{filtersVisible:i,fullscreen:s,recentSearches:o}}=yr(),a=m.useRef(null),l=m.useCallback(()=>{var p;if(r){const g=r.removeSearch();n({recentSearches:g,type:"RECENT_SEARCHES_SET"})}(p=a==null?void 0:a.current)==null||p.focusInputElement()},[n,r]),u=T0(),d=m.useMemo(()=>u<2?rHn:iHn,[u]),f=m.useCallback((p,g)=>{let{virtualIndex:v}=g;return c.jsx(JUn,{index:v,maxVisibleTypePillChars:d,paddingBottom:1,value:p})},[d]),h=!!o.length;return c.jsx(sHn,{borderTop:h||!h&&!i&&s,flex:1,children:o.length?c.jsxs(c.Fragment,{children:[c.jsx(N,{paddingBottom:2,paddingTop:4,paddingX:3,children:c.jsx(jn,{muted:!0,size:1,children:"Recent searches"})}),c.jsx(N,{children:c.jsx(fE,{activeItemDataAttr:"data-hovered",ariaLabel:"Recent searches",inputElement:e,initialIndex:0,itemHeight:nHn,items:o,paddingX:2,paddingY:1,renderItem:f})}),c.jsx(N,{paddingBottom:2,paddingTop:1,paddingX:2,children:c.jsx(Ce,{fontSize:1,justify:"flex-start",mode:"bleed",onClick:l,padding:2,tone:"default",children:c.jsx(G,{muted:!0,size:1,children:"Clear recent searches"})})})]}):!i&&s&&c.jsx(UUn,{})})}var wAe=Object.freeze,oHn=Object.defineProperty,iF=(t,e)=>wAe(oHn(t,"raw",{value:wAe(e||t.slice())})),_Ae,CAe,EAe,SAe;const aHn=d7(_Ae||(_Ae=iF([`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`]))),lHn=H(y7)(CAe||(CAe=iF([`
  animation: `,` 500ms linear infinite;
`])),aHn),uHn=H(N)(EAe||(EAe=iF([`
  position: relative;
`]))),cHn=H.div(SAe||(SAe=iF([`
  background: `,`;
  border-radius: 100%;
  height: 6px;
  position: absolute;
  right: 2px;
  top: 2px;
  width: 6px;
`])),t=>{let{theme:e}=t;var n;return(n=e.sanity.color.selectable)==null?void 0:n.primary.enabled.fg}),hXe=m.forwardRef(function(e,n){let{ariaInputLabel:r,onClose:i}=e;const s=m.useRef(!1),{dispatch:o,state:{filters:a,filtersVisible:l,fullscreen:u,result:{loading:d},terms:{types:f,query:h}}}=yr(),p=m.useCallback(()=>o({type:"FILTERS_VISIBLE_SET",visible:!l}),[o,l]),g=m.useCallback(x=>o({type:"TERMS_QUERY_SET",query:x.currentTarget.value}),[o]),v=m.useCallback(()=>{o({type:"TERMS_QUERY_SET",query:""})},[o]);m.useEffect(()=>{u||o({type:"FILTERS_VISIBLE_SET",visible:!0})},[o,u]),m.useEffect(()=>{s.current=!0},[]);const y=a.length>0||f.length>0;return c.jsx(ge,{flex:"none",children:c.jsxs(ae,{align:"center",flex:1,gap:u?2:1,padding:u?2:1,children:[u&&c.jsx(ge,{children:c.jsx(Ce,{"aria-label":"Close search",icon:eQ,mode:"bleed",onClick:i})}),c.jsx(N,{flex:1,children:c.jsx(Lie,{"aria-label":r,autoComplete:"off",background:u,border:!1,clearButton:!!h,fontSize:2,icon:d?lHn:nl,onChange:g,onClear:v,placeholder:"Search",radius:u?2:1,ref:n,smallClearButton:u,spellCheck:!1,value:h})}),u&&c.jsxs(uHn,{children:[c.jsx(Ce,{"aria-expanded":l,"aria-label":"Toggle filters",height:"fill",icon:m7,mode:"bleed",onClick:p,padding:3,selected:l,tone:"default"}),y&&c.jsx(cHn,{})]})]})})});function dHn(){return c.jsx(Wc,{width:0,children:c.jsxs(Te,{"aria-live":"assertive",space:4,paddingX:4,paddingY:5,children:[c.jsx(G,{align:"center",muted:!0,weight:"semibold",children:"No results found"}),c.jsx(G,{align:"center",muted:!0,size:1,children:"Try another keyword or adjust your filters"})]})})}function fHn(){return c.jsxs(ae,{align:"center","aria-live":"assertive",direction:"column",flex:1,gap:3,marginY:2,padding:4,children:[c.jsx(N,{marginBottom:1,children:c.jsx(xs,{tone:"critical",children:c.jsx(vo,{})})}),c.jsx(xs,{size:2,tone:"critical",weight:"semibold",children:"Something went wrong while searching"}),c.jsx(xs,{size:1,tone:"critical",children:"Please try again or check your connection"})]})}const zb={createdAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_createdAt"},title:"Created: Oldest first"},createdDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_createdAt"},title:"Created: Newest first"},relevance:{customMeasurementLabel:"relevance",sort:{direction:"desc",field:"_updatedAt"},title:"Best match"},updatedAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_updatedAt"},title:"Updated: Oldest first"},updatedDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_updatedAt"},title:"Updated: Newest first"}};var TAe=Object.freeze,hHn=Object.defineProperty,pHn=(t,e)=>TAe(hHn(t,"raw",{value:TAe(e||t.slice())})),kAe;const AAe=[zb.relevance,{type:"divider"},zb.createdAsc,zb.createdDesc,{type:"divider"},zb.updatedAsc,zb.updatedDesc],mHn=H(ae)(kAe||(kAe=pHn([`
  box-sizing: border-box;
`])));function IAe(t){return t.type==="divider"}function gHn(t){let{ordering:e}=t;const{dispatch:n,state:{ordering:r}}=yr(),i=m.useCallback(()=>{n({ordering:e,type:"ORDERING_SET"})},[n,e]),s=m.useMemo(()=>Ur(r,e),[r,e]);return c.jsx(St,{onClick:i,padding:3,pressed:s,tone:"default",children:c.jsx(ae,{align:"center",justify:"space-between",paddingRight:2,children:c.jsx(G,{size:1,weight:"medium",children:e.title})})})}function vHn(){const{state:{ordering:t}}=yr(),e=m.useId(),n=AAe.find(r=>Ur(t,r)&&!IAe(r));return n?c.jsx(ge,{borderBottom:!0,children:c.jsx(mHn,{align:"center",flex:1,padding:2,children:c.jsx(vr,{button:c.jsx(Ce,{mode:"bleed",padding:2,children:c.jsxs(ae,{align:"center",gap:1,justify:"space-between",children:[c.jsx(N,{marginRight:1,children:c.jsx(G,{size:1,children:c.jsx(v7,{})})}),c.jsx(cn,{space:2,children:c.jsx(G,{size:1,weight:"medium",children:n.title})})]})}),id:e||"",menu:c.jsx(er,{children:AAe.map((r,i)=>IAe(r)?c.jsx(Ci,{},i):c.jsx(gHn,{ordering:r},i))}),placement:"bottom-start",popover:{portal:!0,radius:2}})})}):null}var DAe=Object.freeze,yHn=Object.defineProperty,bHn=(t,e)=>DAe(yHn(t,"raw",{value:DAe(e||t.slice())})),RAe;const xHn=H(ge)(RAe||(RAe=bHn([`
  cursor: help;
  left: 0;
  position: absolute;
  top: 0;
`])));function wHn(t){let{data:e}=t;const{score:n}=e;let r="default";n<=.1?r="critical":n>=.5&&(r="primary");const i=e.stories.filter(s=>s.score>0);return c.jsx(c.Fragment,{children:c.jsx(Mn,{content:c.jsx(N,{padding:2,children:c.jsx(Te,{space:2,children:i.length?c.jsx(c.Fragment,{children:i.map(s=>c.jsxs(cn,{space:3,children:[c.jsx(qs,{size:0,weight:"semibold",children:s.path}),c.jsx(qs,{size:0,children:s.why})]},s.path))}):c.jsx(qs,{size:0,children:"No matches"})})}),placement:"bottom-start",portal:!0,children:c.jsx(xHn,{padding:1,shadow:1,tone:r,children:c.jsxs(qs,{size:0,children:["score: ",n]})})})})}var jAe=Object.freeze,_Hn=Object.defineProperty,CHn=(t,e)=>jAe(_Hn(t,"raw",{value:jAe(e||t.slice())})),OAe;const EHn=59,SHn=4,THn=H(ae)(OAe||(OAe=CHn([`
  opacity: `,`;
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
  transition: 300ms opacity;
  width: 100%;
`])),t=>{let{$loading:e}=t;return e?.5:1});function pXe(t){let{inputElement:e}=t;const{dispatch:n,onClose:r,recentSearchesStore:i,setSearchCommandList:s,state:{debug:o,filters:a,fullscreen:l,lastActiveIndex:u,result:d,terms:f}}=yr(),h=!!d.hits.length,p=!d.hits.length&&d.loaded,g=d.error,v=m.useCallback(()=>{if(i){const x=i.addSearch(f,a);n({recentSearches:x,type:"RECENT_SEARCHES_SET"})}r==null||r()},[n,a,r,i,f]),y=m.useCallback(x=>c.jsxs(c.Fragment,{children:[c.jsx(Aie,{documentId:Ks(x.hit._id)||"",documentType:x.hit._type,onClick:v,paddingBottom:2}),o&&c.jsx(wHn,{data:x})]}),[o,v]);return c.jsx(ae,{children:c.jsx(ge,{borderTop:l||!!(g||h||p),flex:1,children:c.jsxs(ae,{direction:"column",height:"fill",children:[h&&c.jsx(vHn,{}),c.jsx(THn,{$loading:d.loading,"aria-busy":d.loading,flex:1,children:g?c.jsx(fHn,{}):c.jsxs(c.Fragment,{children:[h&&c.jsx(fE,{activeItemDataAttr:"data-hovered",ariaLabel:"Search results",fixedHeight:!0,initialIndex:u,inputElement:e,itemHeight:EHn,items:d.hits,overscan:SHn,padding:2,paddingBottom:0,ref:s,renderItem:y}),p&&c.jsx(dHn,{})]})})]})})})}var LAe=Object.freeze,kHn=Object.defineProperty,mXe=(t,e)=>LAe(kHn(t,"raw",{value:LAe(e||t.slice())})),PAe,MAe;const AHn=H(ge)(PAe||(PAe=mXe([`
  flex-direction: column;
  overflow: hidden;
  overflow: clip;
  pointer-events: all;
  position: relative;
`]))),IHn=H(N)(MAe||(MAe=mXe([`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 1;
`])));function DHn(t){let{onClose:e,onOpen:n,open:r}=t;const[i,s]=m.useState(null),{scheme:o}=Po(),{state:{filtersVisible:a,terms:l}}=yr(),u=X$({terms:l});return c.jsx(rXe,{hasValidTerms:u,onClose:e,onOpen:n,open:r,children:c.jsx(dy,{children:c.jsx(gy,{autoFocus:!h0,returnFocus:!0,children:c.jsx(IHn,{children:c.jsxs(AHn,{display:"flex",height:"fill",scheme:o,tone:"default",children:[c.jsx(hXe,{ariaInputLabel:u?"Search results":"Recent searches",onClose:e,ref:s}),a&&c.jsx(ge,{borderTop:!0,flex:"none",children:c.jsx(cXe,{})}),u?c.jsx(pXe,{inputElement:i}):c.jsx(fXe,{inputElement:i})]})})})})})}var $Ae=Object.freeze,RHn=Object.defineProperty,Vie=(t,e)=>$Ae(RHn(t,"raw",{value:$Ae(e||t.slice())})),FAe,BAe,NAe;const jHn=H(ae)(FAe||(FAe=Vie([`
  position: absolute;
  right: 0;
  top: 0;

  & > :first-child {
    margin-right: 1px;
  }
`]))),OHn=H(ae)(BAe||(BAe=Vie([`
  min-width: 253px;
  max-width: 350px;
  position: relative;
`]))),LHn=H(Fi)(NAe||(NAe=Vie([`
  padding-right: 60px;
`]))),PHn=m.forwardRef(function(e,n){let{onOpen:r}=e;const{dispatch:i,state:{terms:s}}=yr(),o=m.useCallback(l=>{i({type:"TERMS_QUERY_SET",query:l.currentTarget.value}),r()},[i,r]),a=m.useCallback(l=>{l.key==="Enter"&&r()},[r]);return c.jsxs(OHn,{align:"center",children:[c.jsx(LHn,{"aria-autocomplete":"list","aria-expanded":"false",autoComplete:"off",icon:nl,"data-testid":"studio-search",onChange:o,onClick:r,onKeyDown:a,placeholder:"Search",radius:2,ref:n,role:"combobox",value:s.query}),c.jsxs(jHn,{align:"center",height:"fill",marginRight:2,children:[c.jsx(GG,{children:V$n}),c.jsx(GG,{children:SZe.toUpperCase()})]})]})});var VAe=Object.freeze,MHn=Object.defineProperty,oL=(t,e)=>VAe(MHn(t,"raw",{value:VAe(e||t.slice())})),UAe,HAe,zAe,WAe;const $Hn=H.div(UAe||(UAe=oL([`
  background-color: `,`;
  bottom: 0;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
`])),t=>{let{theme:e}=t;return e.sanity.color.base.shadow.ambient}),FHn=H(ge)(WAe||(WAe=oL([`
  `,`
  display: flex !important;
  flex-direction: column;
  max-height: `,`;
  position: absolute;
  top: `,`px;
  width: min(calc(100vw - `,"px), ",`px);
`])),t=>{let{$position:e}=t;return e.x?qe(HAe||(HAe=oL([`
          left: `,`px;
        `])),e.x):qe(zAe||(zAe=oL([`
          left: 50%;
          transform: translateX(-50%);
        `])))},t=>{let{$position:e}=t;return"min(calc(100vh - ".concat(e.y,"px - ").concat(u3,"px), ").concat(U$n,"px)")},t=>{let{$position:e}=t;return e.y},u3*2,TZe);function BHn(t){let{disableFocusLock:e,onClose:n,onOpen:r,open:i,position:s}=t;const[o,a]=m.useState(null),[l,u]=m.useState(null),{isTopLayer:d,zIndex:f}=Zh(),{scheme:h}=Po(),{onClose:p,state:{filtersVisible:g,terms:v}}=yr(),y=X$({terms:v}),x=m.useCallback(()=>{d&&p&&i&&p()},[d,p,i]);return ga(x,[o]),c.jsx(rXe,{hasValidTerms:y,onClose:n,onOpen:r,open:i,children:c.jsx(dy,{children:c.jsxs(gy,{autoFocus:!h0,disabled:e,returnFocus:!0,children:[c.jsx($Hn,{style:{zIndex:f}}),c.jsxs(FHn,{$position:s,overflow:"hidden",radius:_E,ref:a,scheme:h,shadow:2,style:{zIndex:f},children:[c.jsx(hXe,{ariaInputLabel:y?"Search results":"Recent searches",onClose:n,ref:u}),g&&c.jsx(ge,{borderTop:!0,flex:"none",children:c.jsx(cXe,{})}),y?c.jsx(pXe,{inputElement:l}):c.jsx(fXe,{inputElement:l})]})]})})})}function NHn(){const[t,e]=m.useState(null),[n,r]=m.useState(!1),i=m.useCallback(()=>r(!1),[]),s=m.useCallback(()=>r(!0),[]),o=VHn(t);return c.jsxs(c.Fragment,{children:[c.jsx(PHn,{onOpen:s,ref:e}),o&&c.jsx(BHn,{onClose:i,onOpen:s,open:n,position:o})]})}function GAe(t){const e=t.getBoundingClientRect();return{x:window.innerWidth-e.x>TZe?e.x-u3:null,y:e.y-u3}}function VHn(t){const[e,n]=m.useState(null),r=m.useCallback(()=>{t&&n(GAe(t))},[t]);return m.useEffect(()=>{t&&n(GAe(t))},[t]),m.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),e}const UHn="search::recent",HHn=5,d3=2;function zHn(t){let{dataset:e,fieldDefinitions:n,filterDefinitions:r,operatorDefinitions:i,projectId:s,schema:o,user:a,version:l=d3}=t;if(!e||!s||!gXe||!a)return;const u="".concat(UHn,"__").concat(s,":").concat(e,":").concat(a.id);return{addSearch:(d,f)=>{const p=(f||[]).map(x=>({fieldId:x.fieldId,filterName:x.filterName,operatorType:x.operatorType,value:x.value})).filter(x=>tD({fieldDefinitions:n,filter:x,filterDefinitions:r,operatorDefinitions:i})),g={created:new Date().toISOString(),filters:p,terms:{query:d.query.trim(),typeNames:d.types.map(x=>x.name)}},v=JSON.stringify(Al(g,"created")),y={version:l,recentSearches:[g,...Nk(u,l).recentSearches.filter(x=>JSON.stringify(Al(x,"created"))!==v)].slice(0,HHn)};return window.localStorage.setItem(u,JSON.stringify(y)),YS({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:i,schema:o,version:l})},getRecentSearches:()=>YS({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:i,schema:o,version:l}),removeSearch:()=>{const f={...Nk(u,l),recentSearches:[]};return window.localStorage.setItem(u,JSON.stringify(f)),YS({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:i,schema:o,version:l})},removeSearchAtIndex:d=>{const f=Nk(u,l);if(d<0||d>f.recentSearches.length)return YS({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:i,schema:o,version:l});const h={...f,recentSearches:[...f.recentSearches.slice(0,d),...f.recentSearches.slice(d+1)]};return window.localStorage.setItem(u,JSON.stringify(h)),YS({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:i,schema:o,version:l})}}}function Nk(t,e){const n=gXe?window.localStorage.getItem(t):void 0;return n?JSON.parse(n):{version:e,recentSearches:[]}}function YS(t){let{lsKey:e,schema:n,fieldDefinitions:r,filterDefinitions:i,operatorDefinitions:s,version:o}=t;const a=WHn({lsKey:e,storedSearch:Nk(e,o)});return GHn({studioSchema:n,storedSearch:a,lsKey:e,filterDefinitions:i,fieldDefinitions:r,operatorDefinitions:s,version:o}).recentSearches.filter(l=>!!l.terms).map((l,u)=>({__recent:{index:u,timestamp:new Date(l.created).getTime()},filters:l.filters,query:l.terms.query,types:l.terms.typeNames.map(d=>n.get(d)).filter(d=>!!(d&&d.jsonType==="object"))}))}function WHn(t){let{lsKey:e,storedSearch:n}=t;if(n.version!==d3){const r={version:d3,recentSearches:[]};return window.localStorage.setItem(e,JSON.stringify(r)),r}return n}function GHn(t){let{fieldDefinitions:e,filterDefinitions:n,lsKey:r,operatorDefinitions:i,storedSearch:s,studioSchema:o,version:a}=t;const l=Q$(o).map(f=>f.name),u=s.recentSearches.filter(f=>f.terms.typeNames.every(h=>l.includes(h))&&f.filters.every(h=>tD({fieldDefinitions:e,filter:h,filterDefinitions:n,operatorDefinitions:i}))),d={version:d3,recentSearches:u};return d.recentSearches.length<s.recentSearches.length&&window.localStorage.setItem(r,JSON.stringify(d)),Nk(r,a)}const gXe=(()=>{const t="__tmp__can_use";try{return typeof localStorage>"u"?!1:(localStorage.setItem(t,"---"),localStorage.removeItem(t),!0)}catch{return!1}})(),qHn=3;function YHn(t,e){var n;const r=Q$(t).map(a=>a.name),{documentTypes:i,objectTypes:s}=(((n=t._original)==null?void 0:n.types)||[]).filter(a=>qAe(a)?r.includes(a.name):!0).filter(a=>a.name!=="slug").filter(a=>!a.name.startsWith("sanity.")).reduce((a,l)=>(qAe(l)&&(a.documentTypes[l.name]=l),yXe(l)&&(a.objectTypes[l.name]=l),a),{documentTypes:{},objectTypes:{}})||{documentTypes:{},objectTypes:{}},o=A$n(e);return XHn(o,i,s)}function KHn(t){return t.reduce((e,n)=>(e[n.id]=n,e),{})}function ZHn(t){return[t.type,t.fieldPath,t.filterName,t.documentTypes.join(",")].join("-")}function XHn(t,e,n){function r(s){let{acc:o,defType:a,depth:l=0,documentType:u,prevFieldPath:d,prevTitlePath:f}=s;var h;const p=l<=qHn,g=a.name.startsWith("_"),v=a!=null&&a.title?lXe(a.title):yi(a.name),y=d?"".concat(d,".").concat(a.name):a.name,x=f?[...f,v]:[v];if(!p)return;const b=n[a.type],_=e[a.type],C=yXe(a)?a:null,S=_||b||C;if(S){(h=S==null?void 0:S.fields)==null||h.forEach(T=>r({acc:o,defType:T,depth:l+1,documentType:u,prevFieldPath:y,prevTitlePath:x}));return}t.includes(a.type)&&o.push({documentTypes:u&&!g?[u]:[],fieldPath:y,filterName:nzn(a),id:"",name:a.name,titlePath:x,title:v,type:a.type})}return Object.values(e).reduce((s,o)=>{const a=o.fields.reduce((l,u)=>(r({acc:l,defType:u,documentType:o.name}),l),[]);return s.push(...a),s},[]).reduce((s,o)=>{const a=s.findIndex(l=>l.fieldPath===o.fieldPath&&l.title===o.title&&l.type===o.type);return a>-1?s[a]={...s[a],documentTypes:[...s[a].documentTypes,...o.documentTypes]}:s.push(o),s},[]).map(QHn).sort(rzn)}function QHn(t){return{...t,id:ZHn(t)}}function JHn(t){var e;return vXe(t)?t.of.every(n=>["boolean","number","string"].includes(n.type))&&((e=t.options)!=null&&e.list?t.options.list.length>0:!1):!1}function vXe(t){return t.type==="array"}function qAe(t){return t.type==="document"}function yXe(t){return t.type==="object"}function ezn(t){return t.type==="string"}function tzn(t){var e;return ezn(t)&&(e=t.options)!=null&&e.list?t.options.list.length>0:!1}function nzn(t){if(tzn(t))return"stringList";if(vXe(t)){if(t.of.some(e=>e.type==="reference"))return"arrayReferences";if(t.of.find(e=>e.type==="block"))return"portableText";if(JHn(t))return"arrayList"}return t.type}function rzn(t,e){const n=t.titlePath.slice(0,-1).join("/"),r=e.titlePath.slice(0,-1).join("/");return t.title.localeCompare(e.title)||n.localeCompare(r)||t.fieldPath.localeCompare(e.fieldPath)}function bXe(t){return typeof t.__recent<"u"}const yK="core:studio:navbar:search:";W1(yK);function izn(t){const e="".concat(yK).concat(t);return W1&&W1.enabled(e)?W1(e):W1(yK)}function szn(){return typeof window>"u"?!1:window.location.hash.slice(1).split(";").includes(N$n)}function ozn(t){let{currentUser:e,fullscreen:n,recentSearches:r=[],definitions:i}=t;return{currentUser:e,debug:szn(),documentTypesNarrowed:[],filters:[],filtersVisible:!0,fullscreen:n,lastActiveIndex:-1,ordering:zb.relevance,pageIndex:0,recentSearches:r,result:{error:null,hasMore:null,hits:[],loaded:!1,loading:!1},terms:{query:"",types:[]},definitions:i}}const azn=izn("reducer");function lzn(t,e){let n="";switch(e.type.startsWith("SEARCH_REQUEST")&&(n=""),e.type.startsWith("RECENT_SEARCHES")&&(n=""),azn(n,e),e.type){case"FILTERS_VISIBLE_SET":return{...t,filtersVisible:e.visible};case"LAST_ACTIVE_INDEX_SET":return{...t,lastActiveIndex:e.index};case"ORDERING_RESET":return{...t,ordering:zb.relevance,terms:cb(t.terms)};case"ORDERING_SET":return{...t,ordering:e.ordering,terms:cb(t.terms)};case"PAGE_INCREMENT":return{...t,pageIndex:t.pageIndex+1,terms:cb(t.terms)};case"RECENT_SEARCHES_SET":return{...t,recentSearches:e.recentSearches};case"SEARCH_CLEAR":return{...t,pageIndex:0,result:{...t.result,hasMore:null,hits:[]}};case"SEARCH_REQUEST_COMPLETE":return{...t,result:{...t.result,error:null,hasMore:e.hits.length>0,hits:t.pageIndex>0?[...t.result.hits,...e.hits]:e.hits,loaded:!0,loading:!1}};case"SEARCH_REQUEST_ERROR":return{...t,result:{...t.result,error:e.error,loaded:!1,loading:!1}};case"SEARCH_REQUEST_START":return{...t,result:{...t.result,loaded:!1,loading:!0}};case"TERMS_FILTERS_ADD":{const r={...e.filter,value:zVn(t.definitions.operators,e.filter.operatorType)},i=[...t.filters,r];return{...t,documentTypesNarrowed:ub({fieldDefinitions:t.definitions.fields,filters:i,types:t.terms.types}),filters:i,lastAddedFilter:r,terms:{...t.terms,filter:lb({fieldDefinitions:t.definitions.fields,filterDefinitions:t.definitions.filters,filters:i,operatorDefinitions:t.definitions.operators})}}}case"TERMS_FILTERS_CLEAR":{const r=[];return{...t,documentTypesNarrowed:ub({fieldDefinitions:t.definitions.fields,filters:r,types:t.terms.types}),filters:r,terms:{...t.terms,filter:lb({fieldDefinitions:t.definitions.fields,filterDefinitions:t.definitions.filters,filters:r,operatorDefinitions:t.definitions.operators})}}}case"TERMS_FILTERS_REMOVE":{const r=t.filters.findIndex(s=>Mu(s)===e.filterKey),i=[...t.filters.slice(0,r),...t.filters.slice(r+1)];return{...t,documentTypesNarrowed:ub({fieldDefinitions:t.definitions.fields,filters:i,types:t.terms.types}),filters:i,terms:{...t.terms,filter:lb({fieldDefinitions:t.definitions.fields,filterDefinitions:t.definitions.filters,filters:i,operatorDefinitions:t.definitions.operators})}}}case"TERMS_FILTERS_SET_OPERATOR":{const r=t.filters.find(u=>Mu(u)===e.filterKey),i=Zv(t.definitions.operators,r==null?void 0:r.operatorType),s=Zv(t.definitions.operators,e.operatorType),o=s==null?void 0:s.initialValue,a=(i==null?void 0:i.inputComponent)!=(s==null?void 0:s.inputComponent),l=t.filters.map(u=>Mu(u)===e.filterKey?{...u,operatorType:e.operatorType,...a?{value:o}:{}}:u);return{...t,filters:l,terms:{...t.terms,filter:lb({fieldDefinitions:t.definitions.fields,filterDefinitions:t.definitions.filters,filters:l,operatorDefinitions:t.definitions.operators})}}}case"TERMS_FILTERS_SET_VALUE":{const r=t.filters.map(i=>Mu(i)===e.filterKey?{...i,value:e.value}:i);return{...t,filters:r,terms:{...t.terms,filter:lb({fieldDefinitions:t.definitions.fields,filterDefinitions:t.definitions.filters,filters:r,operatorDefinitions:t.definitions.operators})}}}case"TERMS_QUERY_SET":return{...t,pageIndex:0,result:{...t.result,loaded:!1},terms:cb({...t.terms,query:e.query})};case"TERMS_SET":{const r=e.filters||[],i=[...t.terms.types||[],...e.terms.types].sort(pK);return{...t,documentTypesNarrowed:ub({fieldDefinitions:t.definitions.fields,filters:r,types:i}),filters:r,lastAddedFilter:null,pageIndex:0,result:{...t.result,loaded:!1},terms:{...e.terms,filter:lb({fieldDefinitions:t.definitions.fields,filterDefinitions:t.definitions.filters,filters:r,operatorDefinitions:t.definitions.operators})}}}case"TERMS_TYPE_ADD":{const r=[...t.terms.types||[],e.schemaType].sort(pK),i=ub({fieldDefinitions:t.definitions.fields,filters:[],types:r}),s=t.filters.filter(o=>{const a=y0(t.definitions.fields,o);return a?a.documentTypes.length===0?!0:i.every(l=>a.documentTypes.findIndex(u=>u===l)>-1):!0});return{...t,documentTypesNarrowed:i,filters:s,pageIndex:0,result:{...t.result,loaded:!1},terms:cb({...t.terms,filter:lb({fieldDefinitions:t.definitions.fields,filterDefinitions:t.definitions.filters,operatorDefinitions:t.definitions.operators,filters:s}),types:r})}}case"TERMS_TYPE_REMOVE":{const r=(t.terms.types||[]).filter(i=>i!==e.schemaType);return{...t,documentTypesNarrowed:ub({fieldDefinitions:t.definitions.fields,filters:t.filters,types:r}),pageIndex:0,result:{...t.result,loaded:!1},terms:cb({...t.terms,types:r})}}case"TERMS_TYPES_CLEAR":{const r=[];return{...t,documentTypesNarrowed:ub({fieldDefinitions:t.definitions.fields,filters:t.filters,types:r}),pageIndex:0,result:{...t.result,loaded:!1},terms:cb({...t.terms,types:[]})}}default:return t}}function cb(t){if(bXe(t)){const{__recent:e,...n}=t;return n}return t}function uzn(t){let{children:e,fullscreen:n}=t;const r=m.useRef(null),[i,s]=m.useState(null),o=Cs(us),a=es(),l=Md(),{search:{operators:u,filters:d}}=Zs(),{dataset:f,projectId:h}=o.config(),{fieldDefinitions:p,filterDefinitions:g,operatorDefinitions:v}=m.useMemo(()=>({fieldDefinitions:KHn(YHn(a,d)),filterDefinitions:k$n(d),operatorDefinitions:HVn(u)}),[d,u,a]),y=m.useMemo(()=>zHn({dataset:f,fieldDefinitions:p,filterDefinitions:g,operatorDefinitions:v,projectId:h,schema:a,user:l,version:d3}),[l,f,p,g,v,h,a]),x=m.useMemo(()=>y==null?void 0:y.getRecentSearches(),[y]),b=m.useMemo(()=>ozn({currentUser:l,fullscreen:n,recentSearches:x,definitions:{fields:p,operators:v,filters:g}}),[l,p,g,n,v,x]),[_,C]=m.useReducer(lzn,b),{documentTypesNarrowed:S,filters:T,ordering:A,pageIndex:k,result:I,terms:D}=_,R=m.useRef(!1),O=m.useRef(b.ordering),L=m.useRef(b.pageIndex),P=m.useRef(b.terms),{handleSearch:$,searchState:B}=kZe({initialState:{...I,terms:D},onComplete:J=>C({hits:J,type:"SEARCH_REQUEST_COMPLETE"}),onError:J=>C({error:J,type:"SEARCH_REQUEST_ERROR"}),onStart:()=>C({type:"SEARCH_REQUEST_START"}),schema:a}),Q=X$({terms:D}),V=S.map(J=>a.get(J)),Z=T.filter(J=>tD({fieldDefinitions:p,filter:J,filterDefinitions:g,operatorDefinitions:v})),ie=m.useCallback(J=>{r.current=J},[]);return m.useEffect(()=>{const J=!Ur(A,O.current),X=k!==L.current,fe=!Ur(D,P.current);if(J||X||fe){const ue=(A==null?void 0:A.customMeasurementLabel)||"".concat(A.sort.field," ").concat(A.sort.direction);$({options:{comments:[...bXe(D)?["findability-recent-search:".concat(D.__recent.index)]:[],"findability-selected-types:".concat(D.types.length),"findability-sort:".concat(ue),"findability-source: global","findability-filter-count:".concat(Z.length)],limit:mTe,offset:k*mTe,skipSortByScore:A.ignoreScore,sort:[A.sort]},terms:{...D,...V?{types:V}:{}}}),L.current=k}O.current=A,P.current=D},[Z.length,T,V,$,Q,A,k,B.terms,D]),m.useEffect(()=>{!Q&&(R!=null&&R.current)&&I.hits.length>0&&C({type:"SEARCH_CLEAR"}),R.current=!0},[C,Q,I.hits,D.query,D.types]),c.jsx(wZe.Provider,{value:{dispatch:C,onClose:r==null?void 0:r.current,recentSearchesStore:y,searchCommandList:i,setSearchCommandList:s,setOnClose:ie,state:{..._,fullscreen:n}},children:e})}const xXe="3.15.1";function czn(t){return t.withConfig({apiVersion:"1"}).observable.request({url:"/help",query:{m:["sanity@".concat(xXe)]},tag:"module.version-check",json:!0}).pipe(Be(n=>({...n})))}function dzn(){const t=Cs({apiVersion:"1"}),e=m.useMemo(()=>czn(t),[t]);return KGe(e)}function fzn(t){let{error:e,isLoading:n,value:r}=t;var i;const s=(i=r==null?void 0:r.resources)==null?void 0:i.sectionArray,o=r==null?void 0:r.latestVersion;return n?c.jsx(ae,{align:"center",justify:"center",padding:3,children:c.jsx(_s,{})}):c.jsxs(c.Fragment,{children:[(r===void 0||e)&&c.jsx("div",{children:hzn}),!e&&(s==null?void 0:s.map(a=>a?c.jsx(pzn,{subSection:a},a._key):null)),c.jsxs(N,{padding:3,children:[c.jsxs(G,{size:1,muted:!0,weight:"medium",textOverflow:"ellipsis",children:["Sanity Studio version ",xXe]}),!e&&o&&c.jsx(N,{paddingTop:2,children:c.jsxs(G,{size:1,muted:!0,textOverflow:"ellipsis",children:["Latest version is ",o]})})]})]})}const hzn=c.jsxs(c.Fragment,{children:[c.jsx(St,{as:"a",text:"Join our community",size:0,href:"https://www.sanity.io/exchange/community",target:"_blank",muted:!1}),c.jsx(St,{as:"a",text:"Help and support",size:0,href:"https://www.sanity.io/contact/support",target:"_blank",muted:!1}),c.jsx(St,{as:"a",text:"Contact sales",size:0,href:"https://www.sanity.io/contact/sales?ref=studio",target:"_blank",muted:!1}),c.jsx(Ci,{})]});function pzn(t){let{subSection:e}=t;var n;return c.jsxs(c.Fragment,{children:[e.sectionTitle&&c.jsx(ge,{padding:2,paddingTop:3,marginLeft:1,children:c.jsx(jn,{muted:!0,size:1,children:e.sectionTitle})}),(n=e==null?void 0:e.items)==null?void 0:n.map(r=>{if(!r||!r.title)return null;switch(r._type){case"externalLink":return r.url?c.jsx(St,{as:"a",tone:"default",text:r.title,size:0,href:r.url,target:"_blank"},r._key):null;case"internalAction":return r.type?r.type==="show-welcome-modal"&&c.jsx(St,{text:r.title,size:0},r._key):null;default:return null}}),c.jsx(Ci,{})]})}var YAe=Object.freeze,mzn=Object.defineProperty,gzn=(t,e)=>YAe(mzn(t,"raw",{value:YAe(e||t.slice())})),KAe;const vzn=H(er)(KAe||(KAe=gzn([`
  max-width: 300px;
  min-width: 200px;
`])));function yzn(){const{scheme:t}=Po(),{value:e,error:n,isLoading:r}=dzn();return c.jsx(ae,{children:c.jsx(Mn,{content:c.jsx(N,{padding:2,children:c.jsx(G,{size:1,children:"Help and resources "})}),scheme:t,placement:"bottom",portal:!0,children:c.jsx("div",{children:c.jsx(vr,{button:c.jsx(Ce,{"aria-label":"Help and resources",icon:M_,mode:"bleed",fontSize:2}),id:"menu-button-resources",menu:c.jsx(vzn,{children:c.jsx(fzn,{error:n,isLoading:r,value:e})}),popover:{constrainSize:!0,placement:"bottom",portal:!0,scheme:t}})})})})}var ZAe=Object.freeze,bzn=Object.defineProperty,Uie=(t,e)=>ZAe(bzn(t,"raw",{value:ZAe(e||t.slice())})),XAe,QAe,JAe;const xzn=H(Wf)(XAe||(XAe=Uie([`
  min-height: auto;
  position: relative;

  &[data-search-open='true'] {
    top: 0;
    position: sticky;
  }
`]))),wzn=H(ge)(QAe||(QAe=Uie([`
  line-height: 0;
`]))),_zn=H(ae)(JAe||(JAe=Uie([`
  width: max-content;
`])));function Czn(){const{name:t,tools:e,...n}=kw(),r=MC().theme,i=eD(),s=Nee(),{scheme:o}=Po(),{href:a,onClick:l}=RBe({state:{}}),u=T0(),d=typeof s.tool=="string"?s.tool:void 0,f=xVn(),{onSearchFullscreenOpenChange:h,searchFullscreenOpen:p,searchFullscreenPortalEl:g}=m.useContext(JZe),v=jzn(),y=_Xe(),[x,b]=m.useState(!1),_=m.useRef(s),C=m.useRef(t);m.useEffect(()=>{(_.current.tool!==s.tool||t!==C.current)&&b(!1),_.current=s,C.current=t},[t,s]);const[S,T]=m.useState(null),[A,k]=m.useState(null),I=m.useMemo(()=>({brandingCenter:u<=1,resources:u>1,collapsedPresenceMenu:u<=1,loginStatus:u>1,searchFullscreen:u<=1,configIssues:u>1&&$0,workspaces:u>=3&&i.length>1,tools:u>=3}),[u,i.length]),D=typeof t=="string"&&t!=="root"?yi(t):null,R=n.title||D||"Studio";m.useEffect(()=>{h(p)},[p,h]),m.useEffect(()=>{h&&!I.searchFullscreen&&h(!1)},[h,I.searchFullscreen]);const O=m.useCallback(()=>{h(!0)},[h]),L=m.useCallback(()=>{h(!1),A==null||A.focus()},[h,A]),P=m.useCallback(()=>{b(!1),S==null||S.focus()},[S]),$=m.useCallback(()=>{b(!0)},[]);return c.jsxs(xzn,{zOffset:100,"data-search-open":p,children:[c.jsx(wzn,{"data-testid":"navbar","data-ui":"Navbar",padding:2,scheme:"dark",shadow:r.__legacy||o==="dark"?1:void 0,sizing:"border",children:c.jsxs(ae,{align:"center",justify:"space-between",children:[c.jsxs(_zn,{align:"center",flex:I.brandingCenter?void 0:1,children:[!I.tools&&c.jsx(N,{marginRight:1,children:c.jsx(Ce,{mode:"bleed",icon:DMe,onClick:$,ref:T})}),!I.brandingCenter&&c.jsx(N,{marginRight:1,children:c.jsx(zke,{href:a,onClick:l,title:R,children:c.jsx(v,{title:R})})}),I.workspaces&&c.jsx(N,{marginRight:2,children:c.jsx(Mn,{content:c.jsx(N,{padding:2,children:c.jsx(G,{size:1,children:"Select workspace"})}),placement:"bottom",portal:!0,scheme:o,children:c.jsx(N,{children:c.jsx(KZe,{})})})}),c.jsx(N,{marginRight:I.brandingCenter?void 0:2,children:c.jsx(bVn,{...f,modal:I.brandingCenter?"dialog":"popover"})}),c.jsx(Fv,{children:c.jsx(uzn,{fullscreen:I.searchFullscreen,children:c.jsxs(Q7,{element:document.body,children:[c.jsx(J7,{element:g,children:I.searchFullscreen&&c.jsx(DHn,{onClose:L,onOpen:O,open:p})}),!I.searchFullscreen&&c.jsx(NHn,{})]})})}),I.tools&&c.jsx(ge,{flex:1,marginX:2,overflow:"visible",paddingRight:1,children:c.jsx(y,{activeToolName:d,closeSidebar:P,context:"topbar",isSidebarOpen:!1,tools:e})})]}),I.brandingCenter&&c.jsx(N,{marginX:1,children:c.jsx(zke,{href:a,onClick:l,title:R,children:c.jsx(v,{title:R})})}),c.jsxs(ae,{gap:2,children:[(I.configIssues||I.resources)&&c.jsx(ge,{borderRight:!0,children:c.jsxs(ae,{gap:1,paddingX:2,children:[I.configIssues&&c.jsx(BVn,{}),I.resources&&c.jsx(yzn,{})]})}),c.jsxs(ae,{align:"center",gap:1,children:[c.jsx(DVn,{collapse:I.collapsedPresenceMenu}),I.tools&&c.jsx(tVn,{}),I.searchFullscreen&&c.jsx(Ce,{"aria-label":"Open search",icon:nl,mode:"bleed",onClick:O,ref:k})]})]})]})}),!I.tools&&c.jsx(FVn,{activeToolName:d,isOpen:x,onClose:P,tools:e})]})}const wXe=m.forwardRef(function(e,n){const{name:r,...i}=e,s=Nee(m.useCallback(o=>({...o,tool:r,[r]:void 0}),[r]));return c.jsx(C9,{state:s,...i,ref:n})});function Ezn(t){const{activeToolName:e,tools:n}=t,{scheme:r}=Po(),[i,s]=m.useState(null);oqe({rootElement:i,navigation:["arrows"]});const o=m.useMemo(()=>({popover:{constrainSize:!0,portal:!0,scheme:r}}),[r]),a=m.useMemo(()=>n.map((l,u)=>{const d=(l==null?void 0:l.title)||yi(l.name)||void 0,f=m.forwardRef(function(p,g){return c.jsx(wXe,{...p,ref:g,name:l.name})});return c.jsx(Sie,{as:f,"data-as":"a",collapsedProps:{tooltipText:l.title},icon:l.icon||kh,mode:"bleed",selected:e===l.name,text:d,tooltipProps:{scheme:r}},"".concat(l.name,"-").concat(u))}),[e,r,n]);return c.jsx(Eie,{"data-testid":"tool-collapse-menu",gap:1,menuButtonProps:o,ref:s,children:a})}function Szn(t){const{activeToolName:e,isVisible:n,tools:r}=t;return m.useMemo(()=>c.jsx(Te,{as:"ul",space:1,children:r.map(i=>{const s=(i==null?void 0:i.title)||yi(i.name)||void 0,o=m.forwardRef(function(l,u){return c.jsx(wXe,{...l,ref:u,name:i.name})});return c.jsx(Te,{as:"li",children:c.jsx(Ce,{as:o,icon:i.icon||W3,justify:"flex-start",mode:"bleed",selected:e===i.name,tabIndex:n?0:-1,text:s})},i.name)})}),[e,n,r])}function Tzn(t){const{context:e,isSidebarOpen:n,...r}=t;return e==="sidebar"?c.jsx(Szn,{isVisible:n,...r}):c.jsx(Ezn,{...r})}function kzn(t){var e,n;return(n=(e=t.studio)==null?void 0:e.components)==null?void 0:n.toolMenu}function Azn(t){var e,n;return(n=(e=t.studio)==null?void 0:e.components)==null?void 0:n.navbar}function Izn(t){var e,n;return(n=(e=t.studio)==null?void 0:e.components)==null?void 0:n.layout}function Dzn(t){var e,n;return(n=(e=t.studio)==null?void 0:e.components)==null?void 0:n.logo}function _Xe(){return ep({defaultComponent:Tzn,pick:kzn})}function Rzn(){return ep({defaultComponent:Czn,pick:Azn})}function jzn(){return ep({defaultComponent:zBn,pick:Dzn})}function Ozn(){return ep({defaultComponent:UNn,pick:Izn})}const e3e=l2n.__sanityErrorChannel;function Lzn(){const{push:t}=Na();return m.useEffect(()=>{if(e3e)return e3e.subscribe(e=>{e.error&&(Pzn(e.error)||(console.error(e.error),t({id:e.error.message,closable:!0,description:e.error.message,duration:5e3,title:"Uncaught error",status:"error"})))})},[t]),null}function Pzn(t){return t instanceof Mie||t instanceof Sre||t instanceof Cf}function Mzn(t){let{children:e,AuthenticateComponent:n=ZZe,LoadingComponent:r=Bk,NotAuthenticatedComponent:i=XZe}=t;const[s,o]=m.useState(null);if(s)throw s;const[a,l]=m.useState("loading"),{activeWorkspace:u}=CE();return m.useEffect(()=>{var d,f;(f=(d=u.auth).handleCallbackUrl)==null||f.call(d).catch(o)},[u.auth]),m.useEffect(()=>{const d=u.auth.state.subscribe({next:f=>{let{authenticated:h,currentUser:p}=f;var g;if(((g=p==null?void 0:p.roles)==null?void 0:g.length)===0){l("unauthorized");return}l(h?"logged-in":"logged-out")},error:o});return()=>{d.unsubscribe()}},[u]),a==="loading"?c.jsx(r,{}):a==="unauthorized"?c.jsx(i,{}):a==="logged-out"?c.jsx(n,{}):c.jsx(c.Fragment,{children:e})}function $zn(t){let{children:e}=t;const n=CE().activeWorkspace.theme;if(n.__legacy){const r=n.__dark?"dark":"light";return c.jsx(tF.Provider,{value:!1,children:c.jsx(eF.Provider,{value:r,children:c.jsx(EA,{scheme:r,theme:n,tone:"transparent",children:c.jsx(Fv,{children:e})})})})}return c.jsx(EA,{theme:n,tone:"transparent",children:c.jsx(Fv,{children:e})})}const Fzn={toast:[100,11e3]};var t3e=Object.freeze,Bzn=Object.defineProperty,CXe=(t,e)=>t3e(Bzn(t,"raw",{value:t3e(e||t.slice())})),n3e,r3e;H(ae)(n3e||(n3e=CXe([""])));H(N).attrs({padding:4})(r3e||(r3e=CXe([""])));function Nzn(t){const{basePath:e="/",tools:n}=t,r=su.create("/:tool",i=>{const s=n.find(o=>o.name===i.tool);return s?su.scope(s.name,"/",s.router):su.create("/")});return su.create(e,[su.intents("/intent"),r])}function Hie(t){const n={}.toolSwitcher||{},r=n.order||[],i=n.hidden||[];if(!r.length&&!i.length)return t;const s=t.reduce((l,u)=>{const d=u.title||"<unknown>";if(!u.name)return console.warn('Tool "'.concat(d,'" does not have the required "name" property')),l;if(l[u.name]){const h=l[u.name].tool.title;return console.warn('Tools with duplicate name "'.concat(u.name,'" found ("').concat(d,'" and "').concat(h,'")')),l}const f=r.indexOf(u.name);return l[u.name]={tool:u,index:f===-1?1/0:f},l},{}),o=l=>i.indexOf(l.name)===-1,a=t.filter(o);return a.sort((l,u)=>{const d=s[l.name],f=s[u.name],h=d?d.index:1/0,p=f?f.index:1/0;return h===p?0:h-p}),a}function Vzn(t,e){const r=Hie(t)[0];return!e||e.tool||!r?e:Object.assign({},e,{tool:r.name})}function Uzn(t,e){return e&&(Hie(t).find(n=>n.name===e.space)?{...e,tool:e.space,space:void 0}:e)}function Hzn(t,e){return Vzn(t,Uzn(t,e))}function zzn(t,e,n){const{intent:r,params:i,payload:s}=n;if(typeof r!="string")throw new Error("intent must be a string");if(!Jn(i))throw new Error("intent params must be a string");const o=Hie(t),a=e!=null&&e.tool?o.find(u=>u.name===e.tool):null,l=(a?[a,...o]:o).find(u=>u&&typeof u.canHandleIntent=="function"&&u.canHandleIntent(r,i,e&&e[u.name]));if(l!=null&&l.getIntentState){const u=l.getIntentState(r,i,e&&e[l.name],s);return{type:"state",isNotFound:!1,state:{...e,tool:l.name,[l.name]:u}}}return{type:"intent",isNotFound:!0,intent:{name:r,params:i}}}function Wzn(t,e){return{type:"state",state:t.decode(e)||{},isNotFound:t.isNotFound(e)}}function Gzn(t){let{children:e,LoadingComponent:n,workspace:r}=t;const{basePath:i,tools:s}=r,o=bNn(),a=m.useMemo(()=>Nzn({basePath:i,tools:s}),[i,s]),[l,u]=qzn(o,a,s);return l?c.jsx(OFt,{onNavigate:u,router:a,state:l,children:e}):c.jsx(n,{})}function qzn(t,e,n){var r;const i=m.useMemo(()=>{const l=e.getBasePath(),u=new RegExp("^".concat(Gne(l),"(\\/|$)"),"i"),d=f=>l==="/"?!0:u.test(f);return{subscribe:f=>t.listen(f),getSnapshot:()=>t.location.pathname,getServerSnapshot:()=>null,selector:f=>typeof f=="string"&&d(f)?Wzn(e,f):null}},[t,e]),s=Vne.useSyncExternalStoreWithSelector(i.subscribe,i.getSnapshot,i.getServerSnapshot,i.selector,Ur),o=m.useRef(s);m.useEffect(()=>{var l;if((s==null?void 0:s.type)==="state"&&!((l=s.state)!=null&&l.intent)){const u=Hzn(n,s.state);u&&u!==s.state&&t.replace(e.encode(u))}},[s==null?void 0:s.state,s==null?void 0:s.type,t,e,n]),m.useEffect(()=>{const l=i3e(s,e,n,o);l?t.replace(l):o.current=s},[s,t,e,n]);const a=m.useMemo(()=>l=>{let{path:u,replace:d}=l;const f=i.selector(u),h=i3e(f,e,n,o),p=typeof h=="string"?h:u;d?t.replace(p):t.push(p)},[t,e,i,n]);return[(r=s==null?void 0:s.state)!=null?r:null,a]}function i3e(t,e,n,r){var i,s;if((t==null?void 0:t.type)==="state"&&((i=t.state)!=null&&i.intent)){const o=zzn(n,((s=r.current)==null?void 0:s.type)==="state"?r.current.state:{},t.state);if((o==null?void 0:o.type)==="state")return e.encode(o.state)}return null}function Yzn(t){let{children:e,LoadingComponent:n}=t;const[r,i]=m.useState(null);if(r)throw r;const{activeWorkspace:s}=CE(),[o,a]=m.useState(null);return m.useEffect(()=>{const l=ol(s.__internal.sources.map(u=>{let{source:d}=u;return d.pipe(Or(f=>{if(f instanceof Cf)return Re(f);throw f}))})).pipe(Be(u=>{const d=u.filter(f=>f instanceof Cf);if(d.length)throw new Cf({name:s.name,causes:d,type:"workspace"});return u}),Be(u=>{let[d,...f]=u;return{...s,...d,unstable_sources:[d,...f],type:"workspace"}})).subscribe({next:a,error:i});return()=>l.unsubscribe()},[s]),o?c.jsx(rFn,{workspace:o,children:c.jsx(iFn,{source:o.unstable_sources[0],children:c.jsx(Gzn,{LoadingComponent:n,workspace:o,children:e})})}):c.jsx(n,{})}function Kzn(t){let{ConfigErrorsComponent:e,...n}=t;const[{error:r},i]=m.useState({error:null});if(r)throw r;return c.jsx(fI,{onCatch:i,children:c.jsx(Yzn,{...n})})}Px.registerLanguage(gbn);Px.registerLanguage(fbt);Px.registerLanguage(ybn);Px.registerLanguage(xbn);Px.registerLanguage(_bn);function Zzn(t){let{children:e,config:n,basePath:r,onSchemeChange:i,scheme:s,unstable_history:o,unstable_noAuthBoundary:a}=t;const l=c.jsx(Kzn,{LoadingComponent:Bk,ConfigErrorsComponent:LNn,children:c.jsx(L_n,{children:e})});return c.jsx(WBn,{onSchemeChange:i,scheme:s,children:c.jsxs(Y$e,{paddingY:7,zOffset:Fzn.toast,children:[c.jsx(Lzn,{}),c.jsx(QZe,{children:c.jsx(YBn,{config:n,basePath:r,children:c.jsx(_Nn,{unstable_history:o,NotFoundComponent:fNn,LoadingComponent:Bk,children:c.jsx($zn,{children:c.jsx(TTn,{children:a?l:c.jsx(Mzn,{LoadingComponent:Bk,AuthenticateComponent:ZZe,NotAuthenticatedComponent:XZe,children:l})})})})})})]})})}function Xzn(){const t=Ozn();return c.jsx(t,{})}function s3e(t){const{basePath:e,config:n,onSchemeChange:r,scheme:i,unstable_globalStyles:s,unstable_history:o,unstable_noAuthBoundary:a}=t;return c.jsxs(Zzn,{basePath:e,config:n,onSchemeChange:r,scheme:i,unstable_history:o,unstable_noAuthBoundary:a,children:[s&&c.jsx(lCn,{}),c.jsx(Xzn,{})]})}function Qzn(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!t)throw new Error("Missing root element to mount application into");const r=typeof n=="boolean"?{reactStrictMode:n}:n,{reactStrictMode:i=!1,basePath:s}=r,o=YWe(t);return o.render(i?c.jsx(m.StrictMode,{children:c.jsx(s3e,{config:e,basePath:s,unstable_globalStyles:!0})}):c.jsx(s3e,{config:e,basePath:s,unstable_globalStyles:!0})),()=>o.unmount()}function Cs(t){const e=Zs();return t?e.getClient(t):(console.warn('Calling `useClient()` without specifying an API version is deprecated and will stop working in the next dev-preview release - please migrate to use `useClient({apiVersion: "2021-06-07"})`.'),e.getClient({apiVersion:"2021-06-07"}))}const o3e="connecting";function Jzn(t,e){const n=Kc();return Va(()=>n.pair.documentEvents(t,e).pipe(Be(r=>r.type),Be(r=>r!=="reconnect"),Kt(r=>r?Re("connected"):gu(200).pipe(pee("reconnecting"))),vu(o3e),Xi()),[n.pair,t,e],o3e)}function zie(){return Zs().dataset}function Mm(t,e){const n=Kc();return Va(()=>n.pair.editOperations(t,e),[e,n.pair,t])}function dEr(t,e){const n=Kc();return Va(()=>n.pair.operationEvents(t,e),[n.pair,t,e])}function EXe(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"default";const r=Kc();return Va(()=>{const i=r.pair.editState(t,e).pipe(Ad());return n==="low"?li(i.pipe(Ic(1)),i.pipe(DFe(1),CFe(()=>gu(1e3)))):r.pair.editState(t,e)},[r.pair,t,e,n])}function Wie(){return Zs().projectId}function es(){return Zs().schema}const eWn={isSyncing:!0},a3e={isSyncing:!1};function tWn(t,e){const n=Kc();return Va(()=>n.pair.consistencyStatus(t,e).pipe(Be(r=>r?a3e:eWn)),[n.pair,e,t],a3e)}function nD(){return Zs().templates}const HH=1e3*5,l3e=1e3*20,bK=1e3*60,X4=bK*60;function sF(t){let{minimal:e,agoSuffix:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=nWn(t,{minimal:e,agoSuffix:n}),[,i]=m.useReducer(s=>s+1,0);return m.useEffect(()=>{let s;function o(a){s=window.setTimeout(()=>{i(),s=window.setTimeout(()=>o(a),a)},a)}return r.refreshInterval!==null&&o(r.refreshInterval),()=>{s!==null&&clearTimeout(s)}},[i,r.refreshInterval]),r.timestamp}function nWn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=t instanceof Date?t:new Date(t);if(!n.getTime())return{timestamp:"",refreshInterval:null};const r=Date.now(),i=gUe(r,n),s=KJt(r,n);if(i||s)return e.minimal&&s===0?{timestamp:Ja(n,"MMM d"),refreshInterval:null}:e.minimal?{timestamp:Ja(n,"MMM d, yyyy"),refreshInterval:null}:{timestamp:Ja(n,"MMM d, yyyy, hh:mm a"),refreshInterval:null};const o=YJt(r,n),a=Do("week",o);if(o)return e.minimal?{timestamp:e.agoSuffix?"".concat(o,"w ago"):"".concat(o,"w"),refreshInterval:X4}:{timestamp:e.agoSuffix?"".concat(o," ").concat(a," ago"):"".concat(o," ").concat(a),refreshInterval:X4};const l=mUe(r,n),u=Do("days",l);if(l){if(e.minimal){const x=e.agoSuffix?"".concat(l,"d ago"):"".concat(l,"d");return{timestamp:l===1?"yesterday":x,refreshInterval:X4}}const y=e.agoSuffix?"".concat(l," ").concat(u," ago"):"".concat(l," ").concat(u);return{timestamp:l===1?"yesterday":y,refreshInterval:X4}}const d=zJt(r,n),f=Do("hour",d);if(d)return e.minimal?{timestamp:e.agoSuffix?"".concat(d,"h ago"):"".concat(d,"h"),refreshInterval:bK}:{timestamp:e.agoSuffix?"".concat(d," ").concat(f," ago"):"".concat(d," ").concat(f),refreshInterval:bK};const h=WJt(r,n),p=Do("minute",h);if(h)return e.minimal?{timestamp:e.agoSuffix?"".concat(h,"m ago"):"".concat(h,"m"),refreshInterval:l3e}:{timestamp:e.agoSuffix?"".concat(h," ").concat(p," ago"):"".concat(h," ").concat(p),refreshInterval:l3e};const g=vUe(r,n),v=Do("second",g);return g>10?e.minimal?{timestamp:e.agoSuffix?"".concat(g,"s ago"):"".concat(g,"s"),refreshInterval:HH}:{timestamp:e.agoSuffix?"".concat(g," ").concat(v," ago"):"".concat(g," ").concat(v),refreshInterval:HH}:{timestamp:"just now",refreshInterval:HH}}const rWn={validation:[],isValidating:!1};function Gie(t,e){const n=Kc();return Va(()=>n.pair.validation(t,e),[n.pair,t,e],rWn)}const iWn=Om(t=>{let[e,n]=t;return Vr(e.getUser(n).catch(r=>(console.error(r),null)))});function SXe(t){const e=ese();return iWn(m.useMemo(()=>[e,t],[t,e]))}function Md(){const{currentUser:t}=Zs();return t}const u3e=t=>{const e=t.LOCAL,n=t.document.HEAD;return e&&{...e,_type:(n||e)._type,_rev:(n||e)._rev,_updatedAt:new Date().toISOString()}},c3e=t=>({type:"snapshot",document:t}),d3e=t=>t.document,sWn=t=>{const e=new Pi,n=new K_(!0),r=new Pi,i=new Pi,s=new Pi,o=new Pi,a=x=>{const b=new u0n(x);return b.onMutation=_=>{let{mutation:C,remote:S}=_;r.next({type:"mutation",document:u3e(b),mutations:C.mutations,origin:S?"remote":"local"})},b.onRemoteMutation=_=>{s.next({type:"remoteMutation",head:b.document.HEAD,transactionId:_.transactionId,timestamp:_.timestamp,author:_.identity,effects:_.effects})},b.onRebase=(_,C,S)=>{i.next({type:"rebase",document:_,remoteMutations:C,localMutations:S})},b.onConsistencyChanged=_=>{n.next(_)},b.commitHandler=_=>o.next(_),b},l=t.pipe(Pf((x,b)=>b.type==="snapshot"?(x&&x.commit(),a(b.document||null)):x===null?(console.warn('Ignoring event of type "%s" since buffered document has not yet been set up with snapshot',b.type),null):x,null),dt(x=>x!==null),Xi(),xf(1),bf()),u=t.pipe(dt(x=>x.type==="mutation"),oa(l),Be(x=>{let[b,_]=x;return _.arrive(new am(b)),u3e(_)})),d=e.pipe(oa(l),Ei(x=>{let[b,_]=x;b.type==="mutation"&&_.add(new am({mutations:b.mutations})),b.type==="commit"&&_.commit()}),Hv(as),Ad()),f=x=>e.next(x),h=x=>f({type:"mutation",mutations:x}),p=x=>h([x]),g=()=>{l.pipe(Ic(1),Ei(x=>x.commit())).subscribe()},v=li(l.pipe(Be(x=>x.LOCAL)),r.pipe(Be(d3e)),i.pipe(Be(d3e)),u).pipe(Be(c3e),xf(1),bf()),y=li(l.pipe(Be(x=>x.document.HEAD),Be(c3e)),s).pipe(xf(1),bf());return{updates$:li(v,d,r,i),consistency$:n.pipe(Xi(),xf(1),bf()),remoteSnapshot$:y,commitRequest$:o,addMutation:p,addMutations:h,commit:g}},oWn=t=>e=>{const{_id:n,_rev:r,_updatedAt:i,...s}=e;return{_id:t,...s}},f3e=(t,e)=>{const n=sWn(e),r=oWn(t),i={delete:{id:t}};return{events:n.updates$,consistency$:n.consistency$,remoteSnapshot$:n.remoteSnapshot$,commitRequest$:n.commitRequest$,patch:s=>s.map(o=>({patch:{...o,id:t}})),create:s=>({create:r(s)}),createIfNotExists:s=>({createIfNotExists:r(s)}),createOrReplace:s=>({createOrReplace:r(s)}),delete:()=>i,mutate:s=>n.addMutations(s),commit:()=>n.commit()}},aWn={type:"pending",phase:"begin"},lWn={type:"pending",phase:"end"};function uWn(t){return t.type==="mutation"}function cWn(t){return t.transactionTotalEvents>1}function dWn(t){const e=wne(t.filter(n=>n.type==="mutation"),n=>n.transactionId);return Object.values(e).every(n=>n.length===n[0].transactionTotalEvents)}function fWn(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{publishedId:r,draftId:i}=e;return Ls(()=>t.observable.listen("*[_id == $publishedId || _id == $draftId]",{publishedId:r,draftId:i},{includeResult:!1,events:["welcome","mutation","reconnect"],effectFormat:"mendoza",tag:n.tag||"document.pair-listener"})).pipe(JP(o=>o.type==="welcome"?s().pipe(JP(a=>[h3e(i,a.draft),h3e(r,a.published)])):Re(o)),Pf((o,a)=>{if(!uWn(a))return{next:[a],buffer:[]};const l=o.buffer.length>0,u=cWn(a);if(!u&&!l)return{next:[a],buffer:[]};if(!u)return{next:[],buffer:o.buffer.concat(a)};const d=o.buffer.concat(a);return dWn(d)?{next:d.concat(lWn),buffer:[]}:{next:d.length===1?[aWn]:[],buffer:d}},{next:[],buffer:[]}),rt(o=>o.next));function s(){return t.observable.getDocuments([i,r],{tag:"document.snapshots"}).pipe(Be(o=>{let[a,l]=o;return{draft:a,published:l}}))}}function h3e(t,e){return{type:"snapshot",documentId:t,document:e}}const p3e=t=>e=>e.type!=="reconnect"&&e.type!=="pending"&&e.documentId===t;function Q4(t){return e=>({...e,version:t})}function hWn(t,e){const{resultRev:n,...r}=e;return t.dataRequest("mutate",r,{visibility:"async",returnDocuments:!1,tag:"document.commit",skipCrossDatasetReferenceValidation:!0})}function pWn(t,e){return Vr(hWn(t,e.mutation.params)).pipe(Ei({error:n=>{"statusCode"in n&&typeof n.statusCode=="number"&&n.statusCode>=400&&n.statusCode<=500?e.cancel(n):e.failure(n)},next:()=>e.success()}))}function TXe(t,e){const{publishedId:n,draftId:r}=e,i=fWn(t,e).pipe(Ad()),s=i.pipe(dt(d=>d.type==="reconnect")),o=f3e(r,i.pipe(dt(p3e(r)))),a=f3e(n,i.pipe(dt(p3e(n)))),l=i.pipe(dt(d=>d.type==="pending")),u=li(o.commitRequest$,a.commitRequest$).pipe(rt(d=>pWn(t,d)),Hv(as),Ad());return{transactionsPendingEvents$:l,draft:{...o,events:li(u,s,o.events).pipe(Be(Q4("draft"))),consistency$:o.consistency$,remoteSnapshot$:o.remoteSnapshot$.pipe(Be(Q4("draft")))},published:{...a,events:li(u,s,a.events).pipe(Be(Q4("published"))),consistency$:a.consistency$,remoteSnapshot$:a.remoteSnapshot$.pipe(Be(Q4("published")))}}}function $m(t,e){const n=Object.create(null);return function(){const r=e(...arguments);return r in n||(n[r]=t(...arguments)),n[r]}}const Iw=(t,e)=>{var n;return((n=t.get(e))==null?void 0:n.liveEdit)===!0};function rD(t,e,n){var r,i;const s=t.config();return"".concat((r=s.dataset)!=null?r:"","-").concat((i=s.projectId)!=null?i:"","-").concat(e.publishedId,"-").concat(n)}const oF=$m((t,e,n)=>new On(r=>{r.next(TXe(t,e))}).pipe(xf(1),bf()),rD);function mWn(t){return t.type==="snapshot"}function m3e(t){return{snapshots$:t.events.pipe(dt(mWn),Be(e=>e.document),xf(1),bf()),patch:t.patch,create:t.create,createIfNotExists:t.createIfNotExists,createOrReplace:t.createOrReplace,delete:t.delete,mutate:t.mutate,commit:t.commit}}const qie=$m((t,e,n)=>oF(t,e,n).pipe(Be(r=>{let{published:i,draft:s,transactionsPendingEvents$:o}=r;return{transactionsPendingEvents$:o,published:m3e(i),draft:m3e(s)}}),xf(1),bf()),(t,e,n)=>{var r,i;const s=t.config();return"".concat((r=s.dataset)!=null?r:"","-").concat((i=s.projectId)!=null?i:"","-").concat(e.publishedId,"-").concat(n)}),gWn={enabled:!0},g3e={enabled:!1},kXe=$m((t,e,n)=>{const r=Iw(t.schema,n);return qie(t.client,e,n).pipe(Kt(i=>ol([i.draft.snapshots$,i.published.snapshots$,i.transactionsPendingEvents$.pipe(Be(s=>s.phase==="begin"?gWn:g3e),vu(g3e))])),Be(i=>{let[s,o,a]=i;return{id:e.publishedId,type:n,draft:s,published:o,liveEdit:r,ready:!0,transactionSyncLock:a}}),vu({id:e.publishedId,type:n,draft:null,published:null,liveEdit:r,ready:!1,transactionSyncLock:null}),xf(1),bf())},(t,e,n)=>rD(t.client,e,n)),AXe=$m((t,e,n)=>qie(t.client,e,n).pipe(Kt(r=>ol([r.draft.snapshots$,r.published.snapshots$]).pipe(Be(i=>{let[s,o]=i;return{...t,idPair:e,typeName:n,snapshots:{draft:s,published:o},draft:r.draft,published:r.published}}))),xf(1),bf()),(t,e,n)=>{var r,i;const s=t.client.config();return"".concat((r=s.dataset)!=null?r:"","-").concat((i=s.projectId)!=null?i:"","-").concat(e.publishedId,"-").concat(n)}),P6={disabled:t=>{let{snapshots:e}=t;return e.draft||e.published?!1:"NOTHING_TO_DELETE"},execute:t=>{let{client:e,schema:n,idPair:r,typeName:i}=t;const s=e.observable.transaction().delete(r.publishedId);return Iw(n,i)?s.commit({tag:"document.delete"}):s.delete(r.draftId).commit({tag:"document.delete",skipCrossDatasetReferenceValidation:!0})}};function xK(t){return wm(t)?t._strengthenOnPublish?Al(t,["_strengthenOnPublish"].concat(t._strengthenOnPublish.weak?[]:["_weak"])):t:typeof t!="object"||!t?t:Array.isArray(t)?t.map(xK):Object.fromEntries(Object.entries(t).map(e=>{let[n,r]=e;return[n,xK(r)]}))}const IXe={disabled:t=>{let{schema:e,typeName:n,snapshots:r}=t;return Iw(e,n)?"LIVE_EDIT_ENABLED":r.draft?!1:r.published?"ALREADY_PUBLISHED":"NO_CHANGES"},execute:t=>{let{client:e,idPair:n,snapshots:r}=t;if(!r.draft)throw new Error('cannot execute "publish" when draft is missing');const i=xK(Al(r.draft,"_updatedAt")),s=e.observable.transaction();if(!r.draft)throw new Error('cannot execute "publish" when draft is missing');return r.published?(s.patch(n.publishedId,{unset:["_revision_lock_pseudo_field_"],ifRevisionID:r.published._rev}),s.createOrReplace({...i,_id:n.publishedId,_type:r.draft._type})):s.create({...i,_id:n.publishedId,_type:r.draft._type}),s.delete(n.draftId),s.commit({tag:"document.publish",visibility:"async"})}},DXe={disabled:()=>!1,execute:function(t){let{schema:e,snapshots:n,idPair:r,draft:i,published:s,typeName:o}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0;Iw(e,o)?s.mutate([s.createIfNotExists({_type:o,...l}),...s.patch(a)]):i.mutate([i.createIfNotExists({...l,...n.published,_id:r.draftId,_type:o}),...i.patch(a)])}},RXe={disabled:()=>!1,execute:t=>{let{draft:e,published:n}=t;return e.commit(),n.commit(),as}},jXe={disabled:t=>{let{snapshots:e}=t;return e.draft?e.published?!1:"NOT_PUBLISHED":"NO_CHANGES"},execute:t=>{let{client:e,idPair:n}=t;return e.observable.transaction().delete(n.draftId).commit({tag:"document.discard-changes"})}},OXe={disabled:t=>{let{schema:e,snapshots:n,typeName:r}=t;return Iw(e,r)?"LIVE_EDIT_ENABLED":n.published?!1:"NOT_PUBLISHED"},execute:t=>{let{client:e,idPair:n,snapshots:r}=t,i=e.observable.transaction().delete(n.publishedId);return r.published&&(i=i.createIfNotExists({...Al(r.published,"_updatedAt"),_id:n.draftId,_type:r.published._type})),i.commit({tag:"document.unpublish",visibility:"async",skipCrossDatasetReferenceValidation:!0})}},vWn=["_createdAt","_updatedAt"],LXe={disabled:t=>{let{snapshots:e}=t;return e.published||e.draft?!1:"NOTHING_TO_DUPLICATE"},execute:(t,e)=>{let{schema:n,client:r,snapshots:i,typeName:s}=t;const o=i.draft||i.published;if(!o)throw new Error("cannot execute on empty document");return r.observable.create({...Al(o,vWn),_id:Iw(n,s)?e:Ll(e),_type:o._type},{tag:"document.duplicate"})}},PXe={disabled:()=>!1,execute:(t,e)=>{let{historyStore:n,schema:r,idPair:i,typeName:s}=t;const o=Iw(r,s)?i.publishedId:i.draftId;return n.restore(i.publishedId,o,e)}},MXe=$m((t,e,n)=>oF(t,e,n).pipe(Kt(r=>{let{draft:i,published:s}=r;return ol([i.consistency$,s.consistency$])}),Be(r=>{let[i,s]=r;return i&&s}),Xi(),xf(1),bf()),(t,e,n)=>{var r,i;const s=t.config();return"".concat((r=s.dataset)!=null?r:"","-").concat((i=s.projectId)!=null?i:"","-").concat(e.publishedId,"-").concat(n)});function yWn(t){return typeof t>"u"?Re(null):t}const bWn={del:P6,delete:P6,publish:IXe,patch:DXe,commit:RXe,discardChanges:jXe,unpublish:OXe,duplicate:LXe,restore:PXe},xWn=(t,e,n)=>{const r=bWn[t];return Ls(()=>li(Re(null),yWn(r.execute(e,...n)))).pipe(r4t())},$Xe=new Pi;function FXe(t,e,n,r){$Xe.next({operationName:t,idPair:e,typeName:n,extraArgs:r})}const wWn=["publish","unpublish","discardChanges","delete"],BXe=$m(t=>{const e=$Xe.pipe(IFe(i=>i.idPair.publishedId),rt(i=>i.pipe(Kt(s=>AXe(t,s.idPair,s.typeName).pipe(Ic(1),Kt(o=>{const a=wWn.includes(s.operationName);a&&(o.published.commit(),o.draft.commit());const l=MXe(t.client,s.idPair,s.typeName).pipe(dt(Boolean));return(a?l.pipe(Ic(1)):Re(!0)).pipe(Kt(()=>xWn(s.operationName,o,s.extraArgs)))}),Be(()=>({type:"success",args:s})),Or(o=>Re({type:"error",args:s,error:o})))))),Ad()),n=1e3,r=e.pipe(dt(i=>i.type==="success"&&i.args.operationName==="patch"),eM(n,Bh,{leading:!0,trailing:!0}),Ei(i=>{FXe("commit",i.args.idPair,i.args.typeName,[])}));return li(e,r.pipe(Hv(as)))},t=>{var e,n;const r=t.client.config();return"".concat((e=r.dataset)!=null?e:"","-").concat((n=r.projectId)!=null?n:"")}),_Wn=$m((t,e,n)=>oF(t,e,n).pipe(Kt(r=>{let{published:i,draft:s}=r;return li(i.remoteSnapshot$,s.remoteSnapshot$)})),rD),CWn={isValidating:!0,validation:[]};function EWn(t){return TWe(t,(e,n)=>(wm(n)&&e.add(n._ref),e),new Set)}const SWn=[],TWn=(t,e)=>t(e).pipe(Be(n=>{let{published:r}=n;return r.available})),kWn=200,AWn=1e3,IWn=$m((t,e,n)=>{let{draftId:r,publishedId:i}=e;const s=kXe(t,{draftId:r,publishedId:i},n).pipe(Be(d=>{let{draft:f,published:h}=d;return f||h}),eM(kWn,Bh,{trailing:!0}),Xi((d,f)=>(d==null?void 0:d._rev)===(f==null?void 0:f._rev)?!0:zv(Al(d,"_rev","_updatedAt"),Al(f,"_rev","_updatedAt"))),Ad()),a=s.pipe(Be(d=>EWn(d)),rt(d=>Vr(d))).pipe(IFe(d=>d,void 0,()=>gu(1e3*60*30)),rt(d=>d.pipe(JRt(),rt(f=>TWn(t.observeDocumentPairAvailability,f).pipe(Be(h=>[f,h]))))),Pf((d,f)=>{let[h,p]=f;return!!d[h]===p?d:p?{...d,[h]:p}:Al(d,h)},{}),Xi(zv),$a({refCount:!0,bufferSize:1})),l=d=>{let{id:f}=d;return Ta(a.pipe(gee(),Be(h=>h[f])))},u=a.pipe(DFe(1),eM(AWn,Bh,{leading:!0,trailing:!0}));return ol([s,go(Re(null),u)]).pipe(Be(d=>{let[f]=d;return f}),IWe(d=>Ls(()=>d!=null&&d._type?go(Re({isValidating:!0,revision:d._rev}),KCn(t.getClient,d,t.schema,{getDocumentExists:l}).pipe(Be(f=>({validation:f,isValidating:!1})))):Re({validation:SWn,isValidating:!1}))),Pf((d,f)=>({...d,...f}),CWn),xf(1),bf())},(t,e,n)=>{var r,i;const s=t.client.config();return"".concat((r=s.dataset)!=null?r:"","-").concat((i=s.projectId)!=null?i:"","-").concat(e.publishedId,"-").concat(n)}),DWn=$m((t,e,n)=>oF(t,e,n).pipe(Kt(r=>{let{draft:i,published:s}=r;return li(i.events,s.events)})),rD);function ag(t){return{disabled:"NOT_READY",execute:()=>{throw new Error("Called ".concat(t," before it was ready."))}}}const RWn={commit:ag("commit"),delete:ag("delete"),del:ag("del"),publish:ag("publish"),patch:ag("patch"),discardChanges:ag("discardChanges"),unpublish:ag("unpublish"),duplicate:ag("duplicate"),restore:ag("restore")},jWn=(t,e,n)=>function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return FXe(t,e,n,i)};function lg(t,e,n){return{disabled:e.disabled(n),execute:jWn(t,n.idPair,n.typeName)}}function OWn(t){return{commit:lg("commit",RXe,t),delete:lg("delete",P6,t),del:lg("delete",P6,t),publish:lg("publish",IXe,t),patch:lg("patch",DXe,t),discardChanges:lg("discardChanges",jXe,t),unpublish:lg("unpublish",OXe,t),duplicate:lg("duplicate",LXe,t),restore:lg("restore",PXe,t)}}const LWn=$m((t,e,n)=>{const r=BXe(t),s=AXe(t,e,n).pipe(Be(OWn));return go(Re(RWn),li(r.pipe(rt(()=>as)),s)).pipe($a({refCount:!0,bufferSize:1}))},(t,e,n)=>rD(t.client,e,n)),PWn=(t,e,n,r)=>Ls(()=>t.observable.fetch(e,n,{tag:r.tag,filterResponse:!0})),MWn=(t,e,n,r)=>Ls(()=>t.listen(e,n,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query",tag:r.tag}));function v3e(t){return t.type==="welcome"}function $Wn(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=typeof e=="string"?e:e.fetch,s=typeof e=="string"?e:e.listen,o=MWn(t,s,n,r).pipe(rt((f,h)=>h===0&&!v3e(f)?il(()=>new Error(f.type==="reconnect"?"Could not establish EventSource connection":'Received unexpected type of first event "'.concat(f.type,'"'))):Re(f)),Ad()),[a,l]=bFe(o,v3e),u=f=>!r.transitions||f.type!=="mutation"?!0:r.transitions.includes(f.transition),d=()=>PWn(t,i,n,r);return li(a.pipe(Ic(1)),l.pipe(dt(u),eM(r.throttleTime||1e3,Bh,{leading:!0,trailing:!0}))).pipe(IWe(f=>f.type==="mutation"&&f.visibility!=="query"?gu(1200).pipe(rt(d)):d()))}function FWn(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"*";if(n&&n!=="*")return Re(n);const r="*[_id in [$documentId, $draftId]]._type",i=Ks(e),s=Ll(i);return t.observable.fetch(r,{documentId:i,draftId:s}).pipe(Be(o=>o[0]))}function Kx(t){return Ys(t)}const BWn=["_key","_ref","_weak","_type"];function NWn(t){return t&&t.length>0?'"'.concat(t,'"'):t}function y3e(t,e){const n=r=>'Template "'.concat(e.id,'" initial value: ').concat(r);if(!Kx(t))throw new Error(n("resolved to a non-object"));if(t._type&&e.schemaType!==t._type)throw new Error(n('includes "_type"-property ('.concat(t._type,") that does not match template (").concat(e.schemaType,")")));try{return wK(t)}catch(r){throw r.message=n(r.message),r}}function wK(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(Array.isArray(t))return t.map((i,s)=>{if(Array.isArray(i))throw new Error('multidimensional arrays are not supported (at path "'.concat(Uu(e),'")'));return wK(i,e.concat(s),!0)});if(!Kx(t))return t;const r=n&&!t._key?{_key:jI()}:{};return e.length>0&&!t._type&&t._ref&&(r._type="reference"),t._ref&&VWn(t,e),Object.keys(t).reduce((i,s)=>(i[s]=wK(t[s],e.concat([s])),i),r)}function VWn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!t._type&&t.type)throw new Error('Reference is missing "_type", but has a "type" property at path "'.concat(Uu(e),'"'));const n=Object.keys(t).filter(r=>!BWn.includes(r));if(n.length>0){const r=n.length>1?"properties":"property";throw new Error("Disallowed ".concat(r," found in reference: ").concat(n.map(NWn).join(", "),' at path "').concat(Uu(e),'"'))}}function Yie(t,e){const n={...t,...e};return Object.keys(n).forEach(r=>{const i=e[r],s=t[r];Kx(i)&&Kx(s)&&(n[r]=Yie(s,i))}),n}function UWn(t){return Kx(t)&&typeof t.serialize=="function"}async function aF(t,e,n){return typeof t=="function"?t(e,n):t}async function Kie(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(UWn(e))return Kie(t,e.serialize(),n,r);const{id:i,schemaType:s,value:o}=e;if(!o)throw new Error('Template "'.concat(i,'" has invalid "value" property'));let a=await aF(o,n,r);if(!Kx(a))throw new Error('Template "'.concat(i,'" has invalid "value" property - must be a plain object or a resolver function returning a plain object'));Kx(a)&&!Object.keys(a).length&&(a={_type:s}),a=y3e(a,e);const l=t.get(s);if(!l)throw new Error('Could not find schema type with name "'.concat(s,'".'));const u=Yie(await lF(l,n,Zie,r)||{},a);return y3e(u,e)}function HWn(t,e){const n=Bc(e);return n==="object"&&t.of.length===1?t.of[0]:t.of.find(r=>r.name===n)}const Zie=10;function lF(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Zie,r=arguments.length>3?arguments[3]:void 0;return n<=0?Promise.resolve(void 0):Yh(t)?WWn(t,e,n,r):_m(t)?zWn(t,e,n,r):aF(t.initialValue,e,r)}async function zWn(t,e,n,r){const i=await aF(t.initialValue,void 0,r);if(Array.isArray(i))return Promise.all(i.map(async s=>{const o=HWn(t,s);return Yh(o)?{...s,...await lF(o,e,n-1,r),_key:jI()}:s}))}async function WWn(t,e,n,r){const i={...await aF(t.initialValue,e,r)||{}},s={};await Promise.all(t.fields.map(async a=>{const l=await lF(a.type,e,n-1,r);l!=null&&(s[a.name]=l)}));const o=Yie(s,i);if(!ene(o))return t.name!=="object"&&(o._type=t.name),o}const b3e={type:"loading"};function GWn(t,e,n,r,i){const s=n.observePaths({_type:"reference",_ref:Ll(r.documentId)},["_type"]),o=n.observePaths({_type:"reference",_ref:Ks(r.documentId)},["_type"]);return li(s.pipe(Be(l=>({draft:l}))),o.pipe(Be(l=>({published:l})))).pipe(Pf((l,u)=>({...l,...u}),{}),dt(l=>"draft"in l&&"published"in l),Be(l=>l.draft||l.published),Xi((l,u)=>!!l!=!!u),o9(25)).pipe(Kt(l=>{if(l)return Re({type:"success",value:null});if(!r.templateName)return Re({isResolving:!1,initialValue:void 0});const u=e.find(f=>f.id===r.templateName);if(!u)return console.warn('Template "%s" not defined, using empty initial value',r.templateName),Re({isResolving:!1,initialValue:void 0});const d=Vr(Kie(t,u,r.templateParams,i)).pipe(Be(f=>({isResolving:!1,initialValue:f}))).pipe(Or(f=>(console.group("Failed to resolve initial value"),console.error(f),console.error("Template ID: %s",r.templateName),console.error("Parameters: %o",r.templateParams),console.groupEnd(),Re({type:"error",error:f}))));return li(Re({isResolving:!0}),d).pipe(Kt(f=>{let{isResolving:h,initialValue:p,resolveError:g}=f;return Re(g?{type:"error",message:"Failed to resolve initial value"}:h?b3e:{type:"success",value:p})}))}),vu(b3e),Xi())}function KS(t){if(pre(t))throw new Error("editOpsOf does not expect a draft id.");return{publishedId:t,draftId:Ll(t)}}function qWn(t){let{getClient:e,documentPreviewStore:n,historyStore:r,initialValueTemplates:i,schema:s}=t;const o=n.unstable_observeDocumentPairAvailability,a=e(us),l={client:a,getClient:e,observeDocumentPairAvailability:o,historyStore:r,schema:s};return{checkoutPair(u){return TXe(a,u)},initialValue(u,d){return GWn(s,i,n,u,d)},listenQuery(u,d,f){return $Wn(a,u,d,f)},resolveTypeForDocument(u,d){return FWn(a,u,d)},pair:{consistencyStatus(u,d){return MXe(l.client,KS(u),d)},documentEvents(u,d){return DWn(l.client,KS(u),d)},editOperations(u,d){return LWn(l,KS(u),d)},editState(u,d){return kXe(l,KS(u),d)},operationEvents(u,d){return BXe({client:a,historyStore:r,schema:s}).pipe(dt(f=>f.args.idPair.publishedId===u&&f.args.typeName===d),Be(f=>{const{operationName:h,idPair:p}=f.args;return f.type==="success"?{type:"success",op:h,id:p.publishedId}:{type:"error",op:h,id:p.publishedId,error:f.error}}))},validation(u,d){return IWn(l,KS(u),d)}}}}const x3e={isLoaded:!1,documentType:void 0};function fEr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";const n=Kc(),r=Ks(t),i=!!(e&&e!=="*"),s=m.useMemo(()=>({documentType:e,isLoaded:!0}),[e]),[o,a]=m.useState(i?s:x3e);return m.useEffect(()=>a(x3e),[r,e]),m.useEffect(()=>{if(i)return;const l=n.resolveTypeForDocument(r,e).subscribe(u=>a({documentType:u,isLoaded:!0}));return()=>l.unsubscribe()},[n,r,e,i]),i?s:o}function Xie(t,e){const n=Yc(),r=m.useMemo(()=>t?n.observePaths({_type:"reference",_ref:t},e):Re(void 0),[t,n,e]);return KGe(r)}function YWn(t){const{documentId:e,documentType:n,templateName:r,templateParams:i}=t,s=uu(i),o=Kc(),a=Qie(),l=m.useMemo(()=>({_id:e,_type:n}),[e,n]),[u,d]=m.useState({loading:!1,error:null,value:l});return m.useEffect(()=>{const f={documentId:e,documentType:n,templateName:r,templateParams:s};if(!r){d({loading:!0,error:null,value:l});return}const p=o.initialValue(f,a).subscribe(g=>{g.type==="loading"&&d({loading:!0,error:null,value:l}),g.type==="success"&&d({loading:!1,error:null,value:g.value?{...l,...g.value}:l}),g.type==="error"&&d({loading:!1,error:g.error,value:l})});return d({loading:!0,error:null,value:l}),()=>p.unsubscribe()},[l,e,o,n,r,s,a]),u}function Qie(){const t=Zs(),e=es(),n=Md(),r=Wie(),i=zie(),s=t.getClient;return m.useMemo(()=>({projectId:r,dataset:i,getClient:s,schema:e,currentUser:n}),[s,e,n,r,i])}function Jie(){const t=Qie();return m.useCallback((e,n)=>lF(e,n,Zie,t),[t])}function KWn(t,e){const n=t.get(e);if(!n)throw new Error("No such schema type: ".concat(e));return n}function ZWn(t){let{grantsStore:e,permission:n,draft:r,published:i,liveEdit:s}=t;const o=r||i,a=o===r?"draft":"published",{checkDocumentPermission:l}=e;switch(n){case"delete":return s?[["delete published document (live-edit)",l("update",i)]]:[["delete draft document",l("update",r)],["delete published document",l("update",i)]];case"discardDraft":return s?[]:[["delete draft document",l("update",r)]];case"publish":return s?[]:[["update published document at its current state",l("update",i)],["delete draft document",l("update",r)],["create published document from draft",l("create",r&&{...r,_id:Ks(r._id)})]];case"unpublish":return s?[]:[["update draft document at its current state",l("create",r)],["delete published document",l("update",i)],["create draft document from published version",l("create",i&&{...i,_id:Ll(i._id)})]];case"update":return s?[["update published document (live-edit)",l("update",i)]]:[["update ".concat(a," document"),l("update",o)]];case"duplicate":return s?[["create new published document from existing document (live-edit)",l("create",{...i,_id:"dummy-id"})]]:[["create new draft document from existing ".concat(a," document"),l("create",{...o,_id:Ll("dummy-id")})]];default:throw new Error("Could not match permission: ".concat(n))}}function XWn(t){let{client:e,grantsStore:n,schema:r,id:i,permission:s,type:o}=t;if(o==="*")return Re({granted:!1,reason:"Type specified was `*`"});const a=!!KWn(r,o).liveEdit;return qie(e,{draftId:Ll(i),publishedId:Ks(i)},o).pipe(Kt(l=>ol([l.draft.snapshots$,l.published.snapshots$]).pipe(Be(u=>{let[d,f]=u;return{draft:d,published:f}}))),Kt(l=>{let{draft:u,published:d}=l;const f=ZWn({grantsStore:n,permission:s,draft:u,published:d,liveEdit:a}).map(h=>{let[p,g]=h;return g.pipe(Be(v=>{let{granted:y,reason:x}=v;return{granted:y,reason:y?"":"not allowed to ".concat(p,": ").concat(x),label:p,permission:s}}))});return f.length?ol(f).pipe(Be(h=>{const p=h.every(v=>v.granted),g=p?"":"Unable to ".concat(s,`:
	`).concat(h.filter(v=>!v.granted).map(v=>v.reason).join(`
	`));return{granted:p,reason:g}})):Re({granted:!0,reason:""})}))}const QWn=Om(XWn);function Ty(t){let{id:e,type:n,permission:r,client:i,schema:s,grantsStore:o}=t;const a=Cs(us),l=es(),u=tse(),d=m.useMemo(()=>i||a,[a,i]),f=m.useMemo(()=>s||l,[l,s]),h=m.useMemo(()=>o||u,[u,o]);return QWn(m.useMemo(()=>({client:d,schema:f,grantsStore:h,id:e,permission:r,type:n}),[d,h,e,r,f,n]))}function NXe(t){let{grantsStore:e,document:n,permission:r}=t;const{checkDocumentPermission:i}=e;return i(r,n)}const JWn=Om(NXe);function eGn(t){let{document:e,permission:n,...r}=t;const i=tse();return JWn({grantsStore:r.grantsStore||i,document:e,permission:n})}function VXe(t){return typeof t=="object"&&t!==null&&"serialize"in t?VXe(t.serialize()):t}function tGn(t){let{grantsStore:e,templateItems:n,templates:r,schema:i,context:s}=t;return n!=null&&n.length?ol(n.map(VXe).map(async o=>{const a=r.find(u=>u.id===o.templateId);if(!a)throw new Error('template not found: "'.concat(o.templateId,'"'));const l=await Kie(i,a,o.parameters,s);return{template:a,item:o,resolvedInitialValue:l}}).map(o=>Vr(o).pipe(Kt(a=>{let{item:l,resolvedInitialValue:u,template:d}=a;const f=i.get(d.schemaType);if(!f)throw new Error('schema type not found: "'.concat(d.schemaType,'"'));const h=f==null?void 0:f.liveEdit,{initialDocumentId:p="dummy-id"}=l;return NXe({grantsStore:e,permission:"create",document:{_id:h?Ks(p):Ll(p),...u}}).pipe(Be(g=>{let{granted:v,reason:y}=g;const x=l.title||d.title;return{...l,granted:v,reason:y,resolvedInitialValue:u,template:d,title:x,subtitle:f.title===x?void 0:f.title,description:l.description||d.description,icon:l.icon||d.icon}}))})))):Re([])}const nGn=Om(tGn);function UXe(t){let{templateItems:e,...n}=t;const r=es(),i=nD(),s=tse(),o=Qie();return nGn({templateItems:e,grantsStore:n.grantsStore||s,schema:n.schema||r,templates:n.templates||i,context:o})}const w3e="_debug_",rGn=typeof window>"u"?Re({}):Hu(window,"hashchange"),HXe=go(Re(0),rGn).pipe(Be(()=>typeof document>"u"?"#":document.location.hash),Xi(),Be(t=>t.substring(1).split(";").filter(e=>e.toLowerCase().startsWith(w3e)).map(e=>e.substring(w3e.length)))),iGn=HXe.pipe(Be(t=>t.find(e=>e.startsWith("roles="))),Be(t=>(t==null?void 0:t.split("roles=")[1].split(",").map(e=>e.trim()))||[])),sGn=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],_3e=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],oGn=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],aGn=[{filter:'_id in path("**")',permissions:["read"]},{filter:'_id in path("drafts.**")',permissions:["create","history","update"]}],C3e=[{filter:'_id in path("**")',permissions:["read","history"]}],lGn=[{filter:"!locked",permissions:["read","create","update"]}],uGn=[{filter:'_id in path("drafts.**") && _type in ["stringsTest", "book", "author", "referenceTest"]',permissions:["read","create","history","update"]},{filter:'_id in path("**")',permissions:["read"]}],E3e={administrator:sGn,editor:_3e,developer:oGn,contributor:aGn,viewer:C3e,restricted:uGn,requiresApproval:lGn,read:C3e,write:_3e},cGn=iGn.pipe(Be(t=>t.length?t.filter(e=>!!e&&e in E3e).flatMap(e=>E3e[e]||[]):null));async function dGn(t,e,n){return await t.request({uri:"/projects/".concat(e,"/datasets/").concat(n,"/acl"),tag:"acl.get",withCredentials:!0})}function fGn(t){const e={};return t!==null&&(e.identity=t.id),e}const zH=new Map;async function hGn(t,e,n){zH.has(e)||zH.set(e,nvn("*[".concat(e,"]")));const r=zH.get(e),i=fGn(t),{identity:s}=i,o={...i},a=await(await D1n(r,{dataset:[n],identity:s,params:o})).get();return(a==null?void 0:a.length)===1}function pGn(t){let{client:e,currentUser:n}=t;const r=e.withConfig({apiVersion:"2021-06-07"}),i=Ls(()=>Re(r.config())).pipe(Kt(o=>{let{projectId:a,dataset:l}=o;if(!a||!l)throw new Error("Missing projectId or dataset");return dGn(r,a,l)})),s=cGn.pipe(Kt(o=>o?Re(o):i),xf(1),rvn(1e3));return{checkDocumentPermission(o,a){return s.pipe(Kt(l=>mGn(n,l,o,a)),Xi(zv))}}}async function mGn(t,e,n,r){if(!r)return{granted:!0,reason:"Null document, nothing to check"};if(!e.length)return{granted:!1,reason:"No document grants"};const i=[];for(const o of e)await hGn(t,o.filter,r)&&i.push(o);const s=i.some(o=>o.permissions.some(a=>a===n));return{granted:s,reason:s?"Matching grant":"No matching grants found"}}async function gGn(t,e){const n=e?{headers:{Authorization:"Bearer ".concat(e)}}:{credentials:"include"},r=await fetch(t,n);return vGn(r)}function vGn(t){const e=t.body;if(!e)throw new Error("Failed to read body from response");let n,r=!1;return new ReadableStream({start(i){n=e.getReader();const s=new TextDecoder;let o="";n.read().then(function a(l){if(l.done){if(r)return;if(o=o.trim(),o.length===0){i.close();return}i.enqueue(JSON.parse(o)),i.close();return}o+=s.decode(l.value,{stream:!0});const u=o.split(`
`);for(let d=0;d<u.length-1;++d){const f=u[d].trim();if(f.length!==0)try{i.enqueue(JSON.parse(f))}catch(h){i.error(h),r=!0,n.cancel();return}}return o=u[u.length-1],n.read().then(a).catch(d=>i.error(d))}).catch(a=>i.error(a))},cancel(){r=!0,n.cancel()}})}var yGn=Object.defineProperty,bGn=(t,e,n)=>e in t?yGn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,WH=(t,e,n)=>(bGn(t,typeof e!="symbol"?e+"":e,n),n);function S3e(t){return{id:t,hasAttrs:!1,attrs:null,rev:null,events:[],aligned:!1}}function xGn(t,e){const n=e.events.findIndex(r=>t.id===r.transactionId);return n>=0?n+1:e.rev?e.rev===t.id?0:-1:0}function T3e(t,e){if(t.hasAttrs=!0,e){if(t.attrs={...e},typeof t.attrs._rev!="string")throw new Error("snapshot has no _rev");t.rev=t.attrs._rev,delete t.attrs._rev}else t.attrs=null,t.rev=null;t.events=[]}class wGn{constructor(e){WH(this,"timeline"),WH(this,"earliestTransactionId",null),WH(this,"_states"),this.timeline=e,this._states={draft:S3e(e.draftId),published:S3e(e.publishedId)}}appendRemoteSnapshotEvent(e){const n=this._states[e.version];if(e.type==="snapshot"){this._maybeInvalidateHistory(),T3e(n,e.document);return}e.type==="remoteMutation"&&(n.aligned?(this._apply(n,e),this.timeline.addRemoteMutation(e)):n.hasAttrs?n.events.push(e):T3e(n,e.head))}prependHistoryEvent(e){if(!this.acceptsHistory)throw new Error("cannot prepend history at this point");for(const n of Object.values(this._states))if(!n.aligned){const r=xGn(e,n);r>=0&&this._alignAtIndex(n,r)}this.timeline.addTranslogEntry(e),this.earliestTransactionId=e.id}didReachEarliestEntry(){for(const e of Object.values(this._states))if(!e.aligned){if(e.attrs!==null)throw new Error("unable to find translog entry to align to");this._alignAtIndex(e,0)}this.timeline.didReachEarliestEntry()}get isAligned(){return Object.values(this._states).every(e=>e.aligned)}get acceptsHistory(){return this._isComplete}get currentDocument(){return{draft:this._states.draft.attrs,published:this._states.published.attrs}}_alignAtIndex(e,n){for(const r of e.events.slice(0,n))this._apply(e,r);for(const r of e.events.slice(n))this._apply(e,r),this.timeline.addRemoteMutation(r);e.events=[],e.aligned=!0}get _isComplete(){return Object.values(this._states).every(e=>e.hasAttrs)}_apply(e,n){e.attrs=CY(e.attrs,n.effects.apply),e.rev=n.transactionId}_maybeInvalidateHistory(){if(this._isComplete){for(const e of Object.values(this._states))e.aligned=!1;this.earliestTransactionId=null,this.timeline.reset()}}}var _Gn=Object.defineProperty,CGn=(t,e,n)=>e in t?_Gn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,db=(t,e,n)=>(CGn(t,typeof e!="symbol"?e+"":e,n),n);class EGn{constructor(e,n,r,i){db(this,"timeline"),db(this,"start"),db(this,"end"),db(this,"doc"),db(this,"_startDocument"),db(this,"_endDocument"),db(this,"_diff"),this.timeline=e,this.start=r,this.end=i,this.doc=n}same(e,n){return this.start===e&&this.end===n}endAttributes(){return k3e(this.endDocument())}endDocument(){return this._endDocument||(this._endDocument=this.timeline.replayBackwardsUntil(this.end.end,this.doc)),this._endDocument}startAttributes(){return k3e(this.startDocument())}startDocument(){if(!this.start)throw new Error("start required");return this._startDocument||(this._startDocument=this.timeline.replayBackwardsBetween(this.start.end,this.end.end-1,this.endDocument())),this._startDocument}diff(){if(!this._diff){if(!this.start)throw new Error("start required");this._diff=this.timeline.calculateDiff(this.startDocument(),this.endDocument(),this.start.index+1,this.end.index)}return this._diff}}function k3e(t){return t.draft||t.published}var SGn=Object.defineProperty,TGn=(t,e,n)=>e in t?SGn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hl=(t,e,n)=>(TGn(t,typeof e!="symbol"?e+"":e,n),n);const kGn=50;let AGn=class{constructor(e){Hl(this,"timeline"),Hl(this,"client"),Hl(this,"handler"),Hl(this,"version",0),Hl(this,"selectionState","inactive"),Hl(this,"_aligner"),Hl(this,"_fetchMore",!1),Hl(this,"_fetchAtLeast",0),Hl(this,"_isRunning",!1),Hl(this,"_isSuspended",!1),Hl(this,"_didErr",!1),Hl(this,"_since",null),Hl(this,"_sinceTime",null),Hl(this,"_rev",null),Hl(this,"_revTime",null),Hl(this,"_reconstruction"),this.timeline=e.timeline,this.client=e.client,this.handler=e.handler,this._aligner=new wGn(this.timeline),this.markChange()}clearRange(){this.setRange(null,null)}setRange(e,n){n!==this._rev&&this.setRevTime(n),e!==this._since&&this.setSinceTime(e);let r=10;if(this._sinceTime==="loading"||this._revTime==="loading"||!this._aligner.isAligned)this.selectionState="loading";else if(this._sinceTime==="invalid"||this._revTime==="invalid")this.selectionState="invalid";else if(this._sinceTime){this.selectionState="range";const i=this._revTime||this.timeline.lastChunk();this._sinceTime.index>i.index?(this._revTime="invalid",this.selectionState="invalid"):this.setReconstruction(this._sinceTime,i)}else this._revTime?(this.selectionState="rev",this.setReconstruction(null,this._revTime)):(this.selectionState="inactive",r=0);this._fetchAtLeast=r,this.start()}setLoadMore(e){this._fetchMore=e,this.start()}get sinceTime(){return this._sinceTime&&typeof this._sinceTime=="object"?this._sinceTime:null}get revTime(){return this._revTime&&typeof this._revTime=="object"?this._revTime:null}get realRevChunk(){return this.revTime||this.timeline.lastChunk()}onOlderRevision(){return!!this._rev&&(this.selectionState==="range"||this.selectionState==="rev")}findRangeForNewRev(e){const n=this.timeline.isLatestChunk(e)?null:this.timeline.createTimeId(e);if(!this._since)return[null,n];const r=this.sinceTime;return r&&r.index<e.index?[this._since,n]:["@lastPublished",n]}findRangeForNewSince(e){const n=this.revTime;return n&&e.index<n.index?[this.timeline.createTimeId(e),this._rev]:[this.timeline.createTimeId(e),null]}setRevTime(e){this._rev=e,this._revTime=e?this.timeline.parseTimeId(e):null,this._since==="@lastPublished"&&(this._since=null,this._sinceTime=null)}setSinceTime(e){e==="@lastPublished"?typeof this._revTime=="string"?this._sinceTime=this._revTime:this._sinceTime=this.timeline.findLastPublishedBefore(this._revTime):this._sinceTime=e?this.timeline.parseTimeId(e):null,this._since=e}sinceAttributes(){return this._sinceTime&&this._reconstruction?this._reconstruction.startAttributes():null}displayed(){return this._revTime&&this._reconstruction?this._reconstruction.endAttributes():null}setReconstruction(e,n){this._reconstruction&&this._reconstruction.same(e,n)||(this._reconstruction=new EGn(this.timeline,this._aligner.currentDocument,e,n))}currentDiff(){return this._reconstruction?this._reconstruction.diff():null}currentObjectDiff(){const e=this.currentDiff();if(e){if(e.type==="null")return null;if(e.type!=="object")throw new Error("ObjectDiff expected, got ".concat(e.type))}return e}handleRemoteMutation(e){this._aligner.appendRemoteSnapshotEvent(e),this.markChange(),this._aligner.acceptsHistory&&this.start()}start(){this._didErr||this._isRunning||(this._isRunning=!0,this.tick().then(()=>{this._isRunning=!1}))}resume(){this._isSuspended=!1}suspend(){this._isSuspended=!0}async tick(){var e;if(this._aligner.acceptsHistory&&!this.timeline.reachedEarliestEntry&&(this.selectionState==="loading"||this._fetchMore||this.timeline.chunkCount<=this._fetchAtLeast)&&!this._isSuspended){try{await this.fetchMoreTransactions()}catch(r){this._didErr=!0,(e=this.handler)==null||e.call(this,r,this);return}await this.tick()}}async fetchMoreTransactions(){const e=this.timeline.publishedId,n=this.timeline.draftId,r=this.client.config(),i=kGn;let s="tag=sanity.studio.desk.history&effectFormat=mendoza&excludeContent=true&excludeMutations=true&includeIdentifiedDocumentsOnly=true&reverse=true&limit=".concat(i),o=this._aligner.earliestTransactionId;o&&(s+="&toTransaction=".concat(o));const a=this.client.getUrl("/data/history/".concat(r.dataset,"/transactions/").concat(e,",").concat(n,"?").concat(s)),u=(await gGn(a,r.token)).getReader();let d=0;for(;;){const f=await u.read();if(f.done)break;if("error"in f.value)throw new Error(f.value.error.description||f.value.error.type);if(d++,f.value.id!==o){if(this._aligner.earliestTransactionId!==o||!this._aligner.acceptsHistory)return;this._aligner.prependHistoryEvent(f.value),o=this._aligner.earliestTransactionId}}this._aligner.earliestTransactionId!==o||!this._aligner.acceptsHistory||(d<i&&this._aligner.didReachEarliestEntry(),this.markChange())}markChange(){var e;this.timeline.updateChunks(),this.setRevTime(this._rev),this.setSinceTime(this._rev),this.version++,(e=this.handler)==null||e.call(this,null,this)}};function IGn(t,e){return t&&e?t.author===e.author&&t.chunk===e.chunk:!t&&!e}function A3e(t){return t.draft||t.published}var DGn=Object.defineProperty,RGn=(t,e,n)=>e in t?DGn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Da=(t,e,n)=>(RGn(t,typeof e!="symbol"?e+"":e,n),n);class jGn{constructor(e,n,r,i){Da(this,"type","array"),Da(this,"value"),Da(this,"length"),Da(this,"annotation"),Da(this,"extractor"),Da(this,"content"),Da(this,"elements",[]),this.content=e,this.value=n,this.annotation=r,this.extractor=i,this.length=e.elements.length}at(e){if(e>=this.length)throw new Error("out of bounds");const n=this.elements[e];return n||(this.elements[e]=M6(this.content.elements[e],this.value[e],this.extractor))}annotationAt(e){const n=this.content.metas[e];return this.extractor.fromMeta(n)}}class OGn{constructor(e,n,r,i){Da(this,"type","object"),Da(this,"value"),Da(this,"keys"),Da(this,"annotation"),Da(this,"extractor"),Da(this,"content"),Da(this,"fields",{}),this.content=e,this.value=n,this.annotation=r,this.extractor=i,this.keys=Object.keys(e.fields)}get(e){const n=this.fields[e];if(n)return n;const r=this.content.fields[e];if(r)return this.fields[e]=M6(r,this.value[e],this.extractor)}}class LGn{constructor(e,n,r,i){Da(this,"type","string"),Da(this,"value"),Da(this,"annotation"),Da(this,"extractor"),Da(this,"content"),this.content=e,this.value=n,this.annotation=r,this.extractor=i}sliceAnnotation(e,n){const r=[];let i=0;function s(o,a){if(r.length>0){const l=r[r.length-1];if(IGn(l.annotation,a)){l.text+=o;return}}r.push({text:o,annotation:a})}for(const o of this.content.parts){const a=o.value.length,l=Math.max(0,e-i);if(l<a){const u=Math.min(a,n-i);if(u<=0)break;s(o.value.slice(l,u),this.extractor.fromValue(o))}i+=a}return r}}function M6(t,e,n){const r=n.fromValue(t);if(t.content)switch(t.content.type){case"array":return new jGn(t.content,e,r,n);case"object":return new OGn(t.content,e,r,n);case"string":return new LGn(t.content,e,r,n)}return Nne(e,r)}function I3e(t,e,n){return n?_K(t,n.transactionIndex+1,n.chunk.index):e?_K(t,e.start,e.index):null}function D3e(t,e){return e?_K(t,e.transactionIndex,e.chunk.index):null}function _K(t,e,n){const r=t.transactionByIndex(e);if(!r)return null;const i=t.chunkByTransactionIndex(e,n);return i?{chunk:i,timestamp:r.timestamp,author:r.author}:null}function PGn(t,e,n,r,i,s){const o=M6(n,r,{fromValue(l){return I3e(t,e,l.endMeta)},fromMeta(l){return I3e(t,e,l)}}),a=M6(i,s,{fromValue(l){return D3e(t,l.startMeta)},fromMeta(l){return D3e(t,l)}});return d$(o,a)}var MGn=Object.defineProperty,$Gn=(t,e,n)=>e in t?MGn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,R3e=(t,e,n)=>($Gn(t,typeof e!="symbol"?e+"":e,n),n);class J4{constructor(){R3e(this,"_postive",[]),R3e(this,"_negative",[])}addToEnd(e){e.index=this._postive.length,this._postive.push(e)}addToBeginning(e){if(this.length==0){this.addToEnd(e);return}e.index=-(this._negative.length+1),this._negative.push(e)}mergeAtEnd(e,n){if(this.length===0){this.addToEnd(e);return}const r=this.lastIdx,i=n(this.get(r),e);Array.isArray(i)?(this.set(r,i[0]),this.addToEnd(i[1])):this.set(r,i)}mergeAtBeginning(e,n){if(this.length===0){this.addToEnd(e);return}const r=this.firstIdx,i=n(e,this.get(r));Array.isArray(i)?(this.set(r,i[1]),this.addToBeginning(i[0])):this.set(r,i)}removeFromEnd(){this._postive.length===0?this._negative.shift():this._postive.pop()}has(e){return e>=0?e<this._postive.length:-(e+1)<this._negative.length}get(e){return e>=0?this._postive[e]:this._negative[-(e+1)]}set(e,n){e>=0?(n.index=e,this._postive[e]=n):(n.index=e,this._negative[-(e+1)]=n)}get lastIdx(){return this._postive.length-1}get last(){return this.get(this.lastIdx)}get firstIdx(){return-this._negative.length}get first(){return this.get(this.firstIdx)}get length(){return this._postive.length+this._negative.length}}function FGn(t){return t==="create"||t==="editDraft"}const BGn=5*60*1e3;function NGn(t,e){return Date.parse(e)-Date.parse(t)<BGn}function j3e(t,e){if(t.end!==e.start)throw new Error("chunks are not next to each other");const n=L3e(t.draftState,e.draftState),r=L3e(t.publishedState,e.publishedState);if(t.type==="delete"&&e.type==="editDraft")return[t,{...e,type:"create",draftState:n,publishedState:r}];if(e.type==="delete"){if(n==="missing"&&r==="present")return[t,{...e,type:"discardDraft",draftState:n,publishedState:r}];if(n==="present"&&r==="missing")return[t,{...e,type:"unpublish",draftState:n,publishedState:r}]}if(FGn(t.type)&&e.type==="editDraft"&&NGn(t.endTimestamp,e.startTimestamp)){const i=new Set;for(const s of t.authors)i.add(s);for(const s of e.authors)i.add(s);return{index:0,id:e.id,type:t.type,start:t.start,end:e.end,startTimestamp:t.startTimestamp,endTimestamp:e.endTimestamp,authors:i,draftState:n,publishedState:r}}return[t,{...e,draftState:n,publishedState:r}]}function O3e(t){const e=!!t;return t&&CK(t==null?void 0:t.apply)?"deleted":e?"upsert":"unedited"}function VGn(t){const e=O3e(t.draftEffect),n=O3e(t.publishedEffect);if(n==="unedited"){if(e==="deleted")return"delete";if(e==="upsert")return"editDraft"}if(n==="deleted")return"delete";if(n==="upsert"){if(e==="unedited")return"editLive";if(e==="deleted")return"publish";if(e==="upsert")return"editLive"}return"editLive"}function GH(t){const e=!!t.draftEffect,n=!!t.publishedEffect,r=t.draftEffect&&CK(t.draftEffect.apply),i=t.publishedEffect&&CK(t.publishedEffect.apply),s=VGn(t);return{index:0,id:t.id,type:s,start:t.index,end:t.index+1,startTimestamp:t.timestamp,endTimestamp:t.timestamp,authors:new Set([t.author]),draftState:e?r?"missing":"present":"unknown",publishedState:n?i?"missing":"present":"unknown"}}function L3e(t,e){return e==="unknown"?t:e}function CK(t){return t[0]===0&&t[1]===null}var UGn=Object.defineProperty,HGn=(t,e,n)=>e in t?UGn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,a1=(t,e,n)=>(HGn(t,typeof e!="symbol"?e+"":e,n),n);let zGn=class{constructor(e){a1(this,"reachedEarliestEntry",!1),a1(this,"publishedId"),a1(this,"draftId"),a1(this,"_transactions",new J4),a1(this,"_chunks",new J4),a1(this,"_possiblePendingTransactions",new Map),a1(this,"_recreateTransactionsFrom"),a1(this,"_trace"),this.publishedId=e.publishedId,this.draftId="drafts.".concat(e.publishedId),e.enableTrace&&(this._trace=[],this._trace.push({type:"initial",publishedId:e.publishedId}),window.__sanityTimelineTrace=this._trace)}get chunkCount(){return this._chunks.length}mapChunks(e){const n=[],r=this._chunks.firstIdx,i=this._chunks.lastIdx;for(let s=i;s>=r;s--)n.push(e(this._chunks.get(s),s));return n}reset(){this._transactions=new J4,this._chunks=new J4,this._possiblePendingTransactions=new Map,this._recreateTransactionsFrom=void 0,this.reachedEarliestEntry=!1}addRemoteMutation(e){this._trace&&this._trace.push({type:"addRemoteMutation",event:e});const n=this._possiblePendingTransactions.get(e.transactionId),r=n?n.transaction:{index:0,id:e.transactionId,timestamp:e.timestamp.toISOString(),author:e.author};e.version==="draft"?r.draftEffect=e.effects:r.publishedEffect=e.effects,n?(this._possiblePendingTransactions.delete(e.transactionId),this._invalidateTransactionFrom(n.idx)):(this._transactions.addToEnd(r),this._possiblePendingTransactions.set(e.transactionId,{transaction:r,idx:this._transactions.lastIdx}))}addTranslogEntry(e){this._trace&&this._trace.push({type:"addTranslogEntry",event:e}),this._transactions.addToBeginning({index:0,id:e.id,author:e.author,timestamp:e.timestamp,draftEffect:e.effects[this.draftId],publishedEffect:e.effects[this.publishedId]})}didReachEarliestEntry(){this._trace&&this._trace.push({type:"didReachEarliestEntry"}),this.reachedEarliestEntry=!0}updateChunks(){this._trace&&this._trace.push({type:"updateChunks"}),this._removeInvalidatedChunks(),this._addChunksFromTransactions(),this._createInitialChunk()}_removeInvalidatedChunks(){if(this._recreateTransactionsFrom){for(;this._chunks.length>0;){const e=this._chunks.last;if(this._recreateTransactionsFrom<e.end)this._chunks.removeFromEnd();else break}this._recreateTransactionsFrom=void 0}}_addChunksFromTransactions(){const e=this._transactions.firstIdx,n=this._transactions.lastIdx,r=this._chunks.length>0?this._chunks.last.end:e;for(let s=r;s<=n;s++){const o=this._transactions.get(s);this._chunks.mergeAtEnd(GH(o),j3e)}if(this._chunks.length==0)return;const i=this._chunks.first.start;for(let s=i-1;s>=e;s--){const o=this._transactions.get(s);this._chunks.mergeAtBeginning(GH(o),j3e)}}_invalidateTransactionFrom(e){(this._recreateTransactionsFrom===void 0||e<this._recreateTransactionsFrom)&&(this._recreateTransactionsFrom=e)}_createInitialChunk(){var e;if(this.reachedEarliestEntry){if(((e=this._chunks.first)==null?void 0:e.type)==="initial")return;const n=this._transactions.first;if(!n)return;const r=GH(n);r.type="initial",r.id="@initial",r.end=r.start,this._chunks.addToBeginning(r)}}parseTimeId(e){if(this._chunks.length===0)return this.reachedEarliestEntry?"invalid":"loading";const n=e.split("/",3),r=n.shift(),i=n.shift(),s=Number(r);for(let o=this._chunks.lastIdx;o>=this._chunks.firstIdx;o--){const a=this._chunks.get(o);if(a.id===i)return a;if(Date.parse(a.endTimestamp)+60*60*1e3<s)return"invalid"}return this.reachedEarliestEntry?"invalid":"loading"}findLastPublishedBefore(e){for(let n=e?e.index-1:this._chunks.lastIdx;n>=this._chunks.firstIdx;n--){const r=this._chunks.get(n);if(r.type==="publish"||r.type==="initial")return r}return this.reachedEarliestEntry?this._chunks.first:"loading"}isLatestChunk(e){return e===this._chunks.last}createTimeId(e){return"".concat(e.endTimestamp.valueOf(),"/").concat(e.id)}lastChunk(){return this._chunks.last}transactionByIndex(e){return this._transactions.has(e)?this._transactions.get(e):null}chunkByTransactionIndex(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;for(;;){const i=this._chunks.get(r);if(!i)throw new Error("transaction does not belong in any chunk");if(e>=i.end)r++;else if(e<i.start)r--;else return i}}replayBackwardsBetween(e,n,r){let i=r.draft,s=r.published;for(let o=n;o>=e;o--){const a=this._transactions.get(o);a.draftEffect&&(i=CY(i,a.draftEffect.revert)),a.publishedEffect&&(s=CY(s,a.publishedEffect.revert))}return{draft:i,published:s}}replayBackwardsUntil(e,n){return this.replayBackwardsBetween(e,this._transactions.lastIdx,n)}calculateDiff(e,n,r,i){let s=ih.wrap(e.draft,null),o=ih.wrap(e.published,null);const a=WGn(s,o),l=A3e(e);let u=null;for(let h=r;h<=i;h++){const p=this._chunks.get(h);u||(u=p);for(let g=p.start;g<p.end;g++){const v=this._transactions.get(g),y={chunk:p,transactionIndex:g},x=s,b=o;v.draftEffect&&(s=ih.applyPatch(s,v.draftEffect.apply,y)),v.publishedEffect&&(o=ih.applyPatch(o,v.publishedEffect.apply,y));const _=ih.getType(x)!=="null",C=ih.getType(s)!=="null";ih.getType(o)!=="null"&&!C&&(o=ih.rebaseValue(x,o)),C&&!_&&(s=ih.rebaseValue(b,s))}}const d=ih.getType(s)==="null"?o:s,f=A3e(n);return PGn(this,u,a,l,d,f)}};function WGn(t,e){return ih.getType(t)==="null"?e:t}const P3e=Object.create(null),GGn=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Array.isArray(e)?e:[e],{time:i,revision:s}=n;if(i&&s)throw new Error("getHistory can't handle both time and revision parameters");const o=t.config().dataset;let a="/data/history/".concat(o,"/documents/").concat(r.join(","));if(s)a="".concat(a,"?revision=").concat(s);else{const l=i||new Date().toISOString();a="".concat(a,"?time=").concat(l)}return t.request({url:a})},zXe=(t,e,n)=>{const r=Ks(e),i=Ll(e),s="".concat(r,"@").concat(n),o=P3e[s];if(o)return o;const a=t.config().dataset,l="/data/history/".concat(a,"/documents/").concat(r,",").concat(i,"?revision=").concat(n),u=t.request({url:l}).then(d=>{const f=d.documents||[],h=f.find(g=>g._id===r);return f.find(g=>g._id===i)||h});return P3e[s]=u,u},qGn=t=>{let{client:e,documentId:n,documentType:r}=t;const i=new zGn({enableTrace:$0,publishedId:n});return new AGn({client:e,documentId:n,documentType:r,timeline:i})},YGn=async(t,e)=>{const n=Array.isArray(e)?e:[e],r=t.config().dataset,i={excludeContent:"true",includeIdentifiedDocumentsOnly:"true"},s="/data/history/".concat(r,"/transactions/").concat(n.join(","));return(await t.request({url:s,query:i})).toString("utf8").split(`
`).filter(Boolean).map(l=>JSON.parse(l))},KGn=t=>TWe(t,(e,n)=>wm(n)&&!e.includes(n._ref)?[...e,n._ref]:e,[]);function EK(t,e){return Array.isArray(t)?e(t.map(n=>EK(n,e)).filter(n=>typeof n<"u")):Jn(t)?e(Object.keys(t).reduce((n,r)=>{const i=EK(t[r],e);return typeof i<"u"&&(n[r]=i),n},{})):e(t)}const ZGn=(t,e)=>EK(t,n=>wm(n)?e(n):n),XGn=(t,e)=>ZGn(t,n=>e[n._ref]?n:void 0);function QGn(t,e,n,r){return Vr(zXe(t,e,r)).pipe(rt(i=>{if(!i)throw new Error("Unable to find document with ID ".concat(e," at revision ").concat(r));const s=KGn(i).map(o=>'"'.concat(o,'": defined(*[_id=="').concat(o,'"]._id)')).join(",");return t.observable.fetch("{".concat(s,"}")).pipe(Be(o=>XGn(i,o)))}),Be(i=>{const{_updatedAt:s,...o}=i;return{...o,_id:n}}),rt(i=>t.observable.createOrReplace(i,{visibility:"async"})))}function JGn(t){let{client:e}=t;return{getDocumentAtRevision:(n,r)=>zXe(e,n,r),getHistory:(n,r)=>GGn(e,n,r),getTransactions:n=>YGn(e,n),restore:(n,r,i)=>QGn(e,n,r,i),getTimelineController:qGn}}const M3e={chunks:[],diff:null,hasMoreChunks:!1,isLoading:!1,onOlderRevision:!1,realRevChunk:null,revTime:null,selectionState:"inactive",sinceAttributes:null,sinceTime:null,timelineDisplayed:null,timelineReady:!1};function eqn(t){let{documentId:e,documentType:n,onError:r,rev:i,since:s}=t;const o=GXe(),a=m.useRef(null),l=m.useRef(M3e),u=Cs(us),d=m.useMemo(()=>o.getTimelineController({client:u,documentId:e,documentType:n}),[u,e,n,o]),f=m.useMemo(()=>new K_(d),[d]);return m.useEffect(()=>(d.setRange(s||null,i||null),f.next(d),d.handler=(p,g)=>{p?f.error(p):setTimeout(()=>{g.setRange(s||null,i||null),f.next(g)},0)},d.resume(),()=>d.suspend()),[i,s,d,f]),m.useEffect(()=>(a.current||(a.current=_Wn(u,{draftId:"drafts.".concat(e),publishedId:e},n).subscribe(p=>{d.handleRemoteMutation(p)})),()=>{a.current&&(a.current.unsubscribe(),a.current=null)}),[u,d,e,n]),m.useMemo(()=>({findRangeForRev:p=>d.findRangeForNewRev(p),findRangeForSince:p=>d.findRangeForNewSince(p),loadMore:()=>{d.setLoadMore(!0),l.current.isLoading=!0},getSnapshot:()=>l.current,subscribe:p=>{const g=f.pipe(Ei(v=>v.setLoadMore(!1)),Be(v=>({chunks:v.timeline.mapChunks(y=>y),diff:v.sinceTime?v.currentObjectDiff():null,isLoading:!1,hasMoreChunks:!v.timeline.reachedEarliestEntry,onOlderRevision:v.onOlderRevision(),realRevChunk:v.realRevChunk,revTime:v.revTime,selectionState:v.selectionState,sinceAttributes:v.sinceAttributes(),sinceTime:v.sinceTime,timelineDisplayed:v.displayed(),timelineReady:!["invalid","loading"].includes(v.selectionState)})),Xi(UX),Or(v=>(r==null||r(v),Re(M3e))),Ei(v=>{l.current=v}),Ei(p)).subscribe();return()=>g.unsubscribe()}}),[d,r,f])}function Dc(t,e){return Vne.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,null,e)}const tqn=["pqSMwf6hH","pnLYqNfv5","priDVVmy8","p0NFOU0j8","pTDl2jw8d","pHMeQnTse","pDQYzJbyS","pZyoPHKUs","p4Tyi2Be5","pb9vii060","pE8yhOisw","p7Fd2C6Cj","p3exSgYCx","pbIQRYViC","p8GJaTEhN","p27ewL8aM","pYg97z75S","pdLr4quHv","pkJXiDgg6","pkl4UAKcA","pNoExists"],nqn=[["nested","first"],["nested","second"],["nestedArray",{_key:"565c867c8dac"},"arrayNo1",{_key:"a645548a8f01"},"arrayNo1",{_key:"1685e372c40f"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo19"],["address","country"],["address","street"],["customInputWithDefaultPresence","row3","cell3"]],rqn=Ls(()=>gu(0,1e4)).pipe(Hv(tqn),Be((t,e)=>({type:"state",userId:t,sessionId:t+e,timestamp:new Date().toISOString(),locations:[{type:"document",documentId:"presence-debug",lastActiveAt:new Date().toISOString(),path:myn(nqn)}]})),$a()),iqn=t=>{if(t.type==="rollCall")return{type:"rollCall",userId:t.i,sessionId:t.session};if(t.type==="state"){const{sessionId:e,locations:n}=t.m;return{type:"state",userId:t.i,sessionId:e,timestamp:new Date().toISOString(),locations:n}}if(t.type==="disconnect")return{type:"disconnect",userId:t.i,sessionId:t.m.session,timestamp:new Date().toISOString()};throw new Error("Got unknown presence event: ".concat(JSON.stringify(t)))},sqn=(t,e)=>{const n=t.request("presence").pipe(Be(iqn)),r=i=>i.type==="rollCall"?t.request("presence_rollcall",{session:e}):i.type==="state"?t.request("presence_announce",{data:{locations:i.locations,sessionId:e}}):i.type==="disconnect"?t.request("presence_disconnect",{session:e}):as;return[n.pipe(Ad()),r]},WXe="presence_session_id",oqn=()=>AVe(16);function aqn(){try{return window.sessionStorage.getItem(WXe)}catch{}return null}function lqn(t){try{window.sessionStorage.setItem(WXe,t)}catch{}return t}const ej=aqn()||lqn(oqn());function uqn(t){const{bifur:e,connectionStatusStore:n,userStore:r}=t,[i,s]=sqn(e,ej),o=new K_([]),a=o.pipe(Xi()),l=R=>{o.next(R)},u=R=>s({type:"state",locations:R}),d=()=>s({type:"rollCall"}),f=i.pipe(dt(R=>R.type==="rollCall"),dt(R=>R.sessionId!==ej)),p=gu(0,3e4),g=Ls(()=>li(a,f)).pipe(Kt(()=>p),oa(o),Be(R=>{let[,O]=R;return O}),qRt(200),Kt(R=>u(R)),Hv(as),Ad()),v=Ls(()=>d()).pipe(Hv(as)),y=n.connectionStatus$.pipe(Be(R=>R.type),dt(R=>R==="connected"||R==="error"),Xi()),x=HXe.pipe(Be(R=>R.find(O=>O.startsWith("presence="))),Be(R=>(R==null?void 0:R.split("presence=")[1].split(",").map(O=>O.trim()))||[])),b=x.pipe(dt(R=>R.includes("fake_others")),Ei(()=>{console.log('Faking other users present in the studio. They will hang out in the document with _type: "presence" and _id: "presence-debug"')}),o4t(rqn)),_=x.pipe(Be(R=>R.includes("show_own"))),C=li(v,i).pipe(dt(R=>R.type==="state"||R.type==="disconnect")),S=R=>({lastActiveAt:R.timestamp,locations:R.locations,sessionId:R.sessionId,userId:R.userId}),T=li(C,b).pipe(Pf((R,O)=>O.type==="disconnect"?Al(R,O.sessionId):{...R,[O.sessionId]:S(O)},{})),A=y.pipe(Kt(R=>R==="connected"?li(T,g):hee),Be(R=>Object.values(R)),Kt(R=>{const O=ha(R.map(L=>L.userId));return Vr(r.getUsers(O)).pipe(Be(L=>R.map(P=>({user:L.find($=>$.id===P.userId),session:P})).filter(k)))}),pI(Hu(window,"beforeunload").pipe(Kt(()=>s({type:"disconnect"})))),$a({refCount:!0,bufferSize:1}));function k(R){return!!(R.user&&R.session)}const I=A.pipe(Be(R=>{const O=wne(R.map(L=>L.session),L=>L.userId);return Object.keys(O).map(L=>{var P;return{user:(P=R.find($=>$.user.id===L))==null?void 0:P.user,sessions:O[L]}})}),oa(_),Be(R=>{let[O,L]=R;return O.filter(P=>L?!0:!P.sessions.some(B=>B.sessionId===ej))}),Be(R=>R.map(O=>{var L;return{user:O.user,status:"online",lastActiveAt:(L=O.sessions.sort()[0])==null?void 0:L.lastActiveAt,locations:$i((O.sessions||[]).map(P=>P.locations||[])).map(P=>({type:P.type,documentId:P.documentId,path:P.path,lastActiveAt:P.lastActiveAt})).reduce((P,$)=>P.concat($),[])}})));return{setLocation:l,reportLocations:u,debugPresenceParam$:x,globalPresence$:I,documentPresence:R=>A.pipe(oa(_),Kt(O=>{let[L,P]=O;return Vr(L).pipe(dt($=>P||$.session.sessionId!==ej),i4t($=>($.session.locations||[]).filter(B=>B.documentId===R).map(B=>({user:$.user,lastActiveAt:$.session.lastActiveAt,path:B.path||[],sessionId:$.session.sessionId}))),_Fe())}))}}function cqn(){const[t,e]=m.useState([]),n=nse();return m.useEffect(()=>{const r=n.globalPresence$.subscribe(e);return()=>{r.unsubscribe()}},[n]),t}function uF(t){const e=nse(),[n,r]=m.useState([]);return m.useEffect(()=>{const i=e.documentPresence(t).subscribe(r);return()=>{i.unsubscribe()}},[t,e]),n}const dqn=(t,e)=>{try{return JSON.parse(t)}catch(n){return console.warn("Failed to parse settings: ".concat(n.message)),e}},fqn=(t,e)=>{const n=localStorage.getItem(t);return Re(n===null?e:dqn(n,e))},hqn=(t,e)=>(typeof e>"u"||e===null?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(e)),Re(e)),pqn={get:fqn,set:hqn},$6=Object.create(null),mqn=(t,e)=>Re(t in $6?$6[t]:e),gqn=(t,e)=>(typeof e>"u"||e===null?delete $6[t]:$6[t]=e,Re(e)),vqn={get:mqn,set:gqn};let ZS=null;function yqn(){if(ZS!==null)return ZS;const t="__test__";try{localStorage.setItem(t,t),localStorage.removeItem(t),ZS=!0}catch{ZS=!1}return ZS}function bqn(){return yqn()?pqn:vqn}function xqn(){const t=bqn(),e=new Pi,n=(a,l)=>"".concat(a,"::").concat(l),r=e.pipe(Kt(a=>t.set(a.key,a.value).pipe(Be(l=>({key:a.key,value:l}))))),i=(a,l)=>li(t.get(a,l),r.pipe(dt(u=>u.key===a),Be(u=>u.value))),s=(a,l)=>{e.next({key:a,value:l})},o=a=>({forKey:l=>{const u=n(a,l);return{listen:d=>i(u,d),set:d=>s(u,d),del:()=>s(u,void 0)}},listen:(l,u)=>i(n(a,l),u),set:(l,u)=>s(n(a,l),u),del:l=>s(n(a,l),void 0),forNamespace:l=>o(n(a,l))});return{forNamespace:o}}const wqn=[{id:"<system>",displayName:"Sanity",imageUrl:"https://public.sanity.io/logos/favicon-192.png"}];function _qn(t){let{client:e,currentUser:n}=t;const r=e.withConfig({apiVersion:"2021-06-07"}),i=new Tyn(async o=>{const a=await r.request({uri:"/users/".concat(o.join(",")),withCredentials:!0,tag:"users.get"}),u=(Array.isArray(a)?a:[a]).reduce((d,f)=>(f!=null&&f.id&&(d[f.id]=f),d),{});return o.map(d=>u[d]||null)},{batchScheduleFn:o=>Ryn(o)}),s=n&&{id:n.id,displayName:n.name,imageUrl:n.profileImage};return i.prime("me",s),s!=null&&s.id&&i.prime(s.id,s),wqn.forEach(o=>i.prime(o.id,o)),{getUser:async o=>{try{return await i.load(o)}catch(a){if(a.statusCode===403)return Promise.resolve(null);throw a}},getUsers:async o=>(await i.loadMany(o)).filter(l=>Jn(l)&&typeof l.id=="string")}}function ese(){const{getClient:t,currentUser:e}=Zs(),n=Cy(),r=t(us);return m.useMemo(()=>{const i=n.get({namespace:"userStore",dependencies:[r,e]})||_qn({client:r,currentUser:e});return n.set({namespace:"userStore",dependencies:[r,e],value:i}),i},[r,e,n])}function tse(){const{getClient:t}=Zs(),e=t(us),n=Md(),r=Cy();return m.useMemo(()=>{const i=r.get({namespace:"grantsStore",dependencies:[e,n]})||pGn({client:e,currentUser:n});return r.set({namespace:"grantsStore",dependencies:[e,n],value:i}),i},[e,n,r])}function GXe(){const t=Cs(us),e=Cy();return m.useMemo(()=>{const n=e.get({namespace:"historyStore",dependencies:[t]})||JGn({client:t});return e.set({namespace:"historyStore",dependencies:[t],value:n}),n},[t,e])}function Yc(){const t=Cs(us),e=Cy();return m.useMemo(()=>{const n=e.get({namespace:"documentPreviewStore",dependencies:[t]})||_Sn({client:t});return e.set({namespace:"documentPreviewStore",dependencies:[t],value:n}),n},[t,e])}function Kc(){const t=Zs().getClient,e=es(),n=nD(),r=Cy(),i=GXe(),s=Yc();return m.useMemo(()=>{const o=r.get({namespace:"documentStore",dependencies:[t,s,i,e]})||qWn({getClient:t,documentPreviewStore:s,historyStore:i,initialValueTemplates:n,schema:e});return r.set({namespace:"documentStore",dependencies:[t,s,i,e],value:o}),o},[t,s,i,r,e,n])}function Cqn(){const{bifur:t}=Zs().__internal,e=Cy();return m.useMemo(()=>{const n=e.get({namespace:"connectionStatusStore",dependencies:[t]})||aCn({bifur:t});return e.set({namespace:"connectionStatusStore",dependencies:[t],value:n}),n},[t,e])}function nse(){const{__internal:{bifur:t}}=Zs(),e=Cy(),n=ese(),r=Cqn();return m.useMemo(()=>{const i=e.get({namespace:"presenceStore",dependencies:[t,r,n]})||uqn({bifur:t,connectionStatusStore:r,userStore:n});return e.set({namespace:"presenceStore",dependencies:[t,r,n],value:i}),i},[t,r,e,n])}function mEr(){const t=Cy(),e=kw();return m.useMemo(()=>{const n=t.get({dependencies:[e],namespace:"settingsStore"})||xqn();return t.set({dependencies:[e],namespace:"settingsStore",value:n}),n},[t,e])}const Eqn=/[^\p{Alpha}\p{White_Space}]/gu,Sqn=/\p{White_Space}+/u,Tqn={small:0,medium:1,large:2};function kqn(t){const e=t.replace(Eqn,"").split(Sqn);return e.length===1?"".concat(e[0].charAt(0)).toUpperCase():"".concat(e[0].charAt(0)).concat(e[e.length-1].charAt(0))}function $f(t){const{user:e,...n}=t;return Jn(e)?n.withTooltip?c.jsx(Aqn,{...n,user:e}):c.jsx(qXe,{...n,user:e}):c.jsx(Iqn,{...t,user:e})}function Aqn(t){const{user:{displayName:e}}=t;return c.jsx(Mn,{content:c.jsx(N,{padding:2,children:c.jsx(G,{size:1,children:e})}),placement:"top",portal:!0,children:c.jsx("div",{style:{display:"inline-block"},children:c.jsx(qXe,{...t})})})}const qXe=m.forwardRef(function(e,n){const{user:r,animateArrowFrom:i,position:s,size:o,status:a,tone:l}=e,[u,d]=m.useState(null),f=bTn(r.id),h=u||r==null?void 0:r.imageUrl;return c.jsx(ykt,{animateArrowFrom:i,arrowPosition:s,color:f.name,"data-legacy-tone":l,initials:(r==null?void 0:r.displayName)&&kqn(r.displayName),src:h,onImageLoadError:d,ref:n,size:typeof o=="string"?Tqn[o]:o,status:a,title:r==null?void 0:r.displayName})});function Iqn(t){let{user:e,...n}=t;const[r]=SXe(e);return r?c.jsx($f,{...n,user:r}):null}function YXe(t){let{children:e,id:n}=t;return e(bqe(n))}function Rb(t,e,n){var r;if(e.length===0)return{...t||{},value:n};const[i,...s]=e,o=jo(i)?i._key:String(i),a=(r=t==null?void 0:t.children)!=null?r:{};return{value:t==null?void 0:t.value,children:{...a,[o]:Rb(a[o]||{},s,n)}}}const rse=20,Dqn=3,rv={name:"all-fields",title:"All fields",hidden:!1};function Rqn(t){return Yh(t.schemaType)}function jqn(t){return PX(t.schemaType)}function Oqn(t,e){return[...e.map((n,r)=>({type:"expandPath",path:e.slice(0,r+1)})),...KXe(t,e)]}function KXe(t,e){return e.length===0?[]:Rqn(t)?ZXe(t,e):jqn(t)?XXe(t,e):[]}function ZXe(t,e){var n,r;if(e.length===0)return[];const[i,...s]=e,o=t._allMembers.find(g=>g.kind==="fieldSet"&&g.fieldSet.members.some(v=>v.kind==="field"&&v.name===i)),l=(o?o.fieldSet.members:t._allMembers).find(g=>g!==null&&g.kind==="field"&&g.name===i),u=t.schemaType.fields.find(g=>g.name===i),d=(n=t.groups.find(g=>g.selected))==null?void 0:n.name,f=(r=(t.schemaType.groups||[]).find(g=>g.default))==null?void 0:r.name,h=d&&(d===rv.name||u&&wI(u.group).includes(d)),p=[];return h||p.push({type:"setSelectedGroup",path:t.path,groupName:f||rv.name}),o&&p.push({type:"expandFieldSet",path:o.fieldSet.path}),l&&(cie(l)?p.push(...XXe(l.field,s)):KYe(l)&&p.push(...ZXe(l.field,s))),p}function XXe(t,e){if(e.length===0)return[];const[n,...r]=e;if(!jo(n))throw new Error("Expected path segment to be an object with a _key property");const i=t.members.find(s=>s.key===n._key);return i?KXe(i.item,r):[]}function du(t,e){const{currentUser:n,document:r,parent:i,value:s}=e;return typeof t=="boolean"||t===void 0?!!t:t({document:r,parent:i,value:s,currentUser:n})===!0}function Lqn(t,e){const n=Bc(e);return n==="object"&&t.of.length===1?t.of[0]:t.of.find(r=>r.name===n)}function Pqn(t,e){const n=Bc(e);return t==null?void 0:t.of.find(r=>r.name===n||r.jsonType===n)}function ise(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if((t==null?void 0:t.collapsible)===!1||(t==null?void 0:t.collapsable)===!1)return{collapsible:!1,collapsed:!1};const n=typeof(t==null?void 0:t.collapsed)=="boolean"?t.collapsed:e>=Dqn?!0:void 0;return{collapsible:(t==null?void 0:t.collapsible)===!0||(t==null?void 0:t.collapsable)===!0||n===!0?!0:void 0,collapsed:n}}function QXe(t,e,n){return n.name===rv.name?!0:e===void 0?!1:t.length===0&&n.name===rv.name?!0:wI(e).includes(n.name)}function $3e(t){return typeof t>"u"||Jn(t)}function Mqn(t){return typeof t>"u"||Array.isArray(t)}function $qn(t){return typeof t>"u"||Array.isArray(t)}function Fqn(t){return t.length===0||t.every(e=>Jn(e))}function Bqn(t){const e=new Set;return t.reduce((n,r,i)=>(e.has(r._key)&&n.push([i,r._key]),e.add(r._key),n),[])}function Nqn(t){return"_key"in t}function Vqn(t){return t==null?void 0:t.every(e=>Jn(e)&&Nqn(e))}function b_(t,e){return Array.isArray(t)&&typeof e>"u"||Array.isArray(e)&&typeof t>"u"?!1:t&&!e?!0:!Ur(t,e)}function F3e(t){var e,n,r,i,s,o,a,l,u,d,f,h,p,g,v,y,x,b;const{parent:_,field:C,index:S}=t,T=ew([..._.path,C.name]),A=I4n(C.type,_.level+1),k=_.value,I=_.comparisonValue;if(!$3e(k))throw new Error("Unexpected non-object value");const D=C.group?wI(C.group):[],R=QXe(_.groups,C.group,_.selectedGroup);if(Yh(C.type)){const O=k==null?void 0:k[C.name],L=Jn(I)?I==null?void 0:I[C.name]:void 0;if(!$3e(O))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:Bc(O),value:O}};const P={value:O,parent:_.value,document:_.document,currentUser:_.currentUser};if(du(C.type.hidden,P))return{kind:"hidden",key:"field-".concat(C.name),name:C.name,index:S};const B=_.readOnly||du(C.type.readOnly,P),Q=(n=(e=_.fieldGroupState)==null?void 0:e.children)==null?void 0:n[C.name],V=(i=(r=_.collapsedPaths)==null?void 0:r.children)==null?void 0:i[C.name],Z=(o=(s=_.collapsedFieldSets)==null?void 0:s.children)==null?void 0:o[C.name],ie=sse({schemaType:C.type,currentUser:_.currentUser,parent:_.value,document:_.document,value:O,changed:b_(O,L),comparisonValue:L,presence:_.presence,validation:_.validation,fieldGroupState:Q,path:T,level:A,focusPath:_.focusPath,openPath:_.openPath,collapsedPaths:V,collapsedFieldSets:Z,readOnly:B,changesOpen:_.changesOpen});if(ie===null)return null;const J=ise(C.type.options,A),X=V?V.value:J.collapsed;return{kind:"field",key:"field-".concat(C.name),name:C.name,index:S,inSelectedGroup:R,groups:D,open:ou(T,_.openPath),field:ie,collapsed:X,collapsible:J.collapsible}}else if(_m(C.type)){const O=k==null?void 0:k[C.name],L=Jn(I)?I==null?void 0:I[C.name]:void 0;if(PX(C.type)){const P=typeof O<"u";if(P&&!Mqn(O)){const J=Bc(O);return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:J,value:O}}}if(P&&!Fqn(O))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"MIXED_ARRAY",schemaType:C.type,value:O}};if(P&&!Vqn(O))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"MISSING_KEYS",value:O,schemaType:C.type}};const $=P?Bqn(O):[];if($.length>0)return{kind:"error",key:C.name,fieldName:C.name,error:{type:"DUPLICATE_KEYS",duplicates:$,schemaType:C.type}};const B=(l=(a=_.fieldGroupState)==null?void 0:a.children)==null?void 0:l[C.name],Q=(d=(u=_.collapsedPaths)==null?void 0:u.children)==null?void 0:d[C.name],V=(h=(f=_.collapsedFieldSets)==null?void 0:f.children)==null?void 0:h[C.name],Z=_.readOnly||du(C.type.readOnly,{value:O,parent:_.value,document:_.document,currentUser:_.currentUser}),ie=Hqn({schemaType:C.type,parent:_.value,currentUser:_.currentUser,document:_.document,value:O,changed:b_(O,L),comparisonValue:L,fieldGroupState:B,focusPath:_.focusPath,openPath:_.openPath,presence:_.presence,validation:_.validation,collapsedPaths:Q,collapsedFieldSets:V,level:A,path:T,readOnly:Z});return ie===null?null:{kind:"field",key:"field-".concat(C.name),name:C.name,index:S,open:ou(T,_.openPath),inSelectedGroup:R,groups:D,collapsible:!1,collapsed:!1,field:ie}}else{if(!$qn(O)){const Z=Bc(O);return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:Z,value:O}}}const P=(g=(p=_.fieldGroupState)==null?void 0:p.children)==null?void 0:g[C.name],$=(y=(v=_.collapsedPaths)==null?void 0:v.children)==null?void 0:y[C.name],B=(b=(x=_.collapsedFieldSets)==null?void 0:x.children)==null?void 0:b[C.name],Q=_.readOnly||du(C.type.readOnly,{value:O,parent:_.value,document:_.document,currentUser:_.currentUser}),V=Uqn({changed:b_(O,L),comparisonValue:L,schemaType:C.type,parent:_.value,currentUser:_.currentUser,document:_.document,value:O,fieldGroupState:P,focusPath:_.focusPath,openPath:_.openPath,presence:_.presence,validation:_.validation,collapsedPaths:$,collapsedFieldSets:B,level:A,path:T,readOnly:Q});return V===null?null:{kind:"field",key:"field-".concat(C.name),name:C.name,index:S,inSelectedGroup:R,groups:D,open:ou(T,_.openPath),collapsible:!1,collapsed:!1,field:V}}}else{const O=k==null?void 0:k[C.name],L=Jn(I)?I==null?void 0:I[C.name]:void 0,P={value:O,parent:_.value,document:_.document,currentUser:_.currentUser};if(du(C.type.hidden,P))return null;const B=_.readOnly||du(C.type.readOnly,P),Q=JXe({..._,comparisonValue:L,value:O,schemaType:C.type,path:T,readOnly:B});return{kind:"field",key:"field-".concat(C.name),name:C.name,index:S,open:ou(T,_.openPath),inSelectedGroup:R,groups:D,collapsible:!1,collapsed:!1,field:Q}}}function sse(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;var n;if(t.level===rse)return null;const r={value:t.value,parent:t.parent,document:t.document,currentUser:t.currentUser},i=t.readOnly||du(t.schemaType.readOnly,r),s=t.schemaType.groups||[],o=(n=s.find(b=>b.default)||rv)==null?void 0:n.name,a=[rv,...s].flatMap(b=>{var _;const C=du(b.hidden,r),S=b.name===(((_=t.fieldGroupState)==null?void 0:_.value)||o),T=t.changesOpen?b.name===rv.name:S,A=t.changesOpen?!T:!1;return C?[]:[{disabled:A,icon:b==null?void 0:b.icon,name:b.name,selected:T,title:b.title}]}),l=a.find(b=>b.selected),d=(t.schemaType.fieldsets?t.schemaType.fieldsets:t.schemaType.fields.map(b=>({single:!0,field:b}))).flatMap((b,_)=>{var C,S,T,A;if(b.single){const P=b.field,$=F3e({field:P,parent:{...t,readOnly:i,groups:a,selectedGroup:l},index:_});return $?[$]:[]}const k=b.fields.map(P=>P.name),I=du(b.hidden,{currentUser:t.currentUser,document:t.document,parent:t.value,value:ir(t.value,k)}),D=du(b.readOnly,{currentUser:t.currentUser,document:t.document,parent:t.value,value:ir(t.value,k)}),R=b.fields.flatMap(P=>{if(I)return[{kind:"hidden",key:"field-".concat(P.name),name:P.name,index:_}];const $=F3e({field:P,parent:{...t,readOnly:i||D,groups:a,selectedGroup:l},index:_});return $?[$]:[]}),O=ise(b.options,t.level),L=(T=(S=(((C=t.collapsedFieldSets)==null?void 0:C.children)||{})[b.name])==null?void 0:S.value)!=null?T:O.collapsed;return[{kind:"fieldSet",key:"fieldset-".concat(b.name),_inSelectedGroup:QXe(a,b.group,l),groups:b.group?wI(b.group):[],fieldSet:{path:ew(t.path.concat(b.name)),name:b.name,title:b.title,description:b.description,hidden:!1,level:t.level+1,members:R.filter(P=>P.kind!=="hidden"),collapsible:O==null?void 0:O.collapsible,collapsed:L,columns:(A=b==null?void 0:b.options)==null?void 0:A.columns}}]}),f=s.length>0,h=t.presence.filter(b=>Li(b.path,t.path)),p=h.length?h:vs,g=t.validation.filter(b=>Li(b.path,t.path)).map(b=>({level:b.level,message:b.item.message,path:b.path})),v=d.filter(b=>b.kind!=="hidden");if(v.length===0&&e)return null;const y=f?a.flatMap(b=>b.name===rv.name||v.some(C=>C.kind==="error"?!1:C.kind==="field"?C.groups.includes(b.name):C.groups.includes(b.name)||C.fieldSet.members.some(S=>S.kind!=="error"&&S.groups.includes(b.name)))?b:[]):[],x=v.flatMap(b=>{if(b.kind==="error")return[b];if(b.kind==="field")return b.inSelectedGroup?[b]:[];const _=b.fieldSet.members.filter(C=>C.kind!=="field"||C.inSelectedGroup);return _.length>0?[{...b,fieldSet:{...b.fieldSet,members:_}}]:[]});return{value:t.value,changed:b_(t.value,t.comparisonValue),schemaType:t.schemaType,readOnly:i,path:t.path,id:Uu(t.path),level:t.level,focused:Li(t.path,t.focusPath),focusPath:VX(t.path,t.focusPath),presence:p,validation:g,_allMembers:d,members:x,groups:y}}function Uqn(t){if(t.level===rse)return null;const e={comparisonValue:t.comparisonValue,value:t.value,parent:t.parent,document:t.document,currentUser:t.currentUser};if(du(t.schemaType.hidden,e))return null;const r=t.readOnly||du(t.schemaType.readOnly,e),i=Array.isArray(t.value)?t.value:[],s=t.presence.filter(u=>Li(u.path,t.path)),o=s.length?s:vs,a=t.validation.filter(u=>Li(u.path,t.path)).map(u=>({level:u.level,message:u.item.message,path:u.path})),l=i.flatMap((u,d)=>Wqn({arrayItem:u,parent:t,index:d}));return{changed:t.changed||l.some(u=>u.kind==="item"&&u.item.changed),value:t.value,readOnly:r,schemaType:t.schemaType,focused:Li(t.path,t.focusPath),focusPath:VX(t.path,t.focusPath),path:t.path,id:Uu(t.path),level:t.level,validation:a,presence:o,members:l}}function Hqn(t){if(t.level===rse)return null;const e={value:t.value,parent:t.parent,document:t.document,currentUser:t.currentUser};if(du(t.schemaType.hidden,e))return null;const r=t.readOnly||du(t.schemaType.readOnly,e),i=Array.isArray(t.value)?t.value:[],s=t.presence.filter(u=>Li(u.path,t.path)),o=s.length?s:vs,a=t.validation.filter(u=>Li(u.path,t.path)).map(u=>({level:u.level,message:u.item.message,path:u.path})),l=i.flatMap((u,d)=>zqn({arrayItem:u,parent:t,index:d}));return{changed:t.changed||l.some(u=>u.kind==="item"&&u.item.changed),value:t.value,readOnly:r,schemaType:t.schemaType,focused:Li(t.path,t.focusPath),focusPath:VX(t.path,t.focusPath),path:t.path,id:Uu(t.path),level:t.level,validation:a,presence:o,members:l}}function zqn(t){var e,n,r,i,s,o,a;const{arrayItem:l,parent:u,index:d}=t,f=Lqn(u.schemaType,l),h=l._key;if(!f){const k=Bc(l);return{kind:"error",key:h,index:d,error:{type:"INVALID_ITEM_TYPE",resolvedValueType:k,value:l,validTypes:u.schemaType.of}}}const p=ew([...u.path,{_key:h}]),g=u.level+1,v={value:u.value,parent:t.parent,document:u.document,currentUser:u.currentUser},y=u.readOnly||du(u.schemaType.readOnly,v),x=(n=(e=u.fieldGroupState)==null?void 0:e.children)==null?void 0:n[h],b=(i=(r=u.collapsedPaths)==null?void 0:r.children)==null?void 0:i[h],_=(o=(s=u.collapsedFieldSets)==null?void 0:s.children)==null?void 0:o[h],C=Array.isArray(u.comparisonValue)&&u.comparisonValue.find(k=>k._key===l._key)||void 0,S=sse({schemaType:f,level:g,document:u.document,value:l,comparisonValue:C,changed:b_(l,C),path:p,focusPath:u.focusPath,openPath:u.openPath,currentUser:u.currentUser,collapsedPaths:b,collapsedFieldSets:_,presence:u.presence,validation:u.validation,fieldGroupState:x,readOnly:y},!1),T=ise(f.options,g),A=(a=b==null?void 0:b.value)!=null?a:T.collapsed;return{kind:"item",key:h,index:d,open:ou(p,u.openPath),collapsed:A,collapsible:!0,parentSchemaType:u.schemaType,item:S}}function Wqn(t){var e,n;const{arrayItem:r,parent:i,index:s}=t,o=Pqn(i.schemaType,r),a=ew([...i.path,s]),l=(e=i.value)==null?void 0:e[s],u=(n=i.comparisonValue)==null?void 0:n[s],d=i.level+1,f="".concat((o==null?void 0:o.name)||"invalid-type","-").concat(String(s));if(!o)return{kind:"error",key:f,index:s,error:{type:"INVALID_ITEM_TYPE",validTypes:i.schemaType.of,resolvedValueType:Bc(o),value:l}};const h=i.readOnly||du(o.readOnly,{value:l,parent:i.value,document:i.document,currentUser:i.currentUser}),p=JXe({...i,path:a,schemaType:o,level:d,value:l,comparisonValue:u,readOnly:h});return{kind:"item",key:f,index:s,parentSchemaType:i.schemaType,open:Li(a,i.openPath),item:p}}function JXe(t){const e=t.presence.filter(i=>Li(i.path,t.path)),n=e.length?e:vs,r=t.validation.filter(i=>Li(i.path,t.path)).map(i=>({level:i.level,message:i.item.message,path:i.path}));return{schemaType:t.schemaType,changed:b_(t.value,t.comparisonValue),value:t.value,level:t.level,id:Uu(t.path),readOnly:t.readOnly,focused:Li(t.path,t.focusPath),path:t.path,presence:n,validation:r}}function Gqn(t){return sse(t)}function qqn(t,e){let{comparisonValue:n,value:r,fieldGroupState:i,collapsedFieldSets:s,collapsedPaths:o,focusPath:a,openPath:l,presence:u,validation:d,readOnly:f,changesOpen:h}=e;const p=Md(),g=m.useRef(null);return m.useLayoutEffect(()=>{g.current=null},[t]),m.useMemo(()=>{const v=Gqn({schemaType:t,document:r,fieldGroupState:i,collapsedFieldSets:s,collapsedPaths:o,value:r,comparisonValue:n,focusPath:a,openPath:l,readOnly:f,path:ew([]),level:0,currentUser:p,presence:u,validation:d,changesOpen:h}),y=Fre(g.current,v);return g.current=y,y},[t,r,i,s,o,n,a,l,f,p,u,d,h])}function Yqn(t){return t.map(Xqn)}function gEr(t,e){return $i(e.map(n=>Zqn(t,n)))}const Kqn=t=>e=>!t.includes(e);function Zqn(t,e){return $i(Object.keys(e).filter(Kqn(["id","ifRevisionID","query"])).map(n=>{if(n==="unset")return e.unset.map(r=>({type:"unset",path:g2(r),origin:t}));if(n==="insert"){const r="before"in e.insert?"before":"after";return{type:"insert",position:r,path:g2(e.insert[r]),items:e.insert.items,origin:t}}return Object.keys(e[n]).map(r=>n==="set"?{type:"set",path:g2(r),value:e[n][r],origin:t}:n==="inc"||n==="dec"?{type:n,path:g2(r),value:e[n][r],origin:t}:n==="setIfMissing"?{type:"setIfMissing",path:g2(r),value:e[n][r],origin:t}:n==="diffMatchPatch"?{type:n,path:g2(r),value:e[n][r],origin:t}:(console.warn(new Error("Unsupported patch type: ".concat(n))),null)).filter(Boolean)}))}function Xqn(t){if(t.patchType!==qx&&t.type)throw new Error('Patch is missing "patchType" - import and use "'.concat(t.type,'()" from "sanity/form"'));if(t.patchType!==qx)throw new Error('Patch is missing "patchType" - import and use the patch method helpers from "sanity/form"');const e=yWe(t.path||[]);if(t.type==="insert"){const{position:n,items:r}=t;return{insert:{[n]:e,items:r}}}if(t.type==="unset")return{unset:[e]};if(!t.type)throw new Error("Missing patch type in patch ".concat(JSON.stringify(t)));return e?{[t.type]:{[e]:t.value}}:{[t.type]:t.value}}m.memo(function(e){const{transform:n}=e,r=Pd(),i=m.useCallback(o=>{const a=o.patches,l=n(a);r.onChange(bn.from(l))},[r,n]),s=m.useMemo(()=>({...r,onChange:i}),[r,i]);return c.jsx($re.Provider,{value:s,children:e.children})});qi.fonts.code.family,qi.fonts.text.family,Rp.hex,cf.hex,vT[500].hex,cf.hex,Rp.hex,Zj[500].hex,Zj[500].hex,Zj[500].hex,TW[500].hex,vT[500].hex,AW[500].hex,kW[500].hex,vT[500].hex,vT[500].hex,AW[500].hex,kW[500].hex,TW[500].hex,Rp.hex,cf.hex;({...qi});/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var B3e=Object.getOwnPropertySymbols,Qqn=Object.prototype.hasOwnProperty,Jqn=Object.prototype.propertyIsEnumerable;function eYn(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function tYn(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var nYn=tYn()?Object.assign:function(t,e){for(var n,r=eYn(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)Qqn.call(n,o)&&(r[o]=n[o]);if(B3e){i=B3e(n);for(var a=0;a<i.length;a++)Jqn.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r};const rYn=vt(nYn),iYn=({url:t,allowFullScreen:e,position:n,display:r,height:i,width:s,overflow:o,styles:a,onLoad:l,onMouseOver:u,onMouseOut:d,scrolling:f,id:h,frameBorder:p,ariaHidden:g,sandbox:v,allow:y,className:x,title:b,ariaLabel:_,ariaLabelledby:C,name:S,target:T,loading:A,importance:k,referrerpolicy:I,allowpaymentrequest:D,src:R,key:O})=>{const L=rYn({src:R||t,target:T||null,style:{position:n||null,display:r||"initial",overflow:o||null},scrolling:f||null,allowpaymentrequest:D||null,importance:k||null,sandbox:v&&[...v].join(" ")||null,loading:A||null,styles:a||null,name:S||null,className:x||null,allowFullScreen:"allowFullScreen",referrerpolicy:I||null,title:b||null,allow:y||null,id:h||null,"aria-labelledby":C||null,"aria-hidden":g||null,"aria-label":_||null,width:s||null,height:i||null,onLoad:l||null,onMouseOver:u||null,onMouseOut:d||null,key:O||"iframe"});let P=Object.create(null);for(let $ of Object.keys(L))L[$]!=null&&(P[$]=L[$]);for(let $ of Object.keys(P.style))P.style[$]==null&&delete P.style[$];if(P.styles)for(let $ of Object.keys(P.styles))P.styles.hasOwnProperty($)&&(P.style[$]=P.styles[$]),Object.keys(P.styles).pop()==$&&delete P.styles;if(e)if("allow"in P){const $=P.allow.replace("fullscreen","");P.allow=`fullscreen ${$.trim()}`.trim()}else P.allow="fullscreen";return p>=0&&(P.style.hasOwnProperty("border")||(P.style.border=p)),re.createElement("iframe",Object.assign({},P))},sYn=({url:t,height:e})=>t?c.jsx(iYn,{url:t,width:"100%",height:e||"350",styles:{...!e&&{aspectRatio:"16 / 9"}},display:"block",position:"relative",frameBorder:0,allowFullScreen:!0,loading:"lazy",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; fullscreen; gyroscope; picture-in-picture"}):c.jsx("p",{children:"Missing Embed URL"}),oYn=({table:t})=>{if(console.log("table",t),!t)return c.jsx("p",{children:"Table: Add Values"});const[e,...n]=t.rows;return c.jsxs("table",{width:"100%",children:[e.cells.filter(r=>r.content).length>0&&c.jsx("thead",{children:c.jsx("tr",{children:e.cells.map((r,i)=>c.jsx("th",{style:{textAlign:"left"},children:r.content},i))})}),c.jsx("tbody",{children:n.map((r,i)=>c.jsx("tr",{children:r.cells.map((s,o)=>c.jsx("td",{children:s.content},o))},i))})]})},aYn=Cm({title:"Block Content",name:"blockContent",type:"array",of:[Jw({title:"Block",type:"block",styles:[{title:"Normal",value:"normal"},{title:"H1",value:"h1"},{title:"H2",value:"h2"},{title:"H3",value:"h3"},{title:"H4",value:"h4"},{title:"H5",value:"h5"},{title:"H6",value:"h6"},{title:"Quote",value:"blockquote"}],lists:[{title:"Bullet",value:"bullet"},{title:"Numbered",value:"number"}],marks:{decorators:[{title:"Strong",value:"strong"},{title:"Emphasis",value:"em"},{title:"Code",value:"code"},{title:"Underline",value:"underline"},{title:"Strike",value:"strike-through"}],annotations:[{name:"internalLink",type:"object",title:"Internal link",fields:[{name:"reference",type:"reference",title:"Reference",to:[{type:"post"}]}]},{title:"URL",name:"link",type:"object",fields:[{title:"URL",name:"href",type:"url"}]}]}}),Jw({name:"tables",title:"Table",type:"object",fields:[{name:"table",title:"Add Table",description:"The first row will be treated as the header. If you want to skip, just leave the first row empty.",type:"table"}],components:{preview:oYn},preview:{select:{table:"table"}}}),Jw({type:"code"}),Jw({type:"image",options:{hotspot:!0}}),Jw({type:"object",name:"embed",title:"Embed",fields:[{name:"url",type:"url",description:`Enter the URL to Embed \r
(eg: https://youtube.com/embed/xxx or https://open.spotify.com/embed/track/xxxx)`},{name:"height",type:"number",description:"Enter Required Height for this Embed. Leave it blank for 16:9 ratio."}],components:{preview:sYn},preview:{}}),Jw({title:"Video file",name:"video",type:"mux.video"})]}),lYn=Cm({name:"category",title:"Category",type:"document",fields:[Fn({name:"title",title:"Title",type:"string",validation:t=>t.required()}),Fn({name:"slug",title:"Slug",type:"slug",options:{source:"title",maxLength:96},validation:t=>t.required()}),Fn({name:"description",title:"Description",type:"text",validation:t=>t.required()})]}),uYn=Cm({name:"post",title:"Post",type:"document",initialValue:()=>({publishedAt:new Date().toISOString()}),fields:[Fn({name:"title",title:"Title",type:"string"}),Fn({name:"slug",title:"Slug",type:"slug",options:{source:"title",maxLength:96}}),Fn({name:"excerpt",title:"Excerpt",description:"The excerpt is used in blog feeds, and also for search results",type:"text",rows:3,validation:t=>t.max(200)}),Fn({name:"author",title:"Author",type:"reference",to:{type:"author"}}),Fn({name:"mainImage",title:"Main image",type:"image",fields:[Fn({name:"caption",type:"string",title:"Image caption",description:"Appears below image."}),Fn({name:"alt",type:"string",title:"Alternative text",description:"Important for SEO and accessiblity."})],options:{hotspot:!0}}),Fn({name:"categories",title:"Categories",type:"array",of:[{type:"reference",to:{type:"category"}}]}),Fn({name:"tag",title:"Tag",type:"array",of:[{type:"reference",to:{type:"tag"}}]}),Fn({name:"publishedAt",title:"Published at",type:"datetime"}),Fn({name:"featured",title:"Mark as Featured",type:"boolean"}),Fn({name:"body",title:"Body",type:"blockContent"})],preview:{select:{title:"title",author:"author.name",media:"mainImage"},prepare(t){const{author:e}=t;return{...t,subtitle:e&&`by ${e}`}}}}),cYn=Cm({name:"author",title:"Author",type:"document",fields:[Fn({name:"name",title:"Name",type:"string"}),Fn({name:"slug",title:"Slug",type:"slug",options:{source:"name",maxLength:96}}),Fn({name:"image",title:"Image",type:"image",options:{hotspot:!0}}),Fn({name:"bio",title:"Bio",type:"array",of:[{title:"Block",type:"block",styles:[{title:"Normal",value:"normal"}],lists:[]}]}),Fn({name:"email",type:"string",title:"Support Email",validation:t=>t.regex(/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/,{name:"email",invert:!1})}),Fn({name:"phone",type:"string",title:"Support Phone"}),Fn({name:"social",type:"array",title:"Social Links",description:"Enter your Social Media URLs",validation:t=>t.unique(),of:[{type:"object",fields:[{type:"string",name:"media",title:"Choose Social Media",options:{list:[{title:"Twitter",value:"twitter"},{title:"Facebook",value:"facebook"},{title:"Instagram",value:"instagram"},{title:"Linkedin",value:"linkedin"},{title:"Youtube",value:"youtube"}]}},{type:"url",name:"url",title:"Full Profile URL"}],preview:{select:{title:"media",subtitle:"url"}}}]})],preview:{select:{title:"name",media:"image"}}}),dYn=Cm({name:"tag",title:"Tag",type:"document",fields:[Fn({name:"title",title:"Title",type:"string",validation:t=>t.required()}),Fn({name:"slug",title:"Slug",type:"slug",options:{source:"title",maxLength:96},validation:t=>t.required()}),Fn({name:"description",title:"Description",type:"text",validation:t=>t.required()})]}),eQe=Cm({name:"settings",type:"document",title:"Settings",icon:H3,fieldsets:[{title:"SEO & metadata",name:"metadata",options:{collapsible:!0,collapsed:!1}},{title:"Social Media",name:"social"},{title:"Website Logo",name:"logos",options:{collapsible:!0,collapsed:!1}}],fields:[Fn({name:"title",type:"string",title:"Site title"}),Fn({title:"URL",name:"url",type:"url",description:"The main site url. Used to create canonical url"}),Fn({name:"copyright",type:"string",title:"Copyright Name",description:"Enter company name to appear in footer after "}),Fn({title:"Main logo",description:"Upload your main logo here. SVG preferred. ",name:"logo",type:"image",fieldset:"logos",fields:[{name:"alt",type:"string",title:"Alternative text",description:"Important for SEO and accessiblity."}]}),Fn({title:"Alternate logo (optional)",description:"Upload alternate logo here. it can be light / dark variation ",name:"logoalt",type:"image",fieldset:"logos",fields:[{name:"alt",type:"string",title:"Alternative text",description:"Important for SEO and accessiblity."}]}),Fn({name:"email",type:"string",title:"Support Email",validation:t=>t.regex(/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/,{name:"email",invert:!1})}),Fn({name:"phone",type:"string",title:"Support Phone"}),Fn({name:"w3ckey",type:"string",title:"Web3Forms Access Key",description:"Enter Access key obtained from web3forms.com. It is required to make the form work."}),Fn({name:"social",type:"array",title:"Social Links",description:"Enter your Social Media URLs",validation:t=>t.unique(),of:[{type:"object",fields:[{type:"string",name:"media",title:"Choose Social Media",options:{list:[{title:"Twitter",value:"twitter"},{title:"Facebook",value:"facebook"},{title:"Instagram",value:"instagram"},{title:"Linkedin",value:"linkedin"},{title:"Youtube",value:"youtube"}]}},{type:"url",name:"url",title:"Full Profile URL"}],preview:{select:{title:"media",subtitle:"url"}}}]}),Fn({title:"Meta Description",name:"description",fieldset:"metadata",type:"text",rows:5,validation:t=>t.min(20).max(200),description:"Enter SEO Meta Description"}),Fn({name:"openGraphImage",type:"image",title:"Open Graph Image",description:"Image for sharing previews on Facebook, Twitter etc.",fieldset:"metadata"}),Fn({name:"pintrest",type:"string",title:"Pintrest Meta id",description:"Enter Pintrest Meta tag Id obtained from website. It is required to make the form work."}),Fn({name:"adsenseId",type:"string",title:"Google Adsense Id",description:"Enter Adsense Id obtained from website. It is required to make the form work."}),Fn({name:"analyticId",type:"string",title:"Google Analytics Id",description:"Enter Analytics Id obtained from website. It is required to make the form work."})]}),fYn=Cm({name:"comment",type:"document",title:"Comment",options:{dateFormat:"YYYY-MM-DD",timeFormat:"HH:mm",timeStep:15,calendarTodayLabel:"Today"},fields:[Fn({name:"name",title:"User Name",type:"string"}),Fn({name:"email",title:"Email",type:"string"}),Fn({name:"comment",title:"Comment",type:"text"}),Fn({name:"childComments",title:"Child Comments",type:"array",of:[{type:"comment"}]}),Fn({name:"approved",title:"Approved",type:"boolean"}),Fn({name:"firstParentId",title:"First Parent  Comment Id",type:"string"}),Fn({name:"parentCommentId",title:"Parent Comment Id",type:"string"}),Fn({name:"post",type:"reference",to:[{type:"post"}],validation:t=>[t.required().error("Field cannot be empty")]})],preview:{select:{name:"name",comment:"comment",post:"post.title"},prepare({name:t,comment:e,post:n}){return{title:`${t} on ${n}`,subtitle:e}}}}),hYn=[uYn,cYn,lYn,aYn,dYn,eQe,fYn];var B0={};Object.defineProperty(B0,"__esModule",{value:!0});var pYn=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),qH={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},tQe={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:pYn?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},ose={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var tj=1;tj<20;tj++)ose["f"+tj]=111+tj;function cF(t,e,n){e&&!("byKey"in e)&&(n=e,e=null),Array.isArray(t)||(t=[t]);var r=t.map(function(o){return nQe(o,e)}),i=function(a){return r.some(function(l){return rQe(l,a)})},s=n==null?i:i(n);return s}function mYn(t,e){return cF(t,e)}function gYn(t,e){return cF(t,{byKey:!0},e)}function nQe(t,e){var n=e&&e.byKey,r={};t=t.replace("++","+add");var i=t.split("+"),s=i.length;for(var o in qH)r[qH[o]]=!1;var a=!0,l=!1,u=void 0;try{for(var d=i[Symbol.iterator](),f;!(a=(f=d.next()).done);a=!0){var h=f.value,p=h.endsWith("?")&&h.length>1;p&&(h=h.slice(0,-1));var g=ase(h),v=qH[g];if(h.length>1&&!v&&!tQe[h]&&!ose[g])throw new TypeError('Unknown modifier: "'+h+'"');(s===1||!v)&&(n?r.key=g:r.which=iQe(h)),v&&(r[v]=p?null:!0)}}catch(y){l=!0,u=y}finally{try{!a&&d.return&&d.return()}finally{if(l)throw u}}return r}function rQe(t,e){for(var n in t){var r=t[n],i=void 0;if(r!=null&&(n==="key"&&e.key!=null?i=e.key.toLowerCase():n==="which"?i=r===91&&e.which===93?91:e.which:i=e[n],!(i==null&&r===!1)&&i!==r))return!1}return!0}function iQe(t){t=ase(t);var e=ose[t]||t.toUpperCase().charCodeAt(0);return e}function ase(t){return t=t.toLowerCase(),t=tQe[t]||t,t}var vYn=B0.default=cF;B0.isHotkey=cF;B0.isCodeHotkey=mYn;B0.isKeyHotkey=gYn;B0.parseHotkey=nQe;B0.compareHotkey=rQe;B0.toKeyCode=iQe;B0.toKeyName=ase;function Ra(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const i=t.length-1;return t.slice(0,i).reduce((s,o,a)=>s+o+n[a],"")+t[i]}var Xv=re.createContext(null);function yYn(t){t()}var sQe=yYn,bYn=function(e){return sQe=e},xYn=function(){return sQe};function wYn(){var t=xYn(),e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t(function(){for(var i=e;i;)i.callback(),i=i.next})},get:function(){for(var i=[],s=e;s;)i.push(s),s=s.next;return i},subscribe:function(i){var s=!0,o=n={callback:i,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!s||e===null||(s=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var N3e={notify:function(){},get:function(){return[]}};function oQe(t,e){var n,r=N3e;function i(f){return l(),r.subscribe(f)}function s(){r.notify()}function o(){d.onStateChange&&d.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=wYn())}function u(){n&&(n(),n=void 0,r.clear(),r=N3e)}var d={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:function(){return r}};return d}var SK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?m.useLayoutEffect:m.useEffect;function _Yn(t){var e=t.store,n=t.context,r=t.children,i=m.useMemo(function(){var a=oQe(e);return{store:e,subscription:a}},[e]),s=m.useMemo(function(){return e.getState()},[e]);SK(function(){var a=i.subscription;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==e.getState()&&a.notifyNestedSubs(),function(){a.tryUnsubscribe(),a.onStateChange=null}},[i,s]);var o=n||Xv;return re.createElement(o.Provider,{value:i},r)}var Es={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dF=60103,fF=60106,iD=60107,sD=60108,oD=60114,aD=60109,lD=60110,uD=60112,cD=60113,lse=60120,dD=60115,fD=60116,aQe=60121,lQe=60122,uQe=60117,cQe=60129,dQe=60131;if(typeof Symbol=="function"&&Symbol.for){var fl=Symbol.for;dF=fl("react.element"),fF=fl("react.portal"),iD=fl("react.fragment"),sD=fl("react.strict_mode"),oD=fl("react.profiler"),aD=fl("react.provider"),lD=fl("react.context"),uD=fl("react.forward_ref"),cD=fl("react.suspense"),lse=fl("react.suspense_list"),dD=fl("react.memo"),fD=fl("react.lazy"),aQe=fl("react.block"),lQe=fl("react.server.block"),uQe=fl("react.fundamental"),cQe=fl("react.debug_trace_mode"),dQe=fl("react.legacy_hidden")}function tp(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case dF:switch(t=t.type,t){case iD:case oD:case sD:case cD:case lse:return t;default:switch(t=t&&t.$$typeof,t){case lD:case uD:case fD:case dD:case aD:return t;default:return e}}case fF:return e}}}var CYn=aD,EYn=dF,SYn=uD,TYn=iD,kYn=fD,AYn=dD,IYn=fF,DYn=oD,RYn=sD,jYn=cD;Es.ContextConsumer=lD;Es.ContextProvider=CYn;Es.Element=EYn;Es.ForwardRef=SYn;Es.Fragment=TYn;Es.Lazy=kYn;Es.Memo=AYn;Es.Portal=IYn;Es.Profiler=DYn;Es.StrictMode=RYn;Es.Suspense=jYn;Es.isAsyncMode=function(){return!1};Es.isConcurrentMode=function(){return!1};Es.isContextConsumer=function(t){return tp(t)===lD};Es.isContextProvider=function(t){return tp(t)===aD};Es.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===dF};Es.isForwardRef=function(t){return tp(t)===uD};Es.isFragment=function(t){return tp(t)===iD};Es.isLazy=function(t){return tp(t)===fD};Es.isMemo=function(t){return tp(t)===dD};Es.isPortal=function(t){return tp(t)===fF};Es.isProfiler=function(t){return tp(t)===oD};Es.isStrictMode=function(t){return tp(t)===sD};Es.isSuspense=function(t){return tp(t)===cD};Es.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===iD||t===oD||t===cQe||t===sD||t===cD||t===lse||t===dQe||typeof t=="object"&&t!==null&&(t.$$typeof===fD||t.$$typeof===dD||t.$$typeof===aD||t.$$typeof===lD||t.$$typeof===uD||t.$$typeof===uQe||t.$$typeof===aQe||t[0]===lQe)};Es.typeOf=tp;function fQe(){var t=m.useContext(Xv);return t}function hQe(t){t===void 0&&(t=Xv);var e=t===Xv?fQe:function(){return m.useContext(t)};return function(){var r=e(),i=r.store;return i}}var OYn=hQe();function LYn(t){t===void 0&&(t=Xv);var e=t===Xv?OYn:hQe(t);return function(){var r=e();return r.dispatch}}var Vi=LYn(),PYn=function(e,n){return e===n};function MYn(t,e,n,r){var i=m.useReducer(function(g){return g+1},0),s=i[1],o=m.useMemo(function(){return oQe(n,r)},[n,r]),a=m.useRef(),l=m.useRef(),u=m.useRef(),d=m.useRef(),f=n.getState(),h;try{if(t!==l.current||f!==u.current||a.current){var p=t(f);d.current===void 0||!e(p,d.current)?h=p:h=d.current}else h=d.current}catch(g){throw a.current&&(g.message+=`
The error may be correlated with this previous error:
`+a.current.stack+`

`),g}return SK(function(){l.current=t,u.current=f,d.current=h,a.current=void 0}),SK(function(){function g(){try{var v=n.getState();if(v===u.current)return;var y=l.current(v);if(e(y,d.current))return;d.current=y,u.current=v}catch(x){a.current=x}s()}return o.onStateChange=g,o.trySubscribe(),g(),function(){return o.tryUnsubscribe()}},[n,o]),h}function $Yn(t){t===void 0&&(t=Xv);var e=t===Xv?fQe:function(){return m.useContext(t)};return function(r,i){i===void 0&&(i=PYn);var s=e(),o=s.store,a=s.subscription,l=MYn(r,i,o,a);return m.useDebugValue(l),l}}var FYn=$Yn();bYn(vf.unstable_batchedUpdates);function V3e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V3e(Object(n),!0).forEach(function(r){Tt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V3e(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tu(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var U3e=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),YH=function(){return Math.random().toString(36).substring(7).split("").join(".")},F6={INIT:"@@redux/INIT"+YH(),REPLACE:"@@redux/REPLACE"+YH(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+YH()}};function BYn(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function pQe(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(tu(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(tu(1));return n(pQe)(t,e)}if(typeof t!="function")throw new Error(tu(2));var i=t,s=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function d(){if(l)throw new Error(tu(3));return s}function f(v){if(typeof v!="function")throw new Error(tu(4));if(l)throw new Error(tu(5));var y=!0;return u(),a.push(v),function(){if(y){if(l)throw new Error(tu(6));y=!1,u();var b=a.indexOf(v);a.splice(b,1),o=null}}}function h(v){if(!BYn(v))throw new Error(tu(7));if(typeof v.type>"u")throw new Error(tu(8));if(l)throw new Error(tu(9));try{l=!0,s=i(s,v)}finally{l=!1}for(var y=o=a,x=0;x<y.length;x++){var b=y[x];b()}return v}function p(v){if(typeof v!="function")throw new Error(tu(10));i=v,h({type:F6.REPLACE})}function g(){var v,y=f;return v={subscribe:function(b){if(typeof b!="object"||b===null)throw new Error(tu(11));function _(){b.next&&b.next(d())}_();var C=y(_);return{unsubscribe:C}}},v[U3e]=function(){return this},v}return h({type:F6.INIT}),r={dispatch:h,subscribe:f,getState:d,replaceReducer:p},r[U3e]=g,r}function NYn(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:F6.INIT});if(typeof r>"u")throw new Error(tu(12));if(typeof n(void 0,{type:F6.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(tu(13))})}function mQe(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{NYn(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var d=!1,f={},h=0;h<s.length;h++){var p=s[h],g=n[p],v=l[p],y=g(v,u);if(typeof y>"u")throw u&&u.type,new Error(tu(14));f[p]=y,d=d||y!==v}return d=d||s.length!==Object.keys(l).length,d?f:l}}function B6(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function VYn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(tu(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=B6.apply(void 0,a)(i.dispatch),ln(ln({},i),{},{dispatch:s})}}}var N6="NOT_FOUND";function UYn(t){var e;return{get:function(r){return e&&t(e.key,r)?e.value:N6},put:function(r,i){e={key:r,value:i}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}function HYn(t,e){var n=[];function r(a){var l=n.findIndex(function(d){return e(a,d.key)});if(l>-1){var u=n[l];return l>0&&(n.splice(l,1),n.unshift(u)),u.value}return N6}function i(a,l){r(a)===N6&&(n.unshift({key:a,value:l}),n.length>t&&n.pop())}function s(){return n}function o(){n=[]}return{get:r,put:i,getEntries:s,clear:o}}var zYn=function(e,n){return e===n};function WYn(t){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;for(var i=n.length,s=0;s<i;s++)if(!t(n[s],r[s]))return!1;return!0}}function GYn(t,e){var n=typeof e=="object"?e:{equalityCheck:e},r=n.equalityCheck,i=r===void 0?zYn:r,s=n.maxSize,o=s===void 0?1:s,a=n.resultEqualityCheck,l=WYn(i),u=o===1?UYn(l):HYn(o,l);function d(){var f=u.get(arguments);if(f===N6){if(f=t.apply(null,arguments),a){var h=u.getEntries(),p=h.find(function(g){return a(g.value,f)});p&&(f=p.value)}u.put(arguments,f)}return f}return d.clearCache=function(){return u.clear()},d}function qYn(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every(function(r){return typeof r=="function"})){var n=e.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return e}function YYn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];var u=0,d,f={memoizeOptions:void 0},h=a.pop();if(typeof h=="object"&&(f=h,h=a.pop()),typeof h!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof h+"]");var p=f,g=p.memoizeOptions,v=g===void 0?n:g,y=Array.isArray(v)?v:[v],x=qYn(a),b=t.apply(void 0,[function(){return u++,h.apply(null,arguments)}].concat(y)),_=t(function(){for(var S=[],T=x.length,A=0;A<T;A++)S.push(x[A].apply(null,arguments));return d=b.apply(null,S),d});return Object.assign(_,{resultFunc:h,memoizedResultFunc:b,dependencies:x,lastResult:function(){return d},recomputations:function(){return u},resetRecomputations:function(){return u=0}}),_};return i}var np=YYn(GYn);function gQe(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var vQe=gQe();vQe.withExtraArgument=gQe;const H3e=vQe;var yQe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),KYn=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return l([u,d])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},dC=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},ZYn=Object.defineProperty,XYn=Object.defineProperties,QYn=Object.getOwnPropertyDescriptors,z3e=Object.getOwnPropertySymbols,JYn=Object.prototype.hasOwnProperty,eKn=Object.prototype.propertyIsEnumerable,W3e=function(t,e,n){return e in t?ZYn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Tv=function(t,e){for(var n in e||(e={}))JYn.call(e,n)&&W3e(t,n,e[n]);if(z3e)for(var r=0,i=z3e(e);r<i.length;r++){var n=i[r];eKn.call(e,n)&&W3e(t,n,e[n])}return t},KH=function(t,e){return XYn(t,QYn(e))},tKn=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},nKn=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?B6:B6.apply(null,arguments)};function rKn(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var iKn=function(t){yQe(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,dC([void 0],n[0].concat(this)))):new(e.bind.apply(e,dC([void 0],n.concat(this))))},e}(Array),sKn=function(t){yQe(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,dC([void 0],n[0].concat(this)))):new(e.bind.apply(e,dC([void 0],n.concat(this))))},e}(Array);function TK(t){return a0(t)?iE(t,function(){}):t}function oKn(t){return typeof t=="boolean"}function aKn(){return function(e){return lKn(e)}}function lKn(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new iKn;return n&&(oKn(n)?r.push(H3e):r.push(H3e.withExtraArgument(n.extraArgument))),r}var uKn=!0;function cKn(t){var e=aKn(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,d=u===void 0?void 0:u,f=n.enhancers,h=f===void 0?void 0:f,p;if(typeof i=="function")p=i;else if(rKn(i))p=mQe(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var g=o;typeof g=="function"&&(g=g(e));var v=VYn.apply(void 0,g),y=B6;l&&(y=nKn(Tv({trace:!uKn},typeof l=="object"&&l)));var x=new sKn(v),b=x;Array.isArray(h)?b=dC([v],h):typeof h=="function"&&(b=h(x));var _=y.apply(void 0,b);return pQe(p,d,_)}function El(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Tv(Tv({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function bQe(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function dKn(t){return typeof t=="function"}function fKn(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?bQe(e):[e,n,r],s=i[0],o=i[1],a=i[2],l;if(dKn(t))l=function(){return TK(t())};else{var u=TK(t);l=function(){return u}}function d(f,h){f===void 0&&(f=l());var p=dC([s[h.type]],o.filter(function(g){var v=g.matcher;return v(h)}).map(function(g){var v=g.reducer;return v}));return p.filter(function(g){return!!g}).length===0&&(p=[a]),p.reduce(function(g,v){if(v)if(o0(g)){var y=g,x=v(y,h);return x===void 0?g:x}else{if(a0(g))return iE(g,function(b){return v(b,h)});var x=v(g,h);if(x===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}return g},f)}return d.getInitialState=l,d}function hKn(t,e){return t+"/"+e}function ky(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:TK(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(d){var f=r[d],h=hKn(e,d),p,g;"reducer"in f?(p=f.reducer,g=f.prepare):p=f,s[d]=p,o[h]=p,a[d]=g?El(h,g):El(h)});function l(){var d=typeof t.extraReducers=="function"?bQe(t.extraReducers):[t.extraReducers],f=d[0],h=f===void 0?{}:f,p=d[1],g=p===void 0?[]:p,v=d[2],y=v===void 0?void 0:v,x=Tv(Tv({},h),o);return fKn(n,function(b){for(var _ in x)b.addCase(_,x[_]);for(var C=0,S=g;C<S.length;C++){var T=S[C];b.addMatcher(T.matcher,T.reducer)}y&&b.addDefaultCase(y)})}var u;return{name:e,reducer:function(d,f){return u||(u=l()),u(d,f)},actions:a,caseReducers:s,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var pKn="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",mKn=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=pKn[Math.random()*64|0];return e},gKn=["name","message","stack","code"],ZH=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),G3e=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),vKn=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=gKn;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,n,r){var i=El(e+"/fulfilled",function(u,d,f,h){return{payload:u,meta:KH(Tv({},h||{}),{arg:f,requestId:d,requestStatus:"fulfilled"})}}),s=El(e+"/pending",function(u,d,f){return{payload:void 0,meta:KH(Tv({},f||{}),{arg:d,requestId:u,requestStatus:"pending"})}}),o=El(e+"/rejected",function(u,d,f,h,p){return{payload:h,error:(r&&r.serializeError||vKn)(u||"Rejected"),meta:KH(Tv({},p||{}),{arg:f,requestId:d,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(d,f,h){var p=r!=null&&r.idGenerator?r.idGenerator(u):mKn(),g=new a,v;function y(b){v=b,g.abort()}var x=function(){return tKn(this,null,function(){var b,_,C,S,T,A,k;return KYn(this,function(I){switch(I.label){case 0:return I.trys.push([0,4,,5]),S=(b=r==null?void 0:r.condition)==null?void 0:b.call(r,u,{getState:f,extra:h}),bKn(S)?[4,S]:[3,2];case 1:S=I.sent(),I.label=2;case 2:if(S===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return T=new Promise(function(D,R){return g.signal.addEventListener("abort",function(){return R({name:"AbortError",message:v||"Aborted"})})}),d(s(p,u,(_=r==null?void 0:r.getPendingMeta)==null?void 0:_.call(r,{requestId:p,arg:u},{getState:f,extra:h}))),[4,Promise.race([T,Promise.resolve(n(u,{dispatch:d,getState:f,extra:h,requestId:p,signal:g.signal,abort:y,rejectWithValue:function(D,R){return new ZH(D,R)},fulfillWithValue:function(D,R){return new G3e(D,R)}})).then(function(D){if(D instanceof ZH)throw D;return D instanceof G3e?i(D.payload,p,u,D.meta):i(D,p,u)})])];case 3:return C=I.sent(),[3,5];case 4:return A=I.sent(),C=A instanceof ZH?o(null,p,u,A.payload,A.meta):o(A,p,u),[3,5];case 5:return k=r&&!r.dispatchConditionRejection&&o.match(C)&&C.meta.condition,k||d(C),[2,C]}})})}();return Object.assign(x,{abort:y,requestId:p,arg:u,unwrap:function(){return x.then(yKn)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function yKn(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function bKn(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var use="listenerMiddleware";El(use+"/add");El(use+"/removeAll");El(use+"/remove");var q3e;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);Han();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var kK=function(t,e){return kK=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},kK(t,e)};function xKn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");kK(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var wKn=function(t){xKn(e,t);function e(n,r){var i=t.call(this,function(s){var o=i.__notifier.subscribe(s);return o&&!o.closed&&s.next(i.value),o})||this;return i.__notifier=new Pi,i.value=r,n.subscribe(function(s){s!==i.value&&(i.value=s,i.__notifier.next(s))}),i}return e}(On);function _Kn(t){t===void 0&&(t={});var e=zpe.constructor,n=new e(zpe.schedulerActionCtor),r=new Pi,i,s=function(o){i=o;var a=new Pi,l=new Pi,u=a.asObservable().pipe(yk(n)),d=new wKn(l.pipe(yk(n)),i.getState()),f=r.pipe(Be(function(h){var p=h(u,d,t.dependencies);if(!p)throw new TypeError('Your root Epic "'+(h.name||"<anonymous>")+`" does not return a stream. Double check you're not missing a return statement!`);return p}),rt(function(h){return Vr(h).pipe(fee(n),yk(n))}));return f.subscribe(i.dispatch),function(h){return function(p){var g=h(p);return l.next(i.getState()),a.next(p),g}}};return s.run=function(o){r.next(o)},s}function CKn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return li.apply(void 0,t.map(function(s){var o=s.apply(void 0,r);if(!o)throw new TypeError('combineEpics: one of the provided Epics "'+(s.name||"<anonymous>")+`" does not return a stream. Double check you're not missing a return statement!`);return o}))};try{Object.defineProperty(n,"name",{value:"combineEpics("+t.map(function(r){return r.name||"<anonymous>"}).join(", ")+")"})}catch{}return n}var Y3e=function(t,e){return t===e||typeof e=="function"&&t===e.toString()};function b2(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.length;return dt(n===1?function(r){return Y3e(r.type,t[0])}:function(r){for(var i=0;i<n;i++)if(Y3e(r.type,t[i]))return!0;return!1})}function EKn(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var xQe={exports:{}};(function(t,e){(function(n,r){typeof EKn=="function"?t.exports=r():n.pluralize=r()})(co,function(){var n=[],r=[],i={},s={},o={};function a(v){return typeof v=="string"?new RegExp("^"+v+"$","i"):v}function l(v,y){return v===y?y:v===v.toLowerCase()?y.toLowerCase():v===v.toUpperCase()?y.toUpperCase():v[0]===v[0].toUpperCase()?y.charAt(0).toUpperCase()+y.substr(1).toLowerCase():y.toLowerCase()}function u(v,y){return v.replace(/\$(\d{1,2})/g,function(x,b){return y[b]||""})}function d(v,y){return v.replace(y[0],function(x,b){var _=u(y[1],arguments);return l(x===""?v[b-1]:x,_)})}function f(v,y,x){if(!v.length||i.hasOwnProperty(v))return y;for(var b=x.length;b--;){var _=x[b];if(_[0].test(y))return d(y,_)}return y}function h(v,y,x){return function(b){var _=b.toLowerCase();return y.hasOwnProperty(_)?l(b,_):v.hasOwnProperty(_)?l(b,v[_]):f(_,b,x)}}function p(v,y,x,b){return function(_){var C=_.toLowerCase();return y.hasOwnProperty(C)?!0:v.hasOwnProperty(C)?!1:f(C,C,x)===C}}function g(v,y,x){var b=y===1?g.singular(v):g.plural(v);return(x?y+" ":"")+b}return g.plural=h(o,s,n),g.isPlural=p(o,s,n),g.singular=h(s,o,r),g.isSingular=p(s,o,r),g.addPluralRule=function(v,y){n.push([a(v),y])},g.addSingularRule=function(v,y){r.push([a(v),y])},g.addUncountableRule=function(v){if(typeof v=="string"){i[v.toLowerCase()]=!0;return}g.addPluralRule(v,"$0"),g.addSingularRule(v,"$0")},g.addIrregularRule=function(v,y){y=y.toLowerCase(),v=v.toLowerCase(),o[v]=y,s[y]=v},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach(function(v){return g.addIrregularRule(v[0],v[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(v){return g.addPluralRule(v[0],v[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(v){return g.addSingularRule(v[0],v[1])}),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[e]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(g.addUncountableRule),g})})(xQe);var SKn=xQe.exports;const Gp=vt(SKn);var wQe=function(e,n,r){return e=e<=r?e:r,e=e>=n?e:n,e},TKn=function(){var e=!1,n=[],r=function o(){e=!0;var a=n.shift();if(a)return a(o);e=!1},i=function(){e=!1,n=[]},s=function(a){n.push(a),!e&&n.length===1&&r()};return{clear:i,enqueue:s}},kKn=function(){var e,n=function(){e&&window.cancelAnimationFrame(e)},r=function(s,o){var a,l,u=function d(f){if(l=l||f,a=f-l,a>o){s();return}e=window.requestAnimationFrame(d)};e=window.requestAnimationFrame(u)};return{cancel:n,schedule:r}},AKn=function(e){var n=0;return e>=0&&e<.2?n=.1:e>=.2&&e<.5?n=.04:e>=.5&&e<.8?n=.02:e>=.8&&e<.99&&(n=.005),wQe(e+n,0,.994)},K3e=function(e){m.useEffect(e,[])},IKn=function(e){return++e%1e6},DKn=function(){var e=m.useState(0),n=e[1];return m.useCallback(function(){return n(IKn)},[])},RKn=function(e){e===void 0&&(e={});var n=DKn(),r=m.useRef(nn({},e)),i=m.useCallback(function(){return r.current},[]),s=m.useCallback(function(o){o&&(Object.assign(r.current,o),n())},[]);return[i,s]},jKn=function(){var e=m.useRef(!0);return e.current?(e.current=!1,!0):e.current},Z3e=function(e,n){var r=jKn();m.useEffect(function(){if(!r)return e()},n)},_Qe=function(){},X3e={isFinished:!0,progress:0,sideEffect:_Qe},OKn=function(e){var n=e===void 0?{}:e,r=n.animationDuration,i=r===void 0?200:r,s=n.incrementDuration,o=s===void 0?800:s,a=n.isAnimating,l=a===void 0?!1:a,u=n.minimum,d=u===void 0?.08:u,f=RKn(X3e),h=f[0],p=f[1],g=m.useRef(null),v=m.useRef(null);K3e(function(){g.current=TKn(),v.current=kKn()});var y=m.useCallback(function(){var T,A;(T=v.current)==null||T.cancel(),(A=g.current)==null||A.clear()},[]),x=m.useCallback(function(T){var A;if(T=wQe(T,d,1),T===1){var k,I;y(),(k=g.current)==null||k.enqueue(function(D){p({progress:T,sideEffect:function(){var O;return(O=v.current)==null?void 0:O.schedule(D,i)}})}),(I=g.current)==null||I.enqueue(function(){p({isFinished:!0,sideEffect:y})});return}(A=g.current)==null||A.enqueue(function(D){p({isFinished:!1,progress:T,sideEffect:function(){var O;return(O=v.current)==null?void 0:O.schedule(D,i)}})})},[i,y,d,g,p,v]),b=m.useCallback(function(){x(AKn(h().progress))},[h,x]),_=m.useCallback(function(){var T=function A(){var k;b(),(k=g.current)==null||k.enqueue(function(I){var D;(D=v.current)==null||D.schedule(function(){A(),I()},o)})};T()},[o,g,v,b]),C=m.useRef(_Qe),S=h().sideEffect;return m.useEffect(function(){C.current=b}),K3e(function(){return l&&_(),y}),Z3e(function(){h().sideEffect()},[h,S]),Z3e(function(){l?p(nn({},X3e,{sideEffect:_})):x(1)},[l,x,p,_]),{animationDuration:i,isFinished:h().isFinished,progress:h().progress}};function LKn(t){if(Array.isArray(t))return t}function PKn(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function MKn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kg(t,e){return LKn(t)||PKn(t,e)||_te(t,e)||MKn()}function Fm(t,e){if(t==null)return{};var n=LBe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var $Kn=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function CQe(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,o=s===void 0?null:s,a=t.inputValue,l=t.menuIsOpen,u=t.onChange,d=t.onInputChange,f=t.onMenuClose,h=t.onMenuOpen,p=t.value,g=Fm(t,$Kn),v=m.useState(a!==void 0?a:n),y=Kg(v,2),x=y[0],b=y[1],_=m.useState(l!==void 0?l:i),C=Kg(_,2),S=C[0],T=C[1],A=m.useState(p!==void 0?p:o),k=Kg(A,2),I=k[0],D=k[1],R=m.useCallback(function(V,Z){typeof u=="function"&&u(V,Z),D(V)},[u]),O=m.useCallback(function(V,Z){var ie;typeof d=="function"&&(ie=d(V,Z)),b(ie!==void 0?ie:V)},[d]),L=m.useCallback(function(){typeof h=="function"&&h(),T(!0)},[h]),P=m.useCallback(function(){typeof f=="function"&&f(),T(!1)},[f]),$=a!==void 0?a:x,B=l!==void 0?l:S,Q=p!==void 0?p:I;return ln(ln({},g),{},{inputValue:$,menuIsOpen:B,onChange:R,onInputChange:O,onMenuClose:P,onMenuOpen:L,value:Q})}function FKn(t){if(Array.isArray(t))return Lq(t)}function BKn(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NKn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vk(t){return FKn(t)||BKn(t)||_te(t)||NKn()}function VKn(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function UKn(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var HKn=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(UKn(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=VKn(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Xl="-ms-",V6="-moz-",pi="-webkit-",EQe="comm",cse="rule",dse="decl",zKn="@import",SQe="@keyframes",WKn="@layer",GKn=Math.abs,hF=String.fromCharCode,qKn=Object.assign;function YKn(t,e){return Cl(t,0)^45?(((e<<2^Cl(t,0))<<2^Cl(t,1))<<2^Cl(t,2))<<2^Cl(t,3):0}function TQe(t){return t.trim()}function KKn(t,e){return(t=e.exec(t))?t[0]:t}function mi(t,e,n){return t.replace(e,n)}function AK(t,e){return t.indexOf(e)}function Cl(t,e){return t.charCodeAt(e)|0}function f3(t,e,n){return t.slice(e,n)}function $p(t){return t.length}function fse(t){return t.length}function nj(t,e){return e.push(t),t}function ZKn(t,e){return t.map(e).join("")}var pF=1,fC=1,kQe=0,Uc=0,ca=0,EE="";function mF(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:pF,column:fC,length:o,return:""}}function XS(t,e){return qKn(mF("",null,null,"",null,null,0),t,{length:-t.length},e)}function XKn(){return ca}function QKn(){return ca=Uc>0?Cl(EE,--Uc):0,fC--,ca===10&&(fC=1,pF--),ca}function _d(){return ca=Uc<kQe?Cl(EE,Uc++):0,fC++,ca===10&&(fC=1,pF++),ca}function lm(){return Cl(EE,Uc)}function aL(){return Uc}function hD(t,e){return f3(EE,t,e)}function h3(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function AQe(t){return pF=fC=1,kQe=$p(EE=t),Uc=0,[]}function IQe(t){return EE="",t}function lL(t){return TQe(hD(Uc-1,IK(t===91?t+2:t===40?t+1:t)))}function JKn(t){for(;(ca=lm())&&ca<33;)_d();return h3(t)>2||h3(ca)>3?"":" "}function eZn(t,e){for(;--e&&_d()&&!(ca<48||ca>102||ca>57&&ca<65||ca>70&&ca<97););return hD(t,aL()+(e<6&&lm()==32&&_d()==32))}function IK(t){for(;_d();)switch(ca){case t:return Uc;case 34:case 39:t!==34&&t!==39&&IK(ca);break;case 40:t===41&&IK(t);break;case 92:_d();break}return Uc}function tZn(t,e){for(;_d()&&t+ca!==47+10;)if(t+ca===42+42&&lm()===47)break;return"/*"+hD(e,Uc-1)+"*"+hF(t===47?t:_d())}function nZn(t){for(;!h3(lm());)_d();return hD(t,Uc)}function rZn(t){return IQe(uL("",null,null,null,[""],t=AQe(t),0,[0],t))}function uL(t,e,n,r,i,s,o,a,l){for(var u=0,d=0,f=o,h=0,p=0,g=0,v=1,y=1,x=1,b=0,_="",C=i,S=s,T=r,A=_;y;)switch(g=b,b=_d()){case 40:if(g!=108&&Cl(A,f-1)==58){AK(A+=mi(lL(b),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:A+=lL(b);break;case 9:case 10:case 13:case 32:A+=JKn(g);break;case 92:A+=eZn(aL()-1,7);continue;case 47:switch(lm()){case 42:case 47:nj(iZn(tZn(_d(),aL()),e,n),l);break;default:A+="/"}break;case 123*v:a[u++]=$p(A)*x;case 125*v:case 59:case 0:switch(b){case 0:case 125:y=0;case 59+d:x==-1&&(A=mi(A,/\f/g,"")),p>0&&$p(A)-f&&nj(p>32?J3e(A+";",r,n,f-1):J3e(mi(A," ","")+";",r,n,f-2),l);break;case 59:A+=";";default:if(nj(T=Q3e(A,e,n,u,d,i,a,_,C=[],S=[],f),s),b===123)if(d===0)uL(A,e,T,T,C,s,f,a,S);else switch(h===99&&Cl(A,3)===110?100:h){case 100:case 108:case 109:case 115:uL(t,T,T,r&&nj(Q3e(t,T,T,0,0,i,a,_,i,C=[],f),S),i,S,f,a,r?C:S);break;default:uL(A,T,T,T,[""],S,0,a,S)}}u=d=p=0,v=x=1,_=A="",f=o;break;case 58:f=1+$p(A),p=g;default:if(v<1){if(b==123)--v;else if(b==125&&v++==0&&QKn()==125)continue}switch(A+=hF(b),b*v){case 38:x=d>0?1:(A+="\f",-1);break;case 44:a[u++]=($p(A)-1)*x,x=1;break;case 64:lm()===45&&(A+=lL(_d())),h=lm(),d=f=$p(_=A+=nZn(aL())),b++;break;case 45:g===45&&$p(A)==2&&(v=0)}}return s}function Q3e(t,e,n,r,i,s,o,a,l,u,d){for(var f=i-1,h=i===0?s:[""],p=fse(h),g=0,v=0,y=0;g<r;++g)for(var x=0,b=f3(t,f+1,f=GKn(v=o[g])),_=t;x<p;++x)(_=TQe(v>0?h[x]+" "+b:mi(b,/&\f/g,h[x])))&&(l[y++]=_);return mF(t,e,n,i===0?cse:a,l,u,d)}function iZn(t,e,n){return mF(t,e,n,EQe,hF(XKn()),f3(t,2,-2),0)}function J3e(t,e,n,r){return mF(t,e,n,dse,f3(t,0,r),f3(t,r+1,-1),r)}function x_(t,e){for(var n="",r=fse(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function sZn(t,e,n,r){switch(t.type){case WKn:if(t.children.length)break;case zKn:case dse:return t.return=t.return||t.value;case EQe:return"";case SQe:return t.return=t.value+"{"+x_(t.children,r)+"}";case cse:t.value=t.props.join(",")}return $p(n=x_(t.children,r))?t.return=t.value+"{"+n+"}":""}function oZn(t){var e=fse(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function aZn(t){return function(e){e.root||(e=e.return)&&t(e)}}var lZn=function(e,n,r){for(var i=0,s=0;i=s,s=lm(),i===38&&s===12&&(n[r]=1),!h3(s);)_d();return hD(e,Uc)},uZn=function(e,n){var r=-1,i=44;do switch(h3(i)){case 0:i===38&&lm()===12&&(n[r]=1),e[r]+=lZn(Uc-1,n,r);break;case 2:e[r]+=lL(i);break;case 4:if(i===44){e[++r]=lm()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=hF(i)}while(i=_d());return e},cZn=function(e,n){return IQe(uZn(AQe(e),n))},eIe=new WeakMap,dZn=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!eIe.get(r))&&!i){eIe.set(e,!0);for(var s=[],o=cZn(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var d=0;d<a.length;d++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},fZn=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function DQe(t,e){switch(YKn(t,e)){case 5103:return pi+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return pi+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return pi+t+V6+t+Xl+t+t;case 6828:case 4268:return pi+t+Xl+t+t;case 6165:return pi+t+Xl+"flex-"+t+t;case 5187:return pi+t+mi(t,/(\w+).+(:[^]+)/,pi+"box-$1$2"+Xl+"flex-$1$2")+t;case 5443:return pi+t+Xl+"flex-item-"+mi(t,/flex-|-self/,"")+t;case 4675:return pi+t+Xl+"flex-line-pack"+mi(t,/align-content|flex-|-self/,"")+t;case 5548:return pi+t+Xl+mi(t,"shrink","negative")+t;case 5292:return pi+t+Xl+mi(t,"basis","preferred-size")+t;case 6060:return pi+"box-"+mi(t,"-grow","")+pi+t+Xl+mi(t,"grow","positive")+t;case 4554:return pi+mi(t,/([^-])(transform)/g,"$1"+pi+"$2")+t;case 6187:return mi(mi(mi(t,/(zoom-|grab)/,pi+"$1"),/(image-set)/,pi+"$1"),t,"")+t;case 5495:case 3959:return mi(t,/(image-set\([^]*)/,pi+"$1$`$1");case 4968:return mi(mi(t,/(.+:)(flex-)?(.*)/,pi+"box-pack:$3"+Xl+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+pi+t+t;case 4095:case 3583:case 4068:case 2532:return mi(t,/(.+)-inline(.+)/,pi+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if($p(t)-1-e>6)switch(Cl(t,e+1)){case 109:if(Cl(t,e+4)!==45)break;case 102:return mi(t,/(.+:)(.+)-([^]+)/,"$1"+pi+"$2-$3$1"+V6+(Cl(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~AK(t,"stretch")?DQe(mi(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Cl(t,e+1)!==115)break;case 6444:switch(Cl(t,$p(t)-3-(~AK(t,"!important")&&10))){case 107:return mi(t,":",":"+pi)+t;case 101:return mi(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+pi+(Cl(t,14)===45?"inline-":"")+"box$3$1"+pi+"$2$3$1"+Xl+"$2box$3")+t}break;case 5936:switch(Cl(t,e+11)){case 114:return pi+t+Xl+mi(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return pi+t+Xl+mi(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return pi+t+Xl+mi(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return pi+t+Xl+t+t}return t}var hZn=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case dse:e.return=DQe(e.value,e.length);break;case SQe:return x_([XS(e,{value:mi(e.value,"@","@"+pi)})],i);case cse:if(e.length)return ZKn(e.props,function(s){switch(KKn(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return x_([XS(e,{props:[mi(s,/:(read-\w+)/,":"+V6+"$1")]})],i);case"::placeholder":return x_([XS(e,{props:[mi(s,/:(plac\w+)/,":"+pi+"input-$1")]}),XS(e,{props:[mi(s,/:(plac\w+)/,":"+V6+"$1")]}),XS(e,{props:[mi(s,/:(plac\w+)/,Xl+"input-$1")]})],i)}return""})}},pZn=[hZn],mZn=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var y=v.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||pZn,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var y=v.getAttribute("data-emotion").split(" "),x=1;x<y.length;x++)s[y[x]]=!0;a.push(v)});var l,u=[dZn,fZn];{var d,f=[sZn,aZn(function(v){d.insert(v)})],h=oZn(u.concat(i,f)),p=function(y){return x_(rZn(y),h)};l=function(y,x,b,_){d=b,p(y?y+"{"+x.styles+"}":x.styles),_&&(g.inserted[x.name]=!0)}}var g={key:n,sheet:new HKn({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g},gZn=!0;function vZn(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var RQe=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||gZn===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},yZn=function(e,n,r){RQe(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function bZn(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var xZn={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function wZn(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var _Zn=/[A-Z]|^ms/g,CZn=/_EMO_([^_]+?)_([^]*?)_EMO_/g,jQe=function(e){return e.charCodeAt(1)===45},tIe=function(e){return e!=null&&typeof e!="boolean"},XH=wZn(function(t){return jQe(t)?t:t.replace(_Zn,"-$&").toLowerCase()}),nIe=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(CZn,function(r,i,s){return Fp={name:i,styles:s,next:Fp},i})}return xZn[e]!==1&&!jQe(e)&&typeof n=="number"&&n!==0?n+"px":n};function p3(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Fp={name:n.name,styles:n.styles,next:Fp},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Fp={name:r.name,styles:r.styles,next:Fp},r=r.next;var i=n.styles+";";return i}return EZn(t,e,n)}case"function":{if(t!==void 0){var s=Fp,o=n(t);return Fp=s,p3(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function EZn(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=p3(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":tIe(o)&&(r+=XH(s)+":"+nIe(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)tIe(o[a])&&(r+=XH(s)+":"+nIe(s,o[a])+";");else{var l=p3(t,e,o);switch(s){case"animation":case"animationName":{r+=XH(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var rIe=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Fp,OQe=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Fp=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=p3(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=p3(r,n,e[a]),i&&(s+=o[a]);rIe.lastIndex=0;for(var l="",u;(u=rIe.exec(s))!==null;)l+="-"+u[1];var d=bZn(s)+l;return{name:d,styles:s,next:Fp}},SZn=function(e){return e()},TZn=eue["useInsertionEffect"]?eue["useInsertionEffect"]:!1,kZn=TZn||SZn,hse={}.hasOwnProperty,LQe=m.createContext(typeof HTMLElement<"u"?mZn({key:"css"}):null);LQe.Provider;var AZn=function(e){return m.forwardRef(function(n,r){var i=m.useContext(LQe);return e(n,i,r)})},IZn=m.createContext({}),DK="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",DZn=function(e,n){var r={};for(var i in n)hse.call(n,i)&&(r[i]=n[i]);return r[DK]=e,r},RZn=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return RQe(n,r,i),kZn(function(){return yZn(n,r,i)}),null},jZn=AZn(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[DK],s=[r],o="";typeof t.className=="string"?o=vZn(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=OQe(s,void 0,m.useContext(IZn));o+=e.key+"-"+a.name;var l={};for(var u in t)hse.call(t,u)&&u!=="css"&&u!==DK&&(l[u]=t[u]);return l.ref=n,l.className=o,m.createElement(m.Fragment,null,m.createElement(RZn,{cache:e,serialized:a,isStringTag:typeof i=="string"}),m.createElement(i,l))}),OZn=jZn,Cn=function(e,n){var r=arguments;if(n==null||!hse.call(n,"css"))return m.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=OZn,s[1]=DZn(e,n);for(var o=2;o<i;o++)s[o]=r[o];return m.createElement.apply(null,s)};function pse(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return OQe(e)}var LZn=function(){var e=pse.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function PZn(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var RK=m.useLayoutEffect,MZn=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],U6=function(){};function $Zn(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function FZn(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat($Zn(t,o)));return s.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var H6=function(e){return qZn(e)?e.filter(Boolean):Mf(e)==="object"&&e!==null?[e]:[]},PQe=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=Fm(e,MZn);return ln({},n)},Ro=function(e,n,r){var i=e.cx,s=e.getStyles,o=e.getClassNames,a=e.className;return{css:s(n,e),className:i(r??{},o(n,e),a)}};function gF(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function BZn(t){return gF(t)?window.innerHeight:t.clientHeight}function MQe(t){return gF(t)?window.pageYOffset:t.scrollTop}function z6(t,e){if(gF(t)){window.scrollTo(0,e);return}t.scrollTop=e}function NZn(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function VZn(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function rj(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:U6,i=MQe(t),s=e-i,o=10,a=0;function l(){a+=o;var u=VZn(a,i,s,n);z6(t,u),a<n?window.requestAnimationFrame(l):r(t)}l()}function iIe(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?z6(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&z6(t,Math.max(e.offsetTop-i,0))}function UZn(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function sIe(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function HZn(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var $Qe=!1,zZn={get passive(){return $Qe=!0}},ij=typeof window<"u"?window:{};ij.addEventListener&&ij.removeEventListener&&(ij.addEventListener("p",U6,zZn),ij.removeEventListener("p",U6,!1));var WZn=$Qe;function GZn(t){return t!=null}function qZn(t){return Array.isArray(t)}function VT(t,e,n){return t?e:n}var YZn=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(o){var a=Kg(o,1),l=a[0];return!r.includes(l)});return s.reduce(function(o,a){var l=Kg(a,2),u=l[0],d=l[1];return o[u]=d,o},{})},KZn=["children","innerProps"],ZZn=["children","innerProps"];function XZn(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,o=t.isFixedPosition,a=t.controlHeight,l=NZn(n),u={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return u;var d=l.getBoundingClientRect(),f=d.height,h=n.getBoundingClientRect(),p=h.bottom,g=h.height,v=h.top,y=n.offsetParent.getBoundingClientRect(),x=y.top,b=o?window.innerHeight:BZn(l),_=MQe(l),C=parseInt(getComputedStyle(n).marginBottom,10),S=parseInt(getComputedStyle(n).marginTop,10),T=x-S,A=b-v,k=T+_,I=f-_-v,D=p-b+_+C,R=_+v-S,O=160;switch(i){case"auto":case"bottom":if(A>=g)return{placement:"bottom",maxHeight:e};if(I>=g&&!o)return s&&rj(l,D,O),{placement:"bottom",maxHeight:e};if(!o&&I>=r||o&&A>=r){s&&rj(l,D,O);var L=o?A-C:I-C;return{placement:"bottom",maxHeight:L}}if(i==="auto"||o){var P=e,$=o?T:k;return $>=r&&(P=Math.min($-C-a,e)),{placement:"top",maxHeight:P}}if(i==="bottom")return s&&z6(l,D),{placement:"bottom",maxHeight:e};break;case"top":if(T>=g)return{placement:"top",maxHeight:e};if(k>=g&&!o)return s&&rj(l,R,O),{placement:"top",maxHeight:e};if(!o&&k>=r||o&&T>=r){var B=e;return(!o&&k>=r||o&&T>=r)&&(B=o?T-S:k-S),s&&rj(l,R,O),{placement:"top",maxHeight:B}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return u}function QZn(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var FQe=function(e){return e==="auto"?"bottom":e},JZn=function(e,n){var r,i=e.placement,s=e.theme,o=s.borderRadius,a=s.spacing,l=s.colors;return ln((r={label:"menu"},Tt(r,QZn(i),"100%"),Tt(r,"position","absolute"),Tt(r,"width","100%"),Tt(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},BQe=m.createContext(null),eXn=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,u=m.useContext(BQe)||{},d=u.setPortalPlacement,f=m.useRef(null),h=m.useState(i),p=Kg(h,2),g=p[0],v=p[1],y=m.useState(null),x=Kg(y,2),b=x[0],_=x[1],C=l.spacing.controlHeight;return RK(function(){var S=f.current;if(S){var T=o==="fixed",A=a&&!T,k=XZn({maxHeight:i,menuEl:S,minHeight:r,placement:s,shouldScroll:A,isFixedPosition:T,controlHeight:C});v(k.maxHeight),_(k.placement),d==null||d(k.placement)}},[i,s,o,a,r,d,C]),n({ref:f,placerProps:ln(ln({},e),{},{placement:b||FQe(s),maxHeight:g})})},tXn=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return Cn("div",nn({},Ro(e,"menu",{menu:!0}),{ref:r},i),n)},nXn=tXn,rXn=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return ln({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},iXn=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return Cn("div",nn({},Ro(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},NQe=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return ln({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},sXn=NQe,oXn=NQe,aXn=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,s=Fm(e,KZn);return Cn("div",nn({},Ro(ln(ln({},s),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},lXn=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,s=Fm(e,ZZn);return Cn("div",nn({},Ro(ln(ln({},s),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},uXn=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},cXn=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,o=e.menuPlacement,a=e.menuPosition,l=m.useRef(null),u=m.useRef(null),d=m.useState(FQe(o)),f=Kg(d,2),h=f[0],p=f[1],g=m.useMemo(function(){return{setPortalPlacement:p}},[]),v=m.useState(null),y=Kg(v,2),x=y[0],b=y[1],_=m.useCallback(function(){if(i){var A=UZn(i),k=a==="fixed"?0:window.pageYOffset,I=A[h]+k;(I!==(x==null?void 0:x.offset)||A.left!==(x==null?void 0:x.rect.left)||A.width!==(x==null?void 0:x.rect.width))&&b({offset:I,rect:A})}},[i,a,h,x==null?void 0:x.offset,x==null?void 0:x.rect.left,x==null?void 0:x.rect.width]);RK(function(){_()},[_]);var C=m.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),i&&l.current&&(u.current=RQ(i,l.current,_,{elementResize:"ResizeObserver"in window}))},[i,_]);RK(function(){C()},[C]);var S=m.useCallback(function(A){l.current=A,C()},[C]);if(!n&&a!=="fixed"||!x)return null;var T=Cn("div",nn({ref:S},Ro(ln(ln({},e),{},{offset:x.offset,position:a,rect:x.rect}),"menuPortal",{"menu-portal":!0}),s),r);return Cn(BQe.Provider,{value:g},n?vf.createPortal(T,n):T)},dXn=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},fXn=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return Cn("div",nn({},Ro(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},hXn=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return ln({alignItems:"center",display:i&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},pXn=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return Cn("div",nn({},Ro(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},mXn=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},gXn=function(e){var n=e.children,r=e.innerProps;return Cn("div",nn({},Ro(e,"indicatorsContainer",{indicators:!0}),r),n)},oIe,vXn=["size"],yXn=["innerProps","isRtl","size"],bXn={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},VQe=function(e){var n=e.size,r=Fm(e,vXn);return Cn("svg",nn({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:bXn},r))},mse=function(e){return Cn(VQe,nn({size:20},e),Cn("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},UQe=function(e){return Cn(VQe,nn({size:20},e),Cn("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},HQe=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return ln({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:s*2,":hover":{color:r?o.neutral80:o.neutral40}})},xXn=HQe,wXn=function(e){var n=e.children,r=e.innerProps;return Cn("div",nn({},Ro(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||Cn(UQe,null))},_Xn=HQe,CXn=function(e){var n=e.children,r=e.innerProps;return Cn("div",nn({},Ro(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||Cn(mse,null))},EXn=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return ln({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},SXn=function(e){var n=e.innerProps;return Cn("span",nn({},n,Ro(e,"indicatorSeparator",{"indicator-separator":!0})))},TXn=LZn(oIe||(oIe=PZn([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),kXn=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,o=s.colors,a=s.spacing.baseUnit;return ln({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:a*2})},QH=function(e){var n=e.delay,r=e.offset;return Cn("span",{css:pse({animation:"".concat(TXn," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},AXn=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,s=i===void 0?4:i,o=Fm(e,yXn);return Cn("div",nn({},Ro(ln(ln({},o),{},{innerProps:n,isRtl:r,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),Cn(QH,{delay:0,offset:r}),Cn(QH,{delay:160,offset:!0}),Cn(QH,{delay:320,offset:!r}))},IXn=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,o=s.colors,a=s.borderRadius,l=s.spacing;return ln({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},DXn=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return Cn("div",nn({ref:s},Ro(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":a}),o),n)},RXn=DXn,jXn=["data"],OXn=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},LXn=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,o=e.Heading,a=e.headingProps,l=e.innerProps,u=e.label,d=e.theme,f=e.selectProps;return Cn("div",nn({},Ro(e,"group",{group:!0}),l),Cn(o,nn({},a,{selectProps:f,theme:d,getStyles:i,getClassNames:s,cx:r}),u),Cn("div",null,n))},PXn=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return ln({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},MXn=function(e){var n=PQe(e);n.data;var r=Fm(n,jXn);return Cn("div",nn({},Ro(e,"groupHeading",{"group-heading":!0}),r))},$Xn=LXn,FXn=["innerRef","isDisabled","isHidden","inputClassName"],BXn=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,o=s.spacing,a=s.colors;return ln(ln({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},NXn),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},zQe={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},NXn={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":ln({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},zQe)},VXn=function(e){return ln({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},zQe)},UXn=function(e){var n=e.cx,r=e.value,i=PQe(e),s=i.innerRef,o=i.isDisabled,a=i.isHidden,l=i.inputClassName,u=Fm(i,FXn);return Cn("div",nn({},Ro(e,"input",{"input-container":!0}),{"data-value":r||""}),Cn("input",nn({className:n({input:!0},l),ref:s,style:VXn(a),disabled:o},u)))},HXn=UXn,zXn=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors;return ln({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},WXn=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,o=e.cropWithEllipsis;return ln({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},GXn=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors,a=e.isFocused;return ln({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},WQe=function(e){var n=e.children,r=e.innerProps;return Cn("div",r,n)},qXn=WQe,YXn=WQe;function KXn(t){var e=t.children,n=t.innerProps;return Cn("div",nn({role:"button"},n),e||Cn(mse,{size:14}))}var ZXn=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,o=e.isDisabled,a=e.removeProps,l=e.selectProps,u=r.Container,d=r.Label,f=r.Remove;return Cn(u,{data:i,innerProps:ln(ln({},Ro(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:l},Cn(d,{data:i,innerProps:ln({},Ro(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),Cn(f,{data:i,innerProps:ln(ln({},Ro(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},a),selectProps:l}))},XXn=ZXn,QXn=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.theme,a=o.spacing,l=o.colors;return ln({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?l.primary:l.primary50}})},JXn=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.innerRef,a=e.innerProps;return Cn("div",nn({},Ro(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:o,"aria-disabled":r},a),n)},eQn=JXn,tQn=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return ln({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},nQn=function(e){var n=e.children,r=e.innerProps;return Cn("div",nn({},Ro(e,"placeholder",{placeholder:!0}),r),n)},rQn=nQn,iQn=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,o=i.colors;return ln({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},sQn=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return Cn("div",nn({},Ro(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},oQn=sQn,gd={ClearIndicator:CXn,Control:RXn,DropdownIndicator:wXn,DownChevron:UQe,CrossIcon:mse,Group:$Xn,GroupHeading:MXn,IndicatorsContainer:gXn,IndicatorSeparator:SXn,Input:HXn,LoadingIndicator:AXn,Menu:nXn,MenuList:iXn,MenuPortal:cXn,LoadingMessage:lXn,NoOptionsMessage:aXn,MultiValue:XXn,MultiValueContainer:qXn,MultiValueLabel:YXn,MultiValueRemove:KXn,Option:eQn,Placeholder:rQn,SelectContainer:fXn,SingleValue:oQn,ValueContainer:pXn},aQn=function(e){return ln(ln({},gd),e.components)},aIe=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function lQn(t,e){return!!(t===e||aIe(t)&&aIe(e))}function uQn(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!lQn(t[n],e[n]))return!1;return!0}function cQn(t,e){e===void 0&&(e=uQn);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var dQn={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},fQn=function(e){return Cn("span",nn({css:dQn},e))},lIe=fQn,hQn={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.isDisabled,s=e.tabSelectsValue,o=e.context;switch(o){case"menu":return"Use Up and Down to choose options".concat(i?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,o=s===void 0?"":s,a=e.selectValue,l=e.isDisabled,u=e.isSelected,d=function(g,v){return g&&g.length?"".concat(g.indexOf(v)+1," of ").concat(g.length):""};if(n==="value"&&a)return"value ".concat(o," focused, ").concat(d(a,r),".");if(n==="menu"){var f=l?" disabled":"",h="".concat(u?"selected":"focused").concat(f);return"option ".concat(o," ").concat(h,", ").concat(d(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},pQn=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,o=e.isFocused,a=e.selectValue,l=e.selectProps,u=e.id,d=l.ariaLiveMessages,f=l.getOptionLabel,h=l.inputValue,p=l.isMulti,g=l.isOptionDisabled,v=l.isSearchable,y=l.menuIsOpen,x=l.options,b=l.screenReaderStatus,_=l.tabSelectsValue,C=l["aria-label"],S=l["aria-live"],T=m.useMemo(function(){return ln(ln({},hQn),d||{})},[d]),A=m.useMemo(function(){var P="";if(n&&T.onChange){var $=n.option,B=n.options,Q=n.removedValue,V=n.removedValues,Z=n.value,ie=function(ne){return Array.isArray(ne)?null:ne},J=Q||$||ie(Z),X=J?f(J):"",fe=B||V||void 0,ue=fe?fe.map(f):[],te=ln({isDisabled:J&&g(J,a),label:X,labels:ue},n);P=T.onChange(te)}return P},[n,T,g,a,f]),k=m.useMemo(function(){var P="",$=r||i,B=!!(r&&a&&a.includes(r));if($&&T.onFocus){var Q={focused:$,label:f($),isDisabled:g($,a),isSelected:B,options:s,context:$===r?"menu":"value",selectValue:a};P=T.onFocus(Q)}return P},[r,i,f,g,T,s,a]),I=m.useMemo(function(){var P="";if(y&&x.length&&T.onFilter){var $=b({count:s.length});P=T.onFilter({inputValue:h,resultsMessage:$})}return P},[s,h,y,T,x,b]),D=m.useMemo(function(){var P="";if(T.guidance){var $=i?"value":y?"menu":"input";P=T.guidance({"aria-label":C,context:$,isDisabled:r&&g(r,a),isMulti:p,isSearchable:v,tabSelectsValue:_})}return P},[C,r,i,p,g,v,y,T,a,_]),R="".concat(k," ").concat(I," ").concat(D),O=Cn(m.Fragment,null,Cn("span",{id:"aria-selection"},A),Cn("span",{id:"aria-context"},R)),L=(n==null?void 0:n.action)==="initial-input-focus";return Cn(m.Fragment,null,Cn(lIe,{id:u},L&&O),Cn(lIe,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text"},o&&!L&&O))},mQn=pQn,jK=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],gQn=new RegExp("["+jK.map(function(t){return t.letters}).join("")+"]","g"),GQe={};for(var JH=0;JH<jK.length;JH++)for(var ez=jK[JH],tz=0;tz<ez.letters.length;tz++)GQe[ez.letters[tz]]=ez.base;var qQe=function(e){return e.replace(gQn,function(n){return GQe[n]})},vQn=cQn(qQe),uIe=function(e){return e.replace(/^\s+|\s+$/g,"")},yQn=function(e){return"".concat(e.label," ").concat(e.value)},bQn=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=ln({ignoreCase:!0,ignoreAccents:!0,stringify:yQn,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,o=i.ignoreAccents,a=i.stringify,l=i.trim,u=i.matchFrom,d=l?uIe(r):r,f=l?uIe(a(n)):a(n);return s&&(d=d.toLowerCase(),f=f.toLowerCase()),o&&(d=vQn(d),f=qQe(f)),u==="start"?f.substr(0,d.length)===d:f.indexOf(d)>-1}},xQn=["innerRef"];function wQn(t){var e=t.innerRef,n=Fm(t,xQn),r=YZn(n,"onExited","in","enter","exit","appear");return Cn("input",nn({ref:e},r,{css:pse({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var _Qn=function(e){e.preventDefault(),e.stopPropagation()};function CQn(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,o=m.useRef(!1),a=m.useRef(!1),l=m.useRef(0),u=m.useRef(null),d=m.useCallback(function(y,x){if(u.current!==null){var b=u.current,_=b.scrollTop,C=b.scrollHeight,S=b.clientHeight,T=u.current,A=x>0,k=C-S-_,I=!1;k>x&&o.current&&(r&&r(y),o.current=!1),A&&a.current&&(s&&s(y),a.current=!1),A&&x>k?(n&&!o.current&&n(y),T.scrollTop=C,I=!0,o.current=!0):!A&&-x>_&&(i&&!a.current&&i(y),T.scrollTop=0,I=!0,a.current=!0),I&&_Qn(y)}},[n,r,i,s]),f=m.useCallback(function(y){d(y,y.deltaY)},[d]),h=m.useCallback(function(y){l.current=y.changedTouches[0].clientY},[]),p=m.useCallback(function(y){var x=l.current-y.changedTouches[0].clientY;d(y,x)},[d]),g=m.useCallback(function(y){if(y){var x=WZn?{passive:!1}:!1;y.addEventListener("wheel",f,x),y.addEventListener("touchstart",h,x),y.addEventListener("touchmove",p,x)}},[p,h,f]),v=m.useCallback(function(y){y&&(y.removeEventListener("wheel",f,!1),y.removeEventListener("touchstart",h,!1),y.removeEventListener("touchmove",p,!1))},[p,h,f]);return m.useEffect(function(){if(e){var y=u.current;return g(y),function(){v(y)}}},[e,g,v]),function(y){u.current=y}}var cIe=["boxSizing","height","overflow","paddingRight","position"],dIe={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function fIe(t){t.preventDefault()}function hIe(t){t.stopPropagation()}function pIe(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function mIe(){return"ontouchstart"in window||navigator.maxTouchPoints}var gIe=!!(typeof window<"u"&&window.document&&window.document.createElement),QS=0,x2={capture:!1,passive:!1};function EQn(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=m.useRef({}),s=m.useRef(null),o=m.useCallback(function(l){if(gIe){var u=document.body,d=u&&u.style;if(r&&cIe.forEach(function(g){var v=d&&d[g];i.current[g]=v}),r&&QS<1){var f=parseInt(i.current.paddingRight,10)||0,h=document.body?document.body.clientWidth:0,p=window.innerWidth-h+f||0;Object.keys(dIe).forEach(function(g){var v=dIe[g];d&&(d[g]=v)}),d&&(d.paddingRight="".concat(p,"px"))}u&&mIe()&&(u.addEventListener("touchmove",fIe,x2),l&&(l.addEventListener("touchstart",pIe,x2),l.addEventListener("touchmove",hIe,x2))),QS+=1}},[r]),a=m.useCallback(function(l){if(gIe){var u=document.body,d=u&&u.style;QS=Math.max(QS-1,0),r&&QS<1&&cIe.forEach(function(f){var h=i.current[f];d&&(d[f]=h)}),u&&mIe()&&(u.removeEventListener("touchmove",fIe,x2),l&&(l.removeEventListener("touchstart",pIe,x2),l.removeEventListener("touchmove",hIe,x2)))}},[r]);return m.useEffect(function(){if(e){var l=s.current;return o(l),function(){a(l)}}},[e,o,a]),function(l){s.current=l}}var SQn=function(){return document.activeElement&&document.activeElement.blur()},TQn={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function kQn(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,o=t.onBottomLeave,a=t.onTopArrive,l=t.onTopLeave,u=CQn({isEnabled:i,onBottomArrive:s,onBottomLeave:o,onTopArrive:a,onTopLeave:l}),d=EQn({isEnabled:n}),f=function(p){u(p),d(p)};return Cn(m.Fragment,null,n&&Cn("div",{onClick:SQn,css:TQn}),e(f))}var AQn={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},IQn=function(e){var n=e.name,r=e.onFocus;return Cn("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:AQn,value:"",onChange:function(){}})},DQn=IQn,RQn=function(e){return e.label},YQe=function(e){return e.label},KQe=function(e){return e.value},jQn=function(e){return!!e.isDisabled},OQn={clearIndicator:_Xn,container:dXn,control:IXn,dropdownIndicator:xXn,group:OXn,groupHeading:PXn,indicatorsContainer:mXn,indicatorSeparator:EXn,input:BXn,loadingIndicator:kXn,loadingMessage:oXn,menu:JZn,menuList:rXn,menuPortal:uXn,multiValue:zXn,multiValueLabel:WXn,multiValueRemove:GXn,noOptionsMessage:sXn,option:QXn,placeholder:tQn,singleValue:iQn,valueContainer:hXn},LQn={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},PQn=4,ZQe=4,MQn=38,$Qn=ZQe*2,FQn={baseUnit:ZQe,controlHeight:MQn,menuGutter:$Qn},nz={borderRadius:PQn,colors:LQn,spacing:FQn},BQn={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:sIe(),captureMenuScroll:!sIe(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:bQn(),formatGroupLabel:RQn,getOptionLabel:YQe,getOptionValue:KQe,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:jQn,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!HZn(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function vIe(t,e,n,r){var i=eJe(t,e,n),s=tJe(t,e,n),o=JQe(t,e),a=W6(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:o,value:a,index:r}}function XQe(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,a){return vIe(t,o,e,a)}).filter(function(o){return yIe(t,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=vIe(t,n,e,r);return yIe(t,s)?s:void 0}).filter(GZn)}function QQe(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,Vk(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function NQn(t,e){return QQe(XQe(t,e))}function yIe(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,o=e.label,a=e.value;return(!rJe(t)||!s)&&nJe(t,{label:o,value:a,data:i},r)}function VQn(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function UQn(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var JQe=function(e,n){return e.getOptionLabel(n)},W6=function(e,n){return e.getOptionValue(n)};function eJe(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function tJe(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=W6(t,e);return n.some(function(i){return W6(t,i)===r})}function nJe(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var rJe=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},HQn=1,gse=function(t){qr(n,t);var e=Yr(n);function n(r){var i;if(Mr(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.instancePrefix="",i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(a){i.controlRef=a},i.focusedOptionRef=null,i.getFocusedOptionRef=function(a){i.focusedOptionRef=a},i.menuListRef=null,i.getMenuListRef=function(a){i.menuListRef=a},i.inputRef=null,i.getInputRef=function(a){i.inputRef=a},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(a,l){var u=i.props,d=u.onChange,f=u.name;l.name=f,i.ariaOnChange(a,l),d(a,l)},i.setValue=function(a,l,u){var d=i.props,f=d.closeMenuOnSelect,h=d.isMulti,p=d.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:p}),f&&(i.setState({inputIsHiddenAfterUpdate:!h}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(a,{action:l,option:u})},i.selectOption=function(a){var l=i.props,u=l.blurInputOnSelect,d=l.isMulti,f=l.name,h=i.state.selectValue,p=d&&i.isOptionSelected(a,h),g=i.isOptionDisabled(a,h);if(p){var v=i.getOptionValue(a);i.setValue(h.filter(function(y){return i.getOptionValue(y)!==v}),"deselect-option",a)}else if(!g)d?i.setValue([].concat(Vk(h),[a]),"select-option",a):i.setValue(a,"select-option");else{i.ariaOnChange(a,{action:"select-option",option:a,name:f});return}u&&i.blurInput()},i.removeValue=function(a){var l=i.props.isMulti,u=i.state.selectValue,d=i.getOptionValue(a),f=u.filter(function(p){return i.getOptionValue(p)!==d}),h=VT(l,f,f[0]||null);i.onChange(h,{action:"remove-value",removedValue:a}),i.focusInput()},i.clearValue=function(){var a=i.state.selectValue;i.onChange(VT(i.props.isMulti,[],null),{action:"clear",removedValues:a})},i.popValue=function(){var a=i.props.isMulti,l=i.state.selectValue,u=l[l.length-1],d=l.slice(0,l.length-1),f=VT(a,d,d[0]||null);i.onChange(f,{action:"pop-value",removedValue:u})},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return FZn.apply(void 0,[i.props.classNamePrefix].concat(l))},i.getOptionLabel=function(a){return JQe(i.props,a)},i.getOptionValue=function(a){return W6(i.props,a)},i.getStyles=function(a,l){var u=i.props.unstyled,d=OQn[a](l,u);d.boxSizing="border-box";var f=i.props.styles[a];return f?f(d,l):d},i.getClassNames=function(a,l){var u,d;return(u=(d=i.props.classNames)[a])===null||u===void 0?void 0:u.call(d,l)},i.getElementId=function(a){return"".concat(i.instancePrefix,"-").concat(a)},i.getComponents=function(){return aQn(i.props)},i.buildCategorizedOptions=function(){return XQe(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return QQe(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(a,l){i.setState({ariaSelection:ln({value:a},l)})},i.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(a){i.blockOptionHover=!1},i.onControlMouseDown=function(a){if(!a.defaultPrevented){var l=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&i.onMenuClose():l&&i.openMenu("first"):(l&&(i.openAfterFocus=!0),i.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},i.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!i.props.isDisabled){var l=i.props,u=l.isMulti,d=l.menuIsOpen;i.focusInput(),d?(i.setState({inputIsHiddenAfterUpdate:!u}),i.onMenuClose()):i.openMenu("first"),a.preventDefault()}},i.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(i.clearValue(),a.preventDefault(),i.openAfterFocus=!1,a.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(a){typeof i.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&gF(a.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(a)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(a){var l=a.touches,u=l&&l.item(0);u&&(i.initialTouchX=u.clientX,i.initialTouchY=u.clientY,i.userIsDragging=!1)},i.onTouchMove=function(a){var l=a.touches,u=l&&l.item(0);if(u){var d=Math.abs(u.clientX-i.initialTouchX),f=Math.abs(u.clientY-i.initialTouchY),h=5;i.userIsDragging=d>h||f>h}},i.onTouchEnd=function(a){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(a.target)&&i.menuListRef&&!i.menuListRef.contains(a.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(a){i.userIsDragging||i.onControlMouseDown(a)},i.onClearIndicatorTouchEnd=function(a){i.userIsDragging||i.onClearIndicatorMouseDown(a)},i.onDropdownIndicatorTouchEnd=function(a){i.userIsDragging||i.onDropdownIndicatorMouseDown(a)},i.handleInputChange=function(a){var l=i.props.inputValue,u=a.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(u,{action:"input-change",prevInputValue:l}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(a){i.props.onFocus&&i.props.onFocus(a),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(a){var l=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(a),i.onInputChange("",{action:"input-blur",prevInputValue:l}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(a){i.blockOptionHover||i.state.focusedOption===a||i.setState({focusedOption:a})},i.shouldHideSelectedOptions=function(){return rJe(i.props)},i.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),i.focus()},i.onKeyDown=function(a){var l=i.props,u=l.isMulti,d=l.backspaceRemovesValue,f=l.escapeClearsValue,h=l.inputValue,p=l.isClearable,g=l.isDisabled,v=l.menuIsOpen,y=l.onKeyDown,x=l.tabSelectsValue,b=l.openMenuOnFocus,_=i.state,C=_.focusedOption,S=_.focusedValue,T=_.selectValue;if(!g&&!(typeof y=="function"&&(y(a),a.defaultPrevented))){switch(i.blockOptionHover=!0,a.key){case"ArrowLeft":if(!u||h)return;i.focusValue("previous");break;case"ArrowRight":if(!u||h)return;i.focusValue("next");break;case"Delete":case"Backspace":if(h)return;if(S)i.removeValue(S);else{if(!d)return;u?i.popValue():p&&i.clearValue()}break;case"Tab":if(i.isComposing||a.shiftKey||!v||!x||!C||b&&i.isOptionSelected(C,T))return;i.selectOption(C);break;case"Enter":if(a.keyCode===229)break;if(v){if(!C||i.isComposing)return;i.selectOption(C);break}return;case"Escape":v?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:h}),i.onMenuClose()):p&&f&&i.clearValue();break;case" ":if(h)return;if(!v){i.openMenu("first");break}if(!C)return;i.selectOption(C);break;case"ArrowUp":v?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":v?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!v)return;i.focusOption("pageup");break;case"PageDown":if(!v)return;i.focusOption("pagedown");break;case"Home":if(!v)return;i.focusOption("first");break;case"End":if(!v)return;i.focusOption("last");break;default:return}a.preventDefault()}},i.instancePrefix="react-select-"+(i.props.instanceId||++HQn),i.state.selectValue=H6(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.buildFocusableOptions(),o=s.indexOf(i.state.selectValue[0]);i.state.focusedOption=s[o]}return i}return $r(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&iIe(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isDisabled,a=s.menuIsOpen,l=this.state.isFocused;(l&&!o&&i.isDisabled||l&&a&&!i.menuIsOpen)&&this.focusInput(),l&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(iIe(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,o=this.state,a=o.selectValue,l=o.isFocused,u=this.buildFocusableOptions(),d=i==="first"?0:u.length-1;if(!this.props.isMulti){var f=u.indexOf(a[0]);f>-1&&(d=f)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d]},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,o=s.selectValue,a=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(a);a||(l=-1);var u=o.length-1,d=-1;if(o.length){switch(i){case"previous":l===0?d=0:l===-1?d=u:d=l-1;break;case"next":l>-1&&l<u&&(d=l+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:o[d]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,u=a.indexOf(o);o||(u=-1),i==="up"?l=u>0?u-1:a.length-1:i==="down"?l=(u+1)%a.length:i==="pageup"?(l=u-s,l<0&&(l=0)):i==="pagedown"?(l=u+s,l>a.length-1&&(l=a.length-1)):i==="last"&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(nz):ln(ln({},nz),this.props.theme):nz}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,o=this.getStyles,a=this.getClassNames,l=this.getValue,u=this.selectOption,d=this.setValue,f=this.props,h=f.isMulti,p=f.isRtl,g=f.options,v=this.hasValue();return{clearValue:i,cx:s,getStyles:o,getClassNames:a,getValue:l,hasValue:v,isMulti:h,isRtl:p,options:g,selectOption:u,selectProps:f,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,o=i.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(i,s){return eJe(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return tJe(this.props,i,s)}},{key:"filterOption",value:function(i,s){return nJe(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:o,selectValue:a})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,o=i.isSearchable,a=i.inputId,l=i.inputValue,u=i.tabIndex,d=i.form,f=i.menuIsOpen,h=i.required,p=this.getComponents(),g=p.Input,v=this.state,y=v.inputIsHidden,x=v.ariaSelection,b=this.commonProps,_=a||this.getElementId("input"),C=ln(ln(ln({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":h,role:"combobox"},f&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(x==null?void 0:x.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?m.createElement(g,nn({},b,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:_,innerRef:this.getInputRef,isDisabled:s,isHidden:y,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:l},C)):m.createElement(wQn,nn({id:_,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:U6,onFocus:this.onInputFocus,disabled:s,tabIndex:u,inputMode:"none",form:d,value:""},C))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),o=s.MultiValue,a=s.MultiValueContainer,l=s.MultiValueLabel,u=s.MultiValueRemove,d=s.SingleValue,f=s.Placeholder,h=this.commonProps,p=this.props,g=p.controlShouldRenderValue,v=p.isDisabled,y=p.isMulti,x=p.inputValue,b=p.placeholder,_=this.state,C=_.selectValue,S=_.focusedValue,T=_.isFocused;if(!this.hasValue()||!g)return x?null:m.createElement(f,nn({},h,{key:"placeholder",isDisabled:v,isFocused:T,innerProps:{id:this.getElementId("placeholder")}}),b);if(y)return C.map(function(k,I){var D=k===S,R="".concat(i.getOptionLabel(k),"-").concat(i.getOptionValue(k));return m.createElement(o,nn({},h,{components:{Container:a,Label:l,Remove:u},isFocused:D,isDisabled:v,key:R,index:I,removeProps:{onClick:function(){return i.removeValue(k)},onTouchEnd:function(){return i.removeValue(k)},onMouseDown:function(L){L.preventDefault()}},data:k}),i.formatOptionLabel(k,"value"))});if(x)return null;var A=C[0];return m.createElement(d,nn({},h,{data:A,isDisabled:v}),this.formatOptionLabel(A,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,d=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||u)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return m.createElement(s,nn({},o,{innerProps:f,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,d=this.state.isFocused;if(!s||!u)return null;var f={"aria-hidden":"true"};return m.createElement(s,nn({},o,{innerProps:f,isDisabled:l,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,o=i.IndicatorSeparator;if(!s||!o)return null;var a=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused;return m.createElement(o,nn({},a,{isDisabled:l,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var o=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return m.createElement(s,nn({},o,{innerProps:u,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),o=s.Group,a=s.GroupHeading,l=s.Menu,u=s.MenuList,d=s.MenuPortal,f=s.LoadingMessage,h=s.NoOptionsMessage,p=s.Option,g=this.commonProps,v=this.state.focusedOption,y=this.props,x=y.captureMenuScroll,b=y.inputValue,_=y.isLoading,C=y.loadingMessage,S=y.minMenuHeight,T=y.maxMenuHeight,A=y.menuIsOpen,k=y.menuPlacement,I=y.menuPosition,D=y.menuPortalTarget,R=y.menuShouldBlockScroll,O=y.menuShouldScrollIntoView,L=y.noOptionsMessage,P=y.onMenuScrollToTop,$=y.onMenuScrollToBottom;if(!A)return null;var B=function(fe,ue){var te=fe.type,F=fe.data,ne=fe.isDisabled,ce=fe.isSelected,me=fe.label,pe=fe.value,Ie=v===F,xe=ne?void 0:function(){return i.onOptionHover(F)},Pe=ne?void 0:function(){return i.selectOption(F)},we="".concat(i.getElementId("option"),"-").concat(ue),De={id:we,onClick:Pe,onMouseMove:xe,onMouseOver:xe,tabIndex:-1};return m.createElement(p,nn({},g,{innerProps:De,data:F,isDisabled:ne,isSelected:ce,key:we,label:me,type:te,value:pe,isFocused:Ie,innerRef:Ie?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(fe.data,"menu"))},Q;if(this.hasOptions())Q=this.getCategorizedOptions().map(function(X){if(X.type==="group"){var fe=X.data,ue=X.options,te=X.index,F="".concat(i.getElementId("group"),"-").concat(te),ne="".concat(F,"-heading");return m.createElement(o,nn({},g,{key:F,data:fe,options:ue,Heading:a,headingProps:{id:ne,data:X.data},label:i.formatGroupLabel(X.data)}),X.options.map(function(ce){return B(ce,"".concat(te,"-").concat(ce.index))}))}else if(X.type==="option")return B(X,"".concat(X.index))});else if(_){var V=C({inputValue:b});if(V===null)return null;Q=m.createElement(f,g,V)}else{var Z=L({inputValue:b});if(Z===null)return null;Q=m.createElement(h,g,Z)}var ie={minMenuHeight:S,maxMenuHeight:T,menuPlacement:k,menuPosition:I,menuShouldScrollIntoView:O},J=m.createElement(eXn,nn({},g,ie),function(X){var fe=X.ref,ue=X.placerProps,te=ue.placement,F=ue.maxHeight;return m.createElement(l,nn({},g,ie,{innerRef:fe,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove,id:i.getElementId("listbox")},isLoading:_,placement:te}),m.createElement(kQn,{captureEnabled:x,onTopArrive:P,onBottomArrive:$,lockEnabled:R},function(ne){return m.createElement(u,nn({},g,{innerRef:function(me){i.getMenuListRef(me),ne(me)},isLoading:_,maxHeight:F,focusedOption:v}),Q)}))});return D||I==="fixed"?m.createElement(d,nn({},g,{appendTo:D,controlElement:this.controlRef,menuPlacement:k,menuPosition:I}),J):J}},{key:"renderFormField",value:function(){var i=this,s=this.props,o=s.delimiter,a=s.isDisabled,l=s.isMulti,u=s.name,d=s.required,f=this.state.selectValue;if(d&&!this.hasValue()&&!a)return m.createElement(DQn,{name:u,onFocus:this.onValueInputFocus});if(!(!u||a))if(l)if(o){var h=f.map(function(v){return i.getOptionValue(v)}).join(o);return m.createElement("input",{name:u,type:"hidden",value:h})}else{var p=f.length>0?f.map(function(v,y){return m.createElement("input",{key:"i-".concat(y),name:u,type:"hidden",value:i.getOptionValue(v)})}):m.createElement("input",{name:u,type:"hidden",value:""});return m.createElement("div",null,p)}else{var g=f[0]?this.getOptionValue(f[0]):"";return m.createElement("input",{name:u,type:"hidden",value:g})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,o=s.ariaSelection,a=s.focusedOption,l=s.focusedValue,u=s.isFocused,d=s.selectValue,f=this.getFocusableOptions();return m.createElement(mQn,nn({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:a,focusedValue:l,isFocused:u,selectValue:d,focusableOptions:f}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,o=i.IndicatorsContainer,a=i.SelectContainer,l=i.ValueContainer,u=this.props,d=u.className,f=u.id,h=u.isDisabled,p=u.menuIsOpen,g=this.state.isFocused,v=this.commonProps=this.getCommonProps();return m.createElement(a,nn({},v,{className:d,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:h,isFocused:g}),this.renderLiveRegion(),m.createElement(s,nn({},v,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:h,isFocused:g,menuIsOpen:p}),m.createElement(l,nn({},v,{isDisabled:h}),this.renderPlaceholderOrValue(),this.renderInput()),m.createElement(o,nn({},v,{isDisabled:h}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=s.prevProps,a=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,u=s.ariaSelection,d=s.isFocused,f=s.prevWasFocused,h=i.options,p=i.value,g=i.menuIsOpen,v=i.inputValue,y=i.isMulti,x=H6(p),b={};if(o&&(p!==o.value||h!==o.options||g!==o.menuIsOpen||v!==o.inputValue)){var _=g?NQn(i,x):[],C=a?VQn(s,x):null,S=UQn(s,_);b={selectValue:x,focusedOption:S,focusedValue:C,clearFocusValueOnUpdate:!1}}var T=l!=null&&i!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},A=u,k=d&&f;return d&&!k&&(A={value:VT(y,x,x[0]||null),options:x,action:"initial-input-focus"},k=!f),(u==null?void 0:u.action)==="initial-input-focus"&&(A=null),ln(ln(ln({},b),T),{},{prevProps:i,ariaSelection:A,prevWasFocused:k})}}]),n}(m.Component);gse.defaultProps=BQn;var zQn=m.forwardRef(function(t,e){var n=CQe(t);return m.createElement(gse,nn({ref:e},n))}),WQn=zQn;const vF=0,Ay=1,SE=2,iJe=4;function sJe(t,e){return n=>t(e(n))}function GQn(t,e){return e(t)}function oJe(t,e){return n=>t(e,n)}function bIe(t,e){return()=>t(e)}function yF(t,e){return e(t),t}function Xs(...t){return t}function qQn(t){t()}function xIe(t){return()=>t}function YQn(...t){return()=>{t.map(qQn)}}function vse(t){return t!==void 0}function TE(){}function Ki(t,e){return t(Ay,e)}function mr(t,e){t(vF,e)}function yse(t){t(SE)}function Ef(t){return t(iJe)}function hn(t,e){return Ki(t,oJe(e,vF))}function b0(t,e){const n=t(Ay,r=>{n(),e(r)});return n}function Xr(){const t=[];return(e,n)=>{switch(e){case SE:t.splice(0,t.length);return;case Ay:return t.push(n),()=>{const r=t.indexOf(n);r>-1&&t.splice(r,1)};case vF:t.slice().forEach(r=>{r(n)});return;default:throw new Error(`unrecognized action ${e}`)}}}function Ot(t){let e=t;const n=Xr();return(r,i)=>{switch(r){case Ay:i(e);break;case vF:e=i;break;case iJe:return e}return n(r,i)}}function KQn(t){let e,n;const r=()=>e&&e();return function(i,s){switch(i){case Ay:return s?n===s?void 0:(r(),n=s,e=Ki(t,s),e):(r(),TE);case SE:r(),n=null;return;default:throw new Error(`unrecognized action ${i}`)}}}function Cd(t){return yF(Xr(),e=>hn(t,e))}function $u(t,e){return yF(Ot(e),n=>hn(t,n))}function ZQn(...t){return e=>t.reduceRight(GQn,e)}function ft(t,...e){const n=ZQn(...e);return(r,i)=>{switch(r){case Ay:return Ki(t,n(i));case SE:yse(t);return}}}function aJe(t,e){return t===e}function Gs(t=aJe){let e;return n=>r=>{t(e,r)||(e=r,n(r))}}function Gn(t){return e=>n=>{t(n)&&e(n)}}function Xt(t){return e=>sJe(e,t)}function kg(t){return e=>()=>e(t)}function Qp(t,e){return n=>r=>n(e=t(e,r))}function hC(t){return e=>n=>{t>0?t--:e(n)}}function iv(t){let e=null,n;return r=>i=>{e=i,!n&&(n=setTimeout(()=>{n=void 0,r(e)},t))}}function wIe(t){let e,n;return r=>i=>{e=i,n&&clearTimeout(n),n=setTimeout(()=>{r(e)},t)}}function Ar(...t){const e=new Array(t.length);let n=0,r=null;const i=Math.pow(2,t.length)-1;return t.forEach((s,o)=>{const a=Math.pow(2,o);Ki(s,l=>{const u=n;n=n|a,e[o]=l,u!==i&&n===i&&r&&(r(),r=null)})}),s=>o=>{const a=()=>s([o].concat(e));n===i?a():r=a}}function _Ie(...t){return function(e,n){switch(e){case Ay:return YQn(...t.map(r=>Ki(r,n)));case SE:return;default:throw new Error(`unrecognized action ${e}`)}}}function Wn(t,e=aJe){return ft(t,Gs(e))}function tl(...t){const e=Xr(),n=new Array(t.length);let r=0;const i=Math.pow(2,t.length)-1;return t.forEach((s,o)=>{const a=Math.pow(2,o);Ki(s,l=>{n[o]=l,r=r|a,r===i&&mr(e,n)})}),function(s,o){switch(s){case Ay:return r===i&&o(n),Ki(e,o);case SE:return yse(e);default:throw new Error(`unrecognized action ${s}`)}}}function Ui(t,e=[],{singleton:n}={singleton:!0}){return{id:XQn(),constructor:t,dependencies:e,singleton:n}}const XQn=()=>Symbol();function QQn(t){const e=new Map,n=({id:r,constructor:i,dependencies:s,singleton:o})=>{if(o&&e.has(r))return e.get(r);const a=i(s.map(l=>n(l)));return o&&e.set(r,a),a};return n(t)}function JQn(t,e){const n={},r={};let i=0;const s=t.length;for(;i<s;)r[t[i]]=1,i+=1;for(const o in e)r.hasOwnProperty(o)||(n[o]=e[o]);return n}const sj=typeof document<"u"?re.useLayoutEffect:re.useEffect;function lJe(t,e,n){const r=Object.keys(e.required||{}),i=Object.keys(e.optional||{}),s=Object.keys(e.methods||{}),o=Object.keys(e.events||{}),a=re.createContext({});function l(v,y){v.propsReady&&mr(v.propsReady,!1);for(const x of r){const b=v[e.required[x]];mr(b,y[x])}for(const x of i)if(x in y){const b=v[e.optional[x]];mr(b,y[x])}v.propsReady&&mr(v.propsReady,!0)}function u(v){return s.reduce((y,x)=>(y[x]=b=>{const _=v[e.methods[x]];mr(_,b)},y),{})}function d(v){return o.reduce((y,x)=>(y[x]=KQn(v[e.events[x]]),y),{})}return{Component:re.forwardRef((v,y)=>{const{children:x,...b}=v,[_]=re.useState(()=>yF(QQn(t),S=>l(S,b))),[C]=re.useState(bIe(d,_));return sj(()=>{for(const S of o)S in b&&Ki(C[S],b[S]);return()=>{Object.values(C).map(yse)}},[b,C,_]),sj(()=>{l(_,b)}),re.useImperativeHandle(y,xIe(u(_))),re.createElement(a.Provider,{value:_},n?re.createElement(n,JQn([...r,...i,...o],b),x):x)}),usePublisher:v=>re.useCallback(oJe(mr,re.useContext(a)[v]),[v]),useEmitterValue:v=>{const x=re.useContext(a)[v],[b,_]=re.useState(bIe(Ef,x));return sj(()=>Ki(x,C=>{C!==b&&_(xIe(C))}),[x,b]),b},useEmitter:(v,y)=>{const b=re.useContext(a)[v];sj(()=>Ki(b,y),[y,b])}}}const eJn=typeof document<"u"?re.useLayoutEffect:re.useEffect,tJn=eJn;var Ed=(t=>(t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.WARN=2]="WARN",t[t.ERROR=3]="ERROR",t))(Ed||{});const nJn={0:"debug",1:"log",2:"warn",3:"error"},rJn=()=>typeof globalThis>"u"?window:globalThis,Iy=Ui(()=>{const t=Ot(3);return{log:Ot((n,r,i=1)=>{var s;const o=(s=rJn().VIRTUOSO_LOG_LEVEL)!=null?s:Ef(t);i>=o&&console[nJn[i]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",n,r)}),logLevel:t}},[],{singleton:!0});function bse(t,e=!0){const n=re.useRef(null);let r=i=>{};if(typeof ResizeObserver<"u"){const i=re.useMemo(()=>new ResizeObserver(s=>{const o=s[0].target;o.offsetParent!==null&&t(o)}),[t]);r=s=>{s&&e?(i.observe(s),n.current=s):(n.current&&i.unobserve(n.current),n.current=null)}}return{ref:n,callbackRef:r}}function Dw(t,e=!0){return bse(t,e).callbackRef}function iJn(t,e,n,r,i,s,o){const a=re.useCallback(l=>{const u=sJn(l.children,e,"offsetHeight",i);let d=l.parentElement;for(;!d.dataset.virtuosoScroller;)d=d.parentElement;const f=d.lastElementChild.dataset.viewportType==="window",h=o?o.scrollTop:f?window.pageYOffset||document.documentElement.scrollTop:d.scrollTop,p=o?o.scrollHeight:f?document.documentElement.scrollHeight:d.scrollHeight,g=o?o.offsetHeight:f?window.innerHeight:d.offsetHeight;r({scrollTop:Math.max(h,0),scrollHeight:p,viewportHeight:g}),s==null||s(oJn("row-gap",getComputedStyle(l).rowGap,i)),u!==null&&t(u)},[t,e,i,s,o,r]);return bse(a,n)}function sJn(t,e,n,r){const i=t.length;if(i===0)return null;const s=[];for(let o=0;o<i;o++){const a=t.item(o);if(!a||a.dataset.index===void 0)continue;const l=parseInt(a.dataset.index),u=parseFloat(a.dataset.knownSize),d=e(a,n);if(d===0&&r("Zero-sized element, this should not happen",{child:a},Ed.ERROR),d===u)continue;const f=s[s.length-1];s.length===0||f.size!==d||f.endIndex!==l-1?s.push({startIndex:l,endIndex:l,size:d}):s[s.length-1].endIndex++}return s}function oJn(t,e,n){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&n(`${t} was not resolved to pixel value correctly`,e,Ed.WARN),e==="normal"?0:parseInt(e??"0",10)}function Qv(t,e){return Math.round(t.getBoundingClientRect()[e])}function uJe(t,e){return Math.abs(t-e)<1.01}function cJe(t,e,n,r=TE,i){const s=re.useRef(null),o=re.useRef(null),a=re.useRef(null),l=re.useCallback(f=>{const h=f.target,p=h===window||h===document,g=p?window.pageYOffset||document.documentElement.scrollTop:h.scrollTop,v=p?document.documentElement.scrollHeight:h.scrollHeight,y=p?window.innerHeight:h.offsetHeight,x=()=>{t({scrollTop:Math.max(g,0),scrollHeight:v,viewportHeight:y})};f.suppressFlushSync?x():M7e.flushSync(x),o.current!==null&&(g===o.current||g<=0||g===v-y)&&(o.current=null,e(!0),a.current&&(clearTimeout(a.current),a.current=null))},[t,e]);re.useEffect(()=>{const f=i||s.current;return r(i||s.current),l({target:f,suppressFlushSync:!0}),f.addEventListener("scroll",l,{passive:!0}),()=>{r(null),f.removeEventListener("scroll",l)}},[s,l,n,r,i]);function u(f){const h=s.current;if(!h||"offsetHeight"in h&&h.offsetHeight===0)return;const p=f.behavior==="smooth";let g,v,y;h===window?(v=Math.max(Qv(document.documentElement,"height"),document.documentElement.scrollHeight),g=window.innerHeight,y=document.documentElement.scrollTop):(v=h.scrollHeight,g=Qv(h,"height"),y=h.scrollTop);const x=v-g;if(f.top=Math.ceil(Math.max(Math.min(x,f.top),0)),uJe(g,v)||f.top===y){t({scrollTop:y,scrollHeight:v,viewportHeight:g}),p&&e(!0);return}p?(o.current=f.top,a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{a.current=null,o.current=null,e(!0)},1e3)):o.current=null,h.scrollTo(f)}function d(f){s.current.scrollBy(f)}return{scrollerRef:s,scrollByCallback:d,scrollToCallback:u}}const tc=Ui(()=>{const t=Xr(),e=Xr(),n=Ot(0),r=Xr(),i=Ot(0),s=Xr(),o=Xr(),a=Ot(0),l=Ot(0),u=Ot(0),d=Ot(0),f=Xr(),h=Xr(),p=Ot(!1);return hn(ft(t,Xt(({scrollTop:g})=>g)),e),hn(ft(t,Xt(({scrollHeight:g})=>g)),o),hn(e,i),{scrollContainerState:t,scrollTop:e,viewportHeight:s,headerHeight:a,fixedHeaderHeight:l,fixedFooterHeight:u,footerHeight:d,scrollHeight:o,smoothScrollTargetReached:r,scrollTo:f,scrollBy:h,statefulScrollTop:i,deviation:n,scrollingInProgress:p}},[],{singleton:!0}),m3={lvl:0};function dJe(t,e,n,r=m3,i=m3){return{k:t,v:e,lvl:n,l:r,r:i}}function os(t){return t===m3}function w_(){return m3}function OK(t,e){if(os(t))return m3;const{k:n,l:r,r:i}=t;if(e===n){if(os(r))return i;if(os(i))return r;{const[s,o]=fJe(r);return cL(Aa(t,{k:s,v:o,l:hJe(r)}))}}else return e<n?cL(Aa(t,{l:OK(r,e)})):cL(Aa(t,{r:OK(i,e)}))}function g3(t,e){if(!os(t))return e===t.k?t.v:e<t.k?g3(t.l,e):g3(t.r,e)}function Wh(t,e,n="k"){if(os(t))return[-1/0,void 0];if(Number(t[n])===e)return[t.k,t.v];if(Number(t[n])<e){const r=Wh(t.r,e,n);return r[0]===-1/0?[t.k,t.v]:r}return Wh(t.l,e,n)}function vd(t,e,n){return os(t)?dJe(e,n,1):e===t.k?Aa(t,{k:e,v:n}):e<t.k?CIe(Aa(t,{l:vd(t.l,e,n)})):CIe(Aa(t,{r:vd(t.r,e,n)}))}function LK(t,e,n){if(os(t))return[];const{k:r,v:i,l:s,r:o}=t;let a=[];return r>e&&(a=a.concat(LK(s,e,n))),r>=e&&r<=n&&a.push({k:r,v:i}),r<=n&&(a=a.concat(LK(o,e,n))),a}function ix(t){return os(t)?[]:[...ix(t.l),{k:t.k,v:t.v},...ix(t.r)]}function fJe(t){return os(t.r)?[t.k,t.v]:fJe(t.r)}function hJe(t){return os(t.r)?t.l:cL(Aa(t,{r:hJe(t.r)}))}function Aa(t,e){return dJe(e.k!==void 0?e.k:t.k,e.v!==void 0?e.v:t.v,e.lvl!==void 0?e.lvl:t.lvl,e.l!==void 0?e.l:t.l,e.r!==void 0?e.r:t.r)}function rz(t){return os(t)||t.lvl>t.r.lvl}function CIe(t){return PK(mJe(t))}function cL(t){const{l:e,r:n,lvl:r}=t;if(n.lvl>=r-1&&e.lvl>=r-1)return t;if(r>n.lvl+1){if(rz(e))return mJe(Aa(t,{lvl:r-1}));if(!os(e)&&!os(e.r))return Aa(e.r,{l:Aa(e,{r:e.r.l}),r:Aa(t,{l:e.r.r,lvl:r-1}),lvl:r});throw new Error("Unexpected empty nodes")}else{if(rz(t))return PK(Aa(t,{lvl:r-1}));if(!os(n)&&!os(n.l)){const i=n.l,s=rz(i)?n.lvl-1:n.lvl;return Aa(i,{l:Aa(t,{r:i.l,lvl:r-1}),r:PK(Aa(n,{l:i.r,lvl:s})),lvl:i.lvl+1})}else throw new Error("Unexpected empty nodes")}}function bF(t,e,n){if(os(t))return[];const r=Wh(t,e)[0];return aJn(LK(t,r,n))}function pJe(t,e){const n=t.length;if(n===0)return[];let{index:r,value:i}=e(t[0]);const s=[];for(let o=1;o<n;o++){const{index:a,value:l}=e(t[o]);s.push({start:r,end:a-1,value:i}),r=a,i=l}return s.push({start:r,end:1/0,value:i}),s}function aJn(t){return pJe(t,({k:e,v:n})=>({index:e,value:n}))}function PK(t){const{r:e,lvl:n}=t;return!os(e)&&!os(e.r)&&e.lvl===n&&e.r.lvl===n?Aa(e,{l:Aa(t,{r:e.l}),lvl:n+1}):t}function mJe(t){const{l:e}=t;return!os(e)&&e.lvl===t.lvl?Aa(e,{r:Aa(t,{l:e.r})}):t}function G6(t,e,n,r=0){let i=t.length-1;for(;r<=i;){const s=Math.floor((r+i)/2),o=t[s],a=n(o,e);if(a===0)return s;if(a===-1){if(i-r<2)return s-1;i=s-1}else{if(i===r)return s;r=s+1}}throw new Error(`Failed binary finding record in array - ${t.join(",")}, searched for ${e}`)}function gJe(t,e,n){return t[G6(t,e,n)]}function lJn(t,e,n,r){const i=G6(t,e,r),s=G6(t,n,r,i);return t.slice(i,s+1)}const xse=Ui(()=>({recalcInProgress:Ot(!1)}),[],{singleton:!0});function uJn(t){const{size:e,startIndex:n,endIndex:r}=t;return i=>i.start===n&&(i.end===r||i.end===1/0)&&i.value===e}function EIe(t,e){let n=0,r=0;for(;n<t;)n+=e[r+1]-e[r]-1,r++;return r-(n===t?0:1)}function cJn(t,e){let n=os(t)?0:1/0;for(const r of e){const{size:i,startIndex:s,endIndex:o}=r;if(n=Math.min(n,s),os(t)){t=vd(t,0,i);continue}const a=bF(t,s-1,o+1);if(a.some(uJn(r)))continue;let l=!1,u=!1;for(const{start:d,end:f,value:h}of a)l?(o>=d||i===h)&&(t=OK(t,d)):(u=h!==i,l=!0),f>o&&o>=d&&h!==i&&(t=vd(t,o+1,h));u&&(t=vd(t,s,i))}return[t,n]}function dJn(){return{offsetTree:[],sizeTree:w_(),groupOffsetTree:w_(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]}}function wse({index:t},e){return e===t?0:e<t?-1:1}function fJn({offset:t},e){return e===t?0:e<t?-1:1}function hJn(t){return{index:t.index,value:t}}function pJn(t,e,n,r=0){return r>0&&(e=Math.max(e,gJe(t,r,wse).offset)),pJe(lJn(t,e,n,fJn),hJn)}function MK(t,e,n,r){let i=t,s=0,o=0,a=0,l=0;if(e!==0){l=G6(i,e-1,wse),a=i[l].offset;const d=Wh(n,e-1);s=d[0],o=d[1],i.length&&i[l].size===Wh(n,e)[1]&&(l-=1),i=i.slice(0,l+1)}else i=[];for(const{start:u,value:d}of bF(n,e,1/0)){const f=u-s,h=f*o+a+f*r;i.push({offset:h,size:d,index:u}),s=u,a=h,o=d}return{offsetTree:i,lastIndex:s,lastOffset:a,lastSize:o}}function mJn(t,[e,n,r,i]){e.length>0&&r("received item sizes",e,Ed.DEBUG);const s=t.sizeTree;let o=s,a=0;if(n.length>0&&os(s)&&e.length===2){const h=e[0].size,p=e[1].size;o=n.reduce((g,v)=>vd(vd(g,v,h),v+1,p),o)}else[o,a]=cJn(o,e);if(o===s)return t;const{offsetTree:l,lastIndex:u,lastSize:d,lastOffset:f}=MK(t.offsetTree,a,o,i);return{sizeTree:o,offsetTree:l,lastIndex:u,lastOffset:f,lastSize:d,groupOffsetTree:n.reduce((h,p)=>vd(h,p,v3(p,l,i)),w_()),groupIndices:n}}function v3(t,e,n){if(e.length===0)return 0;const{offset:r,index:i,size:s}=gJe(e,t,wse),o=t-i,a=s*o+(o-1)*n+r;return a>0?a+n:a}function gJn(t){return typeof t.groupIndex<"u"}function vJe(t,e,n){if(gJn(t))return e.groupIndices[t.groupIndex]+1;{const r=t.index==="LAST"?n:t.index;let i=yJe(r,e);return i=Math.max(0,i,Math.min(n,i)),i}}function yJe(t,e){if(!xF(e))return t;let n=0;for(;e.groupIndices[n]<=t+n;)n++;return t+n}function xF(t){return!os(t.groupOffsetTree)}function vJn(t){return ix(t).map(({k:e,v:n},r,i)=>{const s=i[r+1],o=s?s.k-1:1/0;return{startIndex:e,endIndex:o,size:n}})}const yJn={offsetHeight:"height",offsetWidth:"width"},Bm=Ui(([{log:t},{recalcInProgress:e}])=>{const n=Xr(),r=Xr(),i=$u(r,0),s=Xr(),o=Xr(),a=Ot(0),l=Ot([]),u=Ot(void 0),d=Ot(void 0),f=Ot((S,T)=>Qv(S,yJn[T])),h=Ot(void 0),p=Ot(0),g=dJn(),v=$u(ft(n,Ar(l,t,p),Qp(mJn,g),Gs()),g),y=$u(ft(l,Gs(),Qp((S,T)=>({prev:S.current,current:T}),{prev:[],current:[]}),Xt(({prev:S})=>S)),[]);hn(ft(l,Gn(S=>S.length>0),Ar(v,p),Xt(([S,T,A])=>{const k=S.reduce((I,D,R)=>vd(I,D,v3(D,T.offsetTree,A)||R),w_());return{...T,groupIndices:S,groupOffsetTree:k}})),v),hn(ft(r,Ar(v),Gn(([S,{lastIndex:T}])=>S<T),Xt(([S,{lastIndex:T,lastSize:A}])=>[{startIndex:S,endIndex:T,size:A}])),n),hn(u,d);const x=$u(ft(u,Xt(S=>S===void 0)),!0);hn(ft(d,Gn(S=>S!==void 0&&os(Ef(v).sizeTree)),Xt(S=>[{startIndex:0,endIndex:0,size:S}])),n);const b=Cd(ft(n,Ar(v),Qp(({sizes:S},[T,A])=>({changed:A!==S,sizes:A}),{changed:!1,sizes:g}),Xt(S=>S.changed)));Ki(ft(a,Qp((S,T)=>({diff:S.prev-T,prev:T}),{diff:0,prev:0}),Xt(S=>S.diff)),S=>{const{groupIndices:T}=Ef(v);if(S>0)mr(e,!0),mr(s,S+EIe(S,T));else if(S<0){const A=Ef(y);A.length>0&&(S-=EIe(-S,A)),mr(o,S)}}),Ki(ft(a,Ar(t)),([S,T])=>{S<0&&T("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:a},Ed.ERROR)});const _=Cd(s);hn(ft(s,Ar(v),Xt(([S,T])=>{const A=T.groupIndices.length>0,k=[],I=T.lastSize;if(A){const D=g3(T.sizeTree,0);let R=0,O=0;for(;R<S;){const $=T.groupIndices[O],B=T.groupIndices.length===O+1?1/0:T.groupIndices[O+1]-$-1;k.push({startIndex:$,endIndex:$,size:D}),k.push({startIndex:$+1,endIndex:$+1+B-1,size:I}),O++,R+=B+1}const L=ix(T.sizeTree);return R!==S&&L.shift(),L.reduce(($,{k:B,v:Q})=>{let V=$.ranges;return $.prevSize!==0&&(V=[...$.ranges,{startIndex:$.prevIndex,endIndex:B+S-1,size:$.prevSize}]),{ranges:V,prevIndex:B+S,prevSize:Q}},{ranges:k,prevIndex:S,prevSize:0}).ranges}return ix(T.sizeTree).reduce((D,{k:R,v:O})=>({ranges:[...D.ranges,{startIndex:D.prevIndex,endIndex:R+S-1,size:D.prevSize}],prevIndex:R+S,prevSize:O}),{ranges:[],prevIndex:0,prevSize:I}).ranges})),n);const C=Cd(ft(o,Ar(v,p),Xt(([S,{offsetTree:T},A])=>{const k=-S;return v3(k,T,A)})));return hn(ft(o,Ar(v,p),Xt(([S,T,A])=>{if(T.groupIndices.length>0){if(os(T.sizeTree))return T;let I=w_();const D=Ef(y);let R=0,O=0,L=0;for(;R<-S;){L=D[O];const $=D[O+1]-L-1;O++,R+=$+1}if(I=ix(T.sizeTree).reduce(($,{k:B,v:Q})=>vd($,Math.max(0,B+S),Q),I),R!==-S){const $=g3(T.sizeTree,L);I=vd(I,0,$);const B=Wh(T.sizeTree,-S+1)[1];I=vd(I,1,B)}return{...T,sizeTree:I,...MK(T.offsetTree,0,I,A)}}else{const I=ix(T.sizeTree).reduce((D,{k:R,v:O})=>vd(D,Math.max(0,R+S),O),w_());return{...T,sizeTree:I,...MK(T.offsetTree,0,I,A)}}})),v),{data:h,totalCount:r,sizeRanges:n,groupIndices:l,defaultItemSize:d,fixedItemSize:u,unshiftWith:s,shiftWith:o,shiftWithOffset:C,beforeUnshiftWith:_,firstItemIndex:a,gap:p,sizes:v,listRefresh:b,statefulTotalCount:i,trackItemSizes:x,itemSize:f}},Xs(Iy,xse),{singleton:!0}),bJn=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function bJe(t){const e=typeof t=="number"?{index:t}:t;return e.align||(e.align="start"),(!e.behavior||!bJn)&&(e.behavior="auto"),e.offset||(e.offset=0),e}const pD=Ui(([{sizes:t,totalCount:e,listRefresh:n,gap:r},{scrollingInProgress:i,viewportHeight:s,scrollTo:o,smoothScrollTargetReached:a,headerHeight:l,footerHeight:u,fixedHeaderHeight:d,fixedFooterHeight:f},{log:h}])=>{const p=Xr(),g=Ot(0);let v=null,y=null,x=null;function b(){v&&(v(),v=null),x&&(x(),x=null),y&&(clearTimeout(y),y=null),mr(i,!1)}return hn(ft(p,Ar(t,s,e,g,l,u,h),Ar(r,d,f),Xt(([[_,C,S,T,A,k,I,D],R,O,L])=>{const P=bJe(_),{align:$,behavior:B,offset:Q}=P,V=T-1,Z=vJe(P,C,V);let ie=v3(Z,C.offsetTree,R)+k;$==="end"?(ie+=O+Wh(C.sizeTree,Z)[1]-S+L,Z===V&&(ie+=I)):$==="center"?ie+=(O+Wh(C.sizeTree,Z)[1]-S+L)/2:ie-=A,Q&&(ie+=Q);const J=X=>{b(),X?(D("retrying to scroll to",{location:_},Ed.DEBUG),mr(p,_)):D("list did not change, scroll successful",{},Ed.DEBUG)};if(b(),B==="smooth"){let X=!1;x=Ki(n,fe=>{X=X||fe}),v=b0(a,()=>{J(X)})}else v=b0(ft(n,xJn(150)),J);return y=setTimeout(()=>{b()},1200),mr(i,!0),D("scrolling from index to",{index:Z,top:ie,behavior:B},Ed.DEBUG),{top:ie,behavior:B}})),o),{scrollToIndex:p,topListHeight:g}},Xs(Bm,tc,Iy),{singleton:!0});function xJn(t){return e=>{const n=setTimeout(()=>{e(!1)},t);return r=>{r&&(e(!0),clearTimeout(n))}}}const y3="up",Uk="down",wJn="none",_Jn={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},CJn=0,mD=Ui(([{scrollContainerState:t,scrollTop:e,viewportHeight:n,headerHeight:r,footerHeight:i,scrollBy:s}])=>{const o=Ot(!1),a=Ot(!0),l=Xr(),u=Xr(),d=Ot(4),f=Ot(CJn),h=$u(ft(_Ie(ft(Wn(e),hC(1),kg(!0)),ft(Wn(e),hC(1),kg(!1),wIe(100))),Gs()),!1),p=$u(ft(_Ie(ft(s,kg(!0)),ft(s,kg(!1),wIe(200))),Gs()),!1);hn(ft(tl(Wn(e),Wn(f)),Xt(([b,_])=>b<=_),Gs()),a),hn(ft(a,iv(50)),u);const g=Cd(ft(tl(t,Wn(n),Wn(r),Wn(i),Wn(d)),Qp((b,[{scrollTop:_,scrollHeight:C},S,T,A,k])=>{const I=_+S-C>-k,D={viewportHeight:S,scrollTop:_,scrollHeight:C};if(I){let O,L;return _>b.state.scrollTop?(O="SCROLLED_DOWN",L=b.state.scrollTop-_):(O="SIZE_DECREASED",L=b.state.scrollTop-_||b.scrollTopDelta),{atBottom:!0,state:D,atBottomBecause:O,scrollTopDelta:L}}let R;return D.scrollHeight>b.state.scrollHeight?R="SIZE_INCREASED":S<b.state.viewportHeight?R="VIEWPORT_HEIGHT_DECREASING":_<b.state.scrollTop?R="SCROLLING_UPWARDS":R="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:R,state:D}},_Jn),Gs((b,_)=>b&&b.atBottom===_.atBottom))),v=$u(ft(t,Qp((b,{scrollTop:_,scrollHeight:C,viewportHeight:S})=>{if(uJe(b.scrollHeight,C))return{scrollTop:_,scrollHeight:C,jump:0,changed:!1};{const T=C-(_+S)<1;return b.scrollTop!==_&&T?{scrollHeight:C,scrollTop:_,jump:b.scrollTop-_,changed:!0}:{scrollHeight:C,scrollTop:_,jump:0,changed:!0}}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),Gn(b=>b.changed),Xt(b=>b.jump)),0);hn(ft(g,Xt(b=>b.atBottom)),o),hn(ft(o,iv(50)),l);const y=Ot(Uk);hn(ft(t,Xt(({scrollTop:b})=>b),Gs(),Qp((b,_)=>Ef(p)?{direction:b.direction,prevScrollTop:_}:{direction:_<b.prevScrollTop?y3:Uk,prevScrollTop:_},{direction:Uk,prevScrollTop:0}),Xt(b=>b.direction)),y),hn(ft(t,iv(50),kg(wJn)),y);const x=Ot(0);return hn(ft(h,Gn(b=>!b),kg(0)),x),hn(ft(e,iv(100),Ar(h),Gn(([b,_])=>!!_),Qp(([b,_],[C])=>[_,C],[0,0]),Xt(([b,_])=>_-b)),x),{isScrolling:h,isAtTop:a,isAtBottom:o,atBottomState:g,atTopStateChange:u,atBottomStateChange:l,scrollDirection:y,atBottomThreshold:d,atTopThreshold:f,scrollVelocity:x,lastJumpDueToItemResize:v}},Xs(tc)),Dy=Ui(([{log:t}])=>{const e=Ot(!1),n=Cd(ft(e,Gn(r=>r),Gs()));return Ki(e,r=>{r&&Ef(t)("props updated",{},Ed.DEBUG)}),{propsReady:e,didMount:n}},Xs(Iy),{singleton:!0});function _se(t,e){t==0?e():requestAnimationFrame(()=>_se(t-1,e))}function Cse(t,e){const n=e-1;return typeof t=="number"?t:t.index==="LAST"?n:t.index}const gD=Ui(([{sizes:t,listRefresh:e,defaultItemSize:n},{scrollTop:r},{scrollToIndex:i},{didMount:s}])=>{const o=Ot(!0),a=Ot(0),l=Ot(!1);return hn(ft(s,Ar(a),Gn(([u,d])=>!!d),kg(!1)),o),Ki(ft(tl(e,s),Ar(o,t,n,l),Gn(([[,u],d,{sizeTree:f},h,p])=>u&&(!os(f)||vse(h))&&!d&&!p),Ar(a)),([,u])=>{mr(l,!0),_se(3,()=>{b0(r,()=>mr(o,!0)),mr(i,u)})}),{scrolledToInitialItem:o,initialTopMostItemIndex:a}},Xs(Bm,tc,pD,Dy),{singleton:!0});function SIe(t){return t?t==="smooth"?"smooth":"auto":!1}const EJn=(t,e)=>typeof t=="function"?SIe(t(e)):e&&SIe(t),SJn=Ui(([{totalCount:t,listRefresh:e},{isAtBottom:n,atBottomState:r},{scrollToIndex:i},{scrolledToInitialItem:s},{propsReady:o,didMount:a},{log:l},{scrollingInProgress:u}])=>{const d=Ot(!1),f=Xr();let h=null;function p(v){mr(i,{index:"LAST",align:"end",behavior:v})}Ki(ft(tl(ft(Wn(t),hC(1)),a),Ar(Wn(d),n,s,u),Xt(([[v,y],x,b,_,C])=>{let S=y&&_,T="auto";return S&&(T=EJn(x,b||C),S=S&&!!T),{totalCount:v,shouldFollow:S,followOutputBehavior:T}}),Gn(({shouldFollow:v})=>v)),({totalCount:v,followOutputBehavior:y})=>{h&&(h(),h=null),h=b0(e,()=>{Ef(l)("following output to ",{totalCount:v},Ed.DEBUG),p(y),h=null})});function g(v){const y=b0(r,x=>{v&&!x.atBottom&&x.notAtBottomBecause==="SIZE_INCREASED"&&!h&&(Ef(l)("scrolling to bottom due to increased size",{},Ed.DEBUG),p("auto"))});setTimeout(y,100)}return Ki(ft(tl(Wn(d),t,o),Gn(([v,,y])=>v&&y),Qp(({value:v},[,y])=>({refreshed:v===y,value:y}),{refreshed:!1,value:0}),Gn(({refreshed:v})=>v),Ar(d,t)),([,v])=>{g(v!==!1)}),Ki(f,()=>{g(Ef(d)!==!1)}),Ki(tl(Wn(d),r),([v,y])=>{v&&!y.atBottom&&y.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&p("auto")}),{followOutput:d,autoscrollToBottom:f}},Xs(Bm,mD,pD,gD,Dy,Iy,tc));function TJn(t){return t.reduce((e,n)=>(e.groupIndices.push(e.totalCount),e.totalCount+=n+1,e),{totalCount:0,groupIndices:[]})}const xJe=Ui(([{totalCount:t,groupIndices:e,sizes:n},{scrollTop:r,headerHeight:i}])=>{const s=Xr(),o=Xr(),a=Cd(ft(s,Xt(TJn)));return hn(ft(a,Xt(l=>l.totalCount)),t),hn(ft(a,Xt(l=>l.groupIndices)),e),hn(ft(tl(r,n,i),Gn(([l,u])=>xF(u)),Xt(([l,u,d])=>Wh(u.groupOffsetTree,Math.max(l-d,0),"v")[0]),Gs(),Xt(l=>[l])),o),{groupCounts:s,topItemsIndexes:o}},Xs(Bm,tc));function b3(t,e){return!!(t&&t[0]===e[0]&&t[1]===e[1])}function wJe(t,e){return!!(t&&t.startIndex===e.startIndex&&t.endIndex===e.endIndex)}const q6="top",Y6="bottom",TIe="none";function kIe(t,e,n){return typeof t=="number"?n===y3&&e===q6||n===Uk&&e===Y6?t:0:n===y3?e===q6?t.main:t.reverse:e===Y6?t.main:t.reverse}function AIe(t,e){return typeof t=="number"?t:t[e]||0}const Ese=Ui(([{scrollTop:t,viewportHeight:e,deviation:n,headerHeight:r,fixedHeaderHeight:i}])=>{const s=Xr(),o=Ot(0),a=Ot(0),l=Ot(0),u=$u(ft(tl(Wn(t),Wn(e),Wn(r),Wn(s,b3),Wn(l),Wn(o),Wn(i),Wn(n),Wn(a)),Xt(([d,f,h,[p,g],v,y,x,b,_])=>{const C=d-b,S=y+x,T=Math.max(h-C,0);let A=TIe;const k=AIe(_,q6),I=AIe(_,Y6);return p-=b,p+=h+x,g+=h+x,g-=b,p>d+S-k&&(A=y3),g<d-T+f+I&&(A=Uk),A!==TIe?[Math.max(C-h-kIe(v,q6,A)-k,0),C-T-x+f+kIe(v,Y6,A)+I]:null}),Gn(d=>d!=null),Gs(b3)),[0,0]);return{listBoundary:s,overscan:l,topListHeight:o,increaseViewportBy:a,visibleRange:u}},Xs(tc),{singleton:!0});function kJn(t,e,n){if(xF(e)){const r=yJe(t,e);return[{index:Wh(e.groupOffsetTree,r)[0],size:0,offset:0},{index:r,size:0,offset:0,data:n&&n[0]}]}return[{index:t,size:0,offset:0,data:n&&n[0]}]}const IIe={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function DIe(t,e,n){if(t.length===0)return[];if(!xF(e))return t.map(u=>({...u,index:u.index+n,originalIndex:u.index}));const r=t[0].index,i=t[t.length-1].index,s=[],o=bF(e.groupOffsetTree,r,i);let a,l=0;for(const u of t){(!a||a.end<u.index)&&(a=o.shift(),l=e.groupIndices.indexOf(a.start));let d;u.index===a.start?d={type:"group",index:l}:d={index:u.index-(l+1)+n,groupIndex:l},s.push({...d,size:u.size,offset:u.offset,originalIndex:u.index,data:u.data})}return s}function dL(t,e,n,r,i,s){const{lastSize:o,lastOffset:a,lastIndex:l}=i;let u=0,d=0;if(t.length>0){u=t[0].offset;const v=t[t.length-1];d=v.offset+v.size}const f=n-l,h=a+f*o+(f-1)*r,p=u,g=h-d;return{items:DIe(t,i,s),topItems:DIe(e,i,s),topListHeight:e.reduce((v,y)=>y.size+v,0),offsetTop:u,offsetBottom:g,top:p,bottom:d,totalCount:n,firstItemIndex:s}}const Rw=Ui(([{sizes:t,totalCount:e,data:n,firstItemIndex:r,gap:i},s,{visibleRange:o,listBoundary:a,topListHeight:l},{scrolledToInitialItem:u,initialTopMostItemIndex:d},{topListHeight:f},h,{didMount:p},{recalcInProgress:g}])=>{const v=Ot([]),y=Xr();hn(s.topItemsIndexes,v);const x=$u(ft(tl(p,g,Wn(o,b3),Wn(e),Wn(t),Wn(d),u,Wn(v),Wn(r),Wn(i),n),Gn(([S,T,,A,,,,,,,k])=>{const I=k&&k.length!==A;return S&&!T&&!I}),Xt(([,,[S,T],A,k,I,D,R,O,L,P])=>{const $=k,{sizeTree:B,offsetTree:Q}=$;if(A===0||S===0&&T===0)return{...IIe,totalCount:A};if(os(B))return dL(kJn(Cse(I,A),$,P),[],A,L,$,O);const V=[];if(R.length>0){const fe=R[0],ue=R[R.length-1];let te=0;for(const F of bF(B,fe,ue)){const ne=F.value,ce=Math.max(F.start,fe),me=Math.min(F.end,ue);for(let pe=ce;pe<=me;pe++)V.push({index:pe,size:ne,offset:te,data:P&&P[pe]}),te+=ne}}if(!D)return dL([],V,A,L,$,O);const Z=R.length>0?R[R.length-1]+1:0,ie=pJn(Q,S,T,Z);if(ie.length===0)return null;const J=A-1,X=yF([],fe=>{for(const ue of ie){const te=ue.value;let F=te.offset,ne=ue.start;const ce=te.size;if(te.offset<S){ne+=Math.floor((S-te.offset+L)/(ce+L));const pe=ne-ue.start;F+=pe*ce+pe*L}ne<Z&&(F+=(Z-ne)*ce,ne=Z);const me=Math.min(ue.end,J);for(let pe=ne;pe<=me&&!(F>=T);pe++)fe.push({index:pe,size:ce,offset:F,data:P&&P[pe]}),F+=ce+L}});return dL(X,V,A,L,$,O)}),Gn(S=>S!==null),Gs()),IIe);hn(ft(n,Gn(vse),Xt(S=>S==null?void 0:S.length)),e),hn(ft(x,Xt(S=>S.topListHeight)),f),hn(f,l),hn(ft(x,Xt(S=>[S.top,S.bottom])),a),hn(ft(x,Xt(S=>S.items)),y);const b=Cd(ft(x,Gn(({items:S})=>S.length>0),Ar(e,n),Gn(([{items:S},T])=>S[S.length-1].originalIndex===T-1),Xt(([,S,T])=>[S-1,T]),Gs(b3),Xt(([S])=>S))),_=Cd(ft(x,iv(200),Gn(({items:S,topItems:T})=>S.length>0&&S[0].originalIndex===T.length),Xt(({items:S})=>S[0].index),Gs())),C=Cd(ft(x,Gn(({items:S})=>S.length>0),Xt(({items:S})=>{let T=0,A=S.length-1;for(;S[T].type==="group"&&T<A;)T++;for(;S[A].type==="group"&&A>T;)A--;return{startIndex:S[T].index,endIndex:S[A].index}}),Gs(wJe)));return{listState:x,topItemsIndexes:v,endReached:b,startReached:_,rangeChanged:C,itemsRendered:y,...h}},Xs(Bm,xJe,Ese,gD,pD,mD,Dy,xse),{singleton:!0}),AJn=Ui(([{sizes:t,firstItemIndex:e,data:n,gap:r},{initialTopMostItemIndex:i},{listState:s},{didMount:o}])=>{const a=Ot(0);return hn(ft(o,Ar(a),Gn(([,l])=>l!==0),Ar(i,t,e,r,n),Xt(([[,l],u,d,f,h,p=[]])=>{let g=0;if(d.groupIndices.length>0)for(const b of d.groupIndices){if(b-g>=l)break;g++}const v=l+g,y=Cse(u,v),x=Array.from({length:v}).map((b,_)=>({index:_+y,size:0,offset:0,data:p[_+y]}));return dL(x,[],v,h,d,f)})),s),{initialItemCount:a}},Xs(Bm,gD,Rw,Dy),{singleton:!0}),_Je=Ui(([{scrollVelocity:t}])=>{const e=Ot(!1),n=Xr(),r=Ot(!1);return hn(ft(t,Ar(r,e,n),Gn(([i,s])=>!!s),Xt(([i,s,o,a])=>{const{exit:l,enter:u}=s;if(o){if(l(i,a))return!1}else if(u(i,a))return!0;return o}),Gs()),e),Ki(ft(tl(e,t,n),Ar(r)),([[i,s,o],a])=>i&&a&&a.change&&a.change(s,o)),{isSeeking:e,scrollSeekConfiguration:r,scrollVelocity:t,scrollSeekRangeChanged:n}},Xs(mD),{singleton:!0}),IJn=Ui(([{topItemsIndexes:t}])=>{const e=Ot(0);return hn(ft(e,Gn(n=>n>0),Xt(n=>Array.from({length:n}).map((r,i)=>i))),t),{topItemCount:e}},Xs(Rw)),CJe=Ui(([{footerHeight:t,headerHeight:e,fixedHeaderHeight:n,fixedFooterHeight:r},{listState:i}])=>{const s=Xr(),o=$u(ft(tl(t,r,e,n,i),Xt(([a,l,u,d,f])=>a+l+u+d+f.offsetBottom+f.bottom)),0);return hn(Wn(o),s),{totalListHeight:o,totalListHeightChanged:s}},Xs(tc,Rw),{singleton:!0});function EJe(t){let e=!1,n;return()=>(e||(e=!0,n=t()),n)}const DJn=EJe(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),RJn=Ui(([{scrollBy:t,scrollTop:e,deviation:n,scrollingInProgress:r},{isScrolling:i,isAtBottom:s,scrollDirection:o,lastJumpDueToItemResize:a},{listState:l},{beforeUnshiftWith:u,shiftWithOffset:d,sizes:f,gap:h},{log:p},{recalcInProgress:g}])=>{const v=Cd(ft(l,Ar(a),Qp(([,x,b,_],[{items:C,totalCount:S,bottom:T,offsetBottom:A},k])=>{const I=T+A;let D=0;return b===S&&x.length>0&&C.length>0&&(C[0].originalIndex===0&&x[0].originalIndex===0||(D=I-_,D!==0&&(D+=k))),[D,C,S,I]},[0,[],0,0]),Gn(([x])=>x!==0),Ar(e,o,r,s,p,g),Gn(([,x,b,_,,,C])=>!C&&!_&&x!==0&&b===y3),Xt(([[x],,,,,b])=>(b("Upward scrolling compensation",{amount:x},Ed.DEBUG),x))));function y(x){x>0?(mr(t,{top:-x,behavior:"auto"}),mr(n,0)):(mr(n,0),mr(t,{top:-x,behavior:"auto"}))}return Ki(ft(v,Ar(n,i)),([x,b,_])=>{_&&DJn()?mr(n,b-x):y(-x)}),Ki(ft(tl($u(i,!1),n,g),Gn(([x,b,_])=>!x&&!_&&b!==0),Xt(([x,b])=>b),iv(1)),y),hn(ft(d,Xt(x=>({top:-x}))),t),Ki(ft(u,Ar(f,h),Xt(([x,{lastSize:b,groupIndices:_,sizeTree:C},S])=>{function T(A){return A*(b+S)}if(_.length===0)return T(x);{let A=0;const k=g3(C,0);let I=0,D=0;for(;I<x;){I++,A+=k;let R=_.length===D+1?1/0:_[D+1]-_[D]-1;I+R>x&&(A-=k,R=x-I+1),I+=R,A+=T(R),D++}return A}})),x=>{mr(n,x),requestAnimationFrame(()=>{mr(t,{top:x}),requestAnimationFrame(()=>{mr(n,0),mr(g,!1)})})}),{deviation:n}},Xs(tc,mD,Rw,Bm,Iy,xse)),jJn=Ui(([{didMount:t},{scrollTo:e},{listState:n}])=>{const r=Ot(0);return Ki(ft(t,Ar(r),Gn(([,i])=>i!==0),Xt(([,i])=>({top:i}))),i=>{b0(ft(n,hC(1),Gn(s=>s.items.length>1)),()=>{requestAnimationFrame(()=>{mr(e,i)})})}),{initialScrollTop:r}},Xs(Dy,tc,Rw),{singleton:!0}),OJn=Ui(([{viewportHeight:t},{totalListHeight:e}])=>{const n=Ot(!1),r=$u(ft(tl(n,t,e),Gn(([i])=>i),Xt(([,i,s])=>Math.max(0,i-s)),iv(0),Gs()),0);return{alignToBottom:n,paddingTopAddition:r}},Xs(tc,CJe),{singleton:!0}),Sse=Ui(([{scrollTo:t,scrollContainerState:e}])=>{const n=Xr(),r=Xr(),i=Xr(),s=Ot(!1),o=Ot(void 0);return hn(ft(tl(n,r),Xt(([{viewportHeight:a,scrollTop:l,scrollHeight:u},{offsetTop:d}])=>({scrollTop:Math.max(0,l-d),scrollHeight:u,viewportHeight:a}))),e),hn(ft(t,Ar(r),Xt(([a,{offsetTop:l}])=>({...a,top:a.top+l}))),i),{useWindowScroll:s,customScrollParent:o,windowScrollContainerState:n,windowViewportRect:r,windowScrollTo:i}},Xs(tc)),LJn=({itemTop:t,itemBottom:e,viewportTop:n,viewportBottom:r,locationParams:{behavior:i,align:s,...o}})=>t<n?{...o,behavior:i,align:s??"start"}:e>r?{...o,behavior:i,align:s??"end"}:null,PJn=Ui(([{sizes:t,totalCount:e,gap:n},{scrollTop:r,viewportHeight:i,headerHeight:s,fixedHeaderHeight:o,fixedFooterHeight:a,scrollingInProgress:l},{scrollToIndex:u}])=>{const d=Xr();return hn(ft(d,Ar(t,i,e,s,o,a,r),Ar(n),Xt(([[f,h,p,g,v,y,x,b],_])=>{const{done:C,behavior:S,align:T,calculateViewLocation:A=LJn,...k}=f,I=vJe(f,h,g-1),D=v3(I,h.offsetTree,_)+v+y,R=D+Wh(h.sizeTree,I)[1],O=b+y,L=b+p-x,P=A({itemTop:D,itemBottom:R,viewportTop:O,viewportBottom:L,locationParams:{behavior:S,align:T,...k}});return P?C&&b0(ft(l,Gn($=>$===!1),hC(Ef(l)?1:2)),C):C&&C(),P}),Gn(f=>f!==null)),u),{scrollIntoView:d}},Xs(Bm,tc,pD,Rw,Iy),{singleton:!0}),MJn=Ui(([{sizes:t,sizeRanges:e},{scrollTop:n},{initialTopMostItemIndex:r},{didMount:i},{useWindowScroll:s,windowScrollContainerState:o,windowViewportRect:a}])=>{const l=Xr(),u=Ot(void 0),d=Ot(null),f=Ot(null);return hn(o,d),hn(a,f),Ki(ft(l,Ar(t,n,s,d,f)),([h,p,g,v,y,x])=>{const b=vJn(p.sizeTree);v&&y!==null&&x!==null&&(g=y.scrollTop-x.offsetTop),h({ranges:b,scrollTop:g})}),hn(ft(u,Gn(vse),Xt($Jn)),r),hn(ft(i,Ar(u),Gn(([,h])=>h!==void 0),Gs(),Xt(([,h])=>h.ranges)),e),{getState:l,restoreStateFrom:u}},Xs(Bm,tc,gD,Dy,Sse));function $Jn(t){return{offset:t.scrollTop,index:0,align:"start"}}const FJn=Ui(([t,e,n,r,i,s,o,a,l,u])=>({...t,...e,...n,...r,...i,...s,...o,...a,...l,...u}),Xs(Ese,AJn,Dy,_Je,CJe,jJn,OJn,Sse,PJn,Iy)),BJn=Ui(([{totalCount:t,sizeRanges:e,fixedItemSize:n,defaultItemSize:r,trackItemSizes:i,itemSize:s,data:o,firstItemIndex:a,groupIndices:l,statefulTotalCount:u,gap:d,sizes:f},{initialTopMostItemIndex:h,scrolledToInitialItem:p},g,v,y,{listState:x,topItemsIndexes:b,..._},{scrollToIndex:C},S,{topItemCount:T},{groupCounts:A},k])=>(hn(_.rangeChanged,k.scrollSeekRangeChanged),hn(ft(k.windowViewportRect,Xt(I=>I.visibleHeight)),g.viewportHeight),{totalCount:t,data:o,firstItemIndex:a,sizeRanges:e,initialTopMostItemIndex:h,scrolledToInitialItem:p,topItemsIndexes:b,topItemCount:T,groupCounts:A,fixedItemHeight:n,defaultItemHeight:r,gap:d,...y,statefulTotalCount:u,listState:x,scrollToIndex:C,trackItemSizes:i,itemSize:s,groupIndices:l,..._,...k,...g,sizes:f,...v}),Xs(Bm,gD,tc,MJn,SJn,Rw,pD,RJn,IJn,xJe,FJn)),iz="-webkit-sticky",RIe="sticky",SJe=EJe(()=>{if(typeof document>"u")return RIe;const t=document.createElement("div");return t.style.position=iz,t.style.position===iz?iz:RIe});function TJe(t,e){const n=re.useRef(null),r=re.useCallback(a=>{if(a===null||!a.offsetParent)return;const l=a.getBoundingClientRect(),u=l.width;let d,f;if(e){const h=e.getBoundingClientRect(),p=l.top-h.top;d=h.height-Math.max(0,p),f=p+e.scrollTop}else d=window.innerHeight-Math.max(0,l.top),f=l.top+window.pageYOffset;n.current={offsetTop:f,visibleHeight:d,visibleWidth:u},t(n.current)},[t,e]),{callbackRef:i,ref:s}=bse(r),o=re.useCallback(()=>{r(s.current)},[r,s]);return re.useEffect(()=>{if(e){e.addEventListener("scroll",o);const a=new ResizeObserver(o);return a.observe(e),()=>{e.removeEventListener("scroll",o),a.unobserve(e)}}else return window.addEventListener("scroll",o),window.addEventListener("resize",o),()=>{window.removeEventListener("scroll",o),window.removeEventListener("resize",o)}},[o,e]),i}const kJe=re.createContext(void 0),AJe=re.createContext(void 0);function IJe(t){return t}const NJn=Ui(()=>{const t=Ot(l=>`Item ${l}`),e=Ot(null),n=Ot(l=>`Group ${l}`),r=Ot({}),i=Ot(IJe),s=Ot("div"),o=Ot(TE),a=(l,u=null)=>$u(ft(r,Xt(d=>d[l]),Gs()),u);return{context:e,itemContent:t,groupContent:n,components:r,computeItemKey:i,headerFooterTag:s,scrollerRef:o,FooterComponent:a("Footer"),HeaderComponent:a("Header"),TopItemListComponent:a("TopItemList"),ListComponent:a("List","div"),ItemComponent:a("Item","div"),GroupComponent:a("Group","div"),ScrollerComponent:a("Scroller","div"),EmptyPlaceholder:a("EmptyPlaceholder"),ScrollSeekPlaceholder:a("ScrollSeekPlaceholder")}}),VJn=Ui(([t,e])=>({...t,...e}),Xs(BJn,NJn)),UJn=({height:t})=>re.createElement("div",{style:{height:t}}),HJn={position:SJe(),zIndex:1,overflowAnchor:"none"},zJn={overflowAnchor:"none"},jIe=re.memo(function({showTopList:e=!1}){const n=zr("listState"),r=Sf("sizeRanges"),i=zr("useWindowScroll"),s=zr("customScrollParent"),o=Sf("windowScrollContainerState"),a=Sf("scrollContainerState"),l=s||i?o:a,u=zr("itemContent"),d=zr("context"),f=zr("groupContent"),h=zr("trackItemSizes"),p=zr("itemSize"),g=zr("log"),v=Sf("gap"),{callbackRef:y}=iJn(r,p,h,e?TE:l,g,v,s),[x,b]=re.useState(0);Tse("deviation",P=>{x!==P&&b(P)});const _=zr("EmptyPlaceholder"),C=zr("ScrollSeekPlaceholder")||UJn,S=zr("ListComponent"),T=zr("ItemComponent"),A=zr("GroupComponent"),k=zr("computeItemKey"),I=zr("isSeeking"),D=zr("groupIndices").length>0,R=zr("paddingTopAddition"),O=zr("scrolledToInitialItem"),L=e?{}:{boxSizing:"border-box",paddingTop:n.offsetTop+R,paddingBottom:n.offsetBottom,marginTop:x,...O?{}:{visibility:"hidden"}};return!e&&n.totalCount===0&&_?re.createElement(_,Rc(_,d)):re.createElement(S,{...Rc(S,d),ref:y,style:L,"data-test-id":e?"virtuoso-top-item-list":"virtuoso-item-list"},(e?n.topItems:n.items).map(P=>{const $=P.originalIndex,B=k($+n.firstItemIndex,P.data,d);return I?re.createElement(C,{...Rc(C,d),key:B,index:P.index,height:P.size,type:P.type||"item",...P.type==="group"?{}:{groupIndex:P.groupIndex}}):P.type==="group"?re.createElement(A,{...Rc(A,d),key:B,"data-index":$,"data-known-size":P.size,"data-item-index":P.index,style:HJn},f(P.index,d)):re.createElement(T,{...Rc(T,d),key:B,"data-index":$,"data-known-size":P.size,"data-item-index":P.index,"data-item-group-index":P.groupIndex,item:P.data,style:zJn},D?u(P.index,P.groupIndex,P.data,d):u(P.index,P.data,d))}))}),WJn={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},wF={width:"100%",height:"100%",position:"absolute",top:0},GJn={width:"100%",position:SJe(),top:0,zIndex:1};function Rc(t,e){if(typeof t!="string")return{context:e}}const qJn=re.memo(function(){const e=zr("HeaderComponent"),n=Sf("headerHeight"),r=zr("headerFooterTag"),i=Dw(o=>n(Qv(o,"height"))),s=zr("context");return e?re.createElement(r,{ref:i},re.createElement(e,Rc(e,s))):null}),YJn=re.memo(function(){const e=zr("FooterComponent"),n=Sf("footerHeight"),r=zr("headerFooterTag"),i=Dw(o=>n(Qv(o,"height"))),s=zr("context");return e?re.createElement(r,{ref:i},re.createElement(e,Rc(e,s))):null});function DJe({usePublisher:t,useEmitter:e,useEmitterValue:n}){return re.memo(function({style:s,children:o,...a}){const l=t("scrollContainerState"),u=n("ScrollerComponent"),d=t("smoothScrollTargetReached"),f=n("scrollerRef"),h=n("context"),{scrollerRef:p,scrollByCallback:g,scrollToCallback:v}=cJe(l,d,u,f);return e("scrollTo",v),e("scrollBy",g),re.createElement(u,{ref:p,style:{...WJn,...s},"data-test-id":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0,...a,...Rc(u,h)},o)})}function RJe({usePublisher:t,useEmitter:e,useEmitterValue:n}){return re.memo(function({style:s,children:o,...a}){const l=t("windowScrollContainerState"),u=n("ScrollerComponent"),d=t("smoothScrollTargetReached"),f=n("totalListHeight"),h=n("deviation"),p=n("customScrollParent"),g=n("context"),{scrollerRef:v,scrollByCallback:y,scrollToCallback:x}=cJe(l,d,u,TE,p);return tJn(()=>(v.current=p||window,()=>{v.current=null}),[v,p]),e("windowScrollTo",x),e("scrollBy",y),re.createElement(u,{style:{position:"relative",...s,...f!==0?{height:f+h}:{}},"data-virtuoso-scroller":!0,...a,...Rc(u,g)},o)})}const KJn=({children:t})=>{const e=re.useContext(kJe),n=Sf("viewportHeight"),r=Sf("fixedItemHeight"),i=Dw(sJe(n,s=>Qv(s,"height")));return re.useEffect(()=>{e&&(n(e.viewportHeight),r(e.itemHeight))},[e,n,r]),re.createElement("div",{style:wF,ref:i,"data-viewport-type":"element"},t)},ZJn=({children:t})=>{const e=re.useContext(kJe),n=Sf("windowViewportRect"),r=Sf("fixedItemHeight"),i=zr("customScrollParent"),s=TJe(n,i);return re.useEffect(()=>{e&&(r(e.itemHeight),n({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:100}))},[e,n,r]),re.createElement("div",{ref:s,style:wF,"data-viewport-type":"window"},t)},XJn=({children:t})=>{const e=zr("TopItemListComponent"),n=zr("headerHeight"),r={...GJn,marginTop:`${n}px`},i=zr("context");return re.createElement(e||"div",{style:r,context:i},t)},QJn=re.memo(function(e){const n=zr("useWindowScroll"),r=zr("topItemsIndexes").length>0,i=zr("customScrollParent"),s=i||n?eer:JJn,o=i||n?ZJn:KJn;return re.createElement(s,{...e},r&&re.createElement(XJn,null,re.createElement(jIe,{showTopList:!0})),re.createElement(o,null,re.createElement(qJn,null),re.createElement(jIe,null),re.createElement(YJn,null)))}),{Component:jJe,usePublisher:Sf,useEmitterValue:zr,useEmitter:Tse}=lJe(VJn,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},QJn),JJn=DJe({usePublisher:Sf,useEmitterValue:zr,useEmitter:Tse}),eer=RJe({usePublisher:Sf,useEmitterValue:zr,useEmitter:Tse}),kse=jJe,ter=jJe,OIe={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},ner={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:LIe,ceil:PIe,floor:K6,min:sz,max:Hk}=Math;function rer(t){return{...ner,items:t}}function MIe(t,e,n){return Array.from({length:e-t+1}).map((r,i)=>{const s=n===null?null:n[i+t];return{index:i+t,data:s}})}function ier(t,e){return t&&t.column===e.column&&t.row===e.row}function oj(t,e){return t&&t.width===e.width&&t.height===e.height}const ser=Ui(([{overscan:t,visibleRange:e,listBoundary:n},{scrollTop:r,viewportHeight:i,scrollBy:s,scrollTo:o,smoothScrollTargetReached:a,scrollContainerState:l,footerHeight:u,headerHeight:d},f,h,{propsReady:p,didMount:g},{windowViewportRect:v,useWindowScroll:y,customScrollParent:x,windowScrollContainerState:b,windowScrollTo:_},C])=>{const S=Ot(0),T=Ot(0),A=Ot(OIe),k=Ot({height:0,width:0}),I=Ot({height:0,width:0}),D=Xr(),R=Xr(),O=Ot(0),L=Ot(null),P=Ot({row:0,column:0}),$=Xr(),B=Xr(),Q=Ot(!1),V=Ot(0),Z=Ot(!0),ie=Ot(!1);Ki(ft(g,Ar(V),Gn(([F,ne])=>!!ne)),()=>{mr(Z,!1),mr(T,0)}),Ki(ft(tl(g,Z,I,k,V,ie),Gn(([F,ne,ce,me,,pe])=>F&&!ne&&ce.height!==0&&me.height!==0&&!pe)),([,,,,F])=>{mr(ie,!0),_se(1,()=>{mr(D,F)}),b0(ft(r),()=>{mr(n,[0,0]),mr(Z,!0)})}),hn(ft(B,Gn(F=>F!=null&&F.scrollTop>0),kg(0)),T),Ki(ft(g,Ar(B),Gn(([,F])=>F!=null)),([,F])=>{F&&(mr(k,F.viewport),mr(I,F==null?void 0:F.item),mr(P,F.gap),F.scrollTop>0&&(mr(Q,!0),b0(ft(r,hC(1)),ne=>{mr(Q,!1)}),mr(o,{top:F.scrollTop})))}),hn(ft(k,Xt(({height:F})=>F)),i),hn(ft(tl(Wn(k,oj),Wn(I,oj),Wn(P,(F,ne)=>F&&F.column===ne.column&&F.row===ne.row),Wn(r)),Xt(([F,ne,ce,me])=>({viewport:F,item:ne,gap:ce,scrollTop:me}))),$),hn(ft(tl(Wn(S),e,Wn(P,ier),Wn(I,oj),Wn(k,oj),Wn(L),Wn(T),Wn(Q),Wn(Z),Wn(V)),Gn(([,,,,,,,F])=>!F),Xt(([F,[ne,ce],me,pe,Ie,xe,Pe,,we,De])=>{const{row:de,column:be}=me,{height:ve,width:ze}=pe,{width:He}=Ie;if(Pe===0&&(F===0||He===0))return OIe;if(ze===0){const mn=Cse(De,F),gn=mn===0?Math.max(Pe-1,0):mn;return rer(MIe(mn,gn,xe))}const Ne=OJe(He,ze,be);let Fe,nt;we?ne===0&&ce===0&&Pe>0?(Fe=0,nt=Pe-1):(Fe=Ne*K6((ne+de)/(ve+de)),nt=Ne*PIe((ce+de)/(ve+de))-1,nt=sz(F-1,Hk(nt,Ne-1)),Fe=sz(nt,Hk(0,Fe))):(Fe=0,nt=-1);const Ye=MIe(Fe,nt,xe),{top:Ge,bottom:Ct}=$Ie(Ie,me,pe,Ye),wt=PIe(F/Ne),on=wt*ve+(wt-1)*de-Ct;return{items:Ye,offsetTop:Ge,offsetBottom:on,top:Ge,bottom:Ct,itemHeight:ve,itemWidth:ze}})),A),hn(ft(L,Gn(F=>F!==null),Xt(F=>F.length)),S),hn(ft(tl(k,I,A,P),Gn(([F,ne,{items:ce}])=>ce.length>0&&ne.height!==0&&F.height!==0),Xt(([F,ne,{items:ce},me])=>{const{top:pe,bottom:Ie}=$Ie(F,me,ne,ce);return[pe,Ie]}),Gs(b3)),n);const J=Ot(!1);hn(ft(r,Ar(J),Xt(([F,ne])=>ne||F!==0)),J);const X=Cd(ft(Wn(A),Gn(({items:F})=>F.length>0),Ar(S,J),Gn(([{items:F},ne,ce])=>ce&&F[F.length-1].index===ne-1),Xt(([,F])=>F-1),Gs())),fe=Cd(ft(Wn(A),Gn(({items:F})=>F.length>0&&F[0].index===0),kg(0),Gs())),ue=Cd(ft(Wn(A),Ar(Q),Gn(([{items:F},ne])=>F.length>0&&!ne),Xt(([{items:F}])=>({startIndex:F[0].index,endIndex:F[F.length-1].index})),Gs(wJe),iv(0)));hn(ue,h.scrollSeekRangeChanged),hn(ft(D,Ar(k,I,S,P),Xt(([F,ne,ce,me,pe])=>{const Ie=bJe(F),{align:xe,behavior:Pe,offset:we}=Ie;let De=Ie.index;De==="LAST"&&(De=me-1),De=Hk(0,De,sz(me-1,De));let de=$K(ne,pe,ce,De);return xe==="end"?de=LIe(de-ne.height+ce.height):xe==="center"&&(de=LIe(de-ne.height/2+ce.height/2)),we&&(de+=we),{top:de,behavior:Pe}})),o);const te=$u(ft(A,Xt(F=>F.offsetBottom+F.bottom)),0);return hn(ft(v,Xt(F=>({width:F.visibleWidth,height:F.visibleHeight}))),k),{data:L,totalCount:S,viewportDimensions:k,itemDimensions:I,scrollTop:r,scrollHeight:R,overscan:t,scrollBy:s,scrollTo:o,scrollToIndex:D,smoothScrollTargetReached:a,windowViewportRect:v,windowScrollTo:_,useWindowScroll:y,customScrollParent:x,windowScrollContainerState:b,deviation:O,scrollContainerState:l,footerHeight:u,headerHeight:d,initialItemCount:T,gap:P,restoreStateFrom:B,...h,initialTopMostItemIndex:V,gridState:A,totalListHeight:te,...f,startReached:fe,endReached:X,rangeChanged:ue,stateChanged:$,propsReady:p,stateRestoreInProgress:Q,...C}},Xs(Ese,tc,mD,_Je,Dy,Sse,Iy));function $Ie(t,e,n,r){const{height:i}=n;if(i===void 0||r.length===0)return{top:0,bottom:0};const s=$K(t,e,n,r[0].index),o=$K(t,e,n,r[r.length-1].index)+i;return{top:s,bottom:o}}function $K(t,e,n,r){const i=OJe(t.width,n.width,e.column),s=K6(r/i),o=s*n.height+Hk(0,s-1)*e.row;return o>0?o+e.row:o}function OJe(t,e,n){return Hk(1,K6((t+n)/(K6(e)+n)))}const oer=Ui(()=>{const t=Ot(u=>`Item ${u}`),e=Ot({}),n=Ot(null),r=Ot("virtuoso-grid-item"),i=Ot("virtuoso-grid-list"),s=Ot(IJe),o=Ot("div"),a=Ot(TE),l=(u,d=null)=>$u(ft(e,Xt(f=>f[u]),Gs()),d);return{context:n,itemContent:t,components:e,computeItemKey:s,itemClassName:r,listClassName:i,headerFooterTag:o,scrollerRef:a,FooterComponent:l("Footer"),HeaderComponent:l("Header"),ListComponent:l("List","div"),ItemComponent:l("Item","div"),ScrollerComponent:l("Scroller","div"),ScrollSeekPlaceholder:l("ScrollSeekPlaceholder","div")}}),aer=Ui(([t,e])=>({...t,...e}),Xs(ser,oer)),ler=re.memo(function(){const e=oo("gridState"),n=oo("listClassName"),r=oo("itemClassName"),i=oo("itemContent"),s=oo("computeItemKey"),o=oo("isSeeking"),a=jh("scrollHeight"),l=oo("ItemComponent"),u=oo("ListComponent"),d=oo("ScrollSeekPlaceholder"),f=oo("context"),h=jh("itemDimensions"),p=jh("gap"),g=oo("log"),v=oo("stateRestoreInProgress"),y=Dw(x=>{const b=x.parentElement.parentElement.scrollHeight;a(b);const _=x.firstChild;if(_){const{width:C,height:S}=_.getBoundingClientRect();h({width:C,height:S})}p({row:FIe("row-gap",getComputedStyle(x).rowGap,g),column:FIe("column-gap",getComputedStyle(x).columnGap,g)})});return v?null:re.createElement(u,{ref:y,className:n,...Rc(u,f),style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom},"data-test-id":"virtuoso-item-list"},e.items.map(x=>{const b=s(x.index,x.data,f);return o?re.createElement(d,{key:b,...Rc(d,f),index:x.index,height:e.itemHeight,width:e.itemWidth}):re.createElement(l,{...Rc(l,f),className:r,"data-index":x.index,key:b},i(x.index,x.data,f))}))}),uer=re.memo(function(){const e=oo("HeaderComponent"),n=jh("headerHeight"),r=oo("headerFooterTag"),i=Dw(o=>n(Qv(o,"height"))),s=oo("context");return e?re.createElement(r,{ref:i},re.createElement(e,Rc(e,s))):null}),cer=re.memo(function(){const e=oo("FooterComponent"),n=jh("footerHeight"),r=oo("headerFooterTag"),i=Dw(o=>n(Qv(o,"height"))),s=oo("context");return e?re.createElement(r,{ref:i},re.createElement(e,Rc(e,s))):null}),der=({children:t})=>{const e=re.useContext(AJe),n=jh("itemDimensions"),r=jh("viewportDimensions"),i=Dw(s=>{r(s.getBoundingClientRect())});return re.useEffect(()=>{e&&(r({height:e.viewportHeight,width:e.viewportWidth}),n({height:e.itemHeight,width:e.itemWidth}))},[e,r,n]),re.createElement("div",{style:wF,ref:i},t)},fer=({children:t})=>{const e=re.useContext(AJe),n=jh("windowViewportRect"),r=jh("itemDimensions"),i=oo("customScrollParent"),s=TJe(n,i);return re.useEffect(()=>{e&&(r({height:e.itemHeight,width:e.itemWidth}),n({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:e.viewportWidth}))},[e,n,r]),re.createElement("div",{ref:s,style:wF},t)},her=re.memo(function({...e}){const n=oo("useWindowScroll"),r=oo("customScrollParent"),i=r||n?ger:mer,s=r||n?fer:der;return re.createElement(i,{...e},re.createElement(s,null,re.createElement(uer,null),re.createElement(ler,null),re.createElement(cer,null)))}),{Component:per,usePublisher:jh,useEmitterValue:oo,useEmitter:LJe}=lJe(aer,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged"}},her),mer=DJe({usePublisher:jh,useEmitterValue:oo,useEmitter:LJe}),ger=RJe({usePublisher:jh,useEmitterValue:oo,useEmitter:LJe});function FIe(t,e,n){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&n(`${t} was not resolved to pixel value correctly`,e,Ed.WARN),e==="normal"?0:parseInt(e??"0",10)}const ver=per;var vD=t=>t.type==="checkbox",M5=t=>t instanceof Date,Ou=t=>t==null;const PJe=t=>typeof t=="object";var Fa=t=>!Ou(t)&&!Array.isArray(t)&&PJe(t)&&!M5(t),MJe=t=>Fa(t)&&t.target?vD(t.target)?t.target.checked:t.target.value:t,yer=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,$Je=(t,e)=>t.has(yer(e)),ber=t=>{const e=t.constructor&&t.constructor.prototype;return Fa(e)&&e.hasOwnProperty("isPrototypeOf")},Ase=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Op(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Ase&&(t instanceof Blob||t instanceof FileList))&&(n||Fa(t)))if(e=n?[]:{},!n&&!ber(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Op(t[r]));else return t;return e}var yD=t=>Array.isArray(t)?t.filter(Boolean):[],Go=t=>t===void 0,jt=(t,e,n)=>{if(!e||!Fa(t))return n;const r=yD(e.split(/[,[\].]+?/)).reduce((i,s)=>Ou(i)?i:i[s],t);return Go(r)||r===t?Go(t[e])?n:t[e]:r};const Z6={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},wh={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ug={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},xer=re.createContext(null),Ise=()=>re.useContext(xer);var FJe=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==wh.all&&(e._proxyFormState[o]=!r||wh.all),n&&(n[o]=!0),t[o]}});return i},lf=t=>Fa(t)&&!Object.keys(t).length,BJe=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return lf(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||wh.all))},fL=t=>Array.isArray(t)?t:[t],NJe=(t,e,n)=>n&&e?t===e:!t||!e||t===e||fL(t).some(r=>r&&(r.startsWith(e)||e.startsWith(r)));function Dse(t){const e=re.useRef(t);e.current=t,re.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function wer(t){const e=Ise(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[o,a]=re.useState(n._formState),l=re.useRef(!0),u=re.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=re.useRef(i);return d.current=i,Dse({disabled:r,next:f=>l.current&&NJe(d.current,f.name,s)&&BJe(f,u.current,n._updateFormState)&&a({...n._formState,...f}),subject:n._subjects.state}),re.useEffect(()=>(l.current=!0,u.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),FJe(o,n,u.current,!1)}var Jp=t=>typeof t=="string",VJe=(t,e,n,r,i)=>Jp(t)?(r&&e.watch.add(t),jt(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),jt(n,s))):(r&&(e.watchAll=!0),n);function _er(t){const e=Ise(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t||{},a=re.useRef(r);a.current=r,Dse({disabled:s,subject:n._subjects.values,next:d=>{NJe(a.current,d.name,o)&&u(Op(VJe(a.current,n._names,d.values||n._formValues,!1,i)))}});const[l,u]=re.useState(n._getWatch(r,i));return re.useEffect(()=>n._removeUnmounted()),l}var Rse=t=>/^\w*$/.test(t),UJe=t=>yD(t.replace(/["|']|\]/g,"").split(/\.|\[/));function Di(t,e,n){let r=-1;const i=Rse(e)?[e]:UJe(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=Fa(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t}function Cer(t){const e=Ise(),{name:n,control:r=e.control,shouldUnregister:i}=t,s=$Je(r._names.array,n),o=_er({control:r,name:n,defaultValue:jt(r._formValues,n,jt(r._defaultValues,n,t.defaultValue)),exact:!0}),a=wer({control:r,name:n}),l=re.useRef(r.register(n,{...t.rules,value:o}));return l.current=r.register(n,t.rules),re.useEffect(()=>{const u=r._options.shouldUnregister||i,d=(f,h)=>{const p=jt(r._fields,f);p&&(p._f.mount=h)};if(d(n,!0),u){const f=Op(jt(r._options.defaultValues,n));Di(r._defaultValues,n,f),Go(jt(r._formValues,n))&&Di(r._formValues,n,f)}return()=>{(s?u&&!r._state.action:u)?r.unregister(n):d(n,!1)}},[n,r,s,i]),{field:{name:n,value:o,onChange:re.useCallback(u=>l.current.onChange({target:{value:MJe(u),name:n},type:Z6.CHANGE}),[n]),onBlur:re.useCallback(()=>l.current.onBlur({target:{value:jt(r._formValues,n),name:n},type:Z6.BLUR}),[n,r]),ref:u=>{const d=jt(r._fields,n);d&&u&&(d._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:f=>u.setCustomValidity(f),reportValidity:()=>u.reportValidity()})}},formState:a,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!jt(a.errors,n)},isDirty:{enumerable:!0,get:()=>!!jt(a.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!jt(a.touchedFields,n)},error:{enumerable:!0,get:()=>jt(a.errors,n)}})}}const Eer=t=>t.render(Cer(t));var HJe=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{};const FK=(t,e,n)=>{for(const r of n||Object.keys(t)){const i=jt(t,r);if(i){const{_f:s,...o}=i;if(s&&e(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else Fa(o)&&FK(o,e)}}};var BIe=t=>({isOnSubmit:!t||t===wh.onSubmit,isOnBlur:t===wh.onBlur,isOnChange:t===wh.onChange,isOnAll:t===wh.all,isOnTouch:t===wh.onTouched}),NIe=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),Ser=(t,e,n)=>{const r=yD(jt(t,n));return Di(r,"root",e[n]),Di(t,n,r),t},__=t=>typeof t=="boolean",jse=t=>t.type==="file",sv=t=>typeof t=="function",X6=t=>{if(!Ase)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},hL=t=>Jp(t),Ose=t=>t.type==="radio",Q6=t=>t instanceof RegExp;const VIe={value:!1,isValid:!1},UIe={value:!0,isValid:!0};var zJe=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Go(t[0].attributes.value)?Go(t[0].value)||t[0].value===""?UIe:{value:t[0].value,isValid:!0}:UIe:VIe}return VIe};const HIe={isValid:!1,value:null};var WJe=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,HIe):HIe;function zIe(t,e,n="validate"){if(hL(t)||Array.isArray(t)&&t.every(hL)||__(t)&&!t)return{type:n,message:hL(t)?t:"",ref:e}}var w2=t=>Fa(t)&&!Q6(t)?t:{value:t,message:""},WIe=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:d,max:f,pattern:h,validate:p,name:g,valueAsNumber:v,mount:y,disabled:x}=t._f,b=jt(e,g);if(!y||x)return{};const _=o?o[0]:s,C=O=>{r&&_.reportValidity&&(_.setCustomValidity(__(O)?"":O||""),_.reportValidity())},S={},T=Ose(s),A=vD(s),k=T||A,I=(v||jse(s))&&Go(s.value)&&Go(b)||X6(s)&&s.value===""||b===""||Array.isArray(b)&&!b.length,D=HJe.bind(null,g,n,S),R=(O,L,P,$=ug.maxLength,B=ug.minLength)=>{const Q=O?L:P;S[g]={type:O?$:B,message:Q,ref:s,...D(O?$:B,Q)}};if(i?!Array.isArray(b)||!b.length:a&&(!k&&(I||Ou(b))||__(b)&&!b||A&&!zJe(o).isValid||T&&!WJe(o).isValid)){const{value:O,message:L}=hL(a)?{value:!!a,message:a}:w2(a);if(O&&(S[g]={type:ug.required,message:L,ref:_,...D(ug.required,L)},!n))return C(L),S}if(!I&&(!Ou(d)||!Ou(f))){let O,L;const P=w2(f),$=w2(d);if(!Ou(b)&&!isNaN(b)){const B=s.valueAsNumber||b&&+b;Ou(P.value)||(O=B>P.value),Ou($.value)||(L=B<$.value)}else{const B=s.valueAsDate||new Date(b),Q=ie=>new Date(new Date().toDateString()+" "+ie),V=s.type=="time",Z=s.type=="week";Jp(P.value)&&b&&(O=V?Q(b)>Q(P.value):Z?b>P.value:B>new Date(P.value)),Jp($.value)&&b&&(L=V?Q(b)<Q($.value):Z?b<$.value:B<new Date($.value))}if((O||L)&&(R(!!O,P.message,$.message,ug.max,ug.min),!n))return C(S[g].message),S}if((l||u)&&!I&&(Jp(b)||i&&Array.isArray(b))){const O=w2(l),L=w2(u),P=!Ou(O.value)&&b.length>+O.value,$=!Ou(L.value)&&b.length<+L.value;if((P||$)&&(R(P,O.message,L.message),!n))return C(S[g].message),S}if(h&&!I&&Jp(b)){const{value:O,message:L}=w2(h);if(Q6(O)&&!b.match(O)&&(S[g]={type:ug.pattern,message:L,ref:s,...D(ug.pattern,L)},!n))return C(L),S}if(p){if(sv(p)){const O=await p(b,e),L=zIe(O,_);if(L&&(S[g]={...L,...D(ug.validate,L.message)},!n))return C(L.message),S}else if(Fa(p)){let O={};for(const L in p){if(!lf(O)&&!n)break;const P=zIe(await p[L](b,e),_,L);P&&(O={...P,...D(L,P.message)},C(P.message),n&&(S[g]=O))}if(!lf(O)&&(S[g]={ref:_,...O},!n))return S}}return C(!0),S};function Ter(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Go(t)?r++:t[e[r++]];return t}function ker(t){for(const e in t)if(t.hasOwnProperty(e)&&!Go(t[e]))return!1;return!0}function gl(t,e){const n=Array.isArray(e)?e:Rse(e)?[e]:UJe(e),r=n.length===1?t:Ter(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Fa(r)&&lf(r)||Array.isArray(r)&&ker(r))&&gl(t,n.slice(0,-1)),t}function oz(){let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}}var J6=t=>Ou(t)||!PJe(t);function sx(t,e){if(J6(t)||J6(e))return t===e;if(M5(t)&&M5(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(M5(s)&&M5(o)||Fa(s)&&Fa(o)||Array.isArray(s)&&Array.isArray(o)?!sx(s,o):s!==o)return!1}}return!0}var GJe=t=>t.type==="select-multiple",Aer=t=>Ose(t)||vD(t),az=t=>X6(t)&&t.isConnected,qJe=t=>{for(const e in t)if(sv(t[e]))return!0;return!1};function e8(t,e={}){const n=Array.isArray(t);if(Fa(t)||n)for(const r in t)Array.isArray(t[r])||Fa(t[r])&&!qJe(t[r])?(e[r]=Array.isArray(t[r])?[]:{},e8(t[r],e[r])):Ou(t[r])||(e[r]=!0);return e}function YJe(t,e,n){const r=Array.isArray(t);if(Fa(t)||r)for(const i in t)Array.isArray(t[i])||Fa(t[i])&&!qJe(t[i])?Go(e)||J6(n[i])?n[i]=Array.isArray(t[i])?e8(t[i],[]):{...e8(t[i])}:YJe(t[i],Ou(e)?{}:e[i],n[i]):n[i]=!sx(t[i],e[i]);return n}var lz=(t,e)=>YJe(t,e,e8(e)),KJe=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Go(t)?t:e?t===""?NaN:t&&+t:n&&Jp(t)?new Date(t):r?r(t):t;function uz(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return jse(e)?e.files:Ose(e)?WJe(t.refs).value:GJe(e)?[...e.selectedOptions].map(({value:n})=>n):vD(e)?zJe(t.refs).value:KJe(Go(e.value)?t.ref.value:e.value,t)}var Ier=(t,e,n,r)=>{const i={};for(const s of t){const o=jt(e,s);o&&Di(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},JS=t=>Go(t)?t:Q6(t)?t.source:Fa(t)?Q6(t.value)?t.value.source:t.value:t,Der=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function GIe(t,e,n){const r=jt(t,n);if(r||Rse(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=jt(e,s),a=jt(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var Rer=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,jer=(t,e)=>!yD(jt(t,e)).length&&gl(t,e);const Oer={mode:wh.onSubmit,reValidateMode:wh.onChange,shouldFocusError:!0};function Ler(t={},e){let n={...Oer,...t},r={submitCount:0,isDirty:!1,isLoading:sv(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},s=Fa(n.defaultValues)||Fa(n.values)?Op(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:Op(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:oz(),array:oz(),state:oz()},p=t.resetOptions&&t.resetOptions.keepDirtyValues,g=BIe(n.mode),v=BIe(n.reValidateMode),y=n.criteriaMode===wh.all,x=de=>be=>{clearTimeout(d),d=setTimeout(de,be)},b=async de=>{if(f.isValid||de){const be=n.resolver?lf((await I()).errors):await R(i,!0);be!==r.isValid&&h.state.next({isValid:be})}},_=de=>f.isValidating&&h.state.next({isValidating:de}),C=(de,be=[],ve,ze,He=!0,Ne=!0)=>{if(ze&&ve){if(a.action=!0,Ne&&Array.isArray(jt(i,de))){const Fe=ve(jt(i,de),ze.argA,ze.argB);He&&Di(i,de,Fe)}if(Ne&&Array.isArray(jt(r.errors,de))){const Fe=ve(jt(r.errors,de),ze.argA,ze.argB);He&&Di(r.errors,de,Fe),jer(r.errors,de)}if(f.touchedFields&&Ne&&Array.isArray(jt(r.touchedFields,de))){const Fe=ve(jt(r.touchedFields,de),ze.argA,ze.argB);He&&Di(r.touchedFields,de,Fe)}f.dirtyFields&&(r.dirtyFields=lz(s,o)),h.state.next({name:de,isDirty:L(de,be),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Di(o,de,be)},S=(de,be)=>{Di(r.errors,de,be),h.state.next({errors:r.errors})},T=(de,be,ve,ze)=>{const He=jt(i,de);if(He){const Ne=jt(o,de,Go(ve)?jt(s,de):ve);Go(Ne)||ze&&ze.defaultChecked||be?Di(o,de,be?Ne:uz(He._f)):B(de,Ne),a.mount&&b()}},A=(de,be,ve,ze,He)=>{let Ne=!1,Fe=!1;const nt={name:de};if(!ve||ze){f.isDirty&&(Fe=r.isDirty,r.isDirty=nt.isDirty=L(),Ne=Fe!==nt.isDirty);const Ye=sx(jt(s,de),be);Fe=jt(r.dirtyFields,de),Ye?gl(r.dirtyFields,de):Di(r.dirtyFields,de,!0),nt.dirtyFields=r.dirtyFields,Ne=Ne||f.dirtyFields&&Fe!==!Ye}if(ve){const Ye=jt(r.touchedFields,de);Ye||(Di(r.touchedFields,de,ve),nt.touchedFields=r.touchedFields,Ne=Ne||f.touchedFields&&Ye!==ve)}return Ne&&He&&h.state.next(nt),Ne?nt:{}},k=(de,be,ve,ze)=>{const He=jt(r.errors,de),Ne=f.isValid&&__(be)&&r.isValid!==be;if(t.delayError&&ve?(u=x(()=>S(de,ve)),u(t.delayError)):(clearTimeout(d),u=null,ve?Di(r.errors,de,ve):gl(r.errors,de)),(ve?!sx(He,ve):He)||!lf(ze)||Ne){const Fe={...ze,...Ne&&__(be)?{isValid:be}:{},errors:r.errors,name:de};r={...r,...Fe},h.state.next(Fe)}_(!1)},I=async de=>n.resolver(o,n.context,Ier(de||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),D=async de=>{const{errors:be}=await I();if(de)for(const ve of de){const ze=jt(be,ve);ze?Di(r.errors,ve,ze):gl(r.errors,ve)}else r.errors=be;return be},R=async(de,be,ve={valid:!0})=>{for(const ze in de){const He=de[ze];if(He){const{_f:Ne,...Fe}=He;if(Ne){const nt=l.array.has(Ne.name),Ye=await WIe(He,o,y,n.shouldUseNativeValidation&&!be,nt);if(Ye[Ne.name]&&(ve.valid=!1,be))break;!be&&(jt(Ye,Ne.name)?nt?Ser(r.errors,Ye,Ne.name):Di(r.errors,Ne.name,Ye[Ne.name]):gl(r.errors,Ne.name))}Fe&&await R(Fe,be,ve)}}return ve.valid},O=()=>{for(const de of l.unMount){const be=jt(i,de);be&&(be._f.refs?be._f.refs.every(ve=>!az(ve)):!az(be._f.ref))&&F(de)}l.unMount=new Set},L=(de,be)=>(de&&be&&Di(o,de,be),!sx(J(),s)),P=(de,be,ve)=>VJe(de,l,{...a.mount?o:Go(be)?s:Jp(de)?{[de]:be}:be},ve,be),$=de=>yD(jt(a.mount?o:s,de,t.shouldUnregister?jt(s,de,[]):[])),B=(de,be,ve={})=>{const ze=jt(i,de);let He=be;if(ze){const Ne=ze._f;Ne&&(!Ne.disabled&&Di(o,de,KJe(be,Ne)),He=X6(Ne.ref)&&Ou(be)?"":be,GJe(Ne.ref)?[...Ne.ref.options].forEach(Fe=>Fe.selected=He.includes(Fe.value)):Ne.refs?vD(Ne.ref)?Ne.refs.length>1?Ne.refs.forEach(Fe=>(!Fe.defaultChecked||!Fe.disabled)&&(Fe.checked=Array.isArray(He)?!!He.find(nt=>nt===Fe.value):He===Fe.value)):Ne.refs[0]&&(Ne.refs[0].checked=!!He):Ne.refs.forEach(Fe=>Fe.checked=Fe.value===He):jse(Ne.ref)?Ne.ref.value="":(Ne.ref.value=He,Ne.ref.type||h.values.next({name:de,values:{...o}})))}(ve.shouldDirty||ve.shouldTouch)&&A(de,He,ve.shouldTouch,ve.shouldDirty,!0),ve.shouldValidate&&ie(de)},Q=(de,be,ve)=>{for(const ze in be){const He=be[ze],Ne=`${de}.${ze}`,Fe=jt(i,Ne);(l.array.has(de)||!J6(He)||Fe&&!Fe._f)&&!M5(He)?Q(Ne,He,ve):B(Ne,He,ve)}},V=(de,be,ve={})=>{const ze=jt(i,de),He=l.array.has(de),Ne=Op(be);Di(o,de,Ne),He?(h.array.next({name:de,values:{...o}}),(f.isDirty||f.dirtyFields)&&ve.shouldDirty&&h.state.next({name:de,dirtyFields:lz(s,o),isDirty:L(de,Ne)})):ze&&!ze._f&&!Ou(Ne)?Q(de,Ne,ve):B(de,Ne,ve),NIe(de,l)&&h.state.next({...r}),h.values.next({name:de,values:{...o}}),!a.mount&&e()},Z=async de=>{const be=de.target;let ve=be.name,ze=!0;const He=jt(i,ve),Ne=()=>be.type?uz(He._f):MJe(de);if(He){let Fe,nt;const Ye=Ne(),Ge=de.type===Z6.BLUR||de.type===Z6.FOCUS_OUT,Ct=!Der(He._f)&&!n.resolver&&!jt(r.errors,ve)&&!He._f.deps||Rer(Ge,jt(r.touchedFields,ve),r.isSubmitted,v,g),wt=NIe(ve,l,Ge);Di(o,ve,Ye),Ge?(He._f.onBlur&&He._f.onBlur(de),u&&u(0)):He._f.onChange&&He._f.onChange(de);const pt=A(ve,Ye,Ge,!1),on=!lf(pt)||wt;if(!Ge&&h.values.next({name:ve,type:de.type,values:{...o}}),Ct)return f.isValid&&b(),on&&h.state.next({name:ve,...wt?{}:pt});if(!Ge&&wt&&h.state.next({...r}),_(!0),n.resolver){const{errors:mn}=await I([ve]),gn=GIe(r.errors,i,ve),br=GIe(mn,i,gn.name||ve);Fe=br.error,ve=br.name,nt=lf(mn)}else Fe=(await WIe(He,o,y,n.shouldUseNativeValidation))[ve],ze=isNaN(Ye)||Ye===jt(o,ve,Ye),ze&&(Fe?nt=!1:f.isValid&&(nt=await R(i,!0)));ze&&(He._f.deps&&ie(He._f.deps),k(ve,nt,Fe,pt))}},ie=async(de,be={})=>{let ve,ze;const He=fL(de);if(_(!0),n.resolver){const Ne=await D(Go(de)?de:He);ve=lf(Ne),ze=de?!He.some(Fe=>jt(Ne,Fe)):ve}else de?(ze=(await Promise.all(He.map(async Ne=>{const Fe=jt(i,Ne);return await R(Fe&&Fe._f?{[Ne]:Fe}:Fe)}))).every(Boolean),!(!ze&&!r.isValid)&&b()):ze=ve=await R(i);return h.state.next({...!Jp(de)||f.isValid&&ve!==r.isValid?{}:{name:de},...n.resolver||!de?{isValid:ve}:{},errors:r.errors,isValidating:!1}),be.shouldFocus&&!ze&&FK(i,Ne=>Ne&&jt(r.errors,Ne),de?He:l.mount),ze},J=de=>{const be={...s,...a.mount?o:{}};return Go(de)?be:Jp(de)?jt(be,de):de.map(ve=>jt(be,ve))},X=(de,be)=>({invalid:!!jt((be||r).errors,de),isDirty:!!jt((be||r).dirtyFields,de),isTouched:!!jt((be||r).touchedFields,de),error:jt((be||r).errors,de)}),fe=de=>{de&&fL(de).forEach(be=>gl(r.errors,be)),h.state.next({errors:de?r.errors:{}})},ue=(de,be,ve)=>{const ze=(jt(i,de,{_f:{}})._f||{}).ref;Di(r.errors,de,{...be,ref:ze}),h.state.next({name:de,errors:r.errors,isValid:!1}),ve&&ve.shouldFocus&&ze&&ze.focus&&ze.focus()},te=(de,be)=>sv(de)?h.values.subscribe({next:ve=>de(P(void 0,be),ve)}):P(de,be,!0),F=(de,be={})=>{for(const ve of de?fL(de):l.mount)l.mount.delete(ve),l.array.delete(ve),be.keepValue||(gl(i,ve),gl(o,ve)),!be.keepError&&gl(r.errors,ve),!be.keepDirty&&gl(r.dirtyFields,ve),!be.keepTouched&&gl(r.touchedFields,ve),!n.shouldUnregister&&!be.keepDefaultValue&&gl(s,ve);h.values.next({values:{...o}}),h.state.next({...r,...be.keepDirty?{isDirty:L()}:{}}),!be.keepIsValid&&b()},ne=(de,be={})=>{let ve=jt(i,de);const ze=__(be.disabled);return Di(i,de,{...ve||{},_f:{...ve&&ve._f?ve._f:{ref:{name:de}},name:de,mount:!0,...be}}),l.mount.add(de),ve?ze&&Di(o,de,be.disabled?void 0:jt(o,de,uz(ve._f))):T(de,!0,be.value),{...ze?{disabled:be.disabled}:{},...n.progressive?{required:!!be.required,min:JS(be.min),max:JS(be.max),minLength:JS(be.minLength),maxLength:JS(be.maxLength),pattern:JS(be.pattern)}:{},name:de,onChange:Z,onBlur:Z,ref:He=>{if(He){ne(de,be),ve=jt(i,de);const Ne=Go(He.value)&&He.querySelectorAll&&He.querySelectorAll("input,select,textarea")[0]||He,Fe=Aer(Ne),nt=ve._f.refs||[];if(Fe?nt.find(Ye=>Ye===Ne):Ne===ve._f.ref)return;Di(i,de,{_f:{...ve._f,...Fe?{refs:[...nt.filter(az),Ne,...Array.isArray(jt(s,de))?[{}]:[]],ref:{type:Ne.type,name:de}}:{ref:Ne}}}),T(de,!1,void 0,Ne)}else ve=jt(i,de,{}),ve._f&&(ve._f.mount=!1),(n.shouldUnregister||be.shouldUnregister)&&!($Je(l.array,de)&&a.action)&&l.unMount.add(de)}}},ce=()=>n.shouldFocusError&&FK(i,de=>de&&jt(r.errors,de),l.mount),me=(de,be)=>async ve=>{ve&&(ve.preventDefault&&ve.preventDefault(),ve.persist&&ve.persist());let ze=Op(o);if(h.state.next({isSubmitting:!0}),n.resolver){const{errors:He,values:Ne}=await I();r.errors=He,ze=Ne}else await R(i);gl(r.errors,"root"),lf(r.errors)?(h.state.next({errors:{}}),await de(ze,ve)):(be&&await be({...r.errors},ve),ce(),setTimeout(ce)),h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:lf(r.errors),submitCount:r.submitCount+1,errors:r.errors})},pe=(de,be={})=>{jt(i,de)&&(Go(be.defaultValue)?V(de,jt(s,de)):(V(de,be.defaultValue),Di(s,de,be.defaultValue)),be.keepTouched||gl(r.touchedFields,de),be.keepDirty||(gl(r.dirtyFields,de),r.isDirty=be.defaultValue?L(de,jt(s,de)):L()),be.keepError||(gl(r.errors,de),f.isValid&&b()),h.state.next({...r}))},Ie=(de,be={})=>{const ve=de||s,ze=Op(ve),He=de&&!lf(de)?ze:s;if(be.keepDefaultValues||(s=ve),!be.keepValues){if(be.keepDirtyValues||p)for(const Ne of l.mount)jt(r.dirtyFields,Ne)?Di(He,Ne,jt(o,Ne)):V(Ne,jt(He,Ne));else{if(Ase&&Go(de))for(const Ne of l.mount){const Fe=jt(i,Ne);if(Fe&&Fe._f){const nt=Array.isArray(Fe._f.refs)?Fe._f.refs[0]:Fe._f.ref;if(X6(nt)){const Ye=nt.closest("form");if(Ye){Ye.reset();break}}}}i={}}o=t.shouldUnregister?be.keepDefaultValues?Op(s):{}:Op(He),h.array.next({values:{...He}}),h.values.next({values:{...He}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!f.isValid||!!be.keepIsValid,a.watch=!!t.shouldUnregister,h.state.next({submitCount:be.keepSubmitCount?r.submitCount:0,isDirty:be.keepDirty?r.isDirty:!!(be.keepDefaultValues&&!sx(de,s)),isSubmitted:be.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:be.keepDirtyValues?r.dirtyFields:be.keepDefaultValues&&de?lz(s,de):{},touchedFields:be.keepTouched?r.touchedFields:{},errors:be.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},xe=(de,be)=>Ie(sv(de)?de(o):de,be);return{control:{register:ne,unregister:F,getFieldState:X,handleSubmit:me,setError:ue,_executeSchema:I,_getWatch:P,_getDirty:L,_updateValid:b,_removeUnmounted:O,_updateFieldArray:C,_getFieldArray:$,_reset:Ie,_resetDefaultValues:()=>sv(n.defaultValues)&&n.defaultValues().then(de=>{xe(de,n.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:de=>{r={...r,...de}},_subjects:h,_proxyFormState:f,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(de){a=de},get _defaultValues(){return s},get _names(){return l},set _names(de){l=de},get _formState(){return r},set _formState(de){r=de},get _options(){return n},set _options(de){n={...n,...de}}},trigger:ie,register:ne,handleSubmit:me,watch:te,setValue:V,getValues:J,reset:xe,resetField:pe,clearErrors:fe,unregister:F,setError:ue,setFocus:(de,be={})=>{const ve=jt(i,de),ze=ve&&ve._f;if(ze){const He=ze.refs?ze.refs[0]:ze.ref;He.focus&&(He.focus(),be.shouldSelect&&He.select())}},getFieldState:X}}function Lse(t={}){const e=re.useRef(),n=re.useRef(),[r,i]=re.useState({isDirty:!1,isValidating:!1,isLoading:sv(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:sv(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Ler(t,()=>i(o=>({...o}))),formState:r});const s=e.current.control;return s._options=t,Dse({subject:s._subjects.state,next:o=>{BJe(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),re.useEffect(()=>{t.values&&!sx(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values):s._resetDefaultValues()},[t.values,s]),re.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=FJe(r,s),e.current}var qIe=function(t,e,n){if(t&&"reportValidity"in t){var r=jt(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},ZJe=function(t,e){var n=function(i){var s=e.fields[i];s&&s.ref&&"reportValidity"in s.ref?qIe(s.ref,i,t):s.refs&&s.refs.forEach(function(o){return qIe(o,i,t)})};for(var r in e.fields)n(r)},Per=function(t,e){e.shouldUseNativeValidation&&ZJe(t,e);var n={};for(var r in t){var i=jt(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if($er(e.names||Object.keys(t),r)){var o=Object.assign({},Mer(jt(n,r)));Di(o,"root",s),Di(n,r,o)}else Di(n,r,s)}return n},Mer=function(t){return Array.isArray(t)?t.filter(Boolean):[]},$er=function(t,e){return t.some(function(n){return n.startsWith(e+".")})},Fer=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var l=n[o].types,u=l&&l[r.code];n[o]=HJe(o,e,n,i,u?[].concat(u,r.message):r.message)}t.shift()}return n},Pse=function(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return s.shouldUseNativeValidation&&ZJe({},s),{errors:{},values:n.raw?r:u}})}catch(u){return a(u)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return a.errors!=null}(o))return{values:{},errors:Per(Fer(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},vi;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(vi||(vi={}));var YIe;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(YIe||(YIe={}));const Ft=vi.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Wb=t=>{switch(typeof t){case"undefined":return Ft.undefined;case"string":return Ft.string;case"number":return isNaN(t)?Ft.nan:Ft.number;case"boolean":return Ft.boolean;case"function":return Ft.function;case"bigint":return Ft.bigint;case"symbol":return Ft.symbol;case"object":return Array.isArray(t)?Ft.array:t===null?Ft.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ft.promise:typeof Map<"u"&&t instanceof Map?Ft.map:typeof Set<"u"&&t instanceof Set?Ft.set:typeof Date<"u"&&t instanceof Date?Ft.date:Ft.object;default:return Ft.unknown}},yt=vi.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class um extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,vi.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}um.create=t=>new um(t);const t8=(t,e)=>{let n;switch(t.code){case yt.invalid_type:t.received===Ft.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case yt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,vi.jsonStringifyReplacer)}`;break;case yt.unrecognized_keys:n=`Unrecognized key(s) in object: ${vi.joinValues(t.keys,", ")}`;break;case yt.invalid_union:n="Invalid input";break;case yt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${vi.joinValues(t.options)}`;break;case yt.invalid_enum_value:n=`Invalid enum value. Expected ${vi.joinValues(t.options)}, received '${t.received}'`;break;case yt.invalid_arguments:n="Invalid function arguments";break;case yt.invalid_return_type:n="Invalid function return type";break;case yt.invalid_date:n="Invalid date";break;case yt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:vi.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case yt.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case yt.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case yt.custom:n="Invalid input";break;case yt.invalid_intersection_types:n="Intersection results could not be merged";break;case yt.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case yt.not_finite:n="Number must be finite";break;default:n=e.defaultError,vi.assertNever(t)}return{message:n}};let Ber=t8;function BK(){return Ber}const NK=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}};function qt(t,e){const n=NK({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,BK(),t8].filter(r=>!!r)});t.common.issues.push(n)}class Wu{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return rr;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return Wu.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return rr;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const rr=Object.freeze({status:"aborted"}),Ner=t=>({status:"dirty",value:t}),Hc=t=>({status:"valid",value:t}),KIe=t=>t.status==="aborted",ZIe=t=>t.status==="dirty",n8=t=>t.status==="valid",VK=t=>typeof Promise<"u"&&t instanceof Promise;var vn;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(vn||(vn={}));class xm{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const XIe=(t,e)=>{if(n8(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new um(t.common.issues);return this._error=n,this._error}}};function nr(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:i}}class Ir{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Wb(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Wb(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Wu,ctx:{common:e.parent.common,data:e.data,parsedType:Wb(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(VK(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wb(e)},s=this._parseSync({data:e,path:i.path,parent:i});return XIe(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wb(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(VK(i)?i:Promise.resolve(i));return XIe(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:yt.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new w0({schema:this,typeName:Pn.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return kv.create(this,this._def)}nullable(){return vC.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return cm.create(this,this._def)}promise(){return w3.create(this,this._def)}or(e){return s8.create([this,e],this._def)}and(e){return o8.create(this,e,this._def)}transform(e){return new w0({...nr(this._def),schema:this,typeName:Pn.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new d8({...nr(this._def),innerType:this,defaultValue:n,typeName:Pn.ZodDefault})}brand(){return new Qer({typeName:Pn.ZodBranded,type:this,...nr(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new YK({...nr(this._def),innerType:this,catchValue:n,typeName:Pn.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return _F.create(this,e)}readonly(){return ZK.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ver=/^c[^\s-]{8,}$/i,Uer=/^[a-z][a-z0-9]*$/,Her=/[0-9A-HJKMNP-TV-Z]{26}/,zer=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Wer=/^([A-Z0-9_+-]+\.?)*[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Ger=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,qer=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Yer=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Ker=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Zer(t,e){return!!((e==="v4"||!e)&&qer.test(t)||(e==="v6"||!e)&&Yer.test(t))}class Ng extends Ir{constructor(){super(...arguments),this._regex=(e,n,r)=>this.refinement(i=>e.test(i),{validation:n,code:yt.invalid_string,...vn.errToObj(r)}),this.nonempty=e=>this.min(1,vn.errToObj(e)),this.trim=()=>new Ng({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new Ng({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new Ng({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ft.string){const s=this._getOrReturnCtx(e);return qt(s,{code:yt.invalid_type,expected:Ft.string,received:s.parsedType}),rr}const r=new Wu;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),qt(i,{code:yt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),qt(i,{code:yt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?qt(i,{code:yt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&qt(i,{code:yt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Wer.test(e.data)||(i=this._getOrReturnCtx(e,i),qt(i,{validation:"email",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Ger.test(e.data)||(i=this._getOrReturnCtx(e,i),qt(i,{validation:"emoji",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")zer.test(e.data)||(i=this._getOrReturnCtx(e,i),qt(i,{validation:"uuid",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")Ver.test(e.data)||(i=this._getOrReturnCtx(e,i),qt(i,{validation:"cuid",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")Uer.test(e.data)||(i=this._getOrReturnCtx(e,i),qt(i,{validation:"cuid2",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")Her.test(e.data)||(i=this._getOrReturnCtx(e,i),qt(i,{validation:"ulid",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),qt(i,{validation:"url",code:yt.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),qt(i,{validation:"regex",code:yt.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),qt(i,{code:yt.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),qt(i,{code:yt.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),qt(i,{code:yt.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Ker(s).test(e.data)||(i=this._getOrReturnCtx(e,i),qt(i,{code:yt.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="ip"?Zer(e.data,s.version)||(i=this._getOrReturnCtx(e,i),qt(i,{validation:"ip",code:yt.invalid_string,message:s.message}),r.dirty()):vi.assertNever(s);return{status:r.value,value:e.data}}_addCheck(e){return new Ng({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...vn.errToObj(e)})}url(e){return this._addCheck({kind:"url",...vn.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...vn.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...vn.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...vn.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...vn.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...vn.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...vn.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...vn.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...vn.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...vn.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...vn.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...vn.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...vn.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...vn.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...vn.errToObj(n)})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ng.create=t=>{var e;return new Ng({checks:[],typeName:Pn.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...nr(t)})};function Xer(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class pC extends Ir{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ft.number){const s=this._getOrReturnCtx(e);return qt(s,{code:yt.invalid_type,expected:Ft.number,received:s.parsedType}),rr}let r;const i=new Wu;for(const s of this._def.checks)s.kind==="int"?vi.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),qt(r,{code:yt.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),qt(r,{code:yt.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),qt(r,{code:yt.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Xer(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),qt(r,{code:yt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),qt(r,{code:yt.not_finite,message:s.message}),i.dirty()):vi.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,vn.toString(n))}gt(e,n){return this.setLimit("min",e,!1,vn.toString(n))}lte(e,n){return this.setLimit("max",e,!0,vn.toString(n))}lt(e,n){return this.setLimit("max",e,!1,vn.toString(n))}setLimit(e,n,r,i){return new pC({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:vn.toString(i)}]})}_addCheck(e){return new pC({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:vn.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:vn.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:vn.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:vn.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:vn.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:vn.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:vn.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:vn.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:vn.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&vi.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}pC.create=t=>new pC({checks:[],typeName:Pn.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...nr(t)});class mC extends Ir{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Ft.bigint){const s=this._getOrReturnCtx(e);return qt(s,{code:yt.invalid_type,expected:Ft.bigint,received:s.parsedType}),rr}let r;const i=new Wu;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),qt(r,{code:yt.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),qt(r,{code:yt.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),qt(r,{code:yt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):vi.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,vn.toString(n))}gt(e,n){return this.setLimit("min",e,!1,vn.toString(n))}lte(e,n){return this.setLimit("max",e,!0,vn.toString(n))}lt(e,n){return this.setLimit("max",e,!1,vn.toString(n))}setLimit(e,n,r,i){return new mC({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:vn.toString(i)}]})}_addCheck(e){return new mC({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:vn.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:vn.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:vn.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:vn.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:vn.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}mC.create=t=>{var e;return new mC({checks:[],typeName:Pn.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...nr(t)})};class UK extends Ir{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ft.boolean){const r=this._getOrReturnCtx(e);return qt(r,{code:yt.invalid_type,expected:Ft.boolean,received:r.parsedType}),rr}return Hc(e.data)}}UK.create=t=>new UK({typeName:Pn.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...nr(t)});class x3 extends Ir{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ft.date){const s=this._getOrReturnCtx(e);return qt(s,{code:yt.invalid_type,expected:Ft.date,received:s.parsedType}),rr}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return qt(s,{code:yt.invalid_date}),rr}const r=new Wu;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),qt(i,{code:yt.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),qt(i,{code:yt.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):vi.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new x3({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:vn.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:vn.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}x3.create=t=>new x3({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Pn.ZodDate,...nr(t)});class HK extends Ir{_parse(e){if(this._getType(e)!==Ft.symbol){const r=this._getOrReturnCtx(e);return qt(r,{code:yt.invalid_type,expected:Ft.symbol,received:r.parsedType}),rr}return Hc(e.data)}}HK.create=t=>new HK({typeName:Pn.ZodSymbol,...nr(t)});class r8 extends Ir{_parse(e){if(this._getType(e)!==Ft.undefined){const r=this._getOrReturnCtx(e);return qt(r,{code:yt.invalid_type,expected:Ft.undefined,received:r.parsedType}),rr}return Hc(e.data)}}r8.create=t=>new r8({typeName:Pn.ZodUndefined,...nr(t)});class i8 extends Ir{_parse(e){if(this._getType(e)!==Ft.null){const r=this._getOrReturnCtx(e);return qt(r,{code:yt.invalid_type,expected:Ft.null,received:r.parsedType}),rr}return Hc(e.data)}}i8.create=t=>new i8({typeName:Pn.ZodNull,...nr(t)});class zK extends Ir{constructor(){super(...arguments),this._any=!0}_parse(e){return Hc(e.data)}}zK.create=t=>new zK({typeName:Pn.ZodAny,...nr(t)});class C_ extends Ir{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Hc(e.data)}}C_.create=t=>new C_({typeName:Pn.ZodUnknown,...nr(t)});class Jv extends Ir{_parse(e){const n=this._getOrReturnCtx(e);return qt(n,{code:yt.invalid_type,expected:Ft.never,received:n.parsedType}),rr}}Jv.create=t=>new Jv({typeName:Pn.ZodNever,...nr(t)});class WK extends Ir{_parse(e){if(this._getType(e)!==Ft.undefined){const r=this._getOrReturnCtx(e);return qt(r,{code:yt.invalid_type,expected:Ft.void,received:r.parsedType}),rr}return Hc(e.data)}}WK.create=t=>new WK({typeName:Pn.ZodVoid,...nr(t)});class cm extends Ir{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Ft.array)return qt(n,{code:yt.invalid_type,expected:Ft.array,received:n.parsedType}),rr;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(qt(n,{code:o?yt.too_big:yt.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(qt(n,{code:yt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(qt(n,{code:yt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new xm(n,o,n.path,a)))).then(o=>Wu.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new xm(n,o,n.path,a)));return Wu.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new cm({...this._def,minLength:{value:e,message:vn.toString(n)}})}max(e,n){return new cm({...this._def,maxLength:{value:e,message:vn.toString(n)}})}length(e,n){return new cm({...this._def,exactLength:{value:e,message:vn.toString(n)}})}nonempty(e){return this.min(1,e)}}cm.create=(t,e)=>new cm({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Pn.ZodArray,...nr(e)});function Y2(t){if(t instanceof So){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=kv.create(Y2(r))}return new So({...t._def,shape:()=>e})}else return t instanceof cm?new cm({...t._def,type:Y2(t.element)}):t instanceof kv?kv.create(Y2(t.unwrap())):t instanceof vC?vC.create(Y2(t.unwrap())):t instanceof x0?x0.create(t.items.map(e=>Y2(e))):t}class So extends Ir{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=vi.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Ft.object){const u=this._getOrReturnCtx(e);return qt(u,{code:yt.invalid_type,expected:Ft.object,received:u.parsedType}),rr}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Jv&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||a.push(u);const l=[];for(const u of o){const d=s[u],f=i.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new xm(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Jv){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")a.length>0&&(qt(i,{code:yt.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const f=i.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new xm(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const f=await d.key;u.push({key:f,value:await d.value,alwaysSet:d.alwaysSet})}return u}).then(u=>Wu.mergeObjectSync(r,u)):Wu.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return vn.errToObj,new So({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=vn.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new So({...this._def,unknownKeys:"strip"})}passthrough(){return new So({...this._def,unknownKeys:"passthrough"})}extend(e){return new So({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new So({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Pn.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new So({...this._def,catchall:e})}pick(e){const n={};return vi.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new So({...this._def,shape:()=>n})}omit(e){const n={};return vi.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new So({...this._def,shape:()=>n})}deepPartial(){return Y2(this)}partial(e){const n={};return vi.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new So({...this._def,shape:()=>n})}required(e){const n={};return vi.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof kv;)s=s._def.innerType;n[r]=s}}),new So({...this._def,shape:()=>n})}keyof(){return XJe(vi.objectKeys(this.shape))}}So.create=(t,e)=>new So({shape:()=>t,unknownKeys:"strip",catchall:Jv.create(),typeName:Pn.ZodObject,...nr(e)});So.strictCreate=(t,e)=>new So({shape:()=>t,unknownKeys:"strict",catchall:Jv.create(),typeName:Pn.ZodObject,...nr(e)});So.lazycreate=(t,e)=>new So({shape:t,unknownKeys:"strip",catchall:Jv.create(),typeName:Pn.ZodObject,...nr(e)});class s8 extends Ir{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new um(a.ctx.common.issues));return qt(n,{code:yt.invalid_union,unionErrors:o}),rr}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new um(l));return qt(n,{code:yt.invalid_union,unionErrors:a}),rr}}get options(){return this._def.options}}s8.create=(t,e)=>new s8({options:t,typeName:Pn.ZodUnion,...nr(e)});const pL=t=>t instanceof l8?pL(t.schema):t instanceof w0?pL(t.innerType()):t instanceof u8?[t.value]:t instanceof Zx?t.options:t instanceof c8?Object.keys(t.enum):t instanceof d8?pL(t._def.innerType):t instanceof r8?[void 0]:t instanceof i8?[null]:null;class Mse extends Ir{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ft.object)return qt(n,{code:yt.invalid_type,expected:Ft.object,received:n.parsedType}),rr;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(qt(n,{code:yt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),rr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=pL(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new Mse({typeName:Pn.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...nr(r)})}}function GK(t,e){const n=Wb(t),r=Wb(e);if(t===e)return{valid:!0,data:t};if(n===Ft.object&&r===Ft.object){const i=vi.objectKeys(e),s=vi.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const l=GK(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===Ft.array&&r===Ft.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],l=GK(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===Ft.date&&r===Ft.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class o8 extends Ir{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(KIe(s)||KIe(o))return rr;const a=GK(s.value,o.value);return a.valid?((ZIe(s)||ZIe(o))&&n.dirty(),{status:n.value,value:a.data}):(qt(r,{code:yt.invalid_intersection_types}),rr)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}o8.create=(t,e,n)=>new o8({left:t,right:e,typeName:Pn.ZodIntersection,...nr(n)});class x0 extends Ir{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ft.array)return qt(r,{code:yt.invalid_type,expected:Ft.array,received:r.parsedType}),rr;if(r.data.length<this._def.items.length)return qt(r,{code:yt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),rr;!this._def.rest&&r.data.length>this._def.items.length&&(qt(r,{code:yt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new xm(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Wu.mergeArray(n,o)):Wu.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new x0({...this._def,rest:e})}}x0.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new x0({items:t,typeName:Pn.ZodTuple,rest:null,...nr(e)})};class a8 extends Ir{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ft.object)return qt(r,{code:yt.invalid_type,expected:Ft.object,received:r.parsedType}),rr;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new xm(r,a,r.path,a)),value:o._parse(new xm(r,r.data[a],r.path,a))});return r.common.async?Wu.mergeObjectAsync(n,i):Wu.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ir?new a8({keyType:e,valueType:n,typeName:Pn.ZodRecord,...nr(r)}):new a8({keyType:Ng.create(),valueType:e,typeName:Pn.ZodRecord,...nr(n)})}}class qK extends Ir{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ft.map)return qt(r,{code:yt.invalid_type,expected:Ft.map,received:r.parsedType}),rr;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],u)=>({key:i._parse(new xm(r,a,r.path,[u,"key"])),value:s._parse(new xm(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return rr;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return rr;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}}}}qK.create=(t,e,n)=>new qK({valueType:e,keyType:t,typeName:Pn.ZodMap,...nr(n)});class gC extends Ir{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ft.set)return qt(r,{code:yt.invalid_type,expected:Ft.set,received:r.parsedType}),rr;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(qt(r,{code:yt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(qt(r,{code:yt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return rr;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>s._parse(new xm(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new gC({...this._def,minSize:{value:e,message:vn.toString(n)}})}max(e,n){return new gC({...this._def,maxSize:{value:e,message:vn.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}gC.create=(t,e)=>new gC({valueType:t,minSize:null,maxSize:null,typeName:Pn.ZodSet,...nr(e)});class zk extends Ir{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ft.function)return qt(n,{code:yt.invalid_type,expected:Ft.function,received:n.parsedType}),rr;function r(a,l){return NK({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,BK(),t8].filter(u=>!!u),issueData:{code:yt.invalid_arguments,argumentsError:l}})}function i(a,l){return NK({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,BK(),t8].filter(u=>!!u),issueData:{code:yt.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof w3){const a=this;return Hc(async function(...l){const u=new um([]),d=await a._def.args.parseAsync(l,s).catch(p=>{throw u.addIssue(r(l,p)),u}),f=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(f,s).catch(p=>{throw u.addIssue(i(f,p)),u})})}else{const a=this;return Hc(function(...l){const u=a._def.args.safeParse(l,s);if(!u.success)throw new um([r(l,u.error)]);const d=Reflect.apply(o,this,u.data),f=a._def.returns.safeParse(d,s);if(!f.success)throw new um([i(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new zk({...this._def,args:x0.create(e).rest(C_.create())})}returns(e){return new zk({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new zk({args:e||x0.create([]).rest(C_.create()),returns:n||C_.create(),typeName:Pn.ZodFunction,...nr(r)})}}class l8 extends Ir{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}l8.create=(t,e)=>new l8({getter:t,typeName:Pn.ZodLazy,...nr(e)});class u8 extends Ir{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return qt(n,{received:n.data,code:yt.invalid_literal,expected:this._def.value}),rr}return{status:"valid",value:e.data}}get value(){return this._def.value}}u8.create=(t,e)=>new u8({value:t,typeName:Pn.ZodLiteral,...nr(e)});function XJe(t,e){return new Zx({values:t,typeName:Pn.ZodEnum,...nr(e)})}class Zx extends Ir{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return qt(n,{expected:vi.joinValues(r),received:n.parsedType,code:yt.invalid_type}),rr}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return qt(n,{received:n.data,code:yt.invalid_enum_value,options:r}),rr}return Hc(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return Zx.create(e)}exclude(e){return Zx.create(this.options.filter(n=>!e.includes(n)))}}Zx.create=XJe;class c8 extends Ir{_parse(e){const n=vi.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Ft.string&&r.parsedType!==Ft.number){const i=vi.objectValues(n);return qt(r,{expected:vi.joinValues(i),received:r.parsedType,code:yt.invalid_type}),rr}if(n.indexOf(e.data)===-1){const i=vi.objectValues(n);return qt(r,{received:r.data,code:yt.invalid_enum_value,options:i}),rr}return Hc(e.data)}get enum(){return this._def.values}}c8.create=(t,e)=>new c8({values:t,typeName:Pn.ZodNativeEnum,...nr(e)});class w3 extends Ir{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ft.promise&&n.common.async===!1)return qt(n,{code:yt.invalid_type,expected:Ft.promise,received:n.parsedType}),rr;const r=n.parsedType===Ft.promise?n.data:Promise.resolve(n.data);return Hc(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}w3.create=(t,e)=>new w3({type:t,typeName:Pn.ZodPromise,...nr(e)});class w0 extends Ir{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Pn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{qt(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?rr:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?rr:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!n8(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>n8(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);vi.assertNever(i)}}w0.create=(t,e,n)=>new w0({schema:t,typeName:Pn.ZodEffects,effect:e,...nr(n)});w0.createWithPreprocess=(t,e,n)=>new w0({schema:e,effect:{type:"preprocess",transform:t},typeName:Pn.ZodEffects,...nr(n)});class kv extends Ir{_parse(e){return this._getType(e)===Ft.undefined?Hc(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}kv.create=(t,e)=>new kv({innerType:t,typeName:Pn.ZodOptional,...nr(e)});class vC extends Ir{_parse(e){return this._getType(e)===Ft.null?Hc(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}vC.create=(t,e)=>new vC({innerType:t,typeName:Pn.ZodNullable,...nr(e)});class d8 extends Ir{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Ft.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}d8.create=(t,e)=>new d8({innerType:t,typeName:Pn.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...nr(e)});class YK extends Ir{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return VK(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new um(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new um(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}YK.create=(t,e)=>new YK({innerType:t,typeName:Pn.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...nr(e)});class KK extends Ir{_parse(e){if(this._getType(e)!==Ft.nan){const r=this._getOrReturnCtx(e);return qt(r,{code:yt.invalid_type,expected:Ft.nan,received:r.parsedType}),rr}return{status:"valid",value:e.data}}}KK.create=t=>new KK({typeName:Pn.ZodNaN,...nr(t)});class Qer extends Ir{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class _F extends Ir{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?rr:s.status==="dirty"?(n.dirty(),Ner(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?rr:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new _F({in:e,out:n,typeName:Pn.ZodPipeline})}}class ZK extends Ir{_parse(e){const n=this._def.innerType._parse(e);return n8(n)&&(n.value=Object.freeze(n.value)),n}}ZK.create=(t,e)=>new ZK({innerType:t,typeName:Pn.ZodReadonly,...nr(e)});So.lazycreate;var Pn;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Pn||(Pn={}));const ox=Ng.create;pC.create;KK.create;mC.create;UK.create;x3.create;HK.create;r8.create;i8.create;zK.create;C_.create;Jv.create;WK.create;const Jer=cm.create,Wk=So.create;So.strictCreate;s8.create;Mse.create;o8.create;x0.create;a8.create;qK.create;gC.create;zk.create;l8.create;u8.create;Zx.create;c8.create;w3.create;w0.create;kv.create;vC.create;w0.createWithPreprocess;_F.create;/**
 * filesize
 *
 * @copyright 2022 Jason Mulligan <jason.mulligan@avoidwork.com>
 * @license BSD-3-Clause
 * @version 9.0.11
 */const etr="array",ttr="bit",QIe="bits",ntr="byte",JIe="bytes",_2="",rtr="exponent",itr="function",aj="iec",str="Invalid number",otr="Invalid rounding method",eT="jedec",atr="object",eDe=".",ltr="round",utr="s",ctr="kbit",dtr="kB",ftr=" ",htr="string",ptr="0",cz={symbol:{iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},fullform:{iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]}};function yC(t,{bits:e=!1,pad:n=!1,base:r=-1,round:i=2,locale:s=_2,localeOptions:o={},separator:a=_2,spacer:l=ftr,symbols:u={},standard:d=_2,output:f=htr,fullform:h=!1,fullforms:p=[],exponent:g=-1,roundingMethod:v=ltr,precision:y=0}={}){let x=g,b=Number(t),_=[],C=0,S=_2;r===-1&&d.length===0?(r=10,d=eT):r===-1&&d.length>0?(d=d===aj?aj:eT,r=d===aj?2:10):(r=r===2?2:10,d=r===10||d===eT?eT:aj);const T=r===10?1e3:1024,A=h===!0,k=b<0,I=Math[v];if(isNaN(t))throw new TypeError(str);if(typeof I!==itr)throw new TypeError(otr);if(k&&(b=-b),(x===-1||isNaN(x))&&(x=Math.floor(Math.log(b)/Math.log(T)),x<0&&(x=0)),x>8&&(y>0&&(y+=8-x),x=8),f===rtr)return x;if(b===0)_[0]=0,S=_[1]=cz.symbol[d][e?QIe:JIe][x];else{C=b/(r===2?Math.pow(2,x*10):Math.pow(1e3,x)),e&&(C=C*8,C>=T&&x<8&&(C=C/T,x++));const D=Math.pow(10,x>0?i:0);_[0]=I(C*D)/D,_[0]===T&&x<8&&g===-1&&(_[0]=1,x++),S=_[1]=r===10&&x===1?e?ctr:dtr:cz.symbol[d][e?QIe:JIe][x]}if(k&&(_[0]=-_[0]),y>0&&(_[0]=_[0].toPrecision(y)),_[1]=u[_[1]]||_[1],s===!0?_[0]=_[0].toLocaleString():s.length>0?_[0]=_[0].toLocaleString(s,o):a.length>0&&(_[0]=_[0].toString().replace(eDe,a)),n&&Number.isInteger(_[0])===!1&&i>0){const D=a||eDe,R=_[0].toString().split(D),O=R[1]||_2,L=O.length,P=i-L;_[0]=`${R[0]}${D}${O.padEnd(L+P,ptr)}`}return A&&(_[1]=p[x]?p[x]:cz.fullform[d][x]+(e?ttr:ntr)+(_[0]===1?_2:utr)),f===etr?_:f===atr?{value:_[0],symbol:_[1],exponent:x,unit:S}:_.join(l)}yC.partial=t=>e=>yC(e,t);var mtr=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,n=[],r=0;r<t.rangeCount;r++)n.push(t.getRangeAt(r));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||n.forEach(function(i){t.addRange(i)}),e&&e.focus()}},gtr=mtr,tDe={"text/plain":"Text","text/html":"Url",default:"Text"},vtr="Copy to clipboard: #{key}, Enter";function ytr(t){var e=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function btr(t,e){var n,r,i,s,o,a,l=!1;e||(e={}),n=e.debug||!1;try{i=gtr(),s=document.createRange(),o=document.getSelection(),a=document.createElement("span"),a.textContent=t,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(d){if(d.stopPropagation(),e.format)if(d.preventDefault(),typeof d.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var f=tDe[e.format]||tDe.default;window.clipboardData.setData(f,t)}else d.clipboardData.clearData(),d.clipboardData.setData(e.format,t);e.onCopy&&(d.preventDefault(),e.onCopy(d.clipboardData))}),document.body.appendChild(a),s.selectNodeContents(a),o.addRange(s);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");l=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),l=!0}catch(f){n&&console.error("unable to copy using clipboardData: ",f),n&&console.error("falling back to prompt"),r=ytr("message"in e?e.message:vtr),window.prompt(r,t)}}finally{o&&(typeof o.removeRange=="function"?o.removeRange(s):o.removeAllRanges()),a&&document.body.removeChild(a),i()}return l}var QJe=btr;const xtr=vt(QJe);var wtr={grad:.9,turn:360,rad:360/(2*Math.PI)},cg=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Ka=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},Tf=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},JJe=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},nDe=function(t){return{r:Tf(t.r,0,255),g:Tf(t.g,0,255),b:Tf(t.b,0,255),a:Tf(t.a)}},dz=function(t){return{r:Ka(t.r),g:Ka(t.g),b:Ka(t.b),a:Ka(t.a,3)}},_tr=/^#([0-9a-f]{3,8})$/i,lj=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},eet=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),o=s-Math.min(e,n,r),a=o?s===e?(n-r)/o:s===n?2+(r-e)/o:4+(e-n)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},tet=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),o=r*(1-n),a=r*(1-(e-s)*n),l=r*(1-(1-e+s)*n),u=s%6;return{r:255*[r,a,o,o,l,r][u],g:255*[l,r,r,a,o,o][u],b:255*[o,o,l,r,r,a][u],a:i}},rDe=function(t){return{h:JJe(t.h),s:Tf(t.s,0,100),l:Tf(t.l,0,100),a:Tf(t.a)}},iDe=function(t){return{h:Ka(t.h),s:Ka(t.s),l:Ka(t.l),a:Ka(t.a,3)}},sDe=function(t){return tet((n=(e=t).s,{h:e.h,s:(n*=((r=e.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:e.a}));var e,n,r},Gk=function(t){return{h:(e=eet(t)).h,s:(i=(200-(n=e.s))*(r=e.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,n,r,i},Ctr=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Etr=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Str=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ttr=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,XK={string:[[function(t){var e=_tr.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Ka(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Ka(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=Str.exec(t)||Ttr.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:nDe({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=Ctr.exec(t)||Etr.exec(t);if(!e)return null;var n,r,i=rDe({h:(n=e[1],r=e[2],r===void 0&&(r="deg"),Number(n)*(wtr[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return sDe(i)},"hsl"]],object:[[function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=i===void 0?1:i;return cg(e)&&cg(n)&&cg(r)?nDe({r:Number(e),g:Number(n),b:Number(r),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,n=t.s,r=t.l,i=t.a,s=i===void 0?1:i;if(!cg(e)||!cg(n)||!cg(r))return null;var o=rDe({h:Number(e),s:Number(n),l:Number(r),a:Number(s)});return sDe(o)},"hsl"],[function(t){var e=t.h,n=t.s,r=t.v,i=t.a,s=i===void 0?1:i;if(!cg(e)||!cg(n)||!cg(r))return null;var o=function(a){return{h:JJe(a.h),s:Tf(a.s,0,100),v:Tf(a.v,0,100),a:Tf(a.a)}}({h:Number(e),s:Number(n),v:Number(r),a:Number(s)});return tet(o)},"hsv"]]},oDe=function(t,e){for(var n=0;n<e.length;n++){var r=e[n][0](t);if(r)return[r,e[n][1]]}return[null,void 0]},ktr=function(t){return typeof t=="string"?oDe(t.trim(),XK.string):typeof t=="object"&&t!==null?oDe(t,XK.object):[null,void 0]},fz=function(t,e){var n=Gk(t);return{h:n.h,s:Tf(n.s+100*e,0,100),l:n.l,a:n.a}},hz=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},aDe=function(t,e){var n=Gk(t);return{h:n.h,s:n.s,l:Tf(n.l+100*e,0,100),a:n.a}},QK=function(){function t(e){this.parsed=ktr(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Ka(hz(this.rgba),2)},t.prototype.isDark=function(){return hz(this.rgba)<.5},t.prototype.isLight=function(){return hz(this.rgba)>=.5},t.prototype.toHex=function(){return e=dz(this.rgba),n=e.r,r=e.g,i=e.b,o=(s=e.a)<1?lj(Ka(255*s)):"","#"+lj(n)+lj(r)+lj(i)+o;var e,n,r,i,s,o},t.prototype.toRgb=function(){return dz(this.rgba)},t.prototype.toRgbString=function(){return e=dz(this.rgba),n=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+n+", "+r+", "+i+", "+s+")":"rgb("+n+", "+r+", "+i+")";var e,n,r,i,s},t.prototype.toHsl=function(){return iDe(Gk(this.rgba))},t.prototype.toHslString=function(){return e=iDe(Gk(this.rgba)),n=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+n+", "+r+"%, "+i+"%, "+s+")":"hsl("+n+", "+r+"%, "+i+"%)";var e,n,r,i,s},t.prototype.toHsv=function(){return e=eet(this.rgba),{h:Ka(e.h),s:Ka(e.s),v:Ka(e.v),a:Ka(e.a,3)};var e},t.prototype.invert=function(){return of({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),of(fz(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),of(fz(this.rgba,-e))},t.prototype.grayscale=function(){return of(fz(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),of(aDe(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),of(aDe(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?of({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):Ka(this.rgba.a,3);var n},t.prototype.hue=function(e){var n=Gk(this.rgba);return typeof e=="number"?of({h:e,s:n.s,l:n.l,a:n.a}):Ka(n.h)},t.prototype.isEqual=function(e){return this.toHex()===of(e).toHex()},t}(),of=function(t){return t instanceof QK?t:new QK(t)},lDe=[],Atr=function(t){t.forEach(function(e){lDe.indexOf(e)<0&&(e(QK,XK),lDe.push(e))})};function Itr(t,e){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in n)r[n[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,u=r[this.toHex()];if(u)return u;if(o!=null&&o.closest){var d=this.toRgb(),f=1/0,h="black";if(!s.length)for(var p in n)s[p]=new t(n[p]).toRgb();for(var g in n){var v=(a=d,l=s[g],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));v<f&&(f=v,h=g)}return h}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":n[a];return l?new t(l).toRgb():null},"name"])}var Dtr=1/0,Rtr="[object Symbol]",jtr=typeof co=="object"&&co&&co.Object===Object&&co,Otr=typeof self=="object"&&self&&self.Object===Object&&self,Ltr=jtr||Otr||Function("return this")(),Ptr=Object.prototype,Mtr=0,$tr=Ptr.toString,uDe=Ltr.Symbol,cDe=uDe?uDe.prototype:void 0,dDe=cDe?cDe.toString:void 0;function Ftr(t){if(typeof t=="string")return t;if(Ntr(t))return dDe?dDe.call(t):"";var e=t+"";return e=="0"&&1/t==-Dtr?"-0":e}function Btr(t){return!!t&&typeof t=="object"}function Ntr(t){return typeof t=="symbol"||Btr(t)&&$tr.call(t)==Rtr}function Vtr(t){return t==null?"":Ftr(t)}function Utr(t){var e=++Mtr;return Vtr(t)+e}var Htr=Utr;const ztr=vt(Htr);var Wtr={"3d":re.createElement("path",{d:"M18 14.625V3.375L9 0 0 3.375v11.25L9 18l9-3.375zM9 2.136l5.918 2.22-5.98 2.242-5.919-2.22L9 2.137zM2 13.239V5.065l6.438 2.414v8.174L2 13.24zM9.438 15.7L16 13.239V5.018l-6.563 2.46V15.7z",transform:"translate(15 10)",fillRule:"evenodd"}),acrobat:re.createElement("path",{d:"M10.15 1.095C9.938.33 9.42-.051 8.984.005c-.528.068-1.09.382-1.314.876-.63 1.416.685 5.582.887 6.279-1.28 3.863-5.66 11.5-7.806 12.017-.045-.505.225-1.965 3.055-3.785.146-.157.315-.348.393-.472-2.392 1.168-5.492 3.044-3.628 4.448.102.079.259.146.439.213 1.426.528 3.425-1.201 5.435-5.121 2.213-.73 3.999-1.28 6.526-1.662 2.762 1.875 4.616 2.257 5.874 1.774.348-.135.898-.573 1.055-1.145-1.022 1.258-3.414.382-5.323-.82 1.763-.191 3.582-.303 4.369-.056 1 .314.965.808.954.876.079-.27.191-.708-.022-1.056-.842-1.37-4.706-.573-6.11-.427-2.212-1.336-3.74-3.717-4.358-5.436.573-2.212 1.19-3.818.742-5.413zm-.954 4.638C8.826 4.42 8.309 1.5 9.14.556c1.628.932.618 3.144.056 5.177zm3.044 6.514c-2.134.393-3.583.944-5.66 1.764.617-1.202 1.785-4.268 2.346-6.29.787 1.573 1.741 3.111 3.314 4.526z",transform:"translate(14 9)",fillRule:"evenodd"}),audio:re.createElement("path",{d:"M.25 4.75v4.5h3L7 13V1L3.25 4.75h-3zM10.375 7A3.375 3.375 0 0 0 8.5 3.977v6.037A3.355 3.355 0 0 0 10.375 7zM8.5.421v1.545A5.254 5.254 0 0 1 12.25 7a5.254 5.254 0 0 1-3.75 5.032v1.545A6.747 6.747 0 0 0 13.75 7 6.747 6.747 0 0 0 8.5.421z",transform:"translate(17 12)",fillRule:"evenodd"}),binary:re.createElement("path",{d:"M2.338 6.112c1.192 0 1.928-1.072 1.928-2.68 0-1.56-.576-2.504-1.8-2.504C1.274.928.538 2 .538 3.608c0 1.56.576 2.504 1.8 2.504zM1.61 3.408c0-1.008.24-1.568.776-1.568.376 0 .616.336.728.888l-1.504.776v-.096zM2.418 5.2c-.368 0-.608-.32-.72-.856l1.496-.768v.056c0 1.008-.24 1.568-.776 1.568zm7.03.8l.088-.944H8.36V.896L7.272.984v.592l-1.184.112.024.824h1.16v2.544h-1.32V6zm5.199 0l.088-.944h-1.176V.896L12.47.984v.592l-1.184.112.024.824h1.16v2.544h-1.32V6zM4.25 14l.088-.944H3.162v-4.16l-1.088.088v.592L.89 9.688l.024.824h1.16v2.544H.754V14zm5.198 0l.088-.944H8.36v-4.16l-1.088.088v.592l-1.184.112.024.824h1.16v2.544h-1.32V14zm3.287.112c1.192 0 1.928-1.072 1.928-2.68 0-1.56-.576-2.504-1.8-2.504-1.192 0-1.928 1.072-1.928 2.68 0 1.56.576 2.504 1.8 2.504zm-.728-2.704c0-1.008.24-1.568.776-1.568.376 0 .616.336.728.888l-1.504.776v-.096zm.808 1.792c-.368 0-.608-.32-.72-.856l1.496-.768v.056c0 1.008-.24 1.568-.776 1.568z",transform:"translate(16 11)",fillRule:"evenodd"}),code:re.createElement("path",{d:"M4.078 13.67c-1.875-.527-2.812-1.738-2.812-3.634V9.49C1.266 8.437.844 7.911 0 7.911V6.138c.844 0 1.266-.529 1.266-1.586v-.64c.015-.938.257-1.696.726-2.274C2.466 1.06 3.162.64 4.078.38l.492 1.375c-.656.25-.997.95-1.023 2.102v.695c0 1.167-.482 1.99-1.445 2.469.963.479 1.445 1.304 1.445 2.476v.688c.026 1.15.367 1.851 1.023 2.101l-.492 1.383zm7.844 0c1.875-.527 2.812-1.738 2.812-3.634V9.49c0-1.052.422-1.578 1.266-1.578V6.138c-.844 0-1.266-.529-1.266-1.586v-.64c-.015-.938-.257-1.696-.726-2.274-.474-.578-1.17-.998-2.086-1.258l-.492 1.375c.656.25.997.95 1.023 2.102v.695c0 1.167.482 1.99 1.445 2.469-.963.479-1.445 1.304-1.445 2.476v.688c-.026 1.15-.367 1.851-1.023 2.101l.492 1.383z",transform:"translate(16 13)",fillRule:"evenodd"}),code2:re.createElement("path",{d:"M7.4 10.6L2.8 6l4.6-4.6L6 0 0 6l6 6 1.4-1.4zm5.2 0L17.2 6l-4.6-4.6L14 0l6 6-6 6-1.4-1.4z",transform:"translate(14 14)",fillRule:"evenodd"}),compressed:re.createElement("path",{d:"M.25 0A.25.25 0 0 0 0 .25v1.5c0 .138.112.25.25.25h1.5A.25.25 0 0 0 2 1.75V.25A.25.25 0 0 0 1.75 0H.25zM1 17a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1H1zm0 4v3h2v-3H1zM2 2.25A.25.25 0 0 1 2.25 2h1.5a.25.25 0 0 1 .25.25v1.5a.25.25 0 0 1-.25.25h-1.5A.25.25 0 0 1 2 3.75v-1.5zM.25 4a.25.25 0 0 0-.25.25v1.5c0 .138.112.25.25.25h1.5A.25.25 0 0 0 2 5.75v-1.5A.25.25 0 0 0 1.75 4H.25zM2 6.25A.25.25 0 0 1 2.25 6h1.5a.25.25 0 0 1 .25.25v1.5a.25.25 0 0 1-.25.25h-1.5A.25.25 0 0 1 2 7.75v-1.5zM.25 8a.25.25 0 0 0-.25.25v1.5c0 .138.112.25.25.25h1.5A.25.25 0 0 0 2 9.75v-1.5A.25.25 0 0 0 1.75 8H.25zM2 10.25a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25v1.5a.25.25 0 0 1-.25.25h-1.5a.25.25 0 0 1-.25-.25v-1.5zM.25 12a.25.25 0 0 0-.25.25v1.5c0 .138.112.25.25.25h1.5a.25.25 0 0 0 .25-.25v-1.5a.25.25 0 0 0-.25-.25H.25zM2 14.25a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25v1.5a.25.25 0 0 1-.25.25h-1.5a.25.25 0 0 1-.25-.25v-1.5z",transform:"translate(15 1)",fillRule:"evenodd"}),document:re.createElement("path",{d:"M12 4H0v2h12V4zM0 10h18V8H0v2zM0 0v2h18V0H0z",transform:"translate(15 15)",fillRule:"evenodd"}),drive:re.createElement("path",{d:"M2.199.289A.5.5 0 0 1 2.652 0h8.696a.5.5 0 0 1 .453.289l1.867 4a.5.5 0 0 1-.453.711H.785a.5.5 0 0 1-.453-.711l1.867-4zM13 6H1a.752.752 0 0 0-.75.75v4.5c0 .412.338.75.75.75h12c.412 0 .75-.338.75-.75v-4.5A.752.752 0 0 0 13 6zm-9.75 4.5c-.825 0-1.5-.675-1.5-1.5s.675-1.5 1.5-1.5 1.5.675 1.5 1.5-.675 1.5-1.5 1.5z",transform:"translate(17 13)",fillRule:"evenodd"}),font:re.createElement("path",{d:"M3.722 8.702l-.686 1.89c-.053.14-.094.28-.123.421-.03.135-.044.252-.044.352 0 .304.097.527.29.668.2.14.501.21.905.21h.414V13H.083v-.756h.343c.176 0 .325-.018.448-.053a.81.81 0 0 0 .334-.22c.1-.105.193-.249.281-.43.094-.182.197-.416.308-.704L5.787.15h1.406l4.07 11.136c.07.187.14.343.21.466.077.123.165.222.264.298.1.07.214.12.343.15.129.03.281.044.457.044h.237V13H7.826v-.756h.413c.72 0 1.081-.287 1.081-.862 0-.1-.014-.202-.044-.307a3.274 3.274 0 0 0-.105-.36l-.72-2.013H3.72zM7.009 4.65c-.188-.533-.36-1.031-.519-1.494a15.92 15.92 0 0 1-.378-1.354 7.12 7.12 0 0 1-.15.633 16.95 16.95 0 0 1-.395 1.283c-.082.229-.175.484-.28.765L4.063 7.796h4.061L7.009 4.65zm8.411 5.74c0 .562.117.984.351 1.265.24.275.61.413 1.108.413.363 0 .691-.059.984-.176.3-.117.551-.284.756-.5.211-.218.372-.481.483-.792.112-.31.168-.656.168-1.037V8.104l-1.152.053c-.51.023-.937.088-1.283.193-.34.1-.615.243-.826.43a1.546 1.546 0 0 0-.457.678c-.088.27-.132.58-.132.931zm2.18-6.32c-.346 0-.627.05-.844.15a1.182 1.182 0 0 0-.501.404 1.594 1.594 0 0 0-.237.624c-.041.24-.062.5-.062.782-.498 0-.879-.085-1.143-.255-.257-.17-.386-.463-.386-.879 0-.31.085-.574.255-.79.17-.218.401-.393.694-.528.299-.14.644-.243 1.037-.308a7.76 7.76 0 0 1 1.257-.097c.55 0 1.031.056 1.441.167.41.106.753.282 1.029.528.275.246.48.568.615.967.14.392.21.876.21 1.45v4.667c0 .252.021.46.062.624a.928.928 0 0 0 .194.395c.088.1.202.17.343.211.146.041.319.062.518.062h.053V13H19.7l-.281-1.547h-.15c-.187.252-.369.483-.544.694-.176.211-.37.393-.58.545-.211.152-.452.27-.721.352a3.053 3.053 0 0 1-.958.131c-.399 0-.77-.058-1.116-.175a2.369 2.369 0 0 1-.888-.519 2.516 2.516 0 0 1-.58-.896c-.14-.364-.211-.791-.211-1.284 0-.955.34-1.664 1.02-2.127.68-.462 1.707-.714 3.084-.755l1.495-.053V6.285a6.93 6.93 0 0 0-.053-.888 1.778 1.778 0 0 0-.229-.703 1.14 1.14 0 0 0-.51-.457c-.216-.111-.51-.167-.878-.167z",transform:"translate(13 12)",fillRule:"evenodd"}),image:re.createElement("path",{d:"M13 0L9.25 5l2.85 3.8-1.6 1.2C8.81 7.75 6 4 6 4l-6 8h22L13 0z",transform:"translate(13 14)",fillRule:"evenodd"}),presentation:re.createElement("path",{d:"M2 4H0v10c0 1.1.9 2 2 2h14v-2H2V4zm16-4H6C4.9 0 4 .9 4 2v8c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2zm0 10H6V2h12v8z",transform:"matrix(-1 0 0 1 34 12)",fillRule:"evenodd"}),settings:re.createElement("path",{d:"M13.572 8.735c.03-.24.053-.48.053-.735s-.023-.495-.053-.735l1.583-1.237a.378.378 0 0 0 .09-.48l-1.5-2.595a.377.377 0 0 0-.457-.165l-1.868.75a5.48 5.48 0 0 0-1.268-.735L9.868.815A.366.366 0 0 0 9.5.5h-3a.366.366 0 0 0-.367.315l-.285 1.988a5.762 5.762 0 0 0-1.268.735l-1.868-.75a.366.366 0 0 0-.457.165l-1.5 2.595a.37.37 0 0 0 .09.48l1.583 1.237c-.03.24-.053.488-.053.735 0 .248.022.495.053.735L.845 9.973a.378.378 0 0 0-.09.48l1.5 2.595c.09.165.292.225.458.165l1.867-.75c.39.3.81.547 1.268.735l.285 1.987c.022.18.18.315.367.315h3a.366.366 0 0 0 .367-.315l.285-1.988a5.762 5.762 0 0 0 1.268-.734l1.867.75c.173.067.368 0 .458-.165l1.5-2.595a.378.378 0 0 0-.09-.48l-1.582-1.238zM8 10.625A2.628 2.628 0 0 1 5.375 8 2.628 2.628 0 0 1 8 5.375 2.628 2.628 0 0 1 10.625 8 2.628 2.628 0 0 1 8 10.625z",transform:"translate(16 11)",fillRule:"evenodd"}),spreadsheet:re.createElement("path",{d:"M0 8h6V5H0v3zm0 5h6v-3H0v3zM0 3h6V0H0v3zm8 5h12V5H8v3zm0 5h12v-3H8v3zM8 0v3h12V0H8z",transform:"translate(14 14)",fillRule:"evenodd"}),vector:re.createElement("path",{d:"M14.5 2V1a1 1 0 0 0-1-1h-3a1 1 0 0 0-1 1v1H3.937a2 2 0 1 0 0 1h3.936A9 9 0 0 0 3 11v1h2v-1a7.003 7.003 0 0 1 4.594-6.576A1 1 0 0 0 10.5 5h3a1 1 0 0 0 .906-.576A7.003 7.003 0 0 1 19 11v1h2v-1a9 9 0 0 0-4.873-8h3.936a2 2 0 1 0 0-1H14.5zm-1-1h-3v3h3V1zM2 1.5a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm19 1a1 1 0 1 0 2 0 1 1 0 0 0-2 0z",transform:"translate(12 14)",fillRule:"evenodd"}),video:re.createElement("path",{d:"M10.75 3.875V1.25A.752.752 0 0 0 10 .5H1a.752.752 0 0 0-.75.75v7.5c0 .412.338.75.75.75h9c.412 0 .75-.338.75-.75V6.125l3 3V.875l-3 3z",transform:"translate(17 14)"})};Atr([Itr]);var Gtr={color:wr.string,extension:wr.string,fold:wr.bool,foldColor:wr.string,glyphColor:wr.string,gradientColor:wr.string,gradientOpacity:wr.number,labelColor:wr.string,labelTextColor:wr.string,labelUppercase:wr.bool,radius:wr.number,type:wr.oneOf(["3d","acrobat","audio","binary","code","code2","compressed","document","drive","font","image","presentation","settings","spreadsheet","vector","video"])},f8={WIDTH:40,HEIGHT:48},Ii={WIDTH:f8.WIDTH,HEIGHT:f8.HEIGHT,X_OFFSET:0},dg={HEIGHT:12},fDe=14,net=function(e){var n=e.color,r=n===void 0?"whitesmoke":n,i=e.extension,s=e.fold,o=s===void 0?!0:s,a=e.foldColor,l=e.glyphColor,u=e.gradientColor,d=u===void 0?"white":u,f=e.gradientOpacity,h=f===void 0?.25:f,p=e.labelColor,g=e.labelTextColor,v=g===void 0?"white":g,y=e.labelUppercase,x=y===void 0?!1:y,b=e.radius,_=b===void 0?4:b,C=e.type,S=ztr();return re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+f8.WIDTH+" "+f8.HEIGHT,width:"100%",style:{maxWidth:"100%"}},re.createElement("defs",null,re.createElement("clipPath",{id:"pageRadius"+S},re.createElement("rect",{x:Ii.X_OFFSET,y:"0",rx:_,ry:_,width:Ii.WIDTH,height:Ii.HEIGHT})),re.createElement("clipPath",{id:"foldCrop"},re.createElement("rect",{width:Ii.WIDTH,height:dg.HEIGHT,transform:"rotate(-45 0 "+dg.HEIGHT+")"})),re.createElement("linearGradient",{x1:"100%",y1:"0%",y2:"100%",id:"pageGradient"+S},re.createElement("stop",{stopColor:d,stopOpacity:h,offset:"0%"}),re.createElement("stop",{stopColor:d,stopOpacity:"0",offset:"66.67%"}))),re.createElement("g",{id:"file",clipPath:"url(#pageRadius"+S+")"},o?re.createElement(re.Fragment,null,re.createElement("path",{d:"M"+Ii.X_OFFSET+" 0 h "+(Ii.WIDTH-dg.HEIGHT)+" L "+(Ii.WIDTH+Ii.X_OFFSET)+" "+dg.HEIGHT+" v "+(Ii.HEIGHT-dg.HEIGHT)+" H "+Ii.X_OFFSET+" Z",fill:r}),re.createElement("path",{d:"M"+Ii.X_OFFSET+" 0 h "+(Ii.WIDTH-dg.HEIGHT)+" L "+(Ii.WIDTH+Ii.X_OFFSET)+" "+dg.HEIGHT+" v "+(Ii.HEIGHT-dg.HEIGHT)+" H "+Ii.X_OFFSET+" Z",fill:"url(#pageGradient"+S+")"})):re.createElement(re.Fragment,null,re.createElement("rect",{x:Ii.X_OFFSET,y:"0",width:Ii.WIDTH,height:Ii.HEIGHT,fill:r}),re.createElement("rect",{x:Ii.X_OFFSET,y:"0",width:Ii.WIDTH,height:Ii.HEIGHT,fill:"url(#pageGradient"+S+")"}))),o&&re.createElement("g",{transform:"translate(28 "+dg.HEIGHT+") rotate(-90)"},re.createElement("rect",{width:Ii.WIDTH,height:Ii.HEIGHT,fill:a||of(r).darken(.1).toHex(),rx:_,ry:_,clipPath:"url(#foldCrop)"})),i&&re.createElement(re.Fragment,null,re.createElement("g",{id:"label"},re.createElement("rect",{fill:p||of(r).darken(.3).toHex(),x:Ii.X_OFFSET,y:Ii.HEIGHT-fDe,width:Ii.WIDTH,height:fDe,clipPath:"url(#pageRadius"+S+")"})),re.createElement("g",{id:"labelText",transform:"translate("+Ii.X_OFFSET+" 34)"},re.createElement("text",{x:Ii.WIDTH/2,y:"10",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif",fontSize:"9",fill:v,textAnchor:"middle",style:{fontWeight:"bold",textAlign:"center",pointerEvents:"none",textTransform:x?"uppercase":"none",userSelect:"none"}},i))),C&&re.createElement("g",{transform:"translate(-4 "+(i?0:6)+")",fill:l||of(r).darken(.15).toHex()},Wtr[C]))};net.propTypes=Gtr;var qtr={"3dm":{labelColor:"#8D1A11",type:"3d"},"3ds":{labelColor:"#5FB9AD",type:"3d"},"3g2":{type:"video"},"3gp":{type:"video"},"7zip":{type:"compressed"},aac:{type:"audio"},aep:{type:"video"},ai:{color:"#423325",gradientOpacity:0,labelColor:"#423325",labelTextColor:"#FF7F18",labelUppercase:!0,foldColor:"#FF7F18",radius:2},aif:{type:"audio"},aiff:{type:"audio"},asf:{type:"video"},asp:{type:"code"},aspx:{type:"code"},avi:{type:"video"},bin:{type:"binary"},bmp:{type:"image"},c:{type:"code"},cpp:{type:"code"},cs:{type:"code"},css:{type:"code"},csv:{type:"spreadsheet"},cue:{type:"document"},dll:{type:"settings"},dmg:{type:"drive"},doc:{color:"#2C5898",foldColor:"#254A80",glyphColor:"rgba(255,255,255,0.4)",labelColor:"#2C5898",labelUppercase:!0,type:"document"},docx:{color:"#2C5898",foldColor:"#254A80",glyphColor:"rgba(255,255,255,0.4)",labelColor:"#2C5898",labelUppercase:!0,type:"document"},dwg:{type:"vector"},dxf:{type:"vector"},eot:{type:"font"},eps:{type:"vector"},exe:{type:"settings"},flac:{type:"audio"},flv:{type:"video"},fnt:{type:"font"},fodp:{type:"presentation"},fods:{type:"spreadsheet"},fodt:{type:"document"},fon:{type:"font"},gif:{type:"image"},gz:{type:"compressed"},htm:{type:"code"},html:{type:"code"},indd:{color:"#4B2B36",gradientOpacity:0,labelColor:"#4B2B36",labelTextColor:"#FF408C",labelUppercase:!0,foldColor:"#FF408C",radius:2},ini:{type:"settings"},java:{type:"code"},jpeg:{type:"image"},jpg:{type:"image"},js:{labelColor:"#F7DF1E",type:"code"},json:{type:"code"},jsx:{labelColor:"#00D8FF",type:"code"},m4a:{type:"audio"},m4v:{type:"video"},max:{labelColor:"#5FB9AD",type:"3d"},md:{type:"document"},mid:{type:"audio"},mkv:{type:"video"},mov:{type:"video"},mp3:{type:"audio"},mp4:{type:"video"},mpeg:{type:"video"},mpg:{type:"video"},obj:{type:"3d"},odp:{type:"presentation"},ods:{type:"spreadsheet"},odt:{type:"document"},ogg:{type:"audio"},ogv:{type:"video"},otf:{type:"font"},pdf:{labelColor:"#D93831",type:"acrobat"},php:{labelColor:"#8892BE",type:"code"},pkg:{type:"3d"},plist:{type:"settings"},png:{type:"image"},ppt:{color:"#D14423",foldColor:"#AB381D",glyphColor:"rgba(255,255,255,0.4)",labelColor:"#D14423",labelUppercase:!0,type:"presentation"},pptx:{color:"#D14423",foldColor:"#AB381D",glyphColor:"rgba(255,255,255,0.4)",labelColor:"#D14423",labelUppercase:!0,type:"presentation"},pr:{type:"video"},ps:{type:"vector"},psd:{color:"#34364E",gradientOpacity:0,labelColor:"#34364E",labelTextColor:"#31C5F0",labelUppercase:!0,foldColor:"#31C5F0",radius:2},py:{labelColor:"#FFDE57",type:"code"},rar:{type:"compressed"},rb:{labelColor:"#BB271A",type:"code"},rm:{type:"video"},rtf:{type:"document"},scss:{labelColor:"#C16A98",type:"code"},sitx:{type:"compressed"},svg:{type:"vector"},swf:{type:"video"},sys:{type:"settings"},tar:{type:"compressed"},tex:{type:"document"},tif:{type:"image"},tiff:{type:"image"},ts:{labelColor:"#3478C7",type:"code"},ttf:{type:"font"},txt:{type:"document"},wav:{type:"audio"},webm:{type:"video"},wmv:{type:"video"},woff:{type:"font"},wpd:{type:"document"},wps:{type:"document"},xlr:{type:"spreadsheet"},xls:{color:"#1A754C",foldColor:"#16613F",glyphColor:"rgba(255,255,255,0.4)",labelColor:"#1A754C",labelUppercase:!0,type:"spreadsheet"},xlsx:{color:"#1A754C",foldColor:"#16613F",glyphColor:"rgba(255,255,255,0.4)",labelColor:"#1A754C",labelUppercase:!0,type:"spreadsheet"},yml:{type:"code"},zip:{type:"compressed"},zipx:{type:"compressed"}},Ytr=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],hDe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=String(e).toLowerCase(),s=String(r.getOptionValue(n)).toLowerCase(),o=String(r.getOptionLabel(n)).toLowerCase();return s===i||o===i},pz={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,n,r,i){return!(!e||n.some(function(s){return hDe(e,s,i)})||r.some(function(s){return hDe(e,s,i)}))},getNewOptionData:function(e,n){return{label:n,value:e,__isNew__:!0}}};function Ktr(t){var e=t.allowCreateWhileLoading,n=e===void 0?!1:e,r=t.createOptionPosition,i=r===void 0?"last":r,s=t.formatCreateLabel,o=s===void 0?pz.formatCreateLabel:s,a=t.isValidNewOption,l=a===void 0?pz.isValidNewOption:a,u=t.getNewOptionData,d=u===void 0?pz.getNewOptionData:u,f=t.onCreateOption,h=t.options,p=h===void 0?[]:h,g=t.onChange,v=Fm(t,Ytr),y=v.getOptionValue,x=y===void 0?KQe:y,b=v.getOptionLabel,_=b===void 0?YQe:b,C=v.inputValue,S=v.isLoading,T=v.isMulti,A=v.value,k=v.name,I=m.useMemo(function(){return l(C,H6(A),p,{getOptionValue:x,getOptionLabel:_})?d(C,o(C)):void 0},[o,d,_,x,C,l,p,A]),D=m.useMemo(function(){return(n||!S)&&I?i==="first"?[I].concat(Vk(p)):[].concat(Vk(p),[I]):p},[n,i,S,I,p]),R=m.useCallback(function(O,L){if(L.action!=="select-option")return g(O,L);var P=Array.isArray(O)?O:[O];if(P[P.length-1]===I){if(f)f(C);else{var $=d(C,C),B={action:"create-option",name:k,option:$};g(VT(T,[].concat(Vk(H6(A)),[$]),$),B)}return}g(O,L)},[d,C,T,k,I,f,g,A]);return ln(ln({},v),{},{options:D,onChange:R})}var Ztr=m.forwardRef(function(t,e){var n=CQe(t),r=Ktr(n);return m.createElement(gse,nn({ref:e},r))}),Xtr=Ztr,Qtr=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function bD(t,e){var n=Jtr(t);if(typeof n.path!="string"){var r=t.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:t.name,writable:!1,configurable:!1,enumerable:!0})}return n}function Jtr(t){var e=t.name,n=e&&e.lastIndexOf(".")!==-1;if(n&&!t.type){var r=e.split(".").pop().toLowerCase(),i=Qtr.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}var enr=[".DS_Store","Thumbs.db"];function tnr(t){return uw(this,void 0,void 0,function(){return fy(this,function(e){return h8(t)&&nnr(t)?[2,onr(t.dataTransfer,t.type)]:rnr(t)?[2,inr(t)]:Array.isArray(t)&&t.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,snr(t)]:[2,[]]})})}function nnr(t){return h8(t.dataTransfer)}function rnr(t){return h8(t)&&h8(t.target)}function h8(t){return typeof t=="object"&&t!==null}function inr(t){return JK(t.target.files).map(function(e){return bD(e)})}function snr(t){return uw(this,void 0,void 0,function(){var e;return fy(this,function(n){switch(n.label){case 0:return[4,Promise.all(t.map(function(r){return r.getFile()}))];case 1:return e=n.sent(),[2,e.map(function(r){return bD(r)})]}})})}function onr(t,e){return uw(this,void 0,void 0,function(){var n,r;return fy(this,function(i){switch(i.label){case 0:return t===null?[2,[]]:t.items?(n=JK(t.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,n]:[4,Promise.all(n.map(anr))]):[3,2];case 1:return r=i.sent(),[2,pDe(ret(r))];case 2:return[2,pDe(JK(t.files).map(function(s){return bD(s)}))]}})})}function pDe(t){return t.filter(function(e){return enr.indexOf(e.name)===-1})}function JK(t){if(t===null)return[];for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r)}return e}function anr(t){if(typeof t.webkitGetAsEntry!="function")return mDe(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?iet(e):mDe(t)}function ret(t){return t.reduce(function(e,n){return FDt(e,Array.isArray(n)?ret(n):[n])},[])}function mDe(t){var e=t.getAsFile();if(!e)return Promise.reject(t+" is not a File");var n=bD(e);return Promise.resolve(n)}function lnr(t){return uw(this,void 0,void 0,function(){return fy(this,function(e){return[2,t.isDirectory?iet(t):unr(t)]})})}function iet(t){var e=t.createReader();return new Promise(function(n,r){var i=[];function s(){var o=this;e.readEntries(function(a){return uw(o,void 0,void 0,function(){var l,u,d;return fy(this,function(f){switch(f.label){case 0:if(a.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=f.sent(),n(l),[3,4];case 3:return u=f.sent(),r(u),[3,4];case 4:return[3,6];case 5:d=Promise.all(a.map(lnr)),i.push(d),s(),f.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function unr(t){return uw(this,void 0,void 0,function(){return fy(this,function(e){return[2,new Promise(function(n,r){t.file(function(i){var s=bD(i,t.fullPath);n(s)},function(i){r(i)})})]})})}var cnr=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(","),r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function gDe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vDe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gDe(Object(n),!0).forEach(function(r){set(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gDe(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function set(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yDe(t,e){return pnr(t)||hnr(t,e)||fnr(t,e)||dnr()}function dnr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fnr(t,e){if(t){if(typeof t=="string")return bDe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bDe(t,e)}}function bDe(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hnr(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function pnr(t){if(Array.isArray(t))return t}var mnr="file-invalid-type",gnr="file-too-large",vnr="file-too-small",ynr="too-many-files",bnr=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var n=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:mnr,message:"File type must be ".concat(n)}},xDe=function(e){return{code:gnr,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},wDe=function(e){return{code:vnr,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},xnr={code:ynr,message:"Too many files"};function oet(t,e){var n=t.type==="application/x-moz-file"||cnr(t,e);return[n,n?null:bnr(e)]}function aet(t,e,n){if(tT(t.size))if(tT(e)&&tT(n)){if(t.size>n)return[!1,xDe(n)];if(t.size<e)return[!1,wDe(e)]}else{if(tT(e)&&t.size<e)return[!1,wDe(e)];if(tT(n)&&t.size>n)return[!1,xDe(n)]}return[!0,null]}function tT(t){return t!=null}function wnr(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,s=t.multiple,o=t.maxFiles;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(a){var l=oet(a,n),u=yDe(l,1),d=u[0],f=aet(a,r,i),h=yDe(f,1),p=h[0];return d&&p})}function p8(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function uj(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function _De(t){t.preventDefault()}function _nr(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function Cnr(t){return t.indexOf("Edge/")!==-1}function Enr(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return _nr(t)||Cnr(t)}function hp(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!p8(r)&&a&&a.apply(void 0,[r].concat(s)),p8(r)})}}function CDe(){return"showOpenFilePicker"in window}function Snr(t){return t=typeof t=="string"?t.split(","):t,[{description:"everything",accept:Array.isArray(t)?t.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,n){return vDe(vDe({},e),{},set({},n,[]))},{}):{}}]}var Tnr=["children"],knr=["open"],Anr=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Inr=["refKey","onChange","onClick"];function Dnr(t){return Onr(t)||jnr(t)||uet(t)||Rnr()}function Rnr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jnr(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Onr(t){if(Array.isArray(t))return eZ(t)}function mz(t,e){return Mnr(t)||Pnr(t,e)||uet(t,e)||Lnr()}function Lnr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uet(t,e){if(t){if(typeof t=="string")return eZ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eZ(t,e)}}function eZ(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pnr(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function Mnr(t){if(Array.isArray(t))return t}function EDe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EDe(Object(n),!0).forEach(function(r){tZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EDe(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tZ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m8(t,e){if(t==null)return{};var n=$nr(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $nr(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var $se=m.forwardRef(function(t,e){var n=t.children,r=m8(t,Tnr),i=det(r),s=i.open,o=m8(i,knr);return m.useImperativeHandle(e,function(){return{open:s}},[s]),re.createElement(m.Fragment,null,n(io(io({},o),{},{open:s})))});$se.displayName="Dropzone";var cet={disabled:!1,getFilesFromEvent:tnr,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1};$se.defaultProps=cet;$se.propTypes={children:wr.func,accept:wr.oneOfType([wr.string,wr.arrayOf(wr.string)]),multiple:wr.bool,preventDropOnDocument:wr.bool,noClick:wr.bool,noKeyboard:wr.bool,noDrag:wr.bool,noDragEventsBubbling:wr.bool,minSize:wr.number,maxSize:wr.number,maxFiles:wr.number,disabled:wr.bool,getFilesFromEvent:wr.func,onFileDialogCancel:wr.func,onFileDialogOpen:wr.func,useFsAccessApi:wr.bool,onDragEnter:wr.func,onDragLeave:wr.func,onDragOver:wr.func,onDrop:wr.func,onDropAccepted:wr.func,onDropRejected:wr.func,validator:wr.func};var nZ={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function det(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=io(io({},cet),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,u=e.onDragEnter,d=e.onDragLeave,f=e.onDragOver,h=e.onDrop,p=e.onDropAccepted,g=e.onDropRejected,v=e.onFileDialogCancel,y=e.onFileDialogOpen,x=e.useFsAccessApi,b=e.preventDropOnDocument,_=e.noClick,C=e.noKeyboard,S=e.noDrag,T=e.noDragEventsBubbling,A=e.validator,k=m.useMemo(function(){return typeof y=="function"?y:SDe},[y]),I=m.useMemo(function(){return typeof v=="function"?v:SDe},[v]),D=m.useRef(null),R=m.useRef(null),O=m.useReducer(Fnr,nZ),L=mz(O,2),P=L[0],$=L[1],B=P.isFocused,Q=P.isFileDialogActive,V=P.draggedFiles,Z=function(){Q&&setTimeout(function(){if(R.current){var nt=R.current.files;nt.length||($({type:"closeDialog"}),I())}},300)};m.useEffect(function(){return x&&CDe()?function(){}:(window.addEventListener("focus",Z,!1),function(){window.removeEventListener("focus",Z,!1)})},[R,Q,I,x]);var ie=m.useRef([]),J=function(nt){D.current&&D.current.contains(nt.target)||(nt.preventDefault(),ie.current=[])};m.useEffect(function(){return b&&(document.addEventListener("dragover",_De,!1),document.addEventListener("drop",J,!1)),function(){b&&(document.removeEventListener("dragover",_De),document.removeEventListener("drop",J))}},[D,b]);var X=m.useCallback(function(Fe){Fe.preventDefault(),Fe.persist(),De(Fe),ie.current=[].concat(Dnr(ie.current),[Fe.target]),uj(Fe)&&Promise.resolve(i(Fe)).then(function(nt){p8(Fe)&&!T||($({draggedFiles:nt,isDragActive:!0,type:"setDraggedFiles"}),u&&u(Fe))})},[i,u,T]),fe=m.useCallback(function(Fe){Fe.preventDefault(),Fe.persist(),De(Fe);var nt=uj(Fe);if(nt&&Fe.dataTransfer)try{Fe.dataTransfer.dropEffect="copy"}catch{}return nt&&f&&f(Fe),!1},[f,T]),ue=m.useCallback(function(Fe){Fe.preventDefault(),Fe.persist(),De(Fe);var nt=ie.current.filter(function(Ge){return D.current&&D.current.contains(Ge)}),Ye=nt.indexOf(Fe.target);Ye!==-1&&nt.splice(Ye,1),ie.current=nt,!(nt.length>0)&&($({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),uj(Fe)&&d&&d(Fe))},[D,d,T]),te=m.useCallback(function(Fe,nt){var Ye=[],Ge=[];Fe.forEach(function(Ct){var wt=oet(Ct,n),pt=mz(wt,2),on=pt[0],mn=pt[1],gn=aet(Ct,o,s),br=mz(gn,2),yo=br[0],Kn=br[1],ti=A?A(Ct):null;if(on&&yo&&!ti)Ye.push(Ct);else{var Hi=[mn,Kn];ti&&(Hi=Hi.concat(ti)),Ge.push({file:Ct,errors:Hi.filter(function(ea){return ea})})}}),(!a&&Ye.length>1||a&&l>=1&&Ye.length>l)&&(Ye.forEach(function(Ct){Ge.push({file:Ct,errors:[xnr]})}),Ye.splice(0)),$({acceptedFiles:Ye,fileRejections:Ge,type:"setFiles"}),h&&h(Ye,Ge,nt),Ge.length>0&&g&&g(Ge,nt),Ye.length>0&&p&&p(Ye,nt)},[$,a,n,o,s,l,h,p,g,A]),F=m.useCallback(function(Fe){Fe.preventDefault(),Fe.persist(),De(Fe),ie.current=[],uj(Fe)&&Promise.resolve(i(Fe)).then(function(nt){p8(Fe)&&!T||te(nt,Fe)}),$({type:"reset"})},[i,te,T]),ne=m.useCallback(function(){if(x&&CDe()){$({type:"openDialog"}),k();var Fe={multiple:a,types:Snr(n)};window.showOpenFilePicker(Fe).then(function(nt){return i(nt)}).then(function(nt){return te(nt,null)}).catch(function(nt){return I(nt)}).finally(function(){return $({type:"closeDialog"})});return}R.current&&($({type:"openDialog"}),k(),R.current.value=null,R.current.click())},[$,k,I,x,te,n,a]),ce=m.useCallback(function(Fe){!D.current||!D.current.isEqualNode(Fe.target)||(Fe.keyCode===32||Fe.keyCode===13)&&(Fe.preventDefault(),ne())},[D,R,ne]),me=m.useCallback(function(){$({type:"focus"})},[]),pe=m.useCallback(function(){$({type:"blur"})},[]),Ie=m.useCallback(function(){_||(Enr()?setTimeout(ne,0):ne())},[R,_,ne]),xe=function(nt){return r?null:nt},Pe=function(nt){return C?null:xe(nt)},we=function(nt){return S?null:xe(nt)},De=function(nt){T&&nt.stopPropagation()},de=m.useMemo(function(){return function(){var Fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},nt=Fe.refKey,Ye=nt===void 0?"ref":nt,Ge=Fe.role,Ct=Fe.onKeyDown,wt=Fe.onFocus,pt=Fe.onBlur,on=Fe.onClick,mn=Fe.onDragEnter,gn=Fe.onDragOver,br=Fe.onDragLeave,yo=Fe.onDrop,Kn=m8(Fe,Anr);return io(io(tZ({onKeyDown:Pe(hp(Ct,ce)),onFocus:Pe(hp(wt,me)),onBlur:Pe(hp(pt,pe)),onClick:xe(hp(on,Ie)),onDragEnter:we(hp(mn,X)),onDragOver:we(hp(gn,fe)),onDragLeave:we(hp(br,ue)),onDrop:we(hp(yo,F)),role:typeof Ge=="string"&&Ge!==""?Ge:"button"},Ye,D),!r&&!C?{tabIndex:0}:{}),Kn)}},[D,ce,me,pe,Ie,X,fe,ue,F,C,S,r]),be=m.useCallback(function(Fe){Fe.stopPropagation()},[]),ve=m.useMemo(function(){return function(){var Fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},nt=Fe.refKey,Ye=nt===void 0?"ref":nt,Ge=Fe.onChange,Ct=Fe.onClick,wt=m8(Fe,Inr),pt=tZ({accept:n,multiple:a,type:"file",style:{display:"none"},onChange:xe(hp(Ge,F)),onClick:xe(hp(Ct,be)),autoComplete:"off",tabIndex:-1},Ye,R);return io(io({},pt),wt)}},[R,n,a,F,r]),ze=V.length,He=ze>0&&wnr({files:V,accept:n,minSize:o,maxSize:s,multiple:a,maxFiles:l}),Ne=ze>0&&!He;return io(io({},P),{},{isDragAccept:He,isDragReject:Ne,isFocused:B&&!r,getRootProps:de,getInputProps:ve,rootRef:D,inputRef:R,open:xe(ne)})}function Fnr(t,e){switch(e.type){case"focus":return io(io({},t),{},{isFocused:!0});case"blur":return io(io({},t),{},{isFocused:!1});case"openDialog":return io(io({},nZ),{},{isFileDialogActive:!0});case"closeDialog":return io(io({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=e.isDragActive,r=e.draggedFiles;return io(io({},t),{},{draggedFiles:r,isDragActive:n});case"setFiles":return io(io({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return io({},nZ);default:return t}}function SDe(){}var TDe,kDe,ADe,IDe,DDe,RDe,jDe,ODe,LDe,PDe,MDe,$De,FDe,BDe,NDe,VDe,UDe,HDe,zDe,WDe,GDe,qDe,YDe,KDe,ZDe,XDe,QDe,JDe,eRe,tRe,nRe,rRe,iRe,sRe,oRe,aRe,lRe,uRe,cRe,dRe,fRe;function lr(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const Bnr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"access-denied",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M18.1568 6.84315C21.281 9.96734 21.281 15.0327 18.1568 18.1569C15.0326 21.281 9.96733 21.281 6.84313 18.1569C3.71894 15.0327 3.71894 9.96734 6.84313 6.84315C9.96733 3.71895 15.0326 3.71895 18.1568 6.84315ZM18.1568 6.84315L6.844 18.156",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Nnr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"activity",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M21 15H19L15.5 7L11 18L8 12L6 15H4",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Vnr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"add-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M8 12.4H17M12.5 8V17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Fse=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"add",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M12.5 5V20M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Unr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"api",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M5.93047 13.2107L6.66782 10.3728H6.73089L7.45854 13.2107H5.93047ZM8.17164 16H9.66089L7.56041 9H5.93047L3.82999 16H5.20767L5.65396 14.2876H7.73505L8.17164 16Z",fill:"currentColor"}),c.jsx("path",{d:"M10.5389 9V16H11.9166V13.7782H13.0323C14.541 13.7782 15.5015 12.8517 15.5015 11.3964C15.5015 9.92654 14.5701 9 13.1003 9H10.5389ZM11.9166 10.1303H12.751C13.6533 10.1303 14.1044 10.5475 14.1044 11.3867C14.1044 12.2308 13.6533 12.6431 12.751 12.6431H11.9166V10.1303Z",fill:"currentColor"}),c.jsx("path",{d:"M21.1675 16V14.8164H19.717V10.1836H21.1675V9H16.8889V10.1836H18.3393V14.8164H16.8889V16H21.1675Z",fill:"currentColor"})]})}),Hnr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"archive",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M12.5 10.5V17M20.5 7.5V20.5H4.5V7.5L7.5 4.5H17.5L20.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M4.5 7.5H20.5M16 14L12.5 17.5L9 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),fet=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"arrow-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M12.5 19.5V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M18 14L12.5 19.5L7 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),znr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"arrow-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M5.5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11 18L5.5 12.5L11 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Wnr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M19.5 12.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M14 7L19.5 12.5L14 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Gnr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"arrow-top-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M16.5 8.5L7 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M9 8.5H16.5V16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),het=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"arrow-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M7 11L12.5 5.5L18 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M12.5 5.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),qnr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"bar-chart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M5.5 5V19.5H20M8.5 18V13M11.5 18V9M14.5 18V11M17.5 18V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ynr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"basket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M8.5 10.5H5L6.5 19.5H18.5L20 10.5H16.5M8.5 10.5L10.2721 5.18377C10.4082 4.77543 10.7903 4.5 11.2208 4.5H13.7792C14.2097 4.5 14.5918 4.77543 14.7279 5.18377L16.5 10.5M8.5 10.5H16.5M8.5 10.5L9.5 19.5M16.5 10.5L15.5 19.5M12.5 10.5V19.5M19.5 13.5H5.5M19 16.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Knr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"bell",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M10.5 17.5V18.5C10.5 20 11.5 20.5 12.5 20.5C13.5 20.5 14.5 20 14.5 18.5V17.5M5.5 17.5C6.5 16 6.5 15 6.5 12C6.5 8 8.5 5.5 12.5 5.5C16.5 5.5 18.5 8 18.5 12C18.5 15 18.5 16 19.5 17.5H5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Znr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"bill",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M6.50001 5.5C8.50003 5.5 8.50003 8 8.50003 8V9.5M6.50001 5.5C4.5 5.5 4.5 8 4.5 8L4.50001 9.5H8.50003M6.50001 5.5C6.50001 5.5 15.8333 5.5 17.6667 5.5C19.5 5.5 19.5 8.5 19.5 8.5V20L17.6667 19L15.8333 20L14 19L12.1667 20L10.3334 19L8.50003 20V9.5M11 12.5H15M11 9.5H16M11 15.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Xnr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"binary-document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M9.5 12.5V17.5M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM12.5 12.5V17.5H15.5V12.5H12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})]})}),Qnr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"block-content",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 7.60002L11 7.60003V6.40003L21 6.40002V7.60002Z",fill:"currentColor"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 11.2667L12.4833 11.2667V10.0667L21 10.0667V11.2667Z",fill:"currentColor"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 14.9334H13.9254V13.7334L21 13.7334V14.9334Z",fill:"currentColor"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 18.6002H4V17.4002H21V18.6002Z",fill:"currentColor"}),c.jsx("path",{d:"M9.86438 15.6H11.2L8.27623 7.60003H6.92377L4 15.6H5.29072L6.0371 13.4767H9.12362L9.86438 15.6ZM7.53546 9.05255H7.63086L8.80374 12.4344H6.35698L7.53546 9.05255Z",fill:"currentColor"})]})}),Jnr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"block-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M5 19.5H20M5 5.5H20M6.5 8.5H18.5V16.5H6.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),err=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"blockquote",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M10 17.5H19M6 7.5H19M10 12.5H17M6.5 12V18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),trr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"bold",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M13.2087 18C15.5322 18 16.9731 16.793 16.9731 14.8844C16.9731 13.4812 15.9245 12.3949 14.4836 12.2892V12.1534C15.6001 11.9875 16.4526 10.9841 16.4526 9.82991C16.4526 8.14761 15.1927 7.11409 13.0804 7.11409H8.32019V18H13.2087ZM10.5985 8.85674H12.4995C13.5859 8.85674 14.212 9.37727 14.212 10.2448C14.212 11.1199 13.5406 11.6254 12.3109 11.6254H10.5985V8.85674ZM10.5985 16.2574V13.1643H12.575C13.9178 13.1643 14.6496 13.6924 14.6496 14.6882C14.6496 15.7066 13.9404 16.2574 12.6278 16.2574H10.5985Z",fill:"currentColor"})})}),nrr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"book",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M20.5 17.5V5.5L12.5 6.5M20.5 17.5L12.5 18.5M20.5 17.5V18.5M4.5 17.5V5.5L12.5 6.5M4.5 17.5L12.5 18.5M4.5 17.5V18.5M12.5 18.5L4.5 19.5V18.5M12.5 18.5L20.5 19.5V18.5M12.5 18.5V6.5M12.5 18.5H4.5M12.5 18.5H20.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),rrr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"bottle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M7.5 17.5L17.5 17.5M17.5 13C17.5 12.087 17.5 11.3518 17.5 11C17.5 8.5 14.5 9 14.5 7.37494L14.5 5.5M17.5 13C17.5 15.1229 17.5 18.7543 17.5 20.5022C17.5 21.0545 17.0523 21.5 16.5 21.5L8.5 21.5C7.94772 21.5 7.5 21.0547 7.5 20.5024C7.5 18.8157 7.5 15.3546 7.5 13M17.5 13L7.5 13M7.5 13C7.5 12.2538 7.5 11.5648 7.5 11C7.5 8.5 10.5 9 10.5 7.37494L10.5 5.5M10.5 5.5L10.5 3.99999C10.5 3.72385 10.7239 3.49999 11 3.49999L14 3.49999C14.2761 3.49999 14.5 3.72385 14.5 3.99999L14.5 5.5M10.5 5.5L14.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),irr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"bulb-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H14V20.5C14 21.0523 13.5523 21.5 13 21.5H12C11.4477 21.5 11 21.0523 11 20.5V19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10C18 11.94 17.3978 12.9767 16.4272 14.3368Z",fill:"currentColor"}),c.jsx("path",{d:"M16.4272 14.3368L15.9388 13.9883L16.4272 14.3368ZM14 19.5V18.9H13.4V19.5H14ZM11 19.5H11.6V18.9H11V19.5ZM8.57284 14.3368L9.06122 13.9883H9.06122L8.57284 14.3368ZM16.1 17.212C16.1 16.3069 16.3868 15.4261 16.9155 14.6853L15.9388 13.9883C15.2678 14.9284 14.9 16.0519 14.9 17.212H16.1ZM16.1 18.5V17.212H14.9V18.5H16.1ZM14.5 20.1C15.3837 20.1 16.1 19.3837 16.1 18.5H14.9C14.9 18.7209 14.7209 18.9 14.5 18.9V20.1ZM14 20.1H14.5V18.9H14V20.1ZM13.4 19.5V20.5H14.6V19.5H13.4ZM13.4 20.5C13.4 20.7209 13.2209 20.9 13 20.9V22.1C13.8837 22.1 14.6 21.3837 14.6 20.5H13.4ZM13 20.9H12V22.1H13V20.9ZM12 20.9C11.7791 20.9 11.6 20.7209 11.6 20.5H10.4C10.4 21.3837 11.1163 22.1 12 22.1V20.9ZM11.6 20.5V19.5H10.4V20.5H11.6ZM10.5 20.1H11V18.9H10.5V20.1ZM8.9 18.5C8.9 19.3837 9.61634 20.1 10.5 20.1V18.9C10.2791 18.9 10.1 18.7209 10.1 18.5H8.9ZM8.9 17.212V18.5H10.1V17.212H8.9ZM8.08446 14.6853C8.61315 15.4261 8.9 16.3069 8.9 17.212H10.1C10.1 16.0519 9.73217 14.9284 9.06122 13.9883L8.08446 14.6853ZM6.4 10C6.4 11.0377 6.56208 11.8595 6.86624 12.611C7.16624 13.3521 7.59495 13.9995 8.08446 14.6853L9.06122 13.9883C8.58004 13.314 8.22233 12.7629 7.97858 12.1607C7.739 11.5688 7.6 10.9023 7.6 10H6.4ZM12.5 3.9C9.16863 3.9 6.4 6.66863 6.4 10H7.6C7.6 7.33137 9.83137 5.1 12.5 5.1V3.9ZM18.6 10C18.6 6.66863 15.8314 3.9 12.5 3.9V5.1C15.1686 5.1 17.4 7.33137 17.4 10H18.6ZM16.9155 14.6853C17.4051 13.9995 17.8338 13.3521 18.1338 12.611C18.4379 11.8595 18.6 11.0377 18.6 10H17.4C17.4 10.9023 17.261 11.5688 17.0214 12.1607C16.7777 12.7629 16.42 13.314 15.9388 13.9883L16.9155 14.6853Z",fill:"currentColor"})]})}),srr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"bulb-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M9.5 16.5H15.5M11 20V20.5C11 21.0523 11.4477 21.5 12 21.5H13C13.5523 21.5 14 21.0523 14 20.5V20M18 10C18 11.94 17.3978 12.9767 16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10Z",stroke:"currentColor",strokeWidth:1.2})})}),orr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"calendar",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M4.5 10.5V19.5H20.5V10.5M4.5 10.5V5.5H20.5V10.5M4.5 10.5H12.5H20.5M20.5 13.5H16.5M16.5 13.5H12.5M16.5 13.5V10.5M16.5 13.5V16.5M12.5 13.5H8.5M12.5 13.5V16.5M12.5 13.5V10.5M8.5 13.5H4.5M8.5 13.5V10.5M8.5 13.5V16.5M20.5 16.5H16.5M16.5 16.5H12.5M16.5 16.5V19.5M12.5 16.5H8.5M12.5 16.5V19.5M8.5 16.5H4.5M8.5 16.5V19.5M17.5 8V3M7.5 8V3",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),arr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"case",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M9 8.5122V6C9 5.44772 9.44772 5 10 5H15C15.5523 5 16 5.44772 16 6V8.5122M4.5 12V18.5C4.5 19.0523 4.94772 19.5 5.5 19.5H19.5C20.0523 19.5 20.5 19.0523 20.5 18.5V12M4.5 12V9.5122C4.5 8.95991 4.94772 8.5122 5.5 8.5122H19.5C20.0523 8.5122 20.5 8.95991 20.5 9.5122V12M4.5 12L11.7978 14.7367C12.2505 14.9064 12.7495 14.9064 13.2022 14.7367L20.5 12",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),lrr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"chart-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M5.5 5V19.5H20M7.5 16L11.5 11.5L15.5 14L19.5 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Bse=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"checkmark-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M9.5 12.1316L11.7414 14.5L16 10M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),urr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"checkmark",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M5.5 11.5L10.5 16.5L19.5 7.60001",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Nse=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M17 10.5L12.5 15L8 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),crr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M14.5 17L10 12.5L14.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),drr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M10.5 8L15 12.5L10.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),pet=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M8 14.5L12.5 10L17 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),frr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),met=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"clipboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M8 5.5H6.5V19.5H18.5V5.5H17M12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),hrr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"clipboard-image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M8 5.5H6.5V19.5H10.5M17 5.5H18.5V11.5M10.5 18.5L12.73 15.8983C13.1327 15.4285 13.8613 15.4335 14.2575 15.909L15.299 17.1588C15.6754 17.6105 16.3585 17.6415 16.7743 17.2257L16.9903 17.0097C17.2947 16.7053 17.7597 16.6298 18.1447 16.8223L20.5 18M10.5 11.5H20.5V21.5H10.5V11.5ZM12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),prr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"clock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M12.5 8V12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),mrr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"close-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M9.5 15.5L12.5 12.5M12.5 12.5L15.5 9.5M12.5 12.5L9.5 9.5M12.5 12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),N0=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"close",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M18 7L7 18M7 7L18 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),grr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"code-block",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M11 15L8.5 12.5L11 10M14 10L16.5 12.5L14 15M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),vrr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"code",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M11 16L7.5 12.5L11 9M14 9L17.5 12.5L14 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),yrr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"cog",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M14.2624 5.40607L13.8714 4.42848C13.6471 3.86771 13.104 3.5 12.5 3.5C11.896 3.5 11.3529 3.86771 11.1286 4.42848L10.7376 5.40607C10.5857 5.78585 10.2869 6.08826 9.90901 6.2448C9.53111 6.40133 9.10603 6.39874 8.73006 6.23761L7.76229 5.82285C7.20716 5.58494 6.56311 5.70897 6.13604 6.13604C5.70897 6.56311 5.58494 7.20716 5.82285 7.76229L6.23761 8.73006C6.39874 9.10602 6.40133 9.53111 6.2448 9.90901C6.08826 10.2869 5.78585 10.5857 5.40607 10.7376L4.42848 11.1286C3.86771 11.3529 3.5 11.896 3.5 12.5C3.5 13.104 3.86771 13.6471 4.42848 13.8714L5.40607 14.2624C5.78585 14.4143 6.08826 14.7131 6.2448 15.091C6.40133 15.4689 6.39874 15.894 6.23761 16.2699L5.82285 17.2377C5.58494 17.7928 5.70897 18.4369 6.13604 18.864C6.56311 19.291 7.20716 19.4151 7.76229 19.1772L8.73006 18.7624C9.10603 18.6013 9.53111 18.5987 9.90901 18.7552C10.2869 18.9117 10.5857 19.2141 10.7376 19.5939L11.1286 20.5715C11.3529 21.1323 11.896 21.5 12.5 21.5C13.104 21.5 13.6471 21.1323 13.8714 20.5715L14.2624 19.5939C14.4143 19.2141 14.7131 18.9117 15.091 18.7552C15.4689 18.5987 15.894 18.6013 16.2699 18.7624L17.2377 19.1771C17.7928 19.4151 18.4369 19.291 18.864 18.864C19.291 18.4369 19.4151 17.7928 19.1771 17.2377L18.7624 16.2699C18.6013 15.894 18.5987 15.4689 18.7552 15.091C18.9117 14.7131 19.2141 14.4143 19.5939 14.2624L20.5715 13.8714C21.1323 13.6471 21.5 13.104 21.5 12.5C21.5 11.896 21.1323 11.3529 20.5715 11.1286L19.5939 10.7376C19.2141 10.5857 18.9117 10.2869 18.7552 9.90901C18.5987 9.53111 18.6013 9.10602 18.7624 8.73006L19.1772 7.76229C19.4151 7.20716 19.291 6.56311 18.864 6.13604C18.4369 5.70897 17.7928 5.58494 17.2377 5.82285L16.2699 6.23761C15.894 6.39874 15.4689 6.40133 15.091 6.2448C14.7131 6.08826 14.4143 5.78585 14.2624 5.40607Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16.5 12.5C16.5 14.7091 14.7091 16.5 12.5 16.5C10.2909 16.5 8.5 14.7091 8.5 12.5C8.5 10.2909 10.2909 8.5 12.5 8.5C14.7091 8.5 16.5 10.2909 16.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),brr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"collapse",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M6 14.5L10.5 14.5V19M19 10.5H14.5L14.5 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10.5 14.5L6 19M14.5 10.5L19 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),xrr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"color-wheel",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M9.43853 5.10896L11.1606 9.26642M13.8394 15.7336L15.5615 19.891M15.7336 11.1606L19.891 9.43853M9.26642 13.8394L5.10896 15.5615M5.3139 9.52342L9.23359 11.147M15.7664 13.853L19.6861 15.4766M13.853 9.23359L15.4766 5.3139M9.52342 19.6861L11.147 15.7664M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5ZM16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),wrr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M7.5 16.5H9.5V20.5L13.5 16.5H17.5C18.6046 16.5 19.5 15.6046 19.5 14.5V8.5C19.5 7.39543 18.6046 6.5 17.5 6.5H7.5C6.39543 6.5 5.5 7.39543 5.5 8.5V14.5C5.5 15.6046 6.39543 16.5 7.5 16.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_rr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"component",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M8.5 8.5L12.5 12.5M12.5 12.5L16.5 16.5M12.5 12.5L16.5 8.5M12.5 12.5L8.5 16.5M12.5 4L21 12.5L12.5 21L4 12.5L12.5 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),get=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"compose",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M17 6L19 8M14 5.5H5.5V19.5H19.5V11M9 16L9.5 13.5L19 4L21 6L11.5 15.5L9 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Crr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"controls",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M6.5 5V7.5M6.5 7.5C5.39543 7.5 4.5 8.39543 4.5 9.5C4.5 10.6046 5.39543 11.5 6.5 11.5M6.5 7.5C7.60457 7.5 8.5 8.39543 8.5 9.5C8.5 10.6046 7.60457 11.5 6.5 11.5M6.5 11.5V20M12.5 5V13.5M12.5 13.5C11.3954 13.5 10.5 14.3954 10.5 15.5C10.5 16.6046 11.3954 17.5 12.5 17.5M12.5 13.5C13.6046 13.5 14.5 14.3954 14.5 15.5C14.5 16.6046 13.6046 17.5 12.5 17.5M12.5 17.5V20M18.5 5V7.5M18.5 7.5C17.3954 7.5 16.5 8.39543 16.5 9.5C16.5 10.6046 17.3954 11.5 18.5 11.5M18.5 7.5C19.6046 7.5 20.5 8.39543 20.5 9.5C20.5 10.6046 19.6046 11.5 18.5 11.5M18.5 11.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Err=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"copy",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M8.5 8.5H5.5V20.5H16.5V16.5M19.5 4.5H8.5V16.5H19.5V4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Srr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"credit-card",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M20.5 9.5H4.5V11.5H20.5V9.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7 15.5H14M5.5 18.5H19.5C20.0523 18.5 20.5 18.0523 20.5 17.5V7.5C20.5 6.94772 20.0523 6.5 19.5 6.5H5.5C4.94772 6.5 4.5 6.94772 4.5 7.5V17.5C4.5 18.0523 4.94772 18.5 5.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Trr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"crop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M9.5 5V15.5H20M5 9.5H15.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),krr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"dashboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M14.5 19.5V12.5M10.5 12.5V5.5M5.5 12.5H19.5M5.5 19.5H19.5V5.5H5.5V19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Arr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"database",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M18.5 7V17.5C18.5 19.0594 16.0504 20.5 12.5 20.5C8.9496 20.5 6.5 19.0594 6.5 17.5V7M18.5 7C18.5 8.45543 15.8137 9.5 12.5 9.5C9.18629 9.5 6.5 8.45543 6.5 7C6.5 5.54457 9.18629 4.5 12.5 4.5C15.8137 4.5 18.5 5.54457 18.5 7Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Irr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"desktop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M4.5 13.5V15.5C4.5 16.0523 4.94772 16.5 5.5 16.5H12.5M4.5 13.5V6.5C4.5 5.94772 4.94772 5.5 5.5 5.5H19.5C20.0523 5.5 20.5 5.94772 20.5 6.5V13.5M4.5 13.5H20.5M20.5 13.5V15.5C20.5 16.0523 20.0523 16.5 19.5 16.5H12.5M12.5 16.5V19.5M12.5 19.5H8M12.5 19.5H17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Drr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5L6.5 9.5M11.5 4.5L6.5 9.5M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Rrr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"document-pdf",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M12.7127 13.8012L12.7193 13.77C12.8488 13.2366 13.0117 12.5716 12.8845 11.969C12.7997 11.4937 12.4493 11.3084 12.1503 11.295C11.7977 11.2794 11.483 11.4803 11.4049 11.7726C11.2576 12.3082 11.3893 13.0402 11.6303 13.973C11.3268 14.6961 10.8425 15.7472 10.4877 16.3721C9.8271 16.7135 8.94113 17.2402 8.80946 17.9053C8.78268 18.028 8.81392 18.1842 8.88757 18.3248C8.97014 18.481 9.10181 18.6015 9.25579 18.6596C9.32274 18.6841 9.40308 18.7042 9.49681 18.7042C9.88959 18.7042 10.5256 18.3873 11.3736 16.9322C11.5031 16.8898 11.637 16.8452 11.7664 16.8006C12.3734 16.5953 13.0028 16.381 13.5718 16.2851C14.2012 16.622 14.9175 16.8385 15.404 16.8385C15.8861 16.8385 16.0758 16.5529 16.1472 16.381C16.2722 16.0797 16.2119 15.7004 16.0088 15.4973C15.7143 15.2072 14.9979 15.1313 13.882 15.2696C13.3331 14.9349 12.9738 14.4796 12.7127 13.8012ZM10.2645 17.1911C9.95431 17.6419 9.71998 17.8673 9.59278 17.9655C9.7423 17.691 10.0346 17.4009 10.2645 17.1911ZM12.2195 11.9355C12.3355 12.1341 12.3199 12.7345 12.2306 13.038C12.1213 12.5939 12.1056 11.9645 12.1704 11.8909L12.2195 11.9355ZM12.1837 14.6247C12.4225 15.0376 12.7238 15.3924 13.0563 15.6557C12.5743 15.7651 12.1346 15.9458 11.7419 16.1065C11.6481 16.1445 11.5566 16.1824 11.4674 16.2181C11.7642 15.6803 12.0119 15.071 12.1837 14.6247ZM15.6562 16.0864L15.6428 16.1065C15.6428 16.1065 15.4375 16.2315 14.6497 15.9213C15.5558 15.8789 15.6562 16.0864 15.6562 16.0864Z",fill:"currentColor"}),c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),jrr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"document-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M6.5 14V20.5H18.5V14M6.5 11V9.5L11.5 4.5H18.5V11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Orr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"document-sheet",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10.4 19V16.4M10.4 16.4L10.4 13.4M10.4 16.4H8M10.4 16.4H14.4M10.4 13.4V11M10.4 13.4H8M10.4 13.4H14.4M14.4 19V16.4M14.4 16.4V13.4M14.4 16.4H17M14.4 13.4V11M14.4 13.4H17M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Lrr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"document-text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16 13H9M14 16H9M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Prr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"document-video",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M11.5 16.5V13.5L14 15L11.5 16.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Mrr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"document-word",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M12.4699 13.4588H12.5263L13.6328 17H14.5435L16 12H14.9952L14.0656 15.7214H14.0129L12.929 12H12.0672L10.9984 15.7214H10.9419L10.0124 12H9L10.4565 17H11.371L12.4699 13.4588Z",fill:"currentColor"}),c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),$rr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"document-zip",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M15 4.5L13.5 5L15.5 6L13.5 7L15.5 8L13.5 9L15.5 10L13.5 11L14.5 11.5V13M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM13.5 13H15.5L16 17H13L13.5 13Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Frr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"documents",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M10.5 4.5V9.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16.5 7.5H19.5V21.5H8.5V18.5M10.5 4.5H16.5V18.5H5.5V9.5L10.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Brr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"dot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("circle",{cx:12.5,cy:12.5,r:1.5,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2})})}),Nrr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"double-chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M17 8.5L12.5 13L8 8.5M17 12.5L12.5 17L8 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Vrr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"double-chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M12.5 17L8 12.5L12.5 8M16.5 17L12 12.5L16.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Urr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"double-chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M12.5 8L17 12.5L12.5 17M8.5 8L13 12.5L8.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Hrr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"double-chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M8 12.5L12.5 8L17 12.5M8 16.5L12.5 12L17 16.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),vet=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"download",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M19.5 17V19.5H5.5V17M12.5 16L12.5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),zrr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"drag-handle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M9.5 8C10.3284 8 11 7.32843 11 6.5C11 5.67157 10.3284 5 9.5 5C8.67157 5 8 5.67157 8 6.5C8 7.32843 8.67157 8 9.5 8Z",fill:"currentColor"}),c.jsx("path",{d:"M9.5 14C10.3284 14 11 13.3284 11 12.5C11 11.6716 10.3284 11 9.5 11C8.67157 11 8 11.6716 8 12.5C8 13.3284 8.67157 14 9.5 14Z",fill:"currentColor"}),c.jsx("path",{d:"M11 18.5C11 19.3284 10.3284 20 9.5 20C8.67157 20 8 19.3284 8 18.5C8 17.6716 8.67157 17 9.5 17C10.3284 17 11 17.6716 11 18.5Z",fill:"currentColor"}),c.jsx("path",{d:"M15.5 8C16.3284 8 17 7.32843 17 6.5C17 5.67157 16.3284 5 15.5 5C14.6716 5 14 5.67157 14 6.5C14 7.32843 14.6716 8 15.5 8Z",fill:"currentColor"}),c.jsx("path",{d:"M17 12.5C17 13.3284 16.3284 14 15.5 14C14.6716 14 14 13.3284 14 12.5C14 11.6716 14.6716 11 15.5 11C16.3284 11 17 11.6716 17 12.5Z",fill:"currentColor"}),c.jsx("path",{d:"M15.5 20C16.3284 20 17 19.3284 17 18.5C17 17.6716 16.3284 17 15.5 17C14.6716 17 14 17.6716 14 18.5C14 19.3284 14.6716 20 15.5 20Z",fill:"currentColor"})]})}),Wrr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"drop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M18.5 14.5C18.5 18 16 20.5 12.5 20.5C9 20.5 6.5 18 6.5 14.5C6.5 11 9.5 7.50001 12.5 4.5C15.5 7.5 18.5 11 18.5 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Grr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"earth-americas",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M7 13L5.5 9L10 5H15V10L14 9H11L9.5 11L10.5 12H12V13L13 14.5H15.5L18.5 17L15.5 19.5L10.5 20V17L12.5 15L9 13L7 10.5V13Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),qrr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"earth-globe",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M5.5 16.5H19.5M5.5 8.5H19.5M4.5 12.5H20.5M12.5 20.5C12.5 20.5 8 18.5 8 12.5C8 6.5 12.5 4.5 12.5 4.5M12.5 4.5C12.5 4.5 17 6.5 17 12.5C17 18.5 12.5 20.5 12.5 20.5M12.5 4.5V20.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),CF=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"edit",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Yrr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"ellipsis-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M6.5 11C7.32843 11 8 11.6716 8 12.5C8 13.3284 7.32843 14 6.5 14C5.67157 14 5 13.3284 5 12.5C5 11.6716 5.67157 11 6.5 11Z",fill:"currentColor"}),c.jsx("path",{d:"M12.5 11C13.3284 11 14 11.6716 14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11Z",fill:"currentColor"}),c.jsx("path",{d:"M18.5 11C19.3284 11 20 11.6716 20 12.5C20 13.3284 19.3284 14 18.5 14C17.6716 14 17 13.3284 17 12.5C17 11.6716 17.6716 11 18.5 11Z",fill:"currentColor"})]})}),Krr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"ellipsis-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M14 6.5C14 7.32843 13.3284 8 12.5 8C11.6716 8 11 7.32843 11 6.5C11 5.67157 11.6716 5 12.5 5C13.3284 5 14 5.67157 14 6.5Z",fill:"currentColor"}),c.jsx("path",{d:"M14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11C13.3284 11 14 11.6716 14 12.5Z",fill:"currentColor"}),c.jsx("path",{d:"M14 18.5C14 19.3284 13.3284 20 12.5 20C11.6716 20 11 19.3284 11 18.5C11 17.6716 11.6716 17 12.5 17C13.3284 17 14 17.6716 14 18.5Z",fill:"currentColor"})]})}),Zrr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"enter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M6 14.5H19.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10 18.5L6 14.5L10 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Xrr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"enter-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M19 14.5H5.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M15 18.5L19 14.5L15 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Qrr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"envelope",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M20.5 18.5H4.5V6.5H20.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M20.5 18.5L17.75 15.5L15 12.5M4.5 18.5L10 12.5M20.5 6.5L12.5 15L4.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Jrr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"equal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M7.5 4.5H3.5V20.5H7.5",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M17.5 20.5L21.5 20.5L21.5 4.5L17.5 4.5",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M9 10.5H16",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M9 14.5H16",stroke:"currentColor",strokeWidth:1.2})]})}),eir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"error-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5ZM13 14.5V16H12V14.5H13ZM12 9V13H13V9H12Z",fill:"currentColor"})})}),yet=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"error-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M12.5 16V14.5M12.5 9V13M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),tir=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"expand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M14 6.5H18.5V11M11 18.5H6.5V14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M18.5 6.5L14 11M6.5 18.5L11 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),nir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"eye-closed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M7 15.5L5.5 17.5M20.5 12.5C19.8612 13.5647 19.041 14.6294 18.0008 15.501M18.0008 15.501C16.5985 16.676 14.7965 17.5 12.5 17.5M18.0008 15.501L18 15.5M18.0008 15.501L19.5 17.5M12.5 17.5C8.5 17.5 6 15 4.5 12.5M12.5 17.5V20M15.5 17L16.5 19.5M9.5 17L8.5 19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),rir=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"eye-open",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.39999 12.5C9.39999 10.7879 10.7879 9.39999 12.5 9.39999C14.2121 9.39999 15.6 10.7879 15.6 12.5C15.6 14.2121 14.2121 15.6 12.5 15.6C10.7879 15.6 9.39999 14.2121 9.39999 12.5Z",fill:"currentColor"}),c.jsx("path",{d:"M12.5 7.5C8.5 7.5 6 10 4.5 12.5C6 15 8.5 17.5 12.5 17.5C16.5 17.5 19 15 20.5 12.5C19 10 16.5 7.5 12.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),iir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"filter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M11 12L6 7V6L19 6L19 7L14 12V17L11 19V12Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),sir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"folder",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M11.5 8.5H19.5V18.5H5.5V5.5H10.5L11.5 8.5ZM11.5 8.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),oir=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"generate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M9 5.30423C6.33576 6.60253 4.5 9.33688 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5V14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16 11L12.5 14.5L9 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),air=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"groq",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M13 13H21L13 21L13 13Z",fill:"currentColor"}),c.jsx("path",{d:"M12 12V4L4 12H12Z",fill:"currentColor"}),c.jsx("path",{d:"M12 13H4L12 21V13Z",fill:"currentColor"})]})}),lir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"heart-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),uir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"heart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),cir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"help-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),dir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"home",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M6.5 8.75V18.5H18.5V8.75M4.5 10L12.5 5L20.5 10M14.5 18.5V11.5H10.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),fir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"ice-cream",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M9.5 13.5L12.5 20.5L15.5 13.5M12.5 8.26389C11.9692 7.78885 11.2684 7.5 10.5 7.5C8.84315 7.5 7.5 8.84315 7.5 10.5C7.5 12.1569 8.84315 13.5 10.5 13.5C11.2684 13.5 11.9692 13.2111 12.5 12.7361M9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5M17.5 10.5C17.5 12.1569 16.1569 13.5 14.5 13.5C12.8431 13.5 11.5 12.1569 11.5 10.5C11.5 8.84315 12.8431 7.5 14.5 7.5C16.1569 7.5 17.5 8.84315 17.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),bet=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M5.5 15.5L8.79289 12.2071C9.18342 11.8166 9.81658 11.8166 10.2071 12.2071L12.8867 14.8867C13.2386 15.2386 13.7957 15.2782 14.1938 14.9796L15.1192 14.2856C15.3601 14.1049 15.6696 14.0424 15.9618 14.1154L19.5 15M5.5 6.5H19.5V18.5H5.5V6.5ZM15.5 10.5C15.5 11.0523 15.0523 11.5 14.5 11.5C13.9477 11.5 13.5 11.0523 13.5 10.5C13.5 9.94772 13.9477 9.5 14.5 9.5C15.0523 9.5 15.5 9.94772 15.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),hir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"image-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M5.5 11V6.5H19.5V11M5.5 14V18.5H19.5V14M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),pir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"images",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M18.5 7.5H20.5V19.5H6.5V17.5M4.5 14.5L7.79289 11.2071C8.18342 10.8166 8.81658 10.8166 9.20711 11.2071L11.8867 13.8867C12.2386 14.2386 12.7957 14.2782 13.1938 13.9796L14.1192 13.2856C14.3601 13.1049 14.6696 13.0424 14.9618 13.1154L18.5 14M4.5 5.5H18.5V17.5H4.5V5.5ZM14.5 9.5C14.5 10.0523 14.0523 10.5 13.5 10.5C12.9477 10.5 12.5 10.0523 12.5 9.5C12.5 8.94772 12.9477 8.5 13.5 8.5C14.0523 8.5 14.5 8.94772 14.5 9.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),mir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"info-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5ZM12 10.5V9H13V10.5H12ZM13 16V12H12V16H13Z",fill:"currentColor"})})}),gir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"info-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M12.5 10.5V9M12.5 12V16M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),vir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"inline-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M5.5 5V20M19.5 5V20M8.5 6.5H16.5V18.5H8.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),yir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"inline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M12.5 6.5H19.5V18.5H12.5M12.5 6.5H5.5V18.5H12.5M12.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),bir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"insert-above",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M14.5 10.5556L10.5 10.5556M12.5 12.5L12.5 8.5M18.5 5.5L6.5 5.5M18.5 19.5L6.5 19.5L6.5 15.5L18.5 15.5L18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),xir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"insert-below",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M10.5 14.5H14.5M12.5 12.5V16.5M6.5 19.5H18.5M6.5 5.5H18.5V9.5H6.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),wir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"italic",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M10.43 18H11.7276L13.4551 9.86763H12.1576L10.43 18ZM13.3043 8.29849C13.8022 8.29849 14.2095 7.89112 14.2095 7.39322C14.2095 6.89532 13.8022 6.48795 13.3043 6.48795C12.8064 6.48795 12.399 6.89532 12.399 7.39322C12.399 7.89112 12.8064 8.29849 13.3043 8.29849Z",fill:"currentColor"})})}),_ir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"joystick",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M9.5 16V14.5H15.5V16M13.5 10.5V14.5M11.5 10.5V14.5M15.5 7.5C15.5 9.15685 14.1569 10.5 12.5 10.5C10.8431 10.5 9.5 9.15685 9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5ZM18.5 19.5H6.5C5.94772 19.5 5.5 19.0523 5.5 18.5V17.5C5.5 16.9477 5.94772 16.5 6.5 16.5H18.5C19.0523 16.5 19.5 16.9477 19.5 17.5V18.5C19.5 19.0523 19.0523 19.5 18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Cir=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"launch",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M14 6.5H5.5V19.5H18.5V11M20.5 4.5L10.5 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16 4.5H20.5V9",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Eir=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"leave",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M15.5 15V18.5H5.5V6.5H15.5V10M9 12.5H21.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M18.5 9.5L21.5 12.5L18.5 15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Sir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"lemon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M10.6569 10.3431L6.41422 14.5858C7.58579 15.7574 9.12132 16.3431 10.6569 16.3431M10.6569 10.3431L14.8995 6.1005C16.0711 7.27208 16.6569 8.80761 16.6569 10.3431M10.6569 10.3431L10.6569 16.3431M10.6569 10.3431L16.6569 10.3431M10.6569 10.3431L14.8995 14.5858M14.8995 14.5858C13.7279 15.7574 12.1924 16.3431 10.6569 16.3431M14.8995 14.5858C16.0711 13.4142 16.6569 11.8787 16.6569 10.3431M16.3137 4.68629C19.4379 7.81049 19.4379 12.8758 16.3137 16C13.1895 19.1242 8.12419 19.1242 5 16L16.3137 4.68629Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Tir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"link",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M11 12.5L12.5 14C13.281 14.781 14.719 14.781 15.5 14L18.5 11C19.281 10.219 19.281 8.78105 18.5 8L18 7.5C17.2189 6.71895 15.781 6.71895 15 7.5L13 9.5M12 15.5L10 17.5C9.21895 18.281 7.78105 18.281 7 17.5L6.5 17C5.71895 16.219 5.71896 14.781 6.5 14L9.50001 11C10.2811 10.219 11.719 10.2189 12.5 11L14 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),kir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"link-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M18.5 11C19.281 10.219 19.281 8.78108 18.5 8.00003L18 7.50003C17.2189 6.71898 15.781 6.71898 15 7.50003L13 9.50003M15.5 14C14.7189 14.7811 13.281 14.7811 12.5 14M6.5 14C5.71895 14.7811 5.71894 16.219 6.49999 17L6.99999 17.5C7.78104 18.2811 9.21894 18.2811 9.99999 17.5L12 15.5M12.5 11C11.719 10.219 10.281 10.219 9.5 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Air=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"lock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M15.5 11.5V8.5C15.5 6.5 14 5.5 12.5 5.5C11 5.5 9.5 6.5 9.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Iir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"logo-js",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM12.5254 16.1572C12.5254 17.4189 11.7742 18.1536 10.4792 18.1536C9.24243 18.1536 8.49121 17.4189 8.45801 16.2942V16.261H9.67407V16.2859C9.69897 16.7466 9.9729 17.0703 10.4626 17.0703C10.9939 17.0703 11.272 16.7507 11.272 16.1489V12.011H12.5254V16.1572ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),Dir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"logo-ts",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM11.0769 18H9.82349V13.0444H8.02637V12.011H12.874V13.0444H11.0769V18ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),Rir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"master-detail",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M7 9.5H10M11.5 6.5V18.5M7 12.5H10M13 9.5H18M7 15.5H10M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),jir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"menu",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M6 7.5H19M6 17.5H19M6 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Oir=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"mobile-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M7.5 6.5C7.5 5.39543 8.39543 4.5 9.5 4.5H15.5C16.6046 4.5 17.5 5.39543 17.5 6.5V18.5C17.5 19.6046 16.6046 20.5 15.5 20.5H9.5C8.39543 20.5 7.5 19.6046 7.5 18.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M13.5 17.5C13.5 18.0523 13.0523 18.5 12.5 18.5C11.9477 18.5 11.5 18.0523 11.5 17.5C11.5 16.9477 11.9477 16.5 12.5 16.5C13.0523 16.5 13.5 16.9477 13.5 17.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Lir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"moon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M19.6065 16.1775C18.9417 16.387 18.234 16.5 17.5 16.5C13.634 16.5 10.5 13.366 10.5 9.5C10.5 7.54163 11.3042 5.77109 12.6004 4.50062C12.567 4.50021 12.5335 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C15.5924 20.5 18.275 18.7454 19.6065 16.1775Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Pir=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"number",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.0165 17.6336H3.83636V16.4336H21.0165V17.6336Z",fill:"currentColor"}),c.jsx("path",{d:"M7.09808 13.3967V7.508H5.74066L3.83636 8.78241V10.091L5.65277 8.88495H5.74066V13.3967H3.84125V14.5539H8.89984V13.3967H7.09808Z",fill:"currentColor"}),c.jsx("path",{d:"M9.81781 9.63202V9.66132H11.1069V9.62714C11.1069 8.95331 11.5756 8.49432 12.2739 8.49432C12.9575 8.49432 13.4018 8.89471 13.4018 9.50507C13.4018 9.9787 13.1528 10.3498 12.1909 11.3117L9.89594 13.5822V14.5539H14.8618V13.3869H11.7807V13.299L13.1577 11.9855C14.3491 10.843 14.7543 10.1838 14.7543 9.41229C14.7543 8.19159 13.7729 7.36639 12.3178 7.36639C10.8383 7.36639 9.81781 8.28436 9.81781 9.63202Z",fill:"currentColor"}),c.jsx("path",{d:"M17.6694 11.4631H18.5092C19.3198 11.4631 19.8422 11.8683 19.8422 12.4982C19.8422 13.1183 19.3295 13.5139 18.5239 13.5139C17.767 13.5139 17.2592 13.133 17.2104 12.5324H15.9262C15.9897 13.8508 17.0248 14.6955 18.5629 14.6955C20.1401 14.6955 21.2192 13.841 21.2192 12.591C21.2192 11.6584 20.6528 11.0334 19.7006 10.9211V10.8332C20.4721 10.6769 20.9457 10.0666 20.9457 9.23651C20.9457 8.12323 19.9741 7.36639 18.5434 7.36639C17.0541 7.36639 16.1118 8.17694 16.0629 9.50018H17.2983C17.3422 8.88007 17.8061 8.48456 18.4995 8.48456C19.2075 8.48456 19.6567 8.85565 19.6567 9.44159C19.6567 10.0324 19.1977 10.4182 18.4946 10.4182H17.6694V11.4631Z",fill:"currentColor"})]})}),Mir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"ok-hand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M15.9957 11.5C14.8197 10.912 11.9957 9 10.4957 9C8.9957 9 5.17825 11.7674 6 13C7 14.5 9.15134 11.7256 10.4957 12C11.8401 12.2744 13 13.5 13 14.5C13 15.5 11.8401 16.939 10.4957 16.5C9.15134 16.061 8.58665 14.3415 7.4957 14C6.21272 13.5984 5.05843 14.6168 5.5 15.5C5.94157 16.3832 7.10688 17.6006 8.4957 19C9.74229 20.2561 11.9957 21.5 14.9957 20C17.9957 18.5 18.5 16.2498 18.5 13C18.5 11.5 13.7332 5.36875 11.9957 4.5C10.9957 4 10 5 10.9957 6.5C11.614 7.43149 13.5 9.27705 14 10.3751M15.5 8C15.5 8 15.3707 7.5 14.9957 6C14.4957 4 15.9957 3.5 16.4957 4.5C17.1281 5.76491 18.2872 10.9147 18.4957 13",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$ir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"olist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M10 7.5H19M10 12.5H19M10 17.5H19M5 18.5H7.5L7 17.5L7.5 16.5H5M5 6.5H6.5V8.5M5 8.5H6.5M6.5 8.5H8M8 13.5H6L7 11.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Fir=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"overage",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M18.5 11V6.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M6.5 18.5L9 16L12 13L18.5 6.5M3 13.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Bir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"package",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M12.5 13V22M12.5 13L4.5 8M12.5 13L20.5 8M8.5 5.5L16.5 10.5M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Nir=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"pause",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",fill:"currentColor"}),c.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",fill:"currentColor"}),c.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",stroke:"currentColor",strokeWidth:1.2})]})}),Vir=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"pin",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 14 15.5 17.5 12.5 20.5C9.5 17.5 6.5 14 6.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M14 10.5C14 11.3284 13.3284 12 12.5 12C11.6716 12 11 11.3284 11 10.5C11 9.67157 11.6716 9 12.5 9C13.3284 9 14 9.67157 14 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Uir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"pin-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M7.39787 14C8.51075 16.2897 10.5054 18.5054 12.5 20.5C14.4946 18.5054 16.4892 16.2897 17.6021 14M6.52009 11C6.50681 10.8334 6.5 10.6667 6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 10.6667 18.4932 10.8334 18.4799 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Hir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"play",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M7.5 18.5V6.5L17.5 12.5L7.5 18.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),xet=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"plug",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M13.25 8.5L16.75 5M16.25 11.5L19.75 8M9.25 15.5L5.25 19.5M7.75 14L9.75 12C8.25 10 8.75 9 9.75 8C10.15 7.6 11.25 6.5 11.25 6.5L18.25 13.5C18.25 13.5 17.3825 14.3675 16.75 15C15.75 16 14.75 16.5 12.75 15L10.75 17L7.75 14Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),zir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"presentation",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M10.5 18H5.5V8.5H19.5V18H14.5M10.5 18L9 22M10.5 18H14.5M14.5 18L16 22M4.5 8.5H20.5V6.5H4.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Wir=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"publish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M4.99997 5.50006H20M12.5 9.00005V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7.5 14L12.5 9.00006L17.5 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Gir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"read-only",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M15 7L18 10M10 12L7 15L6 19L10 18L13 15M12 10L17 5L20 8L15 13M19 19L5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),qir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"remove-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M8 12.4H17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Yir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Kir=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"reset",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M4.56189 13.5L4.14285 13.9294C4.25676 14.0406 4.41017 14.1019 4.56932 14.1C4.72847 14.098 4.88032 14.0329 4.99144 13.9189L4.56189 13.5ZM9.92427 15.9243L15.9243 9.92427L15.0757 9.07574L9.07574 15.0757L9.92427 15.9243ZM9.07574 9.92426L15.0757 15.9243L15.9243 15.0757L9.92426 9.07574L9.07574 9.92426ZM19.9 12.5C19.9 16.5869 16.5869 19.9 12.5 19.9V21.1C17.2496 21.1 21.1 17.2496 21.1 12.5H19.9ZM5.1 12.5C5.1 8.41309 8.41309 5.1 12.5 5.1V3.9C7.75035 3.9 3.9 7.75035 3.9 12.5H5.1ZM12.5 5.1C16.5869 5.1 19.9 8.41309 19.9 12.5H21.1C21.1 7.75035 17.2496 3.9 12.5 3.9V5.1ZM5.15728 13.4258C5.1195 13.1227 5.1 12.8138 5.1 12.5H3.9C3.9 12.8635 3.92259 13.2221 3.9665 13.5742L5.15728 13.4258ZM12.5 19.9C9.9571 19.9 7.71347 18.6179 6.38048 16.6621L5.38888 17.3379C6.93584 19.6076 9.54355 21.1 12.5 21.1V19.9ZM4.99144 13.9189L7.42955 11.4189L6.57045 10.5811L4.13235 13.0811L4.99144 13.9189ZM4.98094 13.0706L2.41905 10.5706L1.58095 11.4294L4.14285 13.9294L4.98094 13.0706Z",fill:"currentColor"})})}),Zir=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"restore",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M5.88468 17C7.32466 19.1128 9.75033 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5V13.5M12.5 8V12.5L15.5 15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7 11L4.5 13.5L2 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Xir=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"retrieve",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M16 14L12.5 10.5L9 14M5.5 7.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M12.5 10.5L12.5 17.5M19.5 7.5V19.5H5.5V7.5L7.5 5.5H17.5L19.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Qir=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"retry",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M20 9L10 9C7.51472 9 5.5 11.0147 5.5 13.5C5.5 15.9853 7.51472 18 10 18H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16 13L20 9L16 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Jir=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"revert",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M5 9L15 9C17.4853 9 19.5 11.0147 19.5 13.5C19.5 15.9853 17.4853 18 15 18H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M9 13L5 9L9 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),esr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"robot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M12.5 15.5V17.5M12.5 8.5V6.5M12.5 6.5C13.3284 6.5 14 5.82843 14 5C14 4.17157 13.3284 3.5 12.5 3.5C11.6716 3.5 11 4.17157 11 5C11 5.82843 11.6716 6.5 12.5 6.5ZM20.5 20.5V19.5C20.5 18.3954 19.6046 17.5 18.5 17.5H6.5C5.39543 17.5 4.5 18.3954 4.5 19.5V20.5H20.5ZM11.5 12C11.5 12.5523 11.0523 13 10.5 13C9.94772 13 9.5 12.5523 9.5 12C9.5 11.4477 9.94772 11 10.5 11C11.0523 11 11.5 11.4477 11.5 12ZM15.5 12C15.5 12.5523 15.0523 13 14.5 13C13.9477 13 13.5 12.5523 13.5 12C13.5 11.4477 13.9477 11 14.5 11C15.0523 11 15.5 11.4477 15.5 12ZM8.5 15.5H16.5C17.6046 15.5 18.5 14.6046 18.5 13.5V10.5C18.5 9.39543 17.6046 8.5 16.5 8.5H8.5C7.39543 8.5 6.5 9.39543 6.5 10.5V13.5C6.5 14.6046 7.39543 15.5 8.5 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),tsr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"rocket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M12.5 20.5L15.5 14M11 9.49999L4.5 12.5M9 14C9 14 7.54688 14.9531 6.5 16C5.5 17 4.5 20.5 4.5 20.5C4.5 20.5 8 19.5 9 18.5C10 17.5 11 16 11 16M9 14C9 14 10.1 9.9 12.5 7.5C15.5 4.5 20.5 4.5 20.5 4.5C20.5 4.5 20.5 9.5 17.5 12.5C15.7492 14.2508 11 16 11 16L9 14ZM16.5 9.99999C16.5 10.8284 15.8284 11.5 15 11.5C14.1716 11.5 13.5 10.8284 13.5 9.99999C13.5 9.17157 14.1716 8.49999 15 8.49999C15.8284 8.49999 16.5 9.17157 16.5 9.99999Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),nsr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"schema",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M12.5 9.5V12.5M12.5 12.5H8.5V15.5M12.5 12.5H16.5V15.5M10.5 5.5H14.5V9.5H10.5V5.5ZM6.5 15.5H10.5V19.5H6.5V15.5ZM14.5 15.5H18.5V19.5H14.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Vse=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"search",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M15.0355 15.0355L19 19M16.5 11.5C16.5 14.2614 14.2614 16.5 11.5 16.5C8.73858 16.5 6.5 14.2614 6.5 11.5C6.5 8.73858 8.73858 6.5 11.5 6.5C14.2614 6.5 16.5 8.73858 16.5 11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Xx=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"select",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M16.5 15.5L12.5 19.5L8.5 15.5M8.5 9.5L12.5 5.5L16.5 9.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),rsr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"share",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M15 9.5H18.5V19.5H6.5L6.5 9.5H10M12.5 16V3.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M9.5 6.5L12.5 3.5L15.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),wet=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"sort",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M8.5 18.5V6M16.5 19V6.5M12 15L8.5 18.5L5 15M13 10L16.5 6.5L20 10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),isr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"sparkle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M10.5 10.5C8.5 12.5 5 12.5 5 12.5C5 12.5 8.5 12.5 10.5 14.5C12.5 16.5 12.5 20 12.5 20C12.5 20 12.5 16.5 14.5 14.5C16.5 12.5 20 12.5 20 12.5C20 12.5 16.5 12.5 14.5 10.5C12.5 8.5 12.5 5 12.5 5C12.5 5 12.5 8.5 10.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ssr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"sparkles",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M11 3.5V5M11 5V6.5M11 5H12.5M11 5H9.5M9.5 15C9.5 15 12.2308 14.7692 13.5 13.5C14.7692 12.2308 15 9.5 15 9.5C15 9.5 15.2308 12.2308 16.5 13.5C17.7692 14.7692 20.5 15 20.5 15C20.5 15 17.7692 15.2308 16.5 16.5C15.2308 17.7692 15 20.5 15 20.5C15 20.5 14.7692 17.7692 13.5 16.5C12.2308 15.2308 9.5 15 9.5 15ZM4.5 10C4.5 10 5.72308 9.87692 6.3 9.3C6.87692 8.72308 7 7.5 7 7.5C7 7.5 7.12308 8.72308 7.7 9.3C8.27692 9.87692 9.5 10 9.5 10C9.5 10 8.27692 10.1231 7.7 10.7C7.12308 11.2769 7 12.5 7 12.5C7 12.5 6.87692 11.2769 6.3 10.7C5.72308 10.1231 4.5 10 4.5 10Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})})}),osr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"spinner",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),asr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"split-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M19.5 10.5V20.5H5.5V10.5M19.5 10.5H5.5M19.5 10.5V4.5H5.5V10.5M12.5 13V15.5M12.5 18V15.5M12.5 15.5H15M12.5 15.5H10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),lsr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"split-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M10.5 5.5V19.5M13 12.5H15.5M18 12.5H15.5M15.5 12.5V15M15.5 12.5V10M4.5 5.5H20.5V19.5H4.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),usr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"square",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("rect",{x:5.5,y:5.5,width:14,height:14,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),csr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"stack-compact",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M5.5 15.5V18.5H19.5V15.5M5.5 15.5H19.5M5.5 15.5V9.5M19.5 15.5V9.5M5.5 9.5V6.5H19.5V9.5M5.5 9.5H19.5M5.5 12.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),dsr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"stack",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M5.5 12.5H19.5M5.5 18.5H19.5V6.5H5.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),fsr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"star",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M13 4L15.2747 9.8691L21.5595 10.2188L16.6806 14.1959L18.2901 20.2812L13 16.87L7.70993 20.2812L9.31941 14.1959L4.44049 10.2188L10.7253 9.8691L13 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),hsr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"stop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("rect",{x:7.5,y:7.5,width:10,height:10,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),psr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"strikethrough",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M12.5656 7.73438C11.0656 7.73438 10.0734 8.48438 10.0734 9.625C10.0734 10.2317 10.3649 10.6613 11.0519 11H8.90358C8.71703 10.6199 8.62813 10.1801 8.62813 9.67188C8.62813 7.75781 10.2297 6.46094 12.6125 6.46094C14.7922 6.46094 16.4172 7.75781 16.5344 9.57812H15.1203C14.925 8.42188 13.9719 7.73438 12.5656 7.73438Z",fill:"currentColor"}),c.jsx("path",{d:"M12.4875 18.2656C10.0969 18.2656 8.44844 17 8.3 15.0547H9.72188C9.89375 16.2344 11.0188 16.9844 12.6203 16.9844C14.1359 16.9844 15.2531 16.1641 15.2531 15.0469C15.2531 14.6375 15.1255 14.292 14.8589 14H16.5912C16.6638 14.266 16.6984 14.5566 16.6984 14.875C16.6984 16.9453 15.0656 18.2656 12.4875 18.2656Z",fill:"currentColor"}),c.jsx("path",{d:"M7 13.1H18V11.9H7V13.1Z",fill:"currentColor"})]})}),msr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"string",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M11.6748 15.5227H13.1855L9.87842 6.36304H8.34863L5.0415 15.5227H6.50146L7.3457 13.0916H10.8369L11.6748 15.5227ZM9.04053 8.02612H9.14844L10.4751 11.8982H7.70752L9.04053 8.02612Z",fill:"currentColor"}),c.jsx("path",{d:"M16.8101 14.488C16.0674 14.488 15.5278 14.1262 15.5278 13.5042C15.5278 12.8948 15.9595 12.571 16.9116 12.5076L18.6001 12.3997V12.9773C18.6001 13.8342 17.8384 14.488 16.8101 14.488ZM16.4609 15.637C17.3687 15.637 18.124 15.2434 18.5366 14.5515H18.6445V15.5227H19.9585V10.8C19.9585 9.34009 18.981 8.47681 17.248 8.47681C15.6802 8.47681 14.563 9.23853 14.4233 10.4255H15.7437C15.896 9.93677 16.4229 9.65747 17.1846 9.65747C18.1177 9.65747 18.6001 10.0701 18.6001 10.8V11.3967L16.7275 11.5046C15.0835 11.6062 14.1567 12.3235 14.1567 13.5676C14.1567 14.8308 15.1279 15.637 16.4609 15.637Z",fill:"currentColor"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.9585 18.637L5.0415 18.637V17.437L19.9585 17.437V18.637Z",fill:"currentColor"})]})}),gsr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"sun",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M19 12.5H22M3 12.5H6M12.5 6V3M12.5 22V19M17.3891 7.61091L19.5104 5.48959M5.48959 19.5104L7.61091 17.3891M7.61091 7.61091L5.48959 5.48959M19.5104 19.5104L17.3891 17.3891M16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),vsr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"sync",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M13.5 4.5H12.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 15.6631 6.33576 18.3975 9 19.6958M11.5 20.5H12.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 9.33688 18.6642 6.60253 16 5.30423",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),ysr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"tag",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M12.5 20L5 20L5 12.5L12.5 5L20 12.5L12.5 20Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11 15.5C11 16.3284 10.3284 17 9.5 17C8.67157 17 8 16.3284 8 15.5C8 14.6716 8.67157 14 9.5 14C10.3284 14 11 14.6716 11 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),bsr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"tags",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M12.1562 7.93179L13.9717 6.11633L20.3553 12.5L13.9717 18.8836L10.6855 18.8836M11.0283 18.8836L17.4119 12.5L11.0283 6.11633L4.64462 12.5L4.64462 18.8836L11.0283 18.8836ZM9.75153 15.0534C9.75153 15.7585 9.17992 16.3302 8.47481 16.3302C7.76969 16.3302 7.19808 15.7585 7.19808 15.0534C7.19808 14.3483 7.76969 13.7767 8.47481 13.7767C9.17992 13.7767 9.75153 14.3483 9.75153 15.0534Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),xsr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"terminal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M8.5 9.5L11.5 12.5L8.5 15.5M13 15.5H17M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_et=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"th-large",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M12.5 6.5V12.5M12.5 12.5V18.5M12.5 12.5H20.5M12.5 12.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Cet=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"th-list",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M9.5 6.5V10.5M9.5 10.5V14.5M9.5 10.5H20.5M9.5 10.5H4.5M9.5 14.5V18.5M9.5 14.5H20.5M9.5 14.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),wsr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"tiers",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M16.5 14.5L20.5 16.5L12.5 20.5L4.5 16.5L8.5 14.5M16.5 10.5L20.5 12.5L12.5 16.5L4.5 12.5L8.5 10.5M12.5 12.5L20.5 8.5L12.5 4.5L4.5 8.5L12.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_sr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"toggle-arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M10 16.5V8.5L16 12.5L10 16.5Z",fill:"currentColor",stroke:"currentColor",strokeLinejoin:"round"})})}),Csr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"token",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M17.5711 12.5C17.5711 15.2614 15.3325 17.5 12.5711 17.5M7.57107 12.5C7.57107 9.73858 9.80964 7.5 12.5711 7.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Esr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"transfer",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M19.5 16.5H6M5.5 8.5L19 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16 13L19.5 16.5L16 20M9 12L5.5 8.5L9 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Ssr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"translate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.4 5.4H4V6.6H13.2189C13.1612 6.78478 13.0895 6.99578 13.0025 7.22211C12.7032 8.00031 12.2402 8.91125 11.5757 9.57574L10 11.1515L9.42426 10.5757C8.72102 9.8725 8.25297 9.16987 7.96199 8.64611C7.81668 8.38455 7.71617 8.16874 7.65305 8.02146C7.62151 7.94787 7.59937 7.89154 7.5857 7.85534C7.57886 7.83725 7.57415 7.8242 7.57144 7.81657L7.56886 7.80922C7.56886 7.80922 7.56921 7.81026 7 8C6.43079 8.18974 6.43091 8.19009 6.43091 8.19009L6.43133 8.19135L6.43206 8.19351L6.4341 8.19948L6.44052 8.21786C6.44587 8.23292 6.45336 8.25357 6.46313 8.27942C6.48266 8.33112 6.5113 8.40369 6.55008 8.49416C6.62758 8.67501 6.74582 8.92795 6.91301 9.22889C7.24703 9.83013 7.77898 10.6275 8.57574 11.4243L9.15147 12L4.57964 16.5718L4.57655 16.5749L4.57577 16.5757L5.4243 17.4242L5.42688 17.4216L10.0368 12.8117L12.6159 14.9609L13.3841 14.0391L10.8888 11.9597L12.4243 10.4243C13.2598 9.58875 13.7968 8.49969 14.1225 7.65289C14.2818 7.23863 14.395 6.87072 14.4696 6.6H16V5.4H10.6V4H9.4V5.4ZM17.4405 10L21.553 19.7672H20.2509L19.1279 17.1H14.8721L13.7491 19.7672H12.447L16.5595 10H17.4405ZM15.3773 15.9H18.6227L17 12.0462L15.3773 15.9Z",fill:"currentColor"})})}),Eet=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"trash",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M5 6.5H20M10 6.5V4.5C10 3.94772 10.4477 3.5 11 3.5H14C14.5523 3.5 15 3.94772 15 4.5V6.5M12.5 9V17M15.5 9L15 17M9.5 9L10 17M18.5 6.5L17.571 18.5767C17.5309 19.0977 17.0965 19.5 16.574 19.5H8.42603C7.90349 19.5 7.46905 19.0977 7.42898 18.5767L6.5 6.5H18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Tsr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"trend-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M4.5 18.5L11.5 10.5L13.5 14.5L20.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M20.5 11V6.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),ksr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"triangle-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M20.5 18.5H4.5L12.5 5.5L20.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Asr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"trolley",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M8 17.5L5.81763 6.26772C5.71013 5.81757 5.30779 5.5 4.84498 5.5H3M8 17.5H17M8 17.5C8.82843 17.5 9.5 18.1716 9.5 19C9.5 19.8284 8.82843 20.5 8 20.5C7.17157 20.5 6.5 19.8284 6.5 19C6.5 18.1716 7.17157 17.5 8 17.5ZM17 17.5C17.8284 17.5 18.5 18.1716 18.5 19C18.5 19.8284 17.8284 20.5 17 20.5C16.1716 20.5 15.5 19.8284 15.5 19C15.5 18.1716 16.1716 17.5 17 17.5ZM7.78357 14.5H17.5L19 7.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Isr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"truncate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M5 12.5H20M8.5 19.5L12.5 15.5L16.5 19.5M16.5 5.5L12.5 9.5L8.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Dsr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"twitter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M18.8738 6.65751C18.1994 5.9447 17.2445 5.5 16.1857 5.5C14.1423 5.5 12.4857 7.15655 12.4857 9.2C12.4857 9.55263 12.535 9.89374 12.6272 10.2168C7.0826 9.56422 4.55703 6.02857 4.55703 6.02857C4.55703 6.02857 4.02846 9.2 6.14274 11.3143C5.08571 11.3143 4.55703 10.7857 4.55703 10.7857C4.55703 10.7857 4.55703 13.4286 7.19989 14.4857C6.67143 15.0143 5.61417 14.4857 5.61417 14.4857C5.97533 15.9303 7.45606 16.8562 8.82133 17.1358C6.67298 19.1676 3.5 18.7143 3.5 18.7143C5.14562 19.771 7.21334 20.3 9.31429 20.3C16.1214 20.3 19.8162 15.6315 19.8848 9.37762C20.8722 8.58943 22 7.08571 22 7.08571C22 7.08571 21.277 7.45458 19.6913 7.98315C21.277 6.92601 21.4714 5.5 21.4714 5.5C21.4714 5.5 20.4135 6.55789 18.8738 6.65751Z",fill:"currentColor"})})}),Rsr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"ulist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M7.10153 17.5001C7.10153 17.8323 6.83221 18.1016 6.5 18.1016C6.16778 18.1016 5.89847 17.8323 5.89847 17.5001C5.89847 17.1678 6.16778 16.8985 6.5 16.8985C6.83221 16.8985 7.10153 17.1678 7.10153 17.5001Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7.10153 7.5C7.10153 7.83221 6.83221 8.10153 6.5 8.10153C6.16778 8.10153 5.89847 7.83221 5.89847 7.5C5.89847 7.16778 6.16778 6.89847 6.5 6.89847C6.83221 6.89847 7.10153 7.16778 7.10153 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7.10153 12.5C7.10153 12.8322 6.83221 13.1015 6.5 13.1015C6.16778 13.1015 5.89847 12.8322 5.89847 12.5C5.89847 12.1678 6.16778 11.8985 6.5 11.8985C6.83221 11.8985 7.10153 12.1678 7.10153 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10 7.5H19M10 17.5H19M10 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),jsr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"underline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M9.52791 7.11407H8.17V14.2582C8.17 16.5817 9.79195 18.2565 12.4927 18.2565C15.1934 18.2565 16.8154 16.5817 16.8154 14.2582V7.11407H15.4574V14.1677C15.4574 15.8122 14.3787 17.0042 12.4927 17.0042C10.6067 17.0042 9.52791 15.8122 9.52791 14.1677V7.11407Z",fill:"currentColor"}),c.jsx("path",{d:"M7 20.5H18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Osr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"undo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M5.88468 17C7.32466 19.1128 9.75033 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5V13.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7 11L4.5 13.5L2 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Lsr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"unknown",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M5.5 5.5H19.5V19.5H5.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Psr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"unlock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M9.5 11.5V8.5C9.5 6.5 8 5.5 6.5 5.5C5 5.5 3.5 6.5 3.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Msr=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"unpublish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M5 19.5H20M12.5 16V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Tet=m.forwardRef(function(t,e){return c.jsxs("svg",{"data-sanity-icon":"upload",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:[c.jsx("path",{d:"M12.5 6.00003V15.5M5.5 15.5H19.5V19.5H5.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7.5 11L12.5 6.00003L17.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),$sr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"user",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M8 14.5C7 15 5.5 16 5.5 19.5H19.5C19.5 16 18.3416 15.1708 17 14.5C16 14 14 14 14 12.5C14 11 15 10.25 15 8.25C15 6.25 14 5.25 12.5 5.25C11 5.25 10 6.25 10 8.25C10 10.25 11 11 11 12.5C11 14 9 14 8 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Fsr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"users",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M17.5 18.5H21.5C21.5 15 20.8416 14.1708 19.5 13.5C18.5 13 16.5 12.5 16.5 11C16.5 9.5 17.5 9 17.5 7C17.5 5 16.5 4 15 4C13.6628 4 12.723 4.79472 12.5347 6.38415M4.5 20.5C4.5 17 5.5 16 6.5 15.5C7.5 15 9.5 14.5 9.5 13C9.5 11.5 8.5 11 8.5 9C8.5 7 9.5 6 11 6C12.5 6 13.5 7 13.5 9C13.5 11 12.5 11.5 12.5 13C12.5 14.5 14.5 15 15.5 15.5C16.8416 16.1708 17.5 17 17.5 20.5H4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Use=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"warning-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.741 5.12637C13.7357 3.41737 11.2643 3.41737 10.259 5.12637L3.7558 16.1818C2.73624 17.915 3.98595 20.1 5.99683 20.1H19.0032C21.014 20.1 22.2637 17.915 21.2442 16.1818L14.741 5.12637ZM11.9 9V13H13.1V9H11.9ZM13.1 16V14.5H11.9V16H13.1Z",fill:"currentColor"})})}),ket=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"warning-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M12.5 9V13M12.5 16V14.5M14.2239 5.43058L20.727 16.486C21.5113 17.8192 20.55 19.5 19.0032 19.5H5.99683C4.45 19.5 3.48869 17.8192 4.27297 16.486L10.7761 5.43058C11.5494 4.11596 13.4506 4.11596 14.2239 5.43058Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Bsr=m.forwardRef(function(t,e){return c.jsx("svg",{"data-sanity-icon":"wrench",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t,children:c.jsx("path",{d:"M17.0407 5.14624L17.4649 5.57051C17.6166 5.41887 17.6757 5.19783 17.6202 4.99071C17.5646 4.78359 17.4027 4.62189 17.1955 4.56656L17.0407 5.14624ZM14.4013 7.7856L13.977 7.36134C13.8288 7.50959 13.7687 7.72447 13.8185 7.92813L14.4013 7.7856ZM12.8778 6.26211L12.4535 5.83784V5.83784L12.8778 6.26211ZM11.8309 10.6568L12.2552 11.0811C12.4152 10.9211 12.4716 10.6847 12.401 10.4697L11.8309 10.6568ZM5.63925 16.8485L5.21498 16.4242H5.21498L5.63925 16.8485ZM5.63925 19.935L6.06351 19.5108H6.06351L5.63925 19.935ZM8.72581 19.935L9.15007 20.3593L8.72581 19.935ZM15.1184 13.5425L15.2301 12.953C15.0351 12.916 14.8344 12.9779 14.6941 13.1182L15.1184 13.5425ZM18.9718 12.3561L19.3961 12.7804L18.9718 12.3561ZM20.0877 8.19324L20.6674 8.03843C20.612 7.83125 20.4503 7.66934 20.2432 7.61375C20.0361 7.55816 19.815 7.61734 19.6634 7.76898L20.0877 8.19324ZM17.4483 10.8326L17.3058 11.4154C17.5094 11.4652 17.7243 11.4051 17.8726 11.2569L17.4483 10.8326ZM15 10.2339L14.4172 10.3764C14.4704 10.5938 14.6401 10.7635 14.8575 10.8167L15 10.2339ZM16.6164 4.72198L13.977 7.36134L14.8256 8.20986L17.4649 5.57051L16.6164 4.72198ZM13.3021 6.68637C14.2723 5.71612 15.6467 5.39501 16.8859 5.72593L17.1955 4.56656C15.5595 4.12966 13.7389 4.55245 12.4535 5.83784L13.3021 6.68637ZM12.401 10.4697C11.9779 9.18109 12.2794 7.70907 13.3021 6.68637L12.4535 5.83784C11.0985 7.19284 10.7021 9.14218 11.2608 10.844L12.401 10.4697ZM11.4066 10.2326L5.21498 16.4242L6.06351 17.2727L12.2552 11.0811L11.4066 10.2326ZM5.21498 16.4242C4.12834 17.5109 4.12834 19.2727 5.21498 20.3593L6.06351 19.5108C5.4455 18.8928 5.4455 17.8908 6.06351 17.2727L5.21498 16.4242ZM5.21498 20.3593C6.30163 21.446 8.06343 21.446 9.15007 20.3593L8.30155 19.5108C7.68353 20.1288 6.68153 20.1288 6.06351 19.5108L5.21498 20.3593ZM9.15007 20.3593L15.5426 13.9668L14.6941 13.1182L8.30155 19.5108L9.15007 20.3593ZM18.5475 11.9318C17.6463 12.8331 16.3968 13.1742 15.2301 12.953L15.0066 14.132C16.5466 14.4239 18.2023 13.9741 19.3961 12.7804L18.5475 11.9318ZM19.508 8.34804C19.8389 9.58721 19.5178 10.9616 18.5475 11.9318L19.3961 12.7804C20.6815 11.495 21.1043 9.67445 20.6674 8.03843L19.508 8.34804ZM17.8726 11.2569L20.5119 8.6175L19.6634 7.76898L17.024 10.4083L17.8726 11.2569ZM14.8575 10.8167L17.3058 11.4154L17.5908 10.2498L15.1426 9.65106L14.8575 10.8167ZM13.8185 7.92813L14.4172 10.3764L15.5829 10.0914L14.9841 7.64307L13.8185 7.92813Z",fill:"currentColor"})})}),Nsr={"access-denied":Bnr,activity:Nnr,"add-circle":Vnr,add:Fse,api:Unr,archive:Hnr,"arrow-down":fet,"arrow-left":znr,"arrow-right":Wnr,"arrow-top-right":Gnr,"arrow-up":het,"bar-chart":qnr,basket:Ynr,bell:Knr,bill:Znr,"binary-document":Xnr,"block-content":Qnr,"block-element":Jnr,blockquote:err,bold:trr,book:nrr,bottle:rrr,"bulb-filled":irr,"bulb-outline":srr,calendar:orr,case:arr,"chart-upward":lrr,"checkmark-circle":Bse,checkmark:urr,"chevron-down":Nse,"chevron-left":crr,"chevron-right":drr,"chevron-up":pet,circle:frr,clipboard:met,"clipboard-image":hrr,clock:prr,"close-circle":mrr,close:N0,"code-block":grr,code:vrr,cog:yrr,collapse:brr,"color-wheel":xrr,comment:wrr,component:_rr,compose:get,controls:Crr,copy:Err,"credit-card":Srr,crop:Trr,dashboard:krr,database:Arr,desktop:Irr,document:Drr,"document-pdf":Rrr,"document-remove":jrr,"document-sheet":Orr,"document-text":Lrr,"document-video":Prr,"document-word":Mrr,"document-zip":$rr,documents:Frr,dot:Brr,"double-chevron-down":Nrr,"double-chevron-left":Vrr,"double-chevron-right":Urr,"double-chevron-up":Hrr,download:vet,"drag-handle":zrr,drop:Wrr,"earth-americas":Grr,"earth-globe":qrr,edit:CF,"ellipsis-horizontal":Yrr,"ellipsis-vertical":Krr,enter:Zrr,"enter-right":Xrr,envelope:Qrr,equal:Jrr,"error-filled":eir,"error-outline":yet,expand:tir,"eye-closed":nir,"eye-open":rir,filter:iir,folder:sir,generate:oir,groq:air,"heart-filled":lir,heart:uir,"help-circle":cir,home:dir,"ice-cream":fir,image:bet,"image-remove":hir,images:pir,"info-filled":mir,"info-outline":gir,"inline-element":vir,inline:yir,"insert-above":bir,"insert-below":xir,italic:wir,joystick:_ir,launch:Cir,leave:Eir,lemon:Sir,link:Tir,"link-removed":kir,lock:Air,"logo-js":Iir,"logo-ts":Dir,"master-detail":Rir,menu:jir,"mobile-device":Oir,moon:Lir,number:Pir,"ok-hand":Mir,olist:$ir,overage:Fir,package:Bir,pause:Nir,pin:Vir,"pin-removed":Uir,play:Hir,plug:xet,presentation:zir,publish:Wir,"read-only":Gir,"remove-circle":qir,remove:Yir,reset:Kir,restore:Zir,retrieve:Xir,retry:Qir,revert:Jir,robot:esr,rocket:tsr,schema:nsr,search:Vse,select:Xx,share:rsr,sort:wet,sparkle:isr,sparkles:ssr,spinner:osr,"split-horizontal":asr,"split-vertical":lsr,square:usr,"stack-compact":csr,stack:dsr,star:fsr,stop:hsr,strikethrough:psr,string:msr,sun:gsr,sync:vsr,tag:ysr,tags:bsr,terminal:xsr,"th-large":_et,"th-list":Cet,tiers:wsr,"toggle-arrow-right":_sr,token:Csr,transfer:Esr,translate:Ssr,trash:Eet,"trend-upward":Tsr,"triangle-outline":ksr,trolley:Asr,truncate:Isr,twitter:Dsr,ulist:Rsr,underline:jsr,undo:Osr,unknown:Lsr,unlock:Psr,unpublish:Msr,upload:Tet,user:$sr,users:Fsr,"warning-filled":Use,"warning-outline":ket,wrench:Bsr},Vsr=m.forwardRef(function(t,e){const{symbol:n,...r}=t,i=Nsr[n];return i?m.createElement(i,{...r,ref:e}):null}),EF=(t,e)=>{const n=m.useRef(!1),r=m.useCallback(s=>{vYn(t,s)&&(n.current=!0,e&&e())},[t,e]),i=m.useCallback(()=>{n.current=!1},[]);return m.useEffect(()=>(window.addEventListener("keydown",r),window.addEventListener("keyup",i),()=>{window.removeEventListener("keydown",r),window.removeEventListener("keyup",i)}),[r,i]),n},nT={type:"divider"},mc={altText:{assetTypes:["file","image"],field:"altText",name:"altText",operatorType:"empty",operatorTypes:["empty","notEmpty",null,"includes","doesNotInclude"],title:"Alt text",type:"string",value:""},description:{assetTypes:["file","image"],field:"description",name:"description",operatorType:"empty",operatorTypes:["empty","notEmpty",null,"includes","doesNotInclude"],title:"Description",type:"string",value:""},fileName:{assetTypes:["file","image"],field:"originalFilename",name:"filename",operatorType:"includes",operatorTypes:["includes","doesNotInclude"],title:"File name",type:"string",value:""},height:{assetTypes:["image"],field:"metadata.dimensions.height",name:"height",operatorType:"greaterThan",operatorTypes:["greaterThan","greaterThanOrEqualTo","lessThan","lessThanOrEqualTo",null,"equalTo"],title:"Height",type:"number",value:400},inCurrentDocument:{assetTypes:["file","image"],name:"inCurrentDocument",operatorType:"is",options:[{name:"true",title:"True",value:Ra(TDe||(TDe=lr(["_id in $documentAssetIds"])))},{name:"false",title:"False",value:Ra(kDe||(kDe=lr(["!(_id in $documentAssetIds)"])))}],selectOnly:!0,title:"In use in current document",type:"select",value:"true"},inUse:{assetTypes:["file","image"],name:"inUse",operatorType:"is",options:[{name:"true",title:"True",value:Ra(ADe||(ADe=lr(["count(*[references(^._id)]) > 0"])))},{name:"false",title:"False",value:Ra(IDe||(IDe=lr(["count(*[references(^._id)]) == 0"])))}],title:"In use",type:"select",value:"true"},isOpaque:{assetTypes:["image"],field:"metadata.isOpaque",name:"isOpaque",operatorType:"equalTo",options:[{name:"true",title:"True",value:"false"},{name:"false",title:"False",value:"true"}],title:"Has transparency",type:"select",value:"true"},orientation:{assetTypes:["image"],name:"orientation",operatorType:"is",operatorTypes:["is","isNot"],options:[{name:"portrait",title:"Portrait",value:"metadata.dimensions.aspectRatio < 1"},{name:"landscape",title:"Landscape",value:"metadata.dimensions.aspectRatio > 1"},{name:"square",title:"Square",value:"metadata.dimensions.aspectRatio == 1"}],title:"Orientation",type:"select",value:"portrait"},size:{assetTypes:["file","image"],field:"size",modifier:"kb",modifiers:[{name:"kb",title:"KB",fieldModifier:t=>"round(".concat(t," / 1000)")},{name:"mb",title:"MB",fieldModifier:t=>"round(".concat(t," / 1000000)")}],name:"size",operatorType:"greaterThan",operatorTypes:["greaterThan","greaterThanOrEqualTo","lessThan","lessThanOrEqualTo",null,"equalTo"],title:"File size",type:"number",value:0},tag:{assetTypes:["file","image"],field:"opt.media.tags",name:"tag",operatorType:"references",operatorTypes:["references","doesNotReference",null,"empty","notEmpty"],title:"Tags",type:"searchable"},title:{assetTypes:["file","image"],field:"title",name:"title",operatorType:"empty",operatorTypes:["empty","notEmpty",null,"includes","doesNotInclude"],title:"Title",type:"string",value:""},type:{assetTypes:["file","image"],name:"type",operatorType:"is",operatorTypes:["is","isNot"],options:[{name:"image",title:"Image",value:'mimeType match "image*"'},{name:"video",title:"Video",value:'mimeType match "video*"'},{name:"audio",title:"Audio",value:'mimeType match "audio*"'},{name:"pdf",title:"PDF",value:'mimeType == "application/pdf"'}],title:"File type",type:"select",value:"image"},width:{assetTypes:["image"],field:"metadata.dimensions.width",name:"width",operatorType:"greaterThan",operatorTypes:["greaterThan","greaterThanOrEqualTo","lessThan","lessThanOrEqualTo",null,"equalTo"],title:"Width",type:"number",value:400}},Pc={doesNotInclude:{fn:(t,e)=>t?"!(".concat(e," match '*").concat(t,"*')"):void 0,label:"does not include"},doesNotReference:{fn:(t,e)=>t?"!references('".concat(t,"')"):void 0,label:"does not include"},empty:{fn:(t,e)=>"!defined(".concat(e,")"),hideInput:!0,label:"is empty"},equalTo:{fn:(t,e)=>t?"".concat(e," == ").concat(t):void 0,label:"is equal to"},greaterThan:{fn:(t,e)=>t?"".concat(e," > ").concat(t):void 0,label:"is greater than"},greaterThanOrEqualTo:{fn:(t,e)=>t?"".concat(e," >= ").concat(t):void 0,label:"is greater than or equal to"},includes:{fn:(t,e)=>t?"".concat(e," match '*").concat(t,"*'"):void 0,label:"includes"},is:{fn:(t,e)=>"".concat(t),label:"is"},isNot:{fn:(t,e)=>"!(".concat(t,")"),label:"is not"},lessThan:{fn:(t,e)=>t?"".concat(e," < ").concat(t):void 0,label:"is less than"},lessThanOrEqualTo:{fn:(t,e)=>t?"".concat(e," <= ").concat(t):void 0,label:"is less than or equal to"},notEmpty:{fn:(t,e)=>"defined(".concat(e,")"),hideInput:!0,label:"is not empty"},references:{fn:(t,e)=>t?"references('".concat(t,"')"):void 0,label:"includes"}},Aet=[{direction:"desc",field:"_createdAt"},{direction:"asc",field:"_createdAt"},null,{direction:"desc",field:"_updatedAt"},{direction:"asc",field:"_updatedAt"},null,{direction:"asc",field:"originalFilename"},{direction:"desc",field:"originalFilename"},null,{direction:"desc",field:"size"},{direction:"asc",field:"size"}],Usr=[mc.tag,nT,mc.inUse,mc.inCurrentDocument,nT,mc.title,mc.altText,mc.description,nT,mc.isOpaque,nT,mc.fileName,mc.size,mc.type,nT,mc.orientation,mc.width,mc.height],Iet="3rem 100px auto 1.5rem",Hse="3rem 100px auto 5.5rem 5.5rem 3.5rem 8.5rem 4.75rem 2rem",Det=m.createContext(void 0),Hsr=t=>{const{children:e,onSelect:n}=t,r={onSelect:n};return c.jsx(Det.Provider,{value:r,children:e})},xD=()=>{const t=m.useContext(Det);if(t===void 0)throw new Error("useAssetSourceActions must be used within an AssetSourceDispatchProvider");return t},SF=()=>Cs({apiVersion:"2022-10-01"}),zsr={_createdAt:{asc:"Last created: Oldest first",desc:"Last created: Newest first"},_updatedAt:{asc:"Last updated: Oldest first",desc:"Last updated: Newest first"},mimeType:{asc:"MIME type: A to Z",desc:"MIME type: Z to A"},originalFilename:{asc:"File name: A to Z",desc:"File name: Z to A"},size:{asc:"File size: Smallest first",desc:"File size: Largest first"}},rZ=(t,e)=>zsr[t][e],l1=t=>function(e){return yFe(()=>!!t,e.pipe(mee(3e3),rt(n=>Math.random()>.5?il({message:"Test error",statusCode:500}):Re(n))),e)},hRe=t=>{let{assetTypes:e,searchFacets:n,searchQuery:r}=t;const i=e.map(a=>"sanity.".concat(a,"Asset")),s=Ra(DDe||(DDe=lr([`
    _type in `,` && !(_id in path("drafts.**"))
  `])),JSON.stringify(i)),o=n.reduce((a,l)=>{var u;if(l.type==="number"){const{field:d,modifier:f,modifiers:h,operatorType:p,value:g}=l,v=Pc[p],y=h==null?void 0:h.find(_=>_.name===f),x=y!=null&&y.fieldModifier?y.fieldModifier(d):d,b=v.fn(g,x);b&&a.push(b)}if(l.type==="searchable"){const{field:d,operatorType:f,value:h}=l,p=Pc[f].fn(h==null?void 0:h.value,d);p&&a.push(p)}if(l.type==="select"){const{field:d,operatorType:f,options:h,value:p}=l,g=Pc[f],v=(u=h==null?void 0:h.find(x=>x.name===p))==null?void 0:u.value,y=g.fn(v,d);y&&a.push(y)}if(l.type==="string"){const{field:d,operatorType:f,value:h}=l,p=Pc[f].fn(h,d);p&&a.push(p)}return a},[]);return[s,...r?[Ra(RDe||(RDe=lr(["[_id, altText, assetId, description, originalFilename, title, url] match '*","*'"])),r.trim())]:[],...o].join(" && ")},pRe=(t,e)=>function(n){return n.pipe(rt(()=>Vr(t.fetch(Ra(jDe||(jDe=lr(['count(*[_type == "','" && name.current == $name])'])),"media.tag"),{name:e}))),rt(r=>r>0?il({message:"Tag already exists",statusCode:409}):Re(!0)))},iZ=t=>t.reduce((e,n)=>{var r;const i=n==null?void 0:n.tag;return i&&e.push({label:(r=i==null?void 0:i.name)==null?void 0:r.current,value:i==null?void 0:i._id}),e},[]),ko={tagsAddComplete:El("actions/tagsAddComplete",function(t){let{assets:e,tag:n}=t;return{payload:{assets:e,tag:n}}}),tagsAddError:El("actions/tagsAddError",function(t){let{assets:e,error:n,tag:r}=t;return{payload:{assets:e,error:n,tag:r}}}),tagsAddRequest:El("actions/tagsAddRequest",function(t){let{assets:e,tag:n}=t;return{payload:{assets:e,tag:n}}}),tagsRemoveComplete:El("actions/tagsRemoveComplete",function(t){let{assets:e,tag:n}=t;return{payload:{assets:e,tag:n}}}),tagsRemoveError:El("actions/tagsRemoveError",function(t){let{assets:e,error:n,tag:r}=t;return{payload:{assets:e,error:n,tag:r}}}),tagsRemoveRequest:El("actions/tagsRemoveRequest",function(t){let{assets:e,tag:n}=t;return{payload:{assets:e,tag:n}}})},bC={showTagCreate:El("dialog/showTagCreate"),showTagEdit:El("dialog/showTagEdit",function(t){let{tagId:e}=t;return{payload:{tagId:e}}})},eo=ky({name:"tags",initialState:{allIds:[],byIds:{},creating:!1,creatingError:void 0,fetchCount:-1,fetching:!1,fetchingError:void 0,panelVisible:!0},extraReducers:t=>{t.addCase(bC.showTagCreate,e=>{delete e.creatingError}).addCase(bC.showTagEdit,(e,n)=>{const{tagId:r}=n.payload;delete e.byIds[r].error}).addMatcher(e=>[ko.tagsAddComplete.type,ko.tagsAddError.type,ko.tagsRemoveComplete.type,ko.tagsRemoveError.type].includes(e.type),(e,n)=>{const{tag:r}=n.payload;e.byIds[r._id].updating=!1}).addMatcher(e=>[ko.tagsAddRequest.type,ko.tagsRemoveRequest.type].includes(e.type),(e,n)=>{const{tag:r}=n.payload;e.byIds[r._id].updating=!0})},reducers:{createComplete(t,e){const{tag:n}=e.payload;t.creating=!1,t.allIds.includes(n._id)||t.allIds.push(n._id),t.byIds[n._id]={_type:"tag",picked:!1,tag:n,updating:!1}},createError(t,e){t.creating=!1,t.creatingError=e.payload.error},createRequest(t,e){t.creating=!0,delete t.creatingError},deleteComplete(t,e){const{tagId:n}=e.payload,r=t.allIds.indexOf(n);r>=0&&t.allIds.splice(r,1),delete t.byIds[n]},deleteError(t,e){const{error:n,tag:r}=e.payload,i=r==null?void 0:r._id;t.byIds[i].error=n,t.byIds[i].updating=!1},deleteRequest(t,e){var n,r;const i=(r=(n=e.payload)==null?void 0:n.tag)==null?void 0:r._id;t.byIds[i].picked=!1,t.byIds[i].updating=!0,Object.keys(t.byIds).forEach(s=>{delete t.byIds[s].error})},fetchComplete(t,e){const{tags:n}=e.payload;n==null||n.forEach(r=>{t.allIds.push(r._id),t.byIds[r._id]={_type:"tag",picked:!1,tag:r,updating:!1}}),t.fetching=!1,t.fetchCount=n.length||0,delete t.fetchingError},fetchError(t,e){const{error:n}=e.payload;t.fetching=!1,t.fetchingError=n},fetchRequest:{reducer:(t,e)=>{t.fetching=!0,delete t.fetchingError},prepare:()=>({payload:{query:Ra(ODe||(ODe=lr([`
          {
            "items": *[
              _type == "`,`"
              && !(_id in path("drafts.**"))
            ] {
              _createdAt,
              _updatedAt,
              _id,
              _rev,
              _type,
              name
            } | order(name.current asc),
          }
        `])),"media.tag")}})},listenerCreateQueue(t,e){},listenerCreateQueueComplete(t,e){const{tags:n}=e.payload;n==null||n.forEach(r=>{t.byIds[r._id]={_type:"tag",picked:!1,tag:r,updating:!1},t.allIds.includes(r._id)||t.allIds.push(r._id)})},listenerDeleteQueue(t,e){},listenerDeleteQueueComplete(t,e){const{tagIds:n}=e.payload;n==null||n.forEach(r=>{const i=t.allIds.indexOf(r);i>=0&&t.allIds.splice(i,1),delete t.byIds[r]})},listenerUpdateQueue(t,e){},listenerUpdateQueueComplete(t,e){const{tags:n}=e.payload;n==null||n.forEach(r=>{t.byIds[r._id]&&(t.byIds[r._id].tag=r)})},panelVisibleSet(t,e){const{panelVisible:n}=e.payload;t.panelVisible=n},sort(t){t.allIds.sort((e,n)=>{const r=t.byIds[e].tag.name.current,i=t.byIds[n].tag.name.current;return r<i?-1:r>i?1:0})},updateComplete(t,e){const{tag:n}=e.payload;t.byIds[n._id].tag=n,t.byIds[n._id].updating=!1},updateError(t,e){const{error:n,tag:r}=e.payload,i=r==null?void 0:r._id;t.byIds[i].error=n,t.byIds[i].updating=!1},updateRequest(t,e){const{tag:n}=e.payload;t.byIds[n==null?void 0:n._id].updating=!0}}}),Ret=t=>t.tags.byIds,TF=np([Ret,t=>t.tags.allIds],(t,e)=>e.map(n=>t[n])),Wsr=np([Ret,(t,e)=>e],(t,e)=>t[e]),Eo=eo.actions;var Gsr=eo.reducer;const zse=ky({name:"search",initialState:{facets:[],query:""},reducers:{facetsAdd(t,e){t.facets.push({...e.payload.facet,id:R0()})},facetsClear(t){t.facets=[]},facetsRemoveByName(t,e){t.facets=t.facets.filter(n=>n.name!==e.payload.facetName)},facetsRemoveByTag(t,e){t.facets=t.facets.filter(n=>{var r;return!(n.name==="tag"&&n.type==="searchable"&&(n.operatorType==="references"||n.operatorType==="doesNotReference")&&((r=n.value)==null?void 0:r.value)===e.payload.tagId)})},facetsRemoveById(t,e){t.facets=t.facets.filter(n=>n.id!==e.payload.facetId)},facetsUpdate(t,e){const{modifier:n,name:r,operatorType:i,value:s}=e.payload,o=t.facets.find(a=>a.name===r);o&&(o.type==="number"&&n&&(o.modifier=n),i&&(o.operatorType=i),s!==void 0&&(o.value=s),t.facets=t.facets.filter(a=>a.name!==o.name||a.id===o.id))},facetsUpdateById(t,e){const{modifier:n,id:r,operatorType:i,value:s}=e.payload;t.facets.forEach((o,a)=>{o.id===r&&(o.type==="number"&&n&&(o.modifier=n),i&&(o.operatorType=i),s!==void 0&&(t.facets[a].value=s))})},querySet(t,e){var n;t.query=(n=e.payload)==null?void 0:n.searchQuery}}}),qsr=np([t=>t.search.facets,(t,e)=>e],(t,e)=>t.some(n=>{var r;return n.name==="tag"&&n.type==="searchable"&&(n.operatorType==="references"||n.operatorType==="doesNotReference")&&((r=n.value)==null?void 0:r.value)===e})),Zr=zse.actions;var Ysr=zse.reducer;const g8={uploadComplete:El("uploads/uploadComplete",function(t){let{asset:e}=t;return{payload:{asset:e}}})},cj=Aet[0],jet={allIds:[],assetTypes:[],byIds:{},fetchCount:-1,fetching:!1,fetchingError:void 0,lastPicked:void 0,order:{direction:cj.direction,field:cj.field,title:rZ(cj.field,cj.direction)},pageIndex:0,pageSize:100,view:"grid"},Oet=ky({name:"assets",initialState:jet,extraReducers:t=>{t.addCase(g8.uploadComplete,(e,n)=>{const{asset:r}=n.payload;e.byIds[r._id]={_type:"asset",asset:r,picked:!1,updating:!1}}).addCase(ko.tagsAddComplete,(e,n)=>{const{assets:r}=n.payload;r.forEach(i=>{e.byIds[i.asset._id].updating=!1})}).addCase(ko.tagsAddError,(e,n)=>{const{assets:r}=n.payload;r.forEach(i=>{e.byIds[i.asset._id].updating=!1})}).addCase(ko.tagsAddRequest,(e,n)=>{const{assets:r}=n.payload;r.forEach(i=>{e.byIds[i.asset._id].updating=!0})}).addCase(ko.tagsRemoveComplete,(e,n)=>{const{assets:r}=n.payload;r.forEach(i=>{e.byIds[i.asset._id].updating=!1})}).addCase(ko.tagsRemoveError,(e,n)=>{const{assets:r}=n.payload;r.forEach(i=>{e.byIds[i.asset._id].updating=!1})}).addCase(ko.tagsRemoveRequest,(e,n)=>{const{assets:r}=n.payload;r.forEach(i=>{e.byIds[i.asset._id].updating=!0})})},reducers:{clear(t){t.allIds=[]},deleteComplete(t,e){const{assetIds:n}=e.payload;n==null||n.forEach(r=>{const i=t.allIds.indexOf(r);i>=0&&t.allIds.splice(i,1),delete t.byIds[r]}),t.pageIndex=Math.floor(t.allIds.length/t.pageSize)-1},deleteError(t,e){var n,r,i,s;const{assetIds:o,error:a}=e.payload,l=(s=(i=(r=(n=a==null?void 0:a.response)==null?void 0:n.body)==null?void 0:r.error)==null?void 0:i.items)==null?void 0:s.map(u=>u.error);o==null||o.forEach(u=>{t.byIds[u].updating=!1}),l==null||l.forEach(u=>{t.byIds[u.id].error=u.description})},deleteRequest(t,e){const{assets:n}=e.payload;n.forEach(r=>{t.byIds[r==null?void 0:r._id].updating=!0}),Object.keys(t.byIds).forEach(r=>{delete t.byIds[r].error})},fetchComplete(t,e){var n;const r=((n=e.payload)==null?void 0:n.assets)||[];r&&r.forEach(i=>{t.allIds.includes(i._id)||t.allIds.push(i._id),t.byIds[i._id]={_type:"asset",asset:i,picked:!1,updating:!1}}),t.fetching=!1,t.fetchCount=r.length||0,delete t.fetchingError},fetchError(t,e){const n=e.payload;t.fetching=!1,t.fetchingError=n},fetchRequest:{reducer:(t,e)=>{t.fetching=!0,delete t.fetchingError},prepare:t=>{let{params:e={},queryFilter:n,selector:r="",sort:i=Ra(PDe||(PDe=lr(["order(_updatedAt desc)"])))}=t;const s=i||r?"|":"";return{payload:{params:e,query:Ra(MDe||(MDe=lr([`
          {
            "items": *[`,`] {
              _id,
              _type,
              _createdAt,
              _updatedAt,
              altText,
              description,
              extension,
              metadata {
                dimensions,
                exif,
                isOpaque,
              },
              mimeType,
              opt {
                media
              },
              originalFilename,
              size,
              title,
              url
            } `," "," ",`,
          }
        `])),n,s,i,r)}}}},insertUploads(t,e){const{results:n}=e.payload;Object.entries(n).forEach(r=>{let[i,s]=r;s&&!t.allIds.includes(i)&&t.allIds.push(s)})},listenerCreateQueue(t,e){},listenerCreateQueueComplete(t,e){const{assets:n}=e.payload;n==null||n.forEach(r=>{var i;(i=t.byIds[r==null?void 0:r._id])!=null&&i.asset&&(t.byIds[r._id].asset=r)})},listenerDeleteQueue(t,e){},listenerDeleteQueueComplete(t,e){const{assetIds:n}=e.payload;n==null||n.forEach(r=>{const i=t.allIds.indexOf(r);i>=0&&t.allIds.splice(i,1),delete t.byIds[r]})},listenerUpdateQueue(t,e){},listenerUpdateQueueComplete(t,e){const{assets:n}=e.payload;n==null||n.forEach(r=>{var i;(i=t.byIds[r==null?void 0:r._id])!=null&&i.asset&&(t.byIds[r._id].asset=r)})},loadNextPage(){},loadPageIndex(t,e){t.pageIndex=e.payload.pageIndex},orderSet(t,e){var n;t.order=(n=e.payload)==null?void 0:n.order,t.pageIndex=0},pick(t,e){const{assetId:n,picked:r}=e.payload;t.byIds[n].picked=r,t.lastPicked=r?n:void 0},pickAll(t){t.allIds.forEach(e=>{t.byIds[e].picked=!0})},pickClear(t){t.lastPicked=void 0,Object.values(t.byIds).forEach(e=>{t.byIds[e.asset._id].picked=!1})},pickRange(t,e){const n=t.allIds.findIndex(s=>s===e.payload.startId),r=t.allIds.findIndex(s=>s===e.payload.endId),i=[n,r].sort((s,o)=>s-o);t.allIds.slice(i[0],i[1]+1).forEach(s=>{t.byIds[s].picked=!0}),t.lastPicked=t.allIds[r]},sort(t){t.allIds.sort((e,n)=>{const r=t.byIds[e].asset[t.order.field],i=t.byIds[n].asset[t.order.field];return r<i?t.order.direction==="asc"?-1:1:r>i?t.order.direction==="asc"?1:-1:0})},updateComplete(t,e){const{asset:n}=e.payload;t.byIds[n._id].updating=!1,t.byIds[n._id].asset=n},updateError(t,e){const{asset:n,error:r}=e.payload,i=n==null?void 0:n._id;t.byIds[i].error=r.message,t.byIds[i].updating=!1},updateRequest(t,e){var n,r;const i=(r=(n=e.payload)==null?void 0:n.asset)==null?void 0:r._id;t.byIds[i].updating=!0},viewSet(t,e){var n;t.view=(n=e.payload)==null?void 0:n.view}}}),Wse=np([t=>t.assets.byIds,(t,e)=>e],(t,e)=>t[e]||void 0),Let=np([t=>t.assets.byIds,t=>t.assets.allIds],(t,e)=>e.map(n=>t[n])),Ksr=np([Let],t=>t.length),xC=np([Let],t=>t.filter(e=>e==null?void 0:e.picked)),Pet=np([xC],t=>t.length),Zt=Oet.actions;var Zsr=Oet.reducer;const mRe=qe(NDe||(NDe=lr([`
  ::-webkit-scrollbar {
    width: 14px;
  }

  ::-webkit-scrollbar-thumb {
    border-radius: 10px;
    border: 4px solid rgba(0, 0, 0, 0);
    background: var(--card-border-color);
    background-clip: padding-box;

    &:hover {
      background: var(--card-muted-fg-color);
      background-clip: padding-box;
    }
  }
`]))),Xsr=lMe(VDe||(VDe=lr([`
  .media__custom-scrollbar {
    `,`
  }

  // @sanity/ui overrides

  // Custom scrollbar on Box (used in Dialogs)
  div[data-ui="Box"] {
    `,`
  }

  // Dialog background color
  div[data-ui="Dialog"] {
    background-color: rgba(15, 17, 18, 0.9);
  }

`])),mRe,mRe),an=FYn,$5=ky({name:"dialog",initialState:{items:[]},extraReducers:t=>{t.addCase(bC.showTagCreate,e=>{e.items.push({id:"tagCreate",type:"tagCreate"})}),t.addCase(bC.showTagEdit,(e,n)=>{const{tagId:r}=n.payload;e.items.push({id:r,tagId:r,type:"tagEdit"})})},reducers:{clear(t){t.items=[]},inlineTagCreate(t,e){const{assetId:n,tag:r}=e.payload;t.items.forEach(i=>{i.type==="assetEdit"&&i.assetId===n&&(i.lastCreatedTag={label:r.name.current,value:r._id})})},inlineTagRemove(t,e){const{tagIds:n}=e.payload;t.items.forEach(r=>{r.type==="assetEdit"&&(r.lastRemovedTagIds=n)})},remove(t,e){var n;const r=(n=e.payload)==null?void 0:n.id;t.items=t.items.filter(i=>i.id!==r)},showConfirmAssetsTagAdd(t,e){const{assetsPicked:n,closeDialogId:r,tag:i}=e.payload,s="".concat(n.length," ").concat(Gp("asset",n.length));t.items.push({closeDialogId:r,confirmCallbackAction:ko.tagsAddRequest({assets:n,tag:i}),confirmText:"Yes, add tag to ".concat(s),title:"Add tag ".concat(i.name.current," to ").concat(s,"?"),id:"confirm",headerTitle:"Confirm tag addition",tone:"primary",type:"confirm"})},showConfirmAssetsTagRemove(t,e){const{assetsPicked:n,closeDialogId:r,tag:i}=e.payload,s="".concat(n.length," ").concat(Gp("asset",n.length));t.items.push({closeDialogId:r,confirmCallbackAction:ko.tagsRemoveRequest({assets:n,tag:i}),confirmText:"Yes, remove tag from ".concat(s),headerTitle:"Confirm tag removal",id:"confirm",title:"Remove tag ".concat(i.name.current," from ").concat(s,"?"),tone:"critical",type:"confirm"})},showConfirmDeleteAssets(t,e){const{assets:n,closeDialogId:r}=e.payload,i="".concat(n.length," ").concat(Gp("asset",n.length));t.items.push({closeDialogId:r,confirmCallbackAction:Zt.deleteRequest({assets:n.map(s=>s.asset)}),confirmText:"Yes, delete ".concat(i),description:"This operation cannot be reversed. Are you sure you want to continue?",title:"Permanently delete ".concat(i,"?"),id:"confirm",headerTitle:"Confirm deletion",tone:"critical",type:"confirm"})},showConfirmDeleteTag(t,e){const{closeDialogId:n,tag:r}=e.payload;t.items.push({closeDialogId:n,confirmCallbackAction:Eo.deleteRequest({tag:r}),confirmText:"Yes, delete ".concat("tag"),description:"This operation cannot be reversed. Are you sure you want to continue?",title:"Permanently delete ".concat("tag","?"),id:"confirm",headerTitle:"Confirm deletion",tone:"critical",type:"confirm"})},showAssetEdit(t,e){const{assetId:n}=e.payload;t.items.push({assetId:n,id:n,type:"assetEdit"})},showSearchFacets(t){t.items.push({id:"searchFacets",type:"searchFacets"})},showTags(t){t.items.push({id:"tags",type:"tags"})}}}),Ma=$5.actions;var Qsr=$5.reducer;const Jsr=()=>{const t=Vi(),e=an(n=>n.assets.view);return c.jsxs(cn,{space:0,style:{whiteSpace:"nowrap"},children:[c.jsx(Ce,{fontSize:1,icon:_et,mode:e==="grid"?"default":"ghost",onClick:()=>t(Zt.viewSet({view:"grid"})),style:{borderBottomRightRadius:0,borderTopRightRadius:0}}),c.jsx(Ce,{fontSize:1,icon:Cet,mode:e==="table"?"default":"ghost",onClick:()=>t(Zt.viewSet({view:"table"})),style:{borderBottomLeftRadius:0,borderTopLeftRadius:0}})]})};function jw(){const t=hI();return{constrainSize:!0,floatingBoundary:t.element,portal:!0,referenceBoundary:t.element}}const eor=()=>{var t;const e=Vi(),n=an(i=>i.assets.order),r=jw();return c.jsx(vr,{button:c.jsx(Ce,{fontSize:1,icon:wet,mode:"bleed",padding:3,text:rZ(n.field,n.direction)}),id:"order",menu:c.jsx(er,{children:(t=Aet)==null?void 0:t.map((i,s)=>{if(i){const o=n.field===i.field&&n.direction===i.direction;return c.jsx(St,{disabled:o,fontSize:1,iconRight:o,onClick:()=>e(Zt.orderSet({order:{direction:i.direction,field:i.field}})),padding:2,selected:o,space:4,style:{minWidth:"200px"},text:rZ(i.field,i.direction)},s)}return c.jsx(Ci,{},s)})}),popover:r})},tor=t=>{const{loading:e}=t,{animationDuration:n,isFinished:r,progress:i}=OKn({animationDuration:300,isAnimating:e});return c.jsx(N,{style:{opacity:r?0:1,transition:"opacity ".concat(n,"ms linear")},children:c.jsx(N,{style:{height:"1px",background:"rgba(255, 255, 255, 0.5)",position:"absolute",left:0,top:0,transition:"width ".concat(n,"ms linear"),width:"".concat(100*i,"%")}})})},dj={50:{title:"Gray 50",hex:"#f2f3f5"},100:{title:"Gray 100",hex:"#e6e8ec"},200:{title:"Gray 200",hex:"#ced2d9"},300:{title:"Gray 300",hex:"#b6bcc6"},400:{title:"Gray 400",hex:"#9ea6b3"},500:{title:"Gray 500",hex:"#8690a0"},600:{title:"Gray 600",hex:"#6e7683"},700:{title:"Gray 700",hex:"#565d67"},800:{title:"Gray 800",hex:"#3f434a"},900:{title:"Gray 900",hex:"#272a2e"},950:{title:"Gray 950",hex:"#1b1d20"}},nor="#fff",ror={bg:{dark:dj[950].hex,light:dj[50].hex},bg2:{dark:dj[900].hex,light:dj[100].hex},inputEnabledBorder:{dark:qi.color.dark.default.input.default.enabled.border,light:qi.color.light.default.input.default.enabled.border},inputHoveredBorder:{dark:qi.color.dark.default.input.default.hovered.border,light:qi.color.light.default.input.default.hovered.border},mutedHoveredBg:{dark:qi.color.dark.primary.muted.primary.hovered.bg,light:qi.color.light.primary.muted.primary.hovered.bg},mutedHoveredFg:{dark:qi.color.dark.primary.muted.primary.hovered.fg,light:qi.color.light.primary.muted.primary.hovered.fg},mutedSelectedBg:{dark:qi.color.dark.primary.muted.primary.selected.bg,light:qi.color.light.primary.muted.primary.selected.bg},spotBlue:{dark:qi.color.dark.primary.spot.blue,light:qi.color.light.primary.spot.blue}};function ss(t,e){var n;return(n=ror[e])==null?void 0:n[t]}const ior=H(N)(t=>{let{scheme:e,theme:n}=t;return qe(UDe||(UDe=lr([`
    background: `,`;
    border-radius: `,`;
  `])),ss(e,"bg"),Xe(n.sanity.radius[2]))}),kF=t=>{const{children:e,facet:n}=t,{scheme:r}=Po(),i=Vi();return c.jsx(ior,{padding:[2,2,1],scheme:r,children:c.jsxs(ae,{align:["flex-start","flex-start","center"],direction:["column","column","row"],children:[c.jsx(N,{paddingBottom:[3,3,0],paddingLeft:1,paddingRight:2,paddingTop:[1,1,0],children:c.jsx(jn,{size:0,style:{whiteSpace:"nowrap"},children:n.title})}),c.jsxs(ae,{align:"center",children:[e,c.jsx(N,{marginLeft:1,paddingX:2,children:c.jsx(G,{muted:!0,size:0,children:c.jsx(N0,{onClick:()=>{i(Zr.facetsRemoveById({facetId:n.id}))}})})})]})]})})},sor=t=>{const{onValueChange:e,value:n,...r}=t;return c.jsx(Fi,{...r,onChange:i=>{const s=i.target.value;(s===""||/^[0-9\b]+$/.test(s))&&e(parseInt(s,10)||"")},value:n??""})},oor=t=>{let{facet:e}=t;var n;const r=Vi(),i=jw(),s=e==null?void 0:e.modifiers,o=e!=null&&e.modifier?s==null?void 0:s.find(l=>l.name===(e==null?void 0:e.modifier)):s==null?void 0:s[0],a=(n=e.operatorType)!=null?n:"greaterThan";return c.jsxs(kF,{facet:e,children:[(e==null?void 0:e.operatorTypes)&&c.jsx(vr,{button:c.jsx(Ce,{fontSize:1,iconRight:Xx,padding:2,text:Pc[a].label}),id:"operators",menu:c.jsx(er,{children:e.operatorTypes.map((l,u)=>l?c.jsx(St,{disabled:l===a,fontSize:1,onClick:()=>(d=>{r(Zr.facetsUpdateById({id:e.id,operatorType:d}))})(l),padding:2,text:Pc[l].label},l):c.jsx(Ci,{},u))}),popover:i}),c.jsx(N,{marginX:1,style:{maxWidth:"50px"},children:c.jsx(sor,{fontSize:1,onValueChange:l=>{r(Zr.facetsUpdateById({id:e.id,value:l}))},padding:2,radius:2,width:2,value:e==null?void 0:e.value})}),s&&c.jsx(vr,{button:c.jsx(Ce,{fontSize:1,iconRight:Xx,padding:2,text:o==null?void 0:o.title}),id:"modifier",menu:c.jsx(er,{children:s.map(l=>{const u=l.name===e.modifier;return c.jsx(St,{disabled:u,fontSize:1,onClick:()=>(d=>{r(Zr.facetsUpdateById({id:e.id,modifier:d.name}))})(l),padding:2,text:l.title},l.name)})}),popover:i})]})},aor=t=>{let{facet:e}=t;var n;const r=Vi(),i=jw(),s=e==null?void 0:e.options,o=s==null?void 0:s.find(l=>l.name===(e==null?void 0:e.value)),a=(n=e==null?void 0:e.operatorType)!=null?n:"is";return c.jsxs(kF,{facet:e,children:[(e==null?void 0:e.operatorTypes)&&c.jsx(vr,{button:c.jsx(N,{marginRight:1,children:c.jsx(Ce,{fontSize:1,iconRight:Xx,padding:2,text:Pc[a].label})}),id:"operators",menu:c.jsx(er,{children:e.operatorTypes.map((l,u)=>l?c.jsx(St,{disabled:l===a,fontSize:1,onClick:()=>(d=>{r(Zr.facetsUpdate({name:e.name,operatorType:d}))})(l),padding:2,text:Pc[l].label},l):c.jsx(Ci,{},u))}),popover:i}),c.jsx(vr,{button:c.jsx(Ce,{fontSize:1,iconRight:Xx,padding:2,text:o==null?void 0:o.title}),id:"list",menu:c.jsx(er,{children:s==null?void 0:s.map((l,u)=>{const d=l.name===(o==null?void 0:o.name);return c.jsx(St,{disabled:d,fontSize:1,onClick:()=>{return f=s[u],void r(Zr.facetsUpdate({name:e.name,value:f.name}));var f},padding:2,text:l.title},l.name)})}),popover:i})]})},lor=t=>{let{facet:e}=t;const n=Vi(),r=jw(),i=e.operatorType;return c.jsxs(kF,{facet:e,children:[(e==null?void 0:e.operatorTypes)&&c.jsx(vr,{button:c.jsx(Ce,{fontSize:1,iconRight:Xx,padding:2,text:Pc[i].label}),id:"operators",menu:c.jsx(er,{children:e.operatorTypes.map((s,o)=>s?c.jsx(St,{disabled:s===i,fontSize:1,onClick:()=>(a=>{n(Zr.facetsUpdateById({id:e.id,operatorType:a}))})(s),padding:2,text:Pc[s].label},s):c.jsx(Ci,{},o))}),popover:r}),!Pc[i].hideInput&&c.jsx(N,{marginLeft:1,style:{maxWidth:"125px"},children:c.jsx(Fi,{fontSize:1,onChange:s=>{n(Zr.facetsUpdateById({id:e.id,value:s.target.value}))},padding:2,radius:2,width:2,value:e==null?void 0:e.value})})]})},{fonts:{text:{sizes:rT}},radius:gRe,space:fj}=qi,uor=t=>({control:(e,n)=>{let{isDisabled:r,isFocused:i}=n,s="inset 0 0 0 1px var(--card-border-color)";return i&&(s="inset 0 0 0 1px ".concat(ss(t,"inputEnabledBorder"),`,
        0 0 0 1px `).concat(ss(t,"bg2"),`,
        0 0 0 3px var(--card-focus-ring-color) !important`)),{...e,backgroundColor:"var(--card-bg-color)",color:"inherit",border:"none",borderRadius:gRe[2],boxShadow:s,fontSize:rT[1].fontSize,minHeight:"25px",opacity:r?.5:"inherit",outline:"none",transition:"none","&:hover":{boxShadow:"inset 0 0 0 1px ".concat(ss(t,"inputHoveredBorder"))}}},input:e=>({...e,color:"var(--card-fg-color)",fontFamily:qi.fonts.text.family,fontSize:rT[1].fontSize,marginLeft:Xe(fj[2])}),menuList:e=>({...e,padding:0}),noOptionsMessage:e=>({...e,fontFamily:qi.fonts.text.family,fontSize:rT[1].fontSize,lineHeight:"1em"}),option:(e,n)=>{let{isFocused:r}=n;return{...e,backgroundColor:r?ss(t,"spotBlue"):"transparent",borderRadius:gRe[2],color:r?ss(t,"bg"):"inherit",fontSize:rT[1].fontSize,lineHeight:"1em",margin:0,padding:Xe(fj[1]),"&:hover":{backgroundColor:ss(t,"spotBlue"),color:ss(t,"bg")}}},placeholder:e=>({...e,fontSize:rT[1].fontSize,marginLeft:Xe(fj[2]),paddingLeft:0}),singleValue:e=>({...e,alignItems:"center",display:"inline-flex",height:"100%",marginLeft:Xe(fj[2])}),valueContainer:e=>({...e,margin:0,padding:0})}),vRe=t=>c.jsx(N,{padding:1,children:c.jsx(gd.Option,{...t,children:c.jsx(N,{paddingY:1,children:c.jsx(G,{size:1,style:{color:"inherit"},textOverflow:"ellipsis",children:t.children})})})}),cor={ClearIndicator:t=>c.jsx(gd.ClearIndicator,{...t,children:c.jsx(N,{paddingRight:1,style:{transform:"scale(0.85)"},children:c.jsx(G,{muted:!0,size:0,children:c.jsx(N0,{})})})}),DropdownIndicator:null,IndicatorSeparator:null,Menu:t=>c.jsx(gd.Menu,{...t,children:c.jsx(ge,{radius:1,shadow:2,children:t.children})}),MenuList:t=>{const{children:e}=t;if(Array.isArray(e)){const n=e.length>5?165:33*e.length;return c.jsx(kse,{className:"media__custom-scrollbar",itemContent:r=>{const i=e[r];return c.jsx(vRe,{...i.props})},style:{height:n},totalCount:e.length})}return c.jsx(gd.MenuList,{...t,children:e})},NoOptionsMessage:t=>c.jsx(gd.NoOptionsMessage,{...t,children:t.children}),Option:vRe,SingleValue:t=>c.jsx(gd.SingleValue,{...t,children:c.jsx(G,{size:1,textOverflow:"ellipsis",children:t.children})})},dor=t=>{let{facet:e}=t;const{scheme:n}=Po(),r=Vi(),i=an(u=>TF(u)),s=an(u=>u.tags.fetching),o=iZ(i),a=jw(),l=e.operatorType;return c.jsxs(kF,{facet:e,children:[(e==null?void 0:e.operatorTypes)&&c.jsx(vr,{button:c.jsx(Ce,{fontSize:1,iconRight:Xx,padding:2,text:Pc[l].label}),id:"operators",menu:c.jsx(er,{children:e.operatorTypes.map((u,d)=>u?c.jsx(St,{disabled:u===l,fontSize:1,onClick:()=>(f=>{r(Zr.facetsUpdateById({id:e.id,operatorType:f}))})(u),padding:2,space:4,style:{minWidth:"150px"},text:Pc[u].label},u):c.jsx(Ci,{},d))}),popover:a}),!Pc[l].hideInput&&c.jsx(N,{marginX:1,style:{width:"160px"},children:c.jsx(WQn,{components:cor,instanceId:"facet-searchable",isClearable:!0,isDisabled:s,isSearchable:!0,name:"tags",noOptionsMessage:()=>"No tags",onChange:u=>{return d=u,void r(Zr.facetsUpdateById({id:e.id,value:d}));var d},options:o,placeholder:s?"Loading...":"Select...",styles:uor(n),value:e==null?void 0:e.value})})]})},hor=H(ae)(t=>{let{theme:e}=t;return qe(HDe||(HDe=lr([`
    > * {
      margin-bottom: `,`;
    }
  `])),Xe(e.sanity.space[2]))}),Met=t=>{const{layout:e="inline"}=t,n=an(i=>i.search.facets),r=n.map(i=>{const s=i.id;return i.type==="number"?c.jsx(oor,{facet:i},s):i.type==="searchable"?c.jsx(dor,{facet:i},s):i.type==="select"?c.jsx(aor,{facet:i},s):i.type==="string"?c.jsx(lor,{facet:i},s):null});if(e==="inline")return n.length===0?null:c.jsx(N,{marginBottom:2,children:c.jsx(cn,{space:2,children:r})});if(e==="stack")return c.jsx(hor,{align:"flex-start",direction:"column",children:r});throw Error("Invalid layout")},$et=()=>{const t=Vi(),e=an(u=>u.assets.assetTypes),n=an(u=>u.search.facets),r=an(u=>u.selected.document),i=jw(),s=!r,o=Usr.filter(u=>u.type==="group"||u.type==="divider"?!0:s?!(u!=null&&u.selectOnly):u.assetTypes.filter(d=>e.includes(d)).length>0).filter((u,d,f)=>{const h=f[d-1];return(u.type!=="divider"||d!==0&&d!==f.length-1)&&(u.type!=="divider"||(h==null?void 0:h.type)!=="divider")}),a=o.length>0,l=function(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return c.jsx(c.Fragment,{children:u==null?void 0:u.map((f,h)=>{if(f.type==="divider")return c.jsx(Ci,{},h);if(f.type==="group")return c.jsx(n9,{text:f.title,title:f.title,children:l(f.facets,d+1)},"group-".concat(d,"-").concat(h));if(f){const p=!f.operatorTypes&&!!n.find(g=>g.name===f.name);return c.jsx(St,{disabled:p,fontSize:1,onClick:()=>t(Zr.facetsAdd({facet:f})),padding:2,text:f.title},f.name)}return null})})};return c.jsxs(ae,{children:[c.jsx(vr,{button:c.jsx(Ce,{disabled:!a,fontSize:1,icon:Fse,mode:"bleed",space:2,text:"Add filter",tone:"primary"}),id:"facets",menu:c.jsx(er,{children:l(o)}),popover:{...i,placement:"right-start"}}),n.length>0&&c.jsx(Ce,{fontSize:1,mode:"bleed",onClick:()=>t(Zr.facetsClear()),text:"Clear"})]})},sZ=()=>c.jsxs("svg",{"data-sanity-icon":"media__tag",fill:"currentColor",height:"1em",stroke:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",width:"1em",children:[c.jsx("path",{d:"M435.25 48h-122.9a14.46 14.46 0 00-10.2 4.2L56.45 297.9a28.85 28.85 0 000 40.7l117 117a28.85 28.85 0 0040.7 0L459.75 210a14.46 14.46 0 004.2-10.2v-123a28.66 28.66 0 00-28.7-28.8z",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}),c.jsx("path",{d:"M384 160a32 32 0 1132-32 32 32 0 01-32 32z"})]}),por=()=>{const t=an(n=>n.search.query),e=Vi();return c.jsxs(N,{style:{position:"relative"},children:[c.jsx(Fi,{fontSize:1,icon:Vse,onChange:n=>{e(Zr.querySet({searchQuery:n.currentTarget.value}))},placeholder:"Search",radius:2,value:t}),t.length>0&&c.jsx(ae,{align:"center",justify:"center",onClick:()=>{e(Zr.querySet({searchQuery:""}))},style:{cursor:"pointer",height:"100%",opacity:.75,position:"absolute",right:0,top:0,width:"2em",zIndex:1},children:c.jsx(N0,{})})]})},mor=()=>{const t=Vi(),e=an(o=>o.assets.fetching),n=an(o=>o.assets.pageIndex),r=an(o=>o.search.facets),i=an(o=>o.tags.panelVisible),s=T0();return c.jsxs(N,{paddingY:2,style:{borderBottom:"1px solid var(--card-border-color)",zIndex:2},children:[c.jsx(N,{marginBottom:2,children:c.jsx(ae,{align:"flex-start",direction:["column","column","column","column","row"],justify:"space-between",children:c.jsxs(ae,{flex:1,style:{alignItems:"flex-start",flex:1,height:"100%",justifyContent:s<2?"space-between":"flex-start",position:"relative",width:"100%"},children:[c.jsx(N,{marginX:2,style:{minWidth:"200px"},children:c.jsx(por,{})}),c.jsxs(N,{display:["none","none","block"],children:[c.jsx(Met,{}),c.jsx($et,{})]}),c.jsx(N,{display:["block","block","none"],marginX:2,children:c.jsxs(cn,{space:2,style:{whiteSpace:"nowrap"},children:[c.jsx(Ce,{fontSize:1,mode:"ghost",onClick:()=>{t(Ma.showSearchFacets())},text:"Filters".concat(r.length>0?" (".concat(r.length,")"):""),tone:"primary"}),c.jsx(Ce,{fontSize:1,mode:"ghost",onClick:()=>{t(Ma.showTags())},text:"Tags",tone:"primary"})]})})]})})}),c.jsx(N,{children:c.jsxs(ae,{align:"center",justify:["space-between"],children:[c.jsx(N,{marginX:2,children:c.jsx(Jsr,{})}),c.jsxs(ae,{marginX:2,children:[c.jsx(eor,{}),c.jsx(N,{display:["none","none","block"],marginLeft:2,children:c.jsx(Ce,{fontSize:1,icon:c.jsx(N,{style:{transform:"scale(0.75)"},children:c.jsx(sZ,{})}),onClick:()=>{t(Eo.panelVisibleSet({panelVisible:!i}))},mode:i?"default":"ghost",text:i?"Tags":""})})]})]})}),c.jsx(tor,{loading:e},n)]})},Fet=ky({name:"debug",initialState:{badConnection:!1,enabled:!1},reducers:{setBadConnection(t,e){t.badConnection=e.payload},toggleEnabled(t){t.enabled=!t.enabled}}}),yRe=Fet.actions;var gor=Fet.reducer;const vor=()=>{const t=Vi(),e=an(r=>r.debug.badConnection),n=an(r=>r.debug.enabled);return EF("alt+ctrl+shift+/",()=>{t(yRe.toggleEnabled())}),n?c.jsx(N,{padding:4,style:{bottom:0,left:0,pointerEvents:"none",position:"fixed",width:"100%"},children:c.jsxs(ae,{align:"center",children:[c.jsx(N,{marginRight:3,children:c.jsx(G,{muted:!0,size:1,children:c.jsx(xet,{})})}),c.jsx(Mn,{content:c.jsx(N,{padding:2,children:c.jsx(G,{muted:!0,size:1,children:e?"Bad connection: +3000ms & 50% chance to fail":"No connection throttling"})}),fallbackPlacements:["right","left"],placement:"bottom",portal:!0,children:c.jsx(QJ,{checked:e,onChange:r=>{const i=r.target.checked;t(yRe.setBadConnection(i))},style:{pointerEvents:"auto"}})})]})}):null},yor=Wk({label:ox().trim().min(1,{message:"Label cannot be empty"}),value:ox().trim().min(1,{message:"Value cannot be empty"})}),bor=Wk({altText:ox().trim().optional(),description:ox().trim().optional(),opt:Wk({media:Wk({tags:Jer(yor).nullable()})}),originalFilename:ox().trim().min(1,{message:"Filename cannot be empty"}),title:ox().trim().optional()}),Bet=Wk({name:ox().min(1,{message:"Name cannot be empty"})});function Net(t){const e=t.reduce((n,r)=>r._id.startsWith("drafts.")?n.concat(r._id.slice(7)):n,[]);return t.filter(n=>!e.includes(n._id))}const Gse=(t,e)=>{const n=typeof window<"u"&&window.devicePixelRatio?Math.round(window.devicePixelRatio):1,r=e!=null&&e.height?(e==null?void 0:e.height)*Math.max(1,n):void 0,i=e.width*Math.max(1,n),s=new URLSearchParams;return s.append("fit","max"),s.append("w",i.toString()),r&&s.append("h",r.toString()),"".concat(t.url,"?").concat(s.toString())},AF=t=>Object.keys(t).reduce((e,n)=>{const r=t[n];return typeof r=="object"&&r!==null&&r.constructor!==Array?e[n]=AF(r):r===""||r===void 0||(r==null?void 0:r.length)===0?e[n]=null:e[n]=typeof r=="string"&&r?t[n].trim():t[n],e},{}),qse=t=>t._type==="sanity.fileAsset",_3=t=>t._type==="sanity.imageAsset",Vet=t=>"".concat(t.metadata.dimensions.width,"x").concat(t.metadata.dimensions.height,"px"),xor=t=>{let{disabled:e,url:n}=t;const r=jw(),i=m.useRef(),[s,o]=m.useState(!1);return m.useEffect(()=>()=>{i.current&&clearTimeout(i.current)},[]),c.jsx(Ti,{content:c.jsx(G,{muted:!0,size:1,children:"Copied!"}),open:s,padding:2,placement:"top",radius:1,...r,children:c.jsx(Ce,{disabled:e,fontSize:1,icon:met,mode:"ghost",onClick:()=>{i.current&&clearTimeout(i.current),o(!0),xtr(n),i.current=setTimeout(()=>{o(!1)},1250)},text:"Copy URL"})})},fg=t=>{let{label:e,value:n}=t;return c.jsxs(ae,{justify:"space-between",children:[c.jsx(G,{size:1,style:{opacity:.8,width:"40%"},textOverflow:"ellipsis",children:e}),c.jsx(G,{size:1,style:{opacity:.4,textAlign:"right",width:"60%"},textOverflow:"ellipsis",children:n})]})},wor=t=>{var e;const{asset:n,item:r}=t,i=(e=n==null?void 0:n.metadata)==null?void 0:e.exif;return c.jsxs(N,{marginTop:3,children:[c.jsx(N,{children:c.jsxs(Te,{space:3,children:[c.jsx(fg,{label:"Size",value:yC(n==null?void 0:n.size,{base:10,round:0})}),c.jsx(fg,{label:"MIME type",value:n==null?void 0:n.mimeType}),c.jsx(fg,{label:"Extension",value:(n==null?void 0:n.extension).toUpperCase()}),_3(n)&&c.jsx(fg,{label:"Dimensions",value:Vet(n)})]})}),i&&(i.DateTimeOriginal||i.FNumber||i.FocalLength||i.ExposureTime||i.ISO)&&c.jsxs(c.Fragment,{children:[c.jsx(N,{marginY:4,style:{background:"var(--card-border-color)",height:"1px",width:"100%"}}),c.jsx(N,{children:c.jsxs(Te,{space:3,children:[i.ISO&&c.jsx(fg,{label:"ISO",value:i.ISO}),i.FNumber&&c.jsx(fg,{label:"Aperture",value:"/".concat(i.FNumber)}),i.FocalLength&&c.jsx(fg,{label:"Focal length",value:"".concat(i.FocalLength,"mm")}),i.ExposureTime&&c.jsx(fg,{label:"Exposure time",value:"1/".concat(1/i.ExposureTime)}),i.DateTimeOriginal&&c.jsx(fg,{label:"Original date",value:Ja(new Date(i.DateTimeOriginal),"PPp")})]})})]}),c.jsx(N,{marginTop:5,children:c.jsxs(cn,{space:2,children:[c.jsx(Ce,{disabled:!r||(r==null?void 0:r.updating),fontSize:1,icon:vet,mode:"ghost",onClick:()=>{window.location.href="".concat(n.url,"?dl=").concat(n.originalFilename)},text:"Download"}),c.jsx(xor,{disabled:!r||(r==null?void 0:r.updating),url:n.url})]})})]})},kE=t=>c.jsx(pa,{...t,style:{position:"fixed"}}),_or=t=>{let{documents:e,isLoading:n}=t;const r=es();return n?c.jsx(G,{muted:!0,size:1,children:"Loading..."}):e.length===0?c.jsx(G,{muted:!0,size:1,children:"No documents are referencing this asset"}):c.jsx(ge,{flex:1,marginBottom:2,padding:2,radius:2,shadow:1,children:c.jsx(Te,{space:2,children:e==null?void 0:e.map(i=>c.jsx(Cor,{doc:i,schemaType:r.get(i._type)},i._id))})})},Cor=t=>{const{doc:e,schemaType:n}=t,{onClick:r}=QC({intent:"edit",params:{id:e._id}});return n?c.jsx(Ce,{mode:"bleed",onClick:r,padding:2,style:{width:"100%"},children:c.jsx(Tw,{layout:"default",schemaType:n,value:e})},e._id):c.jsx(N,{padding:2,children:c.jsxs(G,{size:1,children:["A document of the unknown type ",c.jsx("em",{children:e._type})]})})},Eor=H(N)(t=>{let{theme:e}=t;return qe(zDe||(zDe=lr([`
    text {
      font-family: `,` !important;
      font-size: 8px !important;
      font-weight: 500 !important;
    }
  `])),e.sanity.fonts.text.family)}),wD=t=>{const{extension:e,onClick:n,width:r}=t;return c.jsx(ae,{align:"center",justify:"center",onClick:n,style:{height:"100%"},children:c.jsx(Eor,{style:{width:r},children:c.jsx(net,e?{extension:e,...qtr[e]}:{})})})},Sor=t=>{const{asset:e}=t;return e.mimeType.search("audio")===0?c.jsx(ae,{align:"center",justify:"center",style:{height:"100%"},children:c.jsx("audio",{controls:!0,src:e.url,style:{width:"100%"}})}):e.mimeType.search("video")===0?c.jsx("video",{controls:!0,src:e.url,style:{height:"100%",width:"100%"}}):c.jsx(wD,{extension:e.extension,width:"50%"})},{radius:gz,space:iT}=qi,Tor=t=>({control:(e,n)=>{let{isFocused:r}=n,i="inset 0 0 0 1px var(--card-border-color)";return r&&(i="inset 0 0 0 1px ".concat(ss(t,"inputEnabledBorder"),`,
        0 0 0 1px var(--card-bg-color),
        0 0 0 3px var(--card-focus-ring-color) !important`)),{...e,backgroundColor:"var(--card-bg-color)",color:"inherit",border:"none",borderRadius:gz[1],boxShadow:i,margin:0,minHeight:"35px",outline:"none",padding:Xe(iT[1]),transition:"none","&:hover":{boxShadow:"inset 0 0 0 1px ".concat(ss(t,"inputHoveredBorder"))}}},indicatorsContainer:(e,n)=>{let{isDisabled:r}=n;return{...e,opacity:r?.25:1}},input:e=>({...e,color:"var(--card-fg-color)",fontFamily:qi.fonts.text.family,marginLeft:Xe(iT[2])}),menuList:e=>({...e}),multiValue:(e,n)=>{let{isDisabled:r}=n;return{...e,backgroundColor:ss(t,"mutedHoveredBg"),borderRadius:gz[2],opacity:r?.5:1}},multiValueLabel:()=>({color:ss(t,"mutedHoveredFg"),fontSize:"inherit",padding:0}),multiValueRemove:e=>({...e,borderTopLeftRadius:0,borderBottomLeftRadius:0,svg:{color:ss(t,"mutedHoveredFg")},"&:hover":{backgroundColor:ss(t,"mutedSelectedBg")}}),noOptionsMessage:e=>({...e,fontFamily:qi.fonts.text.family,lineHeight:"1em"}),option:(e,n)=>{let{isFocused:r}=n;return{...e,backgroundColor:r?ss(t,"spotBlue"):"transparent",borderRadius:gz[2],color:r?ss(t,"bg"):"inherit",padding:"".concat(Xe(iT[1])," ").concat(Xe(iT[2])),"&:hover":{backgroundColor:ss(t,"spotBlue"),color:ss(t,"bg")}}},placeholder:e=>({...e,marginLeft:Xe(iT[2])}),valueContainer:e=>({...e,margin:0,padding:0})}),bRe=t=>c.jsx(N,{paddingX:1,paddingY:1,children:c.jsx(gd.Option,{...t,children:c.jsxs(ae,{align:"center",children:[t.data.__isNew__&&c.jsx(Fse,{style:{marginRight:"3px"}}),t.children]})})}),kor={DropdownIndicator:t=>c.jsx(gd.DropdownIndicator,{...t,children:c.jsx(N,{paddingX:2,children:c.jsx(G,{size:1,children:c.jsx(Nse,{})})})}),IndicatorSeparator:null,Menu:t=>c.jsx(gd.Menu,{...t,children:c.jsx(ge,{radius:1,shadow:2,children:t.children})}),MenuList:t=>{const{children:e}=t;if(Array.isArray(e)){const n=e.length>5?185:37*e.length;return c.jsx(kse,{className:"media__custom-scrollbar",itemContent:r=>{const i=e[r];return c.jsx(bRe,{...i.props})},style:{height:n},totalCount:e.length})}return c.jsx(gd.MenuList,{...t,children:e})},MultiValueLabel:t=>c.jsx(N,{padding:2,paddingRight:1,children:c.jsx(G,{size:1,weight:"medium",children:c.jsx(gd.MultiValueLabel,{...t})})}),MultiValueRemove:t=>c.jsx(gd.MultiValueRemove,{...t,children:c.jsx(N0,{color:"#1f2123"})}),Option:bRe},xRe=H(yet)(t=>{let{theme:e}=t;return{color:e.sanity.color.spot.red}}),Yse=t=>{const{description:e,error:n,label:r,name:i}=t;return c.jsxs(c.Fragment,{children:[c.jsx(N,{marginY:3,children:c.jsxs(cn,{space:2,children:[c.jsx(G,{as:"label",htmlFor:i,size:1,weight:"semibold",children:r}),n&&c.jsx(G,{size:1,children:c.jsx(Mn,{content:c.jsx(N,{padding:2,children:c.jsxs(G,{muted:!0,size:1,children:[c.jsx(xRe,{style:{marginRight:"0.1em"}}),n]})}),fallbackPlacements:["top","left"],placement:"right",portal:!0,children:c.jsx(xRe,{})})})]})}),e&&c.jsx(N,{marginY:3,children:c.jsx(G,{htmlFor:i,muted:!0,size:1,children:e})})]})},Aor=t=>{const{control:e,description:n,disabled:r,error:i,label:s,name:o,onCreateTag:a,options:l,placeholder:u,value:d}=t,{scheme:f}=Po(),h=an(g=>g.tags.creating),p=an(g=>g.tags.fetching);return c.jsxs(N,{style:{zIndex:2},children:[c.jsx(Yse,{description:n,error:i,label:s,name:o}),c.jsx(Eer,{control:e,defaultValue:d,name:o,render:g=>{let{field:v}=g;const{onBlur:y,onChange:x,value:b}=v;return c.jsx(Xtr,{components:kor,instanceId:"tags",isClearable:!1,isDisabled:h||r||p,isLoading:h,isMulti:!0,name:o,noOptionsMessage:()=>"No tags",onBlur:y,onChange:x,onCreateOption:a,options:l,placeholder:p?"Loading...":u,styles:Tor(f),value:b})}})]})},qk=m.forwardRef((t,e)=>{const{description:n,disabled:r,error:i,label:s,name:o,placeholder:a,value:l,...u}=t;return c.jsxs(N,{children:[c.jsx(Yse,{description:n,error:i,label:s,name:o}),c.jsx(Fi,{...u,autoComplete:"off",autoFocus:!0,defaultValue:l,disabled:r,id:o,name:o,placeholder:a,ref:e})]})}),Ior=m.forwardRef((t,e)=>{const{description:n,disabled:r,error:i,label:s,name:o,placeholder:a,rows:l,value:u,...d}=t;return c.jsxs(N,{children:[c.jsx(Yse,{description:n,error:i,label:s,name:o}),c.jsx(M$e,{...d,autoComplete:"off",defaultValue:u,disabled:r,id:o,name:o,placeholder:a,ref:e,rows:l})]})}),Kse=t=>{const{disabled:e,isValid:n,lastUpdated:r,onClick:i}=t;let s;return s=n?r?c.jsxs(c.Fragment,{children:["Last updated",c.jsx("br",{})," ",Ja(new Date(r),"PPp")]}):"No unpublished changes":"There are validation errors that need to be fixed before this document can be published",c.jsx(Mn,{content:c.jsx(N,{padding:3,style:{maxWidth:"185px"},children:c.jsx(G,{muted:!0,size:1,children:s})}),disabled:"ontouchstart"in window,placement:"top",portal:!0,children:c.jsx(N,{children:c.jsx(Ce,{disabled:e,fontSize:1,onClick:i,text:"Save and close",tone:"primary"})})})},_D=H.img(WDe||(WDe=lr([`
  --checkerboard-color: `,`;

  display: block;
  width: 100%;
  height: 100%;
  object-fit: contain;

  `,`
`])),t=>t.scheme?ss(t.scheme,"bg2"):"inherit",t=>t.showCheckerboard&&qe(GDe||(GDe=lr([`
      background-image: linear-gradient(45deg, var(--checkerboard-color) 25%, transparent 25%),
        linear-gradient(-45deg, var(--checkerboard-color) 25%, transparent 25%),
        linear-gradient(45deg, transparent 75%, var(--checkerboard-color) 75%),
        linear-gradient(-45deg, transparent 75%, var(--checkerboard-color) 75%);
      background-size: 20px 20px;
      background-position: 0 0, 0 10px, 10px -10px, -10px 0;
    `])))),Dor=t=>{var e;const{children:n,dialog:{assetId:r,id:i,lastCreatedTag:s,lastRemovedTagIds:o}}=t,a=SF(),{scheme:l}=Po(),u=Kc(),d=Vi(),f=an(X=>Wse(X,String(r))),h=an(TF),p=m.useRef(void 0),[g,v]=m.useState(f==null?void 0:f.asset),[y,x]=m.useState("details"),b=f?f==null?void 0:f.asset:g,_=iZ(h),C=an((S=b,X=>{var fe,ue,te;const F=(te=(ue=(fe=S==null?void 0:S.opt)==null?void 0:fe.media)==null?void 0:ue.tags)==null?void 0:te.reduce((ne,ce)=>{const me=X.tags.byIds[ce._ref];return me!=null&&me.tag&&ne.push(me),ne},[]);return F&&(F==null?void 0:F.length)>0?iZ(F):null}));var S;const T=m.useCallback(X=>({altText:(X==null?void 0:X.altText)||"",description:(X==null?void 0:X.description)||"",originalFilename:(X==null?void 0:X.originalFilename)||"",opt:{media:{tags:C}},title:(X==null?void 0:X.title)||""}),[C]),{control:A,formState:{errors:k,isDirty:I,isValid:D},getValues:R,handleSubmit:O,register:L,reset:P,setValue:$}=Lse({defaultValues:T(f==null?void 0:f.asset),mode:"onChange",resolver:Pse(bor)}),B=!f||(f==null?void 0:f.updating),Q=m.useCallback(()=>{d(Ma.remove({id:i}))},[d,i]),V=m.useCallback(()=>{f!=null&&f.asset&&d(Ma.showConfirmDeleteAssets({assets:[f],closeDialogId:f==null?void 0:f.asset._id}))},[f,d]),Z=m.useCallback(X=>{const{result:fe,transition:ue}=X;fe&&ue==="update"&&v(fe)},[]),ie=m.useCallback(X=>{d(Eo.createRequest({assetId:b==null?void 0:b._id,name:X}))},[b==null?void 0:b._id,d]),J=m.useCallback(X=>{var fe;if(!(f!=null&&f.asset))return;const ue=AF(X);d(Zt.updateRequest({asset:f==null?void 0:f.asset,closeDialogId:f==null?void 0:f.asset._id,formData:{...ue,opt:{media:{...ue.opt.media,tags:((fe=ue.opt.media.tags)==null?void 0:fe.map(te=>({_ref:te.value,_type:"reference",_weak:!0})))||null}}}}))},[f==null?void 0:f.asset,d]);return m.useEffect(()=>{if(!(f!=null&&f.asset))return;const X=a.listen(Ra(qDe||(qDe=lr(["*[_id == $id]"]))),{id:f==null?void 0:f.asset._id}).subscribe(Z);return()=>{X==null||X.unsubscribe()}},[f==null?void 0:f.asset,a,Z]),m.useEffect(()=>{if(s){const X=(R("opt.media.tags")||[]).concat([s]);$("opt.media.tags",X,{shouldDirty:!0})}},[R,s,$]),m.useEffect(()=>{if(o){const X=(R("opt.media.tags")||[]).filter(fe=>!o.includes(fe.value));$("opt.media.tags",X,{shouldDirty:!0})}},[R,o,$]),m.useEffect(()=>{p.current!==(f==null?void 0:f.asset._updatedAt)&&P(T(f==null?void 0:f.asset)),p.current=f==null?void 0:f.asset._updatedAt},[f==null?void 0:f.asset,T,P]),b?c.jsxs(kE,{footer:c.jsx(()=>c.jsx(N,{padding:3,children:c.jsxs(ae,{justify:"space-between",children:[c.jsx(Ce,{disabled:B,fontSize:1,mode:"bleed",onClick:V,text:"Delete",tone:"critical"}),c.jsx(Kse,{disabled:B||!I||!D,isValid:D,lastUpdated:b==null?void 0:b._updatedAt,onClick:O(J)})]})}),{}),header:"Asset details",id:i,onClose:Q,width:3,children:[c.jsxs(ae,{direction:["column-reverse","column-reverse","row-reverse"],children:[c.jsx(N,{flex:1,marginTop:[5,5,0],padding:4,children:c.jsx(YXe,{documentStore:u,id:b._id,children:X=>{let{isLoading:fe,referringDocuments:ue}=X;var te,F,ne,ce,me,pe,Ie;const xe=Net(ue);return c.jsxs(c.Fragment,{children:[c.jsxs(nee,{space:2,children:[c.jsx(TA,{"aria-controls":"details-panel",disabled:B,id:"details-tab",label:"Details",onClick:()=>x("details"),selected:y==="details",size:2}),c.jsx(TA,{"aria-controls":"references-panel",disabled:B,id:"references-tab",label:"References".concat(!fe&&Array.isArray(xe)?" (".concat(xe.length,")"):""),onClick:()=>x("references"),selected:y==="references",size:2})]}),c.jsxs(N,{as:"form",marginTop:4,onSubmit:O(J),children:[!f&&c.jsx(ge,{marginBottom:3,padding:3,radius:2,shadow:1,tone:"critical",children:c.jsx(G,{size:1,children:"This file cannot be found  it may have been deleted."})}),c.jsx("button",{style:{display:"none"},tabIndex:-1,type:"submit"}),c.jsx(KP,{"aria-labelledby":"details",hidden:y!=="details",id:"details-panel",children:c.jsxs(Te,{space:3,children:[c.jsx(Aor,{control:A,disabled:B,error:(ne=(F=(te=k==null?void 0:k.opt)==null?void 0:te.media)==null?void 0:F.tags)==null?void 0:ne.message,label:"Tags",name:"opt.media.tags",onCreateTag:ie,options:_,placeholder:"Select or create...",value:C}),c.jsx(qk,{...L("originalFilename"),disabled:B,error:(ce=k==null?void 0:k.originalFilename)==null?void 0:ce.message,label:"Filename",name:"originalFilename",value:b==null?void 0:b.originalFilename}),c.jsx(qk,{...L("title"),disabled:B,error:(me=k==null?void 0:k.title)==null?void 0:me.message,label:"Title",name:"title",value:b==null?void 0:b.title}),c.jsx(qk,{...L("altText"),disabled:B,error:(pe=k==null?void 0:k.altText)==null?void 0:pe.message,label:"Alt Text",name:"altText",value:b==null?void 0:b.altText}),c.jsx(Ior,{...L("description"),disabled:B,error:(Ie=k==null?void 0:k.description)==null?void 0:Ie.message,label:"Description",name:"description",rows:5,value:b==null?void 0:b.description})]})}),c.jsx(KP,{"aria-labelledby":"references",hidden:y!=="references",id:"references-panel",children:c.jsx(N,{marginTop:5,children:(f==null?void 0:f.asset)&&c.jsx(_or,{documents:xe,isLoading:fe})})})]})]})}})}),c.jsxs(N,{flex:1,padding:4,children:[c.jsxs(N,{style:{aspectRatio:"1"},children:[qse(b)&&c.jsx(Sor,{asset:b}),_3(b)&&c.jsx(_D,{draggable:!1,scheme:l,showCheckerboard:!((e=b==null?void 0:b.metadata)!=null&&e.isOpaque),src:Gse(b,{height:600,width:600})})]}),b&&c.jsx(N,{marginTop:4,children:c.jsx(wor,{asset:b,item:f})})]})]}),n]}):null},Ror=t=>{const{children:e,dialog:n}=t,r=Vi(),i=()=>{r(Ma.remove({id:n==null?void 0:n.id}))},s=()=>{n!=null&&n.closeDialogId&&r(Ma.remove({id:n==null?void 0:n.closeDialogId})),n!=null&&n.confirmCallbackAction&&r(n.confirmCallbackAction),i()},o=()=>c.jsxs(ae,{align:"center",children:[c.jsx(N,{paddingX:1,children:c.jsx(ket,{})}),c.jsx(N,{marginLeft:2,children:n==null?void 0:n.headerTitle})]});return c.jsxs(kE,{footer:c.jsx(()=>c.jsx(N,{padding:3,children:c.jsxs(ae,{justify:"space-between",children:[c.jsx(Ce,{fontSize:1,mode:"bleed",onClick:i,text:"Cancel"}),c.jsx(Ce,{fontSize:1,onClick:s,text:n==null?void 0:n.confirmText,tone:n==null?void 0:n.tone})]})}),{}),header:c.jsx(o,{}),id:"confirm",onClose:i,width:1,children:[c.jsx(N,{paddingX:4,paddingY:4,children:c.jsxs(Te,{space:3,children:[(n==null?void 0:n.title)&&c.jsx(G,{size:1,children:n.title}),(n==null?void 0:n.description)&&c.jsx(G,{muted:!0,size:1,children:c.jsx("em",{children:n.description})})]})}),e]})},jor=t=>{const{children:e,dialog:{id:n}}=t,r=Vi(),i=m.useCallback(()=>{r(Ma.clear())},[]);return c.jsxs(kE,{header:"Filters",id:n,onClose:i,width:1,children:[c.jsxs(N,{padding:3,children:[c.jsx(Met,{layout:"stack"}),c.jsx($et,{})]}),e]})},Oor=t=>{var e;const{children:n,dialog:{id:r}}=t,i=Vi(),s=an(v=>v.tags.creating),o=an(v=>v.tags.creatingError),{formState:{errors:a,isDirty:l,isValid:u},handleSubmit:d,register:f,setError:h}=Lse({defaultValues:{name:""},mode:"onChange",resolver:Pse(Bet)}),p=s,g=v=>{const y=AF(v);i(Eo.createRequest({name:y.name}))};return m.useEffect(()=>{o&&h("name",{message:o==null?void 0:o.message})},[o,h]),c.jsxs(kE,{footer:c.jsx(()=>c.jsx(N,{padding:3,children:c.jsx(ae,{justify:"flex-end",children:c.jsx(Kse,{disabled:p||!l||!u,isValid:u,onClick:d(g)})})}),{}),header:"Create Tag",id:r,onClose:()=>{i(Ma.clear())},width:1,children:[c.jsxs(N,{as:"form",padding:4,onSubmit:d(g),children:[c.jsx("button",{style:{display:"none"},tabIndex:-1,type:"submit"}),c.jsx(qk,{...f("name"),disabled:p,error:(e=a==null?void 0:a.name)==null?void 0:e.message,label:"Name",name:"name"})]}),n]})},Lor=t=>{var e;const{children:n,dialog:{id:r,tagId:i}}=t,s=SF(),o=Vi(),a=an(A=>Wsr(A,String(i))),[l,u]=m.useState(a==null?void 0:a.tag),d=a?a==null?void 0:a.tag:l,f=A=>{var k;return{name:((k=A==null?void 0:A.name)==null?void 0:k.current)||""}},{formState:{errors:h,isDirty:p,isValid:g},handleSubmit:v,register:y,reset:x,setError:b}=Lse({defaultValues:f(a==null?void 0:a.tag),mode:"onChange",resolver:Pse(Bet)}),_=!a||(a==null?void 0:a.updating),C=A=>{var k;if(!(a!=null&&a.tag))return;const I=AF(A);o(Eo.updateRequest({closeDialogId:(k=a==null?void 0:a.tag)==null?void 0:k._id,formData:{name:{_type:"slug",current:I.name}},tag:a==null?void 0:a.tag}))},S=()=>{var A;a!=null&&a.tag&&o(Ma.showConfirmDeleteTag({closeDialogId:(A=a==null?void 0:a.tag)==null?void 0:A._id,tag:a==null?void 0:a.tag}))},T=m.useCallback(A=>{const{result:k,transition:I}=A;k&&I==="update"&&(u(k),x(f(k)))},[x]);return m.useEffect(()=>{var A;a!=null&&a.error&&b("name",{message:(A=a.error)==null?void 0:A.message})},[b,a.error]),m.useEffect(()=>{if(!(a!=null&&a.tag))return;const A=s.listen(Ra(YDe||(YDe=lr(["*[_id == $id]"]))),{id:a==null?void 0:a.tag._id}).subscribe(T);return()=>{A==null||A.unsubscribe()}},[s,T,a==null?void 0:a.tag]),d?c.jsxs(kE,{footer:c.jsx(()=>{var A;return c.jsx(N,{padding:3,children:c.jsxs(ae,{justify:"space-between",children:[c.jsx(Ce,{disabled:_,fontSize:1,mode:"bleed",onClick:S,text:"Delete",tone:"critical"}),c.jsx(Kse,{disabled:_||!p||!g,isValid:g,lastUpdated:(A=a==null?void 0:a.tag)==null?void 0:A._updatedAt,onClick:v(C)})]})})},{}),header:"Edit Tag",id:r,onClose:()=>{o(Ma.remove({id:r}))},width:1,children:[c.jsxs(N,{as:"form",padding:4,onSubmit:v(C),children:[!a&&c.jsx(ge,{marginBottom:3,padding:3,radius:2,shadow:1,tone:"critical",children:c.jsx(G,{size:1,children:"This tag cannot be found  it may have been deleted."})}),c.jsx("button",{style:{display:"none"},tabIndex:-1,type:"submit"}),c.jsx(qk,{...y("name"),disabled:_,error:(e=h==null?void 0:h.name)==null?void 0:e.message,label:"Name",name:"name"})]}),n]}):null},Uet=H(ae)(KDe||(KDe=lr([`
  height: `,`px;
`])),32),Por=H(ae)(ZDe||(ZDe=lr([`
  @media (pointer: fine) {
    visibility: hidden;
  }

  @media (hover: hover) and (pointer: fine) {
    `,`:hover & {
      visibility: visible;
    }
  }
`])),Uet),sT=t=>{const{disabled:e,icon:n,onClick:r,tone:i,tooltip:s}=t;return c.jsx(Mn,{content:c.jsx(Wc,{padding:2,width:0,children:c.jsx(G,{muted:!0,size:1,children:s})}),disabled:"ontouchstart"in window,placement:"top",portal:!0,children:c.jsx(Ce,{disabled:e,fontSize:1,icon:n,mode:"bleed",onClick:r,padding:2,tone:i})})},Mor=t=>{var e,n;const{actions:r,tag:i}=t,s=Vi(),o=an(xC),a=an(l=>{var u;return qsr(l,(u=i==null?void 0:i.tag)==null?void 0:u._id)});return c.jsxs(Uet,{align:"center",flex:1,justify:"space-between",paddingLeft:3,children:[c.jsx(N,{flex:1,children:c.jsx(G,{muted:!0,size:1,style:{opacity:i!=null&&i.updating?.5:1,userSelect:"none"},textOverflow:"ellipsis",children:(n=(e=i==null?void 0:i.tag)==null?void 0:e.name)==null?void 0:n.current})}),c.jsxs(Por,{align:"center",style:{flexShrink:0},children:[(r==null?void 0:r.includes("search"))&&c.jsx(sT,{disabled:i==null?void 0:i.updating,icon:c.jsx(a?N0:Vse,{}),onClick:a?()=>{s(Zr.facetsRemoveByTag({tagId:i.tag._id}))}:()=>{var l,u,d;const f={...mc.tag,value:{label:(u=(l=i==null?void 0:i.tag)==null?void 0:l.name)==null?void 0:u.current,value:(d=i==null?void 0:i.tag)==null?void 0:d._id}};s(a?Zr.facetsUpdate({name:"tag",operatorType:"references",value:f.value}):Zr.facetsAdd({facet:f}))},tooltip:a?"Remove filter":"Filter by tag"}),(r==null?void 0:r.includes("edit"))&&c.jsx(sT,{disabled:i==null?void 0:i.updating,icon:c.jsx(CF,{}),onClick:()=>{var l;s(bC.showTagEdit({tagId:(l=i==null?void 0:i.tag)==null?void 0:l._id}))},tone:"primary",tooltip:"Edit tag"}),(r==null?void 0:r.includes("applyAll"))&&c.jsx(sT,{disabled:i==null?void 0:i.updating,icon:c.jsx(het,{}),onClick:()=>{s(Ma.showConfirmAssetsTagAdd({assetsPicked:o,tag:i.tag}))},tone:"primary",tooltip:"Add tag to selected assets"}),(r==null?void 0:r.includes("removeAll"))&&c.jsx(sT,{disabled:i==null?void 0:i.updating,icon:c.jsx(fet,{}),onClick:()=>{s(Ma.showConfirmAssetsTagRemove({assetsPicked:o,tag:i.tag}))},tone:"critical",tooltip:"Remove tag from selected assets"}),(r==null?void 0:r.includes("delete"))&&c.jsx(sT,{disabled:i==null?void 0:i.updating,icon:c.jsx(Eet,{}),onClick:()=>{s(Ma.showConfirmDeleteTag({tag:i.tag}))},tone:"critical",tooltip:"Delete tag"})]})]})},$or=m.memo(t=>{let{isScrolling:e,item:n}=t;var r;return typeof n=="string"?c.jsx(ae,{align:"center",justify:"space-between",paddingX:3,style:{height:"".concat(32,"px")},children:c.jsx(jn,{size:0,children:n})},n):c.jsx(Mor,{actions:e?void 0:n.actions,tag:n},(r=n.tag)==null?void 0:r._id)}),For=()=>{const t=an(xC),e=an(TF),[n,r]=m.useState(!1),i=t==null?void 0:t.reduce((f,h)=>{var p,g,v,y;const x=((y=(v=(g=(p=h==null?void 0:h.asset)==null?void 0:p.opt)==null?void 0:g.media)==null?void 0:v.tags)==null?void 0:y.map(b=>b._ref))||[];return f=f.concat(x)},[]),s=[...new Set(i)],o=s.reduce((f,h)=>(t.every(p=>{var g,v,y,x;return((x=(y=(v=(g=p.asset.opt)==null?void 0:g.media)==null?void 0:v.tags)==null?void 0:y.findIndex(b=>b._ref===h))!=null?x:-1)>=0})?f.appliedToAll.push(h):f.appliedToSome.push(h),f),{appliedToAll:[],appliedToSome:[]}),a=e.filter(f=>o.appliedToAll.includes(f.tag._id)).map(f=>({...f,actions:["delete","edit","removeAll","search"]})),l=e.filter(f=>o.appliedToSome.includes(f.tag._id)).map(f=>({...f,actions:["applyAll","delete","edit","removeAll","search"]})),u=e.filter(f=>!s.includes(f.tag._id)).map(f=>({...f,actions:["applyAll","delete","edit","search"]}));let d=[];return t.length===0?d=e.map(f=>({...f,actions:["delete","edit","search"]})):((a==null?void 0:a.length)>0&&(d=[...d,t.length===1?"Used":"Used by all",...a]),(l==null?void 0:l.length)>0&&(d=[...d,"Used by some",...l]),(u==null?void 0:u.length)>0&&(d=[...d,"Unused",...u])),c.jsx(kse,{className:"media__custom-scrollbar",computeItemKey:f=>{const h=d[f];return typeof h=="string"?h:h.tag._id},isScrolling:r,itemContent:f=>c.jsx($or,{isScrolling:n,item:d[f]}),style:{flex:1,overflowX:"hidden"},totalCount:d.length})},Bor=t=>{let{allowCreate:e,light:n,title:r}=t;const{scheme:i}=Po(),s=Vi(),o=an(l=>l.tags.creating),a=an(l=>l.tags.fetching);return c.jsx(c.Fragment,{children:c.jsxs(ae,{align:"center",justify:"space-between",paddingLeft:3,style:{background:n?ss(i,"bg"):"inherit",borderBottom:"1px solid var(--card-border-color)",flexShrink:0,height:"".concat(32,"px")},children:[c.jsxs(cn,{space:2,children:[c.jsx(jn,{size:0,children:r}),a&&c.jsx(jn,{size:0,style:{opacity:.3},children:"Loading..."})]}),e&&c.jsx(N,{marginRight:1,children:c.jsx(Ce,{disabled:o,fontSize:1,icon:get,mode:"bleed",onClick:()=>{s(bC.showTagCreate())},style:{background:"transparent",boxShadow:"none"}})})]})})},Het=()=>{const t=an(Pet),e=an(TF),n=an(o=>o.tags.fetching),r=an(o=>o.tags.fetchCount)!==-1,i=!n&&(e==null?void 0:e.length)>0,s=t>0;return c.jsxs(ae,{direction:"column",flex:1,height:"fill",children:[c.jsx(Bor,{allowCreate:!0,light:s,title:s?"Tags (in selection)":"Tags"}),r&&!i&&c.jsx(N,{padding:3,children:c.jsx(G,{muted:!0,size:1,children:c.jsx("em",{children:"No tags"})})}),i&&c.jsx(For,{})]})},Nor=t=>{const{children:e,dialog:{id:n}}=t,r=Vi(),i=m.useCallback(()=>{r(Ma.clear())},[]);return c.jsxs(kE,{header:"All Tags",id:n,onClose:i,width:1,children:[c.jsx(N,{style:{height:"100%",minHeight:"420px"},children:c.jsx(Het,{})}),e]})},Vor=()=>{const t=an(n=>n.dialog.items),e=(n,r)=>{if(n.length===0||r>=n.length)return null;const i=n[r],s=e(n,r+1);return i.type==="assetEdit"?c.jsx(Dor,{dialog:i,children:s},r):i.type==="confirm"?c.jsx(Ror,{dialog:i,children:s},r):i.type==="searchFacets"?c.jsx(jor,{dialog:i,children:s},r):i.type==="tagCreate"?c.jsx(Oor,{dialog:i,children:s},r):i.type==="tagEdit"?c.jsx(Lor,{dialog:i,children:s},r):i.type==="tags"?c.jsx(Nor,{dialog:i,children:s},r):null};return e(t,0)},zet=m.createContext(void 0),Uor=t=>{const{children:e,open:n}=t,r={open:n};return c.jsx(zet.Provider,{value:r,children:e})},Hor=t=>{const{onClose:e}=t,{open:n}=(()=>{const o=m.useContext(zet);if(o===void 0)throw new Error("useDropzoneActions must be used within an DropzoneDispatchProvider");return o})(),{onSelect:r}=xD(),i=an(o=>o.assets.assetTypes),s=an(o=>o.selected.document);return c.jsx(N,{paddingY:2,children:c.jsxs(ae,{align:"center",justify:"space-between",children:[c.jsx(N,{flex:1,marginX:3,children:c.jsxs(cn,{style:{whiteSpace:"nowrap"},children:[c.jsx(G,{textOverflow:"ellipsis",weight:"semibold",children:c.jsx("span",{children:r?"Insert ".concat(i.join(" or ")):"Browse Assets"})}),s&&c.jsx(N,{display:["none","none","block"],children:c.jsxs(G,{children:[c.jsx("span",{style:{margin:"0 0.5em"},children:c.jsx(Vsr,{symbol:"arrow-right"})}),c.jsx("span",{style:{textTransform:"capitalize"},children:s._type})]})})]})}),c.jsxs(ae,{marginX:2,children:[c.jsx(Ce,{fontSize:1,icon:Tet,mode:"bleed",onClick:n,text:"Upload ".concat(i.length===1?Gp(i[0]):"assets"),tone:"primary"}),e&&c.jsx(N,{style:{flexShrink:0},children:c.jsx(Ce,{disabled:!e,icon:N0,mode:"bleed",onClick:e,radius:2})})]})]})})},zor=np([t=>t.assets.allIds,t=>t.uploads.allIds],(t,e)=>{const n=t.map(r=>({id:r,type:"asset"}));return[...e.map(r=>({id:r,type:"upload"})),...n]}),Wor=H(ae)(XDe||(XDe=lr([`
  box-sizing: border-box;
  height: 100%;
  overflow: hidden;
  position: relative;
  width: 100%;
`]))),Gor=H(ae)(t=>{let{picked:e,theme:n,updating:r}=t;return qe(QDe||(QDe=lr([`
      border: 1px solid transparent;
      height: 100%;
      pointer-events: `,`;
      position: relative;
      transition: all 300ms;
      user-select: none;
      width: 100%;

      border: `,`;

      `,`
    `])),r?"none":"auto",e?"1px solid ".concat(n.sanity.color.spot.orange," !important"):"1px solid inherit",!r&&qe(JDe||(JDe=lr([`
        @media (hover: hover) and (pointer: fine) {
          &:hover {
            border: 1px solid var(--card-border-color);
          }
        }
      `]))))}),qor=H(ae)(t=>{let{scheme:e}=t;return qe(eRe||(eRe=lr([`
    cursor: pointer;
    height: `,`px;
    transition: all 300ms;
    @media (hover: hover) and (pointer: fine) {
      &:hover {
        background: `,`;
      }
    }
  `])),32,ss(e,"bg"))}),Yor=H(Use)(t=>{let{theme:e}=t;return{color:e.sanity.color.spot.red}});var Kor=m.memo(t=>{var e,n;const{id:r,selected:i}=t,{scheme:s}=Po(),o=EF("shift"),a=Vi(),l=an(b=>b.assets.lastPicked),u=an(b=>Wse(b,r)),d=u==null?void 0:u.asset,f=u==null?void 0:u.error,h=(n=(e=u==null?void 0:u.asset)==null?void 0:e.metadata)==null?void 0:n.isOpaque,p=u==null?void 0:u.picked,g=u==null?void 0:u.updating,{onSelect:v}=xD();if(!d)return null;const y=g?.5:1,x=i||g?.25:1;return c.jsx(Wor,{padding:1,children:c.jsxs(Gor,{direction:"column",picked:p,updating:u.updating,children:[c.jsxs(N,{flex:1,style:{cursor:i?"default":"pointer",position:"relative"},children:[c.jsxs("div",{onClick:b=>{b.stopPropagation(),v?v([{kind:"assetDocumentId",value:d._id}]):o.current?a(p?Zt.pick({assetId:d._id,picked:!p}):Zt.pickRange({startId:l||d._id,endId:d._id})):a(Ma.showAssetEdit({assetId:d._id}))},style:{height:"100%",opacity:x},children:[qse(d)&&c.jsx(wD,{extension:d.extension,width:"80px"}),_3(d)&&c.jsx(_D,{draggable:!1,scheme:s,showCheckerboard:!h,src:Gse(d,{height:250,width:250}),style:{draggable:!1,transition:"opacity 1000ms"}})]}),i&&!g&&c.jsx(ae,{align:"center",justify:"center",style:{height:"100%",left:0,opacity:y,position:"absolute",top:0,width:"100%"},children:c.jsx(G,{size:2,children:c.jsx(Bse,{})})}),g&&c.jsx(ae,{align:"center",justify:"center",style:{height:"100%",left:0,position:"absolute",top:0,width:"100%"},children:c.jsx(_s,{})})]}),c.jsxs(qor,{align:"center",onClick:b=>{b.stopPropagation(),v?a(Ma.showAssetEdit({assetId:d._id})):o.current&&!p?a(Zt.pickRange({startId:l||d._id,endId:d._id})):a(Zt.pick({assetId:d._id,picked:!p}))},paddingX:1,scheme:s,style:{opacity:y},children:[v?c.jsx(CF,{style:{flexShrink:0,opacity:.5}}):c.jsx(r0,{checked:p,readOnly:!0,style:{flexShrink:0,pointerEvents:"none",transform:"scale(0.8)"}}),c.jsx(N,{marginLeft:2,children:c.jsx(G,{muted:!0,size:0,textOverflow:"ellipsis",children:d.originalFilename})})]}),f&&c.jsx(N,{padding:3,style:{position:"absolute",right:0,top:0},children:c.jsx(Mn,{content:c.jsx(Wc,{padding:2,width:0,children:c.jsx(G,{size:1,children:f})}),placement:"left",portal:!0,children:c.jsx(G,{size:1,children:c.jsx(Yor,{color:"critical"})})})})]})})});const Zor=async t=>{const e=await(i=>new Promise(s=>{const o=window.URL.createObjectURL(i),a=new Image;a.onload=()=>{window.URL.revokeObjectURL(o),s(a)},a.src=o}))(t),n=await(r=e,new Promise(i=>{const s=r.width/r.height,o=document.createElement("canvas");o.width=180,o.height=Math.max(180/s,1);try{const a=o.getContext("2d");a==null||a.drawImage(r,0,0,180,180/s),o.toBlob(i,"image/jpeg")}catch(a){console.warn("Unable to generate preview image:",a)}}));var r;if(!n)throw Error("Unable to generate file Blob");return window.URL.createObjectURL(n)};function wRe(t,e){const n=t.indexOf(e);return n>-1&&t.splice(n,1),t}const Xor=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:4;const e=[],n=[],r=new Pi;function i(o){return new On(a=>{if(e.length>=t)return s(o).pipe(rt(i)).subscribe(a);const l=o.subscribe(a);return e.push(l),()=>{for(wRe(e,l),wRe(n,o),l.unsubscribe();n.length>0&&e.length<t;)r.next(n.shift())}})}function s(o){return n.push(o),r.asObservable().pipe(gee(a=>a===o))}return i},Qor=t=>Array.prototype.map.call(new Uint8Array(t),e=>"00".concat(e.toString(16)).slice(-2)).join(""),Jor=t=>window.crypto&&window.crypto.subtle&&window.FileReader?(e=>new On(n=>{const r=new FileReader;return r.onload=()=>{n.next(r.result),n.complete()},r.onerror=i=>{n.error(i)},r.readAsArrayBuffer(e),()=>{r.abort()}}))(t).pipe(rt(e=>window.crypto.subtle.digest("SHA-1",e)),Be(Qor)):il({message:"Unable to generate hash: uploads are only allowed in secure contexts",statusCode:500}),ear=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4;const n=Xor(e);return function(){return Vr(n(t(...arguments)))}}((t,e,n,r)=>Re(null).pipe(rt(()=>((i,s,o)=>i.observable.fetch("*[_type == $documentType && sha1hash == $hash][0]",{documentType:s,hash:o}))(t,"sanity.".concat(e,"Asset"),r)),rt(i=>i?il({message:"Asset already exists",statusCode:409}):Re(null)),rt(()=>t.observable.assets.upload(e,n,{extract:["blurhash","exif","location","lqip","palette"],preserveFilename:!0}).pipe(Be(i=>i.type==="response"?{asset:i.body.document,id:i.body.document._id,type:"complete"}:i))))),Wet=ky({name:"uploads",initialState:{allIds:[],byIds:{}},extraReducers:t=>{t.addCase(g8.uploadComplete,(e,n)=>{const{asset:r}=n.payload;e.byIds[r.sha1hash]&&(e.byIds[r.sha1hash].status="complete")})},reducers:{checkRequest(t,e){},checkComplete(t,e){const{results:n}=e.payload;Object.keys(n).forEach(r=>{const i=t.allIds.indexOf(r);if(i>=0&&t.allIds.splice(i,1),t.byIds[r]){const s=t.byIds[r].objectUrl;s&&window.URL.revokeObjectURL(s),delete t.byIds[r]}})},previewReady(t,e){const{blobUrl:n,hash:r}=e.payload;t.byIds[r]&&(t.byIds[r].objectUrl=n)},uploadCancel(t,e){const{hash:n}=e.payload,r=t.allIds.indexOf(n);r>=0&&t.allIds.splice(r,1),t.byIds[n]&&delete t.byIds[n]},uploadError(t,e){const{hash:n}=e.payload,r=t.allIds.indexOf(n);r>=0&&t.allIds.splice(r,1),delete t.byIds[n]},uploadRequest(t,e){},uploadProgress(t,e){const{event:n,uploadHash:r}=e.payload;t.byIds[r].percent=n.percent,t.byIds[r].status="uploading"},uploadStart(t,e){const{uploadItem:n}=e.payload;t.allIds.includes(n.hash)||t.allIds.push(n.hash),t.byIds[n.hash]=n}}}),Get=np([t=>t.uploads.byIds,(t,e)=>e],(t,e)=>t[e]);np([t=>t.uploads.byIds,t=>t.uploads.allIds],(t,e)=>e.map(n=>t[n]));const xc=Wet.actions;var tar=Wet.reducer;const nar=H(ae)(nRe||(nRe=lr([`
  box-sizing: border-box;
  height: 100%;
  overflow: hidden;
  position: relative;
  width: 100%;
`]))),rar=t=>{const{id:e}=t,{scheme:n}=Po(),r=Vi(),i=an(f=>Get(f,e));if(!i)return null;const s=yC(i.size,{base:10,round:0}),o=Math.round(i.percent||0),a=i.status==="complete",l=i.status==="uploading",u=i.status==="queued";let d;return a&&(d="Verifying"),l&&(d="".concat(o,"%")),u&&(d="Queued"),c.jsx(nar,{padding:1,children:c.jsxs(ae,{direction:"column",flex:1,style:{background:ss(n,"bg"),border:"1px solid transparent",height:"100%",position:"relative"},children:[c.jsx("div",{style:{background:"var(--card-fg-color)",bottom:0,height:"1px",left:0,position:"absolute",width:"100%",transform:"scaleX(".concat(.01*o,")"),transformOrigin:"bottom left",transition:"all 1000ms ease-out"}}),c.jsxs(N,{flex:1,style:{position:"relative"},children:[i.assetType==="image"&&(i==null?void 0:i.objectUrl)&&c.jsx(_D,{draggable:!1,scheme:n,src:i.objectUrl,style:{opacity:.4}}),i.assetType==="file"&&c.jsx("div",{style:{height:"100%",opacity:.1},children:c.jsx(wD,{width:"80px"})}),!a&&o!==100&&c.jsx(ae,{align:"center",direction:"column",justify:"center",style:{height:"100%",left:0,position:"absolute",top:0,width:"100%"},children:c.jsx(Ce,{fontSize:4,icon:N0,mode:"bleed",onClick:()=>{r(xc.uploadCancel({hash:i.hash}))},padding:2,style:{background:"none",boxShadow:"none"},tone:"critical"})})]}),c.jsxs(ae,{align:"center",justify:"space-between",paddingX:2,style:{height:"".concat(32,"px")},children:[c.jsx(N,{flex:1,marginRight:1,children:c.jsxs(G,{size:0,textOverflow:"ellipsis",children:[i.name," (",s,")"]})}),c.jsx(G,{size:0,style:{flexShrink:0},weight:"semibold",children:d})]})]})})},iar=m.memo(t=>{let{item:e,selected:n}=t;return(e==null?void 0:e.type)==="asset"?c.jsx(Kor,{id:e.id,selected:n}):(e==null?void 0:e.type)==="upload"?c.jsx(rar,{id:e.id}):null}),sar=H.div(rRe||(rRe=lr([`
  height: `,`px;
  width: `,`px;
`])),220,240),oar=H.div(iRe||(iRe=lr([`
  display: grid;
  grid-template-columns: repeat(auto-fill, `,`px);
  grid-template-rows: repeat(auto-fill, `,`px);
  justify-content: center;
  margin: 0 auto;
`])),240,220),aar=t=>{const{items:e,onLoadMore:n}=t,r=an(o=>o.selected.assets),i=r&&r.map(o=>o._id)||[],s=e==null?void 0:e.length;return s===0?null:c.jsx(ver,{className:"media__custom-scrollbar",computeItemKey:o=>{const a=e[o];return a==null?void 0:a.id},components:{Item:sar,List:oar},endReached:n,itemContent:o=>{const a=e[o],l=i.includes(a==null?void 0:a.id);return c.jsx(iar,{item:a,selected:l})},overscan:48,style:{overflowX:"hidden",overflowY:"scroll"},totalCount:s})},hg=t=>{const{field:e,title:n}=t,r=Vi(),i=an(o=>o.assets.order),s=i.field===e;return c.jsx(jn,{muted:!e,size:0,children:c.jsxs(N,{onClick:e?()=>{if(e&&n)if(s){const o=i.direction==="asc"?"desc":"asc";r(Zt.orderSet({order:{field:e,direction:o}}))}else r(Zt.orderSet({order:{field:e,direction:"asc"}}))}:void 0,style:{cursor:e?"pointer":"default",display:"inline",whiteSpace:"nowrap"},children:[c.jsx("span",{style:{marginRight:"0.4em"},children:n}),s&&(i==null?void 0:i.direction)==="asc"&&c.jsx(pet,{}),s&&(i==null?void 0:i.direction)==="desc"&&c.jsx(Nse,{})]})})},lar=H(ae)(t=>{let{scheme:e}=t;return qe(sRe||(sRe=lr([`
    cursor: pointer;
    @media (hover: hover) and (pointer: fine) {
      &:hover {
        background: `,`;
      }
    }
  `])),ss(e,"bg"))}),uar=()=>{const{scheme:t}=Po(),e=Vi(),n=an(l=>l.assets.fetching),r=an(Ksr),i=an(Pet),s=T0(),{onSelect:o}=xD(),a=i===r;return c.jsxs(Er,{style:{alignItems:"center",background:"var(--card-bg-color)",borderBottom:"1px solid var(--card-border-color)",gridColumnGap:s<3?0:"16px",gridTemplateColumns:Hse,height:s<3?0:"".concat(32,"px"),letterSpacing:"0.025em",position:"sticky",textTransform:"uppercase",top:0,visibility:s<3?"hidden":"visible",width:"100%",zIndex:1},children:[o?c.jsx(hg,{}):c.jsx(lar,{align:"center",justify:"center",onClick:l=>{l.stopPropagation(),e(a?Zt.pickClear():Zt.pickAll())},scheme:t,style:{height:"100%",position:"relative"},children:c.jsx(r0,{checked:!n&&a,readOnly:!0,style:{pointerEvents:"none",transform:"scale(0.8)"}})}),c.jsx(hg,{}),c.jsx(hg,{field:"originalFilename",title:"Filename"}),c.jsx(hg,{title:"Resolution"}),c.jsx(hg,{field:"mimeType",title:"MIME type"}),c.jsx(hg,{field:"size",title:"Size"}),c.jsx(hg,{field:"_updatedAt",title:"Last updated"}),c.jsx(hg,{title:"References"}),c.jsx(hg,{})]})},car=H(Er)(t=>{let{scheme:e,selected:n,updating:r}=t;return qe(oRe||(oRe=lr([`
      align-items: center;
      cursor: `,`;
      height: 100%;
      pointer-events: `,`;
      user-select: none;
      white-space: nowrap;

      `,`
    `])),n?"default":"pointer",r?"none":"auto",!r&&qe(aRe||(aRe=lr([`
        @media (hover: hover) and (pointer: fine) {
          &:hover {
            background: `,`;
          }
        }
      `])),ss(e,"bg")))}),dar=H(ae)(t=>{let{scheme:e}=t;return qe(lRe||(lRe=lr([`
    cursor: pointer;
    @media (hover: hover) and (pointer: fine) {
      &:hover {
        background: `,`;
      }
    }
  `])),ss(e,"bg2"))}),far=H(Use)(t=>{let{theme:e}=t;return{color:e.sanity.color.spot.red}});var har=m.memo(t=>{var e,n;const{id:r,selected:i}=t,{scheme:s}=Po(),o=EF("shift"),[a,l]=m.useState(!1),u=m.useRef(),d=Vi(),f=an(k=>k.assets.lastPicked),h=an(k=>Wse(k,r)),p=T0(),g=h==null?void 0:h.asset,v=h==null?void 0:h.error,y=(n=(e=h==null?void 0:h.asset)==null?void 0:e.metadata)==null?void 0:n.isOpaque,x=h==null?void 0:h.picked,b=h==null?void 0:h.updating,{onSelect:_}=xD(),C=m.useCallback(k=>{k.stopPropagation(),g&&(_?d(Ma.showAssetEdit({assetId:g._id})):o.current&&!x?d(Zt.pickRange({startId:f||g._id,endId:g._id})):d(Zt.pick({assetId:g._id,picked:!x})))},[g,d,f,_,x,o]),S=m.useCallback(k=>{k.stopPropagation(),g&&(_?_([{kind:"assetDocumentId",value:g._id}]):o.current?d(x?Zt.pick({assetId:g._id,picked:!x}):Zt.pickRange({startId:f||g._id,endId:g._id})):d(Ma.showAssetEdit({assetId:g._id})))},[g,d,f,_,x,o]),T=b?.5:1,A=i||b?.1:1;return m.useEffect(()=>(u.current=setTimeout(()=>l(!0),750),()=>{u.current&&clearTimeout(u.current)}),[]),g?c.jsxs(car,{onClick:i?void 0:S,scheme:s,selected:i,style:{gridColumnGap:p<3?0:"16px",gridRowGap:0,gridTemplateColumns:p<3?Iet:Hse,gridTemplateRows:p<3?"auto":"1fr"},updating:h.updating,children:[c.jsx(dar,{onClick:C,scheme:s,style:{alignItems:"center",gridColumn:1,gridRowStart:1,gridRowEnd:"span 5",height:"100%",justifyContent:"center",opacity:T,position:"relative"},children:_?c.jsx(CF,{style:{flexShrink:0,opacity:.5}}):c.jsx(r0,{checked:x,readOnly:!0,style:{pointerEvents:"none",transform:"scale(0.8)"}})}),c.jsx(N,{style:{gridColumn:2,gridRowStart:1,gridRowEnd:"span 5",height:"90px",width:"100px"},children:c.jsxs(ae,{align:"center",justify:"center",style:{height:"100%",position:"relative"},children:[c.jsxs(N,{style:{height:"100%",opacity:A,position:"relative"},children:[qse(g)&&c.jsx(wD,{extension:g.extension,width:"40px"}),_3(g)&&c.jsx(_D,{draggable:!1,scheme:s,showCheckerboard:!y,src:Gse(g,{height:100,width:100})})]}),b&&c.jsx(ae,{align:"center",justify:"center",style:{height:"100%",left:0,position:"absolute",top:0,width:"100%"},children:c.jsx(_s,{})}),i&&!b&&c.jsx(ae,{align:"center",justify:"center",style:{height:"100%",left:0,position:"absolute",top:0,width:"100%"},children:c.jsx(G,{size:2,children:c.jsx(Bse,{})})})]})}),c.jsx(N,{marginLeft:p<3?3:0,style:{gridColumn:3,gridRow:p<3?2:"auto",opacity:T},children:c.jsx(G,{muted:!0,size:1,style:{lineHeight:"2em"},textOverflow:"ellipsis",children:g.originalFilename})}),c.jsx(N,{marginLeft:p<3?3:0,style:{gridColumn:p<3?3:4,gridRow:p<3?3:"auto",opacity:T},children:c.jsx(G,{muted:!0,size:1,style:{lineHeight:"2em"},textOverflow:"ellipsis",children:_3(g)&&Vet(g)})}),c.jsx(N,{style:{display:p<3?"none":"block",gridColumn:5,gridRow:"auto",opacity:T},children:c.jsx(G,{muted:!0,size:1,style:{lineHeight:"2em"},textOverflow:"ellipsis",children:g.mimeType})}),c.jsx(N,{style:{display:p<3?"none":"block",gridColumn:6,gridRow:"auto",opacity:T},children:c.jsx(G,{muted:!0,size:1,style:{lineHeight:"2em"},textOverflow:"ellipsis",children:yC(g.size,{base:10,round:0})})}),c.jsx(N,{marginLeft:p<3?3:0,style:{gridColumn:p<3?3:7,gridRow:p<3?4:"auto",opacity:T},children:c.jsx(G,{muted:!0,size:1,style:{lineHeight:"2em"},textOverflow:"ellipsis",children:ten(new Date(g._updatedAt),new Date)})}),c.jsx(N,{style:{display:p<3?"none":"block",gridColumn:8,gridRow:"auto",opacity:T},children:c.jsx(G,{muted:!0,size:1,style:{lineHeight:"2em"},textOverflow:"ellipsis",children:a?c.jsx(YXe,{id:r,children:k=>{let{isLoading:I,referringDocuments:D}=k;const R=Net(D);return c.jsx(c.Fragment,I?{children:"-"}:{children:Array.isArray(R)?R.length:0})}}):c.jsx(c.Fragment,{children:"-"})})}),c.jsx(ae,{align:"center",justify:"center",style:{gridColumn:p<3?4:9,gridRowStart:"1",gridRowEnd:p<3?"span 5":"auto",opacity:T},children:v&&c.jsx(N,{padding:2,children:c.jsx(Mn,{content:c.jsx(Wc,{padding:2,width:0,children:c.jsx(G,{size:1,children:v})}),placement:"left",portal:!0,children:c.jsx(G,{size:1,children:c.jsx(far,{color:"critical"})})})})})]}):null});const par=t=>{const{id:e}=t,{scheme:n}=Po(),r=Vi(),i=an(h=>Get(h,e)),s=T0();if(!i)return null;const o=yC(i.size,{base:10,round:0}),a=Math.round(i.percent||0),l=i.status==="complete",u=i.status==="uploading",d=i.status==="queued";let f;return l&&(f="Verifying"),u&&(f="".concat(a,"%")),d&&(f="Queued"),c.jsxs(Er,{style:{alignItems:"center",background:ss(n,"bg"),gridColumnGap:s<3?0:"16px",gridRowGap:0,gridTemplateColumns:s<3?Iet:Hse,gridTemplateRows:s<3?"auto":"1fr",height:"100%",position:"relative"},children:[c.jsx("div",{style:{background:"var(--card-fg-color)",bottom:0,height:"1px",left:0,position:"absolute",width:"100%",transform:"scaleX(".concat(.01*a,")"),transformOrigin:"bottom left",transition:"all 1000ms ease-out"}}),c.jsx(N,{style:{gridColumn:2,gridRowStart:s<3?1:"auto",gridRowEnd:s<3?"span 4":"auto",height:"90px",width:"100px"},children:c.jsxs(N,{style:{height:"100%",position:"relative"},children:[i.assetType==="image"&&(i==null?void 0:i.objectUrl)&&c.jsx(_D,{draggable:!1,scheme:n,src:i.objectUrl,style:{opacity:.25}}),i.assetType==="file"&&c.jsx("div",{style:{height:"100%",opacity:.1},children:c.jsx(wD,{width:"40px"})}),!l&&a!==100&&c.jsx(ae,{align:"center",justify:"center",style:{position:"absolute",height:"100%",left:0,top:0,width:"100%"},children:c.jsx(Ce,{fontSize:3,icon:N0,mode:"bleed",onClick:()=>{r(xc.uploadCancel({hash:i.hash}))},padding:2,style:{background:"none",boxShadow:"none"},tone:"critical"})})]})}),c.jsx(N,{style:{gridColumn:s<3?3:"3/8",gridRow:s<3?"2/4":"auto",marginLeft:s<3?3:0},children:c.jsxs(Te,{space:3,children:[c.jsxs(G,{muted:!0,size:1,textOverflow:"ellipsis",children:[i.name," (",o,")"]}),c.jsx(G,{size:1,textOverflow:"ellipsis",weight:"semibold",children:f})]})})]})},mar=m.memo(t=>{let{item:e,selected:n}=t;return(e==null?void 0:e.type)==="asset"?c.jsx(N,{style:{height:"100px"},children:c.jsx(har,{id:e.id,selected:n})}):(e==null?void 0:e.type)==="upload"?c.jsx(N,{style:{height:"100px"},children:c.jsx(par,{id:e.id})}):null}),gar=t=>{const{items:e,onLoadMore:n}=t,r=an(o=>o.selected.assets),i=r&&r.map(o=>o._id)||[],s=e==null?void 0:e.length;return s===0?null:c.jsx(ter,{className:"media__custom-scrollbar",computeItemKey:o=>{const a=e[o];return(a==null?void 0:a.id)||o},endReached:n,groupCounts:Array(1).fill(s),groupContent:()=>c.jsx(uar,{}),itemContent:o=>{const a=e[o],l=i.includes(a==null?void 0:a.id);return c.jsx(mar,{item:a,selected:l})},style:{overflowX:"hidden"}})},yar=()=>{const t=Vi(),e=an(d=>d.assets.fetchCount),n=an(d=>d.assets.fetching),r=an(d=>d.tags.panelVisible),i=an(d=>d.assets.view),s=an(zor),o=(()=>{var d,f;const h=(f=(d=qi)==null?void 0:d.container)==null?void 0:f.map(y=>window.matchMedia("(max-width: ".concat(y,"px)"))),p=()=>h.findIndex(y=>y.matches),[g,v]=m.useState(p());return m.useEffect(()=>{const y=()=>{v(p)};return h.forEach(x=>{try{x.addEventListener("change",y)}catch{try{x.addListener(y)}catch{}}}),()=>{try{h.forEach(x=>x.removeEventListener("change",y))}catch{try{h.forEach(b=>b.removeListener(y))}catch{}}}},[]),g})(),a=e>=0,l=s.length>0,u=()=>{n||t(Zt.loadNextPage())};return m.useEffect(()=>{o<=1&&r&&t(Eo.panelVisibleSet({panelVisible:!1}))},[o]),c.jsx(N,{flex:1,style:{width:"100%"},children:!l&&a&&!n?c.jsx(N,{padding:4,children:c.jsx(G,{size:1,weight:"semibold",children:"No results for the current query"})}):c.jsxs(c.Fragment,{children:[i==="grid"&&c.jsx(aar,{items:s,onLoadMore:u}),i==="table"&&c.jsx(gar,{items:s,onLoadMore:u})]})})},bar=()=>{const t=an(n=>n.notifications.items),e=Na();return m.useEffect(()=>{if(t.length>0){const n=t[t.length-1];e.push({closable:!0,status:n.status,title:n.title})}},[t.length]),null},xar=()=>{const{scheme:t}=Po(),e=Vi(),n=an(xC);return n.length===0?null:c.jsx(ae,{align:"center",justify:"flex-start",style:{background:ss(t,"bg"),borderBottom:"1px solid var(--card-border-color)",height:"".concat(32,"px"),position:"relative",width:"100%"},children:c.jsxs(ae,{align:"center",paddingX:3,children:[c.jsx(N,{paddingRight:2,children:c.jsxs(jn,{size:0,style:{color:"inherit"},children:[n.length," ",Gp("asset",n.length)," selected"]})}),c.jsx(Ce,{mode:"bleed",onClick:()=>{e(Zt.pickClear())},padding:2,style:{background:"none",boxShadow:"none"},tone:"default",children:c.jsx(jn,{size:0,children:"Deselect"})}),c.jsx(Ce,{mode:"bleed",onClick:()=>{e(Ma.showConfirmDeleteAssets({assets:n}))},padding:2,style:{background:"none",boxShadow:"none"},tone:"critical",children:c.jsx(jn,{size:0,children:"Delete"})})]})})};var war=ky({name:"selected",initialState:{assets:[],document:void 0,documentAssetIds:[]},reducers:{}}).reducer;const ah=ky({name:"notifications",initialState:{items:[]},reducers:{add(t,e){const{asset:n,status:r,title:i}=e.payload;t.items.push({asset:n,status:r,title:i})}}}),_ar=ah.actions;var Car=ah.reducer;const Ear=CKn((t,e,n)=>{let{client:r}=n;return t.pipe(dt(Zt.deleteRequest.match),rt(i=>{const{assets:s}=i.payload,o=s.map(a=>a._id);return Re(s).pipe(rt(()=>r.observable.delete({query:Ra($De||($De=lr(["*[_id in ","]"])),JSON.stringify(o))})),rt(()=>Re(Zt.deleteComplete({assetIds:o}))),Or(a=>Re(Zt.deleteError({assetIds:o,error:a}))))}))},(t,e,n)=>{let{client:r}=n;return t.pipe(dt(Zt.fetchRequest.match),oa(e),Kt(i=>{let[s,o]=i;var a,l;const u=(a=s.payload)==null?void 0:a.params,d=(l=s.payload)==null?void 0:l.query;return Re(s).pipe(l1(o.debug.badConnection),rt(()=>r.observable.fetch(d,u)),rt(f=>{const{items:h}=f;return Re(Zt.fetchComplete({assets:h}))}),Or(f=>Re(Zt.fetchError({message:(f==null?void 0:f.message)||"Internal error",statusCode:(f==null?void 0:f.statusCode)||500}))))}))},(t,e)=>t.pipe(dt(Zt.deleteComplete.match),oa(e),Kt(n=>{let[r,i]=n;if(i.assets.allIds.length===0){const s=Math.floor(i.assets.allIds.length/i.assets.pageSize);return Re(Zt.loadPageIndex({pageIndex:s}))}return $2()})),(t,e)=>t.pipe(dt(Zt.loadNextPage.match),oa(e),Kt(n=>{let[r,i]=n;return Re(Zt.loadPageIndex({pageIndex:i.assets.pageIndex+1}))})),(t,e)=>t.pipe(dt(Zt.loadPageIndex.match),oa(e),Kt(n=>{let[r,i]=n;var s,o,a,l,u,d;const f=i.assets.pageSize,h=r.payload.pageIndex*f,p=h+f,g=(s=i==null?void 0:i.selected.document)==null?void 0:s._id,v=(o=i==null?void 0:i.selected)==null?void 0:o.documentAssetIds,y=hRe({assetTypes:i.assets.assetTypes,searchFacets:i.search.facets,searchQuery:i.search.query}),x={...g?{documentId:g}:{},documentAssetIds:v};return Re(Zt.fetchRequest({params:x,queryFilter:y,selector:Ra(FDe||(FDe=lr(["[","...","]"])),h,p),sort:Ra(BDe||(BDe=lr(["order("," ",")"])),(l=(a=i.assets)==null?void 0:a.order)==null?void 0:l.field,(d=(u=i.assets)==null?void 0:u.order)==null?void 0:d.direction)}))})),t=>t.pipe(dt(Zt.listenerCreateQueue.match),t1(2e3),dt(e=>e.length>0),rt(e=>{const n=e==null?void 0:e.map(r=>r.payload.asset);return Re(Zt.listenerCreateQueueComplete({assets:n}))})),t=>t.pipe(dt(Zt.listenerDeleteQueue.match),t1(2e3),dt(e=>e.length>0),rt(e=>{const n=e==null?void 0:e.map(r=>r.payload.assetId);return Re(Zt.listenerDeleteQueueComplete({assetIds:n}))})),t=>t.pipe(dt(Zt.listenerUpdateQueue.match),t1(2e3),dt(e=>e.length>0),rt(e=>{const n=e==null?void 0:e.map(r=>r.payload.asset);return Re(Zt.listenerUpdateQueueComplete({assets:n}))})),t=>t.pipe(dt(Zt.orderSet.match),rt(()=>Re(Zt.clear(),Zt.loadPageIndex({pageIndex:0})))),t=>t.pipe(b2(Zr.facetsAdd.type,Zr.facetsClear.type,Zr.facetsRemoveById.type,Zr.facetsRemoveByName.type,Zr.facetsRemoveByTag.type,Zr.facetsUpdate.type,Zr.facetsUpdateById.type,Zr.querySet.type),o9(400),rt(()=>Re(Zt.clear(),Zt.loadPageIndex({pageIndex:0})))),t=>t.pipe(b2(Zt.insertUploads.type,Zt.listenerUpdateQueueComplete.type,Zt.updateComplete.type),rt(()=>Re(Zt.sort()))),(t,e,n)=>{let{client:r}=n;return t.pipe(dt(ko.tagsAddRequest.match),oa(e),rt(i=>{let[s,o]=i;const{assets:a,tag:l}=s.payload;return Re(s).pipe(l1(o.debug.badConnection),rt(()=>{const u=xC(o),d=u==null?void 0:u.filter((h=>p=>{var g,v,y,x,b;return((b=(x=(y=(v=(g=p==null?void 0:p.asset)==null?void 0:g.opt)==null?void 0:v.media)==null?void 0:y.tags)==null?void 0:x.findIndex(_=>_._ref===(h==null?void 0:h._id)))!=null?b:-1)<0})(l)),f=d.reduce((h,p)=>{var g;return h.patch((g=p==null?void 0:p.asset)==null?void 0:g._id,(v=>{let{tag:y}=v;return x=>x.setIfMissing({opt:{}}).setIfMissing({"opt.media":{}}).setIfMissing({"opt.media.tags":[]}).append("opt.media.tags",[{_key:AVe(),_ref:y==null?void 0:y._id,_type:"reference",_weak:!0}])})({tag:l}))},r.transaction());return Vr(f.commit())}),rt(()=>Re(ko.tagsAddComplete({assets:a,tag:l}))),Or(u=>Re(ko.tagsAddError({assets:a,error:{message:(u==null?void 0:u.message)||"Internal error",statusCode:(u==null?void 0:u.statusCode)||500},tag:l}))))}))},(t,e,n)=>{let{client:r}=n;return t.pipe(dt(ko.tagsRemoveRequest.match),oa(e),rt(i=>{let[s,o]=i;const{assets:a,tag:l}=s.payload;return Re(s).pipe(l1(o.debug.badConnection),rt(()=>{const u=xC(o).reduce((d,f)=>{var h;return d.patch((h=f==null?void 0:f.asset)==null?void 0:h._id,(p=>{let{asset:g,tag:v}=p;return y=>{var x;return y.ifRevisionId((x=g==null?void 0:g.asset)==null?void 0:x._rev).unset(['opt.media.tags[_ref == "'.concat(v._id,'"]')])}})({asset:f,tag:l}))},r.transaction());return Vr(u.commit())}),rt(()=>Re(ko.tagsRemoveComplete({assets:a,tag:l}))),Or(u=>Re(ko.tagsRemoveError({assets:a,error:{message:(u==null?void 0:u.message)||"Internal error",statusCode:(u==null?void 0:u.statusCode)||500},tag:l}))))}))},t=>t.pipe(b2(Zt.orderSet.type,Zt.viewSet.type,Zr.facetsAdd.type,Zr.facetsClear.type,Zr.facetsRemoveById.type,Zr.facetsRemoveByName.type,Zr.facetsRemoveByTag.type,Zr.facetsUpdate.type,Zr.facetsUpdateById.type,Zr.querySet.type),rt(()=>Re(Zt.pickClear()))),(t,e,n)=>{let{client:r}=n;return t.pipe(dt(Zt.updateRequest.match),oa(e),rt(i=>{let[s,o]=i;const{asset:a,closeDialogId:l,formData:u}=s.payload;return Re(s).pipe(l1(o.debug.badConnection),rt(()=>Vr(r.patch(a._id).setIfMissing({opt:{}}).setIfMissing({"opt.media":{}}).set(u).commit())),rt(d=>Re(Zt.updateComplete({asset:d,closeDialogId:l}))),Or(d=>Re(Zt.updateError({asset:a,error:{message:(d==null?void 0:d.message)||"Internal error",statusCode:(d==null?void 0:d.statusCode)||500}}))))}))},t=>t.pipe(b2(Zt.deleteComplete.type,Zt.updateComplete.type,Eo.deleteComplete.type,Eo.updateComplete.type),dt(e=>{var n;return!!((n=e==null?void 0:e.payload)!=null&&n.closeDialogId)}),rt(e=>{var n;const r=(n=e==null?void 0:e.payload)==null?void 0:n.closeDialogId;return r?Re($5.actions.remove({id:r})):$2()})),t=>t.pipe(dt(Eo.createComplete.match),rt(e=>{const{assetId:n,tag:r}=e==null?void 0:e.payload;return n?Re($5.actions.inlineTagCreate({tag:r,assetId:n})):r._id?Re($5.actions.remove({id:"tagCreate"})):$2()})),t=>t.pipe(dt(Eo.listenerDeleteQueueComplete.match),rt(e=>{const{tagIds:n}=e==null?void 0:e.payload;return Re($5.actions.inlineTagRemove({tagIds:n}))})),t=>t.pipe(dt(Zt.deleteError.match),rt(e=>{const{assetIds:n}=e.payload,r=n.length;return Re(ah.actions.add({status:"error",title:"Unable to delete ".concat(r," ").concat(Gp("asset",r),". Please review any asset errors and try again.")}))})),t=>t.pipe(dt(Zt.deleteComplete.match),rt(e=>{const{assetIds:n}=e.payload,r=n.length;return Re(ah.actions.add({status:"info",title:"".concat(r," ").concat(Gp("asset",r)," deleted")}))})),t=>t.pipe(dt(ko.tagsAddComplete.match),rt(e=>{var n,r;const i=(r=(n=e==null?void 0:e.payload)==null?void 0:n.assets)==null?void 0:r.length;return Re(ah.actions.add({status:"info",title:"Tag added to ".concat(i," ").concat(Gp("asset",i))}))})),t=>t.pipe(dt(ko.tagsRemoveComplete.match),rt(e=>{var n,r;const i=(r=(n=e==null?void 0:e.payload)==null?void 0:n.assets)==null?void 0:r.length;return Re(ah.actions.add({status:"info",title:"Tag removed from ".concat(i," ").concat(Gp("asset",i))}))})),t=>t.pipe(dt(Zt.updateComplete.match),t1(2e3),dt(e=>e.length>0),rt(e=>{const n=e.length;return Re(ah.actions.add({status:"info",title:"".concat(n," ").concat(Gp("asset",n)," updated")}))})),t=>t.pipe(b2(Zt.fetchError.type,Zt.updateError.type,Eo.createError.type,Eo.deleteError.type,Eo.fetchError.type,Eo.updateError.type,xc.uploadError.type),rt(e=>{var n;const r=(n=e.payload)==null?void 0:n.error;return Re(ah.actions.add({status:"error",title:"An error occured: ".concat(r.message)}))})),t=>t.pipe(dt(Eo.createComplete.match),rt(()=>Re(ah.actions.add({status:"info",title:"Tag created"})))),t=>t.pipe(dt(Eo.deleteComplete.match),rt(()=>Re(ah.actions.add({status:"info",title:"Tag deleted"})))),t=>t.pipe(dt(Eo.updateComplete.match),rt(()=>Re(ah.actions.add({status:"info",title:"Tag updated"})))),(t,e)=>t.pipe(dt(Eo.updateComplete.match),oa(e),rt(n=>{let[r,i]=n;var s,o,a,l,u;const{tag:d}=r.payload,f=(s=i.search.facets)==null?void 0:s.find(p=>p.name==="tag"),h=i.tags.byIds[d._id];return(f==null?void 0:f.type)==="searchable"&&((o=f.value)==null?void 0:o.value)===d._id?Re(zse.actions.facetsUpdate({name:"tag",value:{label:(l=(a=h==null?void 0:h.tag)==null?void 0:a.name)==null?void 0:l.current,value:(u=h==null?void 0:h.tag)==null?void 0:u._id}})):$2()})),(t,e,n)=>{let{client:r}=n;return t.pipe(dt(eo.actions.createRequest.match),oa(e),rt(i=>{let[s,o]=i;const{assetId:a,name:l}=s.payload;return Re(s).pipe(l1(o.debug.badConnection),pRe(r,l),rt(()=>r.observable.create({_type:"media.tag",name:{_type:"slug",current:l}})),rt(u=>Re(eo.actions.createComplete({assetId:a,tag:u}))),Or(u=>Re(eo.actions.createError({error:{message:(u==null?void 0:u.message)||"Internal error",statusCode:(u==null?void 0:u.statusCode)||500},name:l}))))}))},(t,e,n)=>{let{client:r}=n;return t.pipe(dt(eo.actions.deleteRequest.match),oa(e),rt(i=>{let[s,o]=i;const{tag:a}=s.payload;return Re(s).pipe(l1(o.debug.badConnection),rt(()=>r.observable.fetch(Ra(LDe||(LDe=lr([`*[
              _type in ["sanity.fileAsset", "sanity.imageAsset"]
              && references(*[_type == "media.tag" && name.current == $tagName]._id)
            ] {
              _id,
              _rev,
              opt
            }`]))),{tagName:a.name.current})),rt(l=>{const u=l.map(d=>({id:d._id,patch:{ifRevisionID:d._rev,unset:['opt.media.tags[_ref == "'.concat(a._id,'"]')]}})).reduce((d,f)=>d.patch(f.id,f.patch),r.transaction());return u.delete(a._id),Vr(u.commit())}),rt(()=>Re(eo.actions.deleteComplete({tagId:a._id}))),Or(l=>Re(eo.actions.deleteError({error:{message:(l==null?void 0:l.message)||"Internal error",statusCode:(l==null?void 0:l.statusCode)||500},tag:a}))))}))},(t,e,n)=>{let{client:r}=n;return t.pipe(dt(eo.actions.fetchRequest.match),oa(e),Kt(i=>{let[s,o]=i;const{query:a}=s.payload;return Re(s).pipe(l1(o.debug.badConnection),rt(()=>r.observable.fetch(a)),rt(l=>{const{items:u}=l;return Re(eo.actions.fetchComplete({tags:u}))}),Or(l=>Re(eo.actions.fetchError({error:{message:(l==null?void 0:l.message)||"Internal error",statusCode:(l==null?void 0:l.statusCode)||500}}))))}))},t=>t.pipe(dt(eo.actions.listenerCreateQueue.match),t1(2e3),dt(e=>e.length>0),rt(e=>{const n=e==null?void 0:e.map(r=>r.payload.tag);return Re(eo.actions.listenerCreateQueueComplete({tags:n}))})),t=>t.pipe(dt(eo.actions.listenerDeleteQueue.match),t1(2e3),dt(e=>e.length>0),rt(e=>{const n=e==null?void 0:e.map(r=>r.payload.tagId);return Re(eo.actions.listenerDeleteQueueComplete({tagIds:n}))})),t=>t.pipe(dt(eo.actions.listenerUpdateQueue.match),t1(2e3),dt(e=>e.length>0),rt(e=>{const n=e==null?void 0:e.map(r=>r.payload.tag);return Re(eo.actions.listenerUpdateQueueComplete({tags:n}))})),t=>t.pipe(b2(eo.actions.listenerCreateQueueComplete.type,eo.actions.listenerUpdateQueueComplete.type),t1(1e3),dt(e=>e.length>0),rt(()=>Re(eo.actions.sort()))),(t,e,n)=>{let{client:r}=n;return t.pipe(dt(eo.actions.updateRequest.match),oa(e),rt(i=>{let[s,o]=i;var a;const{closeDialogId:l,formData:u,tag:d}=s.payload;return Re(s).pipe(l1(o.debug.badConnection),pRe(r,(a=u==null?void 0:u.name)==null?void 0:a.current),rt(()=>Vr(r.patch(d._id).set({name:{_type:"slug",current:u==null?void 0:u.name.current}}).commit())),rt(f=>Re(eo.actions.updateComplete({closeDialogId:l,tag:f}))),Or(f=>Re(eo.actions.updateError({error:{message:(f==null?void 0:f.message)||"Internal error",statusCode:(f==null?void 0:f.statusCode)||500},tag:d}))))}))},(t,e,n)=>{let{client:r}=n;return t.pipe(dt(xc.uploadStart.match),rt(i=>{const{file:s,uploadItem:o}=i.payload;return li(Re(null).pipe(rt(()=>(a=>Re(null).pipe(rt(()=>Vr(Zor(a)))))(s)),rt(a=>Re(xc.previewReady({blobUrl:a,hash:o.hash})))),Re(null).pipe(rt(()=>ear(r,o.assetType,s,o.hash)),pI(t.pipe(dt(xc.uploadCancel.match),dt(a=>a.payload.hash===o.hash))),rt(a=>(a==null?void 0:a.type)==="complete"?Re(g8.uploadComplete({asset:a.asset})):(a==null?void 0:a.type)==="progress"&&(a==null?void 0:a.stage)==="upload"?Re(xc.uploadProgress({event:a,uploadHash:o.hash})):$2()),Or(a=>Re(xc.uploadError({error:{message:(a==null?void 0:a.message)||"Internal error",statusCode:(a==null?void 0:a.statusCode)||500},hash:o.hash})))))}))},(t,e)=>t.pipe(dt(xc.uploadRequest.match),oa(e),rt(n=>{let[r,i]=n;const{file:s,forceAsAssetType:o}=r.payload;return Re(r).pipe(rt(()=>Jor(s)),dt(a=>!i.uploads.byIds[a]),rt(a=>{const l={_type:"upload",assetType:o||(s.type.indexOf("image")>=0?"image":"file"),hash:a,name:s.name,size:s.size,status:"queued"};return Re(xc.uploadStart({file:s,uploadItem:l}))}))})),(t,e,n)=>{let{client:r}=n;return t.pipe(dt(xc.checkRequest.match),oa(e),rt(i=>{let[s,o]=i;const{assets:a}=s.payload,l=a.map(f=>f._id),u=hRe({assetTypes:o.assets.assetTypes,searchFacets:o.search.facets,searchQuery:o.search.query}),d=Ra(tRe||(tRe=lr([`
        *[`,` && _id in $documentIds].sha1hash
      `])),u);return Re(s).pipe(mee(1e3),rt(()=>r.observable.fetch(d,{documentIds:l})),rt(f=>{const h=a.reduce((p,g)=>(p[g.sha1hash]=f.includes(g.sha1hash)?g._id:null,p),{});return Re(xc.checkComplete({results:h}),Zt.insertUploads({results:h}))}))}))},t=>t.pipe(dt(g8.uploadComplete.match),rt(e=>Re(xc.checkRequest({assets:[e.payload.asset]}))))),Sar=mQe({assets:Zsr,debug:gor,dialog:Qsr,notifications:Car,search:Ysr,selected:war,tags:Gsr,uploads:tar}),Tar=t=>t!==null&&typeof t=="object"&&!Array.isArray(t),oZ=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];var n,r;return Array.isArray(t)&&t.forEach(i=>{oZ(i,e)}),Tar(t)&&(((n=t==null?void 0:t.asset)==null?void 0:n._type)==="reference"&&((r=t==null?void 0:t.asset)!=null&&r._ref)&&e.push(t.asset._ref),Object.values(t).forEach(i=>{oZ(i,e)})),e},kar=t=>{const e=oZ(t);return[...new Set(e.sort())]};class Aar extends m.Component{constructor(e){super(e);const n=_Kn({dependencies:{client:e.client}});this.store=cKn({reducer:Sar,middleware:r=>r({serializableCheck:!1,thunk:!1}).prepend(n),devTools:!0,preloadedState:{assets:{...jet,assetTypes:e!=null&&e.assetType?[e.assetType]:["file","image"]},selected:{assets:e.selectedAssets||[],document:e.document,documentAssetIds:e.document?kar(e.document):[]}}}),n.run(Ear)}render(){return c.jsx(_Yn,{store:this.store,children:this.props.children})}}const Iar=()=>an(t=>t.tags.panelVisible)?c.jsx(N,{style:{position:"relative",width:250},children:c.jsx(N,{className:"media__custom-scrollbar",style:{borderLeft:"1px solid var(--card-border-color)",height:"100%",overflowX:"hidden",overflowY:"auto",position:"absolute",right:0,top:0,width:"100%"},children:c.jsx(Het,{})})}):null,Dar=H.div(uRe||(uRe=lr([`
  color: white;
  height: 100%;
  min-height: 100%;
  right: 0;
  top: 0;
  width: 100%;

  &:focus {
    outline: none;
  }
`]))),Rar=H.div(cRe||(cRe=lr([`
  align-items: center;
  background: rgba(0, 0, 0, 0.75);
  display: flex;
  height: 100%;
  justify-content: center;
  position: absolute;
  right: 0;
  top: 0;
  width: 100%;
  z-index: 3;
`]))),jar=t=>{const{children:e}=t,{onSelect:n}=xD(),r=Vi(),i=an(d=>d.assets.assetTypes),s=i.length===1&&i[0]==="image",{getRootProps:o,getInputProps:a,isDragActive:l,open:u}=det({accept:s?"image/*":"",getFilesFromEvent:async d=>{var f;let h;if(d.type==="drop"&&"dataTransfer"in d&&(h=(f=d==null?void 0:d.dataTransfer)==null?void 0:f.files),d.type==="change"){const g=d==null?void 0:d.target;g!=null&&g.files&&(h=g.files)}if(!h)return[];const p=await async function(g){const v=Array.from(g),y=[];for(const x of v)try{await x.slice(0,1).arrayBuffer(),y.push(x)}catch{}return y}(h);return(h==null?void 0:h.length)!==p.length&&r(_ar.add({status:"error",title:"Unable to upload some items (folders and packages aren't supported)"})),p},noClick:!0,noDrag:!!n,onDrop:async d=>{d.forEach(f=>r(xc.uploadRequest({file:f,forceAsAssetType:i.length===1?i[0]:void 0})))}});return c.jsx(Uor,{open:u,children:c.jsxs(Dar,{...o(),children:[c.jsx("input",{...a()}),l&&c.jsx(Rar,{children:c.jsx(ae,{direction:"column",justify:"center",style:{color:nor},children:c.jsx(G,{size:3,style:{color:"inherit"},children:"Drop files to upload"})})}),e]})})},Oar=t=>{let{onClose:e}=t;const n=SF(),[r,i]=m.useState(null),s=Vi(),o=l=>{const{documentId:u,result:d,transition:f}=l;f==="appear"&&s(Zt.listenerCreateQueue({asset:d})),f==="disappear"&&s(Zt.listenerDeleteQueue({assetId:u})),f==="update"&&s(Zt.listenerUpdateQueue({asset:d}))},a=l=>{const{documentId:u,result:d,transition:f}=l;f==="appear"&&s(Eo.listenerCreateQueue({tag:d})),f==="disappear"&&s(Eo.listenerDeleteQueue({tagId:u})),f==="update"&&s(Eo.listenerUpdateQueue({tag:d}))};return m.useEffect(()=>{s(Zt.loadPageIndex({pageIndex:0})),s(Eo.fetchRequest());const l=n.listen(Ra(dRe||(dRe=lr(['*[_type in ["sanity.fileAsset", "sanity.imageAsset"] && !(_id in path("drafts.**"))]'])))).subscribe(o),u=n.listen(Ra(fRe||(fRe=lr(['*[_type == "','" && !(_id in path("drafts.**"))]'])),"media.tag")).subscribe(a);return()=>{l==null||l.unsubscribe(),u==null||u.unsubscribe()}},[]),c.jsx(J7,{element:r,children:c.jsxs(jar,{children:[c.jsx(Vor,{}),c.jsx(bar,{}),c.jsx(ge,{display:"flex",height:"fill",ref:i,children:c.jsxs(ae,{direction:"column",flex:1,children:[c.jsx(Hor,{onClose:e}),c.jsx(mor,{}),c.jsxs(ae,{flex:1,children:[c.jsxs(ae,{align:"flex-end",direction:"column",flex:1,style:{position:"relative"},children:[c.jsx(xar,{}),c.jsx(yar,{})]}),c.jsx(Iar,{})]}),c.jsx(vor,{})]})})]})})},qet=t=>{const e=SF(),{scheme:n}=Po();return c.jsx(Aar,{assetType:t==null?void 0:t.assetType,client:e,document:t==null?void 0:t.document,selectedAssets:t==null?void 0:t.selectedAssets,children:c.jsx(EA,{scheme:n,theme:qi,children:c.jsx(Y$e,{children:c.jsxs(Hsr,{onSelect:t==null?void 0:t.onSelect,children:[c.jsx(Xsr,{}),c.jsx(Oar,{onClose:t==null?void 0:t.onClose})]})})})})},Lar=()=>{const[t]=m.useState(()=>document.createElement("div"));return m.useEffect(()=>(t.classList.add("media-portal"),document.body.appendChild(t),()=>{document.body.removeChild(t)}),[t]),t};var Par={title:"Media Tag",icon:sZ,name:"media.tag",type:"document",fields:[{title:"Name",name:"name",type:"slug"}],preview:{select:{name:"name"},prepare(t){const{name:e}=t;return{media:sZ,title:e==null?void 0:e.current}}}};const Yet={icon:bet,name:"media",title:"Media"},_Re={...Yet,component:t=>{const{onClose:e}=t,n=Lar(),r=QI([]);EF("escape",e);const i=o=>{o.nativeEvent.stopImmediatePropagation(),o.stopPropagation()},{zIndex:s}=Zh();return c.jsx(J7,{element:n,children:c.jsx(dy,{children:c.jsx(N,{onDragEnter:i,onDragLeave:i,onDragOver:i,onDrop:i,onMouseUp:i,style:{bottom:0,height:"auto",left:0,position:"fixed",top:0,width:"100%",zIndex:s},children:c.jsx(qet,{document:r,...t})})})})}},Mar={...Yet,component:()=>c.jsx(ae,{direction:"column",height:"fill",flex:1,children:c.jsx(qet,{})})},$ar=Ey({name:"media",form:{file:{assetSources:t=>[...t,_Re]},image:{assetSources:t=>[...t,_Re]}},schema:{types:[Par]},tools:t=>[...t,Mar]});var IF={};function aZ(t){"@babel/helpers - typeof";return aZ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aZ(t)}Object.defineProperty(IF,"__esModule",{value:!0});IF.CopyToClipboard=void 0;var hj=Ket(m),Far=Ket(QJe),Bar=["text","onCopy","options","children"];function Ket(t){return t&&t.__esModule?t:{default:t}}function CRe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ERe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CRe(Object(n),!0).forEach(function(r){Zse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CRe(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nar(t,e){if(t==null)return{};var n=Var(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Var(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Uar(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SRe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Har(t,e,n){return e&&SRe(t.prototype,e),n&&SRe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zar(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lZ(t,e)}function lZ(t,e){return lZ=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},lZ(t,e)}function War(t){var e=qar();return function(){var r=v8(t),i;if(e){var s=v8(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Gar(this,i)}}function Gar(t,e){if(e&&(aZ(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zet(t)}function Zet(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qar(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v8(t){return v8=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},v8(t)}function Zse(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xet=function(t){zar(n,t);var e=War(n);function n(){var r;Uar(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Zse(Zet(r),"onClick",function(a){var l=r.props,u=l.text,d=l.onCopy,f=l.children,h=l.options,p=hj.default.Children.only(f),g=(0,Far.default)(u,h);d&&d(u,g),p&&p.props&&typeof p.props.onClick=="function"&&p.props.onClick(a)}),r}return Har(n,[{key:"render",value:function(){var i=this.props;i.text,i.onCopy,i.options;var s=i.children,o=Nar(i,Bar),a=hj.default.Children.only(s);return hj.default.cloneElement(a,ERe(ERe({},o),{},{onClick:this.onClick}))}}]),n}(hj.default.PureComponent);IF.CopyToClipboard=Xet;Zse(Xet,"defaultProps",{onCopy:void 0,options:void 0});var Yar=IF,uZ=Yar.CopyToClipboard;uZ.CopyToClipboard=uZ;var Kar=uZ;const Zar=vt(Kar);var Xar=sy,Qar=Nf,Jar="[object Number]";function elr(t){return typeof t=="number"||Qar(t)&&Xar(t)==Jar}var tlr=elr;const nlr=vt(tlr);var rlr=$Ve,ilr=ete,slr=ilr(function(t,e,n){return e=e.toLowerCase(),t+(n?rlr(e):e)}),olr=slr;const TRe=vt(olr);var alr=ete,llr=alr(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),ulr=llr;const clr=vt(ulr);function dlr(t){let{children:e,ms:n=0}=t;const[r,i]=m.useState(n<=0);return m.useEffect(()=>{if(n<=0)return;const s=setTimeout(()=>i(!0),n);return()=>{clearTimeout(s)}},[n]),!r||!e?c.jsx(c.Fragment,{}):typeof e=="function"?e():e}function flr(t){const{document:e}=t,r=es().get(e._type),{error:i,value:s}=wqe({schemaType:r,value:e});return r?i?c.jsxs(c.Fragment,{children:["Error: ",i.message]}):c.jsx(c.Fragment,{children:(s==null?void 0:s.title)||c.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}):c.jsxs("code",{children:["Unknown schema type: ",e._type]})}function Xse(t){let{time:e}=t;const n=sF(e);return c.jsxs("span",{title:n,children:[n," ago"]})}function hlr(t){return typeof t!="object"||!t?!1:"statusCode"in t&&"response"in t}const plr=5e3;let vz;const Qet=()=>(vz||(vz=Hu(document,"visibilitychange").pipe(vu(null),Be(()=>document.visibilityState==="visible"),Xi(),Kt(t=>t?gu(0,plr):as),$a({refCount:!0,bufferSize:1}))),vz);function mlr(t,e){let{versionedClient:n}=e;const r=Ll(t),i=Ks(t),s={uri:n.getDataUrl("doc","".concat(r,",").concat(i)),json:!0,query:{excludeContent:"true"},tag:"use-referring-documents.document-existence"};return n.observable.request(s).pipe(Be(o=>{let{omitted:a}=o;const l=a.filter(u=>u.reason==="existence");if(l.length!==2)return l.length===0||l.some(u=>u.id===r)?i:r}))}function glr(t,e){const{versionedClient:n}=e;return Qet().pipe(Kt(()=>mlr(t,e)),Kt(r=>{if(!r)return Re({totalCount:0,references:[]});const i=n.config().dataset;return n.observable.request({url:"/data/references/".concat(i,"/documents/").concat(r,"/to?excludeInternalReferences=true&excludePaths=true"),tag:"use-referring-documents.external"}).pipe(Or(s=>{if(hlr(s)&&s.statusCode===404)return Re({totalCount:0,references:[]});throw s}))}))}const vlr=Om(t=>{let[e,n]=t;const r="*[references($documentId)][0...100]{_id,_type}",i="count(*[references($documentId)])",s='{"references":'.concat(r,',"totalCount":').concat(i,"}"),o="*[references($documentId)]";return n.listenQuery({fetch:s,listen:o},{documentId:e},{tag:"use-referring-documents",transitions:["appear","disappear"],throttleTime:5e3})}),ylr=Om(t=>{let[e,n]=t;return Qet().pipe(Kt(()=>glr(e,{versionedClient:n})))});function blr(t){const e=Cs(us),n=Kc(),r=Ks(t),[i,s]=vlr(m.useMemo(()=>[r,n],[n,r])),[o,a]=ylr(m.useMemo(()=>[r,e],[r,e])),l=m.useMemo(()=>Array.from(new Set(o==null?void 0:o.references.map(f=>f.projectId).filter(Boolean))).sort(),[o==null?void 0:o.references]),u=m.useMemo(()=>Array.from(new Set(o==null?void 0:o.references.map(f=>(f==null?void 0:f.datasetName)||"").filter(f=>!!f&&f!==""))).sort(),[o==null?void 0:o.references]),d=m.useMemo(()=>!!(o!=null&&o.references.some(f=>typeof f.datasetName!="string")),[o==null?void 0:o.references]);return{totalCount:((i==null?void 0:i.totalCount)||0)+((o==null?void 0:o.totalCount)||0),projectIds:l,datasetNames:u,hasUnknownDatasetNames:d,internalReferences:i,crossDatasetReferences:o,isLoading:s||a}}function xlr(t){const{document:e}=t,n=e&&"_updatedAt"in e&&e._updatedAt,r=e?"Published":"Not published";return c.jsx(Mn,{portal:!0,content:c.jsx(N,{padding:2,children:c.jsx(G,{size:1,children:e?c.jsxs(c.Fragment,{children:["Published ",n&&c.jsx(Xse,{time:n})]}):c.jsx(c.Fragment,{children:"Not published"})})}),children:c.jsx(xs,{tone:"positive",dimmed:!e,muted:!e,size:1,children:c.jsx(IC,{"aria-label":r})})})}function wlr(t){const{document:e}=t,n=e&&"_updatedAt"in e&&e._updatedAt;return c.jsx(Mn,{portal:!0,content:c.jsx(N,{padding:2,children:c.jsx(G,{size:1,children:e?c.jsxs(c.Fragment,{children:["Edited ",n&&c.jsx(Xse,{time:n})]}):c.jsx(c.Fragment,{children:"No unpublished edits"})})}),children:c.jsx(xs,{tone:"caution",dimmed:!e,muted:!e,size:1,children:c.jsx(Ph,{})})})}function _lr(t){const{icon:e,layout:n,presence:r,schemaType:i,value:s}=t,o=Jn(s.title)&&m.isValidElement(s.title)||k9(s.title)||nlr(s.title)?s.title:null,{draft:a,published:l,isLoading:u}=Va(()=>_$(t.documentPreviewStore,i,s._id,o),[t.documentPreviewStore,i,s._id,o]),d=u?null:c.jsxs(cn,{space:4,children:[r&&r.length>0&&c.jsx(R$,{presence:r}),c.jsx(xlr,{document:l}),c.jsx(wlr,{document:a})]});return c.jsx(Cw,{...C$({value:s,draft:a,published:l}),isPlaceholder:u,icon:e,layout:n,status:d})}function Qd(){throw new Error("Pane is missing router context")}const DF=m.createContext({index:0,groupIndex:0,siblingIndex:0,payload:void 0,params:{},hasGroupSiblings:!1,groupLength:0,routerPanesState:[],BackLink:()=>Qd(),ChildLink:()=>Qd(),ReferenceChildLink:()=>Qd(),handleEditReference:()=>Qd(),ParameterizedLink:()=>Qd(),replaceCurrent:()=>Qd(),closeCurrent:()=>Qd(),duplicateCurrent:()=>Qd(),setView:()=>Qd(),setParams:()=>Qd(),setPayload:()=>Qd(),navigateIntent:()=>Qd()}),vEr=m.forwardRef(function(e,n){const{routerPanesState:r,groupIndex:i}=m.useContext(DF),s=m.useMemo(()=>r.slice(0,i),[i,r]),o=m.useMemo(()=>({panes:s}),[s]);return c.jsx(C9,{...e,ref:n,state:o})}),Clr=m.forwardRef(function(e,n){const{childId:r,childPayload:i,childParameters:s,...o}=e,{routerPanesState:a,groupIndex:l}=m.useContext(DF);return c.jsx(C9,{...o,ref:n,state:{panes:[...a.slice(0,l+1),[{id:r,params:s,payload:i}]]}})}),yEr=m.forwardRef(function(e,n){let{documentId:r,documentType:i,parentRefPath:s,children:o,template:a,...l}=e;return c.jsx(Clr,{...l,ref:n,childId:r,childPayload:a==null?void 0:a.params,childParameters:{type:i,parentRefPath:Uu(s),...a&&{template:a==null?void 0:a.id}},children:o})}),bEr=m.forwardRef(function(e,n){const{routerPanesState:r,groupIndex:i,siblingIndex:s}=m.useContext(DF),{params:o,payload:a,...l}=e,u=uu(o),d=uu(a),f=m.useMemo(()=>{const h=r[i],p=h[s],g={...p,params:u??p.params,payload:d??p.payload},v=[...h.slice(0,s),g,...h.slice(s+1)];return{panes:[...r.slice(0,i),v,...r.slice(i+1)]}},[r,i,u,d,s]);return c.jsx(C9,{ref:n,...l,state:f})});function Qse(){return m.useContext(DF)}const kRe=[];function Elr(t){const{onClick:e,type:n,value:r}=t,i=Ks(r==null?void 0:r._id),s=uF(i),o=Yc(),{ReferenceChildLink:a}=Qse(),l=m.useCallback(function(d){return c.jsx(a,{documentId:r==null?void 0:r._id,documentType:n==null?void 0:n.name,parentRefPath:kRe,...d})},[a,n==null?void 0:n.name,r==null?void 0:r._id]);return c.jsx(Sx,{__unstable_focusRing:!0,as:l,"data-as":"a",onClick:e,padding:2,radius:2,children:c.jsx(_lr,{documentPreviewStore:o,icon:n==null?void 0:n.icon,layout:"default",presence:(s==null?void 0:s.length)>0?s:kRe,schemaType:n,value:r})})}var ARe=Object.freeze,Slr=Object.defineProperty,CD=(t,e)=>ARe(Slr(t,"raw",{value:ARe(e||t.slice())})),IRe,DRe,RRe,jRe,ORe;const Jet=H(N)(IRe||(IRe=CD([`
  margin-left: auto;
`]))),Tlr=H.details(DRe||(DRe=CD([`
  flex: none;

  &[open] `,` {
    transform: rotate(180deg);
  }
`])),Jet),klr=H.summary(RRe||(RRe=CD([`
  list-style: none;

  &::-webkit-details-marker {
    display: none;
  }
`]))),Alr=H.table(jRe||(jRe=CD([`
  width: 100%;
  text-align: left;
  padding: 0 `,`;
  border-collapse: collapse;

  th {
    padding: `,`;
  }

  td {
    padding: 0 `,`;
  }

  tr > *:last-child {
    text-align: right;
  }
`])),t=>{let{theme:e}=t;return Xe(e.sanity.space[2])},t=>{let{theme:e}=t;return Xe(e.sanity.space[1])},t=>{let{theme:e}=t;return Xe(e.sanity.space[1])}),Ilr=H(ae)(ORe||(ORe=CD([`
  min-height: 35px;
`]))),LRe=t=>{const e=t.totalCount-t.references.length;return e?c.jsxs(cn,{space:2,children:[c.jsxs(G,{size:1,muted:!0,children:[e," other reference",e===1?"":"s"," not shown"," "]}),c.jsx(Mn,{portal:!0,placement:"top",content:c.jsx(Wc,{width:0,children:c.jsx(N,{padding:2,children:c.jsx(G,{size:1,children:"We can't show metadata about these references because no token with access to the datasets they are in was found."})})}),children:c.jsx(G,{size:1,muted:!0,children:c.jsx(rw,{})})})]}):null};function Dlr(t){let{crossDatasetReferences:e,internalReferences:n,documentTitle:r,totalCount:i,action:s,datasetNames:o,hasUnknownDatasetNames:a,onReferenceLinkClick:l}=t;const u=es(),d=Na(),f=m.useCallback(y=>{const x=u.get(y._type);return x?c.jsx(Elr,{type:x,value:y,onClick:l}):c.jsx(N,{padding:2,children:c.jsx(Cw,{icon:kh,title:"Preview Unavailable",subtitle:"ID: ".concat(y._id),layout:"default"})})},[u,l]);if((n==null?void 0:n.totalCount)===0&&(e==null?void 0:e.totalCount)===0)return c.jsxs(G,{as:"p",children:["Are you sure you want to ",s," ",c.jsxs("strong",{children:["",r,""]}),"?"]});const h=e.totalCount===1?"1 document":"".concat(e.totalCount.toLocaleString()," documents"),p=[...o,...a?["unavailable"]:[]],g=p.length===1?"another dataset":"".concat(p.length," datasets");let v="Dataset".concat(p.length===1?"":"s",": ").concat(p.join(", "));return a&&p.length===1&&(v="Unavailable dataset"),c.jsxs(ge,{children:[c.jsx(ge,{padding:3,radius:2,tone:"caution",marginBottom:4,flex:"none",children:c.jsxs(ae,{children:[c.jsx(G,{"aria-hidden":"true",size:1,children:c.jsx(vo,{})}),c.jsx(N,{flex:1,marginLeft:3,children:c.jsx(G,{size:1,children:i===1?c.jsxs(c.Fragment,{children:["1 document refers to ",r,""]}):c.jsxs(c.Fragment,{children:[i.toLocaleString()," documents refer to ",r,""]})})})]})}),c.jsx(N,{flex:"none",marginBottom:4,children:c.jsxs(G,{children:["You may not be able to ",s," ",r," because the following documents refer to it:"]})}),c.jsx(ge,{radius:2,shadow:1,marginBottom:4,flex:"auto",children:c.jsxs(ae,{direction:"column",children:[n.totalCount>0&&c.jsxs(Te,{as:"ul",padding:2,space:3,"data-testid":"internal-references",children:[n==null?void 0:n.references.map(y=>c.jsx(N,{as:"li",children:f(y)},y._id)),n.totalCount>n.references.length&&c.jsx(N,{as:"li",padding:3,children:c.jsx(LRe,{...n})})]}),e.totalCount>0&&c.jsxs(Tlr,{"data-testid":"cross-dataset-references",style:{borderTop:n.totalCount>0?"1px solid var(--card-shadow-outline-color)":void 0},children:[c.jsx(klr,{children:c.jsx(ge,{as:"a",margin:2,radius:2,shadow:1,paddingY:1,children:c.jsxs(ae,{align:"center",margin:2,children:[c.jsx(N,{marginLeft:3,marginRight:4,children:c.jsx(G,{size:3,children:c.jsx(iQ,{})})}),c.jsxs(ae,{marginRight:4,direction:"column",children:[c.jsx(N,{marginBottom:2,children:c.jsxs(G,{children:[h," in ",g]})}),c.jsx(N,{children:c.jsx(G,{title:v,textOverflow:"ellipsis",size:1,muted:!0,children:v})})]}),c.jsx(Jet,{children:c.jsx(G,{muted:!0,children:c.jsx(_0,{})})})]})})}),c.jsxs(N,{overflow:"auto",paddingBottom:2,paddingX:2,children:[c.jsxs(Alr,{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:c.jsx(jn,{muted:!0,size:0,style:{minWidth:"5rem"},children:"Project ID"})}),c.jsx("th",{children:c.jsx(jn,{muted:!0,size:0,children:"Dataset"})}),c.jsx("th",{children:c.jsx(jn,{muted:!0,size:0,children:"Document ID"})})]})}),c.jsx("tbody",{children:e.references.filter(y=>"projectId"in y).map((y,x)=>{let{projectId:b,datasetName:_,documentId:C}=y;return c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx(G,{size:1,children:b})}),c.jsx("td",{children:c.jsx(G,{size:1,children:_||"unavailable"})}),c.jsx("td",{children:c.jsxs(Ilr,{align:"center",gap:2,justify:"flex-end",children:[c.jsx(G,{textOverflow:"ellipsis",size:1,children:C||"unavailable"}),C&&c.jsx(Zar,{text:C,onCopy:()=>{d.push({title:"Copied document ID to clipboard!",status:"success"})},children:c.jsx(Ce,{title:"Copy ID to clipboard",mode:"bleed",icon:nQ,fontSize:0})})]})})]},"".concat(C,"-").concat(x))})})]}),c.jsx(N,{padding:2,children:c.jsx(LRe,{...e})})]})]})]})}),c.jsx(N,{flex:"none",children:c.jsxs(G,{children:["If you ",s," this document, documents that refer to it will no longer be able to access it."]})})]})}var PRe=Object.freeze,Rlr=Object.defineProperty,ett=(t,e)=>PRe(Rlr(t,"raw",{value:PRe(e||t.slice())})),MRe,$Re;const jlr=H(N).attrs({padding:4})(MRe||(MRe=ett([`
  box-sizing: border-box;
`]))),Olr=H(ae).attrs({align:"center",direction:"column",justify:"center"})($Re||($Re=ett([`
  height: 300px;
`])));function Llr(t){let{id:e,type:n,action:r="delete",onCancel:i,onConfirm:s}=t;const o="deletion-confirmation-".concat(m.useId()),{internalReferences:a,crossDatasetReferences:l,isLoading:u,totalCount:d,projectIds:f,datasetNames:h,hasUnknownDatasetNames:p}=blr(e),g="".concat(r.substring(0,1).toUpperCase()).concat(r.substring(1)),v=c.jsx(flr,{document:m.useMemo(()=>({_id:e,_type:n}),[e,n])}),y=!u;return c.jsx(pa,{width:1,id:o,header:"".concat(g," document?"),footer:c.jsxs(Er,{columns:y?2:1,gap:2,paddingX:4,paddingY:3,children:[c.jsx(Ce,{mode:"ghost",onClick:i,text:"Cancel"}),y&&c.jsx(Ce,{"data-testid":"confirm-delete-button",text:d>0?"".concat(g," anyway"):"".concat(g," now"),tone:"critical",onClick:s})]}),onClose:i,onClickOutside:i,children:c.jsx(jlr,{children:l&&a&&!u?c.jsx(Dlr,{crossDatasetReferences:l,internalReferences:a,documentTitle:v,isLoading:u,totalCount:d,action:r,projectIds:f,datasetNames:h,hasUnknownDatasetNames:p,onReferenceLinkClick:i}):c.jsxs(Olr,{"data-testid":"loading-container",children:[c.jsx(_s,{muted:!0}),c.jsx(N,{marginTop:3,children:c.jsx(G,{align:"center",muted:!0,size:1,children:"Looking for referring documents"})})]})})})}function ttt(t){const e=m.useId(),[n,r]=m.useState(null),i=m.useCallback(()=>r(null),[]);return n?c.jsx(pa,{id:"dialog-error-".concat(e),"data-testid":"confirm-delete-error-dialog",header:"Error",footer:c.jsx(ae,{paddingX:4,paddingY:3,direction:"column",children:c.jsx(Ce,{mode:"ghost",text:"Retry",onClick:i})}),onClose:t.onCancel,children:c.jsx(N,{padding:4,children:c.jsx(G,{children:"An error occurred while loading referencing documents."})})}):c.jsx(fI,{onCatch:r,children:c.jsx(Llr,{...t})})}const Plr={constrainSize:!0,placement:"left-start",portal:!0};function y8(t){const{disabled:e,isAfterGroup:n,node:r}=t;return r.type==="divider"?c.jsx(Ci,{}):r.type==="group"?r.children.length===0?null:r.expanded?c.jsxs(c.Fragment,{children:[n&&c.jsx(Ci,{}),r.title&&c.jsx(N,{padding:2,paddingBottom:1,children:c.jsx(jn,{muted:!0,size:0,children:r.title})}),r.children.map((i,s)=>{var o;return c.jsx(y8,{disabled:e||!!r.disabled,isAfterGroup:((o=r.children[s-1])==null?void 0:o.type)==="group",node:i},i.key)})]}):c.jsxs(c.Fragment,{children:[n&&c.jsx(Ci,{}),c.jsx(n9,{disabled:e,icon:r.icon,popover:Plr,text:r.title,children:r.children.map((i,s)=>{var o;return c.jsx(y8,{disabled:e||!!r.disabled,isAfterGroup:((o=r.children[s-1])==null?void 0:o.type)==="group",node:i},i.key)})})]}):c.jsxs(c.Fragment,{children:[n&&c.jsx(Ci,{}),c.jsx(Mlr,{disabled:e,node:r})]})}function Mlr(t){const{node:e}=t;return e.intent?c.jsx(Flr,{...t,intent:e.intent}):c.jsx($lr,{...t})}function $lr(t){var e;const{disabled:n,node:r}=t,i=typeof r.disabled=="object"&&c.jsx(G,{size:1,children:r.disabled.reason});return c.jsx(zI,{content:i,placement:"left",children:c.jsx(St,{disabled:n||!!r.disabled,hotkeys:(e=r.hotkey)==null?void 0:e.split("+"),icon:r.icon,iconRight:r.iconRight||r.selected&&Uf,onClick:r.onAction,pressed:r.selected,text:r.title,tone:r.tone})})}function Flr(t){var e;const{disabled:n,intent:r,node:i}=t,s=typeof i.disabled=="object"&&c.jsx(G,{size:1,children:i.disabled.reason}),o=QC({intent:r.type,params:r.params}),a=m.useCallback(l=>{o.onClick(l),i.onAction()},[o,i]);return c.jsx(zI,{content:s,placement:"left",children:c.jsx(St,{as:"a",disabled:n||!!i.disabled,hotkeys:(e=i.hotkey)==null?void 0:e.split("+"),href:o.href,icon:i.icon,iconRight:i.selected?Uf:void 0,onClick:a,pressed:i.selected,text:i.title,tone:i.tone})})}const Blr={constrainSize:!0,placement:"bottom",portal:!0};function cZ(t,e){return t.some(n=>n.type==="item"&&n.tone===e||n.type==="group"&&cZ(n.children,e))}function Nlr(t){const{nodes:e}=t,n=m.useId(),r=cZ(e,"critical"),i=cZ(e,"caution");return c.jsx(vr,{button:c.jsx(_y,{icon:ll,mode:"bleed",title:"Show menu",tone:r?"critical":i?"caution":void 0}),id:n,menu:c.jsx(er,{children:e.map((s,o)=>{var a;const l=((a=e[o-1])==null?void 0:a.type)==="group";return c.jsx(y8,{isAfterGroup:l,node:s},s.key)})}),popover:Blr})}const Vlr=!1,dZ=51,yz=dZ*4,ntt=m.createContext(null),Ulr=m.createContext(null);function Jse(){const t=m.useContext(Ulr);if(!t)throw new Error("PaneLayout: missing context value");return t}var FRe=Object.freeze,Hlr=Object.defineProperty,zlr=(t,e)=>FRe(Hlr(t,"raw",{value:FRe(e||t.slice())})),BRe;const Wlr=H(Wf)(BRe||(BRe=zlr([`
  position: relative;
  width: 1px;
  min-width: 1px;

  &:before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    width: 1px;
    background-color: var(--card-border-color);
  }

  &:not([data-disabled]) {
    cursor: ew-resize;
    width: 9px;
    min-width: 9px;
    margin: 0 -4px;

    &:before {
      left: 4px;
    }

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      width: 9px;
      bottom: 0;
      background-color: var(--card-border-color);
      opacity: 0;
      transition: opacity 150ms;
    }

    &[data-dragging]:after,
    &:hover:after {
      opacity: 0.2;
    }
  }
`])));function Glr(t){let{disabled:e,element:n}=t;const{resize:r}=Jse(),[i,s]=m.useState(!1),o=m.useCallback(a=>{if(!n)return;s(!0),a.preventDefault();const l=a.pageX;r("start",n,0);const u=f=>{f.preventDefault();const h=f.pageX-l;r("move",n,h)},d=f=>{f.preventDefault(),s(!1),window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",d),r("end",n,0)};window.addEventListener("mousemove",u),window.addEventListener("mouseup",d)},[n,r]);return c.jsx(Wlr,{"data-disabled":e?"":void 0,"data-dragging":i?"":void 0,onMouseDown:o})}var NRe=Object.freeze,qlr=Object.defineProperty,Ylr=(t,e)=>NRe(qlr(t,"raw",{value:NRe(e||t.slice())})),VRe;const Klr=H(ge)(VRe||(VRe=Ylr([`
  outline: none;

  // NOTE: This will render a border to the right side of each pane
  // without taking up physical space.
  box-shadow: 1px 0 0 var(--card-border-color);
`]))),xEr=m.forwardRef(function(e,n){var r,i,s;const{children:o,currentMinWidth:a,currentMaxWidth:l,flex:u=1,id:d,minWidth:f,maxWidth:h,selected:p=!1,...g}=e,[v,y]=m.useState(null),{collapse:x,collapsed:b,expand:_,expandedElement:C,mount:S,panes:T}=Jse(),A=T.find(F=>F.element===v),k=A&&T.indexOf(A),I=typeof k=="number"?T[k+1]:void 0,D=k===T.length-1,R=b?!1:(A==null?void 0:A.collapsed)||!1,O=(I==null?void 0:I.collapsed)||!1,L=Ms(n),P=(r=A==null?void 0:A.flex)!=null?r:u,$=(i=A==null?void 0:A.currentMinWidth)!=null?i:a,B=(s=A==null?void 0:A.currentMaxWidth)!=null?s:l,Q=m.useCallback(F=>{y(F),L.current=F},[L]);m.useEffect(()=>{if(v)return S(v,{currentMinWidth:a,currentMaxWidth:l,flex:u,id:d,minWidth:f,maxWidth:h})},[a,l,u,d,f,h,S,v]);const V=m.useCallback(()=>{v&&x(v)},[x,v]),Z=m.useCallback(()=>{v&&_(v)},[_,v]),ie=m.useMemo(()=>({collapse:V,collapsed:b?!1:R,expand:Z,index:k,isLast:D,rootElement:v}),[R,V,Z,D,b,k,v]),J=m.useMemo(()=>{if(!b)return R?dZ:$===0||D?f||yz:$||f||yz},[R,$,D,b,f]),X=m.useMemo(()=>{if(R)return dZ;if(!(b&&D))return D?h?B??h:void 0:B??h},[R,B,D,b,h]),fe=b&&!D,ue=m.useMemo(()=>!D&&!b&&c.jsx(sC,{zOffset:"paneResizer",children:c.jsx(Glr,{disabled:R||O,element:v})}),[R,D,b,O,v]),te=m.useMemo(()=>({flex:P,minWidth:J,maxWidth:X===1/0?void 0:X}),[P,J,X]);return c.jsxs(c.Fragment,{children:[c.jsx(sC,{zOffset:"pane",children:c.jsx(ntt.Provider,{value:ie,children:c.jsxs(Klr,{"data-testid":"pane","data-ui":"Pane",tone:"inherit",hidden:fe,id:d,overflow:b?void 0:"hidden",...g,"data-pane-collapsed":R?"":void 0,"data-pane-index":k,"data-pane-selected":p?"":void 0,ref:Q,style:te,children:[Vlr,c.jsx(Q7,{element:v,children:!fe&&c.jsx(ae,{direction:"column",height:"fill",children:o})})]})})}),ue]})});function eoe(){const t=m.useContext(ntt);if(!t)throw new Error("Pane: missing context value");return t}var URe=Object.freeze,Zlr=Object.defineProperty,Xlr=(t,e)=>URe(Zlr(t,"raw",{value:URe(e||t.slice())})),HRe;const rtt=H(ge)(HRe||(HRe=Xlr([`
  position: relative;
  outline: none;
`])));rtt.displayName="PaneContent__root";const wEr=m.forwardRef(function(e,n){const{as:r,children:i,overflow:s,padding:o,...a}=e,{collapsed:l}=eoe(),{collapsed:u}=Jse();return c.jsx(rtt,{"data-testid":"pane-content",forwardedAs:r,...a,flex:1,hidden:l,overflow:u?void 0:s,padding:o,ref:n,tone:"inherit",children:i})});var zRe=Object.freeze,Qlr=Object.defineProperty,itt=(t,e)=>zRe(Qlr(t,"raw",{value:zRe(e||t.slice())})),WRe,GRe;const Jlr=H(Wf)(WRe||(WRe=itt([`
  position: sticky;
  bottom: 0;

  &:before {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    top: -1px;
    border-bottom: 1px solid var(--card-shadow-outline-color);
  }
`]))),eur=H(ge)(GRe||(GRe=itt([`
  padding-bottom: env(safe-area-inset-bottom);
`]))),_Er=m.forwardRef(function(e,n){const{children:r,padding:i}=e,{collapsed:s}=eoe();return c.jsx(sC,{zOffset:"paneFooter",children:c.jsx(Jlr,{"data-testid":"pane-footer",hidden:s,ref:n,children:c.jsx(eur,{tone:"inherit",children:c.jsx(N,{padding:i,children:r})})})})});var qRe=Object.freeze,tur=Object.defineProperty,AE=(t,e)=>qRe(tur(t,"raw",{value:qRe(e||t.slice())})),YRe,KRe,ZRe,XRe,QRe,JRe;const nur=H(Wf)(YRe||(YRe=AE([`
  line-height: 0;
  position: sticky;
  top: 0;

  &:not([data-collapsed]):after {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    bottom: -1px;
    border-bottom: 1px solid var(--card-shadow-outline-color);
  }
`]))),rur=H(ae)(KRe||(KRe=AE([`
  transform-origin: calc(51px / 2);

  [data-collapsed] > div > & {
    transform: rotate(90deg);
  }
`]))),iur=H(ge)(t=>{let{theme:e}=t;const{fg:n,bg:r}=e.sanity.color.card.enabled;return qe(ZRe||(ZRe=AE([`
    background-color: `,`;

    [data-ui='Text'] {
      color: `,`;
    }
  `])),r,n)}),sur=H(Vc)(XRe||(XRe=AE([`
  width: 66%;
  max-width: 175px;
`]))),our=H(G)(QRe||(QRe=AE([`
  cursor: default;
  outline: none;
`]))),aur=H(N)(t=>{let{theme:e}=t;const{color:n,space:r}=e.sanity;return qe(JRe||(JRe=AE([`
    overflow: hidden;
    overflow: clip;
    position: relative;

    & > div {
      white-space: nowrap;
      overflow: auto;
      /* Hide scrollbars */
      scrollbar-width: none;
      &::-webkit-scrollbar {
        width: 0;
        height: 0;
      }
    }

    /* right padding */
    & > div:after {
      content: '';
      display: inline-block;
      top: 0;
      right: 0;
      bottom: 0;
      width: `,`px;
      height: 1px;
    }

    /* Gradient that makes it look like tabs disappear into nothing (looks nicer) */
    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(to right, `,`, var(--card-bg-color));
      width: `,`px;
      pointer-events: none;
    }
  `])),r[3],fr(n.base.bg,0),r[3])}),CEr=m.forwardRef(function(e,n){const{actions:r,backButton:i,contentAfter:s,loading:o,subActions:a,tabs:l,tabIndex:u,title:d}=e,{collapse:f,collapsed:h,expand:p,rootElement:g}=eoe(),v=lI(g||null),y=m.useMemo(()=>({width:h?(v==null?void 0:v.height)||window.innerHeight:void 0}),[h,v]),x=m.useCallback(()=>{h||f()},[f,h]),b=m.useCallback(()=>{h&&p()},[h,p]),_=!!(!h&&(l||a));return c.jsx(Fv,{zOffset:100,children:c.jsx(nur,{"data-collapsed":h?"":void 0,"data-testid":"pane-header",ref:n,children:c.jsx(sC,{zOffset:"paneHeader",children:c.jsxs(ge,{"data-collapsed":h?"":void 0,tone:"inherit",children:[c.jsxs(rur,{onClick:b,padding:2,sizing:"border",style:y,children:[i&&c.jsx(N,{flex:"none",padding:1,children:i}),c.jsxs(iur,{__unstable_focusRing:!0,flex:1,forwardedAs:"button",marginRight:r?1:0,onClick:x,paddingLeft:i?1:3,paddingY:3,tabIndex:u,children:[o&&c.jsx(sur,{animated:!0,radius:1}),!o&&c.jsx(our,{textOverflow:"ellipsis",weight:"semibold",children:d})]}),r&&c.jsx(N,{flex:"none",hidden:h,children:c.jsx(sC,{zOffset:"paneHeader",children:r})})]}),_&&c.jsxs(ae,{align:"center",hidden:h,overflow:"auto",paddingBottom:3,paddingX:3,paddingTop:1,children:[c.jsx(aur,{flex:1,marginRight:a?3:0,children:l}),a&&a]}),!h&&s&&s]})})})})});function lur(t){const{node:e,padding:n}=t;return e.type==="item"?c.jsx(uur,{node:e,padding:n}):e.type==="group"?c.jsx(dur,{node:e,padding:n}):(console.warn('unknown menu node (expected `type: "item" | "group"`):',e),null)}function uur(t){var e;const{node:n,padding:r}=t;if(n.intent)return c.jsx(cur,{...t,intent:n.intent});const i=typeof n.disabled=="object"&&c.jsx(G,{size:1,children:n.disabled.reason});return c.jsx(zI,{content:i,placement:"bottom",children:c.jsx(_y,{disabled:!!n.disabled,hotkey:(e=n.hotkey)==null?void 0:e.split("+"),icon:n.icon,label:i?void 0:n.title,onClick:n.onAction,padding:r,selected:n.selected,tone:n.tone})})}function cur(t){var e;const{intent:n,node:r,padding:i}=t,s=typeof r.disabled=="object"&&c.jsx(G,{size:1,children:r.disabled.reason}),o=QC({intent:n.type,params:n.params}),a=m.useCallback(l=>{o.onClick(l),r.onAction()},[o,r]);return c.jsx(zI,{content:s,placement:"bottom",children:c.jsx(_y,{as:"a",disabled:!!r.disabled,hotkey:(e=r.hotkey)==null?void 0:e.split("+"),href:o.href,icon:r.icon,label:s?void 0:r.title,onClick:a,padding:i,selected:r.selected,tone:r.tone})})}function dur(t){var e;const{node:n,padding:r}=t;return c.jsx(vr,{button:c.jsx(_y,{disabled:n.disabled,icon:(e=n.icon)!=null?e:kh,label:n.title,padding:r}),id:m.useId(),menu:c.jsx(er,{children:n.children.map((i,s)=>{var o;return c.jsx(y8,{disabled:!!n.disabled,isAfterGroup:((o=n.children[s-1])==null?void 0:o.type)==="group",node:i},i.key)})})})}var e4e=Object.freeze,fur=Object.defineProperty,hur=(t,e)=>e4e(fur(t,"raw",{value:e4e(e||t.slice())})),t4e;const EEr=H(ge)(t4e||(t4e=hur([`
  transition: opacity 200ms;
  position: relative;
  z-index: 1;
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  opacity: 0;

  &:not([hidden]) {
    display: flex;
  }

  &:not([data-collapsed]) {
    overflow: auto;
  }

  &[data-mounted] {
    opacity: 1;
  }

  &[data-resizing] {
    pointer-events: none;
  }
`])));function stt(t){return(t.type==="item"||t.type==="group")&&t.renderAsButton}const pur=Yqt(stt);function mur(t){var e,n;const{fieldActions:r=[],menuItems:i,menuItemGroups:s}=t,o=[];let a=0;for(let d=0;d<r.length;d+=1){const f=r[d];o.push(ott(f,"".concat(d,"-").concat(f.type)))}a+=o.length;const l=[];for(const d of s)l.find(h=>h.key===d.id)||l.push({type:"group",key:d.id,children:[],expanded:!0,renderAsButton:!1,title:d.title});const u=[];for(let d=0;d<i.length;d+=1){const f=i[d];let h=f.group&&l.find(p=>p.key===f.group);f.group&&!h&&(h={type:"group",key:f.group,expanded:!0,icon:f.icon,title:f.group,children:[],renderAsButton:!1},l.push(h)),h?h.children.push({type:"item",key:"".concat(a+d,"-item"),hotkey:f.shortcut,icon:f.icon,onAction:()=>t.actionHandler(f),renderAsButton:(e=f.showAsAction)!=null?e:!1,selected:f.selected,title:f.title,tone:f.tone}):u.push({type:"item",key:"".concat(a+d,"-item"),hotkey:f.shortcut,icon:f.icon,onAction:()=>t.actionHandler(f),renderAsButton:(n=f.showAsAction)!=null?n:!1,selected:f.selected,title:f.title,tone:f.tone})}return[...u,...l,...o]}function ott(t,e){var n,r,i;return t.type==="divider"?{type:"divider",key:e}:t.type==="group"?{type:"group",key:e,children:t.children.map((s,o)=>ott(s,"".concat(e,"-").concat(o,"-").concat(s.type))),disabled:t.disabled,expanded:(n=t.expanded)!=null?n:!0,icon:t.icon,title:t.title,renderAsButton:(r=t.renderAsButton)!=null?r:!1}:{type:"item",key:e,disabled:t.disabled,icon:t.icon,iconRight:t.iconRight,onAction:t.onAction,renderAsButton:(i=t.renderAsButton)!=null?i:!1,selected:t.selected,title:t.title,tone:t.tone}}const gur=m.forwardRef(function(e,n){const{intent:r,...i}=e,s=m.useMemo(()=>m.forwardRef(function(a,l){return c.jsx(D0,{...a,intent:r.type,params:r.params,ref:l})}),[r]);return e.disabled?c.jsx(Ce,{...e,as:"a",role:"link","aria-disabled":"true"}):c.jsx(Ce,{...i,as:s,"data-as":"a",ref:n})});function bz(t){let{reveal:e,loading:n,children:r}=t;const i=Md();return e?c.jsx(Mn,{content:n?c.jsx(N,{padding:2,children:c.jsx(G,{children:"Loading"})}):c.jsx(ym,{currentUser:i}),portal:!0,children:c.jsx("div",{children:r})}):c.jsx(c.Fragment,{children:r})}const vur={constrainSize:!0,placement:"bottom",portal:!0},n4e=(t,e,n)=>{var r;const i=(r=e.find(o=>o.id===n.templateId))==null?void 0:r.schemaType;if(!i)return null;const s={template:n.templateId,type:i,id:n.initialDocumentId};return{type:"create",params:n.parameters?[s,n.parameters]:s}};function yur(t){let{templateItems:e}=t;const n=es(),r=nD(),[i,s]=UXe({templateItems:e}),o=m.useMemo(()=>!s&&(i==null?void 0:i.every(l=>!l.granted)),[s,i]),a=m.useMemo(()=>i?i.reduce((l,u)=>(l[u.id]=u,l),{}):{},[i]);if(o)return c.jsx(bz,{reveal:!0,loading:s,children:c.jsx(Ce,{"aria-label":"Insufficient permissions",icon:mx,mode:"bleed",disabled:!0,"data-testid":"action-intent-button"})});if(e.length===1){const l=e[0],u=a[l.id],d=!(u!=null&&u.granted),f=n4e(n,r,l);return f?c.jsx(bz,{reveal:d,loading:s,children:c.jsx(gur,{"aria-label":l.title,icon:l.icon||mx,intent:f,mode:"bleed",disabled:d,"data-testid":"action-intent-button"})}):null}return c.jsx(vr,{button:c.jsx(Ce,{icon:mx,mode:"bleed","data-testid":"multi-action-intent-button"}),id:"create-menu",menu:c.jsxs(er,{children:[c.jsx(N,{paddingX:3,paddingTop:3,paddingBottom:2,children:c.jsx(jn,{muted:!0,children:"Create"})}),e.map((l,u)=>{const d=a[l.id],f=!(d!=null&&d.granted),h=n4e(n,r,l),p=r.find(v=>v.id===l.templateId);if(!p||!h)return null;const g=m.forwardRef((v,y)=>f?c.jsx("button",{type:"button",disabled:!0,...v,ref:y}):c.jsx(D0,{...v,intent:h.type,params:h.params,ref:y}));return g.displayName="Link",c.jsx(bz,{reveal:f,loading:s,children:c.jsx(St,{as:g,"data-as":f?"button":"a",text:l.title||p.title,"aria-label":f?"Insufficient permissions":l.title||p.title,disabled:f,"data-testid":"action-intent-button-".concat(u)})},l.id)})]}),popover:vur})}function bur(t){return t!=null}const xur=t=>{const e=r=>typeof r!="object"||!r?r:Array.isArray(r)?r.map(e):Object.entries(r).sort((i,s)=>{let[o]=i,[a]=s;return o.localeCompare(a,"en")});return JSON.stringify(e((r=>JSON.parse(JSON.stringify(r)))(t)))},SEr=m.memo(function(e){const{initialValueTemplateItems:n=vs,menuItems:r=vs,menuItemGroups:i=vs,actionHandlers:s=o2n}=e,o=nD(),a=m.useCallback(p=>{if(typeof p.action=="string"&&!(p.action in s))return console.warn("No handler for action:",p.action),!1;const g=typeof p.action=="function"?p.action:typeof p.action=="string"?s[p.action]:null;return g?(g(p.params),!0):!1},[s]),l=m.useMemo(()=>mur({actionHandler:a,menuItemGroups:i,menuItems:r.filter(p=>{var g;return((g=p.intent)==null?void 0:g.type)!=="create"})}),[a,i,r]),u=m.useMemo(()=>l.filter(stt),[l]),d=m.useMemo(()=>l.filter(pur),[l]),f=m.useMemo(()=>r.map((p,g)=>{var v;if(((v=p.intent)==null?void 0:v.type)!=="create")return null;const{params:y}=p.intent;if(!y)return null;const x=Array.isArray(y)?y[0]:y,b=Array.isArray(y)?y[1]:void 0,_=x.template||x.type;if(!_)return null;const C=o.find(T=>T.id===_);if(!C)return null;const S=x.id;return{item:p,template:C,templateParams:b,menuItemIndex:g,initialDocumentId:S}}).filter(bur).map(p=>{let{initialDocumentId:g,item:v,template:y,menuItemIndex:x,templateParams:b}=p;return{id:"menuItem".concat(x),initialDocumentId:g,templateId:y.id,type:"initialValueTemplateItem",title:v.title||y.title,icon:v.icon,description:y.description,parameters:b,schemaType:y.schemaType}}),[r,o]),h=m.useMemo(()=>Wv([...f,...n],p=>xur([p.initialDocumentId,p.templateId,p.parameters])),[f,n]);return c.jsxs(ae,{gap:1,children:[h.length>0&&c.jsx(yur,{templateItems:h}),u.map(p=>c.jsx(lur,{node:p},p.key)),d.length>0&&c.jsx(Nlr,{nodes:d})]})}),wur={NOTHING_TO_DELETE:"This document doesnt yet exist or is already deleted"},att=t=>{let{id:e,type:n,draft:r,onComplete:i}=t;const{delete:s}=Mm(e,n),[o,a]=m.useState(!1),[l,u]=m.useState(!1),d=m.useCallback(()=>{u(!1),i()},[i]),f=m.useCallback(()=>{a(!0),u(!1),s.execute(),i()},[s,i]),h=m.useCallback(()=>{u(!0)},[]),[p,g]=Ty({id:e,type:n,permission:"delete"}),v=Md();return!g&&!(p!=null&&p.granted)?{tone:"critical",icon:Qo,disabled:!0,label:"Delete",title:c.jsx(ym,{operationLabel:"delete this document",currentUser:v})}:{tone:"critical",icon:Qo,disabled:o||!!s.disabled||g,title:s.disabled&&wur[s.disabled]||"",label:o?"Deleting":"Delete",shortcut:"Ctrl+Alt+D",onHandle:h,dialog:l&&{type:"custom",component:c.jsx(ttt,{action:"delete",id:(r==null?void 0:r._id)||e,type:n,onCancel:d,onConfirm:f})}}};att.action="delete";const _ur={NO_CHANGES:"This document has no unpublished changes",NOT_PUBLISHED:"This document is not published"},ltt=t=>{let{id:e,type:n,published:r,liveEdit:i,onComplete:s}=t;const{discardChanges:o}=Mm(e,n),[a,l]=m.useState(!1),[u,d]=Ty({id:e,type:n,permission:"discardDraft"}),f=Md(),h=m.useCallback(()=>{o.execute(),s()},[o,s]),p=m.useCallback(()=>{l(!0)},[]),g=m.useMemo(()=>a&&{type:"confirm",tone:"critical",onCancel:s,onConfirm:h,message:c.jsx(c.Fragment,{children:"Are you sure you want to discard all changes since last published?"})},[h,a,s]);return!r||i?null:!d&&!(u!=null&&u.granted)?{tone:"critical",icon:pm,disabled:!0,label:"Discard changes",title:c.jsx(ym,{operationLabel:"discard changes in this document",currentUser:f})}:{tone:"critical",icon:pm,disabled:!!o.disabled||d,title:o.disabled&&_ur[o.disabled]||"",label:"Discard changes",onHandle:p,dialog:g}};ltt.action="discardChanges";const Cur={NOTHING_TO_DUPLICATE:"This document doesnt yet exist so theres nothing to duplicate"},utt=t=>{let{id:e,type:n,onComplete:r}=t;const{duplicate:i}=Mm(e,n),{navigateIntent:s}=I0(),[o,a]=m.useState(!1),[l,u]=Ty({id:e,type:n,permission:"duplicate"}),d=Md(),f=m.useCallback(()=>{const h=R0();a(!0),i.execute(h),s("edit",{id:h,type:n}),r()},[i,s,r,n]);return!u&&!(l!=null&&l.granted)?{icon:Ox,disabled:!0,label:"Duplicate",title:c.jsx(ym,{operationLabel:"duplicate this document",currentUser:d})}:{icon:Ox,disabled:o||!!i.disabled||u,label:o?"Duplicating":"Duplicate",title:i.disabled&&Cur[i.disabled]||"",onHandle:f}};utt.action="duplicate";const ctt=t=>{let{id:e,type:n,revision:r,onComplete:i}=t;const{restore:s}=Mm(e,n),{navigateIntent:o}=I0(),[a,l]=m.useState(!1),u=m.useCallback(()=>{s.execute(r),i(),setTimeout(()=>o("edit",{id:e,type:n}),0)},[s,r,o,e,n,i]),d=m.useCallback(()=>{l(!0)},[]),f=m.useMemo(()=>a?{type:"confirm",tone:"critical",onCancel:i,onConfirm:u,message:c.jsx(c.Fragment,{children:"Are you sure you want to restore this document?"})}:null,[u,a,i]),h=r==="@initial";return r===void 0?null:{label:"Restore",color:"primary",onHandle:d,title:h?"You can't restore to the initial version":"Restore to this version",icon:uQ,dialog:f,disabled:h}};ctt.action="restore";const dtt=m.createContext(null);function RF(){const t=m.useContext(dtt);if(!t)throw new Error("DocumentPane: missing context value");return t}const Eur={LIVE_EDIT_ENABLED:"Cannot publish since liveEdit is enabled for this document type",ALREADY_PUBLISHED:"Already published",NO_CHANGES:"No unpublished changes",NOT_READY:"Operation not ready"};function Sur(t,e){return t==="ALREADY_PUBLISHED"&&e?c.jsx(c.Fragment,{children:c.jsxs("span",{children:["Published ",c.jsx(Xse,{time:e})]})}):Eur[t]}const ftt=t=>{var e;const{id:n,type:r,liveEdit:i,draft:s,published:o}=t,[a,l]=m.useState(null),{publish:u}=Mm(n,r),d=Gie(n,r),f=tWn(n,r),{changesOpen:h,onHistoryOpen:p,documentId:g,documentType:v}=RF(),y=EXe(g,v),x=((y==null?void 0:y.draft)||(y==null?void 0:y.published)||{})._rev,b=d.validation.some(Dft),[_,C]=m.useState(!1),S=f.isSyncing,T=d.isValidating,[A,k]=Ty({id:n,type:r,permission:"publish"}),I=Md(),D=u.disabled?Sur(u.disabled,(o||{})._updatedAt)||"":b?"There are validation errors that need to be fixed before this document can be published":"",R=!!s,O=m.useCallback(()=>{u.execute(),l("publishing")},[u]);m.useEffect(()=>{const $=d.isValidating===!1&&d.revision!==x;!_||S||!$||(b||O(),C(!1))},[S,O,b,_,d.revision,x,T,d.isValidating]),m.useEffect(()=>{const $=a==="publishing"&&!R;$&&h&&p();const B=$?"published":null,V=setTimeout(()=>{l(B)},$?200:4e3);return()=>clearTimeout(V)},[h,a,R,p]);const L=m.useCallback(()=>{f.isSyncing||d.isValidating||d.revision!==x?C(!0):O()},[f.isSyncing,d.isValidating,d.revision,x,O]);if(i)return{tone:"positive",label:"Publish",title:"Live Edit is enabled for this content type and publishing happens automatically as you make changes",disabled:!0};if(!k&&!(A!=null&&A.granted))return{tone:"positive",label:"Publish",title:c.jsx(ym,{operationLabel:"publish this document",currentUser:I}),disabled:!0};const P=!!(_||(e=y==null?void 0:y.transactionSyncLock)!=null&&e.enabled||a==="publishing"||a==="published"||b||u.disabled);return{disabled:P||k,tone:"positive",label:a==="published"?"Published":_||a==="publishing"?"Publishing":"Publish",icon:a==="published"?Uf:IC,title:_?"Waiting for tasks to finish before publishing":a==="published"||a==="publishing"?null:D,shortcut:P||_?null:"Ctrl+Alt+P",onHandle:L}};ftt.action="publish";const Tur={NOT_PUBLISHED:"This document is not published"},htt=t=>{let{id:e,type:n,draft:r,onComplete:i,liveEdit:s}=t;const{unpublish:o}=Mm(e,n),[a,l]=m.useState(!1),[u,d]=Ty({id:e,type:n,permission:"unpublish"}),f=Md(),h=m.useCallback(()=>{l(!1),i()},[i]),p=m.useCallback(()=>{l(!1),o.execute(),i()},[i,o]),g=m.useMemo(()=>a?{type:"dialog",onClose:i,content:c.jsx(ttt,{id:(r==null?void 0:r._id)||e,type:n,action:"unpublish",onCancel:h,onConfirm:p})}:null,[r,e,h,p,a,i,n]);return s?null:!d&&!(u!=null&&u.granted)?{tone:"critical",icon:uP,label:"Unpublish",title:c.jsx(ym,{operationLabel:"unpublish this document",currentUser:f}),disabled:!0}:{tone:"critical",icon:uP,disabled:!!o.disabled||d,label:"Unpublish",title:o.disabled?Tur[o.disabled]:"",onHandle:()=>l(!0),dialog:g}};htt.action="unpublish";const kur=t=>{const{liveEdit:e}=t;return e?{label:"Live",color:"danger"}:null},TEr=!1,Aur={},kEr=Symbol("LOADING_PANE"),AEr="documentPanelPortalElement",ptt={activePanes:[]};function IEr(t){ptt.activePanes=t}function Iur(t,e,n,r){var i;const s=(n==null?void 0:n.panes)||[],o=ptt.activePanes||[],a=e.id||R0(),l=t==="create"&&e.template;for(let u=o.length-1;u>=0;u--){const d=o[u];if(typeof d=="object"&&((i=d.canHandleIntent)!=null&&i.call(d,t,e,{pane:d,index:u})||d.type==="documentList"&&d.schemaTypeName===e.type&&d.options.filter==="_type == $type")){const f=l?{template:e.template}:Aur;return{panes:s.slice(0,u).concat([[{id:a,params:f,payload:r}]])}}}return{intent:t,params:e,payload:r}}const Dur={};function Rur(t){try{return JSON.parse(decodeURIComponent(t))}catch{return console.warn("Failed to parse JSON parameters"),{}}}function jur(t){return(t||[]).map(e=>e.map(Uur).join("|")).map(encodeURIComponent).join(";")}function Our(t){return JSON.stringify(t)}function Lur(t){return Hur(decodeURIComponent(t))}function Pur(t){return jur(t)}const Mur=su.create("/",[su.intents("/intent"),su.create("/edit/:type/:editDocumentId",[su.create({path:"/:params",transform:{params:{toState:Rur,toPath:Our}}})]),su.create({path:"/:panes",children:[su.create("/:action",su.create("/:legacyEditDocumentId"))],transform:{panes:{toState:Lur,toPath:Pur}}})]),$ur=/^([.a-z0-9_-]+),?({.*?})?(?:(;|$))/i,Fur=t=>/^[a-z0-9]+=[^=]+/i.test(t),Bur=t=>/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t),mtt=["view","since","rev","inspect"],Nur=Boolean;function Vur(t,e){return t.reduce((n,r)=>{if(Fur(r)){const i=r.slice(0,r.indexOf("=")),s=r.slice(i.length+1);n.params={...n.params,[decodeURIComponent(i)]:decodeURIComponent(s)}}else Bur(r)?n.payload=Wur(r):console.warn("Unknown pane segment: %s - skipping",r);return n},{...e,params:Dur,payload:void 0})}function Uur(t,e,n){const{payload:r,params:i={},id:s}=t,[o]=n,a=t===o,l=e!==0&&s===o.id,u=typeof r>"u"?void 0:btoa(JSON.stringify(r)),d=Object.entries(i).filter(f=>{var h;const[p,g]=f;if(!g)return!1;if(a)return!0;const v=(h=o.params)==null?void 0:h[p];return!(g===v&&!mtt.includes(p))}).map(f=>{let[h,p]=f;return"".concat(encodeURIComponent(h),"=").concat(encodeURIComponent(p))});return[l?"":s].concat([d.length>0&&d,u].filter(Nur).flat()).join(",")||","}function Hur(t){return t.indexOf(",{")!==-1?zur(t):t.split(";").map(e=>{const[n,...r]=e.split("|").map(i=>{const[s,...o]=i.split(",");return Vur(o,{id:s})});return[n,...r.map(i=>({...n,...i,id:i.id||n.id,params:{...Al(n.params,mtt),...i.params},payload:i.payload||n.payload}))]}).filter(e=>e.length>0)}function zur(t){const e=[];let n=t;for(;n.length;){const[r,i,s]=n.match($ur)||[];if(!r){n=n.slice(1);continue}const o=s&&gtt(s);e.push({id:i,payload:o}),n=n.slice(r.length)}return[e]}function gtt(t){try{return JSON.parse(t)}catch(e){console.warn("Failed to parse parameters: ".concat(e.message));return}}function Wur(t){return t?gtt(atob(t)):void 0}const DEr=320,REr=600,jEr=320,OEr=540,Gur={},fZ="inspect:",qur=[{id:"inspectors"},{id:"links"}],hZ="sanity/desk/history",Yur="sanity/desk/validation",Kur=H(ge)({position:"relative",zIndex:1,lineHeight:0,"&:after":{content:'""',display:"block",position:"absolute",left:0,bottom:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}});function vtt(t){const{as:e,children:n,closeButtonLabel:r,onClose:i,title:s,...o}=t;return c.jsxs(Kur,{...o,as:e,children:[c.jsxs(ae,{padding:2,children:[c.jsx(N,{flex:1,padding:3,children:c.jsx(G,{as:"h1",size:1,weight:"semibold",children:s})}),c.jsx(N,{flex:"none",padding:1,children:c.jsx(Ce,{"aria-label":r,fontSize:1,icon:Rd,mode:"bleed",onClick:i,padding:2})})]}),n]})}const ytt=m.createContext(null);function btt(){const t=m.useContext(ytt);if(!t)throw new Error("DeskTool: missing context value");return t}var r4e=Object.freeze,Zur=Object.defineProperty,Xur=(t,e)=>r4e(Zur(t,"raw",{value:r4e(e||t.slice())})),i4e;const Qur=H.div(i4e||(i4e=Xur([`
  position: absolute;
  top: 0;
  left: -4px;
  bottom: 0;
  width: 9px;
  z-index: 201;
  cursor: ew-resize;

  /* Border */
  & > span:nth-child(1) {
    display: block;
    border-left: 1px solid var(--card-border-color);
    position: absolute;
    top: 0;
    left: 4px;
    bottom: 0;
    transition: opacity 200ms;
    opacity: 0.5;
  }

  /* Hover effect */
  & > span:nth-child(2) {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 9px;
    bottom: 0;
    background-color: var(--card-border-color);
    opacity: 0;
    transition: opacity 150ms;
  }

  @media (hover: hover) {
    &:hover > span:nth-child(2) {
      opacity: 0.2;
    }
  }
`])));function Jur(t){const{onResize:e,onResizeStart:n}=t,r=m.useRef(0),i=m.useCallback(s=>{s.preventDefault(),r.current=s.pageX,n();const o=l=>{l.preventDefault(),e(l.pageX-r.current)},a=()=>{window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",a)};window.addEventListener("mousemove",o),window.addEventListener("mouseup",a)},[e,n]);return c.jsxs(Qur,{onMouseDown:i,children:[c.jsx("span",{}),c.jsx("span",{})]})}var s4e=Object.freeze,ecr=Object.defineProperty,tcr=(t,e)=>s4e(ecr(t,"raw",{value:s4e(e||t.slice())})),o4e;const ncr=H(N)(o4e||(o4e=tcr([`
  position: relative;
  flex: 1;
  padding-left: 1px;
`])));function LEr(t){const{as:e,children:n,minWidth:r,maxWidth:i,...s}=t,[o,a]=m.useState(null),l=m.useRef(),[u,d]=m.useState(),f=m.useCallback(()=>{l.current=o==null?void 0:o.offsetWidth},[o]),h=m.useCallback(g=>{const v=l.current;v&&d(Math.min(Math.max(v-g,r),i))},[r,i]),p=m.useMemo(()=>u?{flex:"none",width:u}:{minWidth:r,maxWidth:i},[r,i,u]);return c.jsxs(ncr,{as:e,...s,ref:a,style:p,children:[n,c.jsx(Jur,{onResize:h,onResizeStart:f})]})}function rcr(t){const{path:e,schemaType:n,value:r}=t,i=[];let s=n,o=r;for(const a of e){if(typeof a=="string"){if(!Jn(o)&&o!==void 0)throw new Error("Parent value is not an object, cannot get path segment: .".concat(a));if(s.jsonType!=="object")throw new Error("Parent type is not an object schema type, cannot get path segment: .".concat(a));o=o==null?void 0:o[a];const l=s.fields.find(u=>u.name===a);if(!l)throw new Error("Field type not found: .".concat(a));s=l.type,i.push(s);continue}if(typeof a=="number"){if(!nbe(o)&&o!==void 0)throw new Error("Parent value is not an array, cannot get path segment: [".concat(a,"]"));if(s.jsonType!=="array")throw new Error("Parent type is not an array schema type, cannot get path segment: [".concat(a,"]"));o=o==null?void 0:o[a];const l=s.of.find(u=>typeof o=="string"?u.jsonType==="string":typeof o=="number"?u.jsonType==="number":typeof o=="boolean"?u.jsonType==="boolean":Jn(o)?u.name===(o==null?void 0:o._type):!1);if(!l)throw new Error("Item type not found: [".concat(a,"]"));s=l,i.push(s);continue}if(Jn(a)&&a._key){if(!nbe(o))throw new Error("Parent value is not an anrray, cannot get path segment: [_key == ".concat(a,"]"));if(s.jsonType!=="array")throw new Error("Parent type is not an array schema type, cannot get path segment: .".concat(a));if(o=(o??[]).find(d=>Jn(d)&&d._key===a._key),!Jn(o))throw new Error("Array item not found: [_key == ".concat(a._key,"]"));const u=s.of.find(d=>Jn(o)&&d.name===(o==null?void 0:o._type));if(!u)throw new Error("Array item type not found: .".concat(o==null?void 0:o._type));s=u,i.push(s);continue}throw new Error("Invalid path segment: ".concat(JSON.stringify(a)))}return i}const icr={error:Yu,warning:vo,info:rw},scr={error:"critical",warning:"caution",info:"primary"};function ocr(t){const{onClose:e}=t,{onFocus:n,onPathOpen:r,schemaType:i,validation:s,value:o}=RF(),a=m.useCallback(l=>{r(l),n(l)},[n,r]);return c.jsxs(ae,{direction:"column",height:"fill",overflow:"hidden",children:[c.jsx(vtt,{as:"header",closeButtonLabel:"Close validation",flex:"none",onClose:e,title:"Validation"}),c.jsxs(ge,{flex:1,overflow:"auto",padding:3,children:[s.length===0&&c.jsx(N,{padding:2,children:c.jsx(G,{muted:!0,size:1,children:"No validation errors"})}),s.length>0&&c.jsx(Te,{space:2,children:s.map(l=>c.jsx(acr,{marker:l,onOpen:a,schemaType:i,value:o},Si(l.path)))})]})]})}function acr(t){const{marker:e,onOpen:n,schemaType:r,value:i}=t,s=m.useCallback(()=>n(e.path),[e,n]),[o,a]=m.useState(null);return c.jsxs(fI,{onCatch:a,children:[o&&c.jsx(ge,{padding:3,radius:2,tone:"critical",children:c.jsxs(G,{size:1,children:["ERROR: ",o.error.message]})}),!o&&c.jsx(ge,{__unstable_focusRing:!0,as:"button",onClick:s,padding:3,radius:2,tone:scr[e.level],children:c.jsxs(ae,{align:"flex-start",gap:3,children:[c.jsx(N,{flex:"none",children:c.jsx(G,{size:1,children:m.createElement(icr[e.level])})}),c.jsxs(Te,{flex:1,space:2,children:[c.jsx(lcr,{path:e.path,schemaType:r,value:i}),c.jsx(G,{muted:!0,size:1,children:e.item.message})]})]})})]})}function lcr(t){const{path:e,schemaType:n,value:r}=t,i=m.useMemo(()=>rcr({path:e,schemaType:n,value:r}),[e,n,r]);return c.jsx(G,{size:1,children:i.map((s,o)=>c.jsxs(m.Fragment,{children:[o>0&&c.jsx("span",{style:{color:"var(--card-muted-fg-color)",opacity:.5},children:" / "}),c.jsx("span",{style:{fontWeight:500},children:s.title||s.name})]},o))})}function ucr(t){const{documentId:e,documentType:n}=t,{validation:r}=Gie(e,n),i=m.useMemo(()=>r.map(u=>({level:u.level,message:u.item.message,path:u.path})),[r]),s=i.some(Pft),o=i.some(Mft),a=m.useMemo(()=>s?Yu:o?vo:tQ,[s,o]),l=m.useMemo(()=>s?"critical":o?"caution":"positive",[s,o]);return{hidden:i.length===0,icon:a,title:"Validation",tone:l,showAsAction:!0}}const ccr={name:Yur,component:ocr,useMenuItem:ucr},dcr={create:"created",delete:"deleted",discardDraft:"discarded draft",initial:"created",editDraft:"edited",editLive:"live edited",publish:"published",unpublish:"unpublished"},fcr={create:IW,delete:Qo,discardDraft:Rd,initial:IW,editDraft:Ph,editLive:Ph,publish:IC,unpublish:uP};function xtt(t){return dcr[t]}function hcr(t){return fcr[t]}function pcr(t){let{maxLength:e,userIds:n}=t;return c.jsx(X7,{maxLength:e,children:n.map(r=>c.jsx($f,{user:r,withTooltip:!0},r))})}var a4e=Object.freeze,mcr=Object.defineProperty,wC=(t,e)=>a4e(mcr(t,"raw",{value:a4e(e||t.slice())})),l4e,u4e,c4e,d4e,f4e,h4e;const mL=H(ae)(t=>{let{theme:e}=t;var n;const r=(n=e.sanity.color.base.skeleton)==null?void 0:n.from;return qe(l4e||(l4e=wC([`
    --timeline-hairline-width: 1px;
    position: relative;
    z-index: 2;
    margin: 0;
    padding: 0;

    &::before {
      position: absolute;
      content: '';
      height: 100%;
      width: var(--timeline-hairline-width);
      background: `,`;
      top: 0;
      left: calc((100% - var(--timeline-hairline-width)) / 2);
      z-index: 1;
    }
  `])),r)}),gcr=H(Ce)(t=>{let{$selected:e}=t;return qe(c4e||(c4e=wC([`
    position: relative;
    width: 100%;

    /* Line styling */
    &[data-first] `,`::before {
      height: 50%;
      top: unset;
      bottom: 0;
    }

    &[data-last] `,`::before {
      height: 50%;
    }

    `,`
  `])),mL,mL,e&&qe(u4e||(u4e=wC([`
      `,`::before {
        background: transparent;
      }
    `])),mL))}),vcr=H(N)(d4e||(d4e=wC([`
  background: var(--card-bg-color);
  border-radius: 50px;
  position: relative;
  z-index: 2;
`]))),ycr=H(G)(f4e||(f4e=wC([`
  text-transform: capitalize;
`]))),bcr=H(N)(h4e||(h4e=wC([`
  min-width: 1rem;
  margin-left: `,`;
`])),t=>{let{theme:e}=t;return"-".concat(Xe(e.sanity.space[1]))}),p4e={initial:"primary",create:"primary",publish:"positive",editLive:"caution",editDraft:"caution",unpublish:"critical",discardDraft:"critical",delete:"critical",withinSelection:"primary"};function xcr(t){let{chunk:e,isFirst:n,isLast:r,isLatest:i,isSelected:s,onSelect:o,timestamp:a,type:l}=t;const u=hcr(l),d=Array.from(e.authors),f=m.useMemo(()=>{const p=new Date(a);return Ja(p,"MMM d, yyyy, hh:mm a")},[a]),h=m.useCallback(p=>{p.preventDefault(),p.stopPropagation(),o(e)},[o,e]);return c.jsx(gcr,{$selected:s,"data-chunk-id":e.id,"data-first":n?!0:void 0,"data-last":r?!0:void 0,"data-ui":"timelineItem",mode:s?"default":"bleed",onClick:h,padding:0,radius:2,tone:s?"primary":p4e[e.type],children:c.jsx(N,{paddingX:2,children:c.jsxs(ae,{align:"stretch",children:[c.jsx(mL,{align:"center",children:c.jsx(vcr,{padding:2,children:c.jsx(G,{size:2,children:u&&m.createElement(u)})})}),c.jsxs(Te,{space:2,margin:2,children:[i&&c.jsx(ae,{children:c.jsx(ge,{padding:1,radius:2,shadow:1,tone:s?"primary":p4e[e.type],children:c.jsx(jn,{muted:!0,size:0,children:"Latest"})})}),c.jsx(N,{children:c.jsx(ycr,{size:1,weight:"medium",children:xtt(l)||c.jsx("code",{children:l})})}),c.jsx(bcr,{paddingX:1,children:c.jsx(G,{size:0,muted:!0,children:f})})]}),c.jsx(ae,{flex:1,justify:"flex-end",align:"center",children:c.jsx(pcr,{maxLength:3,userIds:d})})]})})})}var m4e=Object.freeze,wcr=Object.defineProperty,b8=(t,e)=>m4e(wcr(t,"raw",{value:m4e(e||t.slice())})),g4e,v4e,y4e,b4e;const _cr=H(Te)(g4e||(g4e=b8([`
  max-width: 200px;
`]))),Ccr=H(ae)(v4e||(v4e=b8([`
  max-height: calc(100vh - 198px);
  min-width: 244px;
`]))),Ecr=H(N)(t=>{let{$visible:e}=t;return qe(b4e||(b4e=b8([`
    opacity: 0;
    pointer-events: none;

    `,`
  `])),e&&qe(y4e||(y4e=b8([`
      opacity: 1;
      pointer-events: auto;
    `]))))}),pZ=t=>{let{chunks:e,disabledBeforeFirstChunk:n,hasMoreChunks:r,lastChunk:i,onLoadMore:s,onSelect:o,firstChunk:a}=t;const[l,u]=m.useState(!1),d=m.useMemo(()=>e.filter(p=>n&&a?p.index<a.index:!0),[e,n,a]),f=m.useMemo(()=>i!=null&&i.id?d.findIndex(p=>p.id===i.id):-1,[i==null?void 0:i.id,d]),h=m.useCallback((p,g)=>{let{activeIndex:v}=g;const y=v===0,x=d&&v===d.length-1||!1;return c.jsxs(N,{paddingBottom:x?1:0,paddingTop:y?1:0,paddingX:1,children:[c.jsx(xcr,{chunk:p,isFirst:y,isLast:x,isLatest:v===0&&!n,isSelected:v===f,onSelect:o,timestamp:p.endTimestamp,type:p.type}),v===d.length-1&&r&&c.jsx(ae,{align:"center",justify:"center",padding:4,children:c.jsx(_s,{muted:!0})})]})},[n,d,r,o,f]);return m.useEffect(()=>u(!0),[]),c.jsxs(Ecr,{$visible:!f||l,"data-ui":"timeline",children:[d.length===0&&c.jsxs(_cr,{padding:3,space:3,children:[c.jsx(G,{size:1,weight:"semibold",children:"No document history"}),c.jsx(G,{muted:!0,size:1,children:"When changing the content of the document, the document versions will appear in this menu."})]}),d.length>0&&c.jsx(Ccr,{direction:"column",children:c.jsx(fE,{activeItemDataAttr:"data-hovered",ariaLabel:"Document revisions",autoFocus:"list",initialIndex:f,initialScrollAlign:"center",itemHeight:40,items:d,onEndReached:s,onEndReachedIndexOffset:20,overscan:5,renderItem:h,wrapAround:!1})})]})};pZ.displayName="Timeline";function Scr(){return c.jsxs(ae,{align:"flex-start",gap:3,padding:4,children:[c.jsx(xs,{tone:"critical",children:c.jsx(Yu,{})}),c.jsxs(Te,{space:4,children:[c.jsx(xs,{size:1,tone:"critical",weight:"semibold",children:"An error occurred whilst retrieving document changes."}),c.jsx(xs,{size:1,tone:"critical",children:"Document history transactions have not been affected."})]})]})}var x4e=Object.freeze,Tcr=Object.defineProperty,kcr=(t,e)=>x4e(Tcr(t,"raw",{value:x4e(e||t.slice())})),w4e;const Acr=H(Ti)(w4e||(w4e=kcr([`
  overflow: hidden;
  overflow: clip;
`])));function Icr(t){let{chunk:e,mode:n,placement:r}=t;const{setTimelineRange:i,setTimelineMode:s,timelineError:o,ready:a,timelineStore:l}=RF(),[u,d]=m.useState(!1),[f,h]=m.useState(null),[p,g]=m.useState(null),v=Na(),y=Dc(l,Q=>Q.chunks),x=Dc(l,Q=>Q.isLoading),b=Dc(l,Q=>Q.hasMoreChunks),_=Dc(l,Q=>Q.realRevChunk),C=Dc(l,Q=>Q.sinceTime),S=m.useCallback(()=>{s(n),d(!0)},[n,s]),T=m.useCallback(()=>{s("closed"),d(!1)},[s]),A=m.useCallback(()=>{u&&T()},[T,u]),k=m.useCallback(Q=>{u&&(Q.key==="Escape"||Q.key==="Tab")&&(T(),f==null||f.focus())},[f,T,u]);ga(A,[f,p]),zf(k);const I=m.useCallback(Q=>{try{const[V,Z]=l.findRangeForRev(Q);s("closed"),i(V,Z)}catch(V){v.push({closable:!0,description:V.message,status:"error",title:"Unable to load revision"})}},[s,i,l,v]),D=m.useCallback(Q=>{try{const[V,Z]=l.findRangeForSince(Q);s("closed"),i(V,Z)}catch(V){v.push({closable:!0,description:V.message,status:"error",title:"Unable to load revision"})}},[s,i,l,v]),R=m.useCallback(()=>{x||l.loadMore()},[x,l]),O=o?c.jsx(Scr,{}):c.jsxs(c.Fragment,{children:[n==="rev"&&c.jsx(pZ,{chunks:y,firstChunk:_,hasMoreChunks:b,lastChunk:_,onLoadMore:R,onSelect:I}),n==="since"&&c.jsx(pZ,{chunks:y,disabledBeforeFirstChunk:!0,firstChunk:_,hasMoreChunks:b,lastChunk:C,onLoadMore:R,onSelect:D})]}),L=Dcr((e==null?void 0:e.endTimestamp)||""),P=e?"".concat(kVe(xtt(e.type)),": ").concat(L):"Latest version",$=e?"Since: ".concat(L):"Since: unknown version",B=n==="rev"?P:$;return c.jsx(Acr,{constrainSize:!0,content:u&&O,"data-ui":"versionMenu",open:u,placement:r,portal:!0,ref:g,children:c.jsx(Ce,{disabled:!a,mode:"bleed",fontSize:1,padding:2,iconRight:C0,onClick:u?T:S,ref:h,selected:u,style:{maxWidth:"100%"},text:a?B:"Loading history"})})}function Dcr(t){return m.useMemo(()=>{const n=t?new Date(t):new Date;return Ja(n,"MMM d, yyyy, hh:mm a")},[t])}function Rcr(){return c.jsx(dlr,{ms:300,children:c.jsxs(ae,{align:"center",direction:"column",height:"fill",justify:"center",paddingTop:3,children:[c.jsx(_s,{muted:!0}),c.jsx(N,{marginTop:3,children:c.jsx(G,{align:"center",muted:!0,size:1,children:"Loading changes"})})]})})}function jcr(t){const e=new Map;return S$(t,n=>{if(n.action==="unchanged"||!("annotation"in n)||!n.annotation)return!0;const{author:r,timestamp:i}=n.annotation,s=e.get(r);return(!s||s.timestamp<i)&&e.set(r,n.annotation),!0}),Array.from(e.values()).sort((n,r)=>n.timestamp<r.timestamp?1:-1)}var _4e=Object.freeze,Ocr=Object.defineProperty,Lcr=(t,e)=>_4e(Ocr(t,"raw",{value:_4e(e||t.slice())})),C4e;const Pcr=H(gre)(C4e||(C4e=Lcr([`
  height: 100%;
  overflow: auto;
  position: relative;
  scroll-behavior: smooth;
`])));function Mcr(t){const{onClose:e}=t,{documentId:n,schemaType:r,timelineError:i,timelineStore:s,value:o}=RF(),a=m.useRef(null),l=Dc(s,y=>y.diff),u=Dc(s,y=>y.onOlderRevision),d=Dc(s,y=>y.selectionState),f=Dc(s,y=>y.sinceTime),h=d==="loading",p=!u,g=re.useMemo(()=>({documentId:n,schemaType:r,FieldWrapper:n2n,rootDiff:l,isComparingCurrent:p,value:o}),[n,l,p,r,o]),v=re.useMemo(()=>l?jcr(l):[],[l]);return c.jsxs(ae,{"data-testid":"review-changes-pane",direction:"column",height:"fill",overflow:"hidden",children:[c.jsx(vtt,{as:"header",closeButtonLabel:"Close review changes",flex:"none",onClose:e,title:"Review changes",children:c.jsxs(ae,{gap:1,padding:3,paddingTop:0,paddingBottom:2,children:[c.jsx(N,{flex:1,children:c.jsx(Icr,{mode:"since",chunk:f,placement:"bottom-start"})}),c.jsx(N,{flex:"none",children:c.jsx(Nu,{annotations:v,description:"Changes by",portal:!0,children:c.jsx(X7,{maxLength:4,"aria-label":"Changes by",children:v.map(y=>{let{author:x}=y;return c.jsx($f,{user:x},x)})})})})]})}),c.jsx(ge,{flex:1,children:c.jsx(Q7,{element:a.current,children:c.jsx(Pcr,{"data-ui":"Scroller",ref:a,children:c.jsx(N,{flex:1,padding:4,children:c.jsx($cr,{diff:l,documentContext:g,error:i,loading:h,schemaType:r})})})})})]})}function $cr(t){let{error:e,diff:n,documentContext:r,loading:i,schemaType:s}=t;return e?c.jsx(tK,{}):i?c.jsx(Rcr,{}):n?c.jsx(Qqe.Provider,{value:r,children:c.jsx(ZI,{diff:n,schemaType:s})}):c.jsx(tK,{})}const Fcr={name:hZ,useMenuItem:()=>{const{features:t}=btt();return{hidden:!t.reviewChanges,icon:uQ,title:"Review changes"}},component:Mcr,onClose:t=>{let{params:e}=t;return{params:{...e,since:void 0}}},onOpen:t=>{let{params:e}=t;return{params:{...e,since:"@lastPublished"}}}},Bcr=[ftt,htt,ltt,utt,att,ctt],Ncr=[kur],Vcr=[ccr,Fcr],Ucr=Ey(t=>({name:"@sanity/desk-tool",document:{actions:e=>Array.from(new Set([...e,...Bcr])),badges:e=>Array.from(new Set([...e,...Ncr])),inspectors:e=>Array.from(new Set([...e,...Vcr]))},tools:[{name:(t==null?void 0:t.name)||"desk",title:(t==null?void 0:t.title)||"Desk",icon:(t==null?void 0:t.icon)||IMe,component:m.lazy(()=>vI(()=>import("./index-990e561a-5c7b8852.js"),["static/index-990e561a-5c7b8852.js","static/index-5ca23509.js"]).then(function(e){return e.index})),canHandleIntent:(e,n)=>!!(e==="edit"&&n.id||e==="create"&&n.type||e==="create"&&n.template),getIntentState:Iur,options:t,router:Mur}]}));function Hcr(t){let{currentInspector:e,hasValue:n,inspectors:r,inspectorMenuItems:i}=t;return r.map((s,o)=>{var a;const l=i[o];return!l||l.hidden?null:{action:"".concat(fZ).concat(s.name),group:l.showAsAction?void 0:"inspectors",icon:l.icon,isDisabled:!n,selected:(e==null?void 0:e.name)===s.name,shortcut:(a=l.hotkeys)==null?void 0:a.join("+"),showAsAction:l.showAsAction,title:l.title,tone:l.tone}}).filter(Boolean)}function zcr(t){let{hasValue:e}=t;return{action:"inspect",group:"inspectors",title:"Inspect",icon:AC,isDisabled:!e,shortcut:"Ctrl+Alt+I"}}function Wcr(t){let{previewUrl:e}=t;return e?{action:"production-preview",group:"links",title:"Open preview",icon:CMe,shortcut:"Ctrl+Alt+O"}:null}function Gcr(t){const e=Hcr(t),n=[Wcr(t)].filter(Boolean);return[...e,zcr(t),...n]}const qcr=t=>Jn(t)&&typeof t._id=="string"&&typeof t._type=="string";function Ycr(t){const[e,n]=m.useState(void 0),[r,i]=m.useState(null),{resolveProductionUrl:s}=Zs().document,o=a4t(t);if(r)throw r;return m.useEffect(()=>{o.pipe(o9(500),Kt(a=>qcr(a)?Vr(s({document:a})):Re(void 0)),Or(a=>{const l=Jn(a)&&typeof a.message=="string"?a.message:"Unknown error";throw new Error("An error was thrown while trying to get your preview url: ".concat(l))})).subscribe({next:n,error:i})},[s,o]),e}function Kcr(t,e){const n=e.panePayload||{},r=e.templateName;e.urlTemplate&&r&&r!==e.urlTemplate&&console.warn('Conflicting templates: URL says "'.concat(e.urlTemplate,'", structure node says "').concat(r,'". Using "').concat(r,'".'));const i=r||e.urlTemplate,s=t.filter(l=>l.schemaType===e.documentType),o={...e.templateParams,...typeof n=="object"?n||{}:{}};let a=i;return!i&&s.length===1&&(a=s[0].id),{templateName:a,templateParams:o}}const Zcr=m.memo(function(e){const{documentId:n,documentType:r,index:i,setMenuItem:s,useMenuItem:o}=e,a=uu(o({documentId:n,documentType:r}));return m.useEffect(()=>{s(i,a)},[i,a,s]),c.jsx(c.Fragment,{})});function Xcr(t){const{documentId:e,documentType:n,inspectors:r,onMenuItems:i}=t,s=r.length,o=m.useRef(s),[a,l]=m.useState(()=>Array.from(new Array(s))),u=m.useRef(a);m.useEffect(()=>{if(o.current!==s){const f=Array.from(new Array(s));for(let h=0;h<s;h++)f[h]=u.current[h];o.current=s,l(()=>(u.current=f,f))}},[s]);const d=m.useCallback((f,h)=>{l(p=>{const g=[...p];return g[f]=h,u.current=g,g})},[]);return m.useEffect(()=>{i(a.filter(Boolean))},[a,i]),c.jsx(c.Fragment,{children:r.map((f,h)=>f.useMenuItem&&c.jsx(Zcr,{documentId:e,documentType:n,index:h,setMenuItem:d,useMenuItem:f.useMenuItem},f.name))})}const Qcr=m.memo(t=>{const{children:e,index:n,pane:r,paneKey:i}=t,s=es(),o=nD(),{actions:a,badges:l,unstable_fieldActions:u,unstable_languageFilter:d,inspectors:f}=Zs().document,h=nse(),p=Qse(),g=p.setParams,{features:v}=btt(),{push:y}=Na(),{options:x,menuItemGroups:b=qur,title:_=null,views:C=[]}=r,S=uu(x),T=S.id,A=Ks(T),k=x.type,I=uu(p.params)||Gur,D=uu(p.payload),{templateName:R,templateParams:O}=m.useMemo(()=>Kcr(o,{documentType:k,templateName:S.template,templateParams:S.templateParameters,panePayload:D,urlTemplate:I.template}),[k,S,I,D,o]),L=YWn({documentId:A,documentType:k,templateName:R,templateParams:O}),P=uu(L),{patch:$}=Mm(A,k),B=EXe(A,k),{validation:Q}=Gie(A,k),V=Jzn(A,k),Z=s.get(k),ie=(B==null?void 0:B.draft)||(B==null?void 0:B.published)||P.value,[J,X]=m.useState([]),fe=m.useMemo(()=>a({schemaType:k,documentId:A}),[a,A,k]),ue=m.useMemo(()=>l({schemaType:k,documentId:A}),[l,A,k]),te=m.useMemo(()=>d({schemaType:k,documentId:A}),[A,k,d]),F=uu(Q),ne=uu(C),[ce,me]=m.useState(()=>I.path?rP(I.path):[]),pe=I.view||ne[0]&&ne[0].id||null,[Ie,xe]=m.useState("closed"),[Pe,we]=m.useState(null),De=eqn({documentId:A,documentType:k,onError:we,rev:I.rev,since:I.since}),de=Dc(De,Yt=>Yt.onOlderRevision),be=Dc(De,Yt=>Yt.revTime),ve=Dc(De,Yt=>Yt.sinceAttributes),ze=Dc(De,Yt=>Yt.timelineDisplayed),He=Dc(De,Yt=>Yt.timelineReady),Ne=Ycr(ie),[Fe,nt]=m.useState([]);m.useEffect(()=>{const Yt=h.documentPresence(A).subscribe(xi=>{nt(xi)});return()=>{Yt.unsubscribe()}},[A,h]);const Ye=m.useMemo(()=>f({documentId:A,documentType:k}),[A,k,f]),[Ge,Ct]=m.useState(()=>I.inspect||null),wt=m.useRef(I.inspect);m.useEffect(()=>{wt.current!==I.inspect&&(wt.current=I.inspect,Ct(I.inspect||null))},[I.inspect]);const pt=Ye==null?void 0:Ye.find(Yt=>Yt.name===Ge),on=Ye.find(Yt=>Yt.name===hZ),mn=(pt==null?void 0:pt.name)===hZ,gn=!!ie,br=m.useMemo(()=>Gcr({currentInspector:pt,features:v,hasValue:gn,inspectorMenuItems:J,inspectors:Ye,previewUrl:Ne}),[pt,v,gn,J,Ye,Ne]),yo=I.inspect==="on",Kn=mn?ve:(B==null?void 0:B.published)||null,ti=m.useMemo(()=>Z?u({documentId:A,documentType:k,schemaType:Z}):[],[A,k,u,Z]),Hi=V==="connected"&&B.ready&&(He||!!Pe),ea=m.useMemo(()=>de?ze||{_id:ie._id,_type:ie._type}:ie,[de,ze,ie]),ul=m.useCallback((Yt,xi)=>{g({...I,since:Yt,rev:xi||void 0})},[I,g]),nc=m.useCallback(Yt=>{me(Yt),h.setLocation([{type:"document",documentId:A,path:Yt,lastActiveAt:new Date().toISOString()}])},[A,h,me]),rc=m.useCallback(Yt=>{me([])},[me]),ni=m.useRef(()=>{throw new Error("Nope")});ni.current=Yt=>{$.execute(Yqn(Yt.patches),P.value)};const Fs=m.useCallback(Yt=>ni.current(Yt),[]),Ss=m.useCallback(Yt=>{var xi,ii,bo,Xc;const sc=Yt&&Ye.find(Mo=>Mo.name===Yt);if(Yt&&!sc){console.warn('No inspector named "'.concat(Yt,'"'));return}if(pt){if(sc){const Mo=(ii=(xi=sc.onClose)==null?void 0:xi.call(sc,{params:I}))!=null?ii:{params:I};Ct(null),wt.current=void 0,g({...Mo.params,inspect:void 0});return}if(pt){const Mo=(Xc=(bo=pt.onClose)==null?void 0:bo.call(pt,{params:I}))!=null?Xc:{params:I};Ct(null),wt.current=void 0,g({...Mo.params,inspect:void 0})}}},[pt,Ye,I,g]),Dt=m.useCallback((Yt,xi)=>{var ii,bo,Xc,sc;const Mo=Ye.find(By=>By.name===Yt);if(!Mo){console.warn('No inspector named "'.concat(Yt,'"'));return}if((pt==null?void 0:pt.name)===Mo.name){g({...I,...xi,inspect:Mo.name});return}let Vd=I;pt&&(Vd=((bo=(ii=Mo.onClose)==null?void 0:ii.call(Mo,{params:Vd}))!=null?bo:{params:Vd}).params);const PE=(sc=(Xc=Mo.onOpen)==null?void 0:Xc.call(Mo,{params:Vd}))!=null?sc:{params:Vd};Ct(Mo.name),wt.current=Mo.name,g({...PE.params,...xi,inspect:Mo.name})},[pt,Ye,I,g]),$n=m.useCallback(()=>{on&&Ss(on.name)},[Ss,on]),fi=m.useCallback(()=>{v.reviewChanges&&on&&Dt(on.name)},[v.reviewChanges,Dt,on]),ri=m.useCallback(()=>p.closeCurrent(),[p]),$l=m.useCallback(()=>p.duplicateCurrent(),[p]),ts=m.useCallback(function(){let Yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!yo;g(Yt?{...I,inspect:"on"}:Al(I,"inspect"))},[yo,I,g]),ya=m.useCallback(Yt=>{if(Yt.action==="production-preview"&&Ne)return window.open(Ne),!0;if(Yt.action==="inspect")return ts(!0),!0;if(Yt.action==="reviewChanges")return fi(),!0;if(typeof Yt.action=="string"&&Yt.action.startsWith(fZ)){const xi=Yt.action.slice(fZ.length),ii=Ye.find(bo=>bo.name===xi);if(ii)return ii.name===Ge?Ss(ii.name):Dt(ii.name),!0}return!1},[Ss,fi,Ge,Ye,Dt,Ne,ts]),ta=m.useCallback(Yt=>{for(const xi of br)if(xi.shortcut&&Iu(xi.shortcut,Yt)){Yt.preventDefault(),Yt.stopPropagation(),ya(xi);return}},[ya,br]),wu=m.useCallback(()=>ts(!1),[ts]),[$d,U0]=m.useState([]),[Fd,Zc]=m.useState(),[rp,Ow]=m.useState(),[Oy,Ly]=m.useState(),Py=m.useCallback((Yt,xi)=>{Ow(ii=>Rb(ii,Yt,xi))},[]),Lw=m.useCallback((Yt,xi)=>{Ly(ii=>Rb(ii,Yt,xi))},[]),OE=m.useCallback((Yt,xi)=>Zc(ii=>Rb(ii,Yt,xi)),[]),LE=ie._createdAt?"update":"create",ic=!!(Z!=null&&Z.liveEdit),My=ie._id?ie._id:"dummy-id",Pw=m.useMemo(()=>({...ie,_id:ic?Ks(My):Ll(My)}),[ic,ie,My]),[Nm,ip]=eGn({document:Pw,permission:LE}),$y=!(ie!=null&&ie._id),Vm=m.useMemo(()=>{var Yt;const xi=!ip&&!(Nm!=null&&Nm.granted),ii=!v0e(Z,"update"),bo=$y&&!v0e(Z,"create"),Xc=V==="reconnecting",sc=(Yt=B.transactionSyncLock)==null?void 0:Yt.enabled;return!Hi||be!==null||xi||ii||bo||Xc||sc},[V,$y,ip,Nm==null?void 0:Nm.granted,Hi,be,Z,B.transactionSyncLock]),Bd=qqn(Z,{value:ea,readOnly:Vm,comparisonValue:Kn,focusPath:ce,openPath:$d,collapsedPaths:rp,presence:Fe,validation:F,collapsedFieldSets:Oy,fieldGroupState:Fd,changesOpen:mn}),Nd=m.useRef(Bd);Nd.current=Bd;const Fy=m.useCallback(Yt=>{Oqn(Nd.current,Yt).forEach(ii=>{ii.type==="expandPath"&&Ow(bo=>Rb(bo,ii.path,!1)),ii.type==="expandFieldSet"&&Ly(bo=>Rb(bo,ii.path,!1)),ii.type==="setSelectedGroup"&&Zc(bo=>Rb(bo,ii.path,ii.groupName))}),U0(Yt)},[Nd]),Mw={actions:fe,activeViewId:pe,badges:ue,changesOpen:mn,closeInspector:Ss,collapsedFieldSets:Oy,collapsedPaths:rp,compareValue:Kn,connectionState:V,displayed:ea,documentId:A,documentIdRaw:T,documentType:k,editState:B,fieldActions:ti,focusPath:ce,inspector:pt||null,inspectors:Ye,menuItems:br,onBlur:rc,onChange:Fs,onFocus:nc,onPathOpen:Fy,onHistoryClose:$n,onHistoryOpen:fi,onInspectClose:wu,onKeyUp:ta,onMenuAction:ya,onPaneClose:ri,onPaneSplit:$l,onSetActiveFieldGroup:OE,onSetCollapsedPath:Py,onSetCollapsedFieldSet:Lw,openInspector:Dt,index:n,inspectOpen:yo,validation:F,menuItemGroups:b||[],paneKey:i,previewUrl:Ne,ready:Hi,schemaType:Z,isPermissionsLoading:ip,permissions:Nm,setTimelineMode:xe,setTimelineRange:ul,timelineError:Pe,timelineMode:Ie,timelineStore:De,title:_,value:ie,views:ne,formState:Bd,unstable_languageFilter:te};m.useEffect(()=>{V==="reconnecting"&&y({id:"sanity/desk/reconnecting",status:"warning",title:c.jsx(c.Fragment,{children:"Connection lost. Reconnecting"})})},[V,y]),m.useEffect(()=>{var Yt;if(Hi&&I.path){const{path:xi,...ii}=I,bo=lht((Yt=Nd.current)==null?void 0:Yt.value,rP(xi));me(bo),Fy(bo),p.setParams(ii)}},[I,A,Fy,Hi,p]);const[Um,$w]=m.useState([]);return c.jsxs(dtt.Provider,{value:Mw,children:[Ye.length>0&&c.jsx(Xcr,{documentId:A,documentType:k,inspectors:Ye,onMenuItems:X}),ti.length>0&&Z&&c.jsx(qI,{actions:ti,documentId:A,documentType:k,onActions:$w,path:vs,schemaType:Z}),c.jsx(XI,{actions:Um,path:vs,children:e})]})});Qcr.displayName="DocumentPaneProvider";var Jcr=Object.defineProperty,edr=(t,e,n)=>e in t?Jcr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,E4e=(t,e,n)=>(edr(t,typeof e!="symbol"?e+"":e,n),n);class ei extends Error{constructor(e,n,r,i){super(e),E4e(this,"path"),E4e(this,"helpId");const s=typeof r>"u"?"<unknown>":"".concat(r);this.path=(n||[]).concat(i?"".concat(s," (").concat(i,")"):s)}withHelpUrl(e){return this.helpId=e,this}}var ls=(t=>(t.ID_REQUIRED="structure-node-id-required",t.TITLE_REQUIRED="structure-title-required",t.FILTER_REQUIRED="structure-filter-required",t.INVALID_LIST_ITEM="structure-invalid-list-item",t.COMPONENT_REQUIRED="structure-view-component-required",t.DOCUMENT_ID_REQUIRED="structure-document-id-required",t.DOCUMENT_TYPE_REQUIRED="structure-document-type-required",t.SCHEMA_TYPE_REQUIRED="structure-schema-type-required",t.SCHEMA_TYPE_NOT_FOUND="structure-schema-type-not-found",t.LIST_ITEMS_MUST_BE_ARRAY="structure-list-items-must-be-array",t.QUERY_PROVIDED_FOR_FILTER="structure-query-provided-for-filter",t.ACTION_OR_INTENT_REQUIRED="structure-action-or-intent-required",t.LIST_ITEM_IDS_MUST_BE_UNIQUE="structure-list-item-ids-must-be-unique",t.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE="structure-action-and-intent-mutually-exclusive",t))(ls||{});const tdr=["_id","_type","_createdAt","_updatedAt","_rev"];function mZ(t,e){const[n,...r]=e;if(!("fields"in t))return"";const i=t.fields.find(a=>a.name===n);if(!i)return tdr.includes(n)||console.warn('The current ordering config targeted the nonexistent field "%s" on schema type "%s". It should be one of %o',n,t.name,t.fields.map(a=>a.name)),"";if("to"in i.type&&i.type.name==="reference"){const a=i.type.to;return"".concat(n,"->{").concat(a.map(l=>mZ(l,r)).join(","),"}")}const s=r.length>0&&mZ(i.type,r),o=s?"{".concat(s,"}"):"";return r.length>0?"".concat(n).concat(o):n}function ndr(t,e){return e.map(n=>mZ(t,n.field.split("."))).join(", ")}const wtt={title:"Last edited",name:"lastEditedDesc",by:[{field:"_updatedAt",direction:"desc"}]},rdr={title:"Created",name:"lastCreatedDesc",by:[{field:"_createdAt",direction:"desc"}]},idr=wtt,S4e=[wtt,rdr];var sdr=Object.defineProperty,odr=(t,e,n)=>e in t?sdr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,adr=(t,e,n)=>(odr(t,typeof e!="symbol"?e+"":e,n),n);function _tt(t,e,n){return t instanceof ey?t.serialize({path:n,index:e}):t}class ey{constructor(e,n){this._context=e,adr(this,"spec"),this.spec=n||{}}action(e){return this.clone({action:e})}getAction(){return this.spec.action}intent(e){return this.clone({intent:e})}getIntent(){return this.spec.intent}title(e){return this.clone({title:e})}getTitle(){return this.spec.title}group(e){return this.clone({group:e})}getGroup(){return this.spec.group}icon(e){return this.clone({icon:e})}getIcon(){return this.spec.icon}params(e){return this.clone({params:e})}getParams(){return this.spec.params}showAsAction(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({showAsAction:!!e})}getShowAsAction(){return this.spec.showAsAction}serialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{title:n,action:r,intent:i}=this.spec;if(!n){const s=typeof r=="string"?'action: "'.concat(r,'"'):void 0;throw new ei("`title` is required for menu item",e.path,e.index,s).withHelpUrl(ls.TITLE_REQUIRED)}if(!r&&!i)throw new ei("`action` or `intent` required for menu item with title ".concat(this.spec.title),e.path,e.index,'"'.concat(n,'"')).withHelpUrl(ls.ACTION_OR_INTENT_REQUIRED);if(i&&r)throw new ei("cannot set both `action` AND `intent`",e.path,e.index,'"'.concat(n,'"')).withHelpUrl(ls.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE);return{...this.spec,title:n}}clone(e){const n=new ey(this._context);return n.spec={...this.spec,...e||{}},n}}function Ctt(t,e,n){return new ey(t).group("sorting").title("Sort by ".concat(e.title)).icon(v7).action("setSortOrder").params({by:e.by,extendedProjection:n})}function Ett(t,e){const{schema:n}=t,r=typeof e=="string"?n.get(e):e;return!r||!("orderings"in r)?[]:(r.orderings?r.orderings.concat(S4e):S4e).map(i=>Ctt(t,i,ndr(r,i.by)))}var ldr=Object.defineProperty,udr=(t,e,n)=>e in t?ldr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,T4e=(t,e,n)=>(udr(t,typeof e!="symbol"?e+"":e,n),n);function Stt(t,e,n){return t instanceof C3?t.serialize({path:n,index:e}):t}class C3{constructor(e,n){this._context=e,T4e(this,"_id"),T4e(this,"_title"),this._id=n?n.id:"",this._title=n?n.title:""}id(e){return new C3(this._context,{id:e,title:this._title})}getId(){return this._id}title(e){return new C3(this._context,{id:this._id,title:e})}getTitle(){return this._title}serialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{_id:n,_title:r}=this;if(!n)throw new ei("`id` is required for a menu item group",e.path,e.index,r).withHelpUrl(ls.ID_REQUIRED);if(!r)throw new ei("`title` is required for a menu item group",e.path,n).withHelpUrl(ls.TITLE_REQUIRED);return{id:n,title:r}}}const Ttt=/([^A-Za-z0-9-_.])/;function ED(t,e,n){if(typeof t!="string")throw new ei("Structure node id must be of type string, got ".concat(typeof t),e,n);const[r]=t.match(Ttt)||[];if(r)throw new ei('Structure node id cannot contain character "'.concat(r,'"'),e,n);if(t.startsWith("__edit__"))throw new ei("Structure node id cannot start with __edit__",e,n);return t}function jF(t,e){if(e)return e;const n=TRe(t);return Ttt.test(n)?TRe(EWe(t)):n}var cdr=Object.defineProperty,ddr=(t,e,n)=>e in t?cdr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fdr=(t,e,n)=>(ddr(t,typeof e!="symbol"?e+"":e,n),n);class E3{constructor(e){fdr(this,"spec"),this.spec={options:{},...e||{}}}id(e){return this.clone({id:e})}getId(){return this.spec.id}title(e){return this.clone({title:e,id:jF(e,this.spec.id)})}getTitle(){return this.spec.title}child(e){return this.clone({child:e})}getChild(){return this.spec.child}component(e){return this.clone({component:e})}getComponent(){return this.spec.component}options(e){return this.clone({options:e})}getOptions(){return this.spec.options||{}}menuItems(e){return this.clone({menuItems:e})}getMenuItems(){return this.spec.menuItems}menuItemGroups(e){return this.clone({menuItemGroups:e})}getMenuItemGroups(){return this.spec.menuItemGroups}serialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,child:i,options:s,component:o}=this.spec;if(!n)throw new ei("`id` is required for `component` structure item",e.path,e.index).withHelpUrl(ls.ID_REQUIRED);if(!o)throw new ei("`component` is required for `component` structure item",e.path,e.index).withHelpUrl(ls.ID_REQUIRED);return{id:ED(n,e.path,e.index),title:r,type:"component",child:i,component:o,options:s||{},menuItems:(this.spec.menuItems||[]).map((a,l)=>_tt(a,l,e.path)),menuItemGroups:(this.spec.menuItemGroups||[]).map((a,l)=>Stt(a,l,e.path))}}clone(e){const n=new E3;return n.spec={...this.spec,...e||{}},n}}async function ktt(t,e){const n="*[_id in [$documentId, $draftId]]._type",r=Ks(e),i=Ll(e);return(await t(us).fetch(n,{documentId:r,draftId:i},{tag:"structure.resolve-type"}))[0]}var hdr=Object.defineProperty,pdr=(t,e,n)=>e in t?hdr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mdr=(t,e,n)=>(pdr(t,typeof e!="symbol"?e+"":e,n),n);class toe{constructor(){mdr(this,"spec",{})}id(e){return this.clone({id:e})}getId(){return this.spec.id}title(e){return this.clone({title:e,id:this.spec.id||clr(e)})}getTitle(){return this.spec.title}icon(e){return this.clone({icon:e})}getIcon(){return this.spec.icon}serialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,icon:i}=this.spec;if(!n)throw new ei("`id` is required for view item",e.path,e.index).withHelpUrl(ls.ID_REQUIRED);if(!r)throw new ei("`title` is required for view item",e.path,e.index).withHelpUrl(ls.TITLE_REQUIRED);return{id:ED(n,e.path,e.index),title:r,icon:i}}}function gdr(t){return typeof t.serialize=="function"}function Att(t,e,n){return gdr(t)?t.serialize({path:n,index:e}):t}var vdr=Object.defineProperty,ydr=(t,e,n)=>e in t?vdr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bdr=(t,e,n)=>(ydr(t,typeof e!="symbol"?e+"":e,n),n);const xdr=t=>Jn(t)&&t.type==="component";class OF extends toe{constructor(e){const n=xdr(e)?{...e}:{options:{}};super(),bdr(this,"spec"),this.spec=n;const r=typeof e=="function"?e:this.spec.component;r&&(this.spec=this.component(r).spec)}component(e){return this.clone({component:e})}getComponent(){return this.spec.component}options(e){return this.clone({options:e})}getOptions(){return this.spec.options||{}}serialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=super.serialize(e),r=this.spec.component;if(typeof r!="function")throw new ei("`component` is required and must be a function for `component()` view item",e.path,e.index).withHelpUrl(ls.COMPONENT_REQUIRED);return{...n,component:r,options:this.spec.options||{},type:"component"}}clone(e){const n=new OF;return n.spec={...this.spec,...e||{}},n}}var wdr=Object.defineProperty,_dr=(t,e,n)=>e in t?wdr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Cdr=(t,e,n)=>(_dr(t,typeof e!="symbol"?e+"":e,n),n);class LF extends toe{constructor(e){super(),Cdr(this,"spec"),this.spec={id:"editor",title:"Editor",...e||{}}}serialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};return{...super.serialize(e),type:"form"}}clone(e){const n=new LF;return n.spec={...this.spec,...e||{}},n}}const Itt=t=>new LF(t),Edr=t=>new OF(t);var Sdr=Object.freeze({__proto__:null,ComponentViewBuilder:OF,FormViewBuilder:LF,GenericViewBuilder:toe,component:Edr,form:Itt,maybeSerializeView:Att}),Tdr=Object.defineProperty,kdr=(t,e,n)=>e in t?Tdr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Adr=(t,e,n)=>(kdr(t,typeof e!="symbol"?e+"":e,n),n);const Idr=t=>{let{resolveDocumentNode:e,getClient:n}=t;return async(r,i)=>{let{params:s,path:o}=i,a=s.type;const l=o.slice(0,o.length-1),u=o[o.length-1];if(a||(a=await ktt(n,r)),!a)throw new ei("Failed to resolve document, and no type provided in parameters.",l,u);return e({documentId:r,schemaType:a})}};class ty{constructor(e,n){this._context=e,Adr(this,"spec"),this.spec=n||{}}id(e){return this.clone({id:e})}getId(){return this.spec.id}title(e){return this.clone({title:e,id:jF(e,this.spec.id)})}getTitle(){return this.spec.title}child(e){return this.clone({child:e})}getChild(){return this.spec.child}documentId(e){const n=this.spec.id||e;return this.clone({id:n,options:{...this.spec.options||{},id:e}})}getDocumentId(){var e;return(e=this.spec.options)==null?void 0:e.id}schemaType(e){return this.clone({options:{...this.spec.options||{},type:typeof e=="string"?e:e.name}})}getSchemaType(){var e;return(e=this.spec.options)==null?void 0:e.type}initialValueTemplate(e,n){return this.clone({options:{...this.spec.options||{},template:e,templateParameters:n}})}getInitialValueTemplate(){var e;return(e=this.spec.options)==null?void 0:e.template}getInitialValueTemplateParameters(){var e;return(e=this.spec.options)==null?void 0:e.templateParameters}views(e){return this.clone({views:e})}getViews(){return this.spec.views||[]}serialize(){let{path:e=[],index:n,hint:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const i=e[n||e.length-1],s=this.spec.id||i&&"".concat(i)||"",o={id:s,type:void 0,template:void 0,templateParameters:void 0,...this.spec.options};if(typeof s!="string"||!s)throw new ei("`id` is required for document nodes",e,n,r).withHelpUrl(ls.ID_REQUIRED);if(!o||!o.id)throw new ei("document id (`id`) is required for document nodes",e,s,r).withHelpUrl(ls.DOCUMENT_ID_REQUIRED);if(!o||!o.type)throw new ei("document type (`schemaType`) is required for document nodes",e,s,r);const a=(this.spec.views&&this.spec.views.length>0?this.spec.views:[Itt()]).map((d,f)=>Att(d,f,e)),l=a.map(d=>d.id),u=ha(l.filter((d,f)=>l.includes(d,f+1)));if(u.length>0)throw new ei("document node has views with duplicate IDs: ".concat(u.join(",  ")),e,s,r);return{...this.spec,child:this.spec.child||Idr(this._context),id:ED(s,e,n),type:"document",options:Ddr(o),views:a}}clone(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new ty(this._context),r={...this.spec.options||{},...e.options||{}};return n.spec={...this.spec,...e,options:r},n}}function Ddr(t){const e={id:t.id||"",type:t.type||"*"};return t.template&&(e.template=t.template),t.templateParameters&&(e.templateParameters=t.templateParameters),e}function Rdr(t,e){let n=e!=null&&e.type?t.resolveDocumentNode({schemaType:e.type}):new ty(t);if(!e)return n;const{id:r,type:i,template:s,templateParameters:o}=e.options;return n=n.id(e.id).documentId(r),i&&(n=n.schemaType(i)),s&&(n=n.initialValueTemplate(s,o)),e.child&&(n=n.child(e.child)),n}function jdr(t,e,n){let{resolveDocumentNode:r,templates:i}=t;const s=i.find(o=>o.id===e);if(!s)throw new Error('Template with ID "'.concat(e,'" not defined'));return r({schemaType:s.schemaType}).initialValueTemplate(e,n)}const k4e=["default","card","media","detail","block"],Dtt=Symbol("Document type list canHandleIntent"),noe=(t,e,n)=>{let{pane:r}=n;var i,s;const o=t==="edit",a=t==="create",l=r,u=((i=l.options)==null?void 0:i.filter)||"",d=((s=l.options)==null?void 0:s.params)||{},f=l.schemaTypeName?[l.schemaTypeName]:roe(u,d),h=l.initialValueTemplates||[];return a&&e.template?h.some(p=>p.templateId===e.template):o&&e.id&&f.includes(e.type)||a&&f.includes(e.type)};noe.identity=Dtt;var Odr=Object.defineProperty,Ldr=(t,e,n)=>e in t?Odr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pdr=(t,e,n)=>(Ldr(t,typeof e!="symbol"?e+"":e,n),n);class PF{constructor(e,n){this._context=e,Pdr(this,"spec"),this.spec=n||{}}id(e){return this.clone({id:e})}getId(){return this.spec.id}title(e){return this.clone({title:e})}getTitle(){return this.spec.title}description(e){return this.clone({description:e})}getDescription(){return this.spec.description}templateId(e){const n=this.spec.id||e;return this.clone({id:n,templateId:e})}getTemplateId(){return this.spec.templateId}parameters(e){return this.clone({parameters:e})}getParameters(){return this.spec.parameters}serialize(){let{path:e=[],index:n,hint:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{spec:i,_context:s}=this,{templates:o}=s;if(typeof i.id!="string"||!i.id)throw new ei("`id` is required for initial value template item nodes",e,n,r).withHelpUrl(ls.ID_REQUIRED);if(!i.templateId)throw new ei("template id (`templateId`) is required for initial value template item nodes",e,i.id,r).withHelpUrl(ls.ID_REQUIRED);const a=o.find(l=>l.id===i.templateId);if(!a)throw new ei("template id (`templateId`) is required for initial value template item nodes",e,i.id,r).withHelpUrl(ls.ID_REQUIRED);return{id:i.id,templateId:i.id,schemaType:a.schemaType,type:"initialValueTemplateItem",description:i.description||a.description,title:i.title||a.title,subtitle:i.subtitle,icon:i.icon||a.icon,initialDocumentId:i.initialDocumentId,parameters:i.parameters}}clone(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new PF(this._context);return n.spec={...this.spec,...e},n}}function Mdr(t){const{schema:e,getStructureBuilder:n,templates:r}=t,i=e.getTypeNames();return r.filter(o=>{var a;return!((a=o.parameters)!=null&&a.length)}).sort((o,a)=>i.indexOf(o.schemaType)-i.indexOf(a.schemaType)).map(o=>n().initialValueTemplateItem(o.id))}function $dr(t,e,n){return t instanceof PF?t.serialize({path:n,index:e}):t}function Fdr(t,e){const{schema:n,templates:r}=t;return e.map(i=>{const s=r.find(d=>d.id===i.templateId),o=i.title||(s==null?void 0:s.title)||"Create new",a=eYt({type:s&&s.schemaType,template:i.templateId},Boolean),l=i.parameters?[a,i.parameters]:a,u=s&&n.get(s.schemaType);return new ey(t).title(o).icon(s&&s.icon||(u==null?void 0:u.icon)||mx).intent({type:"create",params:l}).serialize()})}var Bdr=Object.defineProperty,Ndr=(t,e,n)=>e in t?Bdr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,A4e=(t,e,n)=>(Ndr(t,typeof e!="symbol"?e+"":e,n),n);function Vdr(){}const Rtt=(t,e,n)=>{let{pane:r,index:i}=n;return i<=1&&noe(t,e,{pane:r,index:i})};class jtt{constructor(){A4e(this,"initialValueTemplatesSpecified",!1),A4e(this,"spec",{})}id(e){return this.clone({id:e})}getId(){return this.spec.id}title(e){return this.clone({title:e,id:jF(e,this.spec.id)})}getTitle(){return this.spec.title}defaultLayout(e){return this.clone({defaultLayout:e})}getDefaultLayout(){return this.spec.defaultLayout}menuItems(e){return this.clone({menuItems:e})}getMenuItems(){return this.spec.menuItems}menuItemGroups(e){return this.clone({menuItemGroups:e})}getMenuItemGroups(){return this.spec.menuItemGroups}child(e){return this.clone({child:e})}getChild(){return this.spec.child}canHandleIntent(e){return this.clone({canHandleIntent:e})}getCanHandleIntent(){return this.spec.canHandleIntent}showIcons(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcons:e}})}getShowIcons(){return this.spec.displayOptions?this.spec.displayOptions.showIcons:void 0}initialValueTemplates(e){return this.initialValueTemplatesSpecified=!0,this.clone({initialValueTemplates:Array.isArray(e)?e:[e]})}getInitialValueTemplates(){return this.spec.initialValueTemplates}serialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=this.spec.id||"",r=e.path,i=this.spec.defaultLayout;if(i&&!k4e.includes(i))throw new ei("`layout` must be one of ".concat(k4e.map(o=>'"'.concat(o,'"')).join(", ")),r,n||e.index,this.spec.title);const s=(this.spec.initialValueTemplates||[]).map((o,a)=>$dr(o,a,r));return{id:ED(n,e.path,n||e.index),title:this.spec.title,type:"genericList",defaultLayout:i,child:this.spec.child||Vdr,canHandleIntent:this.spec.canHandleIntent||Rtt,displayOptions:this.spec.displayOptions,initialValueTemplates:s,menuItems:(this.spec.menuItems||[]).map((o,a)=>_tt(o,a,r)),menuItemGroups:(this.spec.menuItemGroups||[]).map((o,a)=>Stt(o,a,r))}}}var Udr=Object.defineProperty,Hdr=(t,e,n)=>e in t?Udr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zdr=(t,e,n)=>(Hdr(t,typeof e!="symbol"?e+"":e,n),n);const Wdr=(t,e)=>{var n;const r=((n=t.options)==null?void 0:n.filter.trim())||"";if(["*","{"].includes(r[0]))throw new ei("`filter` cannot start with `".concat(r[0],"` - looks like you are providing a query, not a filter"),e.path,t.id,t.title).withHelpUrl(ls.QUERY_PROVIDED_FOR_FILTER);return r},Gdr=t=>(e,n)=>{var r;const i=n.parent,s=(r=n.params)!=null&&r.template?t.templates.find(a=>a.id===n.params.template):void 0,o=s?s.schemaType:i.schemaTypeName||ktt(t.getClient,e);return Promise.resolve(o).then(a=>a?t.resolveDocumentNode({schemaType:a,documentId:e}):new ty(t).id("editor").documentId(e).schemaType(""))};class SD extends jtt{constructor(e,n){super(),this._context=e,zdr(this,"spec"),this.spec=n||{},this.initialValueTemplatesSpecified=!!(n!=null&&n.initialValueTemplates)}apiVersion(e){return this.clone({options:{...this.spec.options||{filter:""},apiVersion:e}})}getApiVersion(){var e;return(e=this.spec.options)==null?void 0:e.apiVersion}filter(e){return this.clone({options:{...this.spec.options||{},filter:e}})}getFilter(){var e;return(e=this.spec.options)==null?void 0:e.filter}schemaType(e){const n=typeof e=="string"?e:e.name;return this.clone({schemaTypeName:n})}getSchemaType(){return this.spec.schemaTypeName}params(e){return this.clone({options:{...this.spec.options||{filter:""},params:e}})}getParams(){var e;return(e=this.spec.options)==null?void 0:e.params}defaultOrdering(e){if(!Array.isArray(e))throw new Error("`defaultOrdering` must be an array of order clauses");return this.clone({options:{...this.spec.options||{filter:""},defaultOrdering:e}})}getDefaultOrdering(){var e;return(e=this.spec.options)==null?void 0:e.defaultOrdering}serialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};var n;if(typeof this.spec.id!="string"||!this.spec.id)throw new ei("`id` is required for document lists",e.path,e.index,this.spec.title).withHelpUrl(ls.ID_REQUIRED);if(!this.spec.options||!this.spec.options.filter)throw new ei("`filter` is required for document lists",e.path,this.spec.id,this.spec.title).withHelpUrl(ls.FILTER_REQUIRED);return{...super.serialize(e),type:"documentList",schemaTypeName:this.spec.schemaTypeName,child:this.spec.child||Gdr(this._context),options:{...this.spec.options,apiVersion:this.spec.options.apiVersion||(((n=this.spec.options)==null?void 0:n.filter)==="_type == $type"?"2021-06-07":"1"),filter:Wdr(this.spec,e)}}}clone(e){const n=new SD(this._context);return n.spec={...this.spec,...e||{}},this.initialValueTemplatesSpecified||(n.spec.initialValueTemplates=qdr(this._context,n.spec)),n.spec.schemaTypeName||(n.spec.schemaTypeName=Ydr(n.spec)),n}getSpec(){return this.spec}}function qdr(t,e){const{document:n}=t,{schemaTypeName:r,options:i}=e,{filter:s,params:o}=i||{filter:"",params:{}},a=r?[r]:Array.from(new Set(roe(s,o)));if(a.length!==0)return a.flatMap(l=>n.resolveNewDocumentOptions({type:"structure",schemaType:l})).map(l=>({...l,icon:mx}))}function Ydr(t){const{options:e}=t,{filter:n,params:r}=e||{filter:"",params:{}},i=roe(n,r);return i.length===1?i[0]:void 0}function roe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Kdr(t,e);return n.length===0&&(n=Zdr(t,e)),n}function Kdr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=/\b_type\s*==\s*(['"].*?['"]|\$.*?(?:\s|$))|\B(['"].*?['"]|\$.*?(?:\s|$))\s*==\s*_type/g,r=[];let i;for(;(i=n.exec(t))!==null;)r.push(i[1]||i[2]);return r.map(s=>((s[0]==="$"?e[s.slice(1)]:s)||"").trim().replace(/^["']|["']$/g,"")).filter(Boolean)}function Zdr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=/\b_type\s+in\s+\[(.*?)\]/,r=t.match(n);return r?r[1].split(/,\s*/).map(i=>i.trim().replace(/^["']+|["']+$/g,"")).map(i=>i[0]==="$"?e[i.slice(1)]:i).filter(Boolean):[]}var Xdr=Object.defineProperty,Qdr=(t,e,n)=>e in t?Xdr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Jdr=(t,e,n)=>(Qdr(t,typeof e!="symbol"?e+"":e,n),n);const efr=t=>t instanceof IE?"ListBuilder":sfr(t)?"Promise":Array.isArray(t)?"array":typeof t,tfr=t=>t.type==="listItem",nfr=(t,e,n)=>(n.pane.items||[]).filter(hfr).some(s=>s.schemaType.name===e.type&&s._id===e.id)||Rtt(t,e,n),rfr=(t,e)=>{const i=(e.parent.items.filter(tfr).find(s=>s.id===t)||{child:void 0}).child;return!i||typeof i!="function"?i:typeof i=="function"?i(t,e):i};function ifr(t,e,n){if(t instanceof DE)return t.serialize({path:n,index:e});const r=t;if(r&&r.type==="divider")return t;if(!r||r.type!=="listItem"){const i=r&&r.type||efr(r),s=i==="array"?" - did you forget to spread (...moreItems)?":"";throw new ei('List items must be of type "listItem", got "'.concat(i,'"').concat(s),n,e).withHelpUrl(ls.INVALID_LIST_ITEM)}return t}function sfr(t){return Jn(t)&&typeof t.then=="function"}class IE extends jtt{constructor(e,n){super(),this._context=e,Jdr(this,"spec"),this.spec=n||{},this.initialValueTemplatesSpecified=!!(n&&n.initialValueTemplates)}items(e){return this.clone({items:e})}getItems(){return this.spec.items}serialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=this.spec.id;if(typeof n!="string"||!n)throw new ei("`id` is required for lists",e.path,e.index).withHelpUrl(ls.ID_REQUIRED);const r=typeof this.spec.items>"u"?[]:this.spec.items;if(!Array.isArray(r))throw new ei("`items` must be an array of items",e.path,e.index).withHelpUrl(ls.LIST_ITEMS_MUST_BE_ARRAY);const i=(e.path||[]).concat(n),s=r.map((a,l)=>ifr(a,l,i)),o=s.filter((a,l)=>_We(s,{id:a.id},l+1));if(o.length>0){const a=o.map(u=>u.id).slice(0,5),l=o.length>5?"".concat(a.join(", "),"..."):a.join(", ");throw new ei("List items with same ID found (".concat(l,")"),e.path,e.index).withHelpUrl(ls.LIST_ITEM_IDS_MUST_BE_UNIQUE)}return{...super.serialize(e),type:"list",canHandleIntent:this.spec.canHandleIntent||nfr,child:this.spec.child||rfr,items:s}}clone(e){const n=new IE(this._context);return n.spec={...this.spec,...e||{}},n}}var ofr=Object.defineProperty,afr=(t,e,n)=>e in t?ofr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lfr=(t,e,n)=>(afr(t,typeof e!="symbol"?e+"":e,n),n);class DE{constructor(e,n){this._context=e,lfr(this,"spec"),this.spec=n||{}}id(e){return this.clone({id:e})}getId(){return this.spec.id}title(e){return this.clone({title:e,id:jF(e,this.spec.id)})}getTitle(){return this.spec.title}icon(e){return this.clone({icon:e})}showIcon(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcon:e}})}getShowIcon(){return this.spec.displayOptions?this.spec.displayOptions.showIcon:void 0}getIcon(){return this.spec.icon}child(e){return this.clone({child:e})}getChild(){return this.spec.child}schemaType(e){return this.clone({schemaType:e})}getSchemaType(){const e=this.spec.schemaType;return typeof e=="string"?this._context.schema.get(e):this.spec.schemaType}serialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,child:i}=this.spec;if(typeof n!="string"||!n)throw new ei("`id` is required for list items",e.path,e.index).withHelpUrl(ls.ID_REQUIRED);if(!e.titleIsOptional&&(typeof r!="string"||!r))throw new ei("`title` is required for list items",e.path,n).withHelpUrl(ls.TITLE_REQUIRED);let s=this.spec.schemaType;if(typeof s=="string"){const l=this._context.schema.get(s);if(!l)throw new ei('Could not find type "'.concat(s,'" in schema'),e.path,n).withHelpUrl(ls.SCHEMA_TYPE_NOT_FOUND);s=l}const o={path:e.path.concat(n),hint:"child"};let a=i instanceof E3||i instanceof SD||i instanceof ty||i instanceof IE?i.serialize(o):i;if(typeof a=="function"){const l=a;a=(u,d)=>l(u,{...d,serializeOptions:o})}return{...this.spec,id:ED(n,e.path,e.index),schemaType:s,child:a,title:r,type:"listItem"}}clone(e){const n=new DE(this._context);return n.spec={...this.spec,...e||{}},n}}var ufr=Object.defineProperty,cfr=(t,e,n)=>e in t?ufr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dfr=(t,e,n)=>(cfr(t,typeof e!="symbol"?e+"":e,n),n);const ffr=(t,e)=>n=>{const r=e.schemaType&&(typeof e.schemaType=="string"?e.schemaType:e.schemaType.name);return r?t.resolveDocumentNode({schemaType:r,documentId:n}):new ty(t).id("documentEditor").documentId(n)};class ioe extends DE{constructor(e,n){super(e,n),this._context=e,dfr(this,"spec"),this.spec=n||{}}serialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=super.serialize({...e,titleIsOptional:!0});if(!n.schemaType)throw new ei("`schemaType` is required for document list items",e.path,e.index).withHelpUrl(ls.SCHEMA_TYPE_REQUIRED);const r=n.child||ffr(this._context,n);return{...n,child:r,schemaType:n.schemaType,_id:n.id}}clone(e){const n=new ioe(this._context);return n.spec={...this.spec,...e||{}},n}}function hfr(t){return Jn(t)&&typeof t.schemaType<"u"&&typeof t._id=="string"}var pfr=Object.defineProperty,mfr=(t,e,n)=>e in t?pfr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gfr=(t,e,n)=>(mfr(t,typeof e!="symbol"?e+"":e,n),n);class x8 extends SD{constructor(e,n){super(e),this._context=e,gfr(this,"spec"),this.spec=n||{}}child(e){return this.cloneWithoutDefaultIntentHandler({child:e})}clone(e){const n=super.clone(e),r=new x8(this._context);return r.spec={...this.spec,...n.getSpec(),...e||{}},r}cloneWithoutDefaultIntentHandler(e){const n=super.clone(e),r=new x8(this._context),i=this.spec.canHandleIntent,o=i&&i.identity===Dtt?{canHandleIntent:void 0}:{};return r.spec={...n.getSpec(),...this.spec,...e||{},...o},r}}function vfr(t){const e=t.preview;return!!(e&&(e.prepare||e.select&&e.select.media))}const yfr=["sanity.imageAsset","sanity.fileAsset"];function bfr(t){return yfr.includes(t)}function xfr(t){var e;return((e=t.type)==null?void 0:e.name)==="document"}function wfr(t){return t.type==="list"}function _fr(t){let{schema:e}=t;return e.getTypeNames().filter(n=>{const r=e.get(n);return r&&xfr(r)}).filter(n=>!bfr(n))}function Ott(t){return _fr(t).map(n=>Ltt(t,n))}function Ltt(t,e){const{schema:n}=t,r=n.get(e);if(!r)throw new Error('Schema type with name "'.concat(e,'" not found'));const i=r.title||yi(e);return new DE(t).id(e).title(i).schemaType(r).child((s,o)=>{const a=o.parent,l=wfr(a)?a.items.find(d=>d.id===s):null;let u=Ptt(t,e);return l&&l.title&&(u=u.title(l.title)),u})}function Ptt(t,e){const{schema:n,resolveDocumentNode:r}=t,i=typeof e=="string"?e:e.schemaType,s=typeof i=="string"?i:i.name,o=typeof e=="string"?{schemaType:i}:e,a=n.get(s);if(!a)throw new Error('Schema type with name "'.concat(s,'" not found'));const l=a.title||yi(s),u=vfr(a);return new x8(t).id(o.id||s).title(o.title||l).filter("_type == $type").params({type:s}).schemaType(a).showIcons(u).defaultOrdering(idr.by).menuItemGroups(o.menuItemGroups||[{id:"sorting",title:"Sort"},{id:"layout",title:"Layout"},{id:"actions",title:"Actions"}]).child(o.child||(d=>r({schemaType:s,documentId:d}))).canHandleIntent(o.canHandleIntent||noe).menuItems(o.menuItems||[...Ett(t,a),new ey(t).group("layout").title("Compact view").icon(MMe).action("setLayout").params({layout:"default"}),new ey(t).group("layout").title("Detailed view").icon($Me).action("setLayout").params({layout:"detail"})])}function Cfr(t){return!t||typeof t=="string"?!1:!!t.icon}function Efr(t){const e=Ott(t);return new IE(t).id("__root__").title("Content").items(e).showIcons(e.some(n=>Cfr(n.getSchemaType())))}function Sfr(t){let{defaultDocumentNode:e,source:n}=t;const r=HBn(n),i={...n,getStructureBuilder:()=>s,resolveDocumentNode:o=>{let a=(e==null?void 0:e(s,{...o,...r}))||new ty(i);return a.getId()||(a=a.id("documentEditor")),o.documentId&&(a=a.documentId(Ks(o.documentId))),a.schemaType(o.schemaType)}},s={defaults:()=>Efr(i),documentTypeList:function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return Ptt(i,...a)},documentTypeListItem:function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return Ltt(i,...a)},documentTypeListItems:function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return Ott(i,...a)},document:function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return new ty(i,...a)},documentWithInitialValueTemplate:function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return jdr(i,...a)},defaultDocument:i.resolveDocumentNode,list:function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return new IE(i,...a)},listItem:function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return new DE(i,...a)},menuItem:function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return new ey(i,...a)},menuItemGroup:function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return new C3(i,...a)},menuItemsFromInitialValueTemplateItems:function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return Fdr(i,...a)},documentList:function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return new SD(i,...a)},documentListItem:function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return new ioe(i,...a)},orderingMenuItem:function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return Ctt(i,...a)},orderingMenuItemsForType:function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return Ett(i,...a)},editor:function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return Rdr(i,...a)},defaultInitialValueTemplateItems:function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return Mdr(i,...a)},initialValueTemplateItem:(o,a)=>new PF(i,{id:o,parameters:a,templateId:o}),component:o=>ws.isValidElementType(o)?new E3().component(o):new E3(o),divider:()=>({id:hUe("__divider__"),type:"divider"}),view:Sdr,context:i};return s}function PEr(t){let{defaultDocumentNode:e,structure:n,children:r}=t;const[i,s]=m.useState(!1),o=Zs(),a=UBn(o),l=Kc(),u=m.useMemo(()=>Sfr({defaultDocumentNode:e,source:o}),[e,o]),d=m.useMemo(()=>n?n(u,{...a,documentStore:l}):u.defaults(),[u,n,a,l]),f=m.useMemo(()=>({backButton:i,resizablePanes:!i,reviewChanges:!i,splitPanes:!i,splitViews:!i}),[i]),h=m.useMemo(()=>({features:f,layoutCollapsed:i,setLayoutCollapsed:s,rootPaneNode:d,structureContext:u.context}),[f,i,d,u.context]);return c.jsx(ytt.Provider,{value:h,children:r})}const Tfr=Ey(t=>{const{name:e,title:n,icon:r,...i}=t||{};return{name:"@sanity/vision",tools:[{name:e||"vision",title:n||"Vision",icon:r||oQ,component:m.lazy(()=>vI(()=>import("./SanityVision-11766910-bdf6e870.js"),["static/SanityVision-11766910-bdf6e870.js","static/index-4fc9793a.js","static/index-f29eb48b.js","static/index-a5218949.js","static/index-5ca23509.js"])),options:i,router:su.create("/*")}]}});function I4e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D4e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I4e(Object(n),!0).forEach(function(r){kfr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I4e(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kfr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xz,Afr=new Uint8Array(16);function Ifr(){if(!xz&&!(xz=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xz(Afr)}var Dfr=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Mtt(t){return typeof t=="string"&&Dfr.test(t)}for(var ml=[],wz=0;wz<256;++wz)ml.push((wz+256).toString(16).substr(1));function $tt(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(ml[t[e+0]]+ml[t[e+1]]+ml[t[e+2]]+ml[t[e+3]]+"-"+ml[t[e+4]]+ml[t[e+5]]+"-"+ml[t[e+6]]+ml[t[e+7]]+"-"+ml[t[e+8]]+ml[t[e+9]]+"-"+ml[t[e+10]]+ml[t[e+11]]+ml[t[e+12]]+ml[t[e+13]]+ml[t[e+14]]+ml[t[e+15]]).toLowerCase();if(!Mtt(n))throw TypeError("Stringified UUID is invalid");return n}function R4e(t,e,n){function r(i,s,o,a){if(typeof i=="string"&&(i=function(d){d=unescape(encodeURIComponent(d));for(var f=[],h=0;h<d.length;++h)f.push(d.charCodeAt(h));return f}(i)),typeof s=="string"&&(s=function(d){if(!Mtt(d))throw TypeError("Invalid UUID");var f,h=new Uint8Array(16);return h[0]=(f=parseInt(d.slice(0,8),16))>>>24,h[1]=f>>>16&255,h[2]=f>>>8&255,h[3]=255&f,h[4]=(f=parseInt(d.slice(9,13),16))>>>8,h[5]=255&f,h[6]=(f=parseInt(d.slice(14,18),16))>>>8,h[7]=255&f,h[8]=(f=parseInt(d.slice(19,23),16))>>>8,h[9]=255&f,h[10]=(f=parseInt(d.slice(24,36),16))/1099511627776&255,h[11]=f/4294967296&255,h[12]=f>>>24&255,h[13]=f>>>16&255,h[14]=f>>>8&255,h[15]=255&f,h}(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(s),l.set(i,s.length),(l=n(l))[6]=15&l[6]|e,l[8]=63&l[8]|128,o){a=a||0;for(var u=0;u<16;++u)o[a+u]=l[u];return o}return $tt(l)}try{r.name=t}catch{}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function j4e(t){return 14+(t+64>>>9<<4)+1}function ov(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function MF(t,e,n,r,i,s){return ov((o=ov(ov(e,t),ov(r,s)))<<(a=i)|o>>>32-a,n);var o,a}function zl(t,e,n,r,i,s,o){return MF(e&n|~e&r,t,e,i,s,o)}function Wl(t,e,n,r,i,s,o){return MF(e&r|n&~r,t,e,i,s,o)}function Gl(t,e,n,r,i,s,o){return MF(e^n^r,t,e,i,s,o)}function ql(t,e,n,r,i,s,o){return MF(n^(e|~r),t,e,i,s,o)}function pj(t,e,n){var r=(t=t||{}).random||(t.rng||Ifr)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return $tt(r)}function Rfr(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:case 3:return e^n^r;case 2:return e&n^e&r^n&r}}function _z(t,e){return t<<e|t>>>32-e}R4e("v3",48,function(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return function(r){for(var i=[],s=32*r.length,o="0123456789abcdef",a=0;a<s;a+=8){var l=r[a>>5]>>>a%32&255,u=parseInt(o.charAt(l>>>4&15)+o.charAt(15&l),16);i.push(u)}return i}(function(r,i){r[i>>5]|=128<<i%32,r[j4e(i)-1]=i;for(var s=1732584193,o=-271733879,a=-1732584194,l=271733878,u=0;u<r.length;u+=16){var d=s,f=o,h=a,p=l;s=zl(s,o,a,l,r[u],7,-680876936),l=zl(l,s,o,a,r[u+1],12,-389564586),a=zl(a,l,s,o,r[u+2],17,606105819),o=zl(o,a,l,s,r[u+3],22,-1044525330),s=zl(s,o,a,l,r[u+4],7,-176418897),l=zl(l,s,o,a,r[u+5],12,1200080426),a=zl(a,l,s,o,r[u+6],17,-1473231341),o=zl(o,a,l,s,r[u+7],22,-45705983),s=zl(s,o,a,l,r[u+8],7,1770035416),l=zl(l,s,o,a,r[u+9],12,-1958414417),a=zl(a,l,s,o,r[u+10],17,-42063),o=zl(o,a,l,s,r[u+11],22,-1990404162),s=zl(s,o,a,l,r[u+12],7,1804603682),l=zl(l,s,o,a,r[u+13],12,-40341101),a=zl(a,l,s,o,r[u+14],17,-1502002290),s=Wl(s,o=zl(o,a,l,s,r[u+15],22,1236535329),a,l,r[u+1],5,-165796510),l=Wl(l,s,o,a,r[u+6],9,-1069501632),a=Wl(a,l,s,o,r[u+11],14,643717713),o=Wl(o,a,l,s,r[u],20,-373897302),s=Wl(s,o,a,l,r[u+5],5,-701558691),l=Wl(l,s,o,a,r[u+10],9,38016083),a=Wl(a,l,s,o,r[u+15],14,-660478335),o=Wl(o,a,l,s,r[u+4],20,-405537848),s=Wl(s,o,a,l,r[u+9],5,568446438),l=Wl(l,s,o,a,r[u+14],9,-1019803690),a=Wl(a,l,s,o,r[u+3],14,-187363961),o=Wl(o,a,l,s,r[u+8],20,1163531501),s=Wl(s,o,a,l,r[u+13],5,-1444681467),l=Wl(l,s,o,a,r[u+2],9,-51403784),a=Wl(a,l,s,o,r[u+7],14,1735328473),s=Gl(s,o=Wl(o,a,l,s,r[u+12],20,-1926607734),a,l,r[u+5],4,-378558),l=Gl(l,s,o,a,r[u+8],11,-2022574463),a=Gl(a,l,s,o,r[u+11],16,1839030562),o=Gl(o,a,l,s,r[u+14],23,-35309556),s=Gl(s,o,a,l,r[u+1],4,-1530992060),l=Gl(l,s,o,a,r[u+4],11,1272893353),a=Gl(a,l,s,o,r[u+7],16,-155497632),o=Gl(o,a,l,s,r[u+10],23,-1094730640),s=Gl(s,o,a,l,r[u+13],4,681279174),l=Gl(l,s,o,a,r[u],11,-358537222),a=Gl(a,l,s,o,r[u+3],16,-722521979),o=Gl(o,a,l,s,r[u+6],23,76029189),s=Gl(s,o,a,l,r[u+9],4,-640364487),l=Gl(l,s,o,a,r[u+12],11,-421815835),a=Gl(a,l,s,o,r[u+15],16,530742520),s=ql(s,o=Gl(o,a,l,s,r[u+2],23,-995338651),a,l,r[u],6,-198630844),l=ql(l,s,o,a,r[u+7],10,1126891415),a=ql(a,l,s,o,r[u+14],15,-1416354905),o=ql(o,a,l,s,r[u+5],21,-57434055),s=ql(s,o,a,l,r[u+12],6,1700485571),l=ql(l,s,o,a,r[u+3],10,-1894986606),a=ql(a,l,s,o,r[u+10],15,-1051523),o=ql(o,a,l,s,r[u+1],21,-2054922799),s=ql(s,o,a,l,r[u+8],6,1873313359),l=ql(l,s,o,a,r[u+15],10,-30611744),a=ql(a,l,s,o,r[u+6],15,-1560198380),o=ql(o,a,l,s,r[u+13],21,1309151649),s=ql(s,o,a,l,r[u+4],6,-145523070),l=ql(l,s,o,a,r[u+11],10,-1120210379),a=ql(a,l,s,o,r[u+2],15,718787259),o=ql(o,a,l,s,r[u+9],21,-343485551),s=ov(s,d),o=ov(o,f),a=ov(a,h),l=ov(l,p)}return[s,o,a,l]}(function(r){if(r.length===0)return[];for(var i=8*r.length,s=new Uint32Array(j4e(i)),o=0;o<i;o+=8)s[o>>5]|=(255&r[o/8])<<o%32;return s}(t),8*t.length))}),R4e("v5",80,function(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),a=new Array(o),l=0;l<o;++l){for(var u=new Uint32Array(16),d=0;d<16;++d)u[d]=t[64*l+4*d]<<24|t[64*l+4*d+1]<<16|t[64*l+4*d+2]<<8|t[64*l+4*d+3];a[l]=u}a[o-1][14]=8*(t.length-1)/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=8*(t.length-1)&4294967295;for(var f=0;f<o;++f){for(var h=new Uint32Array(80),p=0;p<16;++p)h[p]=a[f][p];for(var g=16;g<80;++g)h[g]=_z(h[g-3]^h[g-8]^h[g-14]^h[g-16],1);for(var v=n[0],y=n[1],x=n[2],b=n[3],_=n[4],C=0;C<80;++C){var S=Math.floor(C/20),T=_z(v,5)+Rfr(S,y,x,b)+_+e[S]+h[C]>>>0;_=b,b=x,x=_z(y,30)>>>0,y=v,v=T}n[0]=n[0]+v>>>0,n[1]=n[1]+y>>>0,n[2]=n[2]+x>>>0,n[3]=n[3]+b>>>0,n[4]=n[4]+_>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]});const jfr=t=>{var e;return c.jsx("table",{style:{width:"100%"},children:c.jsxs("tbody",{children:[t.rows.map((n,r)=>{const i=(s=>(o,a)=>c.jsx("td",{children:c.jsx(Fi,{fontSize:1,padding:3,value:o,onChange:l=>t.updateCell(l,s,a)})},"cell-".concat(s,"-").concat(a)))(r);return c.jsxs("tr",{children:[n.cells.map(i),c.jsx("td",{children:c.jsx(N,{marginLeft:1,style:{textAlign:"center"},children:c.jsx(Ce,{icon:lP,padding:2,onClick:()=>t.removeRow(r),mode:"bleed"})})},r)]},"row-".concat(r))}),c.jsx("tr",{children:(((e=t.rows[0])==null?void 0:e.cells)||[]).map((n,r)=>c.jsx("td",{children:c.jsx(N,{marginTop:1,style:{textAlign:"center"},children:c.jsx(Ce,{icon:lP,padding:2,onClick:()=>t.removeColumn(r),mode:"bleed"})})},r))})]})})},Ofr=t=>{const[e,n]=m.useState(null),[r,i]=m.useState("");return c.jsxs(re.Fragment,{children:[e&&c.jsx(pa,{header:"Add ".concat(e.type),id:"dialog-add",onClose:()=>n(null),zOffset:1e3,children:c.jsxs(ge,{padding:4,children:[c.jsx(Fi,{style:{textAlign:"left"},fontSize:2,padding:3,type:"number",value:r,onChange:s=>{i(s.currentTarget.value)}}),c.jsx(N,{marginTop:4,children:c.jsxs(cn,{space:1,style:{textAlign:"right"},children:[c.jsx(Ce,{text:"Cancel",mode:"ghost",onClick:()=>n(null)}),c.jsx(Ce,{text:"Confirm",tone:"critical",onClick:()=>{const s=parseInt(r??"0",10);s<100&&(n(null),e==null||e.callback(s),i(void 0))}})]})})]})}),c.jsx(vr,{button:c.jsx(Ce,{icon:m7,fontSize:1,padding:2,mode:"ghost"}),id:"menu-button-example",menu:c.jsxs(er,{children:[c.jsx(St,{icon:Qa,fontSize:1,text:"Add Row(s)",onClick:()=>{n({type:"rows",callback:s=>t.addRows(s)})}}),c.jsx(St,{icon:Qa,fontSize:1,text:"Add Row At Index",onClick:()=>{n({type:"rows",callback:s=>t.addRowAt(s)})}}),c.jsx(St,{icon:Qa,fontSize:1,text:"Add Column(s)",onClick:()=>{n({type:"columns",callback:s=>t.addColumns(s)})}}),c.jsx(St,{icon:Qa,fontSize:1,text:"Add Column At Index",onClick:()=>{n({type:"columns",callback:s=>t.addColumnAt(s)})}}),c.jsx(Ci,{}),c.jsx(St,{icon:vo,fontSize:1,text:"Remove",tone:"critical",onClick:t.remove})]}),placement:t.placement})]})};var O4e;const fb=(O4e=globalThis.structuredClone)!=null?O4e:t=>JSON.parse(JSON.stringify(t)),Lfr=t=>{var e,n,r;const{value:i,onChange:s}=t,[o,a]=m.useState(null),l=h=>s(_n(h)),u=()=>{a({type:"table",callback:d})},d=()=>{s(Jt()),a(null)},f=h=>{if(!i)return;const p=fb(i);p.rows.forEach(g=>{g.cells.splice(h,1)}),l(p),a(null)};return c.jsxs("div",{children:[o&&c.jsx(pa,{header:"Remove ".concat(o.type),id:"dialog-remove",onClose:()=>a(null),zOffset:1e3,children:c.jsxs(ge,{padding:4,children:[c.jsxs(G,{children:["Are you sure you want to remove this ",o.type,"?"]}),c.jsx(N,{marginTop:4,children:c.jsxs(cn,{space:1,style:{textAlign:"right"},children:[c.jsx(Ce,{text:"Cancel",mode:"ghost",onClick:()=>a(null)}),c.jsx(Ce,{text:"Confirm",tone:"critical",onClick:()=>o.callback()})]})})]})}),c.jsx(N,{children:c.jsx(ae,{justify:"flex-end",children:((e=i==null?void 0:i.rows)==null?void 0:e.length)&&c.jsx(Ofr,{addColumns:h=>{if(!i)return;const p=fb(i);return p.rows.forEach((g,v)=>{for(let y=0;y<h;y++)p.rows[v].cells.push("")}),l(p)},addColumnAt:h=>{if(!i)return;const p=fb(i);return p.rows.forEach((g,v)=>{p.rows[v].cells.splice(h,0,"")}),l(p)},addRows:function(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;var p;if(!i)return;const g=fb(i),v=(p=i==null?void 0:i.rows[0].cells.length)!=null?p:0;for(let y=0;y<h;y++)g.rows.push({_type:"tableRow",_key:pj(),cells:Array(v).fill("")});return l(g)},addRowAt:function(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(!i)return;const p=fb(i),g=i.rows[0].cells.length;return p.rows.splice(h,0,{_type:"tableRow",_key:pj(),cells:Array(g).fill("")}),l(p)},remove:u,placement:"left"})})}),((n=i==null?void 0:i.rows)==null?void 0:n.length)&&c.jsx(jfr,{rows:i.rows,removeRow:h=>{if(i)return i.rows.length<=1?u():a({type:"row",callback:()=>(p=>{if(!i)return;const g=fb(i);g.rows.splice(p,1),l(g),a(null)})(h)})},removeColumn:h=>{if(i)return i.rows[0].cells.length<=1?u():a({type:"column",callback:()=>f(h)})},updateCell:(h,p,g)=>{if(!i)return;const v=fb(i);return v.rows[p].cells[g]=h.target.value,l(v)}}),(!i||!((r=i==null?void 0:i.rows)!=null&&r.length))&&c.jsx(cn,{space:1,children:c.jsx(Ce,{fontSize:1,padding:3,icon:Qa,text:"Create Table",tone:"primary",mode:"ghost",onClick:()=>{const h={rows:[{_type:"tableRow",_key:pj(),cells:["",""]},{_type:"tableRow",_key:pj(),cells:["",""]}]};return l(D4e(D4e({},i),h))}})})]})};function Pfr(){return c.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",stroke:"currentColor",strokeWidth:"1.2",children:c.jsx("path",{d:"M3 3h18v18H3zM21 9H3M21 15H3M12 3v18"})})}const Mfr=t=>{let{rows:e}=t;const n=e.length===0?0:e[0].cells.length;return c.jsx(Er,{columns:n,padding:2,children:e.map(r=>r.cells.map((i,s)=>c.jsx(ge,{padding:2,style:{outline:"1px solid #DFE2E9"},children:c.jsx(G,{style:{textOverflow:"elipsis"},children:i})},r._key+s)))})},$fr=t=>{var e;const{schemaType:n}=t,{rows:r=[],title:i}=t??{title:"Title missing"};return c.jsxs(c.Fragment,{children:[c.jsx(N,{padding:3,children:c.jsxs(cn,{space:3,children:[c.jsx(ge,{children:c.jsx(jn,{size:4,children:c.jsx(Pfr,{})})}),c.jsx(ge,{children:c.jsx(G,{children:(e=n==null?void 0:n.title)!=null?e:i})})]})}),c.jsx(N,{padding:2,children:r.length===0?c.jsx(jn,{muted:!0,children:"Empty Table"}):c.jsx(Mfr,{rows:r})})]})},Ftt=Cm({title:"Table Row",name:"tableRow",type:"object",fields:[{name:"cells",type:"array",of:[{type:"string"}]}]}),Ffr=Cm({title:"Table",name:"table",type:"object",fields:[{name:"rows",type:"array",of:[{type:Ftt.name}]}],components:{input:Lfr,preview:$fr},preview:{select:{rows:"rows",title:"title"},prepare:t=>{let{title:e,rows:n=[]}=t;return{title:e,rows:n}}}}),Bfr=Ey(()=>({name:"table",schema:{types:[Ftt,Ffr]}}));var L4e,P4e;function Btt(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Nfr(t){const{language:e,languages:n,onChange:r}=t,i=m.useCallback(s=>{const o=s.currentTarget.value;r(o?_n(o):Jt())},[r]);return c.jsx(Bv,{...t,value:e,onChange:i,children:n.map(s=>c.jsx("option",{value:s.value,children:s.title},s.value))})}function Vfr(t){const{member:e,languages:n,language:r,renderItem:i,renderField:s,renderPreview:o}=t,a=m.useCallback(l=>c.jsx(Nfr,{...l,language:r,languages:n}),[n,r]);return c.jsx(Kv,{member:e,renderItem:i,renderField:s,renderInput:a,renderPreview:o})}const Ufr=m.lazy(()=>vI(()=>import("./CodeMirrorProxy-a4266d26-27a17519.js"),["static/CodeMirrorProxy-a4266d26-27a17519.js","static/index-4fc9793a.js"]));function Ntt(){const[t,e]=m.useState(!1);return m.useEffect(()=>{requestAnimationFrame(()=>e(!0))},[]),t?Ufr:null}const Hfr=[{title:"Batch file",value:"batchfile"},{title:"C#",value:"csharp"},{title:"CSS",value:"css"},{title:"Go",value:"golang"},{title:"GROQ",value:"groq"},{title:"HTML",value:"html"},{title:"Java",value:"java"},{title:"JavaScript",value:"javascript"},{title:"JSON",value:"json"},{title:"JSX",value:"jsx"},{title:"Markdown",value:"markdown"},{title:"MySQL",value:"mysql"},{title:"PHP",value:"php"},{title:"Plain text",value:"text"},{title:"Python",value:"python"},{title:"Ruby",value:"ruby"},{title:"SASS",value:"sass"},{title:"SCSS",value:"scss"},{title:"sh",value:"sh"},{title:"TSX",value:"tsx"},{title:"TypeScript",value:"typescript"},{title:"XML",value:"xml"},{title:"YAML",value:"yaml"}],Vtt={js:"javascript"},M4e=["code"],$4e="text";function Utt(t,e){var n,r,i,s,o;const a=Wfr(t),l=(n=t.options)==null?void 0:n.language,u=(i=(r=e==null?void 0:e.language)!=null?r:l)!=null?i:$4e,d=a.find(h=>h.value===u),f=(o=(s=d==null?void 0:d.mode)!=null?s:zfr(u))!=null?o:$4e;return{language:u,languageMode:f,languages:a}}function zfr(t){var e;return(e=t&&Vtt[t])!=null?e:t}function Wfr(t){return m.useMemo(()=>{var e;const n=(e=t.options)==null?void 0:e.languageAlternatives;if(!n)return Hfr;if(!Array.isArray(n))throw new Error("'options.languageAlternatives' should be an array, got ".concat(typeof n));return n.reduce((r,i)=>{let{title:s,value:o,mode:a}=i;const l=Vtt[o];return l?(console.warn(`'options.languageAlternatives' lists a language with value "%s", which is an alias of "%s" - please replace the value to read "%s"`,o,l,l),r.concat({title:s,value:l,mode:a})):r.concat({title:s,value:o,mode:a})},[])},[t])}function Cz(t,e){return m.useMemo(()=>t.find(n=>n.kind==="field"&&n.name===e),[t,e])}function Htt(t){return"inset 0 0 0 ".concat(t.width,"px ").concat(t.color)}function Gfr(t){const{base:e,border:n,focusRing:r}=t,i=r.offset+r.width,s=0-r.offset,o=e?e.bg:"var(--card-bg-color)";return[s>0&&"inset 0 0 0 ".concat(s,"px var(--card-focus-ring-color)"),n&&Htt(n),s<0&&"0 0 0 ".concat(0-s,"px ").concat(o),i>0&&"0 0 0 ".concat(i,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}const qfr=H(ge)(t=>{let{theme:e}=t;const{focusRing:n,input:r}=e.sanity,i=e.sanity.color.base,o={color:e.sanity.color.input.default.enabled.border,width:r.border.width};return qe(L4e||(L4e=Btt([`
    --input-box-shadow: `,`;

    box-shadow: var(--input-box-shadow);
    height: 250px;
    min-height: 80px;
    overflow-y: auto;
    position: relative;
    resize: vertical;
    z-index: 0;

    & > .cm-theme {
      height: 100%;
    }

    &:focus-within {
      --input-box-shadow: `,`;
    }
  `])),Htt(o),Gfr({base:i,border:o,focusRing:n}))});function Yfr(t){var e;const{members:n,elementProps:r,onChange:i,readOnly:s,renderField:o,renderInput:a,renderItem:l,renderPreview:u,schemaType:d,value:f,onPathFocus:h}=t,p=Cz(n,"language"),g=Cz(n,"filename"),v=Cz(n,"code"),y=m.useCallback(()=>{h(M4e)},[h]),x=m.useCallback(k=>i(_n(k,["highlightedLines"])),[i]),b=m.useCallback(k=>{var I;const D=M4e,R=(I=d.options)==null?void 0:I.language;i([sl({_type:d.name,language:R}),k?_n(k,D):Jt(D)])},[i,d]),{languages:_,language:C,languageMode:S}=Utt(t.schemaType,t.value),T=Ntt(),A=m.useCallback(k=>c.jsx(qfr,{border:!0,overflow:"hidden",radius:1,sizing:"border",readOnly:s,children:T&&c.jsx(m.Suspense,{fallback:c.jsx(N,{padding:3,children:c.jsx(G,{children:"Loading code editor..."})}),children:c.jsx(T,{languageMode:S,onChange:b,value:k.value,highlightLines:f==null?void 0:f.highlightedLines,onHighlightChange:x,readOnly:s,onFocus:y,onBlur:r.onBlur})})}),[T,b,y,x,S,r.onBlur,s,f]);return c.jsxs(Te,{space:4,children:[p&&c.jsx(Vfr,{member:p,language:C,languages:_,renderField:o,renderItem:l,renderInput:a,renderPreview:u}),((e=d.options)==null?void 0:e.withFilename)&&g&&c.jsx(Kv,{member:g,renderItem:l,renderField:o,renderInput:a,renderPreview:u}),v&&c.jsx(Kv,{member:v,renderInput:A,renderItem:l,renderField:o,renderPreview:u})]})}const Kfr=H(N)(P4e||(P4e=Btt([`
  position: relative;
`])));function Zfr(t){const{selection:e,schemaType:n}=t,{languageMode:r}=Utt(n,t.selection),i=Ntt();return c.jsx(Kfr,{children:c.jsxs(ge,{padding:4,children:[e!=null&&e.filename||e!=null&&e.language?c.jsx(ge,{paddingBottom:4,marginBottom:e.code?4:0,borderBottom:!!e.code,children:c.jsxs(ae,{align:"center",justify:"flex-end",children:[e!=null&&e.filename?c.jsx(N,{flex:1,children:c.jsx(G,{children:c.jsx("code",{children:e.filename})})}):null,e!=null&&e.language?c.jsx(jn,{muted:!0,children:e.language}):null]})}):null,i&&c.jsx(m.Suspense,{fallback:c.jsx(ge,{padding:2,children:"Loading code preview..."}),children:c.jsx(i,{readOnly:!0,editable:!1,value:(e==null?void 0:e.code)||"",highlightLines:(e==null?void 0:e.highlightedLines)||[],basicSetup:{lineNumbers:!1,foldGutter:!1,highlightSelectionMatches:!1,highlightActiveLineGutter:!1,highlightActiveLine:!1},languageMode:r})})]})})}function Xfr(t){if(t==="jsx")return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128",children:c.jsxs("g",{fill:"#61DAFB",children:[c.jsx("circle",{cx:"64",cy:"64",r:"11.4"}),c.jsx("path",{d:"M107.3 45.2c-2.2-.8-4.5-1.6-6.9-2.3.6-2.4 1.1-4.8 1.5-7.1 2.1-13.2-.2-22.5-6.6-26.1-1.9-1.1-4-1.6-6.4-1.6-7 0-15.9 5.2-24.9 13.9-9-8.7-17.9-13.9-24.9-13.9-2.4 0-4.5.5-6.4 1.6-6.4 3.7-8.7 13-6.6 26.1.4 2.3.9 4.7 1.5 7.1-2.4.7-4.7 1.4-6.9 2.3C8.2 50 1.4 56.6 1.4 64s6.9 14 19.3 18.8c2.2.8 4.5 1.6 6.9 2.3-.6 2.4-1.1 4.8-1.5 7.1-2.1 13.2.2 22.5 6.6 26.1 1.9 1.1 4 1.6 6.4 1.6 7.1 0 16-5.2 24.9-13.9 9 8.7 17.9 13.9 24.9 13.9 2.4 0 4.5-.5 6.4-1.6 6.4-3.7 8.7-13 6.6-26.1-.4-2.3-.9-4.7-1.5-7.1 2.4-.7 4.7-1.4 6.9-2.3 12.5-4.8 19.3-11.4 19.3-18.8s-6.8-14-19.3-18.8zM92.5 14.7c4.1 2.4 5.5 9.8 3.8 20.3-.3 2.1-.8 4.3-1.4 6.6-5.2-1.2-10.7-2-16.5-2.5-3.4-4.8-6.9-9.1-10.4-13 7.4-7.3 14.9-12.3 21-12.3 1.3 0 2.5.3 3.5.9zM81.3 74c-1.8 3.2-3.9 6.4-6.1 9.6-3.7.3-7.4.4-11.2.4-3.9 0-7.6-.1-11.2-.4-2.2-3.2-4.2-6.4-6-9.6-1.9-3.3-3.7-6.7-5.3-10 1.6-3.3 3.4-6.7 5.3-10 1.8-3.2 3.9-6.4 6.1-9.6 3.7-.3 7.4-.4 11.2-.4 3.9 0 7.6.1 11.2.4 2.2 3.2 4.2 6.4 6 9.6 1.9 3.3 3.7 6.7 5.3 10-1.7 3.3-3.4 6.6-5.3 10zm8.3-3.3c1.5 3.5 2.7 6.9 3.8 10.3-3.4.8-7 1.4-10.8 1.9 1.2-1.9 2.5-3.9 3.6-6 1.2-2.1 2.3-4.2 3.4-6.2zM64 97.8c-2.4-2.6-4.7-5.4-6.9-8.3 2.3.1 4.6.2 6.9.2 2.3 0 4.6-.1 6.9-.2-2.2 2.9-4.5 5.7-6.9 8.3zm-18.6-15c-3.8-.5-7.4-1.1-10.8-1.9 1.1-3.3 2.3-6.8 3.8-10.3 1.1 2 2.2 4.1 3.4 6.1 1.2 2.2 2.4 4.1 3.6 6.1zm-7-25.5c-1.5-3.5-2.7-6.9-3.8-10.3 3.4-.8 7-1.4 10.8-1.9-1.2 1.9-2.5 3.9-3.6 6-1.2 2.1-2.3 4.2-3.4 6.2zM64 30.2c2.4 2.6 4.7 5.4 6.9 8.3-2.3-.1-4.6-.2-6.9-.2-2.3 0-4.6.1-6.9.2 2.2-2.9 4.5-5.7 6.9-8.3zm22.2 21l-3.6-6c3.8.5 7.4 1.1 10.8 1.9-1.1 3.3-2.3 6.8-3.8 10.3-1.1-2.1-2.2-4.2-3.4-6.2zM31.7 35c-1.7-10.5-.3-17.9 3.8-20.3 1-.6 2.2-.9 3.5-.9 6 0 13.5 4.9 21 12.3-3.5 3.8-7 8.2-10.4 13-5.8.5-11.3 1.4-16.5 2.5-.6-2.3-1-4.5-1.4-6.6zM7 64c0-4.7 5.7-9.7 15.7-13.4 2-.8 4.2-1.5 6.4-2.1 1.6 5 3.6 10.3 6 15.6-2.4 5.3-4.5 10.5-6 15.5C15.3 75.6 7 69.6 7 64zm28.5 49.3c-4.1-2.4-5.5-9.8-3.8-20.3.3-2.1.8-4.3 1.4-6.6 5.2 1.2 10.7 2 16.5 2.5 3.4 4.8 6.9 9.1 10.4 13-7.4 7.3-14.9 12.3-21 12.3-1.3 0-2.5-.3-3.5-.9zM96.3 93c1.7 10.5.3 17.9-3.8 20.3-1 .6-2.2.9-3.5.9-6 0-13.5-4.9-21-12.3 3.5-3.8 7-8.2 10.4-13 5.8-.5 11.3-1.4 16.5-2.5.6 2.3 1 4.5 1.4 6.6zm9-15.6c-2 .8-4.2 1.5-6.4 2.1-1.6-5-3.6-10.3-6-15.6 2.4-5.3 4.5-10.5 6-15.5 13.8 4 22.1 10 22.1 15.6 0 4.7-5.8 9.7-15.7 13.4z"})]})});if(t==="javascript")return c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128",children:[c.jsx("path",{fill:"#F0DB4F",d:"M1.408 1.408h125.184v125.185H1.408z"}),c.jsx("path",{fill:"#323330",d:"M116.347 96.736c-.917-5.711-4.641-10.508-15.672-14.981-3.832-1.761-8.104-3.022-9.377-5.926-.452-1.69-.512-2.642-.226-3.665.821-3.32 4.784-4.355 7.925-3.403 2.023.678 3.938 2.237 5.093 4.724 5.402-3.498 5.391-3.475 9.163-5.879-1.381-2.141-2.118-3.129-3.022-4.045-3.249-3.629-7.676-5.498-14.756-5.355l-3.688.477c-3.534.893-6.902 2.748-8.877 5.235-5.926 6.724-4.236 18.492 2.975 23.335 7.104 5.332 17.54 6.545 18.873 11.531 1.297 6.104-4.486 8.08-10.234 7.378-4.236-.881-6.592-3.034-9.139-6.949-4.688 2.713-4.688 2.713-9.508 5.485 1.143 2.499 2.344 3.63 4.26 5.795 9.068 9.198 31.76 8.746 35.83-5.176.165-.478 1.261-3.666.38-8.581zM69.462 58.943H57.753l-.048 30.272c0 6.438.333 12.34-.714 14.149-1.713 3.558-6.152 3.117-8.175 2.427-2.059-1.012-3.106-2.451-4.319-4.485-.333-.584-.583-1.036-.667-1.071l-9.52 5.83c1.583 3.249 3.915 6.069 6.902 7.901 4.462 2.678 10.459 3.499 16.731 2.059 4.082-1.189 7.604-3.652 9.448-7.401 2.666-4.915 2.094-10.864 2.07-17.444.06-10.735.001-21.468.001-32.237z"})]});if(t==="php")return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 800 400",children:c.jsx("g",{transform:"translate(-44.632 -141.55)",children:c.jsxs("g",{transform:"matrix(8.3528 0 0 8.3119 -727.13 -3759.5)",children:[c.jsx("path",{d:"m99.974 479.48h14.204c4.1693 0.0354 7.1903 1.2367 9.063 3.604 1.8726 2.3674 2.491 5.6004 1.855 9.699-0.24737 1.8727-0.79504 3.71-1.643 5.512-0.8127 1.802-1.9434 3.4273-3.392 4.876-1.7667 1.8373-3.657 3.0033-5.671 3.498-2.014 0.49467-4.0987 0.742-6.254 0.742h-6.36l-2.014 10.07h-7.367l7.579-38.001m6.201 6.042-3.18 15.9c0.21198 0.0353 0.42398 0.053 0.636 0.053h0.742c3.392 0.0353 6.2186-0.30033 8.48-1.007 2.2613-0.74199 3.7806-3.3213 4.558-7.738 0.63597-3.71-0.00003-5.8476-1.908-6.413-1.8727-0.56531-4.2224-0.83031-7.049-0.795-0.42402 0.0353-0.83035 0.053-1.219 0.053-0.35335 0.00002-0.72435 0.00002-1.113 0l0.053-0.053"}),c.jsx("path",{d:"m133.49 469.36h7.314l-2.067 10.123h6.572c3.604 0.0707 6.2893 0.81269 8.056 2.226 1.802 1.4134 2.332 4.0987 1.59 8.056l-3.551 17.649h-7.42l3.392-16.854c0.35328-1.7666 0.2473-3.021-0.318-3.763-0.56536-0.74198-1.7844-1.113-3.657-1.113l-5.883-0.053-4.346 21.783h-7.314l7.632-38.054"}),c.jsx("path",{d:"m162.81 479.48h14.204c4.1693 0.0354 7.1903 1.2367 9.063 3.604 1.8726 2.3674 2.491 5.6004 1.855 9.699-0.24737 1.8727-0.79503 3.71-1.643 5.512-0.8127 1.802-1.9434 3.4273-3.392 4.876-1.7667 1.8373-3.657 3.0033-5.671 3.498-2.014 0.49467-4.0987 0.742-6.254 0.742h-6.36l-2.014 10.07h-7.367l7.579-38.001m6.201 6.042-3.18 15.9c0.21199 0.0353 0.42399 0.053 0.636 0.053h0.742c3.392 0.0353 6.2186-0.30033 8.48-1.007 2.2613-0.74199 3.7806-3.3213 4.558-7.738 0.63597-3.71-0.00003-5.8476-1.908-6.413-1.8727-0.56531-4.2224-0.83031-7.049-0.795-0.42402 0.0353-0.83035 0.053-1.219 0.053-0.35335 0.00002-0.72435 0.00002-1.113 0l0.053-0.053"})]})})});if(t==="json")return c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 160 160",children:[c.jsxs("defs",{children:[c.jsxs("linearGradient",{id:"a",children:[c.jsx("stop",{offset:"0"}),c.jsx("stop",{offset:"1",stopColor:"#fff"})]}),c.jsx("linearGradient",{x1:"-553.27",y1:"525.908",x2:"-666.116",y2:"413.045",id:"c",xlinkHref:"#a",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(.99884 0 0 .9987 689.008 -388.844)"}),c.jsx("linearGradient",{x1:"-666.117",y1:"413.045",x2:"-553.27",y2:"525.908",id:"b",xlinkHref:"#a",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(.99884 0 0 .9987 689.008 -388.844)"})]}),c.jsx("path",{d:"M79.865 119.1c35.397 48.255 70.04-13.469 69.988-50.587-.06-43.886-44.54-68.414-70.017-68.414C38.943.1 0 33.895 0 80.135 0 131.531 44.64 160 79.836 160c-7.965-1.147-34.507-6.834-34.863-67.967-.24-41.346 13.487-57.865 34.805-50.599.477.177 23.514 9.265 23.514 38.95 0 29.56-23.427 38.716-23.427 38.716z",style:{marker:"none"},color:"#000",fill:"url(#b)",fillRule:"evenodd",overflow:"visible"}),c.jsx("path",{d:"M79.823 41.4C56.433 33.34 27.78 52.618 27.78 91.23c0 63.048 46.72 68.77 52.384 68.77C121.057 160 160 126.204 160 79.964 160 28.568 115.36.1 80.164.1c9.749-1.35 52.541 10.55 52.541 69.037 0 38.141-31.953 58.905-52.735 50.033-.478-.177-23.514-9.264-23.514-38.95 0-29.56 23.367-38.818 23.367-38.818z",style:{marker:"none"},color:"#000",fill:"url(#c)",fillRule:"evenodd",overflow:"visible"})]})}const Qfr=Cm({name:"code",type:"object",title:"Code",components:{input:Yfr,preview:Zfr},icon:vMe,fields:[{name:"language",title:"Language",type:"string"},{name:"filename",title:"Filename",type:"string"},{title:"Code",name:"code",type:"text"},{title:"Highlighted lines",name:"highlightedLines",type:"array",of:[{type:"number",title:"Highlighted line"}]}],preview:{select:{language:"language",code:"code",filename:"filename",highlightedLines:"highlightedLines"},prepare:t=>({title:t.filename||(t.language||"unknown").toUpperCase(),media:Xfr(t==null?void 0:t.language),selection:t})}}),Jfr=m.createContext(void 0),ehr=Ey(t=>{const e=t&&t.codeModes,n={name:"@sanity/code-input",schema:{types:[Qfr]}};return e?{...n,form:{components:{input:r=>r.id!=="root"?r.renderDefault(r):c.jsx(Jfr.Provider,{value:t,children:r.renderDefault(r)})}}}:n});var w8={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */w8.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,d="__lodash_placeholder__",f=1,h=2,p=4,g=1,v=2,y=1,x=2,b=4,_=8,C=16,S=32,T=64,A=128,k=256,I=512,D=30,R="...",O=800,L=16,P=1,$=2,B=3,Q=1/0,V=9007199254740991,Z=17976931348623157e292,ie=0/0,J=4294967295,X=J-1,fe=J>>>1,ue=[["ary",A],["bind",y],["bindKey",x],["curry",_],["curryRight",C],["flip",I],["partial",S],["partialRight",T],["rearg",k]],te="[object Arguments]",F="[object Array]",ne="[object AsyncFunction]",ce="[object Boolean]",me="[object Date]",pe="[object DOMException]",Ie="[object Error]",xe="[object Function]",Pe="[object GeneratorFunction]",we="[object Map]",De="[object Number]",de="[object Null]",be="[object Object]",ve="[object Promise]",ze="[object Proxy]",He="[object RegExp]",Ne="[object Set]",Fe="[object String]",nt="[object Symbol]",Ye="[object Undefined]",Ge="[object WeakMap]",Ct="[object WeakSet]",wt="[object ArrayBuffer]",pt="[object DataView]",on="[object Float32Array]",mn="[object Float64Array]",gn="[object Int8Array]",br="[object Int16Array]",yo="[object Int32Array]",Kn="[object Uint8Array]",ti="[object Uint8ClampedArray]",Hi="[object Uint16Array]",ea="[object Uint32Array]",ul=/\b__p \+= '';/g,nc=/\b(__p \+=) '' \+/g,rc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ni=/&(?:amp|lt|gt|quot|#39);/g,Fs=/[&<>"']/g,Ss=RegExp(ni.source),Dt=RegExp(Fs.source),$n=/<%-([\s\S]+?)%>/g,fi=/<%([\s\S]+?)%>/g,ri=/<%=([\s\S]+?)%>/g,$l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ts=/^\w*$/,ya=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ta=/[\\^$.*+?()[\]{}|]/g,wu=RegExp(ta.source),$d=/^\s+/,U0=/\s/,Fd=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Zc=/\{\n\/\* \[wrapped with (.+)\] \*/,rp=/,? & /,Ow=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Oy=/[()=,{}\[\]\/\s]/,Ly=/\\(\\)?/g,Py=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Lw=/\w*$/,OE=/^[-+]0x[0-9a-f]+$/i,LE=/^0b[01]+$/i,ic=/^\[object .+?Constructor\]$/,My=/^0o[0-7]+$/i,Pw=/^(?:0|[1-9]\d*)$/,Nm=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ip=/($^)/,$y=/['\n\r\u2028\u2029\\]/g,Vm="\\ud800-\\udfff",Bd="\\u0300-\\u036f",Nd="\\ufe20-\\ufe2f",Fy="\\u20d0-\\u20ff",Mw=Bd+Nd+Fy,Um="\\u2700-\\u27bf",$w="a-z\\xdf-\\xf6\\xf8-\\xff",Yt="\\xac\\xb1\\xd7\\xf7",xi="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ii="\\u2000-\\u206f",bo=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Xc="A-Z\\xc0-\\xd6\\xd8-\\xde",sc="\\ufe0e\\ufe0f",Mo=Yt+xi+ii+bo,Vd="[']",PE="["+Vm+"]",By="["+Mo+"]",H0="["+Mw+"]",DD="\\d+",RD="["+Um+"]",jD="["+$w+"]",Fw="[^"+Vm+Mo+DD+Um+$w+Xc+"]",ME="\\ud83c[\\udffb-\\udfff]",sB="(?:"+H0+"|"+ME+")",$o="[^"+Vm+"]",z0="(?:\\ud83c[\\udde6-\\uddff]){2}",$E="[\\ud800-\\udbff][\\udc00-\\udfff]",W0="["+Xc+"]",OD="\\u200d",LD="(?:"+jD+"|"+Fw+")",Ny="(?:"+W0+"|"+Fw+")",Bw="(?:"+Vd+"(?:d|ll|m|re|s|t|ve))?",FE="(?:"+Vd+"(?:D|LL|M|RE|S|T|VE))?",BE=sB+"?",Hm="["+sc+"]?",oB="(?:"+OD+"(?:"+[$o,z0,$E].join("|")+")"+Hm+BE+")*",aB="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",lB="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",PD=Hm+BE+oB,uB="(?:"+[RD,z0,$E].join("|")+")"+PD,cB="(?:"+[$o+H0+"?",H0,z0,$E,PE].join("|")+")",dB=RegExp(Vd,"g"),fB=RegExp(H0,"g"),NE=RegExp(ME+"(?="+ME+")|"+cB+PD,"g"),Nw=RegExp([W0+"?"+jD+"+"+Bw+"(?="+[By,W0,"$"].join("|")+")",Ny+"+"+FE+"(?="+[By,W0+LD,"$"].join("|")+")",W0+"?"+LD+"+"+Bw,W0+"+"+FE,lB,aB,DD,uB].join("|"),"g"),VE=RegExp("["+OD+Vm+Mw+sc+"]"),MD=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,UE=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],hB=-1,ns={};ns[on]=ns[mn]=ns[gn]=ns[br]=ns[yo]=ns[Kn]=ns[ti]=ns[Hi]=ns[ea]=!0,ns[te]=ns[F]=ns[wt]=ns[ce]=ns[pt]=ns[me]=ns[Ie]=ns[xe]=ns[we]=ns[De]=ns[be]=ns[He]=ns[Ne]=ns[Fe]=ns[Ge]=!1;var zi={};zi[te]=zi[F]=zi[wt]=zi[pt]=zi[ce]=zi[me]=zi[on]=zi[mn]=zi[gn]=zi[br]=zi[yo]=zi[we]=zi[De]=zi[be]=zi[He]=zi[Ne]=zi[Fe]=zi[nt]=zi[Kn]=zi[ti]=zi[Hi]=zi[ea]=!0,zi[Ie]=zi[xe]=zi[Ge]=!1;var pB={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},mB={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},gB={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},vB={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},yB=parseFloat,bB=parseInt,HE=typeof co=="object"&&co&&co.Object===Object&&co,oc=typeof self=="object"&&self&&self.Object===Object&&self,Qs=HE||oc||Function("return this")(),zE=e&&!e.nodeType&&e,zm=zE&&!0&&t&&!t.nodeType&&t,q=zm&&zm.exports===zE,U=q&&HE.process,W=function(){try{var Oe=zm&&zm.require&&zm.require("util").types;return Oe||U&&U.binding&&U.binding("util")}catch{}}(),z=W&&W.isArrayBuffer,oe=W&&W.isDate,_e=W&&W.isMap,he=W&&W.isRegExp,$e=W&&W.isSet,ke=W&&W.isTypedArray;function Je(Oe,et,We){switch(We.length){case 0:return Oe.call(et);case 1:return Oe.call(et,We[0]);case 2:return Oe.call(et,We[0],We[1]);case 3:return Oe.call(et,We[0],We[1],We[2])}return Oe.apply(et,We)}function Wt(Oe,et,We,Bt){for(var Yn=-1,hi=Oe==null?0:Oe.length;++Yn<hi;){var xa=Oe[Yn];et(Bt,xa,We(xa),Oe)}return Bt}function Qt(Oe,et){for(var We=-1,Bt=Oe==null?0:Oe.length;++We<Bt&&et(Oe[We],We,Oe)!==!1;);return Oe}function Un(Oe,et){for(var We=Oe==null?0:Oe.length;We--&&et(Oe[We],We,Oe)!==!1;);return Oe}function At(Oe,et){for(var We=-1,Bt=Oe==null?0:Oe.length;++We<Bt;)if(!et(Oe[We],We,Oe))return!1;return!0}function sn(Oe,et){for(var We=-1,Bt=Oe==null?0:Oe.length,Yn=0,hi=[];++We<Bt;){var xa=Oe[We];et(xa,We,Oe)&&(hi[Yn++]=xa)}return hi}function Ln(Oe,et){var We=Oe==null?0:Oe.length;return!!We&&qn(Oe,et,0)>-1}function xo(Oe,et,We){for(var Bt=-1,Yn=Oe==null?0:Oe.length;++Bt<Yn;)if(We(et,Oe[Bt]))return!0;return!1}function Zn(Oe,et){for(var We=-1,Bt=Oe==null?0:Oe.length,Yn=Array(Bt);++We<Bt;)Yn[We]=et(Oe[We],We,Oe);return Yn}function cs(Oe,et){for(var We=-1,Bt=et.length,Yn=Oe.length;++We<Bt;)Oe[Yn+We]=et[We];return Oe}function Ua(Oe,et,We,Bt){var Yn=-1,hi=Oe==null?0:Oe.length;for(Bt&&hi&&(We=Oe[++Yn]);++Yn<hi;)We=et(We,Oe[Yn],Yn,Oe);return We}function Tr(Oe,et,We,Bt){var Yn=Oe==null?0:Oe.length;for(Bt&&Yn&&(We=Oe[--Yn]);Yn--;)We=et(We,Oe[Yn],Yn,Oe);return We}function rs(Oe,et){for(var We=-1,Bt=Oe==null?0:Oe.length;++We<Bt;)if(et(Oe[We],We,Oe))return!0;return!1}var Fr=ba("length");function Et(Oe){return Oe.split("")}function fn(Oe){return Oe.match(Ow)||[]}function Rt(Oe,et,We){var Bt;return We(Oe,function(Yn,hi,xa){if(et(Yn,hi,xa))return Bt=hi,!1}),Bt}function En(Oe,et,We,Bt){for(var Yn=Oe.length,hi=We+(Bt?1:-1);Bt?hi--:++hi<Yn;)if(et(Oe[hi],hi,Oe))return hi;return-1}function qn(Oe,et,We){return et===et?pot(Oe,et,We):En(Oe,cl,We)}function wo(Oe,et,We,Bt){for(var Yn=We-1,hi=Oe.length;++Yn<hi;)if(Bt(Oe[Yn],et))return Yn;return-1}function cl(Oe){return Oe!==Oe}function na(Oe,et){var We=Oe==null?0:Oe.length;return We?Wm(Oe,et)/We:ie}function ba(Oe){return function(et){return et==null?n:et[Oe]}}function _o(Oe){return function(et){return Oe==null?n:Oe[et]}}function Fo(Oe,et,We,Bt,Yn){return Yn(Oe,function(hi,xa,is){We=Bt?(Bt=!1,hi):et(We,hi,xa,is)}),We}function sp(Oe,et){var We=Oe.length;for(Oe.sort(et);We--;)Oe[We]=Oe[We].value;return Oe}function Wm(Oe,et){for(var We,Bt=-1,Yn=Oe.length;++Bt<Yn;){var hi=et(Oe[Bt]);hi!==n&&(We=We===n?hi:We+hi)}return We}function Zf(Oe,et){for(var We=-1,Bt=Array(Oe);++We<Oe;)Bt[We]=et(We);return Bt}function Bo(Oe,et){return Zn(et,function(We){return[We,Oe[We]]})}function G0(Oe){return Oe&&Oe.slice(0,aae(Oe)+1).replace($d,"")}function _u(Oe){return function(et){return Oe(et)}}function WE(Oe,et){return Zn(et,function(We){return Oe[We]})}function Vy(Oe,et){return Oe.has(et)}function iae(Oe,et){for(var We=-1,Bt=Oe.length;++We<Bt&&qn(et,Oe[We],0)>-1;);return We}function sae(Oe,et){for(var We=Oe.length;We--&&qn(et,Oe[We],0)>-1;);return We}function oot(Oe,et){for(var We=Oe.length,Bt=0;We--;)Oe[We]===et&&++Bt;return Bt}var aot=_o(pB),lot=_o(mB);function uot(Oe){return"\\"+vB[Oe]}function cot(Oe,et){return Oe==null?n:Oe[et]}function Vw(Oe){return VE.test(Oe)}function dot(Oe){return MD.test(Oe)}function fot(Oe){for(var et,We=[];!(et=Oe.next()).done;)We.push(et.value);return We}function xB(Oe){var et=-1,We=Array(Oe.size);return Oe.forEach(function(Bt,Yn){We[++et]=[Yn,Bt]}),We}function oae(Oe,et){return function(We){return Oe(et(We))}}function q0(Oe,et){for(var We=-1,Bt=Oe.length,Yn=0,hi=[];++We<Bt;){var xa=Oe[We];(xa===et||xa===d)&&(Oe[We]=d,hi[Yn++]=We)}return hi}function $D(Oe){var et=-1,We=Array(Oe.size);return Oe.forEach(function(Bt){We[++et]=Bt}),We}function hot(Oe){var et=-1,We=Array(Oe.size);return Oe.forEach(function(Bt){We[++et]=[Bt,Bt]}),We}function pot(Oe,et,We){for(var Bt=We-1,Yn=Oe.length;++Bt<Yn;)if(Oe[Bt]===et)return Bt;return-1}function mot(Oe,et,We){for(var Bt=We+1;Bt--;)if(Oe[Bt]===et)return Bt;return Bt}function Uw(Oe){return Vw(Oe)?vot(Oe):Fr(Oe)}function Xf(Oe){return Vw(Oe)?yot(Oe):Et(Oe)}function aae(Oe){for(var et=Oe.length;et--&&U0.test(Oe.charAt(et)););return et}var got=_o(gB);function vot(Oe){for(var et=NE.lastIndex=0;NE.test(Oe);)++et;return et}function yot(Oe){return Oe.match(NE)||[]}function bot(Oe){return Oe.match(Nw)||[]}var xot=function Oe(et){et=et==null?Qs:Hw.defaults(Qs.Object(),et,Hw.pick(Qs,UE));var We=et.Array,Bt=et.Date,Yn=et.Error,hi=et.Function,xa=et.Math,is=et.Object,wB=et.RegExp,wot=et.String,Ud=et.TypeError,FD=We.prototype,_ot=hi.prototype,zw=is.prototype,BD=et["__core-js_shared__"],ND=_ot.toString,ki=zw.hasOwnProperty,Cot=0,lae=function(){var w=/[^.]+$/.exec(BD&&BD.keys&&BD.keys.IE_PROTO||"");return w?"Symbol(src)_1."+w:""}(),VD=zw.toString,Eot=ND.call(is),Sot=Qs._,Tot=wB("^"+ND.call(ki).replace(ta,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),UD=q?et.Buffer:n,Y0=et.Symbol,HD=et.Uint8Array,uae=UD?UD.allocUnsafe:n,zD=oae(is.getPrototypeOf,is),cae=is.create,dae=zw.propertyIsEnumerable,WD=FD.splice,fae=Y0?Y0.isConcatSpreadable:n,GE=Y0?Y0.iterator:n,Uy=Y0?Y0.toStringTag:n,GD=function(){try{var w=qy(is,"defineProperty");return w({},"",{}),w}catch{}}(),kot=et.clearTimeout!==Qs.clearTimeout&&et.clearTimeout,Aot=Bt&&Bt.now!==Qs.Date.now&&Bt.now,Iot=et.setTimeout!==Qs.setTimeout&&et.setTimeout,qD=xa.ceil,YD=xa.floor,_B=is.getOwnPropertySymbols,Dot=UD?UD.isBuffer:n,hae=et.isFinite,Rot=FD.join,jot=oae(is.keys,is),wa=xa.max,Fl=xa.min,Oot=Bt.now,Lot=et.parseInt,pae=xa.random,Pot=FD.reverse,CB=qy(et,"DataView"),qE=qy(et,"Map"),EB=qy(et,"Promise"),Ww=qy(et,"Set"),YE=qy(et,"WeakMap"),KE=qy(is,"create"),KD=YE&&new YE,Gw={},Mot=Yy(CB),$ot=Yy(qE),Fot=Yy(EB),Bot=Yy(Ww),Not=Yy(YE),ZD=Y0?Y0.prototype:n,ZE=ZD?ZD.valueOf:n,mae=ZD?ZD.toString:n;function se(w){if(Co(w)&&!Xn(w)&&!(w instanceof Dr)){if(w instanceof Hd)return w;if(ki.call(w,"__wrapped__"))return gle(w)}return new Hd(w)}var qw=function(){function w(){}return function(E){if(!Js(E))return{};if(cae)return cae(E);w.prototype=E;var j=new w;return w.prototype=n,j}}();function XD(){}function Hd(w,E){this.__wrapped__=w,this.__actions__=[],this.__chain__=!!E,this.__index__=0,this.__values__=n}se.templateSettings={escape:$n,evaluate:fi,interpolate:ri,variable:"",imports:{_:se}},se.prototype=XD.prototype,se.prototype.constructor=se,Hd.prototype=qw(XD.prototype),Hd.prototype.constructor=Hd;function Dr(w){this.__wrapped__=w,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=J,this.__views__=[]}function Vot(){var w=new Dr(this.__wrapped__);return w.__actions__=ac(this.__actions__),w.__dir__=this.__dir__,w.__filtered__=this.__filtered__,w.__iteratees__=ac(this.__iteratees__),w.__takeCount__=this.__takeCount__,w.__views__=ac(this.__views__),w}function Uot(){if(this.__filtered__){var w=new Dr(this);w.__dir__=-1,w.__filtered__=!0}else w=this.clone(),w.__dir__*=-1;return w}function Hot(){var w=this.__wrapped__.value(),E=this.__dir__,j=Xn(w),M=E<0,K=j?w.length:0,le=tlt(0,K,this.__views__),ye=le.start,Ee=le.end,Me=Ee-ye,it=M?Ee:ye-1,st=this.__iteratees__,lt=st.length,It=0,en=Fl(Me,this.__takeCount__);if(!j||!M&&K==Me&&en==Me)return Bae(w,this.__actions__);var Sn=[];e:for(;Me--&&It<en;){it+=E;for(var ur=-1,Tn=w[it];++ur<lt;){var kr=st[ur],Br=kr.iteratee,ed=kr.type,Su=Br(Tn);if(ed==$)Tn=Su;else if(!Su){if(ed==P)continue e;break e}}Sn[It++]=Tn}return Sn}Dr.prototype=qw(XD.prototype),Dr.prototype.constructor=Dr;function Hy(w){var E=-1,j=w==null?0:w.length;for(this.clear();++E<j;){var M=w[E];this.set(M[0],M[1])}}function zot(){this.__data__=KE?KE(null):{},this.size=0}function Wot(w){var E=this.has(w)&&delete this.__data__[w];return this.size-=E?1:0,E}function Got(w){var E=this.__data__;if(KE){var j=E[w];return j===l?n:j}return ki.call(E,w)?E[w]:n}function qot(w){var E=this.__data__;return KE?E[w]!==n:ki.call(E,w)}function Yot(w,E){var j=this.__data__;return this.size+=this.has(w)?0:1,j[w]=KE&&E===n?l:E,this}Hy.prototype.clear=zot,Hy.prototype.delete=Wot,Hy.prototype.get=Got,Hy.prototype.has=qot,Hy.prototype.set=Yot;function Gm(w){var E=-1,j=w==null?0:w.length;for(this.clear();++E<j;){var M=w[E];this.set(M[0],M[1])}}function Kot(){this.__data__=[],this.size=0}function Zot(w){var E=this.__data__,j=QD(E,w);if(j<0)return!1;var M=E.length-1;return j==M?E.pop():WD.call(E,j,1),--this.size,!0}function Xot(w){var E=this.__data__,j=QD(E,w);return j<0?n:E[j][1]}function Qot(w){return QD(this.__data__,w)>-1}function Jot(w,E){var j=this.__data__,M=QD(j,w);return M<0?(++this.size,j.push([w,E])):j[M][1]=E,this}Gm.prototype.clear=Kot,Gm.prototype.delete=Zot,Gm.prototype.get=Xot,Gm.prototype.has=Qot,Gm.prototype.set=Jot;function qm(w){var E=-1,j=w==null?0:w.length;for(this.clear();++E<j;){var M=w[E];this.set(M[0],M[1])}}function eat(){this.size=0,this.__data__={hash:new Hy,map:new(qE||Gm),string:new Hy}}function tat(w){var E=cR(this,w).delete(w);return this.size-=E?1:0,E}function nat(w){return cR(this,w).get(w)}function rat(w){return cR(this,w).has(w)}function iat(w,E){var j=cR(this,w),M=j.size;return j.set(w,E),this.size+=j.size==M?0:1,this}qm.prototype.clear=eat,qm.prototype.delete=tat,qm.prototype.get=nat,qm.prototype.has=rat,qm.prototype.set=iat;function zy(w){var E=-1,j=w==null?0:w.length;for(this.__data__=new qm;++E<j;)this.add(w[E])}function sat(w){return this.__data__.set(w,l),this}function oat(w){return this.__data__.has(w)}zy.prototype.add=zy.prototype.push=sat,zy.prototype.has=oat;function Qf(w){var E=this.__data__=new Gm(w);this.size=E.size}function aat(){this.__data__=new Gm,this.size=0}function lat(w){var E=this.__data__,j=E.delete(w);return this.size=E.size,j}function uat(w){return this.__data__.get(w)}function cat(w){return this.__data__.has(w)}function dat(w,E){var j=this.__data__;if(j instanceof Gm){var M=j.__data__;if(!qE||M.length<i-1)return M.push([w,E]),this.size=++j.size,this;j=this.__data__=new qm(M)}return j.set(w,E),this.size=j.size,this}Qf.prototype.clear=aat,Qf.prototype.delete=lat,Qf.prototype.get=uat,Qf.prototype.has=cat,Qf.prototype.set=dat;function gae(w,E){var j=Xn(w),M=!j&&Ky(w),K=!j&&!M&&J0(w),le=!j&&!M&&!K&&Xw(w),ye=j||M||K||le,Ee=ye?Zf(w.length,wot):[],Me=Ee.length;for(var it in w)(E||ki.call(w,it))&&!(ye&&(it=="length"||K&&(it=="offset"||it=="parent")||le&&(it=="buffer"||it=="byteLength"||it=="byteOffset")||Xm(it,Me)))&&Ee.push(it);return Ee}function vae(w){var E=w.length;return E?w[PB(0,E-1)]:n}function fat(w,E){return dR(ac(w),Wy(E,0,w.length))}function hat(w){return dR(ac(w))}function SB(w,E,j){(j!==n&&!Jf(w[E],j)||j===n&&!(E in w))&&Ym(w,E,j)}function XE(w,E,j){var M=w[E];(!(ki.call(w,E)&&Jf(M,j))||j===n&&!(E in w))&&Ym(w,E,j)}function QD(w,E){for(var j=w.length;j--;)if(Jf(w[j][0],E))return j;return-1}function pat(w,E,j,M){return K0(w,function(K,le,ye){E(M,K,j(K),ye)}),M}function yae(w,E){return w&&ap(E,Ha(E),w)}function mat(w,E){return w&&ap(E,uc(E),w)}function Ym(w,E,j){E=="__proto__"&&GD?GD(w,E,{configurable:!0,enumerable:!0,value:j,writable:!0}):w[E]=j}function TB(w,E){for(var j=-1,M=E.length,K=We(M),le=w==null;++j<M;)K[j]=le?n:oN(w,E[j]);return K}function Wy(w,E,j){return w===w&&(j!==n&&(w=w<=j?w:j),E!==n&&(w=w>=E?w:E)),w}function zd(w,E,j,M,K,le){var ye,Ee=E&f,Me=E&h,it=E&p;if(j&&(ye=K?j(w,M,K,le):j(w)),ye!==n)return ye;if(!Js(w))return w;var st=Xn(w);if(st){if(ye=rlt(w),!Ee)return ac(w,ye)}else{var lt=Bl(w),It=lt==xe||lt==Pe;if(J0(w))return Uae(w,Ee);if(lt==be||lt==te||It&&!K){if(ye=Me||It?{}:ale(w),!Ee)return Me?Gat(w,mat(ye,w)):Wat(w,yae(ye,w))}else{if(!zi[lt])return K?w:{};ye=ilt(w,lt,Ee)}}le||(le=new Qf);var en=le.get(w);if(en)return en;le.set(w,ye),Mle(w)?w.forEach(function(Tn){ye.add(zd(Tn,E,j,Tn,w,le))}):Lle(w)&&w.forEach(function(Tn,kr){ye.set(kr,zd(Tn,E,j,kr,w,le))});var Sn=it?Me?GB:WB:Me?uc:Ha,ur=st?n:Sn(w);return Qt(ur||w,function(Tn,kr){ur&&(kr=Tn,Tn=w[kr]),XE(ye,kr,zd(Tn,E,j,kr,w,le))}),ye}function gat(w){var E=Ha(w);return function(j){return bae(j,w,E)}}function bae(w,E,j){var M=j.length;if(w==null)return!M;for(w=is(w);M--;){var K=j[M],le=E[K],ye=w[K];if(ye===n&&!(K in w)||!le(ye))return!1}return!0}function xae(w,E,j){if(typeof w!="function")throw new Ud(o);return iS(function(){w.apply(n,j)},E)}function QE(w,E,j,M){var K=-1,le=Ln,ye=!0,Ee=w.length,Me=[],it=E.length;if(!Ee)return Me;j&&(E=Zn(E,_u(j))),M?(le=xo,ye=!1):E.length>=i&&(le=Vy,ye=!1,E=new zy(E));e:for(;++K<Ee;){var st=w[K],lt=j==null?st:j(st);if(st=M||st!==0?st:0,ye&&lt===lt){for(var It=it;It--;)if(E[It]===lt)continue e;Me.push(st)}else le(E,lt,M)||Me.push(st)}return Me}var K0=qae(op),wae=qae(AB,!0);function vat(w,E){var j=!0;return K0(w,function(M,K,le){return j=!!E(M,K,le),j}),j}function JD(w,E,j){for(var M=-1,K=w.length;++M<K;){var le=w[M],ye=E(le);if(ye!=null&&(Ee===n?ye===ye&&!Jc(ye):j(ye,Ee)))var Ee=ye,Me=le}return Me}function yat(w,E,j,M){var K=w.length;for(j=sr(j),j<0&&(j=-j>K?0:K+j),M=M===n||M>K?K:sr(M),M<0&&(M+=K),M=j>M?0:Fle(M);j<M;)w[j++]=E;return w}function _ae(w,E){var j=[];return K0(w,function(M,K,le){E(M,K,le)&&j.push(M)}),j}function dl(w,E,j,M,K){var le=-1,ye=w.length;for(j||(j=olt),K||(K=[]);++le<ye;){var Ee=w[le];E>0&&j(Ee)?E>1?dl(Ee,E-1,j,M,K):cs(K,Ee):M||(K[K.length]=Ee)}return K}var kB=Yae(),Cae=Yae(!0);function op(w,E){return w&&kB(w,E,Ha)}function AB(w,E){return w&&Cae(w,E,Ha)}function eR(w,E){return sn(E,function(j){return Qm(w[j])})}function Gy(w,E){E=X0(E,w);for(var j=0,M=E.length;w!=null&&j<M;)w=w[lp(E[j++])];return j&&j==M?w:n}function Eae(w,E,j){var M=E(w);return Xn(w)?M:cs(M,j(w))}function Cu(w){return w==null?w===n?Ye:de:Uy&&Uy in is(w)?elt(w):hlt(w)}function IB(w,E){return w>E}function bat(w,E){return w!=null&&ki.call(w,E)}function xat(w,E){return w!=null&&E in is(w)}function wat(w,E,j){return w>=Fl(E,j)&&w<wa(E,j)}function DB(w,E,j){for(var M=j?xo:Ln,K=w[0].length,le=w.length,ye=le,Ee=We(le),Me=1/0,it=[];ye--;){var st=w[ye];ye&&E&&(st=Zn(st,_u(E))),Me=Fl(st.length,Me),Ee[ye]=!j&&(E||K>=120&&st.length>=120)?new zy(ye&&st):n}st=w[0];var lt=-1,It=Ee[0];e:for(;++lt<K&&it.length<Me;){var en=st[lt],Sn=E?E(en):en;if(en=j||en!==0?en:0,!(It?Vy(It,Sn):M(it,Sn,j))){for(ye=le;--ye;){var ur=Ee[ye];if(!(ur?Vy(ur,Sn):M(w[ye],Sn,j)))continue e}It&&It.push(Sn),it.push(en)}}return it}function _at(w,E,j,M){return op(w,function(K,le,ye){E(M,j(K),le,ye)}),M}function JE(w,E,j){E=X0(E,w),w=dle(w,E);var M=w==null?w:w[lp(Gd(E))];return M==null?n:Je(M,w,j)}function Sae(w){return Co(w)&&Cu(w)==te}function Cat(w){return Co(w)&&Cu(w)==wt}function Eat(w){return Co(w)&&Cu(w)==me}function eS(w,E,j,M,K){return w===E?!0:w==null||E==null||!Co(w)&&!Co(E)?w!==w&&E!==E:Sat(w,E,j,M,eS,K)}function Sat(w,E,j,M,K,le){var ye=Xn(w),Ee=Xn(E),Me=ye?F:Bl(w),it=Ee?F:Bl(E);Me=Me==te?be:Me,it=it==te?be:it;var st=Me==be,lt=it==be,It=Me==it;if(It&&J0(w)){if(!J0(E))return!1;ye=!0,st=!1}if(It&&!st)return le||(le=new Qf),ye||Xw(w)?ile(w,E,j,M,K,le):Qat(w,E,Me,j,M,K,le);if(!(j&g)){var en=st&&ki.call(w,"__wrapped__"),Sn=lt&&ki.call(E,"__wrapped__");if(en||Sn){var ur=en?w.value():w,Tn=Sn?E.value():E;return le||(le=new Qf),K(ur,Tn,j,M,le)}}return It?(le||(le=new Qf),Jat(w,E,j,M,K,le)):!1}function Tat(w){return Co(w)&&Bl(w)==we}function RB(w,E,j,M){var K=j.length,le=K,ye=!M;if(w==null)return!le;for(w=is(w);K--;){var Ee=j[K];if(ye&&Ee[2]?Ee[1]!==w[Ee[0]]:!(Ee[0]in w))return!1}for(;++K<le;){Ee=j[K];var Me=Ee[0],it=w[Me],st=Ee[1];if(ye&&Ee[2]){if(it===n&&!(Me in w))return!1}else{var lt=new Qf;if(M)var It=M(it,st,Me,w,E,lt);if(!(It===n?eS(st,it,g|v,M,lt):It))return!1}}return!0}function Tae(w){if(!Js(w)||llt(w))return!1;var E=Qm(w)?Tot:ic;return E.test(Yy(w))}function kat(w){return Co(w)&&Cu(w)==He}function Aat(w){return Co(w)&&Bl(w)==Ne}function Iat(w){return Co(w)&&vR(w.length)&&!!ns[Cu(w)]}function kae(w){return typeof w=="function"?w:w==null?cc:typeof w=="object"?Xn(w)?Dae(w[0],w[1]):Iae(w):Kle(w)}function jB(w){if(!rS(w))return jot(w);var E=[];for(var j in is(w))ki.call(w,j)&&j!="constructor"&&E.push(j);return E}function Dat(w){if(!Js(w))return flt(w);var E=rS(w),j=[];for(var M in w)M=="constructor"&&(E||!ki.call(w,M))||j.push(M);return j}function OB(w,E){return w<E}function Aae(w,E){var j=-1,M=lc(w)?We(w.length):[];return K0(w,function(K,le,ye){M[++j]=E(K,le,ye)}),M}function Iae(w){var E=YB(w);return E.length==1&&E[0][2]?ule(E[0][0],E[0][1]):function(j){return j===w||RB(j,w,E)}}function Dae(w,E){return ZB(w)&&lle(E)?ule(lp(w),E):function(j){var M=oN(j,w);return M===n&&M===E?aN(j,w):eS(E,M,g|v)}}function tR(w,E,j,M,K){w!==E&&kB(E,function(le,ye){if(K||(K=new Qf),Js(le))Rat(w,E,ye,j,tR,M,K);else{var Ee=M?M(QB(w,ye),le,ye+"",w,E,K):n;Ee===n&&(Ee=le),SB(w,ye,Ee)}},uc)}function Rat(w,E,j,M,K,le,ye){var Ee=QB(w,j),Me=QB(E,j),it=ye.get(Me);if(it){SB(w,j,it);return}var st=le?le(Ee,Me,j+"",w,E,ye):n,lt=st===n;if(lt){var It=Xn(Me),en=!It&&J0(Me),Sn=!It&&!en&&Xw(Me);st=Me,It||en||Sn?Xn(Ee)?st=Ee:No(Ee)?st=ac(Ee):en?(lt=!1,st=Uae(Me,!0)):Sn?(lt=!1,st=Hae(Me,!0)):st=[]:sS(Me)||Ky(Me)?(st=Ee,Ky(Ee)?st=Ble(Ee):(!Js(Ee)||Qm(Ee))&&(st=ale(Me))):lt=!1}lt&&(ye.set(Me,st),K(st,Me,M,le,ye),ye.delete(Me)),SB(w,j,st)}function Rae(w,E){var j=w.length;if(j)return E+=E<0?j:0,Xm(E,j)?w[E]:n}function jae(w,E,j){E.length?E=Zn(E,function(le){return Xn(le)?function(ye){return Gy(ye,le.length===1?le[0]:le)}:le}):E=[cc];var M=-1;E=Zn(E,_u(wn()));var K=Aae(w,function(le,ye,Ee){var Me=Zn(E,function(it){return it(le)});return{criteria:Me,index:++M,value:le}});return sp(K,function(le,ye){return zat(le,ye,j)})}function jat(w,E){return Oae(w,E,function(j,M){return aN(w,M)})}function Oae(w,E,j){for(var M=-1,K=E.length,le={};++M<K;){var ye=E[M],Ee=Gy(w,ye);j(Ee,ye)&&tS(le,X0(ye,w),Ee)}return le}function Oat(w){return function(E){return Gy(E,w)}}function LB(w,E,j,M){var K=M?wo:qn,le=-1,ye=E.length,Ee=w;for(w===E&&(E=ac(E)),j&&(Ee=Zn(w,_u(j)));++le<ye;)for(var Me=0,it=E[le],st=j?j(it):it;(Me=K(Ee,st,Me,M))>-1;)Ee!==w&&WD.call(Ee,Me,1),WD.call(w,Me,1);return w}function Lae(w,E){for(var j=w?E.length:0,M=j-1;j--;){var K=E[j];if(j==M||K!==le){var le=K;Xm(K)?WD.call(w,K,1):FB(w,K)}}return w}function PB(w,E){return w+YD(pae()*(E-w+1))}function Lat(w,E,j,M){for(var K=-1,le=wa(qD((E-w)/(j||1)),0),ye=We(le);le--;)ye[M?le:++K]=w,w+=j;return ye}function MB(w,E){var j="";if(!w||E<1||E>V)return j;do E%2&&(j+=w),E=YD(E/2),E&&(w+=w);while(E);return j}function dr(w,E){return JB(cle(w,E,cc),w+"")}function Pat(w){return vae(Qw(w))}function Mat(w,E){var j=Qw(w);return dR(j,Wy(E,0,j.length))}function tS(w,E,j,M){if(!Js(w))return w;E=X0(E,w);for(var K=-1,le=E.length,ye=le-1,Ee=w;Ee!=null&&++K<le;){var Me=lp(E[K]),it=j;if(Me==="__proto__"||Me==="constructor"||Me==="prototype")return w;if(K!=ye){var st=Ee[Me];it=M?M(st,Me,Ee):n,it===n&&(it=Js(st)?st:Xm(E[K+1])?[]:{})}XE(Ee,Me,it),Ee=Ee[Me]}return w}var Pae=KD?function(w,E){return KD.set(w,E),w}:cc,$at=GD?function(w,E){return GD(w,"toString",{configurable:!0,enumerable:!1,value:uN(E),writable:!0})}:cc;function Fat(w){return dR(Qw(w))}function Wd(w,E,j){var M=-1,K=w.length;E<0&&(E=-E>K?0:K+E),j=j>K?K:j,j<0&&(j+=K),K=E>j?0:j-E>>>0,E>>>=0;for(var le=We(K);++M<K;)le[M]=w[M+E];return le}function Bat(w,E){var j;return K0(w,function(M,K,le){return j=E(M,K,le),!j}),!!j}function nR(w,E,j){var M=0,K=w==null?M:w.length;if(typeof E=="number"&&E===E&&K<=fe){for(;M<K;){var le=M+K>>>1,ye=w[le];ye!==null&&!Jc(ye)&&(j?ye<=E:ye<E)?M=le+1:K=le}return K}return $B(w,E,cc,j)}function $B(w,E,j,M){var K=0,le=w==null?0:w.length;if(le===0)return 0;E=j(E);for(var ye=E!==E,Ee=E===null,Me=Jc(E),it=E===n;K<le;){var st=YD((K+le)/2),lt=j(w[st]),It=lt!==n,en=lt===null,Sn=lt===lt,ur=Jc(lt);if(ye)var Tn=M||Sn;else it?Tn=Sn&&(M||It):Ee?Tn=Sn&&It&&(M||!en):Me?Tn=Sn&&It&&!en&&(M||!ur):en||ur?Tn=!1:Tn=M?lt<=E:lt<E;Tn?K=st+1:le=st}return Fl(le,X)}function Mae(w,E){for(var j=-1,M=w.length,K=0,le=[];++j<M;){var ye=w[j],Ee=E?E(ye):ye;if(!j||!Jf(Ee,Me)){var Me=Ee;le[K++]=ye===0?0:ye}}return le}function $ae(w){return typeof w=="number"?w:Jc(w)?ie:+w}function Qc(w){if(typeof w=="string")return w;if(Xn(w))return Zn(w,Qc)+"";if(Jc(w))return mae?mae.call(w):"";var E=w+"";return E=="0"&&1/w==-Q?"-0":E}function Z0(w,E,j){var M=-1,K=Ln,le=w.length,ye=!0,Ee=[],Me=Ee;if(j)ye=!1,K=xo;else if(le>=i){var it=E?null:Zat(w);if(it)return $D(it);ye=!1,K=Vy,Me=new zy}else Me=E?[]:Ee;e:for(;++M<le;){var st=w[M],lt=E?E(st):st;if(st=j||st!==0?st:0,ye&&lt===lt){for(var It=Me.length;It--;)if(Me[It]===lt)continue e;E&&Me.push(lt),Ee.push(st)}else K(Me,lt,j)||(Me!==Ee&&Me.push(lt),Ee.push(st))}return Ee}function FB(w,E){return E=X0(E,w),w=dle(w,E),w==null||delete w[lp(Gd(E))]}function Fae(w,E,j,M){return tS(w,E,j(Gy(w,E)),M)}function rR(w,E,j,M){for(var K=w.length,le=M?K:-1;(M?le--:++le<K)&&E(w[le],le,w););return j?Wd(w,M?0:le,M?le+1:K):Wd(w,M?le+1:0,M?K:le)}function Bae(w,E){var j=w;return j instanceof Dr&&(j=j.value()),Ua(E,function(M,K){return K.func.apply(K.thisArg,cs([M],K.args))},j)}function BB(w,E,j){var M=w.length;if(M<2)return M?Z0(w[0]):[];for(var K=-1,le=We(M);++K<M;)for(var ye=w[K],Ee=-1;++Ee<M;)Ee!=K&&(le[K]=QE(le[K]||ye,w[Ee],E,j));return Z0(dl(le,1),E,j)}function Nae(w,E,j){for(var M=-1,K=w.length,le=E.length,ye={};++M<K;){var Ee=M<le?E[M]:n;j(ye,w[M],Ee)}return ye}function NB(w){return No(w)?w:[]}function VB(w){return typeof w=="function"?w:cc}function X0(w,E){return Xn(w)?w:ZB(w,E)?[w]:mle(wi(w))}var Nat=dr;function Q0(w,E,j){var M=w.length;return j=j===n?M:j,!E&&j>=M?w:Wd(w,E,j)}var Vae=kot||function(w){return Qs.clearTimeout(w)};function Uae(w,E){if(E)return w.slice();var j=w.length,M=uae?uae(j):new w.constructor(j);return w.copy(M),M}function UB(w){var E=new w.constructor(w.byteLength);return new HD(E).set(new HD(w)),E}function Vat(w,E){var j=E?UB(w.buffer):w.buffer;return new w.constructor(j,w.byteOffset,w.byteLength)}function Uat(w){var E=new w.constructor(w.source,Lw.exec(w));return E.lastIndex=w.lastIndex,E}function Hat(w){return ZE?is(ZE.call(w)):{}}function Hae(w,E){var j=E?UB(w.buffer):w.buffer;return new w.constructor(j,w.byteOffset,w.length)}function zae(w,E){if(w!==E){var j=w!==n,M=w===null,K=w===w,le=Jc(w),ye=E!==n,Ee=E===null,Me=E===E,it=Jc(E);if(!Ee&&!it&&!le&&w>E||le&&ye&&Me&&!Ee&&!it||M&&ye&&Me||!j&&Me||!K)return 1;if(!M&&!le&&!it&&w<E||it&&j&&K&&!M&&!le||Ee&&j&&K||!ye&&K||!Me)return-1}return 0}function zat(w,E,j){for(var M=-1,K=w.criteria,le=E.criteria,ye=K.length,Ee=j.length;++M<ye;){var Me=zae(K[M],le[M]);if(Me){if(M>=Ee)return Me;var it=j[M];return Me*(it=="desc"?-1:1)}}return w.index-E.index}function Wae(w,E,j,M){for(var K=-1,le=w.length,ye=j.length,Ee=-1,Me=E.length,it=wa(le-ye,0),st=We(Me+it),lt=!M;++Ee<Me;)st[Ee]=E[Ee];for(;++K<ye;)(lt||K<le)&&(st[j[K]]=w[K]);for(;it--;)st[Ee++]=w[K++];return st}function Gae(w,E,j,M){for(var K=-1,le=w.length,ye=-1,Ee=j.length,Me=-1,it=E.length,st=wa(le-Ee,0),lt=We(st+it),It=!M;++K<st;)lt[K]=w[K];for(var en=K;++Me<it;)lt[en+Me]=E[Me];for(;++ye<Ee;)(It||K<le)&&(lt[en+j[ye]]=w[K++]);return lt}function ac(w,E){var j=-1,M=w.length;for(E||(E=We(M));++j<M;)E[j]=w[j];return E}function ap(w,E,j,M){var K=!j;j||(j={});for(var le=-1,ye=E.length;++le<ye;){var Ee=E[le],Me=M?M(j[Ee],w[Ee],Ee,j,w):n;Me===n&&(Me=w[Ee]),K?Ym(j,Ee,Me):XE(j,Ee,Me)}return j}function Wat(w,E){return ap(w,KB(w),E)}function Gat(w,E){return ap(w,sle(w),E)}function iR(w,E){return function(j,M){var K=Xn(j)?Wt:pat,le=E?E():{};return K(j,w,wn(M,2),le)}}function Yw(w){return dr(function(E,j){var M=-1,K=j.length,le=K>1?j[K-1]:n,ye=K>2?j[2]:n;for(le=w.length>3&&typeof le=="function"?(K--,le):n,ye&&Eu(j[0],j[1],ye)&&(le=K<3?n:le,K=1),E=is(E);++M<K;){var Ee=j[M];Ee&&w(E,Ee,M,le)}return E})}function qae(w,E){return function(j,M){if(j==null)return j;if(!lc(j))return w(j,M);for(var K=j.length,le=E?K:-1,ye=is(j);(E?le--:++le<K)&&M(ye[le],le,ye)!==!1;);return j}}function Yae(w){return function(E,j,M){for(var K=-1,le=is(E),ye=M(E),Ee=ye.length;Ee--;){var Me=ye[w?Ee:++K];if(j(le[Me],Me,le)===!1)break}return E}}function qat(w,E,j){var M=E&y,K=nS(w);function le(){var ye=this&&this!==Qs&&this instanceof le?K:w;return ye.apply(M?j:this,arguments)}return le}function Kae(w){return function(E){E=wi(E);var j=Vw(E)?Xf(E):n,M=j?j[0]:E.charAt(0),K=j?Q0(j,1).join(""):E.slice(1);return M[w]()+K}}function Kw(w){return function(E){return Ua(qle(Gle(E).replace(dB,"")),w,"")}}function nS(w){return function(){var E=arguments;switch(E.length){case 0:return new w;case 1:return new w(E[0]);case 2:return new w(E[0],E[1]);case 3:return new w(E[0],E[1],E[2]);case 4:return new w(E[0],E[1],E[2],E[3]);case 5:return new w(E[0],E[1],E[2],E[3],E[4]);case 6:return new w(E[0],E[1],E[2],E[3],E[4],E[5]);case 7:return new w(E[0],E[1],E[2],E[3],E[4],E[5],E[6])}var j=qw(w.prototype),M=w.apply(j,E);return Js(M)?M:j}}function Yat(w,E,j){var M=nS(w);function K(){for(var le=arguments.length,ye=We(le),Ee=le,Me=Zw(K);Ee--;)ye[Ee]=arguments[Ee];var it=le<3&&ye[0]!==Me&&ye[le-1]!==Me?[]:q0(ye,Me);if(le-=it.length,le<j)return ele(w,E,sR,K.placeholder,n,ye,it,n,n,j-le);var st=this&&this!==Qs&&this instanceof K?M:w;return Je(st,this,ye)}return K}function Zae(w){return function(E,j,M){var K=is(E);if(!lc(E)){var le=wn(j,3);E=Ha(E),j=function(Ee){return le(K[Ee],Ee,K)}}var ye=w(E,j,M);return ye>-1?K[le?E[ye]:ye]:n}}function Xae(w){return Zm(function(E){var j=E.length,M=j,K=Hd.prototype.thru;for(w&&E.reverse();M--;){var le=E[M];if(typeof le!="function")throw new Ud(o);if(K&&!ye&&uR(le)=="wrapper")var ye=new Hd([],!0)}for(M=ye?M:j;++M<j;){le=E[M];var Ee=uR(le),Me=Ee=="wrapper"?qB(le):n;Me&&XB(Me[0])&&Me[1]==(A|_|S|k)&&!Me[4].length&&Me[9]==1?ye=ye[uR(Me[0])].apply(ye,Me[3]):ye=le.length==1&&XB(le)?ye[Ee]():ye.thru(le)}return function(){var it=arguments,st=it[0];if(ye&&it.length==1&&Xn(st))return ye.plant(st).value();for(var lt=0,It=j?E[lt].apply(this,it):st;++lt<j;)It=E[lt].call(this,It);return It}})}function sR(w,E,j,M,K,le,ye,Ee,Me,it){var st=E&A,lt=E&y,It=E&x,en=E&(_|C),Sn=E&I,ur=It?n:nS(w);function Tn(){for(var kr=arguments.length,Br=We(kr),ed=kr;ed--;)Br[ed]=arguments[ed];if(en)var Su=Zw(Tn),td=oot(Br,Su);if(M&&(Br=Wae(Br,M,K,en)),le&&(Br=Gae(Br,le,ye,en)),kr-=td,en&&kr<it){var Vo=q0(Br,Su);return ele(w,E,sR,Tn.placeholder,j,Br,Vo,Ee,Me,it-kr)}var eh=lt?j:this,eg=It?eh[w]:w;return kr=Br.length,Ee?Br=plt(Br,Ee):Sn&&kr>1&&Br.reverse(),st&&Me<kr&&(Br.length=Me),this&&this!==Qs&&this instanceof Tn&&(eg=ur||nS(eg)),eg.apply(eh,Br)}return Tn}function Qae(w,E){return function(j,M){return _at(j,w,E(M),{})}}function oR(w,E){return function(j,M){var K;if(j===n&&M===n)return E;if(j!==n&&(K=j),M!==n){if(K===n)return M;typeof j=="string"||typeof M=="string"?(j=Qc(j),M=Qc(M)):(j=$ae(j),M=$ae(M)),K=w(j,M)}return K}}function HB(w){return Zm(function(E){return E=Zn(E,_u(wn())),dr(function(j){var M=this;return w(E,function(K){return Je(K,M,j)})})})}function aR(w,E){E=E===n?" ":Qc(E);var j=E.length;if(j<2)return j?MB(E,w):E;var M=MB(E,qD(w/Uw(E)));return Vw(E)?Q0(Xf(M),0,w).join(""):M.slice(0,w)}function Kat(w,E,j,M){var K=E&y,le=nS(w);function ye(){for(var Ee=-1,Me=arguments.length,it=-1,st=M.length,lt=We(st+Me),It=this&&this!==Qs&&this instanceof ye?le:w;++it<st;)lt[it]=M[it];for(;Me--;)lt[it++]=arguments[++Ee];return Je(It,K?j:this,lt)}return ye}function Jae(w){return function(E,j,M){return M&&typeof M!="number"&&Eu(E,j,M)&&(j=M=n),E=Jm(E),j===n?(j=E,E=0):j=Jm(j),M=M===n?E<j?1:-1:Jm(M),Lat(E,j,M,w)}}function lR(w){return function(E,j){return typeof E=="string"&&typeof j=="string"||(E=qd(E),j=qd(j)),w(E,j)}}function ele(w,E,j,M,K,le,ye,Ee,Me,it){var st=E&_,lt=st?ye:n,It=st?n:ye,en=st?le:n,Sn=st?n:le;E|=st?S:T,E&=~(st?T:S),E&b||(E&=~(y|x));var ur=[w,E,K,en,lt,Sn,It,Ee,Me,it],Tn=j.apply(n,ur);return XB(w)&&fle(Tn,ur),Tn.placeholder=M,hle(Tn,w,E)}function zB(w){var E=xa[w];return function(j,M){if(j=qd(j),M=M==null?0:Fl(sr(M),292),M&&hae(j)){var K=(wi(j)+"e").split("e"),le=E(K[0]+"e"+(+K[1]+M));return K=(wi(le)+"e").split("e"),+(K[0]+"e"+(+K[1]-M))}return E(j)}}var Zat=Ww&&1/$D(new Ww([,-0]))[1]==Q?function(w){return new Ww(w)}:fN;function tle(w){return function(E){var j=Bl(E);return j==we?xB(E):j==Ne?hot(E):Bo(E,w(E))}}function Km(w,E,j,M,K,le,ye,Ee){var Me=E&x;if(!Me&&typeof w!="function")throw new Ud(o);var it=M?M.length:0;if(it||(E&=~(S|T),M=K=n),ye=ye===n?ye:wa(sr(ye),0),Ee=Ee===n?Ee:sr(Ee),it-=K?K.length:0,E&T){var st=M,lt=K;M=K=n}var It=Me?n:qB(w),en=[w,E,j,M,K,st,lt,le,ye,Ee];if(It&&dlt(en,It),w=en[0],E=en[1],j=en[2],M=en[3],K=en[4],Ee=en[9]=en[9]===n?Me?0:w.length:wa(en[9]-it,0),!Ee&&E&(_|C)&&(E&=~(_|C)),!E||E==y)var Sn=qat(w,E,j);else E==_||E==C?Sn=Yat(w,E,Ee):(E==S||E==(y|S))&&!K.length?Sn=Kat(w,E,j,M):Sn=sR.apply(n,en);var ur=It?Pae:fle;return hle(ur(Sn,en),w,E)}function nle(w,E,j,M){return w===n||Jf(w,zw[j])&&!ki.call(M,j)?E:w}function rle(w,E,j,M,K,le){return Js(w)&&Js(E)&&(le.set(E,w),tR(w,E,n,rle,le),le.delete(E)),w}function Xat(w){return sS(w)?n:w}function ile(w,E,j,M,K,le){var ye=j&g,Ee=w.length,Me=E.length;if(Ee!=Me&&!(ye&&Me>Ee))return!1;var it=le.get(w),st=le.get(E);if(it&&st)return it==E&&st==w;var lt=-1,It=!0,en=j&v?new zy:n;for(le.set(w,E),le.set(E,w);++lt<Ee;){var Sn=w[lt],ur=E[lt];if(M)var Tn=ye?M(ur,Sn,lt,E,w,le):M(Sn,ur,lt,w,E,le);if(Tn!==n){if(Tn)continue;It=!1;break}if(en){if(!rs(E,function(kr,Br){if(!Vy(en,Br)&&(Sn===kr||K(Sn,kr,j,M,le)))return en.push(Br)})){It=!1;break}}else if(!(Sn===ur||K(Sn,ur,j,M,le))){It=!1;break}}return le.delete(w),le.delete(E),It}function Qat(w,E,j,M,K,le,ye){switch(j){case pt:if(w.byteLength!=E.byteLength||w.byteOffset!=E.byteOffset)return!1;w=w.buffer,E=E.buffer;case wt:return!(w.byteLength!=E.byteLength||!le(new HD(w),new HD(E)));case ce:case me:case De:return Jf(+w,+E);case Ie:return w.name==E.name&&w.message==E.message;case He:case Fe:return w==E+"";case we:var Ee=xB;case Ne:var Me=M&g;if(Ee||(Ee=$D),w.size!=E.size&&!Me)return!1;var it=ye.get(w);if(it)return it==E;M|=v,ye.set(w,E);var st=ile(Ee(w),Ee(E),M,K,le,ye);return ye.delete(w),st;case nt:if(ZE)return ZE.call(w)==ZE.call(E)}return!1}function Jat(w,E,j,M,K,le){var ye=j&g,Ee=WB(w),Me=Ee.length,it=WB(E),st=it.length;if(Me!=st&&!ye)return!1;for(var lt=Me;lt--;){var It=Ee[lt];if(!(ye?It in E:ki.call(E,It)))return!1}var en=le.get(w),Sn=le.get(E);if(en&&Sn)return en==E&&Sn==w;var ur=!0;le.set(w,E),le.set(E,w);for(var Tn=ye;++lt<Me;){It=Ee[lt];var kr=w[It],Br=E[It];if(M)var ed=ye?M(Br,kr,It,E,w,le):M(kr,Br,It,w,E,le);if(!(ed===n?kr===Br||K(kr,Br,j,M,le):ed)){ur=!1;break}Tn||(Tn=It=="constructor")}if(ur&&!Tn){var Su=w.constructor,td=E.constructor;Su!=td&&"constructor"in w&&"constructor"in E&&!(typeof Su=="function"&&Su instanceof Su&&typeof td=="function"&&td instanceof td)&&(ur=!1)}return le.delete(w),le.delete(E),ur}function Zm(w){return JB(cle(w,n,ble),w+"")}function WB(w){return Eae(w,Ha,KB)}function GB(w){return Eae(w,uc,sle)}var qB=KD?function(w){return KD.get(w)}:fN;function uR(w){for(var E=w.name+"",j=Gw[E],M=ki.call(Gw,E)?j.length:0;M--;){var K=j[M],le=K.func;if(le==null||le==w)return K.name}return E}function Zw(w){var E=ki.call(se,"placeholder")?se:w;return E.placeholder}function wn(){var w=se.iteratee||cN;return w=w===cN?kae:w,arguments.length?w(arguments[0],arguments[1]):w}function cR(w,E){var j=w.__data__;return alt(E)?j[typeof E=="string"?"string":"hash"]:j.map}function YB(w){for(var E=Ha(w),j=E.length;j--;){var M=E[j],K=w[M];E[j]=[M,K,lle(K)]}return E}function qy(w,E){var j=cot(w,E);return Tae(j)?j:n}function elt(w){var E=ki.call(w,Uy),j=w[Uy];try{w[Uy]=n;var M=!0}catch{}var K=VD.call(w);return M&&(E?w[Uy]=j:delete w[Uy]),K}var KB=_B?function(w){return w==null?[]:(w=is(w),sn(_B(w),function(E){return dae.call(w,E)}))}:hN,sle=_B?function(w){for(var E=[];w;)cs(E,KB(w)),w=zD(w);return E}:hN,Bl=Cu;(CB&&Bl(new CB(new ArrayBuffer(1)))!=pt||qE&&Bl(new qE)!=we||EB&&Bl(EB.resolve())!=ve||Ww&&Bl(new Ww)!=Ne||YE&&Bl(new YE)!=Ge)&&(Bl=function(w){var E=Cu(w),j=E==be?w.constructor:n,M=j?Yy(j):"";if(M)switch(M){case Mot:return pt;case $ot:return we;case Fot:return ve;case Bot:return Ne;case Not:return Ge}return E});function tlt(w,E,j){for(var M=-1,K=j.length;++M<K;){var le=j[M],ye=le.size;switch(le.type){case"drop":w+=ye;break;case"dropRight":E-=ye;break;case"take":E=Fl(E,w+ye);break;case"takeRight":w=wa(w,E-ye);break}}return{start:w,end:E}}function nlt(w){var E=w.match(Zc);return E?E[1].split(rp):[]}function ole(w,E,j){E=X0(E,w);for(var M=-1,K=E.length,le=!1;++M<K;){var ye=lp(E[M]);if(!(le=w!=null&&j(w,ye)))break;w=w[ye]}return le||++M!=K?le:(K=w==null?0:w.length,!!K&&vR(K)&&Xm(ye,K)&&(Xn(w)||Ky(w)))}function rlt(w){var E=w.length,j=new w.constructor(E);return E&&typeof w[0]=="string"&&ki.call(w,"index")&&(j.index=w.index,j.input=w.input),j}function ale(w){return typeof w.constructor=="function"&&!rS(w)?qw(zD(w)):{}}function ilt(w,E,j){var M=w.constructor;switch(E){case wt:return UB(w);case ce:case me:return new M(+w);case pt:return Vat(w,j);case on:case mn:case gn:case br:case yo:case Kn:case ti:case Hi:case ea:return Hae(w,j);case we:return new M;case De:case Fe:return new M(w);case He:return Uat(w);case Ne:return new M;case nt:return Hat(w)}}function slt(w,E){var j=E.length;if(!j)return w;var M=j-1;return E[M]=(j>1?"& ":"")+E[M],E=E.join(j>2?", ":" "),w.replace(Fd,`{
/* [wrapped with `+E+`] */
`)}function olt(w){return Xn(w)||Ky(w)||!!(fae&&w&&w[fae])}function Xm(w,E){var j=typeof w;return E=E??V,!!E&&(j=="number"||j!="symbol"&&Pw.test(w))&&w>-1&&w%1==0&&w<E}function Eu(w,E,j){if(!Js(j))return!1;var M=typeof E;return(M=="number"?lc(j)&&Xm(E,j.length):M=="string"&&E in j)?Jf(j[E],w):!1}function ZB(w,E){if(Xn(w))return!1;var j=typeof w;return j=="number"||j=="symbol"||j=="boolean"||w==null||Jc(w)?!0:ts.test(w)||!$l.test(w)||E!=null&&w in is(E)}function alt(w){var E=typeof w;return E=="string"||E=="number"||E=="symbol"||E=="boolean"?w!=="__proto__":w===null}function XB(w){var E=uR(w),j=se[E];if(typeof j!="function"||!(E in Dr.prototype))return!1;if(w===j)return!0;var M=qB(j);return!!M&&w===M[0]}function llt(w){return!!lae&&lae in w}var ult=BD?Qm:pN;function rS(w){var E=w&&w.constructor,j=typeof E=="function"&&E.prototype||zw;return w===j}function lle(w){return w===w&&!Js(w)}function ule(w,E){return function(j){return j==null?!1:j[w]===E&&(E!==n||w in is(j))}}function clt(w){var E=mR(w,function(M){return j.size===u&&j.clear(),M}),j=E.cache;return E}function dlt(w,E){var j=w[1],M=E[1],K=j|M,le=K<(y|x|A),ye=M==A&&j==_||M==A&&j==k&&w[7].length<=E[8]||M==(A|k)&&E[7].length<=E[8]&&j==_;if(!(le||ye))return w;M&y&&(w[2]=E[2],K|=j&y?0:b);var Ee=E[3];if(Ee){var Me=w[3];w[3]=Me?Wae(Me,Ee,E[4]):Ee,w[4]=Me?q0(w[3],d):E[4]}return Ee=E[5],Ee&&(Me=w[5],w[5]=Me?Gae(Me,Ee,E[6]):Ee,w[6]=Me?q0(w[5],d):E[6]),Ee=E[7],Ee&&(w[7]=Ee),M&A&&(w[8]=w[8]==null?E[8]:Fl(w[8],E[8])),w[9]==null&&(w[9]=E[9]),w[0]=E[0],w[1]=K,w}function flt(w){var E=[];if(w!=null)for(var j in is(w))E.push(j);return E}function hlt(w){return VD.call(w)}function cle(w,E,j){return E=wa(E===n?w.length-1:E,0),function(){for(var M=arguments,K=-1,le=wa(M.length-E,0),ye=We(le);++K<le;)ye[K]=M[E+K];K=-1;for(var Ee=We(E+1);++K<E;)Ee[K]=M[K];return Ee[E]=j(ye),Je(w,this,Ee)}}function dle(w,E){return E.length<2?w:Gy(w,Wd(E,0,-1))}function plt(w,E){for(var j=w.length,M=Fl(E.length,j),K=ac(w);M--;){var le=E[M];w[M]=Xm(le,j)?K[le]:n}return w}function QB(w,E){if(!(E==="constructor"&&typeof w[E]=="function")&&E!="__proto__")return w[E]}var fle=ple(Pae),iS=Iot||function(w,E){return Qs.setTimeout(w,E)},JB=ple($at);function hle(w,E,j){var M=E+"";return JB(w,slt(M,mlt(nlt(M),j)))}function ple(w){var E=0,j=0;return function(){var M=Oot(),K=L-(M-j);if(j=M,K>0){if(++E>=O)return arguments[0]}else E=0;return w.apply(n,arguments)}}function dR(w,E){var j=-1,M=w.length,K=M-1;for(E=E===n?M:E;++j<E;){var le=PB(j,K),ye=w[le];w[le]=w[j],w[j]=ye}return w.length=E,w}var mle=clt(function(w){var E=[];return w.charCodeAt(0)===46&&E.push(""),w.replace(ya,function(j,M,K,le){E.push(K?le.replace(Ly,"$1"):M||j)}),E});function lp(w){if(typeof w=="string"||Jc(w))return w;var E=w+"";return E=="0"&&1/w==-Q?"-0":E}function Yy(w){if(w!=null){try{return ND.call(w)}catch{}try{return w+""}catch{}}return""}function mlt(w,E){return Qt(ue,function(j){var M="_."+j[0];E&j[1]&&!Ln(w,M)&&w.push(M)}),w.sort()}function gle(w){if(w instanceof Dr)return w.clone();var E=new Hd(w.__wrapped__,w.__chain__);return E.__actions__=ac(w.__actions__),E.__index__=w.__index__,E.__values__=w.__values__,E}function glt(w,E,j){(j?Eu(w,E,j):E===n)?E=1:E=wa(sr(E),0);var M=w==null?0:w.length;if(!M||E<1)return[];for(var K=0,le=0,ye=We(qD(M/E));K<M;)ye[le++]=Wd(w,K,K+=E);return ye}function vlt(w){for(var E=-1,j=w==null?0:w.length,M=0,K=[];++E<j;){var le=w[E];le&&(K[M++]=le)}return K}function ylt(){var w=arguments.length;if(!w)return[];for(var E=We(w-1),j=arguments[0],M=w;M--;)E[M-1]=arguments[M];return cs(Xn(j)?ac(j):[j],dl(E,1))}var blt=dr(function(w,E){return No(w)?QE(w,dl(E,1,No,!0)):[]}),xlt=dr(function(w,E){var j=Gd(E);return No(j)&&(j=n),No(w)?QE(w,dl(E,1,No,!0),wn(j,2)):[]}),wlt=dr(function(w,E){var j=Gd(E);return No(j)&&(j=n),No(w)?QE(w,dl(E,1,No,!0),n,j):[]});function _lt(w,E,j){var M=w==null?0:w.length;return M?(E=j||E===n?1:sr(E),Wd(w,E<0?0:E,M)):[]}function Clt(w,E,j){var M=w==null?0:w.length;return M?(E=j||E===n?1:sr(E),E=M-E,Wd(w,0,E<0?0:E)):[]}function Elt(w,E){return w&&w.length?rR(w,wn(E,3),!0,!0):[]}function Slt(w,E){return w&&w.length?rR(w,wn(E,3),!0):[]}function Tlt(w,E,j,M){var K=w==null?0:w.length;return K?(j&&typeof j!="number"&&Eu(w,E,j)&&(j=0,M=K),yat(w,E,j,M)):[]}function vle(w,E,j){var M=w==null?0:w.length;if(!M)return-1;var K=j==null?0:sr(j);return K<0&&(K=wa(M+K,0)),En(w,wn(E,3),K)}function yle(w,E,j){var M=w==null?0:w.length;if(!M)return-1;var K=M-1;return j!==n&&(K=sr(j),K=j<0?wa(M+K,0):Fl(K,M-1)),En(w,wn(E,3),K,!0)}function ble(w){var E=w==null?0:w.length;return E?dl(w,1):[]}function klt(w){var E=w==null?0:w.length;return E?dl(w,Q):[]}function Alt(w,E){var j=w==null?0:w.length;return j?(E=E===n?1:sr(E),dl(w,E)):[]}function Ilt(w){for(var E=-1,j=w==null?0:w.length,M={};++E<j;){var K=w[E];M[K[0]]=K[1]}return M}function xle(w){return w&&w.length?w[0]:n}function Dlt(w,E,j){var M=w==null?0:w.length;if(!M)return-1;var K=j==null?0:sr(j);return K<0&&(K=wa(M+K,0)),qn(w,E,K)}function Rlt(w){var E=w==null?0:w.length;return E?Wd(w,0,-1):[]}var jlt=dr(function(w){var E=Zn(w,NB);return E.length&&E[0]===w[0]?DB(E):[]}),Olt=dr(function(w){var E=Gd(w),j=Zn(w,NB);return E===Gd(j)?E=n:j.pop(),j.length&&j[0]===w[0]?DB(j,wn(E,2)):[]}),Llt=dr(function(w){var E=Gd(w),j=Zn(w,NB);return E=typeof E=="function"?E:n,E&&j.pop(),j.length&&j[0]===w[0]?DB(j,n,E):[]});function Plt(w,E){return w==null?"":Rot.call(w,E)}function Gd(w){var E=w==null?0:w.length;return E?w[E-1]:n}function Mlt(w,E,j){var M=w==null?0:w.length;if(!M)return-1;var K=M;return j!==n&&(K=sr(j),K=K<0?wa(M+K,0):Fl(K,M-1)),E===E?mot(w,E,K):En(w,cl,K,!0)}function $lt(w,E){return w&&w.length?Rae(w,sr(E)):n}var Flt=dr(wle);function wle(w,E){return w&&w.length&&E&&E.length?LB(w,E):w}function Blt(w,E,j){return w&&w.length&&E&&E.length?LB(w,E,wn(j,2)):w}function Nlt(w,E,j){return w&&w.length&&E&&E.length?LB(w,E,n,j):w}var Vlt=Zm(function(w,E){var j=w==null?0:w.length,M=TB(w,E);return Lae(w,Zn(E,function(K){return Xm(K,j)?+K:K}).sort(zae)),M});function Ult(w,E){var j=[];if(!(w&&w.length))return j;var M=-1,K=[],le=w.length;for(E=wn(E,3);++M<le;){var ye=w[M];E(ye,M,w)&&(j.push(ye),K.push(M))}return Lae(w,K),j}function eN(w){return w==null?w:Pot.call(w)}function Hlt(w,E,j){var M=w==null?0:w.length;return M?(j&&typeof j!="number"&&Eu(w,E,j)?(E=0,j=M):(E=E==null?0:sr(E),j=j===n?M:sr(j)),Wd(w,E,j)):[]}function zlt(w,E){return nR(w,E)}function Wlt(w,E,j){return $B(w,E,wn(j,2))}function Glt(w,E){var j=w==null?0:w.length;if(j){var M=nR(w,E);if(M<j&&Jf(w[M],E))return M}return-1}function qlt(w,E){return nR(w,E,!0)}function Ylt(w,E,j){return $B(w,E,wn(j,2),!0)}function Klt(w,E){var j=w==null?0:w.length;if(j){var M=nR(w,E,!0)-1;if(Jf(w[M],E))return M}return-1}function Zlt(w){return w&&w.length?Mae(w):[]}function Xlt(w,E){return w&&w.length?Mae(w,wn(E,2)):[]}function Qlt(w){var E=w==null?0:w.length;return E?Wd(w,1,E):[]}function Jlt(w,E,j){return w&&w.length?(E=j||E===n?1:sr(E),Wd(w,0,E<0?0:E)):[]}function eut(w,E,j){var M=w==null?0:w.length;return M?(E=j||E===n?1:sr(E),E=M-E,Wd(w,E<0?0:E,M)):[]}function tut(w,E){return w&&w.length?rR(w,wn(E,3),!1,!0):[]}function nut(w,E){return w&&w.length?rR(w,wn(E,3)):[]}var rut=dr(function(w){return Z0(dl(w,1,No,!0))}),iut=dr(function(w){var E=Gd(w);return No(E)&&(E=n),Z0(dl(w,1,No,!0),wn(E,2))}),sut=dr(function(w){var E=Gd(w);return E=typeof E=="function"?E:n,Z0(dl(w,1,No,!0),n,E)});function out(w){return w&&w.length?Z0(w):[]}function aut(w,E){return w&&w.length?Z0(w,wn(E,2)):[]}function lut(w,E){return E=typeof E=="function"?E:n,w&&w.length?Z0(w,n,E):[]}function tN(w){if(!(w&&w.length))return[];var E=0;return w=sn(w,function(j){if(No(j))return E=wa(j.length,E),!0}),Zf(E,function(j){return Zn(w,ba(j))})}function _le(w,E){if(!(w&&w.length))return[];var j=tN(w);return E==null?j:Zn(j,function(M){return Je(E,n,M)})}var uut=dr(function(w,E){return No(w)?QE(w,E):[]}),cut=dr(function(w){return BB(sn(w,No))}),dut=dr(function(w){var E=Gd(w);return No(E)&&(E=n),BB(sn(w,No),wn(E,2))}),fut=dr(function(w){var E=Gd(w);return E=typeof E=="function"?E:n,BB(sn(w,No),n,E)}),hut=dr(tN);function put(w,E){return Nae(w||[],E||[],XE)}function mut(w,E){return Nae(w||[],E||[],tS)}var gut=dr(function(w){var E=w.length,j=E>1?w[E-1]:n;return j=typeof j=="function"?(w.pop(),j):n,_le(w,j)});function Cle(w){var E=se(w);return E.__chain__=!0,E}function vut(w,E){return E(w),w}function fR(w,E){return E(w)}var yut=Zm(function(w){var E=w.length,j=E?w[0]:0,M=this.__wrapped__,K=function(le){return TB(le,w)};return E>1||this.__actions__.length||!(M instanceof Dr)||!Xm(j)?this.thru(K):(M=M.slice(j,+j+(E?1:0)),M.__actions__.push({func:fR,args:[K],thisArg:n}),new Hd(M,this.__chain__).thru(function(le){return E&&!le.length&&le.push(n),le}))});function but(){return Cle(this)}function xut(){return new Hd(this.value(),this.__chain__)}function wut(){this.__values__===n&&(this.__values__=$le(this.value()));var w=this.__index__>=this.__values__.length,E=w?n:this.__values__[this.__index__++];return{done:w,value:E}}function _ut(){return this}function Cut(w){for(var E,j=this;j instanceof XD;){var M=gle(j);M.__index__=0,M.__values__=n,E?K.__wrapped__=M:E=M;var K=M;j=j.__wrapped__}return K.__wrapped__=w,E}function Eut(){var w=this.__wrapped__;if(w instanceof Dr){var E=w;return this.__actions__.length&&(E=new Dr(this)),E=E.reverse(),E.__actions__.push({func:fR,args:[eN],thisArg:n}),new Hd(E,this.__chain__)}return this.thru(eN)}function Sut(){return Bae(this.__wrapped__,this.__actions__)}var Tut=iR(function(w,E,j){ki.call(w,j)?++w[j]:Ym(w,j,1)});function kut(w,E,j){var M=Xn(w)?At:vat;return j&&Eu(w,E,j)&&(E=n),M(w,wn(E,3))}function Aut(w,E){var j=Xn(w)?sn:_ae;return j(w,wn(E,3))}var Iut=Zae(vle),Dut=Zae(yle);function Rut(w,E){return dl(hR(w,E),1)}function jut(w,E){return dl(hR(w,E),Q)}function Out(w,E,j){return j=j===n?1:sr(j),dl(hR(w,E),j)}function Ele(w,E){var j=Xn(w)?Qt:K0;return j(w,wn(E,3))}function Sle(w,E){var j=Xn(w)?Un:wae;return j(w,wn(E,3))}var Lut=iR(function(w,E,j){ki.call(w,j)?w[j].push(E):Ym(w,j,[E])});function Put(w,E,j,M){w=lc(w)?w:Qw(w),j=j&&!M?sr(j):0;var K=w.length;return j<0&&(j=wa(K+j,0)),yR(w)?j<=K&&w.indexOf(E,j)>-1:!!K&&qn(w,E,j)>-1}var Mut=dr(function(w,E,j){var M=-1,K=typeof E=="function",le=lc(w)?We(w.length):[];return K0(w,function(ye){le[++M]=K?Je(E,ye,j):JE(ye,E,j)}),le}),$ut=iR(function(w,E,j){Ym(w,j,E)});function hR(w,E){var j=Xn(w)?Zn:Aae;return j(w,wn(E,3))}function Fut(w,E,j,M){return w==null?[]:(Xn(E)||(E=E==null?[]:[E]),j=M?n:j,Xn(j)||(j=j==null?[]:[j]),jae(w,E,j))}var But=iR(function(w,E,j){w[j?0:1].push(E)},function(){return[[],[]]});function Nut(w,E,j){var M=Xn(w)?Ua:Fo,K=arguments.length<3;return M(w,wn(E,4),j,K,K0)}function Vut(w,E,j){var M=Xn(w)?Tr:Fo,K=arguments.length<3;return M(w,wn(E,4),j,K,wae)}function Uut(w,E){var j=Xn(w)?sn:_ae;return j(w,gR(wn(E,3)))}function Hut(w){var E=Xn(w)?vae:Pat;return E(w)}function zut(w,E,j){(j?Eu(w,E,j):E===n)?E=1:E=sr(E);var M=Xn(w)?fat:Mat;return M(w,E)}function Wut(w){var E=Xn(w)?hat:Fat;return E(w)}function Gut(w){if(w==null)return 0;if(lc(w))return yR(w)?Uw(w):w.length;var E=Bl(w);return E==we||E==Ne?w.size:jB(w).length}function qut(w,E,j){var M=Xn(w)?rs:Bat;return j&&Eu(w,E,j)&&(E=n),M(w,wn(E,3))}var Yut=dr(function(w,E){if(w==null)return[];var j=E.length;return j>1&&Eu(w,E[0],E[1])?E=[]:j>2&&Eu(E[0],E[1],E[2])&&(E=[E[0]]),jae(w,dl(E,1),[])}),pR=Aot||function(){return Qs.Date.now()};function Kut(w,E){if(typeof E!="function")throw new Ud(o);return w=sr(w),function(){if(--w<1)return E.apply(this,arguments)}}function Tle(w,E,j){return E=j?n:E,E=w&&E==null?w.length:E,Km(w,A,n,n,n,n,E)}function kle(w,E){var j;if(typeof E!="function")throw new Ud(o);return w=sr(w),function(){return--w>0&&(j=E.apply(this,arguments)),w<=1&&(E=n),j}}var nN=dr(function(w,E,j){var M=y;if(j.length){var K=q0(j,Zw(nN));M|=S}return Km(w,M,E,j,K)}),Ale=dr(function(w,E,j){var M=y|x;if(j.length){var K=q0(j,Zw(Ale));M|=S}return Km(E,M,w,j,K)});function Ile(w,E,j){E=j?n:E;var M=Km(w,_,n,n,n,n,n,E);return M.placeholder=Ile.placeholder,M}function Dle(w,E,j){E=j?n:E;var M=Km(w,C,n,n,n,n,n,E);return M.placeholder=Dle.placeholder,M}function Rle(w,E,j){var M,K,le,ye,Ee,Me,it=0,st=!1,lt=!1,It=!0;if(typeof w!="function")throw new Ud(o);E=qd(E)||0,Js(j)&&(st=!!j.leading,lt="maxWait"in j,le=lt?wa(qd(j.maxWait)||0,E):le,It="trailing"in j?!!j.trailing:It);function en(Vo){var eh=M,eg=K;return M=K=n,it=Vo,ye=w.apply(eg,eh),ye}function Sn(Vo){return it=Vo,Ee=iS(kr,E),st?en(Vo):ye}function ur(Vo){var eh=Vo-Me,eg=Vo-it,Zle=E-eh;return lt?Fl(Zle,le-eg):Zle}function Tn(Vo){var eh=Vo-Me,eg=Vo-it;return Me===n||eh>=E||eh<0||lt&&eg>=le}function kr(){var Vo=pR();if(Tn(Vo))return Br(Vo);Ee=iS(kr,ur(Vo))}function Br(Vo){return Ee=n,It&&M?en(Vo):(M=K=n,ye)}function ed(){Ee!==n&&Vae(Ee),it=0,M=Me=K=Ee=n}function Su(){return Ee===n?ye:Br(pR())}function td(){var Vo=pR(),eh=Tn(Vo);if(M=arguments,K=this,Me=Vo,eh){if(Ee===n)return Sn(Me);if(lt)return Vae(Ee),Ee=iS(kr,E),en(Me)}return Ee===n&&(Ee=iS(kr,E)),ye}return td.cancel=ed,td.flush=Su,td}var Zut=dr(function(w,E){return xae(w,1,E)}),Xut=dr(function(w,E,j){return xae(w,qd(E)||0,j)});function Qut(w){return Km(w,I)}function mR(w,E){if(typeof w!="function"||E!=null&&typeof E!="function")throw new Ud(o);var j=function(){var M=arguments,K=E?E.apply(this,M):M[0],le=j.cache;if(le.has(K))return le.get(K);var ye=w.apply(this,M);return j.cache=le.set(K,ye)||le,ye};return j.cache=new(mR.Cache||qm),j}mR.Cache=qm;function gR(w){if(typeof w!="function")throw new Ud(o);return function(){var E=arguments;switch(E.length){case 0:return!w.call(this);case 1:return!w.call(this,E[0]);case 2:return!w.call(this,E[0],E[1]);case 3:return!w.call(this,E[0],E[1],E[2])}return!w.apply(this,E)}}function Jut(w){return kle(2,w)}var ect=Nat(function(w,E){E=E.length==1&&Xn(E[0])?Zn(E[0],_u(wn())):Zn(dl(E,1),_u(wn()));var j=E.length;return dr(function(M){for(var K=-1,le=Fl(M.length,j);++K<le;)M[K]=E[K].call(this,M[K]);return Je(w,this,M)})}),rN=dr(function(w,E){var j=q0(E,Zw(rN));return Km(w,S,n,E,j)}),jle=dr(function(w,E){var j=q0(E,Zw(jle));return Km(w,T,n,E,j)}),tct=Zm(function(w,E){return Km(w,k,n,n,n,E)});function nct(w,E){if(typeof w!="function")throw new Ud(o);return E=E===n?E:sr(E),dr(w,E)}function rct(w,E){if(typeof w!="function")throw new Ud(o);return E=E==null?0:wa(sr(E),0),dr(function(j){var M=j[E],K=Q0(j,0,E);return M&&cs(K,M),Je(w,this,K)})}function ict(w,E,j){var M=!0,K=!0;if(typeof w!="function")throw new Ud(o);return Js(j)&&(M="leading"in j?!!j.leading:M,K="trailing"in j?!!j.trailing:K),Rle(w,E,{leading:M,maxWait:E,trailing:K})}function sct(w){return Tle(w,1)}function oct(w,E){return rN(VB(E),w)}function act(){if(!arguments.length)return[];var w=arguments[0];return Xn(w)?w:[w]}function lct(w){return zd(w,p)}function uct(w,E){return E=typeof E=="function"?E:n,zd(w,p,E)}function cct(w){return zd(w,f|p)}function dct(w,E){return E=typeof E=="function"?E:n,zd(w,f|p,E)}function fct(w,E){return E==null||bae(w,E,Ha(E))}function Jf(w,E){return w===E||w!==w&&E!==E}var hct=lR(IB),pct=lR(function(w,E){return w>=E}),Ky=Sae(function(){return arguments}())?Sae:function(w){return Co(w)&&ki.call(w,"callee")&&!dae.call(w,"callee")},Xn=We.isArray,mct=z?_u(z):Cat;function lc(w){return w!=null&&vR(w.length)&&!Qm(w)}function No(w){return Co(w)&&lc(w)}function gct(w){return w===!0||w===!1||Co(w)&&Cu(w)==ce}var J0=Dot||pN,vct=oe?_u(oe):Eat;function yct(w){return Co(w)&&w.nodeType===1&&!sS(w)}function bct(w){if(w==null)return!0;if(lc(w)&&(Xn(w)||typeof w=="string"||typeof w.splice=="function"||J0(w)||Xw(w)||Ky(w)))return!w.length;var E=Bl(w);if(E==we||E==Ne)return!w.size;if(rS(w))return!jB(w).length;for(var j in w)if(ki.call(w,j))return!1;return!0}function xct(w,E){return eS(w,E)}function wct(w,E,j){j=typeof j=="function"?j:n;var M=j?j(w,E):n;return M===n?eS(w,E,n,j):!!M}function iN(w){if(!Co(w))return!1;var E=Cu(w);return E==Ie||E==pe||typeof w.message=="string"&&typeof w.name=="string"&&!sS(w)}function _ct(w){return typeof w=="number"&&hae(w)}function Qm(w){if(!Js(w))return!1;var E=Cu(w);return E==xe||E==Pe||E==ne||E==ze}function Ole(w){return typeof w=="number"&&w==sr(w)}function vR(w){return typeof w=="number"&&w>-1&&w%1==0&&w<=V}function Js(w){var E=typeof w;return w!=null&&(E=="object"||E=="function")}function Co(w){return w!=null&&typeof w=="object"}var Lle=_e?_u(_e):Tat;function Cct(w,E){return w===E||RB(w,E,YB(E))}function Ect(w,E,j){return j=typeof j=="function"?j:n,RB(w,E,YB(E),j)}function Sct(w){return Ple(w)&&w!=+w}function Tct(w){if(ult(w))throw new Yn(s);return Tae(w)}function kct(w){return w===null}function Act(w){return w==null}function Ple(w){return typeof w=="number"||Co(w)&&Cu(w)==De}function sS(w){if(!Co(w)||Cu(w)!=be)return!1;var E=zD(w);if(E===null)return!0;var j=ki.call(E,"constructor")&&E.constructor;return typeof j=="function"&&j instanceof j&&ND.call(j)==Eot}var sN=he?_u(he):kat;function Ict(w){return Ole(w)&&w>=-V&&w<=V}var Mle=$e?_u($e):Aat;function yR(w){return typeof w=="string"||!Xn(w)&&Co(w)&&Cu(w)==Fe}function Jc(w){return typeof w=="symbol"||Co(w)&&Cu(w)==nt}var Xw=ke?_u(ke):Iat;function Dct(w){return w===n}function Rct(w){return Co(w)&&Bl(w)==Ge}function jct(w){return Co(w)&&Cu(w)==Ct}var Oct=lR(OB),Lct=lR(function(w,E){return w<=E});function $le(w){if(!w)return[];if(lc(w))return yR(w)?Xf(w):ac(w);if(GE&&w[GE])return fot(w[GE]());var E=Bl(w),j=E==we?xB:E==Ne?$D:Qw;return j(w)}function Jm(w){if(!w)return w===0?w:0;if(w=qd(w),w===Q||w===-Q){var E=w<0?-1:1;return E*Z}return w===w?w:0}function sr(w){var E=Jm(w),j=E%1;return E===E?j?E-j:E:0}function Fle(w){return w?Wy(sr(w),0,J):0}function qd(w){if(typeof w=="number")return w;if(Jc(w))return ie;if(Js(w)){var E=typeof w.valueOf=="function"?w.valueOf():w;w=Js(E)?E+"":E}if(typeof w!="string")return w===0?w:+w;w=G0(w);var j=LE.test(w);return j||My.test(w)?bB(w.slice(2),j?2:8):OE.test(w)?ie:+w}function Ble(w){return ap(w,uc(w))}function Pct(w){return w?Wy(sr(w),-V,V):w===0?w:0}function wi(w){return w==null?"":Qc(w)}var Mct=Yw(function(w,E){if(rS(E)||lc(E)){ap(E,Ha(E),w);return}for(var j in E)ki.call(E,j)&&XE(w,j,E[j])}),Nle=Yw(function(w,E){ap(E,uc(E),w)}),bR=Yw(function(w,E,j,M){ap(E,uc(E),w,M)}),$ct=Yw(function(w,E,j,M){ap(E,Ha(E),w,M)}),Fct=Zm(TB);function Bct(w,E){var j=qw(w);return E==null?j:yae(j,E)}var Nct=dr(function(w,E){w=is(w);var j=-1,M=E.length,K=M>2?E[2]:n;for(K&&Eu(E[0],E[1],K)&&(M=1);++j<M;)for(var le=E[j],ye=uc(le),Ee=-1,Me=ye.length;++Ee<Me;){var it=ye[Ee],st=w[it];(st===n||Jf(st,zw[it])&&!ki.call(w,it))&&(w[it]=le[it])}return w}),Vct=dr(function(w){return w.push(n,rle),Je(Vle,n,w)});function Uct(w,E){return Rt(w,wn(E,3),op)}function Hct(w,E){return Rt(w,wn(E,3),AB)}function zct(w,E){return w==null?w:kB(w,wn(E,3),uc)}function Wct(w,E){return w==null?w:Cae(w,wn(E,3),uc)}function Gct(w,E){return w&&op(w,wn(E,3))}function qct(w,E){return w&&AB(w,wn(E,3))}function Yct(w){return w==null?[]:eR(w,Ha(w))}function Kct(w){return w==null?[]:eR(w,uc(w))}function oN(w,E,j){var M=w==null?n:Gy(w,E);return M===n?j:M}function Zct(w,E){return w!=null&&ole(w,E,bat)}function aN(w,E){return w!=null&&ole(w,E,xat)}var Xct=Qae(function(w,E,j){E!=null&&typeof E.toString!="function"&&(E=VD.call(E)),w[E]=j},uN(cc)),Qct=Qae(function(w,E,j){E!=null&&typeof E.toString!="function"&&(E=VD.call(E)),ki.call(w,E)?w[E].push(j):w[E]=[j]},wn),Jct=dr(JE);function Ha(w){return lc(w)?gae(w):jB(w)}function uc(w){return lc(w)?gae(w,!0):Dat(w)}function edt(w,E){var j={};return E=wn(E,3),op(w,function(M,K,le){Ym(j,E(M,K,le),M)}),j}function tdt(w,E){var j={};return E=wn(E,3),op(w,function(M,K,le){Ym(j,K,E(M,K,le))}),j}var ndt=Yw(function(w,E,j){tR(w,E,j)}),Vle=Yw(function(w,E,j,M){tR(w,E,j,M)}),rdt=Zm(function(w,E){var j={};if(w==null)return j;var M=!1;E=Zn(E,function(le){return le=X0(le,w),M||(M=le.length>1),le}),ap(w,GB(w),j),M&&(j=zd(j,f|h|p,Xat));for(var K=E.length;K--;)FB(j,E[K]);return j});function idt(w,E){return Ule(w,gR(wn(E)))}var sdt=Zm(function(w,E){return w==null?{}:jat(w,E)});function Ule(w,E){if(w==null)return{};var j=Zn(GB(w),function(M){return[M]});return E=wn(E),Oae(w,j,function(M,K){return E(M,K[0])})}function odt(w,E,j){E=X0(E,w);var M=-1,K=E.length;for(K||(K=1,w=n);++M<K;){var le=w==null?n:w[lp(E[M])];le===n&&(M=K,le=j),w=Qm(le)?le.call(w):le}return w}function adt(w,E,j){return w==null?w:tS(w,E,j)}function ldt(w,E,j,M){return M=typeof M=="function"?M:n,w==null?w:tS(w,E,j,M)}var Hle=tle(Ha),zle=tle(uc);function udt(w,E,j){var M=Xn(w),K=M||J0(w)||Xw(w);if(E=wn(E,4),j==null){var le=w&&w.constructor;K?j=M?new le:[]:Js(w)?j=Qm(le)?qw(zD(w)):{}:j={}}return(K?Qt:op)(w,function(ye,Ee,Me){return E(j,ye,Ee,Me)}),j}function cdt(w,E){return w==null?!0:FB(w,E)}function ddt(w,E,j){return w==null?w:Fae(w,E,VB(j))}function fdt(w,E,j,M){return M=typeof M=="function"?M:n,w==null?w:Fae(w,E,VB(j),M)}function Qw(w){return w==null?[]:WE(w,Ha(w))}function hdt(w){return w==null?[]:WE(w,uc(w))}function pdt(w,E,j){return j===n&&(j=E,E=n),j!==n&&(j=qd(j),j=j===j?j:0),E!==n&&(E=qd(E),E=E===E?E:0),Wy(qd(w),E,j)}function mdt(w,E,j){return E=Jm(E),j===n?(j=E,E=0):j=Jm(j),w=qd(w),wat(w,E,j)}function gdt(w,E,j){if(j&&typeof j!="boolean"&&Eu(w,E,j)&&(E=j=n),j===n&&(typeof E=="boolean"?(j=E,E=n):typeof w=="boolean"&&(j=w,w=n)),w===n&&E===n?(w=0,E=1):(w=Jm(w),E===n?(E=w,w=0):E=Jm(E)),w>E){var M=w;w=E,E=M}if(j||w%1||E%1){var K=pae();return Fl(w+K*(E-w+yB("1e-"+((K+"").length-1))),E)}return PB(w,E)}var vdt=Kw(function(w,E,j){return E=E.toLowerCase(),w+(j?Wle(E):E)});function Wle(w){return lN(wi(w).toLowerCase())}function Gle(w){return w=wi(w),w&&w.replace(Nm,aot).replace(fB,"")}function ydt(w,E,j){w=wi(w),E=Qc(E);var M=w.length;j=j===n?M:Wy(sr(j),0,M);var K=j;return j-=E.length,j>=0&&w.slice(j,K)==E}function bdt(w){return w=wi(w),w&&Dt.test(w)?w.replace(Fs,lot):w}function xdt(w){return w=wi(w),w&&wu.test(w)?w.replace(ta,"\\$&"):w}var wdt=Kw(function(w,E,j){return w+(j?"-":"")+E.toLowerCase()}),_dt=Kw(function(w,E,j){return w+(j?" ":"")+E.toLowerCase()}),Cdt=Kae("toLowerCase");function Edt(w,E,j){w=wi(w),E=sr(E);var M=E?Uw(w):0;if(!E||M>=E)return w;var K=(E-M)/2;return aR(YD(K),j)+w+aR(qD(K),j)}function Sdt(w,E,j){w=wi(w),E=sr(E);var M=E?Uw(w):0;return E&&M<E?w+aR(E-M,j):w}function Tdt(w,E,j){w=wi(w),E=sr(E);var M=E?Uw(w):0;return E&&M<E?aR(E-M,j)+w:w}function kdt(w,E,j){return j||E==null?E=0:E&&(E=+E),Lot(wi(w).replace($d,""),E||0)}function Adt(w,E,j){return(j?Eu(w,E,j):E===n)?E=1:E=sr(E),MB(wi(w),E)}function Idt(){var w=arguments,E=wi(w[0]);return w.length<3?E:E.replace(w[1],w[2])}var Ddt=Kw(function(w,E,j){return w+(j?"_":"")+E.toLowerCase()});function Rdt(w,E,j){return j&&typeof j!="number"&&Eu(w,E,j)&&(E=j=n),j=j===n?J:j>>>0,j?(w=wi(w),w&&(typeof E=="string"||E!=null&&!sN(E))&&(E=Qc(E),!E&&Vw(w))?Q0(Xf(w),0,j):w.split(E,j)):[]}var jdt=Kw(function(w,E,j){return w+(j?" ":"")+lN(E)});function Odt(w,E,j){return w=wi(w),j=j==null?0:Wy(sr(j),0,w.length),E=Qc(E),w.slice(j,j+E.length)==E}function Ldt(w,E,j){var M=se.templateSettings;j&&Eu(w,E,j)&&(E=n),w=wi(w),E=bR({},E,M,nle);var K=bR({},E.imports,M.imports,nle),le=Ha(K),ye=WE(K,le),Ee,Me,it=0,st=E.interpolate||ip,lt="__p += '",It=wB((E.escape||ip).source+"|"+st.source+"|"+(st===ri?Py:ip).source+"|"+(E.evaluate||ip).source+"|$","g"),en="//# sourceURL="+(ki.call(E,"sourceURL")?(E.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++hB+"]")+`
`;w.replace(It,function(Tn,kr,Br,ed,Su,td){return Br||(Br=ed),lt+=w.slice(it,td).replace($y,uot),kr&&(Ee=!0,lt+=`' +
__e(`+kr+`) +
'`),Su&&(Me=!0,lt+=`';
`+Su+`;
__p += '`),Br&&(lt+=`' +
((__t = (`+Br+`)) == null ? '' : __t) +
'`),it=td+Tn.length,Tn}),lt+=`';
`;var Sn=ki.call(E,"variable")&&E.variable;if(!Sn)lt=`with (obj) {
`+lt+`
}
`;else if(Oy.test(Sn))throw new Yn(a);lt=(Me?lt.replace(ul,""):lt).replace(nc,"$1").replace(rc,"$1;"),lt="function("+(Sn||"obj")+`) {
`+(Sn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ee?", __e = _.escape":"")+(Me?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+lt+`return __p
}`;var ur=Yle(function(){return hi(le,en+"return "+lt).apply(n,ye)});if(ur.source=lt,iN(ur))throw ur;return ur}function Pdt(w){return wi(w).toLowerCase()}function Mdt(w){return wi(w).toUpperCase()}function $dt(w,E,j){if(w=wi(w),w&&(j||E===n))return G0(w);if(!w||!(E=Qc(E)))return w;var M=Xf(w),K=Xf(E),le=iae(M,K),ye=sae(M,K)+1;return Q0(M,le,ye).join("")}function Fdt(w,E,j){if(w=wi(w),w&&(j||E===n))return w.slice(0,aae(w)+1);if(!w||!(E=Qc(E)))return w;var M=Xf(w),K=sae(M,Xf(E))+1;return Q0(M,0,K).join("")}function Bdt(w,E,j){if(w=wi(w),w&&(j||E===n))return w.replace($d,"");if(!w||!(E=Qc(E)))return w;var M=Xf(w),K=iae(M,Xf(E));return Q0(M,K).join("")}function Ndt(w,E){var j=D,M=R;if(Js(E)){var K="separator"in E?E.separator:K;j="length"in E?sr(E.length):j,M="omission"in E?Qc(E.omission):M}w=wi(w);var le=w.length;if(Vw(w)){var ye=Xf(w);le=ye.length}if(j>=le)return w;var Ee=j-Uw(M);if(Ee<1)return M;var Me=ye?Q0(ye,0,Ee).join(""):w.slice(0,Ee);if(K===n)return Me+M;if(ye&&(Ee+=Me.length-Ee),sN(K)){if(w.slice(Ee).search(K)){var it,st=Me;for(K.global||(K=wB(K.source,wi(Lw.exec(K))+"g")),K.lastIndex=0;it=K.exec(st);)var lt=it.index;Me=Me.slice(0,lt===n?Ee:lt)}}else if(w.indexOf(Qc(K),Ee)!=Ee){var It=Me.lastIndexOf(K);It>-1&&(Me=Me.slice(0,It))}return Me+M}function Vdt(w){return w=wi(w),w&&Ss.test(w)?w.replace(ni,got):w}var Udt=Kw(function(w,E,j){return w+(j?" ":"")+E.toUpperCase()}),lN=Kae("toUpperCase");function qle(w,E,j){return w=wi(w),E=j?n:E,E===n?dot(w)?bot(w):fn(w):w.match(E)||[]}var Yle=dr(function(w,E){try{return Je(w,n,E)}catch(j){return iN(j)?j:new Yn(j)}}),Hdt=Zm(function(w,E){return Qt(E,function(j){j=lp(j),Ym(w,j,nN(w[j],w))}),w});function zdt(w){var E=w==null?0:w.length,j=wn();return w=E?Zn(w,function(M){if(typeof M[1]!="function")throw new Ud(o);return[j(M[0]),M[1]]}):[],dr(function(M){for(var K=-1;++K<E;){var le=w[K];if(Je(le[0],this,M))return Je(le[1],this,M)}})}function Wdt(w){return gat(zd(w,f))}function uN(w){return function(){return w}}function Gdt(w,E){return w==null||w!==w?E:w}var qdt=Xae(),Ydt=Xae(!0);function cc(w){return w}function cN(w){return kae(typeof w=="function"?w:zd(w,f))}function Kdt(w){return Iae(zd(w,f))}function Zdt(w,E){return Dae(w,zd(E,f))}var Xdt=dr(function(w,E){return function(j){return JE(j,w,E)}}),Qdt=dr(function(w,E){return function(j){return JE(w,j,E)}});function dN(w,E,j){var M=Ha(E),K=eR(E,M);j==null&&!(Js(E)&&(K.length||!M.length))&&(j=E,E=w,w=this,K=eR(E,Ha(E)));var le=!(Js(j)&&"chain"in j)||!!j.chain,ye=Qm(w);return Qt(K,function(Ee){var Me=E[Ee];w[Ee]=Me,ye&&(w.prototype[Ee]=function(){var it=this.__chain__;if(le||it){var st=w(this.__wrapped__),lt=st.__actions__=ac(this.__actions__);return lt.push({func:Me,args:arguments,thisArg:w}),st.__chain__=it,st}return Me.apply(w,cs([this.value()],arguments))})}),w}function Jdt(){return Qs._===this&&(Qs._=Sot),this}function fN(){}function eft(w){return w=sr(w),dr(function(E){return Rae(E,w)})}var tft=HB(Zn),nft=HB(At),rft=HB(rs);function Kle(w){return ZB(w)?ba(lp(w)):Oat(w)}function ift(w){return function(E){return w==null?n:Gy(w,E)}}var sft=Jae(),oft=Jae(!0);function hN(){return[]}function pN(){return!1}function aft(){return{}}function lft(){return""}function uft(){return!0}function cft(w,E){if(w=sr(w),w<1||w>V)return[];var j=J,M=Fl(w,J);E=wn(E),w-=J;for(var K=Zf(M,E);++j<w;)E(j);return K}function dft(w){return Xn(w)?Zn(w,lp):Jc(w)?[w]:ac(mle(wi(w)))}function fft(w){var E=++Cot;return wi(w)+E}var hft=oR(function(w,E){return w+E},0),pft=zB("ceil"),mft=oR(function(w,E){return w/E},1),gft=zB("floor");function vft(w){return w&&w.length?JD(w,cc,IB):n}function yft(w,E){return w&&w.length?JD(w,wn(E,2),IB):n}function bft(w){return na(w,cc)}function xft(w,E){return na(w,wn(E,2))}function wft(w){return w&&w.length?JD(w,cc,OB):n}function _ft(w,E){return w&&w.length?JD(w,wn(E,2),OB):n}var Cft=oR(function(w,E){return w*E},1),Eft=zB("round"),Sft=oR(function(w,E){return w-E},0);function Tft(w){return w&&w.length?Wm(w,cc):0}function kft(w,E){return w&&w.length?Wm(w,wn(E,2)):0}return se.after=Kut,se.ary=Tle,se.assign=Mct,se.assignIn=Nle,se.assignInWith=bR,se.assignWith=$ct,se.at=Fct,se.before=kle,se.bind=nN,se.bindAll=Hdt,se.bindKey=Ale,se.castArray=act,se.chain=Cle,se.chunk=glt,se.compact=vlt,se.concat=ylt,se.cond=zdt,se.conforms=Wdt,se.constant=uN,se.countBy=Tut,se.create=Bct,se.curry=Ile,se.curryRight=Dle,se.debounce=Rle,se.defaults=Nct,se.defaultsDeep=Vct,se.defer=Zut,se.delay=Xut,se.difference=blt,se.differenceBy=xlt,se.differenceWith=wlt,se.drop=_lt,se.dropRight=Clt,se.dropRightWhile=Elt,se.dropWhile=Slt,se.fill=Tlt,se.filter=Aut,se.flatMap=Rut,se.flatMapDeep=jut,se.flatMapDepth=Out,se.flatten=ble,se.flattenDeep=klt,se.flattenDepth=Alt,se.flip=Qut,se.flow=qdt,se.flowRight=Ydt,se.fromPairs=Ilt,se.functions=Yct,se.functionsIn=Kct,se.groupBy=Lut,se.initial=Rlt,se.intersection=jlt,se.intersectionBy=Olt,se.intersectionWith=Llt,se.invert=Xct,se.invertBy=Qct,se.invokeMap=Mut,se.iteratee=cN,se.keyBy=$ut,se.keys=Ha,se.keysIn=uc,se.map=hR,se.mapKeys=edt,se.mapValues=tdt,se.matches=Kdt,se.matchesProperty=Zdt,se.memoize=mR,se.merge=ndt,se.mergeWith=Vle,se.method=Xdt,se.methodOf=Qdt,se.mixin=dN,se.negate=gR,se.nthArg=eft,se.omit=rdt,se.omitBy=idt,se.once=Jut,se.orderBy=Fut,se.over=tft,se.overArgs=ect,se.overEvery=nft,se.overSome=rft,se.partial=rN,se.partialRight=jle,se.partition=But,se.pick=sdt,se.pickBy=Ule,se.property=Kle,se.propertyOf=ift,se.pull=Flt,se.pullAll=wle,se.pullAllBy=Blt,se.pullAllWith=Nlt,se.pullAt=Vlt,se.range=sft,se.rangeRight=oft,se.rearg=tct,se.reject=Uut,se.remove=Ult,se.rest=nct,se.reverse=eN,se.sampleSize=zut,se.set=adt,se.setWith=ldt,se.shuffle=Wut,se.slice=Hlt,se.sortBy=Yut,se.sortedUniq=Zlt,se.sortedUniqBy=Xlt,se.split=Rdt,se.spread=rct,se.tail=Qlt,se.take=Jlt,se.takeRight=eut,se.takeRightWhile=tut,se.takeWhile=nut,se.tap=vut,se.throttle=ict,se.thru=fR,se.toArray=$le,se.toPairs=Hle,se.toPairsIn=zle,se.toPath=dft,se.toPlainObject=Ble,se.transform=udt,se.unary=sct,se.union=rut,se.unionBy=iut,se.unionWith=sut,se.uniq=out,se.uniqBy=aut,se.uniqWith=lut,se.unset=cdt,se.unzip=tN,se.unzipWith=_le,se.update=ddt,se.updateWith=fdt,se.values=Qw,se.valuesIn=hdt,se.without=uut,se.words=qle,se.wrap=oct,se.xor=cut,se.xorBy=dut,se.xorWith=fut,se.zip=hut,se.zipObject=put,se.zipObjectDeep=mut,se.zipWith=gut,se.entries=Hle,se.entriesIn=zle,se.extend=Nle,se.extendWith=bR,dN(se,se),se.add=hft,se.attempt=Yle,se.camelCase=vdt,se.capitalize=Wle,se.ceil=pft,se.clamp=pdt,se.clone=lct,se.cloneDeep=cct,se.cloneDeepWith=dct,se.cloneWith=uct,se.conformsTo=fct,se.deburr=Gle,se.defaultTo=Gdt,se.divide=mft,se.endsWith=ydt,se.eq=Jf,se.escape=bdt,se.escapeRegExp=xdt,se.every=kut,se.find=Iut,se.findIndex=vle,se.findKey=Uct,se.findLast=Dut,se.findLastIndex=yle,se.findLastKey=Hct,se.floor=gft,se.forEach=Ele,se.forEachRight=Sle,se.forIn=zct,se.forInRight=Wct,se.forOwn=Gct,se.forOwnRight=qct,se.get=oN,se.gt=hct,se.gte=pct,se.has=Zct,se.hasIn=aN,se.head=xle,se.identity=cc,se.includes=Put,se.indexOf=Dlt,se.inRange=mdt,se.invoke=Jct,se.isArguments=Ky,se.isArray=Xn,se.isArrayBuffer=mct,se.isArrayLike=lc,se.isArrayLikeObject=No,se.isBoolean=gct,se.isBuffer=J0,se.isDate=vct,se.isElement=yct,se.isEmpty=bct,se.isEqual=xct,se.isEqualWith=wct,se.isError=iN,se.isFinite=_ct,se.isFunction=Qm,se.isInteger=Ole,se.isLength=vR,se.isMap=Lle,se.isMatch=Cct,se.isMatchWith=Ect,se.isNaN=Sct,se.isNative=Tct,se.isNil=Act,se.isNull=kct,se.isNumber=Ple,se.isObject=Js,se.isObjectLike=Co,se.isPlainObject=sS,se.isRegExp=sN,se.isSafeInteger=Ict,se.isSet=Mle,se.isString=yR,se.isSymbol=Jc,se.isTypedArray=Xw,se.isUndefined=Dct,se.isWeakMap=Rct,se.isWeakSet=jct,se.join=Plt,se.kebabCase=wdt,se.last=Gd,se.lastIndexOf=Mlt,se.lowerCase=_dt,se.lowerFirst=Cdt,se.lt=Oct,se.lte=Lct,se.max=vft,se.maxBy=yft,se.mean=bft,se.meanBy=xft,se.min=wft,se.minBy=_ft,se.stubArray=hN,se.stubFalse=pN,se.stubObject=aft,se.stubString=lft,se.stubTrue=uft,se.multiply=Cft,se.nth=$lt,se.noConflict=Jdt,se.noop=fN,se.now=pR,se.pad=Edt,se.padEnd=Sdt,se.padStart=Tdt,se.parseInt=kdt,se.random=gdt,se.reduce=Nut,se.reduceRight=Vut,se.repeat=Adt,se.replace=Idt,se.result=odt,se.round=Eft,se.runInContext=Oe,se.sample=Hut,se.size=Gut,se.snakeCase=Ddt,se.some=qut,se.sortedIndex=zlt,se.sortedIndexBy=Wlt,se.sortedIndexOf=Glt,se.sortedLastIndex=qlt,se.sortedLastIndexBy=Ylt,se.sortedLastIndexOf=Klt,se.startCase=jdt,se.startsWith=Odt,se.subtract=Sft,se.sum=Tft,se.sumBy=kft,se.template=Ldt,se.times=cft,se.toFinite=Jm,se.toInteger=sr,se.toLength=Fle,se.toLower=Pdt,se.toNumber=qd,se.toSafeInteger=Pct,se.toString=wi,se.toUpper=Mdt,se.trim=$dt,se.trimEnd=Fdt,se.trimStart=Bdt,se.truncate=Ndt,se.unescape=Vdt,se.uniqueId=fft,se.upperCase=Udt,se.upperFirst=lN,se.each=Ele,se.eachRight=Sle,se.first=xle,dN(se,function(){var w={};return op(se,function(E,j){ki.call(se.prototype,j)||(w[j]=E)}),w}(),{chain:!1}),se.VERSION=r,Qt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(w){se[w].placeholder=se}),Qt(["drop","take"],function(w,E){Dr.prototype[w]=function(j){j=j===n?1:wa(sr(j),0);var M=this.__filtered__&&!E?new Dr(this):this.clone();return M.__filtered__?M.__takeCount__=Fl(j,M.__takeCount__):M.__views__.push({size:Fl(j,J),type:w+(M.__dir__<0?"Right":"")}),M},Dr.prototype[w+"Right"]=function(j){return this.reverse()[w](j).reverse()}}),Qt(["filter","map","takeWhile"],function(w,E){var j=E+1,M=j==P||j==B;Dr.prototype[w]=function(K){var le=this.clone();return le.__iteratees__.push({iteratee:wn(K,3),type:j}),le.__filtered__=le.__filtered__||M,le}}),Qt(["head","last"],function(w,E){var j="take"+(E?"Right":"");Dr.prototype[w]=function(){return this[j](1).value()[0]}}),Qt(["initial","tail"],function(w,E){var j="drop"+(E?"":"Right");Dr.prototype[w]=function(){return this.__filtered__?new Dr(this):this[j](1)}}),Dr.prototype.compact=function(){return this.filter(cc)},Dr.prototype.find=function(w){return this.filter(w).head()},Dr.prototype.findLast=function(w){return this.reverse().find(w)},Dr.prototype.invokeMap=dr(function(w,E){return typeof w=="function"?new Dr(this):this.map(function(j){return JE(j,w,E)})}),Dr.prototype.reject=function(w){return this.filter(gR(wn(w)))},Dr.prototype.slice=function(w,E){w=sr(w);var j=this;return j.__filtered__&&(w>0||E<0)?new Dr(j):(w<0?j=j.takeRight(-w):w&&(j=j.drop(w)),E!==n&&(E=sr(E),j=E<0?j.dropRight(-E):j.take(E-w)),j)},Dr.prototype.takeRightWhile=function(w){return this.reverse().takeWhile(w).reverse()},Dr.prototype.toArray=function(){return this.take(J)},op(Dr.prototype,function(w,E){var j=/^(?:filter|find|map|reject)|While$/.test(E),M=/^(?:head|last)$/.test(E),K=se[M?"take"+(E=="last"?"Right":""):E],le=M||/^find/.test(E);K&&(se.prototype[E]=function(){var ye=this.__wrapped__,Ee=M?[1]:arguments,Me=ye instanceof Dr,it=Ee[0],st=Me||Xn(ye),lt=function(kr){var Br=K.apply(se,cs([kr],Ee));return M&&It?Br[0]:Br};st&&j&&typeof it=="function"&&it.length!=1&&(Me=st=!1);var It=this.__chain__,en=!!this.__actions__.length,Sn=le&&!It,ur=Me&&!en;if(!le&&st){ye=ur?ye:new Dr(this);var Tn=w.apply(ye,Ee);return Tn.__actions__.push({func:fR,args:[lt],thisArg:n}),new Hd(Tn,It)}return Sn&&ur?w.apply(this,Ee):(Tn=this.thru(lt),Sn?M?Tn.value()[0]:Tn.value():Tn)})}),Qt(["pop","push","shift","sort","splice","unshift"],function(w){var E=FD[w],j=/^(?:push|sort|unshift)$/.test(w)?"tap":"thru",M=/^(?:pop|shift)$/.test(w);se.prototype[w]=function(){var K=arguments;if(M&&!this.__chain__){var le=this.value();return E.apply(Xn(le)?le:[],K)}return this[j](function(ye){return E.apply(Xn(ye)?ye:[],K)})}}),op(Dr.prototype,function(w,E){var j=se[E];if(j){var M=j.name+"";ki.call(Gw,M)||(Gw[M]=[]),Gw[M].push({name:E,func:j})}}),Gw[sR(n,x).name]=[{name:"wrapper",func:n}],Dr.prototype.clone=Vot,Dr.prototype.reverse=Uot,Dr.prototype.value=Hot,se.prototype.at=yut,se.prototype.chain=but,se.prototype.commit=xut,se.prototype.next=wut,se.prototype.plant=Cut,se.prototype.reverse=Eut,se.prototype.toJSON=se.prototype.valueOf=se.prototype.value=Sut,se.prototype.first=se.prototype.head,GE&&(se.prototype[GE]=_ut),se},Hw=xot();zm?((zm.exports=Hw)._=Hw,zE._=Hw):Qs._=Hw}).call(co)})(w8,w8.exports);var Ag=w8.exports;const Qn={MEDIA_PLAY_REQUEST:"mediaplayrequest",MEDIA_PAUSE_REQUEST:"mediapauserequest",MEDIA_MUTE_REQUEST:"mediamuterequest",MEDIA_UNMUTE_REQUEST:"mediaunmuterequest",MEDIA_VOLUME_REQUEST:"mediavolumerequest",MEDIA_SEEK_REQUEST:"mediaseekrequest",MEDIA_AIRPLAY_REQUEST:"mediaairplayrequest",MEDIA_ENTER_FULLSCREEN_REQUEST:"mediaenterfullscreenrequest",MEDIA_EXIT_FULLSCREEN_REQUEST:"mediaexitfullscreenrequest",MEDIA_PREVIEW_REQUEST:"mediapreviewrequest",MEDIA_ENTER_PIP_REQUEST:"mediaenterpiprequest",MEDIA_EXIT_PIP_REQUEST:"mediaexitpiprequest",MEDIA_ENTER_CAST_REQUEST:"mediaentercastrequest",MEDIA_EXIT_CAST_REQUEST:"mediaexitcastrequest",MEDIA_SHOW_TEXT_TRACKS_REQUEST:"mediashowtexttracksrequest",MEDIA_HIDE_TEXT_TRACKS_REQUEST:"mediahidetexttracksrequest",MEDIA_SHOW_SUBTITLES_REQUEST:"mediashowsubtitlesrequest",MEDIA_DISABLE_SUBTITLES_REQUEST:"mediadisablesubtitlesrequest",MEDIA_PLAYBACK_RATE_REQUEST:"mediaplaybackraterequest",MEDIA_RENDITION_REQUEST:"mediarenditionrequest",MEDIA_AUDIO_TRACK_REQUEST:"mediaaudiotrackrequest",MEDIA_SEEK_TO_LIVE_REQUEST:"mediaseektoliverequest",REGISTER_MEDIA_STATE_RECEIVER:"registermediastatereceiver",UNREGISTER_MEDIA_STATE_RECEIVER:"unregistermediastatereceiver"},Nr={MEDIA_CHROME_ATTRIBUTES:"mediachromeattributes",MEDIA_CONTROLLER:"mediacontroller"},F5={MEDIA_AIRPLAY_UNAVAILABLE:"mediaAirplayUnavailable",MEDIA_FULLSCREEN_UNAVAILABLE:"mediaFullscreenUnavailable",MEDIA_PIP_UNAVAILABLE:"mediaPipUnavailable",MEDIA_CAST_UNAVAILABLE:"mediaCastUnavailable",MEDIA_RENDITION_UNAVAILABLE:"mediaRenditionUnavailable",MEDIA_AUDIO_TRACK_UNAVAILABLE:"mediaAudioTrackUnavailable",MEDIA_PAUSED:"mediaPaused",MEDIA_HAS_PLAYED:"mediaHasPlayed",MEDIA_ENDED:"mediaEnded",MEDIA_MUTED:"mediaMuted",MEDIA_VOLUME_LEVEL:"mediaVolumeLevel",MEDIA_VOLUME:"mediaVolume",MEDIA_VOLUME_UNAVAILABLE:"mediaVolumeUnavailable",MEDIA_IS_PIP:"mediaIsPip",MEDIA_IS_CASTING:"mediaIsCasting",MEDIA_SUBTITLES_LIST:"mediaSubtitlesList",MEDIA_SUBTITLES_SHOWING:"mediaSubtitlesShowing",MEDIA_IS_FULLSCREEN:"mediaIsFullscreen",MEDIA_PLAYBACK_RATE:"mediaPlaybackRate",MEDIA_CURRENT_TIME:"mediaCurrentTime",MEDIA_DURATION:"mediaDuration",MEDIA_SEEKABLE:"mediaSeekable",MEDIA_PREVIEW_TIME:"mediaPreviewTime",MEDIA_PREVIEW_IMAGE:"mediaPreviewImage",MEDIA_PREVIEW_COORDS:"mediaPreviewCoords",MEDIA_LOADING:"mediaLoading",MEDIA_BUFFERED:"mediaBuffered",MEDIA_STREAM_TYPE:"mediaStreamType",MEDIA_TARGET_LIVE_WINDOW:"mediaTargetLiveWindow",MEDIA_TIME_IS_LIVE:"mediaTimeIsLive",MEDIA_RENDITION_LIST:"mediaRenditionList",MEDIA_RENDITION_SELECTED:"mediaRenditionSelected",MEDIA_AUDIO_TRACK_LIST:"mediaAudioTrackList",MEDIA_AUDIO_TRACK_ENABLED:"mediaAudioTrackEnabled"},ztt=Object.entries(F5),Se=ztt.reduce((t,[e,n])=>(t[e]=`${n.toLowerCase()}`,t),{}),S3=ztt.reduce((t,[e,n])=>(t[e]=`${n.toLowerCase()}`,t),{USER_INACTIVE:"userinactivechange",BREAKPOINTS_CHANGE:"breakpointchange"});Object.entries(S3).reduce((t,[e,n])=>{const r=Se[e];return r&&(t[n]=r),t},{userinactivechange:"userinactive"});const thr=Object.entries(Se).reduce((t,[e,n])=>{const r=S3[e];return r&&(t[n]=r),t},{userinactive:"userinactivechange"}),T3={SUBTITLES:"subtitles",CAPTIONS:"captions",DESCRIPTIONS:"descriptions",CHAPTERS:"chapters",METADATA:"metadata"},gZ={DISABLED:"disabled",HIDDEN:"hidden",SHOWING:"showing"},F4e={MOUSE:"mouse",PEN:"pen",TOUCH:"touch"},Jd={UNAVAILABLE:"unavailable",UNSUPPORTED:"unsupported"},Dp={LIVE:"live",ON_DEMAND:"on-demand",UNKNOWN:"unknown"},ny={AUDIO_PLAYER:()=>"audio player",VIDEO_PLAYER:()=>"video player",VOLUME:()=>"volume",SEEK:()=>"seek",CLOSED_CAPTIONS:()=>"closed captions",PLAYBACK_RATE:({playbackRate:t=1}={})=>`current playback rate ${t}`,PLAYBACK_TIME:()=>"playback time",MEDIA_LOADING:()=>"media loading"},Gu={PLAY:()=>"play",PAUSE:()=>"pause",MUTE:()=>"mute",UNMUTE:()=>"unmute",AIRPLAY:()=>"air play",ENTER_CAST:()=>"start casting",EXIT_CAST:()=>"stop casting",ENTER_FULLSCREEN:()=>"enter fullscreen mode",EXIT_FULLSCREEN:()=>"exit fullscreen mode",ENTER_PIP:()=>"enter picture in picture mode",EXIT_PIP:()=>"exit picture in picture mode",SEEK_FORWARD_N_SECS:({seekOffset:t=30}={})=>`seek forward ${t} seconds`,SEEK_BACK_N_SECS:({seekOffset:t=30}={})=>`seek back ${t} seconds`,SEEK_LIVE:()=>"seek to live",PLAYING_LIVE:()=>"playing live"};function nhr(t){return t==null?void 0:t.map(rhr).join(" ")}function rhr(t){if(t){const{id:e,width:n,height:r}=t;return[e,n,r].filter(i=>i!=null).join(":")}}function ihr(t){return t==null?void 0:t.map(shr).join(" ")}function shr(t){if(t){const{id:e,kind:n,language:r,label:i}=t;return[e,n,r,i].filter(s=>s!=null).join(":")}}function Ez(t,e=!1){return t.split("_").map(function(n,r){return(r||e?n[0].toUpperCase():n[0].toLowerCase())+n.slice(1).toLowerCase()}).join("")}function ohr(t){return t.replace(/[-_]([a-z])/g,(e,n)=>n.toUpperCase())}function ahr(t){return typeof t=="number"&&!Number.isNaN(t)&&Number.isFinite(t)}function Wtt(t){return typeof t!="string"?!1:!isNaN(t)&&!isNaN(parseFloat(t))}const Gtt=t=>new Promise(e=>setTimeout(e,t)),B4e=[{singular:"hour",plural:"hours"},{singular:"minute",plural:"minutes"},{singular:"second",plural:"seconds"}],lhr=(t,e)=>{const n=t===1?B4e[e].singular:B4e[e].plural;return`${t} ${n}`},Yk=t=>{if(!ahr(t))return"";const e=Math.abs(t),n=e!==t,r=new Date(0,0,0,0,0,e,0);return`${[r.getHours(),r.getMinutes(),r.getSeconds()].map((a,l)=>a&&lhr(a,l)).filter(a=>a).join(", ")}${n?" remaining":""}`};function kx(t,e){let n=!1;t<0&&(n=!0,t=0-t),t=t<0?0:t;let r=Math.floor(t%60),i=Math.floor(t/60%60),s=Math.floor(t/3600);const o=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(s=i=r="0"),s=s>0||a>0?s+":":"",i=((s||o>=10)&&i<10?"0"+i:i)+":",r=r<10?"0"+r:r,(n?"-":"")+s+i+r}const qtt=(t,e,n=".value")=>{const r=t.querySelector(n);r&&(r.textContent=e)},uhr=(t,e)=>{const n=`slot[name="${e}"]`,r=t.shadowRoot.querySelector(n);return r?r.children:[]},Ytt=(t,e)=>uhr(t,e)[0],gL=(t,e)=>!t||!e?!1:t.contains(e)?!0:gL(t,e.getRootNode().host),$F=(t,e)=>{if(!t)return null;const n=t.closest(e);return n||$F(t.getRootNode().host,e)};function fu(t,e){var n;let r;for(r of t.querySelectorAll("style")){let i;try{i=(n=r.sheet)==null?void 0:n.cssRules}catch{continue}for(let s of i??[])if(s.selectorText===e)return s}return r!=null&&r.sheet?(r.sheet.insertRule(`${e}{}`,r.sheet.cssRules.length),r.sheet.cssRules[r.sheet.cssRules.length-1]):{style:{setProperty:()=>{},removeProperty:()=>{}}}}function Pa(t,e,n=Number.NaN){const r=t.getAttribute(e);return r!=null?+r:n}function Fu(t,e,n){const r=+n;if(n==null||Number.isNaN(r)){t.hasAttribute(e)&&t.removeAttribute(e);return}Pa(t,e,void 0)!==r&&t.setAttribute(e,`${r}`)}function Il(t,e){return t.hasAttribute(e)}function Dl(t,e,n){if(n==null){t.hasAttribute(e)&&t.removeAttribute(e);return}Il(t,e)!=n&&t.toggleAttribute(e,n)}function Gh(t,e,n=null){var r;return(r=t.getAttribute(e))!=null?r:n}function qh(t,e,n){if(n==null){t.hasAttribute(e)&&t.removeAttribute(e);return}const r=`${n}`;Gh(t,e,void 0)!==r&&t.setAttribute(e,r)}let N4e=class{addEventListener(){}removeEventListener(){}dispatchEvent(){return!0}},chr=class{observe(){}};const Ktt={createElement:function(){return new soe.HTMLElement},addEventListener(){},removeEventListener(){}},soe={ResizeObserver:chr,document:Ktt,HTMLElement:class extends N4e{},DocumentFragment:class extends N4e{},customElements:{get:function(){},define:function(){},whenDefined:function(){}},CustomEvent:function(){},getComputedStyle:function(){}},Ztt=typeof window>"u"||typeof window.customElements>"u",Xtt=Object.keys(soe).every(t=>t in globalThis),Qe=Ztt&&!Xtt?soe:globalThis,yn=Ztt&&!Xtt?Ktt:globalThis.document;var dhr=Object.defineProperty,fhr=(t,e,n)=>e in t?dhr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hhr=(t,e,n)=>(fhr(t,typeof e!="symbol"?e+"":e,n),n),Qtt=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},ef=(t,e,n)=>(Qtt(t,e,"read from private field"),n?n.call(t):e.get(t)),mj=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},gj=(t,e,n,r)=>(Qtt(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),yp,vL,K2,yL;const Jtt=yn.createElement("template");Jtt.innerHTML=`
<style>
  :host {
    font: var(--media-font,
      var(--media-font-weight, bold)
      var(--media-font-size, 14px) /
      var(--media-text-content-height, var(--media-control-height, 24px))
      var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
    color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
    background: var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)));
    padding: var(--media-control-padding, 10px);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    vertical-align: middle;
    box-sizing: border-box;
    transition: background .15s linear;
    pointer-events: auto;
    cursor: pointer;
  }

  
  :host(:focus-visible) {
    box-shadow: inset 0 0 0 2px rgb(27 127 204 / .9);
    outline: 0;
  }
  
  :host(:where(:focus)) {
    box-shadow: none;
    outline: 0;
  }

  :host(:hover) {
    background: var(--media-control-hover-background, rgba(50 50 70 / .7));
  }

  svg, img, ::slotted(svg), ::slotted(img) {
    width: var(--media-button-icon-width);
    height: var(--media-button-icon-height, var(--media-control-height, 24px));
    transform: var(--media-button-icon-transform);
    transition: var(--media-button-icon-transition);
    fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));
    vertical-align: middle;
    max-width: 100%;
    max-height: 100%;
    min-width: 100%;
  }
</style>
`;class Yf extends Qe.HTMLElement{constructor(e={}){if(super(),mj(this,yp,void 0),hhr(this,"preventClick",!1),mj(this,vL,r=>{this.preventClick||this.handleClick(r)}),mj(this,K2,r=>{const{key:i}=r;if(!this.keysUsed.includes(i)){this.removeEventListener("keyup",ef(this,K2));return}this.preventClick||this.handleClick(r)}),mj(this,yL,r=>{const{metaKey:i,altKey:s,key:o}=r;if(i||s||!this.keysUsed.includes(o)){this.removeEventListener("keyup",ef(this,K2));return}this.addEventListener("keyup",ef(this,K2),{once:!0})}),!this.shadowRoot){this.attachShadow({mode:"open"});const r=Jtt.content.cloneNode(!0);this.nativeEl=r;let i=e.slotTemplate;i||(i=yn.createElement("template"),i.innerHTML=`<slot>${e.defaultContent||""}</slot>`),this.nativeEl.appendChild(i.content.cloneNode(!0)),this.shadowRoot.appendChild(r)}const{style:n}=fu(this.shadowRoot,":host");n.setProperty("display",`var(--media-control-display, var(--${this.localName}-display, inline-flex))`)}static get observedAttributes(){return["disabled",Nr.MEDIA_CONTROLLER]}enable(){this.addEventListener("click",ef(this,vL)),this.addEventListener("keydown",ef(this,yL)),this.tabIndex=0}disable(){this.removeEventListener("click",ef(this,vL)),this.removeEventListener("keydown",ef(this,yL)),this.removeEventListener("keyup",ef(this,K2)),this.tabIndex=-1}attributeChangedCallback(e,n,r){var i,s,o,a,l;e===Nr.MEDIA_CONTROLLER?(n&&((s=(i=ef(this,yp))==null?void 0:i.unassociateElement)==null||s.call(i,this),gj(this,yp,null)),r&&(gj(this,yp,(o=this.getRootNode())==null?void 0:o.getElementById(r)),(l=(a=ef(this,yp))==null?void 0:a.associateElement)==null||l.call(a,this))):e==="disabled"&&r!==n&&(r==null?this.enable():this.disable())}connectedCallback(){var e,n,r;this.hasAttribute("disabled")||this.enable(),this.setAttribute("role","button");const i=this.getAttribute(Nr.MEDIA_CONTROLLER);i&&(gj(this,yp,(e=this.getRootNode())==null?void 0:e.getElementById(i)),(r=(n=ef(this,yp))==null?void 0:n.associateElement)==null||r.call(n,this))}disconnectedCallback(){var e,n;this.disable(),(n=(e=ef(this,yp))==null?void 0:e.unassociateElement)==null||n.call(e,this),gj(this,yp,null)}get keysUsed(){return["Enter"," "]}handleClick(e){}}yp=new WeakMap;vL=new WeakMap;K2=new WeakMap;yL=new WeakMap;Qe.customElements.get("media-chrome-button")||Qe.customElements.define("media-chrome-button",Yf);const phr=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M22.13 3H3.87a.87.87 0 0 0-.87.87v13.26a.87.87 0 0 0 .87.87h3.4L9 16H5V5h16v11h-4l1.72 2h3.4a.87.87 0 0 0 .87-.87V3.87a.87.87 0 0 0-.86-.87Zm-8.75 11.44a.5.5 0 0 0-.76 0l-4.91 5.73a.5.5 0 0 0 .38.83h9.82a.501.501 0 0 0 .38-.83l-4.91-5.73Z"/>
</svg>
`,ent=yn.createElement("template");ent.innerHTML=`
  <slot name="icon">${phr}</slot>
`;class mhr extends Yf{static get observedAttributes(){return[...super.observedAttributes,Se.MEDIA_AIRPLAY_UNAVAILABLE]}constructor(e={}){super({slotTemplate:ent,...e})}connectedCallback(){this.setAttribute("aria-label",Gu.AIRPLAY()),super.connectedCallback()}get mediaAirplayUnavailable(){return Gh(this,Se.MEDIA_AIRPLAY_UNAVAILABLE)}set mediaAirplayUnavailable(e){qh(this,Se.MEDIA_AIRPLAY_UNAVAILABLE,e)}handleClick(){const e=new Qe.CustomEvent(Qn.MEDIA_AIRPLAY_REQUEST,{composed:!0,bubbles:!0});this.dispatchEvent(e)}}Qe.customElements.get("media-airplay-button")||Qe.customElements.define("media-airplay-button",mhr);const ghr='<svg aria-hidden="true" viewBox="0 0 24 24"><g><path class="cast_caf_icon_arch0" d="M1,18 L1,21 L4,21 C4,19.3 2.66,18 1,18 L1,18 Z"/><path class="cast_caf_icon_arch1" d="M1,14 L1,16 C3.76,16 6,18.2 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z"/><path class="cast_caf_icon_arch2" d="M1,10 L1,12 C5.97,12 10,16.0 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z"/><path class="cast_caf_icon_box" d="M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z"/></g></svg>',vhr='<svg aria-hidden="true" viewBox="0 0 24 24"><g><path class="cast_caf_icon_arch0" d="M1,18 L1,21 L4,21 C4,19.3 2.66,18 1,18 L1,18 Z"/><path class="cast_caf_icon_arch1" d="M1,14 L1,16 C3.76,16 6,18.2 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z"/><path class="cast_caf_icon_arch2" d="M1,10 L1,12 C5.97,12 10,16.0 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z"/><path class="cast_caf_icon_box" d="M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z"/><path class="cast_caf_icon_boxfill" d="M5,7 L5,8.63 C8,8.6 13.37,14 13.37,17 L19,17 L19,7 Z"/></g></svg>',tnt=yn.createElement("template");tnt.innerHTML=`
  <style>
  :host([${Se.MEDIA_IS_CASTING}]) slot:not([name=exit]):not([name=icon]) {
    display: none !important;
  }

  
  :host(:not([${Se.MEDIA_IS_CASTING}])) slot:not([name=enter]):not([name=icon]) {
    display: none !important;
  }
  </style>

  <slot name="icon">
    <slot name="enter">${ghr}</slot>
    <slot name="exit">${vhr}</slot>
  </slot>
`;const V4e=t=>{const n=t.getAttribute(Se.MEDIA_IS_CASTING)!=null?Gu.EXIT_CAST():Gu.ENTER_CAST();t.setAttribute("aria-label",n)};class yhr extends Yf{static get observedAttributes(){return[...super.observedAttributes,Se.MEDIA_IS_CASTING,Se.MEDIA_CAST_UNAVAILABLE]}constructor(e={}){super({slotTemplate:tnt,...e})}connectedCallback(){V4e(this),super.connectedCallback()}attributeChangedCallback(e,n,r){e===Se.MEDIA_IS_CASTING&&V4e(this),super.attributeChangedCallback(e,n,r)}get mediaIsCasting(){return Il(this,Se.MEDIA_IS_CASTING)}set mediaIsCasting(e){Dl(this,Se.MEDIA_IS_CASTING,e)}get mediaCastUnavailable(){return Gh(this,Se.MEDIA_CAST_UNAVAILABLE)}set mediaCastUnavailable(e){qh(this,Se.MEDIA_CAST_UNAVAILABLE,e)}handleClick(){const e=this.mediaIsCasting?Qn.MEDIA_EXIT_CAST_REQUEST:Qn.MEDIA_ENTER_CAST_REQUEST;this.dispatchEvent(new Qe.CustomEvent(e,{composed:!0,bubbles:!0}))}}Qe.customElements.get("media-cast-button")||Qe.customElements.define("media-cast-button",yhr);var nnt=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},u1=(t,e,n)=>(nnt(t,e,"read from private field"),n?n.call(t):e.get(t)),bhr=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},vj=(t,e,n,r)=>(nnt(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),gc;const rnt=yn.createElement("template");rnt.innerHTML=`
<style>
  :host {
    display: var(--media-control-display, var(--media-gesture-receiver-display, inline-block));
    box-sizing: border-box;
  }
</style>
`;class xhr extends Qe.HTMLElement{constructor(e={}){if(super(),bhr(this,gc,void 0),!this.shadowRoot){const n=this.attachShadow({mode:"open"}),r=rnt.content.cloneNode(!0);this.nativeEl=r;let i=e.slotTemplate;i||(i=yn.createElement("template"),i.innerHTML=`<slot>${e.defaultContent||""}</slot>`),this.nativeEl.appendChild(i.content.cloneNode(!0)),n.appendChild(r)}}static get observedAttributes(){return[Nr.MEDIA_CONTROLLER,Se.MEDIA_PAUSED]}attributeChangedCallback(e,n,r){var i,s,o,a,l;e===Nr.MEDIA_CONTROLLER&&(n&&((s=(i=u1(this,gc))==null?void 0:i.unassociateElement)==null||s.call(i,this),vj(this,gc,null)),r&&(vj(this,gc,(o=this.getRootNode())==null?void 0:o.getElementById(r)),(l=(a=u1(this,gc))==null?void 0:a.associateElement)==null||l.call(a,this)))}connectedCallback(){var e,n,r,i;this.tabIndex=-1,this.setAttribute("aria-hidden","true"),vj(this,gc,whr(this)),this.getAttribute(Nr.MEDIA_CONTROLLER)&&((n=(e=u1(this,gc))==null?void 0:e.associateElement)==null||n.call(e,this)),(r=u1(this,gc))==null||r.addEventListener("pointerdown",this),(i=u1(this,gc))==null||i.addEventListener("click",this)}disconnectedCallback(){var e,n,r,i;this.getAttribute(Nr.MEDIA_CONTROLLER)&&((n=(e=u1(this,gc))==null?void 0:e.unassociateElement)==null||n.call(e,this)),(r=u1(this,gc))==null||r.removeEventListener("pointerdown",this),(i=u1(this,gc))==null||i.removeEventListener("click",this),vj(this,gc,null)}handleEvent(e){var n;const r=(n=e.composedPath())==null?void 0:n[0];if(["video","media-controller"].includes(r==null?void 0:r.localName)){if(e.type==="pointerdown")this._pointerType=e.pointerType;else if(e.type==="click"){const{clientX:s,clientY:o}=e,{left:a,top:l,width:u,height:d}=this.getBoundingClientRect(),f=s-a,h=o-l;if(f<0||h<0||f>u||h>d||u===0&&d===0)return;const{pointerType:p=this._pointerType}=e;if(this._pointerType=void 0,p===F4e.TOUCH){this.handleTap(e);return}else if(p===F4e.MOUSE){this.handleMouseClick(e);return}}}}get mediaPaused(){return Il(this,Se.MEDIA_PAUSED)}set mediaPaused(e){Dl(this,Se.MEDIA_PAUSED,e)}handleTap(e){}handleMouseClick(e){const n=this.mediaPaused?Qn.MEDIA_PLAY_REQUEST:Qn.MEDIA_PAUSE_REQUEST;this.dispatchEvent(new Qe.CustomEvent(n,{composed:!0,bubbles:!0}))}}gc=new WeakMap;function whr(t){var e;const n=t.getAttribute(Nr.MEDIA_CONTROLLER);return n?(e=t.getRootNode())==null?void 0:e.getElementById(n):$F(t,"media-controller")}Qe.customElements.get("media-gesture-receiver")||Qe.customElements.define("media-gesture-receiver",xhr);var _hr=Object.defineProperty,Chr=(t,e,n)=>e in t?_hr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ehr=(t,e,n)=>(Chr(t,typeof e!="symbol"?e+"":e,n),n);const Oi={AUDIO:"audio",AUTOHIDE:"autohide",BREAKPOINTS:"breakpoints",GESTURES_DISABLED:"gesturesdisabled",KEYBOARD_CONTROL:"keyboardcontrol",NO_AUTOHIDE:"noautohide",USER_INACTIVE:"userinactive"},int=yn.createElement("template");int.innerHTML=`
  <style>
    
    :host([${Se.MEDIA_IS_FULLSCREEN}]) ::slotted([slot=media]) {
      outline: none;
    }

    :host {
      box-sizing: border-box;
      position: relative;
      display: inline-block;
      line-height: 0;
      background-color: var(--media-background-color, #000);
    }

    :host(:not([${Oi.AUDIO}])) [part~=layer]:not([part~=media-layer]) {
      position: absolute;
      top: 0;
      left: 0;
      bottom: 0;
      right: 0;
      display: flex;
      flex-flow: column nowrap;
      align-items: start;
      pointer-events: none;
      background: none;
    }

    slot[name=media] {
      display: var(--media-slot-display, contents);
    }

    
    :host([${Oi.AUDIO}]) slot[name=media] {
      display: var(--media-slot-display, none);
    }

    
    :host([${Oi.AUDIO}]) [part~=layer][part~=gesture-layer] {
      height: 0;
      display: block;
    }

    
    :host(:not([${Oi.AUDIO}])[${Oi.GESTURES_DISABLED}]) ::slotted([slot=gestures-chrome]),
    :host(:not([${Oi.AUDIO}])[${Oi.GESTURES_DISABLED}]) media-gesture-receiver[slot=gestures-chrome] {
      display: none;
    }

    
    ::slotted(:not([slot=media]):not([slot=poster]):not(media-loading-indicator)) {
      pointer-events: auto;
    }

    :host(:not([${Oi.AUDIO}])) *[part~=layer][part~=centered-layer] {
      align-items: center;
      justify-content: center;
    }

    :host(:not([${Oi.AUDIO}])) ::slotted(media-gesture-receiver[slot=gestures-chrome]),
    :host(:not([${Oi.AUDIO}])) media-gesture-receiver[slot=gestures-chrome] {
      align-self: stretch;
      flex-grow: 1;
    }

    slot[name=middle-chrome] {
      display: inline;
      flex-grow: 1;
      pointer-events: none;
      background: none;
    }

    
    ::slotted([slot=media]),
    ::slotted([slot=poster]) {
      width: 100%;
      height: 100%;
    }

    
    :host(:not([${Oi.AUDIO}])) .spacer {
      flex-grow: 1;
    }

    
    :host(:-webkit-full-screen) {
      
      width: 100% !important;
      height: 100% !important;
    }

    
    ::slotted(:not([slot=media]):not([${Oi.NO_AUTOHIDE}])) {
      opacity: 1;
      transition: opacity 0.25s;
    }

    
    :host([${Oi.USER_INACTIVE}]:not([${Se.MEDIA_PAUSED}]):not([${Se.MEDIA_IS_CASTING}]):not([${Oi.AUDIO}])) ::slotted(:not([slot=media]):not([${Oi.NO_AUTOHIDE}])) {
      opacity: 0;
      transition: opacity 1s;
    }

    ::slotted(media-control-bar)  {
      align-self: stretch;
    }

    
    :host(:not([${Oi.AUDIO}])[${Se.MEDIA_HAS_PLAYED}]) slot[name=poster] {
      display: none;
    }
  </style>

  <slot name="media" part="layer media-layer"></slot>
  <slot name="poster" part="layer poster-layer"></slot>
  <slot name="gestures-chrome" part="layer gesture-layer">
    <media-gesture-receiver slot="gestures-chrome"></media-gesture-receiver>
  </slot>
  <span part="layer vertical-layer">
    <slot name="top-chrome" part="top chrome"></slot>
    <slot name="middle-chrome" part="middle chrome"></slot>
    <slot name="centered-chrome" part="layer centered-layer center centered chrome"></slot>
    
    <slot part="bottom chrome"></slot>
  </span>
`;const Shr=Object.values(Se),Thr="sm:384 md:576 lg:768 xl:960";function khr(t){for(const e of t)Ahr(e.target,e.contentRect.width)}function Ahr(t,e){var n;if(!t.isConnected)return;const r=(n=t.getAttribute(Oi.BREAKPOINTS))!=null?n:Thr,i=Ihr(r),s=Dhr(i,e);let o=!1;if(Object.keys(i).forEach(a=>{if(s.includes(a)){t.hasAttribute(`breakpoint${a}`)||(t.setAttribute(`breakpoint${a}`,""),o=!0);return}t.hasAttribute(`breakpoint${a}`)&&(t.removeAttribute(`breakpoint${a}`),o=!0)}),o){const a=new CustomEvent(S3.BREAKPOINTS_CHANGE,{detail:s});t.dispatchEvent(a)}}function Ihr(t){const e=t.split(/\s+/);return Object.fromEntries(e.map(n=>n.split(":")))}function Dhr(t,e){return Object.keys(t).filter(n=>e>=t[n])}class Rhr extends Qe.HTMLElement{constructor(){super(),Ehr(this,"breakpointsUncomputed",!0),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(int.content.cloneNode(!0)));const e=l=>{const u=this.media;for(let d of l)d.type==="childList"&&(d.removedNodes.forEach(f=>{if(f.slot=="media"&&d.target==this){let h=d.previousSibling&&d.previousSibling.previousElementSibling;if(!h||!u)this.mediaUnsetCallback(f);else{let p=h.slot!=="media";for(;(h=h.previousSibling)!==null;)h.slot=="media"&&(p=!1);p&&this.mediaUnsetCallback(f)}}}),u&&d.addedNodes.forEach(f=>{f==u&&this.handleMediaUpdated(u).then(h=>this.mediaSetCallback(h))}))};new MutationObserver(e).observe(this,{childList:!0,subtree:!0});let r=!1;const i=l=>{r||(setTimeout(()=>{khr(l),r=!1,this.breakpointsUncomputed=!1},0),r=!0)},s=new ResizeObserver(i);this.resizeObserver=s,s.observe(this);let o=this.media,a=this.querySelector(":scope > slot[slot=media]");a&&a.addEventListener("slotchange",()=>{if(!a.assignedElements({flatten:!0}).length){this.mediaUnsetCallback(o);return}this.media&&(o=this.media,this.handleMediaUpdated(this.media).then(u=>this.mediaSetCallback(u)))})}static get observedAttributes(){return[Oi.AUTOHIDE,Oi.GESTURES_DISABLED].concat(Shr).filter(e=>![Se.MEDIA_RENDITION_LIST,Se.MEDIA_AUDIO_TRACK_LIST].includes(e))}attributeChangedCallback(e,n,r){e.toLowerCase()==Oi.AUTOHIDE&&(this.autohide=r)}get media(){let e=this.querySelector(":scope > [slot=media]");return(e==null?void 0:e.nodeName)=="SLOT"&&(e=e.assignedElements({flatten:!0})[0]),e}mediaSetCallback(e){this._mediaClickPlayToggle=()=>{const n=e.paused?Qn.MEDIA_PLAY_REQUEST:Qn.MEDIA_PAUSE_REQUEST;this.dispatchEvent(new Qe.CustomEvent(n,{composed:!0,bubbles:!0}))}}handleMediaUpdated(e){const n=s=>Promise.resolve(s),r=s=>(console.error('<media-chrome>: Media element set with slot="media" does not appear to be compatible.',s),Promise.reject(s));if(!e)return r(e);const i=e.nodeName.toLowerCase();return i.includes("-")?Qe.customElements.whenDefined(i).then(()=>n(e)):n(e)}mediaUnsetCallback(e){}connectedCallback(){var e;const r=this.getAttribute(Oi.AUDIO)!=null?ny.AUDIO_PLAYER():ny.VIDEO_PLAYER();this.setAttribute("role","region"),this.setAttribute("aria-label",r),this.media&&this.handleMediaUpdated(this.media).then(a=>this.mediaSetCallback(a)),this.setAttribute(Oi.USER_INACTIVE,"");const i=()=>{if(this.autohide<0||this.hasAttribute(Oi.USER_INACTIVE))return;this.setAttribute(Oi.USER_INACTIVE,"");const a=new Qe.CustomEvent(S3.USER_INACTIVE,{composed:!0,bubbles:!0,detail:!0});this.dispatchEvent(a)},s=()=>{if(!this.hasAttribute(Oi.USER_INACTIVE))return;this.removeAttribute(Oi.USER_INACTIVE);const a=new Qe.CustomEvent(S3.USER_INACTIVE,{composed:!0,bubbles:!0,detail:!1});this.dispatchEvent(a)},o=()=>{s(),clearTimeout(this._inactiveTimeout),!(this.autohide<0)&&(this._inactiveTimeout=setTimeout(()=>{i()},this.autohide*1e3))};this.addEventListener("keyup",()=>{o()}),this.addEventListener("pointerup",a=>{a.pointerType==="touch"?[this,this.media].includes(a.target)&&!this.hasAttribute(Oi.USER_INACTIVE)?i():o():a.composedPath().some(l=>{var u;return["media-play-button","media-fullscreen-button"].includes((u=l==null?void 0:l.nodeName)==null?void 0:u.toLowerCase())})&&o()}),this.addEventListener("pointermove",a=>{a.pointerType==="mouse"&&(s(),clearTimeout(this._inactiveTimeout),[this,this.media].includes(a.target)&&o())}),this.addEventListener("mouseleave",()=>{i()}),this.addEventListener("keyup",()=>{this.setAttribute(Oi.KEYBOARD_CONTROL,"")}),(e=Qe.window)==null||e.addEventListener("mouseup",()=>{this.removeAttribute(Oi.KEYBOARD_CONTROL)})}set autohide(e){e=Number(e),this._autohide=isNaN(e)?0:e}get autohide(){return this._autohide===void 0?2:this._autohide}}var snt=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Wa=(t,e,n)=>(snt(t,e,"read from private field"),n?n.call(t):e.get(t)),oT=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},yj=(t,e,n,r)=>(snt(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Z2,X2,_8,ax,vg,b1;class ont{constructor(e,n,{defaultValue:r}={defaultValue:void 0}){oT(this,vg),oT(this,Z2,void 0),oT(this,X2,void 0),oT(this,_8,void 0),oT(this,ax,new Set),yj(this,Z2,e),yj(this,X2,n),yj(this,_8,new Set(r))}[Symbol.iterator](){return Wa(this,vg,b1).values()}get length(){return Wa(this,vg,b1).size}get value(){var e;return(e=[...Wa(this,vg,b1)].join(" "))!=null?e:""}set value(e){var n;e!==this.value&&(yj(this,ax,new Set),this.add(...(n=e==null?void 0:e.split(" "))!=null?n:[]))}toString(){return this.value}item(e){return[...Wa(this,vg,b1)][e]}values(){return Wa(this,vg,b1).values()}forEach(e){Wa(this,vg,b1).forEach(e)}add(...e){var n,r;e.forEach(i=>Wa(this,ax).add(i)),!(this.value===""&&!((n=Wa(this,Z2))!=null&&n.hasAttribute(`${Wa(this,X2)}`)))&&((r=Wa(this,Z2))==null||r.setAttribute(`${Wa(this,X2)}`,`${this.value}`))}remove(...e){var n;e.forEach(r=>Wa(this,ax).delete(r)),(n=Wa(this,Z2))==null||n.setAttribute(`${Wa(this,X2)}`,`${this.value}`)}contains(e){return Wa(this,vg,b1).has(e)}toggle(e,n){return typeof n<"u"?n?(this.add(e),!0):(this.remove(e),!1):this.contains(e)?(this.remove(e),!1):(this.add(e),!0)}replace(e,n){return this.remove(e),this.add(n),e===n}}Z2=new WeakMap;X2=new WeakMap;_8=new WeakMap;ax=new WeakMap;vg=new WeakSet;b1=function(){return Wa(this,ax).size?Wa(this,ax):Wa(this,_8)};const ant=(t="")=>t.split(/\s+/),lnt=(t="")=>{let[e,n,r]=t.split(":");const i=r?decodeURIComponent(r):void 0;return e=e==="cc"?"captions":"subtitles",{kind:e,language:n,label:i}},ooe=(t="",e={})=>ant(t).map(n=>{const r=lnt(n);return{...e,...r}}),jhr=t=>Array.isArray(t)?t.map(e=>typeof e=="string"?lnt(e):e):typeof t=="string"?ooe(t):[t],vZ=({kind:t,label:e,language:n}={kind:"subtitles"})=>e?`${t==="captions"?"cc":"sb"}:${n}:${encodeURIComponent(e)}`:n,C8=(t=[])=>Array.prototype.map.call(t,vZ).join(" "),Ohr=(t,e)=>n=>n[t]===e,unt=t=>{const e=Object.entries(t).map(([n,r])=>Ohr(n,r));return n=>e.every(r=>r(n))},U4e=(t,e=[],n=[])=>{const r=jhr(n).map(unt),i=s=>r.some(o=>o(s));Array.from(e).filter(i).forEach(s=>{s.mode=t})},aoe=(t,e=()=>!0)=>{if(!(t!=null&&t.textTracks))return[];const n=typeof e=="function"?e:unt(e);return Array.from(t.textTracks).filter(n)},cnt=t=>!!t.getAttribute(Se.MEDIA_SUBTITLES_SHOWING),k3=(t,e)=>{var n,r;const i=cnt(t);if(i||e===!1){const s=t.getAttribute(Se.MEDIA_SUBTITLES_SHOWING);if(s){const o=new Qe.CustomEvent(Qn.MEDIA_DISABLE_SUBTITLES_REQUEST,{composed:!0,bubbles:!0,detail:s});t.dispatchEvent(o)}}else if(!i||e===!0){const[s]=(r=ant((n=t.getAttribute(Se.MEDIA_SUBTITLES_LIST))!=null?n:""))!=null?r:[];if(s){const o=new Qe.CustomEvent(Qn.MEDIA_SHOW_SUBTITLES_REQUEST,{composed:!0,bubbles:!0,detail:s});t.dispatchEvent(o)}}else console.error("Attempting to enable captions or subtitles but none are available! Please verify your media content if this is unexpected.")},ua={enter:"requestFullscreen",exit:"exitFullscreen",rootEvents:["fullscreenchange"],mediaEvents:[],element:"fullscreenElement",error:"fullscreenerror",enabled:"fullscreenEnabled"};yn.fullscreenElement===void 0&&(ua.enter="webkitRequestFullScreen",ua.exit=yn.webkitExitFullscreen!=null?"webkitExitFullscreen":"webkitCancelFullScreen",ua.rootEvents=["webkitfullscreenchange"],ua.mediaEvents=["webkitbeginfullscreen","webkitendfullscreen"],ua.element="webkitFullscreenElement",ua.error="webkitfullscreenerror",ua.enabled="webkitFullscreenEnabled");let bj;const loe=()=>{var t,e;return bj||(bj=(e=(t=yn)==null?void 0:t.createElement)==null?void 0:e.call(t,"video"),bj)},Lhr=async(t=loe())=>{if(!t)return!1;const e=t.volume;return t.volume=e/2+.1,await Gtt(0),t.volume!==e},Phr=(t=loe())=>typeof(t==null?void 0:t.requestPictureInPicture)=="function",Mhr=(t=loe())=>{let e=yn[ua.enabled];return!e&&t&&(e="webkitSupportsFullscreen"in t),e},dnt=Mhr(),$hr=Phr(),Fhr=!!Qe.WebKitPlaybackTargetAvailabilityEvent,Bhr=!!Qe.chrome;let E8;const Nhr=Lhr().then(t=>(E8=t,E8)),Vhr=Object.values(Dp),yZ=t=>aoe(t.media,e=>[T3.SUBTITLES,T3.CAPTIONS].includes(e.kind)).sort((e,n)=>e.kind>=n.kind?1:-1),Uhr=t=>aoe(t.media,e=>e.mode===gZ.SHOWING&&[T3.SUBTITLES,T3.CAPTIONS].includes(e.kind)),od={MEDIA_PAUSED:{get:function(t){const{media:e}=t;return e?e.paused:!0},mediaEvents:["play","playing","pause","emptied"]},MEDIA_HAS_PLAYED:{get:function(t){const{media:e}=t;return e?!e.paused:!1},mediaEvents:["playing","emptied"]},MEDIA_ENDED:{get:function(t){const{media:e}=t;return e?e.ended:!1},mediaEvents:["seeked","ended","emptied"]},MEDIA_PLAYBACK_RATE:{get:function(t){const{media:e}=t;return!e||typeof e.playbackRate>"u"?1:e.playbackRate},mediaEvents:["ratechange","loadstart"]},MEDIA_MUTED:{get:function(t){const{media:e}=t;return!e||typeof e.muted>"u"?!1:e.muted},mediaEvents:["volumechange"]},MEDIA_VOLUME:{get:function(t){const{media:e}=t;return!e||typeof e.volume>"u"?1:Number(e.volume)},mediaEvents:["volumechange"]},MEDIA_VOLUME_LEVEL:{get:function(t){const{media:e}=t;let n="high";if(!e||typeof e.volume>"u")return n;const{muted:r,volume:i}=e;return i===0||r?n="off":i<.5?n="low":i<.75&&(n="medium"),n},mediaEvents:["volumechange"]},MEDIA_CURRENT_TIME:{get:function(t){const{media:e}=t;return!e||typeof e.currentTime>"u"?0:e.currentTime},mediaEvents:["timeupdate","loadedmetadata"]},MEDIA_DURATION:{get:function(t){const{media:e}=t;return!e||!Number.isFinite(e.duration)?NaN:e.duration},mediaEvents:["durationchange","loadedmetadata","emptied"]},MEDIA_SEEKABLE:{get:function(t){var e;const{media:n}=t;if(!((e=n==null?void 0:n.seekable)!=null&&e.length))return;const r=n.seekable.start(0),i=n.seekable.end(n.seekable.length-1);if(!(!r&&!i))return[Number(r.toFixed(3)),Number(i.toFixed(3))]},mediaEvents:["loadedmetadata","emptied","progress"]},MEDIA_LOADING:{get:function(t){var e;return((e=t.media)==null?void 0:e.readyState)<3},mediaEvents:["waiting","playing","emptied"]},MEDIA_BUFFERED:{get:function(t){var e,n,r;const i=(e=t.media)==null?void 0:e.buffered;return Array.from((r=(n=t.media)==null?void 0:n.buffered)!=null?r:[]).map((s,o)=>[Number(i.start(o)).toFixed(3),Number(i.end(o)).toFixed(3)])},mediaEvents:["progress","emptied"]},MEDIA_STREAM_TYPE:{get:function(t){const{media:e}=t;if(!e)return;const{streamType:n}=e;if(Vhr.includes(n)){if(n===Dp.UNKNOWN){const i=t.getAttribute("defaultstreamtype");return[Dp.LIVE,Dp.ON_DEMAND].includes(i)?i:void 0}return n}const r=e.duration;if(r===1/0)return Dp.LIVE;if(Number.isFinite(r))return Dp.ON_DEMAND;{const i=t.getAttribute("defaultstreamtype");if([Dp.LIVE,Dp.ON_DEMAND].includes(i))return i}},mediaEvents:["emptied","durationchange","loadedmetadata","streamtypechange"]},MEDIA_TARGET_LIVE_WINDOW:{get:function(t){const{media:e}=t;if(!e)return Number.NaN;const{targetLiveWindow:n}=e,r=od.MEDIA_STREAM_TYPE.get(t);return(n==null||Number.isNaN(n))&&r===Dp.LIVE?0:n},mediaEvents:["emptied","durationchange","loadedmetadata","streamtypechange","targetlivewindowchange"]},MEDIA_TIME_IS_LIVE:{get:function(t){const{media:e}=t;if(!e)return!1;if(typeof e.liveEdgeStart=="number")return Number.isNaN(e.liveEdgeStart)?!1:e.currentTime>=e.liveEdgeStart;if(!(od.MEDIA_STREAM_TYPE.get(t)==="live"))return!1;const r=e.seekable;if(!r)return!0;if(!r.length)return!1;const i=t.hasAttribute("liveedgeoffset")?Number(t.getAttribute("liveedgeoffset")):10,s=r.end(r.length-1)-i;return e.currentTime>=s},mediaEvents:["playing","timeupdate","progress","waiting","emptied"]},MEDIA_IS_FULLSCREEN:{get:function(t,e){var n;const r=t.media;if(r&&yn[ua.element]===void 0&&"webkitDisplayingFullscreen"in r)return r.webkitDisplayingFullscreen&&r.webkitPresentationMode==="fullscreen";let i;return e?i=yn[ua.element]?e.target:null:i=(n=t.getRootNode().fullscreenElement)!=null?n:yn[ua.element],gL(t.fullscreenElement,i)},rootEvents:ua.rootEvents,mediaEvents:ua.mediaEvents},MEDIA_IS_PIP:{get:function(t,e){var n;const r=t.media;if(!r)return!1;if(e)return e.type=="enterpictureinpicture";{const i=(n=t.getRootNode().pictureInPictureElement)!=null?n:yn.pictureInPictureElement;return gL(r,i)}},mediaEvents:["enterpictureinpicture","leavepictureinpicture"]},MEDIA_IS_CASTING:{get:function(t,e){var n;const{media:r}=t;if(!r)return!1;const i=(n=Qe.CastableVideoElement)==null?void 0:n.castElement;let s=gL(r,i);return(e==null?void 0:e.type)==="castchange"&&(e==null?void 0:e.detail)==="CONNECTING"&&(s="connecting"),s},mediaEvents:["entercast","leavecast","castchange"]},MEDIA_AIRPLAY_UNAVAILABLE:{get:function(t,e){if(!Fhr)return Jd.UNSUPPORTED;if(e&&e.availability!=="available"&&e.availability==="not-available")return Jd.UNAVAILABLE},mediaEvents:["webkitplaybacktargetavailabilitychanged"]},MEDIA_CAST_UNAVAILABLE:{get:function(){var t;const e=(t=Qe.CastableVideoElement)==null?void 0:t.castState;if(!Bhr||!e)return Jd.UNSUPPORTED;if(!e.includes("CONNECT"))return Jd.UNAVAILABLE},mediaEvents:["castchange"]},MEDIA_FULLSCREEN_UNAVAILABLE:{get:function(){return dnt?void 0:Jd.UNAVAILABLE}},MEDIA_PIP_UNAVAILABLE:{get:function(){return $hr?void 0:Jd.UNSUPPORTED}},MEDIA_RENDITION_UNAVAILABLE:{get:function(t){var e;const{media:n}=t;if(!(n!=null&&n.videoRenditions))return Jd.UNSUPPORTED;if(!((e=n.videoRenditions)!=null&&e.length))return Jd.UNAVAILABLE},mediaEvents:["emptied","loadstart"],videoRenditionsEvents:["addrendition","removerendition"]},MEDIA_AUDIO_TRACK_UNAVAILABLE:{get:function(t){var e,n;const{media:r}=t;if(!(r!=null&&r.audioTracks))return Jd.UNSUPPORTED;if(((n=(e=r.audioTracks)==null?void 0:e.length)!=null?n:0)<=1)return Jd.UNAVAILABLE},mediaEvents:["emptied","loadstart"],audioTracksEvents:["addtrack","removetrack"]},MEDIA_VOLUME_UNAVAILABLE:{get:function(t){if(E8!==void 0&&!E8)return Jd.UNSUPPORTED;const{media:e}=t;if(e&&typeof e.volume>"u")return Jd.UNAVAILABLE},mediaEvents:["loadstart"]},MEDIA_SUBTITLES_LIST:{get:function(t){return yZ(t).map(({kind:e,label:n,language:r})=>({kind:e,label:n,language:r}))},mediaEvents:["loadstart"],textTracksEvents:["addtrack","removetrack"]},MEDIA_SUBTITLES_SHOWING:{get:function(t){return t.hasAttribute("defaultsubtitles")&&!t.hasAttribute(Se.MEDIA_HAS_PLAYED)&&!t.hasAttribute(Se.MEDIA_SUBTITLES_SHOWING)&&k3(t,!0),Uhr(t).map(({kind:e,label:n,language:r})=>({kind:e,label:n,language:r}))},mediaEvents:["loadstart"],textTracksEvents:["addtrack","removetrack","change"]},MEDIA_RENDITION_LIST:{get:function(t){var e;const{media:n}=t;return[...(e=n==null?void 0:n.videoRenditions)!=null?e:[]]},mediaEvents:["emptied","loadstart"],videoRenditionsEvents:["addrendition","removerendition"]},MEDIA_RENDITION_SELECTED:{get:function(t){var e,n,r;const{media:i}=t;return(r=(n=i==null?void 0:i.videoRenditions)==null?void 0:n[(e=i.videoRenditions)==null?void 0:e.selectedIndex])==null?void 0:r.id},mediaEvents:["emptied"],videoRenditionsEvents:["addrendition","removerendition","change"]},MEDIA_AUDIO_TRACK_LIST:{get:function(t){var e;const{media:n}=t;return[...(e=n==null?void 0:n.audioTracks)!=null?e:[]]},mediaEvents:["emptied","loadstart"],audioTracksEvents:["addtrack","removetrack"]},MEDIA_AUDIO_TRACK_ENABLED:{get:function(t){var e,n;const{media:r}=t;return(n=[...(e=r==null?void 0:r.audioTracks)!=null?e:[]].find(i=>i.enabled))==null?void 0:n.id},mediaEvents:["emptied"],audioTracksEvents:["addtrack","removetrack","change"]}},bZ={MEDIA_PLAY_REQUEST:(t,e,n)=>{var r;const i=od.MEDIA_STREAM_TYPE.get(n),s=n.getAttribute("noautoseektolive")===null;i==Dp.LIVE&&s&&bZ.MEDIA_SEEK_TO_LIVE_REQUEST(t),(r=t.play())==null||r.catch(()=>{})},MEDIA_PAUSE_REQUEST:t=>t.pause(),MEDIA_MUTE_REQUEST:t=>t.muted=!0,MEDIA_UNMUTE_REQUEST:t=>{t.muted=!1,t.volume===0&&(t.volume=.25)},MEDIA_VOLUME_REQUEST:(t,e,n)=>{const r=e.detail;if(t.volume=r,r>0&&t.muted&&(t.muted=!1),!n.hasAttribute("novolumepref"))try{Qe.localStorage.setItem("media-chrome-pref-volume",r.toString())}catch{}},MEDIA_ENTER_FULLSCREEN_REQUEST:(t,e,n)=>{if(!dnt){console.warn("Fullscreen support is unavailable; not entering fullscreen");return}yn.pictureInPictureElement&&yn.exitPictureInPicture(),n[ua.enter]?n.fullscreenElement[ua.enter]():t.webkitEnterFullscreen?t.webkitEnterFullscreen():t.requestFullscreen?t.requestFullscreen():console.warn("MediaChrome: Fullscreen not supported")},MEDIA_EXIT_FULLSCREEN_REQUEST:()=>{yn[ua.exit]()},MEDIA_ENTER_PIP_REQUEST:t=>{if(!yn.pictureInPictureEnabled){console.warn("MediaChrome: Picture-in-picture is not enabled");return}if(!t.requestPictureInPicture){console.warn("MediaChrome: The current media does not support picture-in-picture");return}yn[ua.element]&&yn[ua.exit]();const e=()=>{console.warn("MediaChrome: The media is not ready for picture-in-picture. It must have a readyState > 0.")};t.requestPictureInPicture().catch(n=>{if(n.code===11)if(t.readyState===0&&t.preload==="none"){const r=()=>{t.removeEventListener("loadedmetadata",i),t.preload="none"},i=()=>{t.requestPictureInPicture().catch(e),r()};t.addEventListener("loadedmetadata",i),t.preload="metadata",setTimeout(()=>{t.readyState===0&&e(),r()},1e3)}else throw n;else throw n})},MEDIA_EXIT_PIP_REQUEST:()=>{yn.pictureInPictureElement&&yn.exitPictureInPicture()},MEDIA_ENTER_CAST_REQUEST:t=>{var e;(e=Qe.CastableVideoElement)!=null&&e.castEnabled&&(yn[ua.element]&&yn[ua.exit](),t.requestCast())},MEDIA_EXIT_CAST_REQUEST:async()=>{var t;(t=Qe.CastableVideoElement)!=null&&t.castElement&&Qe.CastableVideoElement.exitCast()},MEDIA_SEEK_REQUEST:(t,e)=>{const n=e.detail;(t.readyState>0||t.readyState===void 0)&&(t.currentTime=n)},MEDIA_PLAYBACK_RATE_REQUEST:(t,e)=>{t.playbackRate=e.detail},MEDIA_PREVIEW_REQUEST:(t,e,n)=>{var r;if(!t)return;const i=e.detail;i===null&&n.propagateMediaState(Se.MEDIA_PREVIEW_TIME,void 0),n.propagateMediaState(Se.MEDIA_PREVIEW_TIME,i);const[s]=aoe(t,{kind:T3.METADATA,label:"thumbnails"});if(!(s&&s.cues))return;if(i===null){n.propagateMediaState(Se.MEDIA_PREVIEW_IMAGE,void 0),n.propagateMediaState(Se.MEDIA_PREVIEW_COORDS,void 0);return}const o=Array.prototype.find.call(s.cues,d=>d.startTime>=i);if(!o)return;const a=/'^(?:[a-z]+:)?\/\//i.test(o.text)||(r=t.querySelector('track[label="thumbnails"]'))==null?void 0:r.src,l=new URL(o.text,a),u=new URLSearchParams(l.hash).get("#xywh");n.propagateMediaState(Se.MEDIA_PREVIEW_IMAGE,l.href),n.propagateMediaState(Se.MEDIA_PREVIEW_COORDS,u.split(","))},MEDIA_SHOW_SUBTITLES_REQUEST:(t,e,n)=>{const r=yZ(n),{detail:i=[]}=e;U4e(gZ.SHOWING,r,i)},MEDIA_DISABLE_SUBTITLES_REQUEST:(t,e,n)=>{const r=yZ(n),{detail:i=[]}=e;U4e(gZ.DISABLED,r,i)},MEDIA_AIRPLAY_REQUEST:t=>{if(t){if(!(t.webkitShowPlaybackTargetPicker&&Qe.WebKitPlaybackTargetAvailabilityEvent)){console.warn("received a request to select AirPlay but AirPlay is not supported in this environment");return}t.webkitShowPlaybackTargetPicker()}},MEDIA_SEEK_TO_LIVE_REQUEST:t=>{const e=t.seekable;if(!e){console.warn("MediaController: Media element does not support seeking to live.");return}if(!e.length){console.warn("MediaController: Media is unable to seek to live.");return}t.currentTime=e.end(e.length-1)},MEDIA_RENDITION_REQUEST:(t,e)=>{if(!(t!=null&&t.videoRenditions)){console.warn("MediaController: Rendition selection not supported by this media.");return}const n=e.detail,r=[...t.videoRenditions].findIndex(i=>i.id==n);t.videoRenditions.selectedIndex!=r&&(t.videoRenditions.selectedIndex=r)},MEDIA_AUDIO_TRACK_REQUEST:(t,e)=>{if(!(t!=null&&t.audioTracks)){console.warn("MediaController: Audio track selection not supported by this media.");return}const n=e.detail;for(let r of t.audioTracks)r.enabled=n==r.id}};var uoe=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Gb=(t,e,n)=>(uoe(t,e,"read from private field"),n?n.call(t):e.get(t)),xj=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},H4e=(t,e,n,r)=>(uoe(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),E_=(t,e,n)=>(uoe(t,e,"access private method"),n),B1,UT,_C,A3,bL,xZ;const fnt=["ArrowLeft","ArrowRight","Enter"," ","f","m","k","c"],Hhr=10,z4e=0,hc={DEFAULT_SUBTITLES:"defaultsubtitles",DEFAULT_STREAM_TYPE:"defaultstreamtype",FULLSCREEN_ELEMENT:"fullscreenelement",HOTKEYS:"hotkeys",KEYS_USED:"keysused",LIVE_EDGE_OFFSET:"liveedgeoffset",NO_AUTO_SEEK_TO_LIVE:"noautoseektolive",NO_HOTKEYS:"nohotkeys"};class hnt extends Rhr{constructor(){super(),xj(this,_C),xj(this,bL),xj(this,B1,new ont(this,hc.HOTKEYS)),xj(this,UT,void 0),od.MEDIA_VOLUME_UNAVAILABLE.get(this)===void 0&&Nhr.then(()=>{this.propagateMediaState(Se.MEDIA_VOLUME_UNAVAILABLE,od.MEDIA_VOLUME_UNAVAILABLE.get(this))}),this.mediaStateReceivers=[],this.associatedElementSubscriptions=new Map,this.associateElement(this),Object.keys(bZ).forEach(e=>{const n=`_handle${Ez(e,!0)}`;this[n]=r=>{if(r.stopPropagation(),!this.media){console.warn("MediaController: No media available.");return}bZ[e](this.media,r,this)},this.addEventListener(Qn[e],this[n])}),this._mediaStatePropagators={},Object.keys(od).forEach(e=>{this._mediaStatePropagators[e]=n=>{this.propagateMediaState(F5[e],od[e].get(this,n))}}),this.enableHotkeys()}static get observedAttributes(){return super.observedAttributes.concat(hc.NO_HOTKEYS,hc.HOTKEYS,hc.DEFAULT_STREAM_TYPE,hc.DEFAULT_SUBTITLES)}get fullscreenElement(){var e;return(e=Gb(this,UT))!=null?e:this}set fullscreenElement(e){this.hasAttribute(hc.FULLSCREEN_ELEMENT)&&this.removeAttribute(hc.FULLSCREEN_ELEMENT),H4e(this,UT,e)}attributeChangedCallback(e,n,r){var i;if(e===hc.NO_HOTKEYS)r!==n&&r===""?(this.hasAttribute(hc.HOTKEYS)&&console.warn("Both `hotkeys` and `nohotkeys` have been set. All hotkeys will be disabled."),this.disableHotkeys()):r!==n&&r===null&&this.enableHotkeys();else if(e===hc.HOTKEYS)Gb(this,B1).value=r;else if(e===hc.DEFAULT_SUBTITLES&&r!==n&&r==="")k3(this,!0);else if(e===hc.DEFAULT_STREAM_TYPE)this.propagateMediaState(F5.MEDIA_STREAM_TYPE);else if(e===hc.FULLSCREEN_ELEMENT){const s=r?(i=this.getRootNode())==null?void 0:i.getElementById(r):void 0;H4e(this,UT,s)}super.attributeChangedCallback(e,n,r)}mediaSetCallback(e){if(super.mediaSetCallback(e),e.hasAttribute("tabindex")||(e.tabIndex=-1),Object.keys(od).forEach(n=>{const{mediaEvents:r,rootEvents:i,textTracksEvents:s,videoRenditionsEvents:o,audioTracksEvents:a}=od[n],l=this._mediaStatePropagators[n];r==null||r.forEach(u=>{e.addEventListener(u,l),l()}),i==null||i.forEach(u=>{this.getRootNode().addEventListener(u,l),l()}),s==null||s.forEach(u=>{var d;(d=e.textTracks)==null||d.addEventListener(u,l),l()}),o==null||o.forEach(u=>{var d;(d=e.videoRenditions)==null||d.addEventListener(u,l),l()}),a==null||a.forEach(u=>{var d;(d=e.audioTracks)==null||d.addEventListener(u,l),l()})}),!this.hasAttribute("novolumepref"))try{const n=Qe.localStorage.getItem("media-chrome-pref-volume");n!==null&&(e.volume=n)}catch(n){console.debug("Error getting volume pref",n)}}mediaUnsetCallback(e){super.mediaUnsetCallback(e),Object.keys(od).forEach(n=>{const{mediaEvents:r,rootEvents:i,textTracksEvents:s,videoRenditionsEvents:o,audioTracksEvents:a}=od[n],l=this._mediaStatePropagators[n];r==null||r.forEach(u=>{e.removeEventListener(u,l)}),i==null||i.forEach(u=>{this.getRootNode().removeEventListener(u,l)}),s==null||s.forEach(u=>{var d;(d=e.textTracks)==null||d.removeEventListener(u,l)}),o==null||o.forEach(u=>{var d;(d=e.videoRenditions)==null||d.removeEventListener(u,l),l()}),a==null||a.forEach(u=>{var d;(d=e.audioTracks)==null||d.removeEventListener(u,l),l()})}),this.propagateMediaState(F5.MEDIA_PAUSED,!0)}propagateMediaState(e,n){const r=Y4e(this.mediaStateReceivers,e);if(q4e(this.mediaStateReceivers,e,n),r===Y4e(this.mediaStateReceivers,e))return;const i=e.toLowerCase(),s=new Qe.CustomEvent(thr[i],{composed:!0,bubbles:!0,detail:n});this.dispatchEvent(s)}associateElement(e){if(!e)return;const{associatedElementSubscriptions:n}=this;if(n.has(e))return;const r=this.registerMediaStateReceiver.bind(this),i=this.unregisterMediaStateReceiver.bind(this),s=Khr(e,r,i);Object.keys(Qn).forEach(o=>{e.addEventListener(Qn[o],this[`_handle${Ez(o,!0)}`])}),n.set(e,s)}unassociateElement(e){if(!e)return;const{associatedElementSubscriptions:n}=this;if(!n.has(e))return;n.get(e)(),n.delete(e),Object.keys(Qn).forEach(i=>{e.removeEventListener(Qn[i],this[`_handle${Ez(i,!0)}`])})}registerMediaStateReceiver(e){if(!e)return;const n=this.mediaStateReceivers;n.indexOf(e)>-1||(n.push(e),Object.keys(od).forEach(i=>{const s=od[i];q4e([e],F5[i],s.get(this))}))}unregisterMediaStateReceiver(e){const n=this.mediaStateReceivers,r=n.indexOf(e);r<0||n.splice(r,1)}enableHotkeys(){this.addEventListener("keydown",E_(this,bL,xZ))}disableHotkeys(){this.removeEventListener("keydown",E_(this,bL,xZ)),this.removeEventListener("keyup",E_(this,_C,A3))}get hotkeys(){return Gb(this,B1)}keyboardShortcutHandler(e){var n,r,i,s;if(((s=(i=(n=e.target.getAttribute(hc.KEYS_USED))==null?void 0:n.split(" "))!=null?i:(r=e.target)==null?void 0:r.keysUsed)!=null?s:[]).map(p=>p==="Space"?" ":p).filter(Boolean).includes(e.key))return;let a,l,u,d,f;const h=Hhr;if(!Gb(this,B1).contains(`no${e.key.toLowerCase()}`)&&!(e.key===" "&&Gb(this,B1).contains("nospace")))switch(e.key){case" ":case"k":a=this.getAttribute(Se.MEDIA_PAUSED)!=null?Qn.MEDIA_PLAY_REQUEST:Qn.MEDIA_PAUSE_REQUEST,this.dispatchEvent(new Qe.CustomEvent(a,{composed:!0,bubbles:!0}));break;case"m":a=this.getAttribute(Se.MEDIA_VOLUME_LEVEL)==="off"?Qn.MEDIA_UNMUTE_REQUEST:Qn.MEDIA_MUTE_REQUEST,this.dispatchEvent(new Qe.CustomEvent(a,{composed:!0,bubbles:!0}));break;case"f":a=this.getAttribute(Se.MEDIA_IS_FULLSCREEN)!=null?Qn.MEDIA_EXIT_FULLSCREEN_REQUEST:Qn.MEDIA_ENTER_FULLSCREEN_REQUEST,this.dispatchEvent(new Qe.CustomEvent(a,{composed:!0,bubbles:!0}));break;case"c":k3(this);break;case"ArrowLeft":l=this.getAttribute(Se.MEDIA_CURRENT_TIME),u=l&&!Number.isNaN(+l)?+l:z4e,d=Math.max(u-h,0),f=new Qe.CustomEvent(Qn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:d}),this.dispatchEvent(f);break;case"ArrowRight":l=this.getAttribute(Se.MEDIA_CURRENT_TIME),u=l&&!Number.isNaN(+l)?+l:z4e,d=Math.max(u+h,0),f=new Qe.CustomEvent(Qn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:d}),this.dispatchEvent(f);break}}}B1=new WeakMap;UT=new WeakMap;_C=new WeakSet;A3=function(t){const{key:e}=t;if(!fnt.includes(e)){this.removeEventListener("keyup",E_(this,_C,A3));return}this.keyboardShortcutHandler(t)};bL=new WeakSet;xZ=function(t){const{metaKey:e,altKey:n,key:r}=t;if(e||n||!fnt.includes(r)){this.removeEventListener("keyup",E_(this,_C,A3));return}[" ","ArrowLeft","ArrowRight"].includes(r)&&!(Gb(this,B1).contains(`no${r.toLowerCase()}`)||r===" "&&Gb(this,B1).contains("nospace"))&&t.preventDefault(),this.addEventListener("keyup",E_(this,_C,A3),{once:!0})};const zhr=Object.values(Se),Whr=Object.values(F5),coe=t=>{var e,n,r,i;let{observedAttributes:s}=t.constructor;!s&&((e=t.nodeName)!=null&&e.includes("-"))&&(Qe.customElements.upgrade(t),{observedAttributes:s}=t.constructor);const o=(i=(r=(n=t==null?void 0:t.getAttribute)==null?void 0:n.call(t,Nr.MEDIA_CHROME_ATTRIBUTES))==null?void 0:r.split)==null?void 0:i.call(r,/\s+/);return Array.isArray(s||o)?(s||o).filter(a=>zhr.includes(a)):[]},Ghr=t=>{var e,n;return(e=t.nodeName)!=null&&e.includes("-")&&Qe.customElements.get((n=t.nodeName)==null?void 0:n.toLowerCase())&&!(t instanceof Qe.customElements.get(t.nodeName.toLowerCase()))&&Qe.customElements.upgrade(t),Whr.some(r=>r in t)},wZ=t=>Ghr(t)||!!coe(t).length,W4e=t=>{var e;return(e=t==null?void 0:t.join)==null?void 0:e.call(t,":")},G4e={[Se.MEDIA_SUBTITLES_LIST]:C8,[Se.MEDIA_SUBTITLES_SHOWING]:C8,[Se.MEDIA_SEEKABLE]:W4e,[Se.MEDIA_BUFFERED]:t=>t==null?void 0:t.map(W4e).join(" "),[Se.MEDIA_PREVIEW_COORDS]:t=>t==null?void 0:t.join(" "),[Se.MEDIA_RENDITION_LIST]:nhr,[Se.MEDIA_AUDIO_TRACK_LIST]:ihr},qhr=async(t,e,n)=>{var r,i;if(t.isConnected||await Gtt(0),typeof n=="boolean"||n==null)return Dl(t,e,n);if(typeof n=="number")return Fu(t,e,n);if(typeof n=="string")return qh(t,e,n);if(Array.isArray(n)&&!n.length)return t.removeAttribute(e);const s=(i=(r=G4e[e])==null?void 0:r.call(G4e,n))!=null?i:n;return t.setAttribute(e,s)},Yhr=t=>{var e;return!!((e=t.closest)!=null&&e.call(t,'*[slot="media"]'))},jb=(t,e)=>{if(Yhr(t))return;const n=(i,s)=>{var o,a;wZ(i)&&s(i);const{children:l=[]}=i??{},u=(a=(o=i==null?void 0:i.shadowRoot)==null?void 0:o.children)!=null?a:[];[...l,...u].forEach(f=>jb(f,s))},r=t==null?void 0:t.nodeName.toLowerCase();if(r.includes("-")&&!wZ(t)){Qe.customElements.whenDefined(r).then(()=>{n(t,e)});return}n(t,e)},q4e=(t,e,n)=>{t.forEach(r=>{if(e in r){r[e]=n;return}const i=coe(r),s=e.toLowerCase();i.includes(s)&&qhr(r,s,n)})},Y4e=(t,e)=>{for(const n of t){if(e in n)return n[e];const r=coe(n),i=e.toLowerCase();if(r.includes(i))return n.getAttribute(i)}},Khr=(t,e,n)=>{jb(t,e);const r=d=>{var f;const h=(f=d==null?void 0:d.composedPath()[0])!=null?f:d.target;e(h)},i=d=>{var f;const h=(f=d==null?void 0:d.composedPath()[0])!=null?f:d.target;n(h)};t.addEventListener(Qn.REGISTER_MEDIA_STATE_RECEIVER,r),t.addEventListener(Qn.UNREGISTER_MEDIA_STATE_RECEIVER,i);const s=d=>{d.forEach(f=>{const{addedNodes:h=[],removedNodes:p=[],type:g,target:v,attributeName:y}=f;g==="childList"?(Array.prototype.forEach.call(h,x=>jb(x,e)),Array.prototype.forEach.call(p,x=>jb(x,n))):g==="attributes"&&y===Nr.MEDIA_CHROME_ATTRIBUTES&&(wZ(v)?e(v):n(v))})};let o=[];const a=d=>{const f=d.target;f.name!=="media"&&(o.forEach(h=>jb(h,n)),o=[...f.assignedElements({flatten:!0})],o.forEach(h=>jb(h,e)))};t.addEventListener("slotchange",a);const l=new MutationObserver(s);return l.observe(t,{childList:!0,attributes:!0,subtree:!0}),()=>{jb(t,n),t.removeEventListener("slotchange",a),l.disconnect(),t.removeEventListener(Qn.REGISTER_MEDIA_STATE_RECEIVER,r),t.removeEventListener(Qn.UNREGISTER_MEDIA_STATE_RECEIVER,i)}};Qe.customElements.get("media-controller")||Qe.customElements.define("media-controller",hnt);var Zhr=hnt,Xhr=Object.defineProperty,Qhr=(t,e,n)=>e in t?Xhr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Jhr=(t,e,n)=>(Qhr(t,typeof e!="symbol"?e+"":e,n),n),pnt=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},c1=(t,e,n)=>(pnt(t,e,"read from private field"),n?n.call(t):e.get(t)),Sz=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},wj=(t,e,n,r)=>(pnt(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),bp,xL,wL;const mnt=yn.createElement("template"),K4e=`
  height: var(--thumb-height);
  width: var(--media-range-thumb-width, 10px);
  border: var(--media-range-thumb-border, none);
  border-radius: var(--media-range-thumb-border-radius, 10px);
  background: var(--media-range-thumb-background, var(--media-primary-color, rgb(238 238 238)));
  box-shadow: var(--media-range-thumb-box-shadow, 1px 1px 1px transparent);
  cursor: pointer;
  transition: var(--media-range-thumb-transition, none);
  transform: var(--media-range-thumb-transform, none);
  opacity: var(--media-range-thumb-opacity, 1);
`,Tz=`
  min-width: 40px;
  height: var(--track-height);
  border: var(--media-range-track-border, none);
  outline: var(--media-range-track-outline);
  outline-offset: var(--media-range-track-outline-offset);
  border-radius: var(--media-range-track-border-radius, 1px);
  background: var(--media-range-track-progress-internal, var(--media-range-track-background, rgb(255 255 255 / .2)));
  backdrop-filter: var(--media-range-track-backdrop-filter);
  box-shadow: var(--media-range-track-box-shadow, none);
  transition: var(--media-range-track-transition, none);
  transform: translate(var(--media-range-track-translate-x, 0), var(--media-range-track-translate-y, 0));
  cursor: pointer;
`;mnt.innerHTML=`
  <style>
    :host {
      --thumb-height: var(--media-range-thumb-height, 10px);
      --track-height: var(--media-range-track-height, 4px);
      --_focus-box-shadow: var(--media-focus-box-shadow, inset 0 0 0 2px rgb(27 127 204 / .9));
      --_media-range-padding: var(--media-range-padding, var(--media-control-padding, 10px));

      vertical-align: middle;
      box-sizing: border-box;
      display: inline-block;
      position: relative;
      background: var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)));
      transition: background .15s linear;
      width: 100px;
      height: calc(var(--media-control-height, 24px) + 2 * var(--_media-range-padding));
      padding-left: var(--media-range-padding-left, var(--_media-range-padding));
      padding-right: var(--media-range-padding-right, var(--_media-range-padding));
      pointer-events: auto;
      
      font-size: 0;
      box-shadow: var(--_focus-visible-box-shadow, none);
    }

    
    input[type=range]:focus {
      outline: 0;
    }
    input[type=range]:focus::-webkit-slider-runnable-track {
      outline: 0;
    }

    :host(:hover) {
      background: var(--media-control-hover-background, rgb(50 50 70 / .7));
    }

    #container {
      position: relative;
      height: 100%;
    }

    input[type=range] {
      
      -webkit-appearance: none; 
      background: transparent; 

      
      min-height: 100%;
      width: var(--media-range-track-width, 100%); 

      box-sizing: border-box;
      padding: 0;
      margin: 0;
    }

    
    input[type=range]::-webkit-slider-thumb {
      -webkit-appearance: none;
      ${K4e}
      
      margin-top: calc(calc(0px - var(--thumb-height) + var(--track-height)) / 2);
    }

    
    input[type=range]::-moz-range-thumb {
      ${K4e}
      translate: var(--media-range-track-translate-x, 0) var(--media-range-track-translate-y, 0);
    }

    input[type=range]::-webkit-slider-runnable-track { ${Tz} }
    input[type=range]::-moz-range-track { ${Tz} }
    input[type=range]::-ms-track {
      
      width: 100%;
      cursor: pointer;
      
      background: transparent;
      border-color: transparent;
      color: transparent;

      ${Tz}
    }

    #background,
    #pointer {
      width: var(--media-range-track-width, 100%);
      height: var(--track-height);
      border-radius: var(--media-range-track-border-radius, 1px);
      position: absolute;
      top: 50%;
      transform: translate(var(--media-range-track-translate-x, 0px), calc(var(--media-range-track-translate-y, 0px) - 50%));
    }

    #background {
      min-width: 40px;
      background: var(--media-range-track-background, rgb(255 255 255 / .2));
      backdrop-filter: var(--media-range-track-background-backdrop-filter);
    }

    #pointer {
      background: var(--media-range-track-pointer-background);
      border-right: var(--media-range-track-pointer-border-right);
      transition: visibility .25s, opacity .25s;
      visibility: hidden;
      opacity: 0;
    }

    :host(:hover) #pointer {
      transition: visibility .5s, opacity .5s;
      visibility: visible;
      opacity: 1;
    }

    #hoverzone {
      
      z-index: 1;
      display: var(--media-time-range-hover-display, none);
      position: absolute;
      width: 100%;
      bottom: var(--media-time-range-hover-bottom, -5px);
      height: var(--media-time-range-hover-height, max(calc(100% + 5px), 20px));
    }

    #range {
      z-index: 2;
      position: relative;
      height: var(--media-range-track-height, 4px);
    }

    input[type=range]:disabled::-webkit-slider-thumb {
      background-color: #777;
    }

    input[type=range]:disabled::-webkit-slider-runnable-track {
      background-color: #777;
    }
  </style>
  <div id="container">
    <div id="background"></div>
    <div id="pointer"></div>
    <div id="hoverzone"></div>
    <input id="range" type="range" min="0" max="1000" step="any" value="0">
  </div>
`;class doe extends Qe.HTMLElement{constructor(){super(),Jhr(this,"thumbWidth"),Sz(this,bp,void 0),Sz(this,xL,()=>{if(this.range.matches(":focus-visible")){const{style:n}=fu(this.shadowRoot,":host");n.setProperty("--_focus-visible-box-shadow","var(--_focus-box-shadow)")}}),Sz(this,wL,()=>{const{style:n}=fu(this.shadowRoot,":host");n.removeProperty("--_focus-visible-box-shadow")}),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(mnt.content.cloneNode(!0)));const{style:e}=fu(this.shadowRoot,":host");e.setProperty("display",`var(--media-control-display, var(--${this.localName}-display, inline-block))`),this.container=this.shadowRoot.querySelector("#container"),this.range=this.shadowRoot.querySelector("#range"),this.range.addEventListener("input",this.updateBar.bind(this)),this.thumbWidth=parseInt(getComputedStyle(this).getPropertyValue("--media-range-thumb-width")||"10",10)}static get observedAttributes(){return["disabled","aria-disabled",Nr.MEDIA_CONTROLLER]}attributeChangedCallback(e,n,r){var i,s,o,a,l;e===Nr.MEDIA_CONTROLLER?(n&&((s=(i=c1(this,bp))==null?void 0:i.unassociateElement)==null||s.call(i,this),wj(this,bp,null)),r&&(wj(this,bp,(o=this.getRootNode())==null?void 0:o.getElementById(r)),(l=(a=c1(this,bp))==null?void 0:a.associateElement)==null||l.call(a,this))):(e==="disabled"||e==="aria-disabled"&&n!==r)&&(r==null?this.range.removeAttribute(e):this.range.setAttribute(e,r))}connectedCallback(){var e,n,r;const i=this.getAttribute(Nr.MEDIA_CONTROLLER);i&&(wj(this,bp,(e=this.getRootNode())==null?void 0:e.getElementById(i)),(r=(n=c1(this,bp))==null?void 0:n.associateElement)==null||r.call(n,this)),this.updateBar(),this.shadowRoot.addEventListener("focusin",c1(this,xL)),this.shadowRoot.addEventListener("focusout",c1(this,wL))}disconnectedCallback(){var e,n;(n=(e=c1(this,bp))==null?void 0:e.unassociateElement)==null||n.call(e,this),wj(this,bp,null),this.shadowRoot.removeEventListener("focusin",c1(this,xL)),this.shadowRoot.removeEventListener("focusout",c1(this,wL))}updatePointerBar(e){const n=this.range.getBoundingClientRect();let r=(e.clientX-n.left)/n.width;r=Math.max(0,Math.min(1,r));const{style:i}=fu(this.shadowRoot,"#pointer");i.setProperty("width",`${r*n.width}px`)}updateBar(){const e=this.getBarColors();let n="linear-gradient(to right, ",r=0;e.forEach(s=>{s[1]<r||(n=n+`${s[0]} ${r}%, ${s[0]} ${s[1]}%,`,r=s[1])}),n=n.slice(0,n.length-1)+")";const{style:i}=fu(this.shadowRoot,"#range");i.setProperty("--media-range-track-progress-internal",n)}getRelativeValues(){const{range:e}=this;return{relativeValue:e.value-e.min,relativeMax:e.max-e.min}}getBarColors(){const e=this.range,{relativeValue:n,relativeMax:r}=this.getRelativeValues(),i=n/r*100;let s=0;return n&&n<r&&(s=this.thumbWidth*(.5-i/100)/e.offsetWidth*100),[["var(--media-range-bar-color, var(--media-primary-color, rgb(238 238 238)))",i+s],["var(--media-range-track-color, transparent)",100]]}get keysUsed(){return["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"]}}bp=new WeakMap;xL=new WeakMap;wL=new WeakMap;Qe.customElements.get("media-chrome-range")||Qe.customElements.define("media-chrome-range",doe);var gnt=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},_j=(t,e,n)=>(gnt(t,e,"read from private field"),n?n.call(t):e.get(t)),epr=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Cj=(t,e,n,r)=>(gnt(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),xp;const vnt=yn.createElement("template");vnt.innerHTML=`
  <style>
    :host {
      
      box-sizing: border-box;
      display: var(--media-control-display, var(--media-control-bar-display, inline-flex));
      color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
      --media-loading-indicator-icon-height: 44px;
    }

    media-time-range,
    ::slotted(media-time-range),
    ::slotted(media-clip-selector) {
      flex-grow: 1;
    }

    media-time-range,
    ::slotted(media-time-range),
    ::slotted(media-clip-selector),
    media-volume-range,
    ::slotted(media-volume-range) {
      height: var(--_range-auto-size, calc(var(--media-control-height, 24px) + 2 * var(--_media-range-padding)));
    }
  </style>

  <slot></slot>
`;class tpr extends Qe.HTMLElement{constructor(){super(),epr(this,xp,void 0),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(vnt.content.cloneNode(!0))),this.shadowRoot.querySelector("slot").addEventListener("slotchange",({target:e})=>{const n=e.assignedElements({flatten:!0}).every(s=>["media-time-range","media-volume-range"].includes(s.nodeName.toLowerCase())),{style:r}=fu(this.shadowRoot,":host"),i=n?"unset":"initial";r.setProperty("--_range-auto-size",i)})}static get observedAttributes(){return[Nr.MEDIA_CONTROLLER]}attributeChangedCallback(e,n,r){var i,s,o,a,l;e===Nr.MEDIA_CONTROLLER&&(n&&((s=(i=_j(this,xp))==null?void 0:i.unassociateElement)==null||s.call(i,this),Cj(this,xp,null)),r&&(Cj(this,xp,(o=this.getRootNode())==null?void 0:o.getElementById(r)),(l=(a=_j(this,xp))==null?void 0:a.associateElement)==null||l.call(a,this)))}connectedCallback(){var e,n,r;const i=this.getAttribute(Nr.MEDIA_CONTROLLER);i&&(Cj(this,xp,(e=this.getRootNode())==null?void 0:e.getElementById(i)),(r=(n=_j(this,xp))==null?void 0:n.associateElement)==null||r.call(n,this))}disconnectedCallback(){var e,n;(n=(e=_j(this,xp))==null?void 0:e.unassociateElement)==null||n.call(e,this),Cj(this,xp,null)}}xp=new WeakMap;Qe.customElements.get("media-control-bar")||Qe.customElements.define("media-control-bar",tpr);var ynt=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Ej=(t,e,n)=>(ynt(t,e,"read from private field"),n?n.call(t):e.get(t)),npr=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Sj=(t,e,n,r)=>(ynt(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),wp;const bnt=yn.createElement("template");bnt.innerHTML=`
  <style>
    :host {
      font: var(--media-font,
        var(--media-font-weight, normal)
        var(--media-font-size, 14px) /
        var(--media-text-content-height, var(--media-control-height, 24px))
        var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
      color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
      background: var(--media-text-background, var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7))));
      padding: var(--media-control-padding, 10px);
      display: inline-flex;
      justify-content: center;
      align-items: center;
      vertical-align: middle;
      box-sizing: border-box;
      text-align: center;
      pointer-events: auto;
    }

    
    :host(:focus-visible) {
      box-shadow: inset 0 0 0 2px rgb(27 127 204 / .9);
      outline: 0;
    }

    
    :host(:where(:focus)) {
      box-shadow: none;
      outline: 0;
    }
  </style>
  <slot></slot>
`;class FF extends Qe.HTMLElement{constructor(){super(),npr(this,wp,void 0),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(bnt.content.cloneNode(!0)));const{style:e}=fu(this.shadowRoot,":host");e.setProperty("display",`var(--media-control-display, var(--${this.localName}-display, inline-flex))`)}static get observedAttributes(){return[Nr.MEDIA_CONTROLLER]}attributeChangedCallback(e,n,r){var i,s,o,a,l;e===Nr.MEDIA_CONTROLLER&&(n&&((s=(i=Ej(this,wp))==null?void 0:i.unassociateElement)==null||s.call(i,this),Sj(this,wp,null)),r&&(Sj(this,wp,(o=this.getRootNode())==null?void 0:o.getElementById(r)),(l=(a=Ej(this,wp))==null?void 0:a.associateElement)==null||l.call(a,this)))}connectedCallback(){var e,n,r;const i=this.getAttribute(Nr.MEDIA_CONTROLLER);i&&(Sj(this,wp,(e=this.getRootNode())==null?void 0:e.getElementById(i)),(r=(n=Ej(this,wp))==null?void 0:n.associateElement)==null||r.call(n,this))}disconnectedCallback(){var e,n;(n=(e=Ej(this,wp))==null?void 0:e.unassociateElement)==null||n.call(e,this),Sj(this,wp,null)}}wp=new WeakMap;Qe.customElements.get("media-text-display")||Qe.customElements.define("media-text-display",FF);var xnt=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Z4e=(t,e,n)=>(xnt(t,e,"read from private field"),n?n.call(t):e.get(t)),rpr=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},ipr=(t,e,n,r)=>(xnt(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),HT;class spr extends FF{constructor(){super(),rpr(this,HT,void 0),ipr(this,HT,this.shadowRoot.querySelector("slot")),Z4e(this,HT).textContent=kx(0)}static get observedAttributes(){return[...super.observedAttributes,Se.MEDIA_DURATION]}attributeChangedCallback(e,n,r){e===Se.MEDIA_DURATION&&(Z4e(this,HT).textContent=kx(r)),super.attributeChangedCallback(e,n,r)}get mediaDuration(){return Pa(this,Se.MEDIA_DURATION)}set mediaDuration(e){Fu(this,Se.MEDIA_DURATION,e)}}HT=new WeakMap;Qe.customElements.get("media-duration-display")||Qe.customElements.define("media-duration-display",spr);var wnt=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},kz=(t,e,n)=>(wnt(t,e,"read from private field"),n?n.call(t):e.get(t)),opr=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},apr=(t,e,n,r)=>(wnt(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Q2;const mh={REMAINING:"remaining",SHOW_DURATION:"showduration",NO_TOGGLE:"notoggle"},X4e=[...Object.values(mh),Se.MEDIA_CURRENT_TIME,Se.MEDIA_DURATION,Se.MEDIA_SEEKABLE],Q4e=["Enter"," "],lpr="&nbsp;/&nbsp;",J4e=(t,{timesSep:e=lpr}={})=>{var n,r,i,s;const o=t.hasAttribute(mh.REMAINING),a=t.hasAttribute(mh.SHOW_DURATION),l=(n=t.mediaCurrentTime)!=null?n:0,[,u]=(r=t.mediaSeekable)!=null?r:[],d=(s=(i=t.mediaDuration)!=null?i:u)!=null?s:0,f=kx(o?0-(d-l):l);return a?`${f}${e}${kx(d)}`:f},upr="video not loaded, unknown time.",cpr=t=>{var e;const n=t.mediaCurrentTime,[,r]=(e=t.mediaSeekable)!=null?e:[],i=t.mediaDuration||r;if(n==null||i==null){t.setAttribute("aria-valuetext",upr);return}const s=t.hasAttribute(mh.REMAINING),o=t.hasAttribute(mh.SHOW_DURATION),a=Yk(s?0-(i-n):n);if(!o){t.setAttribute("aria-valuetext",a);return}const l=Yk(i),u=`${a} of ${l}`;t.setAttribute("aria-valuetext",u)};class dpr extends FF{constructor(){super(),opr(this,Q2,void 0),apr(this,Q2,this.shadowRoot.querySelector("slot")),kz(this,Q2).innerHTML=`${J4e(this)}`;const{style:e}=fu(this.shadowRoot,":host:not([notoggle])");e.setProperty("cursor","pointer");const{style:n}=fu(this.shadowRoot,":host(:hover:not([notoggle]))");n.setProperty("background","var(--media-control-hover-background, rgba(50 50 70 / .7))")}static get observedAttributes(){return[...super.observedAttributes,...X4e,"disabled"]}connectedCallback(){this.hasAttribute("disabled")||this.enable(),this.setAttribute("role","progressbar"),this.setAttribute("aria-label",ny.PLAYBACK_TIME());const e=n=>{const{key:r}=n;if(!Q4e.includes(r)){this.removeEventListener("keyup",e);return}this.toggleTimeDisplay()};this.addEventListener("keydown",n=>{const{metaKey:r,altKey:i,key:s}=n;if(r||i||!Q4e.includes(s)){this.removeEventListener("keyup",e);return}this.addEventListener("keyup",e)}),this.addEventListener("click",this.toggleTimeDisplay),super.connectedCallback()}toggleTimeDisplay(){this.noToggle||(this.hasAttribute("remaining")?this.removeAttribute("remaining"):this.setAttribute("remaining",""))}disconnectedCallback(){this.disable(),super.disconnectedCallback()}attributeChangedCallback(e,n,r){X4e.includes(e)?this.update():e==="disabled"&&r!==n&&(r==null?this.enable():this.disable()),super.attributeChangedCallback(e,n,r)}enable(){this.tabIndex=0}disable(){this.tabIndex=-1}get remaining(){return Il(this,mh.REMAINING)}set remaining(e){Dl(this,mh.REMAINING,e)}get showDuration(){return Il(this,mh.SHOW_DURATION)}set showDuration(e){Dl(this,mh.SHOW_DURATION,e)}get noToggle(){return Il(this,mh.NO_TOGGLE)}set noToggle(e){Dl(this,mh.NO_TOGGLE,e)}get mediaDuration(){return Pa(this,Se.MEDIA_DURATION)}set mediaDuration(e){Fu(this,Se.MEDIA_DURATION,e)}get mediaCurrentTime(){return Pa(this,Se.MEDIA_CURRENT_TIME)}set mediaCurrentTime(e){Fu(this,Se.MEDIA_CURRENT_TIME,e)}get mediaSeekable(){const e=this.getAttribute(Se.MEDIA_SEEKABLE);if(e)return e.split(":").map(n=>+n)}set mediaSeekable(e){if(e==null){this.removeAttribute(Se.MEDIA_SEEKABLE);return}this.setAttribute(Se.MEDIA_SEEKABLE,e.join(":"))}update(){const e=J4e(this);cpr(this),e!==kz(this,Q2).innerHTML&&(kz(this,Q2).innerHTML=e)}}Q2=new WeakMap;Qe.customElements.get("media-time-display")||Qe.customElements.define("media-time-display",dpr);const fpr=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M22.83 5.68a2.58 2.58 0 0 0-2.3-2.5c-3.62-.24-11.44-.24-15.06 0a2.58 2.58 0 0 0-2.3 2.5c-.23 4.21-.23 8.43 0 12.64a2.58 2.58 0 0 0 2.3 2.5c3.62.24 11.44.24 15.06 0a2.58 2.58 0 0 0 2.3-2.5c.23-4.21.23-8.43 0-12.64Zm-11.39 9.45a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.92 3.92 0 0 1 .92-2.77 3.18 3.18 0 0 1 2.43-1 2.94 2.94 0 0 1 2.13.78c.364.359.62.813.74 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.17 1.61 1.61 0 0 0-1.29.58 2.79 2.79 0 0 0-.5 1.89 3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.48 1.48 0 0 0 1-.37 2.1 2.1 0 0 0 .59-1.14l1.4.44a3.23 3.23 0 0 1-1.07 1.69Zm7.22 0a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.88 3.88 0 0 1 .93-2.77 3.14 3.14 0 0 1 2.42-1 3 3 0 0 1 2.16.82 2.8 2.8 0 0 1 .73 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.21 1.61 1.61 0 0 0-1.29.58A2.79 2.79 0 0 0 15 12a3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.44 1.44 0 0 0 1-.37 2.1 2.1 0 0 0 .6-1.15l1.4.44a3.17 3.17 0 0 1-1.1 1.7Z"/>
</svg>`,hpr=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M17.73 14.09a1.4 1.4 0 0 1-1 .37 1.579 1.579 0 0 1-1.27-.58A3 3 0 0 1 15 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34A2.89 2.89 0 0 0 19 9.07a3 3 0 0 0-2.14-.78 3.14 3.14 0 0 0-2.42 1 3.91 3.91 0 0 0-.93 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.17 3.17 0 0 0 1.07-1.74l-1.4-.45c-.083.43-.3.822-.62 1.12Zm-7.22 0a1.43 1.43 0 0 1-1 .37 1.58 1.58 0 0 1-1.27-.58A3 3 0 0 1 7.76 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34a2.81 2.81 0 0 0-.74-1.32 2.94 2.94 0 0 0-2.13-.78 3.18 3.18 0 0 0-2.43 1 4 4 0 0 0-.92 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.23 3.23 0 0 0 1.07-1.74l-1.4-.45a2.06 2.06 0 0 1-.6 1.07Zm12.32-8.41a2.59 2.59 0 0 0-2.3-2.51C18.72 3.05 15.86 3 13 3c-2.86 0-5.72.05-7.53.17a2.59 2.59 0 0 0-2.3 2.51c-.23 4.207-.23 8.423 0 12.63a2.57 2.57 0 0 0 2.3 2.5c1.81.13 4.67.19 7.53.19 2.86 0 5.72-.06 7.53-.19a2.57 2.57 0 0 0 2.3-2.5c.23-4.207.23-8.423 0-12.63Zm-1.49 12.53a1.11 1.11 0 0 1-.91 1.11c-1.67.11-4.45.18-7.43.18-2.98 0-5.76-.07-7.43-.18a1.11 1.11 0 0 1-.91-1.11c-.21-4.14-.21-8.29 0-12.43a1.11 1.11 0 0 1 .91-1.11C7.24 4.56 10 4.49 13 4.49s5.76.07 7.43.18a1.11 1.11 0 0 1 .91 1.11c.21 4.14.21 8.29 0 12.43Z"/>
</svg>`,_nt=yn.createElement("template");_nt.innerHTML=`
  <style>
    :host([aria-checked="true"]) slot[name=off] {
      display: none !important;
    }

    
    :host(:not([aria-checked="true"])) slot[name=on] {
      display: none !important;
    }
  </style>

  <slot name="icon">
    <slot name="on">${fpr}</slot>
    <slot name="off">${hpr}</slot>
  </slot>
`;const eje=t=>{t.setAttribute("aria-checked",cnt(t))};class ppr extends Yf{static get observedAttributes(){return[...super.observedAttributes,Se.MEDIA_SUBTITLES_LIST,Se.MEDIA_SUBTITLES_SHOWING]}constructor(e={}){super({slotTemplate:_nt,...e}),this._captionsReady=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","switch"),this.setAttribute("aria-label",ny.CLOSED_CAPTIONS()),eje(this)}attributeChangedCallback(e,n,r){e===Se.MEDIA_SUBTITLES_SHOWING&&eje(this),super.attributeChangedCallback(e,n,r)}get mediaSubtitlesList(){return tje(this,Se.MEDIA_SUBTITLES_LIST)}set mediaSubtitlesList(e){nje(this,Se.MEDIA_SUBTITLES_LIST,e)}get mediaSubtitlesShowing(){return tje(this,Se.MEDIA_SUBTITLES_SHOWING)}set mediaSubtitlesShowing(e){nje(this,Se.MEDIA_SUBTITLES_SHOWING,e)}handleClick(){k3(this)}}const tje=(t,e)=>{const n=t.getAttribute(e);return n?ooe(n):[]},nje=(t,e,n)=>{if(!(n!=null&&n.length)){t.removeAttribute(e);return}const r=C8(n);t.getAttribute(e)!==r&&t.setAttribute(e,r)};Qe.customElements.get("media-captions-button")||Qe.customElements.define("media-captions-button",ppr);const C2={SEEK_OFFSET:"seekoffset"},_L=30,mpr=`<svg aria-hidden="true" viewBox="0 0 20 24"><defs><style>.text{font-size:8px;font-family:Arial-BoldMT, Arial;font-weight:700;}</style></defs><text class="text value" transform="translate(8.9 19.87)">${_L}</text><path d="M10 6V3l5.61 4L10 10.94V8a5.54 5.54 0 0 0-1.9 10.48v2.12A7.5 7.5 0 0 1 10 6Z"/></svg>`,Cnt=yn.createElement("template");Cnt.innerHTML=`
  <slot name="icon">${mpr}</slot>
`;const gpr=0;class vpr extends Yf{static get observedAttributes(){return[...super.observedAttributes,Se.MEDIA_CURRENT_TIME,C2.SEEK_OFFSET]}constructor(e={}){super({slotTemplate:Cnt,...e})}connectedCallback(){this.seekOffset=Pa(this,C2.SEEK_OFFSET,_L),super.connectedCallback()}attributeChangedCallback(e,n,r){e===C2.SEEK_OFFSET&&(this.seekOffset=Pa(this,C2.SEEK_OFFSET,_L)),super.attributeChangedCallback(e,n,r)}get seekOffset(){return Pa(this,C2.SEEK_OFFSET,_L)}set seekOffset(e){Fu(this,C2.SEEK_OFFSET,e),this.setAttribute("aria-label",Gu.SEEK_FORWARD_N_SECS({seekOffset:this.seekOffset})),qtt(Ytt(this,"icon"),this.seekOffset)}get mediaCurrentTime(){return Pa(this,Se.MEDIA_CURRENT_TIME,gpr)}set mediaCurrentTime(e){Fu(this,Se.MEDIA_CURRENT_TIME,e)}handleClick(){const e=this.mediaCurrentTime+this.seekOffset,n=new Qe.CustomEvent(Qn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(n)}}Qe.customElements.get("media-seek-forward-button")||Qe.customElements.define("media-seek-forward-button",vpr);const ypr=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M16 3v2.5h3.5V9H22V3h-6ZM4 9h2.5V5.5H10V3H4v6Zm15.5 9.5H16V21h6v-6h-2.5v3.5ZM6.5 15H4v6h6v-2.5H6.5V15Z"/>
</svg>`,bpr=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M18.5 6.5V3H16v6h6V6.5h-3.5ZM16 21h2.5v-3.5H22V15h-6v6ZM4 17.5h3.5V21H10v-6H4v2.5Zm3.5-11H4V9h6V3H7.5v3.5Z"/>
</svg>`,Ent=yn.createElement("template");Ent.innerHTML=`
  <style>
  :host([${Se.MEDIA_IS_FULLSCREEN}]) slot:not([name=exit]):not([name=icon]) {
    display: none !important;
  }

  
  :host(:not([${Se.MEDIA_IS_FULLSCREEN}])) slot:not([name=enter]):not([name=icon]) {
    display: none !important;
  }
  </style>

  <slot name="icon">
    <slot name="enter">${ypr}</slot>
    <slot name="exit">${bpr}</slot>
  </slot>
`;const rje=t=>{const e=t.mediaIsFullscreen?Gu.EXIT_FULLSCREEN():Gu.ENTER_FULLSCREEN();t.setAttribute("aria-label",e)};class xpr extends Yf{static get observedAttributes(){return[...super.observedAttributes,Se.MEDIA_IS_FULLSCREEN,Se.MEDIA_FULLSCREEN_UNAVAILABLE]}constructor(e={}){super({slotTemplate:Ent,...e})}connectedCallback(){rje(this),super.connectedCallback()}attributeChangedCallback(e,n,r){e===Se.MEDIA_IS_FULLSCREEN&&rje(this),super.attributeChangedCallback(e,n,r)}get mediaFullscreenUnavailable(){return Gh(this,Se.MEDIA_FULLSCREEN_UNAVAILABLE)}set mediaFullscreenUnavailable(e){qh(this,Se.MEDIA_FULLSCREEN_UNAVAILABLE,e)}get mediaIsFullscreen(){return Il(this,Se.MEDIA_IS_FULLSCREEN)}set mediaIsFullscreen(e){Dl(this,Se.MEDIA_IS_FULLSCREEN,e)}handleClick(){const e=this.mediaIsFullscreen?Qn.MEDIA_EXIT_FULLSCREEN_REQUEST:Qn.MEDIA_ENTER_FULLSCREEN_REQUEST;this.dispatchEvent(new Qe.CustomEvent(e,{composed:!0,bubbles:!0}))}}Qe.customElements.get("media-fullscreen-button")||Qe.customElements.define("media-fullscreen-button",xpr);const{MEDIA_TIME_IS_LIVE:CL,MEDIA_PAUSED:Kk}=Se,{MEDIA_SEEK_TO_LIVE_REQUEST:wpr,MEDIA_PLAY_REQUEST:_pr}=Qn,Cpr='<svg viewBox="0 0 6 12"><circle cx="3" cy="6" r="2"></circle></svg>',Snt=yn.createElement("template");Snt.innerHTML=`
  <style>

  slot[name=indicator] > *,
  :host ::slotted([slot=indicator]) {
    
    min-width: auto;
    fill: var(--media-live-button-icon-color, rgb(140, 140, 140));
    color: var(--media-live-button-icon-color, rgb(140, 140, 140));
  }

  :host([${CL}]:not([${Kk}])) slot[name=indicator] > *,
  :host([${CL}]:not([${Kk}])) ::slotted([slot=indicator]) {
    fill: var(--media-live-button-indicator-color, rgb(255, 0, 0));
    color: var(--media-live-button-indicator-color, rgb(255, 0, 0));
  }

  :host([${CL}]:not([${Kk}])) {
    cursor: not-allowed;
  }

  </style>

  <slot name="indicator">${Cpr}</slot>
  
  <slot name="spacer">&nbsp;</slot><slot name="text">LIVE</slot>
`;const ije=t=>{const e=t.mediaPaused||!t.mediaTimeIsLive,n=e?Gu.SEEK_LIVE():Gu.PLAYING_LIVE();t.setAttribute("aria-label",n),e?t.removeAttribute("aria-disabled"):t.setAttribute("aria-disabled","true")};class Epr extends Yf{static get observedAttributes(){return[...super.observedAttributes,Kk,CL]}constructor(e={}){super({slotTemplate:Snt,...e})}connectedCallback(){ije(this),super.connectedCallback()}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),ije(this)}get mediaPaused(){return Il(this,Se.MEDIA_PAUSED)}set mediaPaused(e){Dl(this,Se.MEDIA_PAUSED,e)}get mediaTimeIsLive(){return Il(this,Se.MEDIA_TIME_IS_LIVE)}set mediaTimeIsLive(e){Dl(this,Se.MEDIA_TIME_IS_LIVE,e)}handleClick(){!this.mediaPaused&&this.mediaTimeIsLive||(this.dispatchEvent(new Qe.CustomEvent(wpr,{composed:!0,bubbles:!0})),this.hasAttribute(Kk)&&this.dispatchEvent(new Qe.CustomEvent(_pr,{composed:!0,bubbles:!0})))}}Qe.customElements.get("media-live-button")||Qe.customElements.define("media-live-button",Epr);const{MEDIA_VOLUME_LEVEL:aT}=Se,Spr=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M16.5 12A4.5 4.5 0 0 0 14 8v2.18l2.45 2.45a4.22 4.22 0 0 0 .05-.63Zm2.5 0a6.84 6.84 0 0 1-.54 2.64L20 16.15A8.8 8.8 0 0 0 21 12a9 9 0 0 0-7-8.77v2.06A7 7 0 0 1 19 12ZM4.27 3 3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25A6.92 6.92 0 0 1 14 18.7v2.06A9 9 0 0 0 17.69 19l2 2.05L21 19.73l-9-9L4.27 3ZM12 4 9.91 6.09 12 8.18V4Z"/>
</svg>`,sje=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M3 9v6h4l5 5V4L7 9H3Zm13.5 3A4.5 4.5 0 0 0 14 8v8a4.47 4.47 0 0 0 2.5-4Z"/>
</svg>`,Tpr=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M3 9v6h4l5 5V4L7 9H3Zm13.5 3A4.5 4.5 0 0 0 14 8v8a4.47 4.47 0 0 0 2.5-4ZM14 3.23v2.06a7 7 0 0 1 0 13.42v2.06a9 9 0 0 0 0-17.54Z"/>
</svg>`,Tnt=yn.createElement("template");Tnt.innerHTML=`
  <style>
  
  :host(:not([${aT}])) slot:not([name=high]):not([name=icon]), 
  :host([${aT}=high]) slot:not([name=high]):not([name=icon]) {
    display: none !important;
  }

  :host([${aT}=off]) slot:not([name=off]):not([name=icon]) {
    display: none !important;
  }

  :host([${aT}=low]) slot:not([name=low]):not([name=icon]) {
    display: none !important;
  }

  :host([${aT}=medium]) slot:not([name=medium]):not([name=icon]) {
    display: none !important;
  }
  </style>

  <slot name="icon">
    <slot name="off">${Spr}</slot>
    <slot name="low">${sje}</slot>
    <slot name="medium">${sje}</slot>
    <slot name="high">${Tpr}</slot>
  </slot>
`;const oje=t=>{const n=t.mediaVolumeLevel==="off"?Gu.UNMUTE():Gu.MUTE();t.setAttribute("aria-label",n)};class kpr extends Yf{static get observedAttributes(){return[...super.observedAttributes,Se.MEDIA_VOLUME_LEVEL]}constructor(e={}){super({slotTemplate:Tnt,...e})}connectedCallback(){oje(this),super.connectedCallback()}attributeChangedCallback(e,n,r){e===Se.MEDIA_VOLUME_LEVEL&&oje(this),super.attributeChangedCallback(e,n,r)}get mediaVolumeLevel(){return Gh(this,Se.MEDIA_VOLUME_LEVEL)}set mediaVolumeLevel(e){qh(this,Se.MEDIA_VOLUME_LEVEL,e)}handleClick(){const e=this.mediaVolumeLevel==="off"?Qn.MEDIA_UNMUTE_REQUEST:Qn.MEDIA_MUTE_REQUEST;this.dispatchEvent(new Qe.CustomEvent(e,{composed:!0,bubbles:!0}))}}Qe.customElements.get("media-mute-button")||Qe.customElements.define("media-mute-button",kpr);const aje=`<svg aria-hidden="true" viewBox="0 0 28 24">
  <path d="M24 3H4a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h20a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1Zm-1 16H5V5h18v14Zm-3-8h-7v5h7v-5Z"/>
</svg>`,knt=yn.createElement("template");knt.innerHTML=`
  <style>
  :host([${Se.MEDIA_IS_PIP}]) slot:not([name=exit]):not([name=icon]) {
    display: none !important;
  }

  
  :host(:not([${Se.MEDIA_IS_PIP}])) slot:not([name=enter]):not([name=icon]) {
    display: none !important;
  }
  </style>

  <slot name="icon">
    <slot name="enter">${aje}</slot>
    <slot name="exit">${aje}</slot>
  </slot>
`;const lje=t=>{const e=t.mediaIsPip?Gu.EXIT_PIP():Gu.ENTER_PIP();t.setAttribute("aria-label",e)};class Apr extends Yf{static get observedAttributes(){return[...super.observedAttributes,Se.MEDIA_IS_PIP,Se.MEDIA_PIP_UNAVAILABLE]}constructor(e={}){super({slotTemplate:knt,...e})}connectedCallback(){lje(this),super.connectedCallback()}attributeChangedCallback(e,n,r){e===Se.MEDIA_IS_PIP&&lje(this),super.attributeChangedCallback(e,n,r)}get mediaPipUnavailable(){return Gh(this,Se.MEDIA_PIP_UNAVAILABLE)}set mediaPipUnavailable(e){qh(this,Se.MEDIA_PIP_UNAVAILABLE,e)}get mediaIsPip(){return Il(this,Se.MEDIA_IS_PIP)}set mediaIsPip(e){Dl(this,Se.MEDIA_IS_PIP,e)}handleClick(){const e=this.mediaIsPip?Qn.MEDIA_EXIT_PIP_REQUEST:Qn.MEDIA_ENTER_PIP_REQUEST;this.dispatchEvent(new Qe.CustomEvent(e,{composed:!0,bubbles:!0}))}}Qe.customElements.get("media-pip-button")||Qe.customElements.define("media-pip-button",Apr);const Ipr=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="m6 21 15-9L6 3v18Z"/>
</svg>`,Dpr=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M6 20h4V4H6v16Zm8-16v16h4V4h-4Z"/>
</svg>`,Ant=yn.createElement("template");Ant.innerHTML=`
  <style>
  :host([${Se.MEDIA_PAUSED}]) slot[name=pause] {
    display: none !important;
  }

  :host(:not([${Se.MEDIA_PAUSED}])) slot[name=play] {
    display: none !important;
  }
  </style>

  <slot name="icon">
    <slot name="play">${Ipr}</slot>
    <slot name="pause">${Dpr}</slot>
  </slot>
`;const uje=t=>{const e=t.mediaPaused?Gu.PLAY():Gu.PAUSE();t.setAttribute("aria-label",e)};class Rpr extends Yf{static get observedAttributes(){return[...super.observedAttributes,Se.MEDIA_PAUSED,Se.MEDIA_ENDED]}constructor(e={}){super({slotTemplate:Ant,...e})}connectedCallback(){uje(this),super.connectedCallback()}attributeChangedCallback(e,n,r){e===Se.MEDIA_PAUSED&&uje(this),super.attributeChangedCallback(e,n,r)}get mediaPaused(){return Il(this,Se.MEDIA_PAUSED)}set mediaPaused(e){Dl(this,Se.MEDIA_PAUSED,e)}handleClick(){const e=this.mediaPaused?Qn.MEDIA_PLAY_REQUEST:Qn.MEDIA_PAUSE_REQUEST;this.dispatchEvent(new Qe.CustomEvent(e,{composed:!0,bubbles:!0}))}}Qe.customElements.get("media-play-button")||Qe.customElements.define("media-play-button",Rpr);var jpr=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Tj=(t,e,n)=>(jpr(t,e,"read from private field"),n?n.call(t):e.get(t)),Opr=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},J2;const Az={RATES:"rates"},Lpr=[1,1.25,1.5,1.75,2],kj=1,Int=yn.createElement("template");Int.innerHTML=`
  <span id="container"></span>
`;class Ppr extends Yf{constructor(e={}){super({slotTemplate:Int,...e}),Opr(this,J2,new ont(this,Az.RATES,{defaultValue:Lpr})),this.container=this.shadowRoot.querySelector("#container"),this.container.innerHTML=`${kj}x`}static get observedAttributes(){return[...super.observedAttributes,Se.MEDIA_PLAYBACK_RATE,Az.RATES]}attributeChangedCallback(e,n,r){if(e===Az.RATES&&(Tj(this,J2).value=r),e===Se.MEDIA_PLAYBACK_RATE){const i=r?+r:Number.NaN,s=Number.isNaN(i)?kj:i;this.container.innerHTML=`${s}x`,this.setAttribute("aria-label",ny.PLAYBACK_RATE({playbackRate:s}));return}super.attributeChangedCallback(e,n,r)}get rates(){return Tj(this,J2)}set rates(e){e?Array.isArray(e)&&(Tj(this,J2).value=e.join(" ")):Tj(this,J2).value=""}get mediaPlaybackRate(){return Pa(this,Se.MEDIA_PLAYBACK_RATE,kj)}set mediaPlaybackRate(e){Fu(this,Se.MEDIA_PLAYBACK_RATE,e)}handleClick(){var e,n;const r=Array.from(this.rates.values(),o=>+o).sort((o,a)=>o-a),i=(n=(e=r.find(o=>o>this.mediaPlaybackRate))!=null?e:r[0])!=null?n:kj,s=new Qe.CustomEvent(Qn.MEDIA_PLAYBACK_RATE_REQUEST,{composed:!0,bubbles:!0,detail:i});this.dispatchEvent(s)}}J2=new WeakMap;Qe.customElements.get("media-playback-rate-button")||Qe.customElements.define("media-playback-rate-button",Ppr);const pp={PLACEHOLDER_SRC:"placeholdersrc",SRC:"src"},Dnt=yn.createElement("template");Dnt.innerHTML=`
  <style>
    :host {
      pointer-events: none;
      display: var(--media-poster-image-display, inline-block);
      box-sizing: border-box;
    }

    img {
      max-width: 100%;
      max-height: 100%;
      min-width: 100%;
      min-height: 100%;
      background-repeat: no-repeat;
      background-position: var(--media-poster-image-background-position, var(--media-object-position, center));
      background-size: var(--media-poster-image-background-size, var(--media-object-fit, contain));
      object-fit: var(--media-object-fit, contain);
      object-position: var(--media-object-position, center);
    }
  </style>

  <img part="poster img" aria-hidden="true" id="image"/>
`;const Mpr=t=>{t.style.removeProperty("background-image")},$pr=(t,e)=>{t.style["background-image"]=`url('${e}')`};class Fpr extends Qe.HTMLElement{static get observedAttributes(){return[pp.PLACEHOLDER_SRC,pp.SRC]}constructor(){super(),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(Dnt.content.cloneNode(!0))),this.image=this.shadowRoot.querySelector("#image")}attributeChangedCallback(e,n,r){e===pp.SRC&&(r==null?this.image.removeAttribute(pp.SRC):this.image.setAttribute(pp.SRC,r)),e===pp.PLACEHOLDER_SRC&&(r==null?Mpr(this.image):$pr(this.image,r))}get placeholderSrc(){return Gh(this,pp.PLACEHOLDER_SRC)}set placeholderSrc(e){qh(this,pp.SRC,e)}get src(){return Gh(this,pp.SRC)}set src(e){qh(this,pp.SRC,e)}}Qe.customElements.get("media-poster-image")||Qe.customElements.define("media-poster-image",Fpr);const E2={SEEK_OFFSET:"seekoffset"},EL=30,Bpr=`<svg aria-hidden="true" viewBox="0 0 20 24"><defs><style>.text{font-size:8px;font-family:Arial-BoldMT, Arial;font-weight:700;}</style></defs><text class="text value" transform="translate(2.18 19.87)">${EL}</text><path d="M10 6V3L4.37 7 10 10.94V8a5.54 5.54 0 0 1 1.9 10.48v2.12A7.5 7.5 0 0 0 10 6Z"/></svg>`,Rnt=yn.createElement("template");Rnt.innerHTML=`
  <slot name="icon">${Bpr}</slot>
`;const Npr=0;class Vpr extends Yf{static get observedAttributes(){return[...super.observedAttributes,Se.MEDIA_CURRENT_TIME,E2.SEEK_OFFSET]}constructor(e={}){super({slotTemplate:Rnt,...e})}connectedCallback(){this.seekOffset=Pa(this,E2.SEEK_OFFSET,EL),super.connectedCallback()}attributeChangedCallback(e,n,r){e===E2.SEEK_OFFSET&&(this.seekOffset=Pa(this,E2.SEEK_OFFSET,EL)),super.attributeChangedCallback(e,n,r)}get seekOffset(){return Pa(this,E2.SEEK_OFFSET,EL)}set seekOffset(e){Fu(this,E2.SEEK_OFFSET,e),this.setAttribute("aria-label",Gu.SEEK_BACK_N_SECS({seekOffset:this.seekOffset})),qtt(Ytt(this,"icon"),this.seekOffset)}get mediaCurrentTime(){return Pa(this,Se.MEDIA_CURRENT_TIME,Npr)}set mediaCurrentTime(e){Fu(this,Se.MEDIA_CURRENT_TIME,e)}handleClick(){const e=Math.max(this.mediaCurrentTime-this.seekOffset,0),n=new Qe.CustomEvent(Qn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(n)}}Qe.customElements.get("media-seek-backward-button")||Qe.customElements.define("media-seek-backward-button",Vpr);var jnt=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},cje=(t,e,n)=>(jnt(t,e,"read from private field"),n?n.call(t):e.get(t)),Upr=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Hpr=(t,e,n,r)=>(jnt(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),zT;class zpr extends FF{constructor(){super(),Upr(this,zT,void 0),Hpr(this,zT,this.shadowRoot.querySelector("slot")),cje(this,zT).textContent=kx(0)}static get observedAttributes(){return[...super.observedAttributes,Se.MEDIA_PREVIEW_TIME]}attributeChangedCallback(e,n,r){e===Se.MEDIA_PREVIEW_TIME&&r!=null&&(cje(this,zT).textContent=kx(r)),super.attributeChangedCallback(e,n,r)}get mediaPreviewTime(){return Pa(this,Se.MEDIA_PREVIEW_TIME)}set mediaPreviewTime(e){Fu(this,Se.MEDIA_PREVIEW_TIME,e)}}zT=new WeakMap;Qe.customElements.get("media-preview-time-display")||Qe.customElements.define("media-preview-time-display",zpr);var Ont=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Aj=(t,e,n)=>(Ont(t,e,"read from private field"),n?n.call(t):e.get(t)),Wpr=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Ij=(t,e,n,r)=>(Ont(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),_p;const Lnt=yn.createElement("template");Lnt.innerHTML=`
  <style>
    :host {
      box-sizing: border-box;
      display: var(--media-control-display, var(--media-preview-thumbnail-display, inline-block));
      overflow: hidden;
    }

    img {
      display: none;
      position: relative;
    }
  </style>
  <img crossorigin loading="eager" decoding="async">
`;class Gpr extends Qe.HTMLElement{constructor(){super(),Wpr(this,_p,void 0),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(Lnt.content.cloneNode(!0)))}static get observedAttributes(){return[Nr.MEDIA_CONTROLLER,Se.MEDIA_PREVIEW_IMAGE,Se.MEDIA_PREVIEW_COORDS]}connectedCallback(){var e,n,r;const i=this.getAttribute(Nr.MEDIA_CONTROLLER);i&&(Ij(this,_p,(e=this.getRootNode())==null?void 0:e.getElementById(i)),(r=(n=Aj(this,_p))==null?void 0:n.associateElement)==null||r.call(n,this))}disconnectedCallback(){var e,n;(n=(e=Aj(this,_p))==null?void 0:e.unassociateElement)==null||n.call(e,this),Ij(this,_p,null)}attributeChangedCallback(e,n,r){var i,s,o,a,l;[Se.MEDIA_PREVIEW_IMAGE,Se.MEDIA_PREVIEW_COORDS].includes(e)&&this.update(),e===Nr.MEDIA_CONTROLLER&&(n&&((s=(i=Aj(this,_p))==null?void 0:i.unassociateElement)==null||s.call(i,this),Ij(this,_p,null)),r&&(Ij(this,_p,(o=this.getRootNode())==null?void 0:o.getElementById(r)),(l=(a=Aj(this,_p))==null?void 0:a.associateElement)==null||l.call(a,this)))}get mediaPreviewImage(){return Gh(this,Se.MEDIA_PREVIEW_IMAGE)}set mediaPreviewImage(e){qh(this,Se.MEDIA_PREVIEW_IMAGE,e)}get mediaPreviewCoords(){const e=this.getAttribute(Se.MEDIA_PREVIEW_COORDS);if(e)return e.split(/\s+/).map(n=>+n)}set mediaPreviewCoords(e){if(!e){this.removeAttribute(Se.MEDIA_PREVIEW_COORDS);return}this.setAttribute(Se.MEDIA_PREVIEW_COORDS,e.join(" "))}update(){const e=this.mediaPreviewCoords,n=this.mediaPreviewImage;if(!(e&&n))return;const[r,i,s,o]=e,a=n.split("#")[0],l=getComputedStyle(this),{maxWidth:u,maxHeight:d,minWidth:f,minHeight:h}=l,p=Math.min(parseInt(u)/s,parseInt(d)/o),g=Math.max(parseInt(f)/s,parseInt(h)/o),v=p<1,y=v?p:g>1?g:1,{style:x}=fu(this.shadowRoot,":host"),b=fu(this.shadowRoot,"img").style,_=this.shadowRoot.querySelector("img"),C=v?"min":"max";x.setProperty(`${C}-width`,"initial","important"),x.setProperty(`${C}-height`,"initial","important"),x.width=`${s*y}px`,x.height=`${o*y}px`;const S=()=>{b.width=`${this.imgWidth*y}px`,b.height=`${this.imgHeight*y}px`,b.display="block"};_.src!==a&&(_.onload=()=>{this.imgWidth=_.naturalWidth,this.imgHeight=_.naturalHeight,S()},_.src=a,S()),S(),b.transform=`translate(-${r*y}px, -${i*y}px)`}}_p=new WeakMap;Qe.customElements.get("media-preview-thumbnail")||Qe.customElements.define("media-preview-thumbnail",Gpr);var foe=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},zo=(t,e,n)=>(foe(t,e,"read from private field"),n?n.call(t):e.get(t)),Yl=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},x1=(t,e,n,r)=>(foe(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),lT=(t,e,n)=>(foe(t,e,"access private method"),n),WT,SL,GT,S8,T8,TL,_Z,CZ,Pnt,kL,EZ,AL,B5,Zk,SZ,k8,BF,IL,TZ,kZ,Mnt;const qpr="video not loaded, unknown time.",Iz=t=>{const e=t.range,n=Yk(+e.value),r=Yk(+e.max),i=n&&r?`${n} of ${r}`:qpr;e.setAttribute("aria-valuetext",i)},$nt=yn.createElement("template");$nt.innerHTML=`
  <style>
    :host {
      --media-preview-border-radius: 3px;
      --media-box-padding-left: 10px;
      --media-box-padding-right: 10px;
    }

    #preview-rail,
    #current-rail {
      
      width: 1%;
      position: absolute;
      left: 0;
      bottom: 100%;
      pointer-events: none;
    }

    [part~="box"] {
      
      position: absolute;
      bottom: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      transform: translateX(-50%);
    }

    [part~="preview-box"] {
      transition-property: var(--media-preview-transition-property, visibility, opacity);
      transition-duration: var(--media-preview-transition-duration-out, .25s);
      transition-delay: var(--media-preview-transition-delay-out, 0s);
      visibility: hidden;
      opacity: 0;
    }

    :host([${Se.MEDIA_PREVIEW_IMAGE}]:hover) [part~="preview-box"],
    :host([${Se.MEDIA_PREVIEW_TIME}]:hover) [part~="preview-box"] {
      transition-duration: var(--media-preview-transition-duration-in, .5s);
      transition-delay: var(--media-preview-transition-delay-in, .25s);
      visibility: visible;
      opacity: 1;
    }

    media-preview-thumbnail,
    ::slotted(media-preview-thumbnail) {
      visibility: hidden;
      
      transition: visibility 0s .25s;
      transition-delay: calc(var(--media-preview-transition-delay-out, 0s) + var(--media-preview-transition-duration-out, .25s));
      background: var(--media-preview-thumbnail-background, var(--media-preview-background, var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)))));
      box-shadow: var(--media-preview-thumbnail-box-shadow, 0 0 4px rgb(0 0 0 / .2));
      max-width: var(--media-preview-thumbnail-max-width, 180px);
      max-height: var(--media-preview-thumbnail-max-height, 160px);
      min-width: var(--media-preview-thumbnail-min-width, 120px);
      min-height: var(--media-preview-thumbnail-min-height, 80px);
      border: var(--media-preview-thumbnail-border);
      border-radius: var(--media-preview-thumbnail-border-radius,
        var(--media-preview-border-radius) var(--media-preview-border-radius) 0 0);
    }

    :host([${Se.MEDIA_PREVIEW_IMAGE}]:hover) media-preview-thumbnail,
    :host([${Se.MEDIA_PREVIEW_IMAGE}]:hover) ::slotted(media-preview-thumbnail) {
      transition-delay: var(--media-preview-transition-delay-in, .25s);
      visibility: visible;
    }

    media-preview-time-display,
    ::slotted(media-preview-time-display) {
      min-width: 0;
      
      transition: min-width 0s, border-radius 0s;
      transition-delay: calc(var(--media-preview-transition-delay-out, 0s) + var(--media-preview-transition-duration-out, .25s));
      background: var(--media-preview-time-background, var(--media-preview-background, var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)))));
      border-radius: var(--media-preview-time-border-radius,
        var(--media-preview-border-radius) var(--media-preview-border-radius)
        var(--media-preview-border-radius) var(--media-preview-border-radius));
      padding: var(--media-preview-time-padding, 1px 10px 0);
      margin: var(--media-preview-time-margin, 0 0 10px);
      text-shadow: var(--media-preview-time-text-shadow, 0 0 4px rgb(0 0 0 / .75));
    }

    :host([${Se.MEDIA_PREVIEW_IMAGE}]) media-preview-time-display,
    :host([${Se.MEDIA_PREVIEW_IMAGE}]) ::slotted(media-preview-time-display) {
      transition-delay: var(--media-preview-transition-delay-in, .25s);
      min-width: 100%;
      border-radius: var(--media-preview-time-border-radius,
        0 0 var(--media-preview-border-radius) var(--media-preview-border-radius));
    }

    :host([${Se.MEDIA_PREVIEW_TIME}]:hover) {
      --media-time-range-hover-display: block;
    }
  </style>
  <div id="preview-rail">
    <slot name="preview" part="box preview-box">
      <media-preview-thumbnail></media-preview-thumbnail>
      <media-preview-time-display></media-preview-time-display>
    </slot>
  </div>
  <div id="current-rail">
    <slot name="current" part="box current-box">
      
    </slot>
  </div>
`;class Ypr extends doe{constructor(){super(),Yl(this,TL),Yl(this,CZ),Yl(this,kL),Yl(this,IL),Yl(this,kZ),Yl(this,WT,void 0),Yl(this,SL,void 0),Yl(this,GT,void 0),Yl(this,S8,void 0),Yl(this,T8,void 0),Yl(this,AL,n=>{if([...zo(this,WT)].some(d=>n.composedPath().includes(d)))return;this.updatePointerBar(n);const r=this.mediaDuration;if(!r)return;const i=this.range.getBoundingClientRect();let s=(n.clientX-i.left-this.thumbWidth/2)/(i.width-this.thumbWidth);s=Math.max(0,Math.min(1,s));const o=lT(this,kL,EZ).call(this,zo(this,SL),s),{style:a}=fu(this.shadowRoot,"#preview-rail");a.transform=`translateX(${o})`;const l=s*r,u=new Qe.CustomEvent(Qn.MEDIA_PREVIEW_REQUEST,{composed:!0,bubbles:!0,detail:l});this.dispatchEvent(u)}),Yl(this,B5,!1),Yl(this,Zk,n=>{var r;(!n.composedPath().includes(this)||[...zo(this,WT)].some(i=>n.composedPath().includes(i)))&&((r=Qe.window)==null||r.removeEventListener("pointermove",zo(this,Zk)),x1(this,B5,!1),zo(this,k8).call(this))}),Yl(this,SZ,()=>{var n;(n=Qe.window)==null||n.addEventListener("pointermove",zo(this,AL),!1)}),Yl(this,k8,()=>{var n;(n=Qe.window)==null||n.removeEventListener("pointermove",zo(this,AL));const r=new Qe.CustomEvent(Qn.MEDIA_PREVIEW_REQUEST,{composed:!0,bubbles:!0,detail:null});this.dispatchEvent(r)}),Yl(this,BF,()=>{var n;const r=this.getAttribute(Se.MEDIA_DURATION);!zo(this,B5)&&r&&(x1(this,B5,!0),zo(this,SZ).call(this),(n=Qe.window)==null||n.addEventListener("pointermove",zo(this,Zk),!1))}),this.container.appendChild($nt.content.cloneNode(!0)),this.range.addEventListener("input",()=>{cancelAnimationFrame(this._refreshId);const r=this.range.value,i=new Qe.CustomEvent(Qn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:r});this.dispatchEvent(i)}),this._refreshBar=()=>{const n=(performance.now()-this._updateTimestamp)/1e3;this.range.value=this.mediaCurrentTime+n*this.mediaPlaybackRate,this.updateBar(),this.updateCurrentBox(),this._refreshId=requestAnimationFrame(this._refreshBar)},x1(this,WT,this.shadowRoot.querySelectorAll('[part~="box"]')),x1(this,SL,this.shadowRoot.querySelector('[part~="preview-box"]')),x1(this,GT,this.shadowRoot.querySelector('[part~="current-box"]'));const e=getComputedStyle(this);x1(this,S8,parseInt(e.getPropertyValue("--media-box-padding-left"))),x1(this,T8,parseInt(e.getPropertyValue("--media-box-padding-right"))),lT(this,IL,TZ).call(this)}static get observedAttributes(){return[...super.observedAttributes,Se.MEDIA_PAUSED,Se.MEDIA_DURATION,Se.MEDIA_SEEKABLE,Se.MEDIA_CURRENT_TIME,Se.MEDIA_PREVIEW_IMAGE,Se.MEDIA_PREVIEW_TIME,Se.MEDIA_BUFFERED,Se.MEDIA_PLAYBACK_RATE,Se.MEDIA_LOADING,Se.MEDIA_ENDED]}connectedCallback(){this.range.setAttribute("aria-label",ny.SEEK()),super.connectedCallback()}disconnectedCallback(){cancelAnimationFrame(this._refreshId),super.disconnectedCallback()}attributeChangedCallback(e,n,r){var i,s,o,a,l;(e===Se.MEDIA_CURRENT_TIME||e===Se.MEDIA_PAUSED||e===Se.MEDIA_ENDED||e===Se.MEDIA_LOADING)&&(this._updateTimestamp=performance.now(),this.range.value=this.mediaCurrentTime,Iz(this),this.updateBar(),this.updateCurrentBox(),cancelAnimationFrame(this._refreshId),!this.mediaPaused&&!this.mediaLoading&&(this._refreshId=requestAnimationFrame(this._refreshBar))),e===Se.MEDIA_DURATION&&(this.range.max=(s=(i=zo(this,TL,_Z))!=null?i:this.mediaDuration)!=null?s:1e3,Iz(this),this.updateBar(),this.updateCurrentBox()),e===Se.MEDIA_SEEKABLE&&(this.range.min=(o=zo(this,CZ,Pnt))!=null?o:0,this.range.max=(l=(a=zo(this,TL,_Z))!=null?a:this.mediaDuration)!=null?l:1e3,Iz(this),this.updateBar()),e===Se.MEDIA_BUFFERED&&this.updateBar(),e==="disabled"&&(r==null?lT(this,IL,TZ).call(this):lT(this,kZ,Mnt).call(this)),super.attributeChangedCallback(e,n,r)}get mediaPaused(){return Il(this,Se.MEDIA_PAUSED)}set mediaPaused(e){Dl(this,Se.MEDIA_PAUSED,e)}get mediaLoading(){return Il(this,Se.MEDIA_LOADING)}set mediaLoading(e){Dl(this,Se.MEDIA_LOADING,e)}get mediaDuration(){return Pa(this,Se.MEDIA_DURATION)}set mediaDuration(e){Fu(this,Se.MEDIA_DURATION,e)}get mediaCurrentTime(){return Pa(this,Se.MEDIA_CURRENT_TIME)}set mediaCurrentTime(e){Fu(this,Se.MEDIA_CURRENT_TIME,e)}get mediaPlaybackRate(){return Pa(this,Se.MEDIA_PLAYBACK_RATE,1)}set mediaPlaybackRate(e){Fu(this,Se.MEDIA_PLAYBACK_RATE,e)}get mediaBuffered(){const e=this.getAttribute(Se.MEDIA_BUFFERED);return e?e.split(" ").map(n=>n.split(":").map(r=>+r)):[]}set mediaBuffered(e){if(!e){this.removeAttribute(Se.MEDIA_BUFFERED);return}const n=e.map(r=>r.join(":")).join(" ");this.setAttribute(Se.MEDIA_BUFFERED,n)}get mediaSeekable(){const e=this.getAttribute(Se.MEDIA_SEEKABLE);if(e)return e.split(":").map(n=>+n)}set mediaSeekable(e){if(e==null){this.removeAttribute(Se.MEDIA_SEEKABLE);return}this.setAttribute(Se.MEDIA_SEEKABLE,e.join(":"))}get mediaPreviewImage(){return Gh(this,Se.MEDIA_PREVIEW_IMAGE)}set mediaPreviewImage(e){qh(this,Se.MEDIA_PREVIEW_IMAGE,e)}get mediaPreviewTime(){return Pa(this,Se.MEDIA_PREVIEW_TIME)}set mediaPreviewTime(e){Fu(this,Se.MEDIA_PREVIEW_TIME,e)}get mediaEnded(){return Il(this,Se.MEDIA_ENDED)}set mediaEnded(e){Dl(this,Se.MEDIA_ENDED,e)}getRelativeValues(){const e=super.getRelativeValues();return this.mediaEnded?{...e,relativeValue:e.relativeMax}:e}getBarColors(){var e;let n=super.getBarColors();const{range:r}=this,i=r.max-r.min,s=this.mediaBuffered;if(!s.length||!Number.isFinite(i)||i<=0)return n;let o;if(this.mediaEnded)o=i;else{const l=this.mediaCurrentTime,[,u=r.min]=(e=s.find(([d,f])=>d<=l&&l<=f))!=null?e:[];o=u-r.min}const a=o/i*100;return n.splice(1,0,["var(--media-time-range-buffered-color, rgb(255 255 255 / .4))",a]),n}updateCurrentBox(){if(!zo(this,GT).assignedElements().length)return;const e=this.range.value/(this.range.max-this.range.min),n=lT(this,kL,EZ).call(this,zo(this,GT),e),{style:r}=fu(this.shadowRoot,"#current-rail");r.transform=`translateX(${n})`}}WT=new WeakMap;SL=new WeakMap;GT=new WeakMap;S8=new WeakMap;T8=new WeakMap;TL=new WeakSet;_Z=function(){var t;const[,e]=(t=this.mediaSeekable)!=null?t:[];return e};CZ=new WeakSet;Pnt=function(){var t;const[e]=(t=this.mediaSeekable)!=null?t:[];return e};kL=new WeakSet;EZ=function(t,e){var n;let r=`${e*100*100}%`;const i=t.offsetWidth;if(!i)return r;const s=(n=this.getAttribute("bounds")?$F(this,`#${this.getAttribute("bounds")}`):this.parentElement)!=null?n:this,o=this.range.getBoundingClientRect(),a=s.getBoundingClientRect(),l=(zo(this,S8)-(o.left-a.left-i/2))/o.width*100,u=(a.right-o.left-i/2-zo(this,T8))/o.width*100;return Number.isNaN(l)||(r=`max(${l*100}%, ${r})`),Number.isNaN(u)||(r=`min(${r}, ${u*100}%)`),r};AL=new WeakMap;B5=new WeakMap;Zk=new WeakMap;SZ=new WeakMap;k8=new WeakMap;BF=new WeakMap;IL=new WeakSet;TZ=function(){this.addEventListener("pointermove",zo(this,BF),!1)};kZ=new WeakSet;Mnt=function(){var t;(t=Qe.window)==null||t.removeEventListener("pointermove",zo(this,Zk)),this.removeEventListener("pointermove",zo(this,BF)),x1(this,B5,!1),zo(this,k8).call(this)};Qe.customElements.get("media-time-range")||Qe.customElements.define("media-time-range",Ypr);var Fnt=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},S2=(t,e,n)=>(Fnt(t,e,"read from private field"),n?n.call(t):e.get(t)),Dz=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},T2=(t,e,n,r)=>(Fnt(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Cp,DL,RL;const dje={LOADING_DELAY:"loadingdelay"},Bnt=500,Nnt=yn.createElement("template"),Kpr=`
<svg aria-hidden="true" viewBox="0 0 100 100">
  <path d="M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50">
    <animateTransform
       attributeName="transform"
       attributeType="XML"
       type="rotate"
       dur="1s"
       from="0 50 50"
       to="360 50 50"
       repeatCount="indefinite" />
  </path>
</svg>
`;Nnt.innerHTML=`
<style>
:host {
  display: var(--media-control-display, var(--media-loading-indicator-display, inline-block));
  vertical-align: middle;
  box-sizing: border-box;
  --_loading-indicator-delay: var(--media-loading-indicator-transition-delay, ${Bnt}ms);
}

#status {
  color: rgba(0,0,0,0);
  width: 0px;
  height: 0px;
}

:host slot[name=icon] > *,
:host ::slotted([slot=icon]) {
  opacity: var(--media-loading-indicator-opacity, 0);
  transition: opacity 0.15s;
}

:host([${Se.MEDIA_LOADING}]:not([${Se.MEDIA_PAUSED}])) slot[name=icon] > *,
:host([${Se.MEDIA_LOADING}]:not([${Se.MEDIA_PAUSED}])) ::slotted([slot=icon]) {
  opacity: var(--media-loading-indicator-opacity, 1);
  transition: opacity 0.15s var(--_loading-indicator-delay);
}

:host #status {
  visibility: var(--media-loading-indicator-opacity, hidden);
  transition: visibility 0.15s;
}

:host([${Se.MEDIA_LOADING}]:not([${Se.MEDIA_PAUSED}])) #status {
  visibility: var(--media-loading-indicator-opacity, visible);
  transition: visibility 0.15s var(--_loading-indicator-delay);
}

svg, img, ::slotted(svg), ::slotted(img) {
  width: var(--media-loading-indicator-icon-width);
  height: var(--media-loading-indicator-icon-height, 100px);
  fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));
  vertical-align: middle;
}
</style>

<slot name="icon">${Kpr}</slot>
<div id="status" role="status" aria-live="polite">${ny.MEDIA_LOADING()}</div>
`;class Zpr extends Qe.HTMLElement{constructor(){if(super(),Dz(this,Cp,void 0),Dz(this,DL,Bnt),Dz(this,RL,void 0),!this.shadowRoot){const n=this.attachShadow({mode:"open"}),r=Nnt.content.cloneNode(!0);n.appendChild(r)}const{style:e}=fu(this.shadowRoot,":host");T2(this,RL,e)}static get observedAttributes(){return[Nr.MEDIA_CONTROLLER,Se.MEDIA_PAUSED,Se.MEDIA_LOADING,dje.LOADING_DELAY]}attributeChangedCallback(e,n,r){var i,s,o,a,l;e===dje.LOADING_DELAY&&n!==r?this.loadingDelay=Number(r):e===Nr.MEDIA_CONTROLLER&&(n&&((s=(i=S2(this,Cp))==null?void 0:i.unassociateElement)==null||s.call(i,this),T2(this,Cp,null)),r&&(T2(this,Cp,(o=this.getRootNode())==null?void 0:o.getElementById(r)),(l=(a=S2(this,Cp))==null?void 0:a.associateElement)==null||l.call(a,this)))}connectedCallback(){var e,n,r;const i=this.getAttribute(Nr.MEDIA_CONTROLLER);i&&(T2(this,Cp,(e=this.getRootNode())==null?void 0:e.getElementById(i)),(r=(n=S2(this,Cp))==null?void 0:n.associateElement)==null||r.call(n,this))}disconnectedCallback(){var e,n;(n=(e=S2(this,Cp))==null?void 0:e.unassociateElement)==null||n.call(e,this),T2(this,Cp,null)}get loadingDelay(){return S2(this,DL)}set loadingDelay(e){T2(this,DL,e),S2(this,RL).setProperty("--_loading-indicator-delay",`var(--media-loading-indicator-transition-delay, ${e}ms)`)}get mediaPaused(){return Il(this,Se.MEDIA_PAUSED)}set mediaPaused(e){Dl(this,Se.MEDIA_PAUSED,e)}get mediaLoading(){return Il(this,Se.MEDIA_LOADING)}set mediaLoading(e){Dl(this,Se.MEDIA_LOADING,e)}}Cp=new WeakMap;DL=new WeakMap;RL=new WeakMap;Qe.customElements.get("media-loading-indicator")||Qe.customElements.define("media-loading-indicator",Zpr);const Xpr=100,Qpr=1,Jpr=t=>t.mediaMuted?0:Math.round(t.mediaVolume*t.range.max),emr=({value:t,max:e})=>`${Math.round(t/e*100)}%`;class tmr extends doe{static get observedAttributes(){return[...super.observedAttributes,Se.MEDIA_VOLUME,Se.MEDIA_MUTED,Se.MEDIA_VOLUME_UNAVAILABLE]}constructor(){super(),this.range.max=Xpr,this.range.addEventListener("input",()=>{const n=this.range.value/this.range.max,r=new Qe.CustomEvent(Qn.MEDIA_VOLUME_REQUEST,{composed:!0,bubbles:!0,detail:n});this.dispatchEvent(r)})}connectedCallback(){this.range.setAttribute("aria-label",ny.VOLUME()),super.connectedCallback()}attributeChangedCallback(e,n,r){if(e===Se.MEDIA_VOLUME||e===Se.MEDIA_MUTED){const i=Jpr(this);this.range.value=i,this.range.setAttribute("aria-valuetext",emr(this.range)),this.updateBar()}super.attributeChangedCallback(e,n,r)}get mediaVolume(){return Pa(this,Se.MEDIA_VOLUME,Qpr)}set mediaVolume(e){Fu(this,Se.MEDIA_VOLUME,e)}get mediaMuted(){return Il(this,Se.MEDIA_MUTED)}set mediaMuted(e){Dl(this,Se.MEDIA_MUTED,e)}get mediaVolumeUnavailable(){return Gh(this,Se.MEDIA_VOLUME_UNAVAILABLE)}set mediaVolumeUnavailable(e){qh(this,Se.MEDIA_VOLUME_UNAVAILABLE,e)}}Qe.customElements.get("media-volume-range")||Qe.customElements.define("media-volume-range",tmr);var hoe=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},bl=(t,e,n)=>(hoe(t,e,"read from private field"),n?n.call(t):e.get(t)),tf=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},gh=(t,e,n,r)=>(hoe(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),yg=(t,e,n)=>(hoe(t,e,"access private method"),n),Ep,N1,N5,qT,jL,OL,AZ,e5,IZ,YT,LL,PL,DZ,RZ,Vnt,poe,Unt;const nmr=`
<svg aria-hidden="true" viewBox="0 1 24 24" part="select-indicator indicator">
  <path d="m10 15.17 9.193-9.191 1.414 1.414-10.606 10.606-6.364-6.364 1.414-1.414 4.95 4.95Z"/>
</svg>`;function fje(t,e,n){const r=yn.createElement("media-chrome-option");r.part.add("option"),r.value=e,r.selected=n;const i=yn.createElement("span");return i.textContent=t,r.append(i),r}function Rz(t,e){let n=t.querySelector(`:scope > [slot="${e}"]`);return(n==null?void 0:n.nodeName)=="SLOT"&&(n=n.assignedElements({flatten:!0})[0]),n?(n=n.cloneNode(!0),n.removeAttribute("slot"),n):t.shadowRoot.querySelector(`[name="${e}"] > svg`).cloneNode(!0)}const Hnt=yn.createElement("template");Hnt.innerHTML=`
<style>
  :host {
    font: var(--media-font,
      var(--media-font-weight, normal)
      var(--media-font-size, 15px) /
      var(--media-text-content-height, var(--media-control-height, 24px))
      var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
    color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
    background: var(--media-listbox-background, var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .8))));
    border-radius: var(--media-listbox-border-radius);
    display: inline-block;
    padding-block: .5em;
  }

  ::slotted([slot="header"]) {
    padding: 0 1.4em .4em;
    margin-bottom: .5em;
    border-bottom: 1px solid rgb(255 255 255 / .25);
  }

  media-chrome-option {
    padding-inline: .7em 1.4em;
  }

  media-chrome-option > span {
    margin-inline: .5ch;
  }

  [part~="indicator"] {
    fill: var(--media-option-indicator-fill, var(--media-icon-color, var(--media-primary-color, rgb(238 238 238))));
    height: var(--media-option-indicator-height, 1.25em);
    vertical-align: var(--media-option-indicator-vertical-align, text-top);
  }

  [part~="select-indicator"] {
    visibility: hidden;
  }

  [aria-selected="true"] > [part~="select-indicator"] {
    visibility: visible;
  }
</style>
<slot name="header"></slot>
<slot id="container"></slot>
<slot name="select-indicator" hidden>${nmr}</slot>
`;class znt extends Qe.HTMLElement{constructor(e={}){super(),tf(this,OL),tf(this,YT),tf(this,PL),tf(this,RZ),tf(this,poe),tf(this,Ep,void 0),tf(this,N1,""),tf(this,N5,null),tf(this,qT,!1),tf(this,jL,n=>{this.handleClick(n)}),tf(this,e5,n=>{const{key:r}=n;if(r==="Escape"){this.removeEventListener("keyup",bl(this,e5));return}if(r==="Meta"){gh(this,qT,!1);return}yg(this,OL,AZ).call(this,n)}),tf(this,IZ,n=>{const{key:r,altKey:i}=n;if(i){this.removeEventListener("keyup",bl(this,e5));return}if(r==="Meta"){gh(this,qT,!0);return}if(this.keysUsed.includes(r)&&n.preventDefault(),bl(this,qT)&&this.keysUsed.includes(r)){yg(this,OL,AZ).call(this,n);return}this.addEventListener("keyup",bl(this,e5),{once:!0})}),this.shadowRoot||(this.attachShadow({mode:"open"}),this.nativeEl=Hnt.content.cloneNode(!0),e.slotTemplate&&this.nativeEl.append(e.slotTemplate.content.cloneNode(!0)),this.shadowRoot.append(this.nativeEl)),this.container=this.shadowRoot.querySelector("#container"),this.container.addEventListener("slotchange",n=>{for(let r of n.target.assignedNodes({flatten:!0}))r.nodeType===3&&r.textContent.trim()===""&&r.remove()})}static get observedAttributes(){return["disabled",Nr.MEDIA_CONTROLLER]}static formatOptionText(e){return e}formatOptionText(e,n){return this.constructor.formatOptionText(e,n)}get options(){var e;let n=this.querySelectorAll("media-chrome-option");return n.length||(n=(e=this.container)==null?void 0:e.querySelectorAll("media-chrome-option")),Array.from(n)}get selectedOptions(){return this.options.filter(e=>e.selected)}get value(){var e,n;return(n=(e=this.selectedOptions[0])==null?void 0:e.value)!=null?n:""}set value(e){const n=this.options.find(r=>r.value===e);n&&yg(this,PL,DZ).call(this,n)}focus(){var e;(e=this.selectedOptions[0])==null||e.focus()}enable(){this.addEventListener("click",bl(this,jL)),this.addEventListener("keydown",bl(this,IZ))}disable(){this.removeEventListener("click",bl(this,jL)),this.removeEventListener("keyup",bl(this,e5))}attributeChangedCallback(e,n,r){var i,s,o,a,l;e===Nr.MEDIA_CONTROLLER?(n&&((s=(i=bl(this,Ep))==null?void 0:i.unassociateElement)==null||s.call(i,this),gh(this,Ep,null)),r&&(gh(this,Ep,(o=this.getRootNode())==null?void 0:o.getElementById(r)),(l=(a=bl(this,Ep))==null?void 0:a.associateElement)==null||l.call(a,this))):e==="disabled"&&r!==n&&(r==null?this.enable():this.disable())}connectedCallback(){var e,n,r;this.hasAttribute("disabled")||this.enable(),this.hasAttribute("role")||this.setAttribute("role","listbox");const i=this.getAttribute(Nr.MEDIA_CONTROLLER);i&&(gh(this,Ep,(e=this.getRootNode())==null?void 0:e.getElementById(i)),(r=(n=bl(this,Ep))==null?void 0:n.associateElement)==null||r.call(n,this))}disconnectedCallback(){var e,n;this.disable(),(n=(e=bl(this,Ep))==null?void 0:e.unassociateElement)==null||n.call(e,this),gh(this,Ep,null)}get keysUsed(){return["Enter"," ","ArrowDown","ArrowUp","Home","End"]}handleSelection(e,n){const r=yg(this,YT,LL).call(this,e);r&&yg(this,PL,DZ).call(this,r,n)}handleMovement(e){const{key:n}=e,r=this.options;let i=yg(this,YT,LL).call(this,e);i||(i=r.filter(o=>o.getAttribute("tabindex")==="0")[0]);let s;switch(n){case"ArrowDown":s=i.nextElementSibling,s!=null&&s.hasAttribute("disabled")&&(s=s.nextElementSibling);break;case"ArrowUp":s=i.previousElementSibling,s!=null&&s.hasAttribute("disabled")&&(s=s.previousElementSibling);break;case"Home":s=r[0];break;case"End":s=r[r.length-1];break;default:s=yg(this,RZ,Vnt).call(this,n);break}s&&(r.forEach(o=>o.setAttribute("tabindex","-1")),s.setAttribute("tabindex","0"),s.focus())}handleClick(e){const n=yg(this,YT,LL).call(this,e);!n||n.hasAttribute("disabled")||(this.options.forEach(r=>r.setAttribute("tabindex","-1")),n.setAttribute("tabindex","0"),this.handleSelection(e,this.hasAttribute("aria-multiselectable")&&this.getAttribute("aria-multiselectable")==="true"))}}Ep=new WeakMap;N1=new WeakMap;N5=new WeakMap;qT=new WeakMap;jL=new WeakMap;OL=new WeakSet;AZ=function(t){const{key:e}=t;e==="Enter"||e===" "?this.handleSelection(t,this.hasAttribute("aria-multiselectable")&&this.getAttribute("aria-multiselectable")==="true"):this.handleMovement(t)};e5=new WeakMap;IZ=new WeakMap;YT=new WeakSet;LL=function(t){const e=t.composedPath(),n=e.findIndex(r=>r.nodeName==="MEDIA-CHROME-OPTION");return e[n]};PL=new WeakSet;DZ=function(t,e){const n=[...this.selectedOptions];(!this.hasAttribute("aria-multiselectable")||this.getAttribute("aria-multiselectable")!=="true")&&this.options.forEach(r=>r.selected=!1),e?t.selected=!t.selected:t.selected=!0,this.selectedOptions.some((r,i)=>r!=n[i])&&this.dispatchEvent(new Event("change"))};RZ=new WeakSet;Vnt=function(t){yg(this,poe,Unt).call(this);const e=this.options,n=e.findIndex(u=>u.getAttribute("tabindex")==="0");gh(this,N1,bl(this,N1)+t);const r=bl(this,N1).split("").every(u=>u===t),i=e.slice(n+(r?1:0)).filter(u=>u.textContent.toLowerCase().startsWith(bl(this,N1))),s=e.slice(0,n-(r?1:0)).filter(u=>u.textContent.toLowerCase().startsWith(bl(this,N1)));let o=[],a=[];return r&&(o=e.slice(n+(r?1:0)).filter(u=>u.textContent.startsWith(t)),a=e.slice(0,n-(r?1:0)).filter(u=>u.textContent.startsWith(t))),[...i,...s,...o,...a][0]};poe=new WeakSet;Unt=function(){clearTimeout(bl(this,N5)),gh(this,N5,null),gh(this,N5,setTimeout(()=>{gh(this,N1,""),gh(this,N5,null)},500))};Qe.customElements.get("media-chrome-listbox")||Qe.customElements.define("media-chrome-listbox",znt);var moe=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Nt=(t,e,n)=>(moe(t,e,"read from private field"),n?n.call(t):e.get(t)),hl=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Ql=(t,e,n,r)=>(moe(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Dg=(t,e,n)=>(moe(t,e,"access private method"),n),Sp,t5,KT,n5,Sa,ZT,Us,Bp,Xk,Ob,r5,ML,jZ,Wnt,OZ,Gnt,S_,I3,goe,qnt,A8,voe;const Ynt=yn.createElement("template");Ynt.innerHTML=`
  <style>
  :host {
    font: var(--media-font,
      var(--media-font-weight, normal)
      var(--media-font-size, 15px) /
      var(--media-text-content-height, var(--media-control-height, 24px))
      var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
    color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
    display: inline-flex;
    position: relative;
    flex-shrink: .5;
  }

  [name="listbox"]::slotted(*),
  [part=listbox] {
    position: absolute;
    left: 0;
    bottom: 100%;
    max-height: 300px;
    overflow: hidden auto;
    transition: var(--media-selectmenu-transition-in,
      visibility 0s, transform .15s ease-out, opacity .15s ease-out);
    transform: var(--media-listbox-transform-in, translateY(0) scale(1));
    visibility: visible;
    opacity: 1;
  }

  [name="listbox"][hidden]::slotted(*),
  [hidden] [part=listbox] {
    transition: var(--media-selectmenu-transition-out,
      visibility .15s ease-out, transform .15s ease-out, opacity .15s ease-out);
    transform: var(--media-listbox-transform-out, translateY(2px) scale(.99));
    visibility: hidden;
    opacity: 0;
    pointer-events: none;
  }

  slot[name="listbox"][hidden] {
    display: block;
  }
  </style>

  <slot name="button">
    <media-chrome-button aria-haspopup="listbox" part="button">
      <slot name="button-content"></slot>
    </media-chrome-button>
  </slot>
  <slot name="listbox" hidden>
    <media-chrome-listbox id="listbox" part="listbox">
      <slot></slot>
    </media-chrome-listbox>
  </slot>
`;class Knt extends Qe.HTMLElement{constructor(){var e;super(),hl(this,jZ),hl(this,OZ),hl(this,S_),hl(this,goe),hl(this,A8),hl(this,Sp,void 0),hl(this,t5,void 0),hl(this,KT,void 0),hl(this,n5,!0),hl(this,Sa,void 0),hl(this,ZT,void 0),hl(this,Us,void 0),hl(this,Bp,void 0),hl(this,Xk,!1),hl(this,Ob,r=>{const{key:i}=r;if(!this.keysUsed.includes(i)){this.removeEventListener("keyup",Nt(this,Ob));return}r.composedPath().includes(Nt(this,Sa))&&(i==="Enter"||i===" ")?Nt(this,t5).call(this):i==="Escape"&&!Nt(this,Bp).hidden&&Dg(this,S_,I3).call(this)}),hl(this,r5,r=>{const{metaKey:i,altKey:s,key:o}=r;if(i||s||!this.keysUsed.includes(o)){this.removeEventListener("keyup",Nt(this,Ob));return}r.preventDefault(),this.addEventListener("keyup",Nt(this,Ob),{once:!0})}),hl(this,ML,r=>{r.composedPath().includes(this)||Nt(this,Bp).hidden||Dg(this,S_,I3).call(this)}),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(Ynt.content.cloneNode(!0)));const{style:n}=fu(this.shadowRoot,":host");n.setProperty("display",`var(--media-control-display, var(--${this.localName}-display, inline-flex))`),Ql(this,t5,Dg(this,jZ,Wnt).bind(this)),Ql(this,KT,Dg(this,OZ,Gnt).bind(this)),(e=this.init)==null||e.call(this),Ql(this,Sa,this.shadowRoot.querySelector("[part=button]")),Ql(this,Us,this.shadowRoot.querySelector("[part=listbox]")),Ql(this,ZT,this.shadowRoot.querySelector("slot[name=button]")),Nt(this,ZT).addEventListener("slotchange",()=>{const r=Nt(this,ZT).assignedElements()[0];r&&(this.disable(),Ql(this,Sa,r),Nt(this,Sa).preventClick=!0,Nt(this,Sa).hasAttribute("disabled")&&Ql(this,n5,!1),Nt(this,n5)?(this.enable(),Nt(this,Sa).setAttribute("aria-haspopup","listbox")):this.disable())}),Ql(this,Bp,this.shadowRoot.querySelector("slot[name=listbox]")),Nt(this,Bp).addEventListener("slotchange",()=>{this.disable(),Ql(this,Us,Nt(this,Bp).assignedElements()[0]||Nt(this,Us)),this.enable()})}static get observedAttributes(){return["disabled",Nr.MEDIA_CONTROLLER]}enable(){Nt(this,Sa).removeAttribute("disabled"),Nt(this,Sa).addEventListener("click",Nt(this,t5)),Nt(this,Sa).addEventListener("keydown",Nt(this,r5)),Nt(this,Us).addEventListener("keydown",Nt(this,r5)),Dg(this,A8,voe).call(this),Nt(this,Us).addEventListener("change",Nt(this,KT)),yn.addEventListener("click",Nt(this,ML))}disable(){Nt(this,Sa).setAttribute("disabled",""),Nt(this,Sa).removeEventListener("click",Nt(this,t5)),Nt(this,Sa).removeEventListener("keydown",Nt(this,r5)),Nt(this,Sa).removeEventListener("keyup",Nt(this,Ob)),Nt(this,Us).removeEventListener("keydown",Nt(this,r5)),Nt(this,Us).removeEventListener("keyup",Nt(this,Ob)),Nt(this,Us).addEventListener("change",Nt(this,KT)),yn.removeEventListener("click",Nt(this,ML))}attributeChangedCallback(e,n,r){var i,s,o,a,l;e===Nr.MEDIA_CONTROLLER?(n&&((s=(i=Nt(this,Sp))==null?void 0:i.unassociateElement)==null||s.call(i,this),Ql(this,Sp,null),Nt(this,Us).removeAttribute(Nr.MEDIA_CONTROLLER)),r&&(Ql(this,Sp,(o=this.getRootNode())==null?void 0:o.getElementById(r)),(l=(a=Nt(this,Sp))==null?void 0:a.associateElement)==null||l.call(a,this),Nt(this,Us).setAttribute(Nr.MEDIA_CONTROLLER,r))):e==="disabled"&&r!==n&&(r==null?(Ql(this,n5,!0),this.enable()):(Ql(this,n5,!1),this.disable()))}connectedCallback(){var e,n,r;this.hasAttribute("disabled")||this.enable();const i=this.getAttribute(Nr.MEDIA_CONTROLLER);i&&(Ql(this,Sp,(e=this.getRootNode())==null?void 0:e.getElementById(i)),(r=(n=Nt(this,Sp))==null?void 0:n.associateElement)==null||r.call(n,this),Nt(this,Us).setAttribute(Nr.MEDIA_CONTROLLER,i))}disconnectedCallback(){var e,n;this.disable(),(n=(e=Nt(this,Sp))==null?void 0:e.unassociateElement)==null||n.call(e,this),Ql(this,Sp,null),Nt(this,Us).removeAttribute(Nr.MEDIA_CONTROLLER)}get keysUsed(){return["Enter","Escape"," ","ArrowUp","ArrowDown","f","c","k","m"]}}Sp=new WeakMap;t5=new WeakMap;KT=new WeakMap;n5=new WeakMap;Sa=new WeakMap;ZT=new WeakMap;Us=new WeakMap;Bp=new WeakMap;Xk=new WeakMap;Ob=new WeakMap;r5=new WeakMap;ML=new WeakMap;jZ=new WeakSet;Wnt=function(){Dg(this,S_,I3).call(this)};OZ=new WeakSet;Gnt=function(){Dg(this,S_,I3).call(this,!0)};S_=new WeakSet;I3=function(t){Nt(this,Bp).hidden=!Nt(this,Bp).hidden||t,Dg(this,A8,voe).call(this,t),Nt(this,Bp).hidden?(this.shadowRoot.activeElement===Nt(this,Us)||Nt(this,Us).contains(this.shadowRoot.activeElement))&&Nt(this,Sa).focus():(Nt(this,Us).focus(),Dg(this,goe,qnt).call(this))};goe=new WeakSet;qnt=function(){var t;if(Nt(this,Us).offsetWidth===0)return;const e=Nt(this,Sa).getBoundingClientRect();if(this.hasAttribute("mediacontroller")||Nt(this,Sa).hasAttribute("mediacontroller")||Nt(this,Us).hasAttribute("mediacontroller")){Nt(this,Us).style.zIndex="1",Nt(this,Us).style.bottom="unset",Nt(this,Us).style.top=e.height+"px";return}const n=(t=this.getAttribute("bounds")?$F(this,`#${this.getAttribute("bounds")}`):this.parentElement)!=null?t:this,r=Nt(this,Us).offsetWidth,i=n.getBoundingClientRect(),s=-Math.max(e.x+r-i.right,0);Nt(this,Us).style.left=`${s}px`};A8=new WeakSet;voe=function(t=!1){Ql(this,Xk,!Nt(this,Xk)||t),Nt(this,Sa).setAttribute("aria-expanded",Nt(this,Xk))};Qe.customElements.get("media-chrome-selectmenu")||Qe.customElements.define("media-chrome-selectmenu",Knt);var yoe=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},LZ=(t,e,n)=>(yoe(t,e,"read from private field"),n?n.call(t):e.get(t)),jz=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Oz=(t,e,n,r)=>(yoe(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),hje=(t,e,n)=>(yoe(t,e,"access private method"),n),$L,T_,FL,PZ;const Znt=yn.createElement("template");Znt.innerHTML=`
<style>
  :host {
    cursor: pointer;
    display: block;
    line-height: revert;
    white-space: nowrap;
    white-space-collapse: collapse;
    text-wrap: nowrap;
    min-height: 1.2em;
    padding: .4em .5em;
    transition: var(--media-option-transition);
    outline: var(--media-option-outline, 0);
    outline-offset: var(--media-option-outline-offset, -1px);
  }

  :host(:focus-visible) {
    box-shadow: var(--media-option-focus-shadow, inset 0 0 0 2px rgb(27 127 204 / .9));
    outline: var(--media-option-hover-outline, 0);
    outline-offset: var(--media-option-hover-outline-offset,  var(--media-option-outline-offset, -1px));
  }

  :host(:hover) {
    cursor: pointer;
    background: var(--media-option-hover-background, rgb(82 82 122 / .8));
    outline: var(--media-option-hover-outline);
    outline-offset: var(--media-option-hover-outline-offset,  var(--media-option-outline-offset, -1px));
  }

  :host([aria-selected="true"]) {
    background: var(--media-option-selected-background);
  }

  :host([disabled]) {
    pointer-events: none;
    color: rgba(255, 255, 255, .3);
  }
</style>
<slot></slot>
`;const d1={VALUE:"value",SELECTED:"selected",DISABLED:"disabled"};class rmr extends Qe.HTMLElement{constructor(){super(),jz(this,FL),jz(this,$L,!1),jz(this,T_,void 0),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(Znt.content.cloneNode(!0)))}static get observedAttributes(){return[d1.DISABLED,d1.SELECTED,d1.VALUE]}get value(){var e;return(e=this.getAttribute(d1.VALUE))!=null?e:this.text}set value(e){this.setAttribute(d1.VALUE,e)}get text(){var e;return((e=this.textContent)!=null?e:"").trim()}get selected(){return this.getAttribute("aria-selected")==="true"}set selected(e){Oz(this,$L,!0),this.setAttribute("aria-selected",e?"true":"false"),e?this.part.add("option-selected"):this.part.remove("option-selected")}enable(){this.hasAttribute("tabindex")||this.setAttribute("tabindex",-1),this.hasAttribute("aria-selected")||this.setAttribute("aria-selected","false")}disable(){this.removeAttribute("tabindex")}attributeChangedCallback(e,n,r){e===d1.SELECTED&&!LZ(this,$L)?this.setAttribute("aria-selected",r!=null?"true":"false"):e===d1.DISABLED&&r!==n&&(r==null?this.enable():this.disable())}connectedCallback(){this.hasAttribute(d1.DISABLED)||this.enable(),this.setAttribute("role","option"),Oz(this,T_,MZ(this,this.parentNode)),hje(this,FL,PZ).call(this)}disconnectedCallback(){this.disable(),hje(this,FL,PZ).call(this),Oz(this,T_,null)}handleClick(){}}$L=new WeakMap;T_=new WeakMap;FL=new WeakSet;PZ=function(){var t;const e=(t=LZ(this,T_))==null?void 0:t.options;if(!e)return;let n=e.filter(r=>r.getAttribute("aria-selected")==="true").pop();n||(n=e[0]),LZ(this,T_).getAttribute("aria-multiselectable")!=="true"&&e.forEach(r=>{r.setAttribute("tabindex","-1"),r.setAttribute("aria-selected","false")}),n==null||n.setAttribute("tabindex","0"),n==null||n.setAttribute("aria-selected","true")};function MZ(t,e){if(!t)return null;const{host:n}=t.getRootNode();return!e&&n?MZ(t,n):e!=null&&e.options?e:MZ(e,e==null?void 0:e.parentNode)}Qe.customElements.get("media-chrome-option")||Qe.customElements.define("media-chrome-option",rmr);var boe=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},imr=(t,e,n)=>(boe(t,e,"read from private field"),n?n.call(t):e.get(t)),Lz=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},smr=(t,e,n,r)=>(boe(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Pz=(t,e,n)=>(boe(t,e,"access private method"),n),I8,$Z,Xnt,BL,FZ;const omr=`
<svg aria-hidden="true" viewBox="0 0 26 24" part="captions-indicator indicator">
  <path d="M22.83 5.68a2.58 2.58 0 0 0-2.3-2.5c-3.62-.24-11.44-.24-15.06 0a2.58 2.58 0 0 0-2.3 2.5c-.23 4.21-.23 8.43 0 12.64a2.58 2.58 0 0 0 2.3 2.5c3.62.24 11.44.24 15.06 0a2.58 2.58 0 0 0 2.3-2.5c.23-4.21.23-8.43 0-12.64Zm-11.39 9.45a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.92 3.92 0 0 1 .92-2.77 3.18 3.18 0 0 1 2.43-1 2.94 2.94 0 0 1 2.13.78c.364.359.62.813.74 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.17 1.61 1.61 0 0 0-1.29.58 2.79 2.79 0 0 0-.5 1.89 3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.48 1.48 0 0 0 1-.37 2.1 2.1 0 0 0 .59-1.14l1.4.44a3.23 3.23 0 0 1-1.07 1.69Zm7.22 0a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.88 3.88 0 0 1 .93-2.77 3.14 3.14 0 0 1 2.42-1 3 3 0 0 1 2.16.82 2.8 2.8 0 0 1 .73 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.21 1.61 1.61 0 0 0-1.29.58A2.79 2.79 0 0 0 15 12a3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.44 1.44 0 0 0 1-.37 2.1 2.1 0 0 0 .6-1.15l1.4.44a3.17 3.17 0 0 1-1.1 1.7Z"/>
</svg>`,Qnt=yn.createElement("template");Qnt.innerHTML=`
  <slot name="captions-indicator" hidden>${omr}</slot>
`;class amr extends znt{constructor(){super({slotTemplate:Qnt}),Lz(this,$Z),Lz(this,BL),Lz(this,I8,void 0)}static get observedAttributes(){return[...super.observedAttributes,"aria-multiselectable",Se.MEDIA_SUBTITLES_LIST,Se.MEDIA_SUBTITLES_SHOWING]}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),e===Se.MEDIA_SUBTITLES_LIST&&n!==r?Pz(this,$Z,Xnt).call(this):e===Se.MEDIA_SUBTITLES_SHOWING&&n!==r?this.value=r:e==="aria-multiselectable"&&(this.removeAttribute("aria-multiselectable"),console.warn("Captions List doesn't currently support multiple selections. You can enable multiple items via the media.textTrack API."))}connectedCallback(){super.connectedCallback(),this.addEventListener("change",Pz(this,BL,FZ))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("change",Pz(this,BL,FZ))}get mediaSubtitlesList(){return pje(this,Se.MEDIA_SUBTITLES_LIST)}set mediaSubtitlesList(e){mje(this,Se.MEDIA_SUBTITLES_LIST,e)}get mediaSubtitlesShowing(){return pje(this,Se.MEDIA_SUBTITLES_SHOWING)}set mediaSubtitlesShowing(e){mje(this,Se.MEDIA_SUBTITLES_SHOWING,e)}}I8=new WeakMap;$Z=new WeakSet;Xnt=function(){var t;if(imr(this,I8)===JSON.stringify(this.mediaSubtitlesList))return;smr(this,I8,JSON.stringify(this.mediaSubtitlesList));const e=this.shadowRoot.querySelector("#container");e.textContent="";const n=!this.value,r=fje(this.formatOptionText("Off"),"off",n);r.prepend(Rz(this,"select-indicator")),e.append(r);const i=this.mediaSubtitlesList;for(const s of i){const o=fje(this.formatOptionText(s.label,s),vZ(s),this.value==vZ(s));o.prepend(Rz(this,"select-indicator")),((t=s.kind)!=null?t:"subs")==="captions"&&o.append(Rz(this,"captions-indicator")),e.append(o)}};BL=new WeakSet;FZ=function(){if(k3(this,!1),!this.value)return;const t=new Qe.CustomEvent(Qn.MEDIA_SHOW_SUBTITLES_REQUEST,{composed:!0,bubbles:!0,detail:this.value});this.dispatchEvent(t)};const pje=(t,e)=>{const n=t.getAttribute(e);return n?ooe(n):[]},mje=(t,e,n)=>{if(!(n!=null&&n.length)){t.removeAttribute(e);return}const r=C8(n);t.getAttribute(e)!==r&&t.setAttribute(e,r)};Qe.customElements.get("media-captions-listbox")||Qe.customElements.define("media-captions-listbox",amr);class lmr extends Knt{init(){const e=yn.createElement("media-captions-button");e.part.add("button"),e.preventClick=!0;const n=yn.createElement("media-captions-listbox");n.part.add("listbox"),n.setAttribute("exportparts","option, option-selected, indicator");const r=this.shadowRoot.querySelector("slot[name=button]"),i=this.shadowRoot.querySelector("slot[name=listbox]");r.textContent="",i.textContent="",r.append(e),i.append(n)}}Qe.customElements.get("media-captions-selectmenu")||Qe.customElements.define("media-captions-selectmenu",lmr);var Jnt={exports:{}};/*!
 * mux-embed
 * @version 4.27.0
 * @copyright 2023 Mux, Inc
 */(function(t,e){(function(){var n;n=function(){return function(){var r={80:function(o,a,l){o.exports=l(728).default},728:function(o,a,l){l.d(a,{default:function(){return zm}});var u=l(48),d=l.n(u),f=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(q){var U=16*Math.random()|0;return(q==="x"?U:3&U|8).toString(16)})},h=function(){return("000000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6)},p=function(q){return q&&q.nodeName!==void 0?(q.muxId||(q.muxId=q.id||h()),q.muxId):q},g=function(q){var U;q&&q.nodeName!==void 0?q=p(U=q):U=document.querySelector(q);var W=U&&U.nodeName?U.nodeName.toLowerCase():"";return[U,q,W]},v=l(640),y=l.n(v),x=y().methodFactory;y().methodFactory=function(q,U,W){var z=x(q,U,W);return function(){for(var oe=["[mux]"],_e=0;_e<arguments.length;_e++)oe.push(arguments[_e]);z.apply(void 0,oe)}},y().setLevel(y().getLevel());var b=y();function _(){return(d().doNotTrack||d().navigator&&d().navigator.doNotTrack)==="1"}var C={now:function(){var q=d().performance,U=q&&q.timing,W=U&&U.navigationStart,z=typeof W=="number"&&typeof q.now=="function"?W+q.now():Date.now();return Math.round(z)}},S=function(q){return T(q)[0]},T=function(q){if(typeof q!="string"||q==="")return["localhost"];var U,W=(q.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/)||[])[4];return W&&(U=(W.match(/[^\.]+\.[^\.]+$/)||[])[0]),[W,U]},A={exists:function(){var q=d().performance;return(q&&q.timing)!==void 0},domContentLoadedEventEnd:function(){var q=d().performance,U=q&&q.timing;return U&&U.domContentLoadedEventEnd},navigationStart:function(){var q=d().performance,U=q&&q.timing;return U&&U.navigationStart}};function k(q,U,W){W=W===void 0?1:W,q[U]=q[U]||0,q[U]+=W}var I=["x-request-id","cf-ray","x-amz-cf-id","x-akamai-request-id"],D=["x-cdn","content-type"].concat(I);function R(q){var U={};return(q=q||"").trim().split(/[\r\n]+/).forEach(function(W){if(W){var z=W.split(": "),oe=z.shift();oe&&(D.indexOf(oe.toLowerCase())>=0||oe.toLowerCase().indexOf("x-litix-")===0)&&(U[oe]=z.join(": "))}}),U}function O(q){if(q){var U=I.find(function(W){return q[W]!==void 0});return U?q[U]:void 0}}var L=function(q){var U={};for(var W in q){var z=q[W];z["DATA-ID"].search("io.litix.data.")!==-1&&(U[z["DATA-ID"].replace("io.litix.data.","")]=z.VALUE)}return U};function P(q,U){var W=Object.keys(q);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(q);U&&(z=z.filter(function(oe){return Object.getOwnPropertyDescriptor(q,oe).enumerable})),W.push.apply(W,z)}return W}function $(q){for(var U=1;U<arguments.length;U++){var W=arguments[U]!=null?arguments[U]:{};U%2?P(Object(W),!0).forEach(function(z){B(q,z,W[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(W)):P(Object(W)).forEach(function(z){Object.defineProperty(q,z,Object.getOwnPropertyDescriptor(W,z))})}return q}function B(q,U,W){return U in q?Object.defineProperty(q,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):q[U]=W,q}var Q=function(q){if(!q)return{};var U=A.navigationStart(),W=q.loading,z=W?W.start:q.trequest,oe=W?W.first:q.tfirst,_e=W?W.end:q.tload;return{bytesLoaded:q.total,requestStart:Math.round(U+z),responseStart:Math.round(U+oe),responseEnd:Math.round(U+_e)}},V=function(q){if(q&&typeof q.getAllResponseHeaders=="function")return R(q.getAllResponseHeaders())};function Z(q,U){var W=Object.keys(q);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(q);U&&(z=z.filter(function(oe){return Object.getOwnPropertyDescriptor(q,oe).enumerable})),W.push.apply(W,z)}return W}function ie(q){for(var U=1;U<arguments.length;U++){var W=arguments[U]!=null?arguments[U]:{};U%2?Z(Object(W),!0).forEach(function(z){J(q,z,W[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(W)):Z(Object(W)).forEach(function(z){Object.defineProperty(q,z,Object.getOwnPropertyDescriptor(W,z))})}return q}function J(q,U,W){return U in q?Object.defineProperty(q,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):q[U]=W,q}var X=function(q,U){if(!q||typeof q.getRequests!="function")return{};var W=q.getRequests({state:"executed"});if(W.length===0)return{};var z,oe=W[W.length-1],_e=S(oe.url),he=oe.url,$e=oe.bytesLoaded,ke=new Date(oe.requestStartDate).getTime(),Je=new Date(oe.firstByteDate).getTime(),Wt=new Date(oe.requestEndDate).getTime(),Qt=isNaN(oe.duration)?0:oe.duration,Un=typeof U.getMetricsFor=="function"?U.getMetricsFor(oe.mediaType).HttpList:U.getDashMetrics().getHttpRequests(oe.mediaType);return Un.length>0&&(z=R(Un[Un.length-1]._responseHeaders||"")),{requestStart:ke,requestResponseStart:Je,requestResponseEnd:Wt,requestBytesLoaded:$e,requestResponseHeaders:z,requestMediaDuration:Qt,requestHostname:_e,requestUrl:he,requestId:z?O(z):void 0}},fe=function(q,U){var W=U.getQualityFor(q),z=U.getCurrentTrackFor(q).bitrateList;return z?{currentLevel:W,renditionWidth:z[W].width||null,renditionHeight:z[W].height||null,renditionBitrate:z[W].bandwidth}:{}},ue=function(q){var U;return(U=q.match(/.*codecs\*?="(.*)"/))===null||U===void 0?void 0:U[1]};function te(q,U){for(var W=0;W<U.length;W++){var z=U[W];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(q,z.key,z)}}var F=0,ne=function(){function q(){(function(z,oe){if(!(z instanceof oe))throw new TypeError("Cannot call a class as a function")})(this,q)}var U,W;return U=q,W=[{key:"on",value:function(z,oe,_e){return oe._eventEmitterGuid=oe._eventEmitterGuid||++F,this._listeners=this._listeners||{},this._listeners[z]=this._listeners[z]||[],_e&&(oe=oe.bind(_e)),this._listeners[z].push(oe),oe}},{key:"off",value:function(z,oe){var _e=this._listeners&&this._listeners[z];_e&&_e.forEach(function(he,$e){he._eventEmitterGuid===oe._eventEmitterGuid&&_e.splice($e,1)})}},{key:"one",value:function(z,oe,_e){var he=this;oe._eventEmitterGuid=oe._eventEmitterGuid||++F;var $e=function ke(){he.off(z,ke),oe.apply(_e||this,arguments)};$e._eventEmitterGuid=oe._eventEmitterGuid,this.on(z,$e)}},{key:"emit",value:function(z,oe){var _e=this;if(this._listeners){oe=oe||{};var he=this._listeners["before*"]||[],$e=this._listeners[z]||[],ke=this._listeners["after"+z]||[],Je=function(Wt,Qt){(Wt=Wt.slice()).forEach(function(Un){Un.call(_e,{type:z},Qt)})};Je(he,oe),Je($e,oe),Je(ke,oe)}}}],W&&te(U.prototype,W),Object.defineProperty(U,"prototype",{writable:!1}),q}(),ce=ne;function me(q,U){for(var W=0;W<U.length;W++){var z=U[W];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(q,z.key,z)}}var pe=function(){function q(z){var oe=this;(function(_e,he){if(!(_e instanceof he))throw new TypeError("Cannot call a class as a function")})(this,q),this.pm=z,this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,z.on("playing",function(){oe._playheadShouldBeProgressing=!0}),z.on("play",this._startPlaybackHeartbeatInterval.bind(this)),z.on("playing",this._startPlaybackHeartbeatInterval.bind(this)),z.on("adbreakstart",this._startPlaybackHeartbeatInterval.bind(this)),z.on("adplay",this._startPlaybackHeartbeatInterval.bind(this)),z.on("adplaying",this._startPlaybackHeartbeatInterval.bind(this)),z.on("seeking",this._startPlaybackHeartbeatInterval.bind(this)),z.on("devicewake",this._startPlaybackHeartbeatInterval.bind(this)),z.on("viewstart",this._startPlaybackHeartbeatInterval.bind(this)),z.on("rebufferstart",this._startPlaybackHeartbeatInterval.bind(this)),z.on("pause",this._stopPlaybackHeartbeatInterval.bind(this)),z.on("ended",this._stopPlaybackHeartbeatInterval.bind(this)),z.on("viewend",this._stopPlaybackHeartbeatInterval.bind(this)),z.on("error",this._stopPlaybackHeartbeatInterval.bind(this)),z.on("aderror",this._stopPlaybackHeartbeatInterval.bind(this)),z.on("adpause",this._stopPlaybackHeartbeatInterval.bind(this)),z.on("adended",this._stopPlaybackHeartbeatInterval.bind(this)),z.on("adbreakend",this._stopPlaybackHeartbeatInterval.bind(this)),z.on("seeked",function(){z.data.player_is_paused?oe._stopPlaybackHeartbeatInterval():oe._startPlaybackHeartbeatInterval()}),z.on("timeupdate",function(){oe._playbackHeartbeatInterval!==null&&z.emit("playbackheartbeat")}),z.on("devicesleep",function(_e,he){oe._playbackHeartbeatInterval!==null&&(d().clearInterval(oe._playbackHeartbeatInterval),z.emit("playbackheartbeatend",{viewer_time:he.viewer_time}),oe._playbackHeartbeatInterval=null)})}var U,W;return U=q,(W=[{key:"_startPlaybackHeartbeatInterval",value:function(){var z=this;this._playbackHeartbeatInterval===null&&(this.pm.emit("playbackheartbeat"),this._playbackHeartbeatInterval=d().setInterval(function(){z.pm.emit("playbackheartbeat")},this.pm.playbackHeartbeatTime))}},{key:"_stopPlaybackHeartbeatInterval",value:function(){this._playheadShouldBeProgressing=!1,this._playbackHeartbeatInterval!==null&&(d().clearInterval(this._playbackHeartbeatInterval),this.pm.emit("playbackheartbeatend"),this._playbackHeartbeatInterval=null)}}])&&me(U.prototype,W),Object.defineProperty(U,"prototype",{writable:!1}),q}();function Ie(q,U){for(var W=0;W<U.length;W++){var z=U[W];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(q,z.key,z)}}function xe(q,U,W){return U&&Ie(q.prototype,U),W&&Ie(q,W),Object.defineProperty(q,"prototype",{writable:!1}),q}var Pe=xe(function q(U){var W=this;(function(z,oe){if(!(z instanceof oe))throw new TypeError("Cannot call a class as a function")})(this,q),U.on("viewinit",function(){W.viewErrored=!1}),U.on("error",function(z,oe){try{var _e=U.errorTranslator({player_error_code:oe.player_error_code,player_error_message:oe.player_error_message,player_error_context:oe.player_error_context});_e?(U.data.player_error_code=_e.player_error_code||oe.player_error_code,U.data.player_error_message=_e.player_error_message||oe.player_error_message,U.data.player_error_context=_e.player_error_context||oe.player_error_context,W.viewErrored=!0):(delete U.data.player_error_code,delete U.data.player_error_message,delete U.data.player_error_context)}catch(he){U.mux.log.warn("Exception in error translator callback.",he),W.viewErrored=!0}})});function we(q,U){for(var W=0;W<U.length;W++){var z=U[W];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(q,z.key,z)}}var De=function(){function q(z){(function(oe,_e){if(!(oe instanceof _e))throw new TypeError("Cannot call a class as a function")})(this,q),this.pm=z,this._watchTimeTrackerLastCheckedTime=null,z.on("playbackheartbeat",this._updateWatchTime.bind(this)),z.on("playbackheartbeatend",this._clearWatchTimeState.bind(this))}var U,W;return U=q,(W=[{key:"_updateWatchTime",value:function(z,oe){var _e=oe.viewer_time;this._watchTimeTrackerLastCheckedTime===null&&(this._watchTimeTrackerLastCheckedTime=_e),k(this.pm.data,"view_watch_time",_e-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=_e}},{key:"_clearWatchTimeState",value:function(z,oe){this._updateWatchTime(z,oe),this._watchTimeTrackerLastCheckedTime=null}}])&&we(U.prototype,W),Object.defineProperty(U,"prototype",{writable:!1}),q}();function de(q,U){for(var W=0;W<U.length;W++){var z=U[W];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(q,z.key,z)}}var be=function(){function q(z){var oe=this;(function($e,ke){if(!($e instanceof ke))throw new TypeError("Cannot call a class as a function")})(this,q),this.pm=z,this._playbackTimeTrackerLastPlayheadPosition=-1,this._lastTime=C.now(),this._isAdPlaying=!1,this._callbackUpdatePlaybackTime=null;var _e=this._startPlaybackTimeTracking.bind(this);z.on("playing",_e),z.on("adplaying",_e),z.on("seeked",_e);var he=this._stopPlaybackTimeTracking.bind(this);z.on("playbackheartbeatend",he),z.on("seeking",he),z.on("adplaying",function(){oe._isAdPlaying=!0}),z.on("adended",function(){oe._isAdPlaying=!1}),z.on("adpause",function(){oe._isAdPlaying=!1}),z.on("adbreakstart",function(){oe._isAdPlaying=!1}),z.on("adbreakend",function(){oe._isAdPlaying=!1}),z.on("adplay",function(){oe._isAdPlaying=!1}),z.on("viewinit",function(){oe._playbackTimeTrackerLastPlayheadPosition=-1,oe._lastTime=C.now(),oe._isAdPlaying=!1,oe._callbackUpdatePlaybackTime=null})}var U,W;return U=q,(W=[{key:"_startPlaybackTimeTracking",value:function(){this._callbackUpdatePlaybackTime===null&&(this._callbackUpdatePlaybackTime=this._updatePlaybackTime.bind(this),this._playbackTimeTrackerLastPlayheadPosition=this.pm.data.player_playhead_time,this.pm.on("playbackheartbeat",this._callbackUpdatePlaybackTime))}},{key:"_stopPlaybackTimeTracking",value:function(){this._callbackUpdatePlaybackTime&&(this._updatePlaybackTime(),this.pm.off("playbackheartbeat",this._callbackUpdatePlaybackTime),this._callbackUpdatePlaybackTime=null,this._playbackTimeTrackerLastPlayheadPosition=-1)}},{key:"_updatePlaybackTime",value:function(){var z=this.pm.data.player_playhead_time,oe=C.now(),_e=-1;this._playbackTimeTrackerLastPlayheadPosition>=0&&z>this._playbackTimeTrackerLastPlayheadPosition?_e=z-this._playbackTimeTrackerLastPlayheadPosition:this._isAdPlaying&&(_e=oe-this._lastTime),_e>0&&_e<=1e3&&k(this.pm.data,"view_content_playback_time",_e),this._playbackTimeTrackerLastPlayheadPosition=z,this._lastTime=oe}}])&&de(U.prototype,W),Object.defineProperty(U,"prototype",{writable:!1}),q}();function ve(q,U){for(var W=0;W<U.length;W++){var z=U[W];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(q,z.key,z)}}var ze=function(){function q(z){(function(_e,he){if(!(_e instanceof he))throw new TypeError("Cannot call a class as a function")})(this,q),this.pm=z;var oe=this._updatePlayheadTime.bind(this);z.on("playbackheartbeat",oe),z.on("playbackheartbeatend",oe),z.on("timeupdate",oe),z.on("destroy",function(){z.off("timeupdate",oe)})}var U,W;return U=q,(W=[{key:"_updateMaxPlayheadPosition",value:function(){this.pm.data.view_max_playhead_position=this.pm.data.view_max_playhead_position===void 0?this.pm.data.player_playhead_time:Math.max(this.pm.data.view_max_playhead_position,this.pm.data.player_playhead_time)}},{key:"_updatePlayheadTime",value:function(z,oe){var _e=this,he=function(){_e.pm.currentFragmentPDT&&_e.pm.currentFragmentStart&&(_e.pm.data.player_program_time=_e.pm.currentFragmentPDT+_e.pm.data.player_playhead_time-_e.pm.currentFragmentStart)};if(oe&&oe.player_playhead_time)this.pm.data.player_playhead_time=oe.player_playhead_time,he(),this._updateMaxPlayheadPosition();else if(this.pm.getPlayheadTime){var $e=this.pm.getPlayheadTime();$e!==void 0&&(this.pm.data.player_playhead_time=$e,he(),this._updateMaxPlayheadPosition())}}}])&&ve(U.prototype,W),Object.defineProperty(U,"prototype",{writable:!1}),q}();function He(q,U){for(var W=0;W<U.length;W++){var z=U[W];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(q,z.key,z)}}function Ne(q,U,W){return U&&He(q.prototype,U),W&&He(q,W),Object.defineProperty(q,"prototype",{writable:!1}),q}var Fe=3e5,nt=Ne(function q(U){if(function(_e,he){if(!(_e instanceof he))throw new TypeError("Cannot call a class as a function")}(this,q),!U.disableRebufferTracking){var W,z=function(_e,he){oe(he),W=void 0},oe=function(_e){if(W){var he=_e.viewer_time-W;k(U.data,"view_rebuffer_duration",he),W=_e.viewer_time,U.data.view_rebuffer_duration>Fe&&(U.emit("viewend"),U.send("viewend"),U.mux.log.warn("Ending view after rebuffering for longer than ".concat(Fe,"ms, future events will be ignored unless a programchange or videochange occurs.")))}U.data.view_watch_time>=0&&U.data.view_rebuffer_count>0&&(U.data.view_rebuffer_frequency=U.data.view_rebuffer_count/U.data.view_watch_time,U.data.view_rebuffer_percentage=U.data.view_rebuffer_duration/U.data.view_watch_time)};U.on("playbackheartbeat",function(_e,he){return oe(he)}),U.on("rebufferstart",function(_e,he){W||(k(U.data,"view_rebuffer_count",1),W=he.viewer_time,U.one("rebufferend",z))}),U.on("viewinit",function(){W=void 0,U.off("rebufferend",z)})}});function Ye(q,U){for(var W=0;W<U.length;W++){var z=U[W];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(q,z.key,z)}}var Ge=function(){function q(z){var oe=this;(function(_e,he){if(!(_e instanceof he))throw new TypeError("Cannot call a class as a function")})(this,q),this.pm=z,z.disableRebufferTracking||z.disablePlayheadRebufferTracking||(this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,z.on("playbackheartbeat",this._checkIfRebuffering.bind(this)),z.on("playbackheartbeatend",this._cleanupRebufferTracker.bind(this)),z.on("seeking",function(){oe._cleanupRebufferTracker(null,{viewer_time:C.now()})}))}var U,W;return U=q,W=[{key:"_checkIfRebuffering",value:function(z,oe){if(this.pm.seekingTracker.isSeeking||this.pm.adTracker.isAdBreak||!this.pm.playbackHeartbeat._playheadShouldBeProgressing)this._cleanupRebufferTracker(z,oe);else if(this._lastCheckedTime!==null)if(this._lastPlayheadTime===this.pm.data.player_playhead_time){var _e=oe.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.sustainedRebufferThreshold=="number"&&_e>=this.pm.sustainedRebufferThreshold&&(this._rebuffering||(this._rebuffering=!0,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}))),this._lastCheckedTime=oe.viewer_time}else this._cleanupRebufferTracker(z,oe,!0);else this._prepareRebufferTrackerState(oe.viewer_time)}},{key:"_clearRebufferTrackerState",value:function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null}},{key:"_prepareRebufferTrackerState",value:function(z){this._lastCheckedTime=z,this._lastPlayheadTime=this.pm.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=z}},{key:"_cleanupRebufferTracker",value:function(z,oe){var _e=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(this._rebuffering)this._rebuffering=!1,this.pm.emit("rebufferend",{viewer_time:oe.viewer_time});else{if(this._lastCheckedTime===null)return;var he=this.pm.data.player_playhead_time-this._lastPlayheadTime,$e=oe.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.minimumRebufferDuration=="number"&&he>0&&$e-he>this.pm.minimumRebufferDuration&&(this._lastCheckedTime=null,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.pm.emit("rebufferend",{viewer_time:this._lastPlayheadTimeUpdatedTime+$e-he}))}_e?this._prepareRebufferTrackerState(oe.viewer_time):this._clearRebufferTrackerState()}}],W&&Ye(U.prototype,W),Object.defineProperty(U,"prototype",{writable:!1}),q}(),Ct=Ge;function wt(q,U){for(var W=0;W<U.length;W++){var z=U[W];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(q,z.key,z)}}var pt=function(){function q(z){var oe=this;(function(_e,he){if(!(_e instanceof he))throw new TypeError("Cannot call a class as a function")})(this,q),this.pm=z,z.on("viewinit",function(){var _e=z.data,he=_e.view_id;if(!_e.view_program_changed){var $e=function(ke,Je){var Wt=Je.viewer_time;ke.type==="playing"&&z.data.view_time_to_first_frame===void 0?oe.calculateTimeToFirstFrame(Wt||C.now(),he):ke.type!=="adplaying"||z.data.view_time_to_first_frame!==void 0&&!oe._inPrerollPosition()||oe.calculateTimeToFirstFrame(Wt||C.now(),he)};z.one("playing",$e),z.one("adplaying",$e),z.one("viewend",function(){z.off("playing",$e),z.off("adplaying",$e)})}})}var U,W;return U=q,(W=[{key:"_inPrerollPosition",value:function(){return this.pm.data.view_content_playback_time===void 0||this.pm.data.view_content_playback_time<=1e3}},{key:"calculateTimeToFirstFrame",value:function(z,oe){oe===this.pm.data.view_id&&(this.pm.watchTimeTracker._updateWatchTime(null,{viewer_time:z}),this.pm.data.view_time_to_first_frame=this.pm.data.view_watch_time,(this.pm.data.player_autoplay_on||this.pm.data.video_is_autoplay)&&this.NAVIGATION_START&&(this.pm.data.view_aggregate_startup_time=this.pm.data.view_start+this.pm.data.view_watch_time-this.NAVIGATION_START))}}])&&wt(U.prototype,W),Object.defineProperty(U,"prototype",{writable:!1}),q}();function on(q,U){for(var W=0;W<U.length;W++){var z=U[W];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(q,z.key,z)}}function mn(q,U,W){return U&&on(q.prototype,U),W&&on(q,W),Object.defineProperty(q,"prototype",{writable:!1}),q}var gn=mn(function q(U){var W=this;(function(z,oe){if(!(z instanceof oe))throw new TypeError("Cannot call a class as a function")})(this,q),U.on("viewinit",function(){W._lastPlayheadPosition=-1}),["pause","rebufferstart","seeking","error","adbreakstart","hb"].forEach(function(z){U.on(z,function(){if(W._lastPlayheadPosition>=0&&U.data.player_playhead_time>=0&&W._lastPlayerWidth>=0&&W._lastSourceWidth>0&&W._lastPlayerHeight>=0&&W._lastSourceHeight>0){var oe=U.data.player_playhead_time-W._lastPlayheadPosition;if(oe<0)return void(W._lastPlayheadPosition=-1);var _e=Math.min(W._lastPlayerWidth/W._lastSourceWidth,W._lastPlayerHeight/W._lastSourceHeight),he=Math.max(0,_e-1),$e=Math.max(0,1-_e);U.data.view_max_upscale_percentage=Math.max(U.data.view_max_upscale_percentage||0,he),U.data.view_max_downscale_percentage=Math.max(U.data.view_max_downscale_percentage||0,$e),k(U.data,"view_total_content_playback_time",oe),k(U.data,"view_total_upscaling",he*oe),k(U.data,"view_total_downscaling",$e*oe)}W._lastPlayheadPosition=-1})}),["playing","hb"].forEach(function(z){U.on(z,function(){W._lastPlayheadPosition=U.data.player_playhead_time,W._lastPlayerWidth=U.data.player_width,W._lastPlayerHeight=U.data.player_height,W._lastSourceWidth=U.data.video_source_width,W._lastSourceHeight=U.data.video_source_height})})});function br(q,U){for(var W=0;W<U.length;W++){var z=U[W];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(q,z.key,z)}}function yo(q,U,W){return U&&br(q.prototype,U),W&&br(q,W),Object.defineProperty(q,"prototype",{writable:!1}),q}var Kn=yo(function q(U){var W=this;(function(_e,he){if(!(_e instanceof he))throw new TypeError("Cannot call a class as a function")})(this,q),this.isSeeking=!1;var z=-1,oe=function(){var _e=C.now(),he=(U.data.viewer_time||_e)-(z||_e);k(U.data,"view_seek_duration",he),U.data.view_max_seek_time=Math.max(U.data.view_max_seek_time||0,he),W.isSeeking=!1,z=-1};U.on("seeking",function(_e,he){Object.assign(U.data,he),W.isSeeking&&he.viewer_time-z<=2e3?z=he.viewer_time:(W.isSeeking&&oe(),W.isSeeking=!0,z=he.viewer_time,k(U.data,"view_seek_count",1),U.send("seeking"))}),U.on("seeked",function(){oe()}),U.on("viewend",function(){W.isSeeking&&(oe(),U.send("seeked")),W.isSeeking=!1,z=-1})});function ti(q,U){return function(W){if(Array.isArray(W))return W}(q)||function(W,z){var oe=W==null?null:typeof Symbol<"u"&&W[Symbol.iterator]||W["@@iterator"];if(oe!=null){var _e,he,$e=[],ke=!0,Je=!1;try{for(oe=oe.call(W);!(ke=(_e=oe.next()).done)&&($e.push(_e.value),!z||$e.length!==z);ke=!0);}catch(Wt){Je=!0,he=Wt}finally{try{ke||oe.return==null||oe.return()}finally{if(Je)throw he}}return $e}}(q,U)||function(W,z){if(W){if(typeof W=="string")return Hi(W,z);var oe=Object.prototype.toString.call(W).slice(8,-1);return oe==="Object"&&W.constructor&&(oe=W.constructor.name),oe==="Map"||oe==="Set"?Array.from(W):oe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(oe)?Hi(W,z):void 0}}(q,U)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Hi(q,U){(U==null||U>q.length)&&(U=q.length);for(var W=0,z=new Array(U);W<U;W++)z[W]=q[W];return z}function ea(q,U){for(var W=0;W<U.length;W++){var z=U[W];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(q,z.key,z)}}var ul=function(q,U){q.push(U),q.sort(function(W,z){return W.viewer_time-z.viewer_time})},nc=["adbreakstart","adrequest","adresponse","adplay","adplaying","adpause","adended","adbreakend","aderror","adclicked","adskipped"],rc=function(){function q(z){var oe=this;(function(he,$e){if(!(he instanceof $e))throw new TypeError("Cannot call a class as a function")})(this,q),this.pm=z,z.on("viewinit",function(){oe.isAdBreak=!1,oe._currentAdRequestNumber=0,oe._currentAdResponseNumber=0,oe._adRequests=[],oe._adResponses=[],oe._adHasPlayed=!1,oe._wouldBeNewAdPlay=!0,oe._prerollPlayTime=void 0}),nc.forEach(function(he){return z.on(he,oe._updateAdData.bind(oe))});var _e=function(){oe.isAdBreak=!1};z.on("adbreakstart",function(){oe.isAdBreak=!0}),z.on("play",_e),z.on("playing",_e),z.on("viewend",_e),z.on("adrequest",function(he,$e){$e=Object.assign({ad_request_id:"generatedAdRequestId"+oe._currentAdRequestNumber++},$e),ul(oe._adRequests,$e),k(z.data,"view_ad_request_count"),oe.inPrerollPosition()&&(z.data.view_preroll_requested=!0,oe._adHasPlayed||k(z.data,"view_preroll_request_count"))}),z.on("adresponse",function(he,$e){$e=Object.assign({ad_request_id:"generatedAdRequestId"+oe._currentAdResponseNumber++},$e),ul(oe._adResponses,$e);var ke=oe.findAdRequest($e.ad_request_id);ke&&k(z.data,"view_ad_request_time",Math.max(0,$e.viewer_time-ke.viewer_time))}),z.on("adplay",function(he,$e){oe._adHasPlayed=!0,oe._wouldBeNewAdPlay&&(oe._wouldBeNewAdPlay=!1,k(z.data,"view_ad_played_count")),oe.inPrerollPosition()&&!z.data.view_preroll_played&&(z.data.view_preroll_played=!0,oe._adRequests.length>0&&(z.data.view_preroll_request_time=Math.max(0,$e.viewer_time-oe._adRequests[0].viewer_time)),z.data.view_start&&(z.data.view_startup_preroll_request_time=Math.max(0,$e.viewer_time-z.data.view_start)),oe._prerollPlayTime=$e.viewer_time)}),z.on("adplaying",function(he,$e){oe.inPrerollPosition()&&z.data.view_preroll_load_time===void 0&&oe._prerollPlayTime!==void 0&&(z.data.view_preroll_load_time=$e.viewer_time-oe._prerollPlayTime,z.data.view_startup_preroll_load_time=$e.viewer_time-oe._prerollPlayTime)}),z.on("adclicked",function(he,$e){oe._wouldBeNewAdPlay||k(z.data,"view_ad_clicked_count")}),z.on("adskipped",function(he,$e){oe._wouldBeNewAdPlay||k(z.data,"view_ad_skipped_count")}),z.on("adended",function(){oe._wouldBeNewAdPlay=!0}),z.on("aderror",function(){oe._wouldBeNewAdPlay=!0})}var U,W;return U=q,(W=[{key:"inPrerollPosition",value:function(){return this.pm.data.view_content_playback_time===void 0||this.pm.data.view_content_playback_time<=1e3}},{key:"findAdRequest",value:function(z){for(var oe=0;oe<this._adRequests.length;oe++)if(this._adRequests[oe].ad_request_id===z)return this._adRequests[oe]}},{key:"_updateAdData",value:function(z,oe){if(this.inPrerollPosition()){if(!this.pm.data.view_preroll_ad_tag_hostname&&oe.ad_tag_url){var _e=ti(T(oe.ad_tag_url),2),he=_e[0],$e=_e[1];this.pm.data.view_preroll_ad_tag_domain=$e,this.pm.data.view_preroll_ad_tag_hostname=he}if(!this.pm.data.view_preroll_ad_asset_hostname&&oe.ad_asset_url){var ke=ti(T(oe.ad_asset_url),2),Je=ke[0],Wt=ke[1];this.pm.data.view_preroll_ad_asset_domain=Wt,this.pm.data.view_preroll_ad_asset_hostname=Je}}this.pm.data.ad_asset_url=oe==null?void 0:oe.ad_asset_url,this.pm.data.ad_tag_url=oe==null?void 0:oe.ad_tag_url,this.pm.data.ad_creative_id=oe==null?void 0:oe.ad_creative_id,this.pm.data.ad_id=oe==null?void 0:oe.ad_id,this.pm.data.ad_universal_id=oe==null?void 0:oe.ad_universal_id}}])&&ea(U.prototype,W),Object.defineProperty(U,"prototype",{writable:!1}),q}();function ni(q,U){for(var W=0;W<U.length;W++){var z=U[W];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(q,z.key,z)}}function Fs(q,U,W){return U&&ni(q.prototype,U),W&&ni(q,W),Object.defineProperty(q,"prototype",{writable:!1}),q}var Ss=Fs(function q(U){var W,z;(function($e,ke){if(!($e instanceof ke))throw new TypeError("Cannot call a class as a function")})(this,q);var oe=function(){U.disableRebufferTracking||W&&(k(U.data,"view_waiting_rebuffer_duration",C.now()-W),W=!1,d().clearInterval(z))},_e=!1,he=function(){_e=!1,oe()};U.on("waiting",function(){_e&&(U.disableRebufferTracking||(k(U.data,"view_waiting_rebuffer_count",1),W=C.now(),z=d().setInterval(function(){if(W){var $e=C.now();k(U.data,"view_waiting_rebuffer_duration",$e-W),W=$e}},250)))}),U.on("playing",function(){oe(),_e=!0}),U.on("pause",he),U.on("seeking",he)});function Dt(q,U){for(var W=0;W<U.length;W++){var z=U[W];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(q,z.key,z)}}function $n(q,U,W){return U&&Dt(q.prototype,U),W&&Dt(q,W),Object.defineProperty(q,"prototype",{writable:!1}),q}var fi=$n(function q(U){var W=this;(function(_e,he){if(!(_e instanceof he))throw new TypeError("Cannot call a class as a function")})(this,q);var z=function(){W.lastWallClockTime=C.now(),U.on("before*",oe)},oe=function(_e){var he=C.now(),$e=W.lastWallClockTime;W.lastWallClockTime=he,he-$e>3e4&&(U.emit("devicesleep",{viewer_time:$e}),Object.assign(U.data,{viewer_time:$e}),U.send("devicesleep"),U.emit("devicewake",{viewer_time:he}),Object.assign(U.data,{viewer_time:he}),U.send("devicewake"))};U.one("playbackheartbeat",z),U.on("playbackheartbeatend",function(){U.off("before*",oe),U.one("playbackheartbeat",z)})}),ri=l(375),$l=l(655),ts=l.n($l),ya="muxData",ta=function(){var q;try{q=ri.parse(ts().get(ya)||"")}catch{q={}}return q},wu=function(q){try{ts().set(ya,ri.stringify(q),{expires:365})}catch{}},$d=function(){var q=ta();return q.mux_viewer_id=q.mux_viewer_id||f(),q.msn=q.msn||Math.random(),wu(q),{mux_viewer_id:q.mux_viewer_id,mux_sample_number:q.msn}};function U0(q,U){var W=U.beaconCollectionDomain,z=U.beaconDomain;if(W)return"https://"+W;var oe=z||"litix.io";return(q=q||"inferred").match(/^[a-z0-9]+$/)?"https://"+q+"."+oe:"https://img.litix.io/a.gif"}var Fd=function(){var q;switch(Zc()){case"cellular":q="cellular";break;case"ethernet":q="wired";break;case"wifi":q="wifi";break;case void 0:break;default:q="other"}return q},Zc=function(){var q=d().navigator,U=q&&(q.connection||q.mozConnection||q.webkitConnection);return U&&U.type};Fd.getConnectionFromAPI=Zc;var rp=Fd,Ow=Ly({a:"env",b:"beacon",c:"custom",d:"ad",e:"event",f:"experiment",i:"internal",m:"mux",n:"response",p:"player",q:"request",r:"retry",s:"session",t:"timestamp",u:"viewer",v:"video",w:"page",x:"view",y:"sub"}),Oy=Ly({ad:"ad",ag:"aggregate",ap:"api",al:"application",ar:"architecture",as:"asset",au:"autoplay",av:"average",bi:"bitrate",br:"break",bw:"browser",by:"bytes",ca:"cached",cb:"cancel",cc:"codec",cd:"code",cg:"category",ch:"changed",ck:"clicked",cl:"canceled",cn:"config",co:"count",ce:"counter",cp:"complete",cr:"creative",ct:"content",cu:"current",cx:"connection",cz:"context",dg:"downscaling",dm:"domain",dn:"cdn",do:"downscale",dr:"drm",dp:"dropped",du:"duration",dv:"device",ec:"encoding",ed:"edge",en:"end",eg:"engine",em:"embed",er:"error",es:"errorcode",et:"errortext",ee:"event",ev:"events",ex:"expires",ep:"experiments",fa:"failed",fi:"first",fm:"family",ft:"format",fp:"fps",fq:"frequency",fr:"frame",fs:"fullscreen",ha:"has",hb:"holdback",he:"headers",ho:"host",hn:"hostname",ht:"height",id:"id",ii:"init",in:"instance",ip:"ip",is:"is",ke:"key",la:"language",lb:"labeled",le:"level",li:"live",ld:"loaded",lo:"load",ls:"lists",lt:"latency",ma:"max",md:"media",me:"message",mf:"manifest",mi:"mime",ml:"midroll",mm:"min",mn:"manufacturer",mo:"model",mx:"mux",ne:"newest",nm:"name",no:"number",on:"on",os:"os",pa:"paused",pb:"playback",pd:"producer",pe:"percentage",pf:"played",pg:"program",ph:"playhead",pi:"plugin",pl:"preroll",pn:"playing",po:"poster",pr:"preload",ps:"position",pt:"part",py:"property",ra:"rate",rd:"requested",re:"rebuffer",rf:"rendition",rm:"remote",ro:"ratio",rp:"response",rq:"request",rs:"requests",sa:"sample",sd:"skipped",se:"session",sk:"seek",sm:"stream",so:"source",sq:"sequence",sr:"series",st:"start",su:"startup",sv:"server",sw:"software",ta:"tag",tc:"tech",te:"text",tg:"target",th:"throughput",ti:"time",tl:"total",to:"to",tt:"title",ty:"type",ug:"upscaling",un:"universal",up:"upscale",ur:"url",us:"user",va:"variant",vd:"viewed",vi:"video",ve:"version",vw:"view",vr:"viewer",wd:"width",wa:"watch",wt:"waiting"});function Ly(q){var U={};for(var W in q)q.hasOwnProperty(W)&&(U[q[W]]=W);return U}function Py(q){var U={},W={};return Object.keys(q).forEach(function(z){var oe=!1;if(q.hasOwnProperty(z)&&q[z]!==void 0){var _e=z.split("_"),he=_e[0],$e=Ow[he];$e||(b.info("Data key word `"+_e[0]+"` not expected in "+z),$e=he+"_"),_e.splice(1).forEach(function(ke){ke==="url"&&(oe=!0),Oy[ke]?$e+=Oy[ke]:Number(ke)&&Math.floor(Number(ke))===Number(ke)?$e+=ke:(b.info("Data key word `"+ke+"` not expected in "+z),$e+="_"+ke+"_")}),oe?W[$e]=q[z]:U[$e]=q[z]}}),Object.assign(U,W)}var Lw={maxBeaconSize:300,maxQueueLength:3600,baseTimeBetweenBeacons:1e4,maxPayloadKBSize:500},OE=["hb","requestcompleted","requestfailed","requestcanceled"],LE="https://img.litix.io",ic=function(q){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._beaconUrl=q||LE,this._eventQueue=[],this._postInFlight=!1,this._failureCount=0,this._sendTimeout=!1,this._options=Object.assign({},Lw,U)};ic.prototype.queueEvent=function(q,U){var W=Object.assign({},U);return(this._eventQueue.length<=this._options.maxQueueLength||q==="eventrateexceeded")&&(this._eventQueue.push(W),this._sendTimeout||this._startBeaconSending(),this._eventQueue.length<=this._options.maxQueueLength)},ic.prototype.flushEvents=function(){var q=arguments.length>0&&arguments[0]!==void 0&&arguments[0];q&&this._eventQueue.length===1?this._eventQueue.pop():(this._eventQueue.length&&this._sendBeaconQueue(),this._startBeaconSending())},ic.prototype.destroy=function(){var q=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.destroyed=!0,q?this._clearBeaconQueue():this.flushEvents(),d().clearTimeout(this._sendTimeout)},ic.prototype._clearBeaconQueue=function(){var q=this._eventQueue.length>this._options.maxBeaconSize?this._eventQueue.length-this._options.maxBeaconSize:0,U=this._eventQueue.slice(q);q>0&&Object.assign(U[U.length-1],Py({mux_view_message:"event queue truncated"}));var W=this._createPayload(U);Pw(this._beaconUrl,W,!0,function(){})},ic.prototype._sendBeaconQueue=function(){var q=this;if(!this._postInFlight){var U=this._eventQueue.slice(0,this._options.maxBeaconSize);this._eventQueue=this._eventQueue.slice(this._options.maxBeaconSize),this._postInFlight=!0;var W=this._createPayload(U),z=C.now();Pw(this._beaconUrl,W,!1,function(oe,_e){_e?(q._eventQueue=U.concat(q._eventQueue),q._failureCount+=1,b.info("Error sending beacon: "+_e)):q._failureCount=0,q._roundTripTime=C.now()-z,q._postInFlight=!1})}},ic.prototype._getNextBeaconTime=function(){if(!this._failureCount)return this._options.baseTimeBetweenBeacons;var q=Math.pow(2,this._failureCount-1);return(1+(q*=Math.random()))*this._options.baseTimeBetweenBeacons},ic.prototype._startBeaconSending=function(){var q=this;d().clearTimeout(this._sendTimeout),this.destroyed||(this._sendTimeout=d().setTimeout(function(){q._eventQueue.length&&q._sendBeaconQueue(),q._startBeaconSending()},this._getNextBeaconTime()))},ic.prototype._createPayload=function(q){var U,W,z,oe=this,_e={transmission_timestamp:Math.round(C.now())};this._roundTripTime&&(_e.rtt_ms=Math.round(this._roundTripTime));var he=function(){U=JSON.stringify({metadata:_e,events:W||q}),z=U.length/1024},$e=function(){return z<=oe._options.maxPayloadKBSize};return he(),$e()||(b.info("Payload size is too big ("+z+" kb). Removing unnecessary events."),W=q.filter(function(ke){return OE.indexOf(ke.e)===-1}),he()),$e()||(b.info("Payload size still too big ("+z+" kb). Cropping fields.."),W.forEach(function(ke){for(var Je in ke){var Wt=ke[Je];typeof Wt=="string"&&Wt.length>51200&&(ke[Je]=Wt.substring(0,51200))}}),he()),U};var My=function(q){return q.length<=57344},Pw=function(q,U,W,z){if(W&&navigator&&navigator.sendBeacon&&navigator.sendBeacon(q,U))z();else if(d().fetch)d().fetch(q,{method:"POST",body:U,headers:{"Content-Type":"text/plain"},keepalive:My(U)}).then(function(_e){return z(null,_e.ok?null:"Error")}).catch(function(_e){return z(null,_e)});else{if(d().XMLHttpRequest){var oe=new(d()).XMLHttpRequest;return oe.onreadystatechange=function(){if(oe.readyState===4)return z(null,oe.status!==200?"error":void 0)},oe.open("POST",q),oe.setRequestHeader("Content-Type","text/plain"),void oe.send(U)}z()}},Nm=ic;function ip(q,U){return function(W){if(Array.isArray(W))return W}(q)||function(W,z){var oe=W==null?null:typeof Symbol<"u"&&W[Symbol.iterator]||W["@@iterator"];if(oe!=null){var _e,he,$e=[],ke=!0,Je=!1;try{for(oe=oe.call(W);!(ke=(_e=oe.next()).done)&&($e.push(_e.value),!z||$e.length!==z);ke=!0);}catch(Wt){Je=!0,he=Wt}finally{try{ke||oe.return==null||oe.return()}finally{if(Je)throw he}}return $e}}(q,U)||function(W,z){if(W){if(typeof W=="string")return $y(W,z);var oe=Object.prototype.toString.call(W).slice(8,-1);return oe==="Object"&&W.constructor&&(oe=W.constructor.name),oe==="Map"||oe==="Set"?Array.from(W):oe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(oe)?$y(W,z):void 0}}(q,U)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $y(q,U){(U==null||U>q.length)&&(U=q.length);for(var W=0,z=new Array(U);W<U;W++)z[W]=q[W];return z}function Vm(q,U){var W=Object.keys(q);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(q);U&&(z=z.filter(function(oe){return Object.getOwnPropertyDescriptor(q,oe).enumerable})),W.push.apply(W,z)}return W}function Bd(q){for(var U=1;U<arguments.length;U++){var W=arguments[U]!=null?arguments[U]:{};U%2?Vm(Object(W),!0).forEach(function(z){Um(q,z,W[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(W)):Vm(Object(W)).forEach(function(z){Object.defineProperty(q,z,Object.getOwnPropertyDescriptor(W,z))})}return q}function Nd(q){return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},Nd(q)}function Fy(q,U){if(!(q instanceof U))throw new TypeError("Cannot call a class as a function")}function Mw(q,U){for(var W=0;W<U.length;W++){var z=U[W];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(q,z.key,z)}}function Um(q,U,W){return U in q?Object.defineProperty(q,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):q[U]=W,q}var $w=["env_key","view_id","view_sequence_number","player_sequence_number","beacon_domain","player_playhead_time","viewer_time","mux_api_version","event","video_id","player_instance_id"],Yt=["adplay","adplaying","adpause","adfirstquartile","admidpoint","adthirdquartile","adended","adresponse","adrequest"],xi=["ad_id","ad_creative_id","ad_universal_id"],ii=["viewstart","error","ended","viewend"],bo=function(){function q(z,oe){var _e,he,$e,ke,Je,Wt,Qt,Un,At,sn,Ln,xo,Zn,cs,Ua,Tr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Fy(this,q),Um(this,"previousBeaconData",null),Um(this,"lastEventTime",0),Um(this,"rateLimited",!1),this.mux=z,this.envKey=oe,this.options=Tr,this.eventQueue=new Nm(U0(this.envKey,this.options)),this.sampleRate=(_e=this.options.sampleRate)!==null&&_e!==void 0?_e:1,this.disableCookies=(he=this.options.disableCookies)!==null&&he!==void 0&&he,this.respectDoNotTrack=($e=this.options.respectDoNotTrack)!==null&&$e!==void 0&&$e,this.previousBeaconData=null,this.lastEventTime=0,this.rateLimited=!1,this.pageLevelData={mux_api_version:this.mux.API_VERSION,mux_embed:this.mux.NAME,mux_embed_version:this.mux.VERSION,viewer_application_name:(ke=this.options.platform)===null||ke===void 0?void 0:ke.name,viewer_application_version:(Je=this.options.platform)===null||Je===void 0?void 0:Je.version,viewer_application_engine:(Wt=this.options.platform)===null||Wt===void 0?void 0:Wt.layout,viewer_device_name:(Qt=this.options.platform)===null||Qt===void 0?void 0:Qt.product,viewer_device_category:"",viewer_device_manufacturer:(Un=this.options.platform)===null||Un===void 0?void 0:Un.manufacturer,viewer_os_family:(At=this.options.platform)===null||At===void 0||(sn=At.os)===null||sn===void 0?void 0:sn.family,viewer_os_architecture:(Ln=this.options.platform)===null||Ln===void 0||(xo=Ln.os)===null||xo===void 0?void 0:xo.architecture,viewer_os_version:(Zn=this.options.platform)===null||Zn===void 0||(cs=Zn.os)===null||cs===void 0?void 0:cs.version,viewer_connection_type:rp(),page_url:d()===null||d()===void 0||(Ua=d().location)===null||Ua===void 0?void 0:Ua.href},this.viewerData=this.disableCookies?{}:$d()}var U,W;return U=q,(W=[{key:"send",value:function(z,oe){var _e;if(z&&oe!=null&&oe.view_id){if(this.respectDoNotTrack&&_())return b.info("Not sending `"+z+"` because Do Not Track is enabled");if(!oe||Nd(oe)!=="object")return b.error("A data object was expected in send() but was not provided");var he,$e,ke=this.disableCookies?{}:(he=ta(),$e=C.now(),he.session_start&&(he.sst=he.session_start,delete he.session_start),he.session_id&&(he.sid=he.session_id,delete he.session_id),he.session_expires&&(he.sex=he.session_expires,delete he.session_expires),(!he.sex||he.sex<$e)&&(he.sid=f(),he.sst=$e),he.sex=$e+15e5,wu(he),{session_id:he.sid,session_start:he.sst,session_expires:he.sex}),Je=Bd(Bd(Bd(Bd(Bd({},this.pageLevelData),oe),ke),this.viewerData),{},{event:z,env_key:this.envKey});Je.user_id&&(Je.viewer_user_id=Je.user_id,delete Je.user_id);var Wt=((_e=Je.mux_sample_number)!==null&&_e!==void 0?_e:0)>=this.sampleRate,Qt=Py(this._deduplicateBeaconData(z,Je));if(this.lastEventTime=this.mux.utils.now(),Wt)return b.info("Not sending event due to sample rate restriction",z,Je,Qt);if(this.envKey||b.info("Missing environment key (envKey) - beacons will be dropped if the video source is not a valid mux video URL",z,Je,Qt),!this.rateLimited){if(b.info("Sending event",z,Je,Qt),this.rateLimited=!this.eventQueue.queueEvent(z,Qt),this.mux.WINDOW_UNLOADING&&z==="viewend")this.eventQueue.destroy(!0);else if(this.mux.WINDOW_HIDDEN&&z==="hb"?this.eventQueue.flushEvents(!0):ii.indexOf(z)>=0&&this.eventQueue.flushEvents(),this.rateLimited)return Je.event="eventrateexceeded",Qt=Py(Je),this.eventQueue.queueEvent(Je.event,Qt),b.error("Beaconing disabled due to rate limit.")}}}},{key:"destroy",value:function(){this.eventQueue.destroy(!1)}},{key:"_deduplicateBeaconData",value:function(z,oe){var _e=this,he={},$e=oe.view_id;if($e==="-1"||z==="viewstart"||z==="viewend"||!this.previousBeaconData||this.mux.utils.now()-this.lastEventTime>=6e5)he=Bd({},oe),$e&&(this.previousBeaconData=he),$e&&z==="viewend"&&(this.previousBeaconData=null);else{var ke=z.indexOf("request")===0;Object.entries(oe).forEach(function(Je){var Wt=ip(Je,2),Qt=Wt[0],Un=Wt[1];_e.previousBeaconData&&(Un!==_e.previousBeaconData[Qt]||$w.indexOf(Qt)>-1||_e.objectHasChanged(ke,Qt,Un,_e.previousBeaconData[Qt])||_e.eventRequiresKey(z,Qt))&&(he[Qt]=Un,_e.previousBeaconData[Qt]=Un)})}return he}},{key:"objectHasChanged",value:function(z,oe,_e,he){return!(!z||oe.indexOf("request_")!==0||oe!=="request_response_headers"&&Nd(_e)==="object"&&Nd(he)==="object"&&Object.keys(_e||{}).length===Object.keys(he||{}).length)}},{key:"eventRequiresKey",value:function(z,oe){return z==="renditionchange"&&oe.indexOf("video_source_")===0||!(!xi.includes(oe)||!Yt.includes(z))}}])&&Mw(U.prototype,W),Object.defineProperty(U,"prototype",{writable:!1}),q}();function Xc(q,U){for(var W=0;W<U.length;W++){var z=U[W];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(q,z.key,z)}}function sc(q,U,W){return U&&Xc(q.prototype,U),W&&Xc(q,W),Object.defineProperty(q,"prototype",{writable:!1}),q}var Mo=sc(function q(U){(function(Je,Wt){if(!(Je instanceof Wt))throw new TypeError("Cannot call a class as a function")})(this,q);var W=0,z=0,oe=0,_e=0,he=0,$e=0,ke=0;U.on("requestcompleted",function(Je,Wt){var Qt,Un,At=Wt.request_start,sn=Wt.request_response_start,Ln=Wt.request_response_end,xo=Wt.request_bytes_loaded;if(_e++,sn?(Qt=sn-(At??0),Un=(Ln??0)-sn):Un=(Ln??0)-(At??0),Un>0&&xo&&xo>0){var Zn=xo/Un*8e3;he++,z+=xo,oe+=Un,U.data.view_min_request_throughput=Math.min(U.data.view_min_request_throughput||1/0,Zn),U.data.view_average_request_throughput=z/oe*8e3,U.data.view_request_count=_e,Qt>0&&(W+=Qt,U.data.view_max_request_latency=Math.max(U.data.view_max_request_latency||0,Qt),U.data.view_average_request_latency=W/he)}}),U.on("requestfailed",function(Je,Wt){_e++,$e++,U.data.view_request_count=_e,U.data.view_request_failed_count=$e}),U.on("requestcanceled",function(Je,Wt){_e++,ke++,U.data.view_request_count=_e,U.data.view_request_canceled_count=ke})});function Vd(q,U){for(var W=0;W<U.length;W++){var z=U[W];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(q,z.key,z)}}function PE(q,U,W){return U&&Vd(q.prototype,U),W&&Vd(q,W),Object.defineProperty(q,"prototype",{writable:!1}),q}var By=PE(function q(U){var W=this;(function(z,oe){if(!(z instanceof oe))throw new TypeError("Cannot call a class as a function")})(this,q),U.on("before*",function(z,oe){var _e=oe.viewer_time,he=C.now(),$e=W._lastEventTime;if(W._lastEventTime=he,$e&&he-$e>36e5){var ke=Object.keys(U.data).reduce(function(Je,Wt){return Wt.indexOf("video_")===0?Object.assign(Je,function(Qt,Un,At){return Un in Qt?Object.defineProperty(Qt,Un,{value:At,enumerable:!0,configurable:!0,writable:!0}):Qt[Un]=At,Qt}({},Wt,U.data[Wt])):Je},{});U.mux.log.info("Received event after at least an hour inactivity, creating a new view"),U.emit("viewinit",Object.assign({viewer_time:_e},ke)),U.playbackHeartbeat._playheadShouldBeProgressing&&z.type!=="play"&&z.type!=="adbreakstart"&&(U.emit("play",{viewer_time:_e}),z.type!=="playing"&&U.emit("playing",{viewer_time:_e}))}})});function H0(q){return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},H0(q)}function DD(q,U){return function(W){if(Array.isArray(W))return W}(q)||function(W,z){var oe=W==null?null:typeof Symbol<"u"&&W[Symbol.iterator]||W["@@iterator"];if(oe!=null){var _e,he,$e=[],ke=!0,Je=!1;try{for(oe=oe.call(W);!(ke=(_e=oe.next()).done)&&($e.push(_e.value),!z||$e.length!==z);ke=!0);}catch(Wt){Je=!0,he=Wt}finally{try{ke||oe.return==null||oe.return()}finally{if(Je)throw he}}return $e}}(q,U)||function(W,z){if(W){if(typeof W=="string")return RD(W,z);var oe=Object.prototype.toString.call(W).slice(8,-1);return oe==="Object"&&W.constructor&&(oe=W.constructor.name),oe==="Map"||oe==="Set"?Array.from(W):oe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(oe)?RD(W,z):void 0}}(q,U)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function RD(q,U){(U==null||U>q.length)&&(U=q.length);for(var W=0,z=new Array(U);W<U;W++)z[W]=q[W];return z}function jD(q,U){for(var W=0;W<U.length;W++){var z=U[W];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(q,z.key,z)}}function Fw(q,U){return Fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(W,z){return W.__proto__=z,W},Fw(q,U)}function ME(q){var U=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var W,z=z0(q);if(U){var oe=z0(this).constructor;W=Reflect.construct(z,arguments,oe)}else W=z.apply(this,arguments);return sB(this,W)}}function sB(q,U){if(U&&(H0(U)==="object"||typeof U=="function"))return U;if(U!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $o(q)}function $o(q){if(q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}function z0(q){return z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(U){return U.__proto__||Object.getPrototypeOf(U)},z0(q)}var $E=["viewstart","ended","loadstart","pause","play","playing","ratechange","waiting","adplay","adpause","adended","aderror","adplaying","adrequest","adresponse","adbreakstart","adbreakend","adfirstquartile","admidpoint","adthirdquartile","rebufferstart","rebufferend","seeked","error","hb","requestcompleted","requestfailed","requestcanceled","renditionchange"],W0=function(q){(function(_e,he){if(typeof he!="function"&&he!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create(he&&he.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),he&&Fw(_e,he)})(oe,q);var U,W,z=ME(oe);function oe(_e,he,$e){var ke;(function(At,sn){if(!(At instanceof sn))throw new TypeError("Cannot call a class as a function")})(this,oe),(ke=z.call(this)).DOM_CONTENT_LOADED_EVENT_END=A.domContentLoadedEventEnd(),ke.NAVIGATION_START=A.navigationStart(),ke.mux=_e,ke.id=he,($e=Object.assign({debug:!1,minimumRebufferDuration:250,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,beaconDomain:"litix.io",sampleRate:1,disableCookies:!1,respectDoNotTrack:!1,disableRebufferTracking:!1,disablePlayheadRebufferTracking:!1,errorTranslator:function(At){return At}},$e)).data=$e.data||{},$e.data.property_key&&($e.data.env_key=$e.data.property_key,delete $e.data.property_key),b.setLevel($e.debug?"debug":"warn"),ke.getPlayheadTime=$e.getPlayheadTime,ke.getStateData=$e.getStateData||function(){return{}},ke.getAdData=$e.getAdData||function(){},ke.minimumRebufferDuration=$e.minimumRebufferDuration,ke.sustainedRebufferThreshold=$e.sustainedRebufferThreshold,ke.playbackHeartbeatTime=$e.playbackHeartbeatTime,ke.disableRebufferTracking=$e.disableRebufferTracking,ke.disableRebufferTracking&&ke.mux.log.warn("Disabling rebuffer tracking. This should only be used in specific circumstances as a last resort when your player is known to unreliably track rebuffering."),ke.disablePlayheadRebufferTracking=$e.disablePlayheadRebufferTracking,ke.errorTranslator=$e.errorTranslator,ke.playbackEventDispatcher=new bo(_e,$e.data.env_key,$e),ke.data={player_instance_id:f(),mux_sample_rate:$e.sampleRate,beacon_domain:$e.beaconCollectionDomain?$e.beaconCollectionDomain:$e.beaconDomain},ke.data.view_sequence_number=1,ke.data.player_sequence_number=1,ke.oldEmit=ke.emit,ke.emit=function(At,sn){sn=Object.assign({viewer_time:this.mux.utils.now()},sn),this.oldEmit(At,sn)};var Je=(function(){this.data.view_start===void 0&&(this.data.view_start=this.mux.utils.now(),this.emit("viewstart"))}).bind($o(ke));ke.on("viewinit",function(At,sn){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this._updateStateData(),Object.assign(this.data,sn),this._initializeViewData(),this.one("play",Je),this.one("adbreakstart",Je)});var Wt=(function(At){this.emit("viewend"),this.send("viewend"),this.emit("viewinit",At)}).bind($o(ke));if(ke.on("videochange",function(At,sn){Wt(sn)}),ke.on("programchange",function(At,sn){this.data.player_is_paused&&this.mux.log.warn("The `programchange` event is intended to be used when the content changes mid playback without the video source changing, however the video is not currently playing. If the video source is changing please use the videochange event otherwise you will lose startup time information."),Wt(Object.assign(sn,{view_program_changed:!0})),Je(),this.emit("play"),this.emit("playing")}),ke.on("fragmentchange",function(At,sn){this.currentFragmentPDT=sn.currentFragmentPDT,this.currentFragmentStart=sn.currentFragmentStart}),ke.on("destroy",ke.destroy),typeof window<"u"&&typeof window.addEventListener=="function"&&typeof window.removeEventListener=="function"){var Qt=function(){var At=ke.data.view_start!==void 0;ke.mux.WINDOW_HIDDEN=document.visibilityState==="hidden",At&&ke.mux.WINDOW_HIDDEN&&(ke.data.player_is_paused||ke.emit("hb"))};window.addEventListener("visibilitychange",Qt,!1);var Un=function(At){At.persisted||ke.destroy()};window.addEventListener("pagehide",Un,!1),ke.on("destroy",function(){window.removeEventListener("visibilitychange",Qt),window.removeEventListener("pagehide",Un)})}return ke.on("playerready",function(At,sn){Object.assign(this.data,sn)}),$E.forEach(function(At){ke.on(At,function(sn,Ln){At.indexOf("ad")!==0&&this._updateStateData(),Object.assign(this.data,Ln),this._sanitizeData()}),ke.on("after"+At,function(){(At!=="error"||this.errorTracker.viewErrored)&&this.send(At)})}),ke.on("viewend",function(At,sn){Object.assign(ke.data,sn)}),ke.one("playerready",function(At){var sn=this.mux.utils.now();this.data.player_init_time&&(this.data.player_startup_time=sn-this.data.player_init_time),!this.mux.PLAYER_TRACKED&&this.NAVIGATION_START&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.DOM_CONTENT_LOADED_EVENT_END)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.DOM_CONTENT_LOADED_EVENT_END||1/0)-this.NAVIGATION_START)),this.send("playerready"),delete this.data.player_startup_time,delete this.data.page_load_time}),ke.longResumeTracker=new By($o(ke)),ke.errorTracker=new Pe($o(ke)),new fi($o(ke)),ke.seekingTracker=new Kn($o(ke)),ke.playheadTime=new ze($o(ke)),ke.playbackHeartbeat=new pe($o(ke)),new gn($o(ke)),ke.watchTimeTracker=new De($o(ke)),new be($o(ke)),ke.adTracker=new rc($o(ke)),new Ct($o(ke)),new nt($o(ke)),new pt($o(ke)),new Ss($o(ke)),new Mo($o(ke)),$e.hlsjs&&ke.addHLSJS($e),$e.dashjs&&ke.addDashJS($e),ke.emit("viewinit",$e.data),ke}return U=oe,W=[{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.data.view_start!==void 0&&(this.emit("viewend"),this.send("viewend")),this.playbackEventDispatcher.destroy(),this.removeHLSJS(),this.removeDashJS(),window.clearTimeout(this._heartBeatTimeout))}},{key:"send",value:function(_e){if(this.data.view_id){var he=Object.assign({},this.data);if(he.video_source_is_live===void 0&&(he.player_source_duration===1/0||he.video_source_duration===1/0?he.video_source_is_live=!0:(he.player_source_duration>0||he.video_source_duration>0)&&(he.video_source_is_live=!1)),he.video_source_is_live||["player_program_time","player_manifest_newest_program_time","player_live_edge_program_time","player_program_time","video_holdback","video_part_holdback","video_target_duration","video_part_target_duration"].forEach(function(Wt){he[Wt]=void 0}),he.video_source_url=he.video_source_url||he.player_source_url,he.video_source_url){var $e=DD(T(he.video_source_url),2),ke=$e[0],Je=$e[1];he.video_source_domain=Je,he.video_source_hostname=ke}delete he.ad_request_id,this.playbackEventDispatcher.send(_e,he),this.data.view_sequence_number++,this.data.player_sequence_number++,this._restartHeartBeat(),_e==="viewend"&&delete this.data.view_id}}},{key:"_updateStateData",value:function(){Object.assign(this.data,this.getStateData()),this.playheadTime._updatePlayheadTime(),this._sanitizeData()}},{key:"_sanitizeData",value:function(){var _e=this;["player_width","player_height","video_source_width","video_source_height","player_playhead_time","video_source_bitrate"].forEach(function(he){var $e=parseInt(_e.data[he],10);_e.data[he]=isNaN($e)?void 0:$e}),["player_source_url","video_source_url"].forEach(function(he){if(_e.data[he]){var $e=_e.data[he].toLowerCase();$e.indexOf("data:")!==0&&$e.indexOf("blob:")!==0||(_e.data[he]="MSE style URL")}})}},{key:"_resetVideoData",value:function(_e,he){var $e=this;Object.keys(this.data).forEach(function(ke){ke.indexOf("video_")===0&&delete $e.data[ke]})}},{key:"_resetViewData",value:function(){var _e=this;Object.keys(this.data).forEach(function(he){he.indexOf("view_")===0&&delete _e.data[he]}),this.data.view_sequence_number=1}},{key:"_resetErrorData",value:function(_e,he){delete this.data.player_error_code,delete this.data.player_error_message}},{key:"_initializeViewData",value:function(){var _e=this,he=this.data.view_id=f(),$e=function(){he===_e.data.view_id&&k(_e.data,"player_view_count",1)};this.data.player_is_paused?this.one("play",$e):$e()}},{key:"_restartHeartBeat",value:function(){var _e=this;window.clearTimeout(this._heartBeatTimeout),this.errorTracker.viewErrored||(this._heartBeatTimeout=window.setTimeout(function(){_e.data.player_is_paused||_e.emit("hb")},1e4))}},{key:"addHLSJS",value:function(_e){_e.hlsjs?this.hlsjs?this.mux.log.warn("An instance of HLS.js is already being monitored for this player."):(this.hlsjs=_e.hlsjs,function(he,$e,ke){var Je=arguments.length>4?arguments[4]:void 0,Wt=he.log,Qt=he.utils.secondsToMs,Un=function(Fr){var Et,fn=parseInt(Je.version);return fn===1&&Fr.programDateTime!==null&&(Et=Fr.programDateTime),fn===0&&Fr.pdt!==null&&(Et=Fr.pdt),Et};if(A.exists()){var At=function(Fr,Et){return he.emit($e,Fr,Et)},sn=function(Fr,Et){var fn=Et.levels,Rt=Et.audioTracks,En=Et.url,qn=Et.stats,wo=Et.networkDetails,cl=Et.sessionData,na={},ba={};fn.forEach(function(Bo,G0){na[G0]={width:Bo.width,height:Bo.height,bitrate:Bo.bitrate,attrs:Bo.attrs}}),Rt.forEach(function(Bo,G0){ba[G0]={name:Bo.name,language:Bo.lang,bitrate:Bo.bitrate}});var _o=Q(qn),Fo=_o.bytesLoaded,sp=_o.requestStart,Wm=_o.responseStart,Zf=_o.responseEnd;At("requestcompleted",$($({},L(cl)),{},{request_event_type:Fr,request_bytes_loaded:Fo,request_start:sp,request_response_start:Wm,request_response_end:Zf,request_type:"manifest",request_hostname:S(En),request_response_headers:V(wo),request_rendition_lists:{media:na,audio:ba,video:{}}}))};ke.on(Je.Events.MANIFEST_LOADED,sn);var Ln=function(Fr,Et){var fn=Et.details,Rt=Et.level,En=Et.networkDetails,qn=Et.stats,wo=Q(qn),cl=wo.bytesLoaded,na=wo.requestStart,ba=wo.responseStart,_o=wo.responseEnd,Fo=fn.fragments[fn.fragments.length-1],sp=Un(Fo)+Qt(Fo.duration);At("requestcompleted",{request_event_type:Fr,request_bytes_loaded:cl,request_start:na,request_response_start:ba,request_response_end:_o,request_current_level:Rt,request_type:"manifest",request_hostname:S(fn.url),request_response_headers:V(En),video_holdback:fn.holdBack&&Qt(fn.holdBack),video_part_holdback:fn.partHoldBack&&Qt(fn.partHoldBack),video_part_target_duration:fn.partTarget&&Qt(fn.partTarget),video_target_duration:fn.targetduration&&Qt(fn.targetduration),video_source_is_live:fn.live,player_manifest_newest_program_time:isNaN(sp)?void 0:sp})};ke.on(Je.Events.LEVEL_LOADED,Ln);var xo=function(Fr,Et){var fn=Et.details,Rt=Et.networkDetails,En=Et.stats,qn=Q(En),wo=qn.bytesLoaded,cl=qn.requestStart,na=qn.responseStart,ba=qn.responseEnd;At("requestcompleted",{request_event_type:Fr,request_bytes_loaded:wo,request_start:cl,request_response_start:na,request_response_end:ba,request_type:"manifest",request_hostname:S(fn.url),request_response_headers:V(Rt)})};ke.on(Je.Events.AUDIO_TRACK_LOADED,xo);var Zn=function(Fr,Et){var fn=Et.stats,Rt=Et.networkDetails,En=Et.frag;fn=fn||En.stats;var qn=Q(fn),wo=qn.bytesLoaded,cl=qn.requestStart,na=qn.responseStart,ba=qn.responseEnd,_o=Rt?V(Rt):void 0,Fo={request_event_type:Fr,request_bytes_loaded:wo,request_start:cl,request_response_start:na,request_response_end:ba,request_hostname:Rt?S(Rt.responseURL):void 0,request_id:_o?O(_o):void 0,request_response_headers:_o,request_media_duration:En.duration,request_url:Rt==null?void 0:Rt.responseURL};En.type==="main"?(Fo.request_type="media",Fo.request_current_level=En.level,Fo.request_video_width=(ke.levels[En.level]||{}).width,Fo.request_video_height=(ke.levels[En.level]||{}).height,Fo.request_labeled_bitrate=(ke.levels[En.level]||{}).bitrate):Fo.request_type=En.type,At("requestcompleted",Fo)};ke.on(Je.Events.FRAG_LOADED,Zn);var cs=function(Fr,Et){var fn=Et.frag,Rt=fn.start,En={currentFragmentPDT:Un(fn),currentFragmentStart:Qt(Rt)};At("fragmentchange",En)};ke.on(Je.Events.FRAG_CHANGED,cs);var Ua=function(Fr,Et){var fn=Et.type,Rt=Et.details,En=Et.response,qn=Et.fatal,wo=Et.frag,cl=Et.networkDetails,na=(wo==null?void 0:wo.url)||Et.url||"",ba=cl?V(cl):void 0;if(Rt!==Je.ErrorDetails.MANIFEST_LOAD_ERROR&&Rt!==Je.ErrorDetails.MANIFEST_LOAD_TIMEOUT&&Rt!==Je.ErrorDetails.FRAG_LOAD_ERROR&&Rt!==Je.ErrorDetails.FRAG_LOAD_TIMEOUT&&Rt!==Je.ErrorDetails.LEVEL_LOAD_ERROR&&Rt!==Je.ErrorDetails.LEVEL_LOAD_TIMEOUT&&Rt!==Je.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&Rt!==Je.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT&&Rt!==Je.ErrorDetails.SUBTITLE_LOAD_ERROR&&Rt!==Je.ErrorDetails.SUBTITLE_LOAD_TIMEOUT&&Rt!==Je.ErrorDetails.KEY_LOAD_ERROR&&Rt!==Je.ErrorDetails.KEY_LOAD_TIMEOUT||At("requestfailed",{request_error:Rt,request_url:na,request_hostname:S(na),request_id:ba?O(ba):void 0,request_type:Rt===Je.ErrorDetails.FRAG_LOAD_ERROR||Rt===Je.ErrorDetails.FRAG_LOAD_TIMEOUT?"media":Rt===Je.ErrorDetails.AUDIO_TRACK_LOAD_ERROR||Rt===Je.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT?"audio":Rt===Je.ErrorDetails.SUBTITLE_LOAD_ERROR||Rt===Je.ErrorDetails.SUBTITLE_LOAD_TIMEOUT?"subtitle":Rt===Je.ErrorDetails.KEY_LOAD_ERROR||Rt===Je.ErrorDetails.KEY_LOAD_TIMEOUT?"encryption":"manifest",request_error_code:En==null?void 0:En.code,request_error_text:En==null?void 0:En.text}),qn){var _o,Fo="".concat(na?"url: ".concat(na,`
`):"")+"".concat(En&&(En.code||En.text)?"response: ".concat(En.code,", ").concat(En.text,`
`):"")+"".concat(Et.reason?"failure reason: ".concat(Et.reason,`
`):"")+"".concat(Et.level?"level: ".concat(Et.level,`
`):"")+"".concat(Et.parent?"parent stream controller: ".concat(Et.parent,`
`):"")+"".concat(Et.buffer?"buffer length: ".concat(Et.buffer,`
`):"")+"".concat(Et.error?"error: ".concat(Et.error,`
`):"")+"".concat(Et.event?"event: ".concat(Et.event,`
`):"")+"".concat(Et.err?"error message: ".concat((_o=Et.err)===null||_o===void 0?void 0:_o.message,`
`):"");At("error",{player_error_code:fn,player_error_message:Rt,player_error_context:Fo})}};ke.on(Je.Events.ERROR,Ua);var Tr=function(Fr,Et){var fn=Et.frag,Rt=fn&&fn._url||"";At("requestcanceled",{request_event_type:Fr,request_url:Rt,request_type:"media",request_hostname:S(Rt)})};ke.on(Je.Events.FRAG_LOAD_EMERGENCY_ABORTED,Tr);var rs=function(Fr,Et){var fn=Et.level,Rt=ke.levels[fn];if(Rt&&Rt.attrs&&Rt.attrs.BANDWIDTH){var En,qn=Rt.attrs.BANDWIDTH,wo=parseFloat(Rt.attrs["FRAME-RATE"]);isNaN(wo)||(En=wo),qn?At("renditionchange",{video_source_fps:En,video_source_bitrate:qn,video_source_width:Rt.width,video_source_height:Rt.height,video_source_rendition_name:Rt.name,video_source_codec:Rt==null?void 0:Rt.videoCodec}):Wt.warn("missing BANDWIDTH from HLS manifest parsed by HLS.js")}};ke.on(Je.Events.LEVEL_SWITCHED,rs),ke._stopMuxMonitor=function(){ke.off(Je.Events.MANIFEST_LOADED,sn),ke.off(Je.Events.LEVEL_LOADED,Ln),ke.off(Je.Events.AUDIO_TRACK_LOADED,xo),ke.off(Je.Events.FRAG_LOADED,Zn),ke.off(Je.Events.FRAG_CHANGED,cs),ke.off(Je.Events.ERROR,Ua),ke.off(Je.Events.FRAG_LOAD_EMERGENCY_ABORTED,Tr),ke.off(Je.Events.LEVEL_SWITCHED,rs),ke.off(Je.Events.DESTROYING,ke._stopMuxMonitor),delete ke._stopMuxMonitor},ke.on(Je.Events.DESTROYING,ke._stopMuxMonitor)}else Wt.warn("performance timing not supported. Not tracking HLS.js.")}(this.mux,this.id,_e.hlsjs,{},_e.Hls||window.Hls)):this.mux.log.warn("You must pass a valid hlsjs instance in order to track it.")}},{key:"removeHLSJS",value:function(){var _e;this.hlsjs&&((_e=this.hlsjs)&&typeof _e._stopMuxMonitor=="function"&&_e._stopMuxMonitor(),this.hlsjs=void 0)}},{key:"addDashJS",value:function(_e){_e.dashjs?this.dashjs?this.mux.log.warn("An instance of Dash.js is already being monitored for this player."):(this.dashjs=_e.dashjs,function(he,$e,ke){var Je=he.log;if(ke&&ke.on){var Wt=function(Tr,rs){return he.emit($e,Tr,rs)},Qt=function(Tr){var rs=Tr.type,Fr=(Tr.data||{}).url;Wt("requestcompleted",{request_event_type:rs,request_start:0,request_response_start:0,request_response_end:0,request_bytes_loaded:-1,request_type:"manifest",request_hostname:S(Fr),request_url:Fr})};ke.on("manifestLoaded",Qt);var Un={},At=function(Tr){var rs=Tr.type,Fr=Tr.fragmentModel,Et=(Tr.chunk||{}).mediaInfo||{},fn=Et.type,Rt=Et.bitrateList,En={};(Rt=Rt||[]).forEach(function(Zf,Bo){En[Bo]={},En[Bo].width=Zf.width,En[Bo].height=Zf.height,En[Bo].bitrate=Zf.bandwidth,En[Bo].attrs={}}),fn==="video"?Un.video=En:fn==="audio"?Un.audio=En:Un.media=En;var qn=X(Fr,ke),wo=qn.requestStart,cl=qn.requestResponseStart,na=qn.requestResponseEnd,ba=qn.requestResponseHeaders,_o=qn.requestMediaDuration,Fo=qn.requestHostname,sp=qn.requestUrl,Wm=qn.requestId;Wt("requestcompleted",{request_event_type:rs,request_start:wo,request_response_start:cl,request_response_end:na,request_bytes_loaded:-1,request_type:fn+"_init",request_response_headers:ba,request_hostname:Fo,request_id:Wm,request_url:sp,request_media_duration:_o,request_rendition_lists:Un})};ke.on("initFragmentLoaded",At);var sn=function(Tr){var rs=Tr.type,Fr=Tr.fragmentModel,Et=Tr.chunk||{},fn=Et.mediaInfo,Rt=Et.start,En=(fn||{}).type,qn=X(Fr,ke),wo=qn.requestStart,cl=qn.requestResponseStart,na=qn.requestResponseEnd,ba=qn.requestBytesLoaded,_o=qn.requestResponseHeaders,Fo=qn.requestMediaDuration,sp=qn.requestHostname,Wm=qn.requestUrl,Zf=qn.requestId,Bo=fe(En,ke),G0=Bo.currentLevel,_u=Bo.renditionWidth,WE=Bo.renditionHeight,Vy=Bo.renditionBitrate;Wt("requestcompleted",{request_event_type:rs,request_start:wo,request_response_start:cl,request_response_end:na,request_bytes_loaded:ba,request_type:En,request_response_headers:_o,request_hostname:sp,request_id:Zf,request_url:Wm,request_media_start_time:Rt,request_media_duration:Fo,request_current_level:G0,request_labeled_bitrate:Vy,request_video_width:_u,request_video_height:WE})};ke.on("mediaFragmentLoaded",sn);var Ln={video:void 0,audio:void 0,totalBitrate:void 0},xo=function(){if(Ln.video&&typeof Ln.video.bitrate=="number"){if(Ln.video.width&&Ln.video.height){var Tr=Ln.video.bitrate;return Ln.audio&&typeof Ln.audio.bitrate=="number"&&(Tr+=Ln.audio.bitrate),Tr!==Ln.totalBitrate?(Ln.totalBitrate=Tr,{video_source_bitrate:Tr,video_source_height:Ln.video.height,video_source_width:Ln.video.width,video_source_codec:ue(Ln.video.codec)}):void 0}Je.warn("have bitrate info for video but missing width/height")}},Zn=function(Tr,rs,Fr){if(typeof Tr.newQuality=="number"){var Et=Tr.mediaType;if(Et==="audio"||Et==="video"){var fn=ke.getBitrateInfoListFor(Et).find(function(En){return En.qualityIndex===Tr.newQuality});if(fn&&typeof fn.bitrate=="number"){Ln[Et]=ie(ie({},fn),{},{codec:ke.getCurrentTrackFor(Et).codec});var Rt=xo();Rt&&Wt("renditionchange",Rt)}else Je.warn("missing bitrate info for ".concat(Et))}}else Je.warn("missing evt.newQuality in qualityChangeRendered event",Tr)};ke.on("qualityChangeRendered",Zn);var cs=function(Tr){var rs=Tr.request,Fr=Tr.mediaType;Wt("requestcanceled",{request_event_type:(rs=rs||{}).type+"_"+rs.action,request_url:rs.url,request_type:Fr,request_hostname:S(rs.url)})};ke.on("fragmentLoadingAbandoned",cs);var Ua=function(Tr){var rs,Fr,Et=Tr.error,fn=(Et==null||(rs=Et.data)===null||rs===void 0?void 0:rs.request)||{},Rt=(Et==null||(Fr=Et.data)===null||Fr===void 0?void 0:Fr.response)||{};(Et==null?void 0:Et.code)===27&&Wt("requestfailed",{request_error:fn.type+"_"+fn.action,request_url:fn.url,request_hostname:S(fn.url),request_type:fn.mediaType,request_error_code:Rt.status,request_error_text:Rt.statusText});var En="".concat(fn!=null&&fn.url?"url: ".concat(fn.url,`
`):"")+"".concat(Rt!=null&&Rt.status||Rt!=null&&Rt.statusText?"response: ".concat(Rt==null?void 0:Rt.status,", ").concat(Rt==null?void 0:Rt.statusText,`
`):"");Wt("error",{player_error_code:Et==null?void 0:Et.code,player_error_message:Et==null?void 0:Et.message,player_error_context:En})};ke.on("error",Ua),ke._stopMuxMonitor=function(){ke.off("manifestLoaded",Qt),ke.off("initFragmentLoaded",At),ke.off("mediaFragmentLoaded",sn),ke.off("qualityChangeRendered",Zn),ke.off("error",Ua),ke.off("fragmentLoadingAbandoned",cs),delete ke._stopMuxMonitor}}else Je.warn("Invalid dash.js player reference. Monitoring blocked.")}(this.mux,this.id,_e.dashjs)):this.mux.log.warn("You must pass a valid dashjs instance in order to track it.")}},{key:"removeDashJS",value:function(){var _e;this.dashjs&&((_e=this.dashjs)&&typeof _e._stopMuxMonitor=="function"&&_e._stopMuxMonitor(),this.dashjs=void 0)}}],W&&jD(U.prototype,W),Object.defineProperty(U,"prototype",{writable:!1}),oe}(ce),OD=W0,LD=l(153),Ny=l.n(LD);function Bw(q){return Bw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},Bw(q)}function FE(q,U){return function(W){if(Array.isArray(W))return W}(q)||function(W,z){var oe=W==null?null:typeof Symbol<"u"&&W[Symbol.iterator]||W["@@iterator"];if(oe!=null){var _e,he,$e=[],ke=!0,Je=!1;try{for(oe=oe.call(W);!(ke=(_e=oe.next()).done)&&($e.push(_e.value),!z||$e.length!==z);ke=!0);}catch(Wt){Je=!0,he=Wt}finally{try{ke||oe.return==null||oe.return()}finally{if(Je)throw he}}return $e}}(q,U)||function(W,z){if(W){if(typeof W=="string")return BE(W,z);var oe=Object.prototype.toString.call(W).slice(8,-1);return oe==="Object"&&W.constructor&&(oe=W.constructor.name),oe==="Map"||oe==="Set"?Array.from(W):oe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(oe)?BE(W,z):void 0}}(q,U)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function BE(q,U){(U==null||U>q.length)&&(U=q.length);for(var W=0,z=new Array(U);W<U;W++)z[W]=q[W];return z}var Hm,oB=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"],aB={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"};d()&&d().WeakMap&&(Hm=new WeakMap);var lB="#EXT-X-TARGETDURATION",PD="#EXT-X-PART-INF",uB="#EXT-X-SERVER-CONTROL",cB="#EXTINF",dB="#EXT-X-PROGRAM-DATE-TIME",fB="#EXT-X-VERSION",NE="#EXT-X-SESSION-DATA",Nw=function(q){return this.buffer="",this.manifest={segments:[],serverControl:{},sessionData:{}},this.currentUri={},this.process(q),this.manifest};Nw.prototype.process=function(q){var U;for(this.buffer+=q,U=this.buffer.indexOf(`
`);U>-1;U=this.buffer.indexOf(`
`))this.processLine(this.buffer.substring(0,U)),this.buffer=this.buffer.substring(U+1)},Nw.prototype.processLine=function(q){var U=q.indexOf(":"),W=pB(q,U),z=W[0],oe=W.length===2?UE(W[1]):void 0;if(z[0]!=="#")this.currentUri.uri=z,this.manifest.segments.push(this.currentUri),this.manifest.targetDuration&&!("duration"in this.currentUri)&&(this.currentUri.duration=this.manifest.targetDuration),this.currentUri={};else switch(z){case lB:if(!isFinite(oe)||oe<0)return;this.manifest.targetDuration=oe,this.setHoldBack();break;case PD:VE(this.manifest,W),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),this.setHoldBack();break;case uB:VE(this.manifest,W),this.setHoldBack();break;case cB:oe===0?this.currentUri.duration=.01:oe>0&&(this.currentUri.duration=oe);break;case dB:var _e=oe,he=new Date(_e);this.manifest.dateTimeString||(this.manifest.dateTimeString=_e,this.manifest.dateTimeObject=he),this.currentUri.dateTimeString=_e,this.currentUri.dateTimeObject=he;break;case fB:VE(this.manifest,W);break;case NE:var $e=mB(W[1]),ke=L($e);Object.assign(this.manifest.sessionData,ke)}},Nw.prototype.setHoldBack=function(){var q=this.manifest,U=q.serverControl,W=q.targetDuration,z=q.partTargetDuration;if(U){var oe="holdBack",_e="partHoldBack",he=W&&3*W,$e=z&&2*z;W&&!U.hasOwnProperty(oe)&&(U[oe]=he),he&&U[oe]<he&&(U[oe]=he),z&&!U.hasOwnProperty(_e)&&(U[_e]=3*z),z&&U[_e]<$e&&(U[_e]=$e)}};var VE=function(q,U){var W,z=MD(U[0].replace("#EXT-X-",""));zi(U[1])?(W={},W=Object.assign(ns(U[1]),W)):W=UE(U[1]),q[z]=W},MD=function(q){return q.toLowerCase().replace(/-(\w)/g,function(U){return U[1].toUpperCase()})},UE=function(q){if(q.toLowerCase()==="yes"||q.toLowerCase()==="no")return q.toLowerCase()==="yes";var U=q.indexOf(":")!==-1?q:parseFloat(q);return isNaN(U)?q:U},hB=function(q){var U={},W=q.split("=");return W.length>1&&(U[MD(W[0])]=UE(W[1])),U},ns=function(q){for(var U=q.split(","),W={},z=0;U.length>z;z++){var oe=U[z],_e=hB(oe);W=Object.assign(_e,W)}return W},zi=function(q){return q.indexOf("=")>-1},pB=function(q,U){return U===-1?[q]:[q.substring(0,U),q.substring(U+1)]},mB=function(q){var U={};if(q){var W=q.search(",");return[q.slice(0,W),q.slice(W+1)].forEach(function(z,oe){for(var _e=z.replace(/['"]+/g,"").split("="),he=0;he<_e.length;he++)_e[he]==="DATA-ID"&&(U["DATA-ID"]=_e[1-he]),_e[he]==="VALUE"&&(U.VALUE=_e[1-he])}),{data:U}}},gB=Nw,vB={safeCall:function(q,U,W,z){var oe=z;if(q&&typeof q[U]=="function")try{oe=q[U].apply(q,W)}catch(_e){b.info("safeCall error",_e)}return oe},safeIncrement:k,getComputedStyle:function(q,U){var W;if(q&&U&&d()&&typeof d().getComputedStyle=="function")return Hm&&Hm.has(q)&&(W=Hm.get(q)),W||(W=d().getComputedStyle(q,null),Hm&&Hm.set(q,W)),W.getPropertyValue(U)},secondsToMs:function(q){return Math.floor(1e3*q)},assign:Object.assign,headersStringToObject:R,cdnHeadersToRequestId:O,extractHostnameAndDomain:T,extractHostname:S,manifestParser:gB,generateShortID:h,generateUUID:f,now:C.now},yB={PLAYER_READY:"playerready",VIEW_INIT:"viewinit",VIDEO_CHANGE:"videochange",PLAY:"play",PAUSE:"pause",PLAYING:"playing",TIME_UPDATE:"timeupdate",SEEKING:"seeking",SEEKED:"seeked",REBUFFER_START:"rebufferstart",REBUFFER_END:"rebufferend",ERROR:"error",ENDED:"ended",RENDITION_CHANGE:"renditionchange",ORIENTATION_CHANGE:"orientationchange",AD_REQUEST:"adrequest",AD_RESPONSE:"adresponse",AD_BREAK_START:"adbreakstart",AD_PLAY:"adplay",AD_PLAYING:"adplaying",AD_PAUSE:"adpause",AD_FIRST_QUARTILE:"adfirstquartile",AD_MID_POINT:"admidpoint",AD_THIRD_QUARTILE:"adthirdquartile",AD_ENDED:"adended",AD_BREAK_END:"adbreakend",AD_ERROR:"aderror",REQUEST_COMPLETED:"requestcompleted",REQUEST_FAILED:"requestfailed",REQUEST_CANCELLED:"requestcanceled"};function bB(q,U){return function(W){if(Array.isArray(W))return W}(q)||function(W,z){var oe=W==null?null:typeof Symbol<"u"&&W[Symbol.iterator]||W["@@iterator"];if(oe!=null){var _e,he,$e=[],ke=!0,Je=!1;try{for(oe=oe.call(W);!(ke=(_e=oe.next()).done)&&($e.push(_e.value),!z||$e.length!==z);ke=!0);}catch(Wt){Je=!0,he=Wt}finally{try{ke||oe.return==null||oe.return()}finally{if(Je)throw he}}return $e}}(q,U)||function(W,z){if(W){if(typeof W=="string")return HE(W,z);var oe=Object.prototype.toString.call(W).slice(8,-1);return oe==="Object"&&W.constructor&&(oe=W.constructor.name),oe==="Map"||oe==="Set"?Array.from(W):oe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(oe)?HE(W,z):void 0}}(q,U)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function HE(q,U){(U==null||U>q.length)&&(U=q.length);for(var W=0,z=new Array(U);W<U;W++)z[W]=q[W];return z}var oc={},Qs=function q(U){var W=arguments;typeof U=="string"?q.hasOwnProperty(U)?d().setTimeout(function(){W=Array.prototype.splice.call(W,1),q[U].apply(null,W)},0):b.warn("`"+U+"` is an unknown task"):typeof U=="function"?d().setTimeout(function(){U(q)},0):b.warn("`"+U+"` is invalid.")},zE={loaded:C.now(),NAME:"mux-embed",VERSION:"4.27.0",API_VERSION:"2.1",PLAYER_TRACKED:!1,monitor:function(q,U){return function(W,z,oe){var _e=FE(g(z),3),he=_e[0],$e=_e[1],ke=_e[2],Je=W.log,Wt=W.utils.getComputedStyle,Qt=W.utils.secondsToMs;if(!he)return Je.error("No element was found with the `"+$e+"` query selector.");if(ke!=="video"&&ke!=="audio")return Je.error("The element of `"+$e+"` was not a media element.");he.mux&&(he.mux.destroy(),delete he.mux,Je.warn("Already monitoring this video element, replacing existing event listeners")),(oe=Object.assign({automaticErrorTracking:!0},oe)).data=Object.assign({player_software:"HTML5 Video Element",player_mux_plugin_name:"VideoElementMonitor",player_mux_plugin_version:W.VERSION},oe.data),oe.getPlayheadTime=function(){return Qt(he.currentTime)},oe.getStateData=function(){var At,sn,Ln=this.hlsjs&&this.hlsjs.url,xo=this.dashjs&&Bw(this.dashjs.getSource==="function")&&this.dashjs.getSource(),Zn={player_is_paused:he.paused,player_playhead_time:Qt(he.currentTime),player_width:parseInt(Wt(he,"width")),player_height:parseInt(Wt(he,"height")),player_autoplay_on:he.autoplay,player_preload_on:he.preload,player_language_code:he.lang,player_is_fullscreen:Ny()&&!!(Ny().fullscreenElement||Ny().webkitFullscreenElement||Ny().mozFullScreenElement||Ny().msFullscreenElement),video_poster_url:he.poster,video_source_url:Ln||xo||he.currentSrc,video_source_duration:Qt(he.duration),video_source_height:he.videoHeight,video_source_width:he.videoWidth,view_dropped_frame_count:(At=he)===null||At===void 0||(sn=At.getVideoPlaybackQuality)===null||sn===void 0?void 0:sn.call(At).droppedVideoFrames},cs=oe.getPlayheadTime();if(he.getStartDate&&cs>0){var Ua=he.getStartDate();if(Ua&&typeof Ua.getTime=="function"&&Ua.getTime()){var Tr=Ua.getTime();if(Zn.player_program_time=Tr+cs,he.seekable.length>0){var rs=Tr+he.seekable.end(he.seekable.length-1);Zn.player_live_edge_program_time=rs}}}return Zn},he.mux=he.mux||{},he.mux.deleted=!1,he.mux.emit=function(At,sn){W.emit($e,At,sn)};var Un=function(){Je.error("The monitor for this video element has already been destroyed.")};he.mux.destroy=function(){Object.keys(he.mux.listeners).forEach(function(At){he.removeEventListener(At,he.mux.listeners[At],!1)}),delete he.mux.listeners,he.mux.destroy=Un,he.mux.swapElement=Un,he.mux.emit=Un,he.mux.addHLSJS=Un,he.mux.addDashJS=Un,he.mux.removeHLSJS=Un,he.mux.removeDashJS=Un,he.mux.deleted=!0,W.emit($e,"destroy")},he.mux.swapElement=function(At){var sn=FE(g(At),3),Ln=sn[0],xo=sn[1],Zn=sn[2];return Ln?Zn!=="video"&&Zn!=="audio"?W.log.error("The element of `"+xo+"` was not a media element."):(Ln.muxId=he.muxId,delete he.muxId,Ln.mux=Ln.mux||{},Ln.mux.listeners=Object.assign({},he.mux.listeners),delete he.mux.listeners,Object.keys(Ln.mux.listeners).forEach(function(cs){he.removeEventListener(cs,Ln.mux.listeners[cs],!1),Ln.addEventListener(cs,Ln.mux.listeners[cs],!1)}),Ln.mux.swapElement=he.mux.swapElement,Ln.mux.destroy=he.mux.destroy,delete he.mux,void(he=Ln)):W.log.error("No element was found with the `"+xo+"` query selector.")},he.mux.addHLSJS=function(At){W.addHLSJS($e,At)},he.mux.addDashJS=function(At){W.addDashJS($e,At)},he.mux.removeHLSJS=function(){W.removeHLSJS($e)},he.mux.removeDashJS=function(){W.removeDashJS($e)},W.init($e,oe),W.emit($e,"playerready"),he.paused||(W.emit($e,"play"),he.readyState>2&&W.emit($e,"playing")),he.mux.listeners={},oB.forEach(function(At){(At!=="error"||oe.automaticErrorTracking)&&(he.mux.listeners[At]=function(){var sn={};if(At==="error"){if(!he.error||he.error.code===1)return;sn.player_error_code=he.error.code,sn.player_error_message=aB[he.error.code]||he.error.message}W.emit($e,At,sn)},he.addEventListener(At,he.mux.listeners[At],!1))})}(Qs,q,U)},destroyMonitor:function(q){var U=bB(g(q),1)[0];U&&U.mux&&typeof U.mux.destroy=="function"?U.mux.destroy():b.error("A video element monitor for `"+q+"` has not been initialized via `mux.monitor`.")},addHLSJS:function(q,U){var W=p(q);oc[W]?oc[W].addHLSJS(U):b.error("A monitor for `"+W+"` has not been initialized.")},addDashJS:function(q,U){var W=p(q);oc[W]?oc[W].addDashJS(U):b.error("A monitor for `"+W+"` has not been initialized.")},removeHLSJS:function(q){var U=p(q);oc[U]?oc[U].removeHLSJS():b.error("A monitor for `"+U+"` has not been initialized.")},removeDashJS:function(q){var U=p(q);oc[U]?oc[U].removeDashJS():b.error("A monitor for `"+U+"` has not been initialized.")},init:function(q,U){_()&&U&&U.respectDoNotTrack&&b.info("The browser's Do Not Track flag is enabled - Mux beaconing is disabled.");var W=p(q);oc[W]=new OD(Qs,W,U)},emit:function(q,U,W){var z=p(q);oc[z]?(oc[z].emit(U,W),U==="destroy"&&delete oc[z]):b.error("A monitor for `"+z+"` has not been initialized.")},checkDoNotTrack:_,log:b,utils:vB,events:yB,WINDOW_HIDDEN:!1,WINDOW_UNLOADING:!1};Object.assign(Qs,zE),d()!==void 0&&typeof d().addEventListener=="function"&&d().addEventListener("pagehide",function(q){q.persisted||(Qs.WINDOW_UNLOADING=!0)},!1);var zm=Qs},655:function(o,a,l){var u,d;function f(h){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},f(h);/*!
 * JavaScript Cookie v2.1.3
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */}(function(h){var p=!1;if((d=typeof(u=h)=="function"?u.call(a,l,a,o):u)===void 0||(o.exports=d),p=!0,f(a)==="object"&&(o.exports=h(),p=!0),!p){var g=window.Cookies,v=window.Cookies=h();v.noConflict=function(){return window.Cookies=g,v}}})(function(){var h=function(){for(var p=0,g={};p<arguments.length;p++){var v=arguments[p];for(var y in v)g[y]=v[y]}return g};return function p(g){function v(y,x,b){var _;if(typeof document<"u"){if(arguments.length>1){if(typeof(b=h({path:"/"},v.defaults,b)).expires=="number"){var C=new Date;C.setMilliseconds(C.getMilliseconds()+864e5*b.expires),b.expires=C}try{_=JSON.stringify(x),/^[\{\[]/.test(_)&&(x=_)}catch{}return x=g.write?g.write(x,y):encodeURIComponent(String(x)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),y=(y=(y=encodeURIComponent(String(y))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[y,"=",x,b.expires?"; expires="+b.expires.toUTCString():"",b.path?"; path="+b.path:"",b.domain?"; domain="+b.domain:"",b.secure?"; secure":""].join("")}y||(_={});for(var S=document.cookie?document.cookie.split("; "):[],T=/(%[0-9A-Z]{2})+/g,A=0;A<S.length;A++){var k=S[A].split("="),I=k.slice(1).join("=");I.charAt(0)==='"'&&(I=I.slice(1,-1));try{var D=k[0].replace(T,decodeURIComponent);if(I=g.read?g.read(I,D):g(I,D)||I.replace(T,decodeURIComponent),this.json)try{I=JSON.parse(I)}catch{}if(y===D){_=I;break}y||(_[D]=I)}catch{}}return _}}return v.set=v,v.get=function(y){return v.call(v,y)},v.getJSON=function(){return v.apply({json:!0},[].slice.call(arguments))},v.defaults={},v.remove=function(y,x){v(y,"",h(x,{expires:-1}))},v.withConverter=p,v}(function(){})})},153:function(o,a,l){var u,d=l.g!==void 0?l.g:typeof window<"u"?window:{},f=l(558);typeof document<"u"?u=document:(u=d["__GLOBAL_DOCUMENT_CACHE@4"])||(u=d["__GLOBAL_DOCUMENT_CACHE@4"]=f),o.exports=u},48:function(o,a,l){var u;u=typeof window<"u"?window:l.g!==void 0?l.g:typeof self<"u"?self:{},o.exports=u},640:function(o,a,l){var u,d;(function(f,h){u=function(){var p=function(){},g="undefined",v=typeof window!==g&&typeof window.navigator!==g&&/Trident\/|MSIE /.test(window.navigator.userAgent),y=["trace","debug","info","warn","error"];function x(R,O){var L=R[O];if(typeof L.bind=="function")return L.bind(R);try{return Function.prototype.bind.call(L,R)}catch{return function(){return Function.prototype.apply.apply(L,[R,arguments])}}}function b(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function _(R){return R==="debug"&&(R="log"),typeof console!==g&&(R==="trace"&&v?b:console[R]!==void 0?x(console,R):console.log!==void 0?x(console,"log"):p)}function C(R,O){for(var L=0;L<y.length;L++){var P=y[L];this[P]=L<R?p:this.methodFactory(P,R,O)}this.log=this.debug}function S(R,O,L){return function(){typeof console!==g&&(C.call(this,O,L),this[R].apply(this,arguments))}}function T(R,O,L){return _(R)||S.apply(this,arguments)}function A(R,O,L){var P,$=this;O=O??"WARN";var B="loglevel";function Q(J){var X=(y[J]||"silent").toUpperCase();if(typeof window!==g&&B){try{return void(window.localStorage[B]=X)}catch{}try{window.document.cookie=encodeURIComponent(B)+"="+X+";"}catch{}}}function V(){var J;if(typeof window!==g&&B){try{J=window.localStorage[B]}catch{}if(typeof J===g)try{var X=window.document.cookie,fe=X.indexOf(encodeURIComponent(B)+"=");fe!==-1&&(J=/^([^;]+)/.exec(X.slice(fe))[1])}catch{}return $.levels[J]===void 0&&(J=void 0),J}}function Z(){if(typeof window!==g&&B){try{return void window.localStorage.removeItem(B)}catch{}try{window.document.cookie=encodeURIComponent(B)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}typeof R=="string"?B+=":"+R:typeof R=="symbol"&&(B=void 0),$.name=R,$.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},$.methodFactory=L||T,$.getLevel=function(){return P},$.setLevel=function(J,X){if(typeof J=="string"&&$.levels[J.toUpperCase()]!==void 0&&(J=$.levels[J.toUpperCase()]),!(typeof J=="number"&&J>=0&&J<=$.levels.SILENT))throw"log.setLevel() called with invalid level: "+J;if(P=J,X!==!1&&Q(J),C.call($,J,R),typeof console===g&&J<$.levels.SILENT)return"No console available for logging"},$.setDefaultLevel=function(J){O=J,V()||$.setLevel(J,!1)},$.resetLevel=function(){$.setLevel(O,!1),Z()},$.enableAll=function(J){$.setLevel($.levels.TRACE,J)},$.disableAll=function(J){$.setLevel($.levels.SILENT,J)};var ie=V();ie==null&&(ie=O),$.setLevel(ie,!1)}var k=new A,I={};k.getLogger=function(R){if(typeof R!="symbol"&&typeof R!="string"||R==="")throw new TypeError("You must supply a name when creating a logger.");var O=I[R];return O||(O=I[R]=new A(R,k.getLevel(),k.methodFactory)),O};var D=typeof window!==g?window.log:void 0;return k.noConflict=function(){return typeof window!==g&&window.log===k&&(window.log=D),k},k.getLoggers=function(){return I},k.default=k,k},(d=typeof u=="function"?u.call(a,l,a,o):u)===void 0||(o.exports=d)})()},375:function(o,a){var l=Object.prototype.hasOwnProperty;function u(f){try{return decodeURIComponent(f.replace(/\+/g," "))}catch{return null}}function d(f){try{return encodeURIComponent(f)}catch{return null}}a.stringify=function(f,h){h=h||"";var p,g,v=[];for(g in typeof h!="string"&&(h="?"),f)if(l.call(f,g)){if((p=f[g])||p!=null&&!isNaN(p)||(p=""),g=d(g),p=d(p),g===null||p===null)continue;v.push(g+"="+p)}return v.length?h+v.join("&"):""},a.parse=function(f){for(var h,p=/([^=?#&]+)=?([^&]*)/g,g={};h=p.exec(f);){var v=u(h[1]),y=u(h[2]);v===null||y===null||v in g||(g[v]=y)}return g}},558:function(){}},i={};function s(o){var a=i[o];if(a!==void 0)return a.exports;var l=i[o]={exports:{}};return r[o].call(l.exports,l,l.exports,s),l.exports}return s.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(a,{a}),a},s.d=function(o,a){for(var l in a)s.o(a,l)&&!s.o(o,l)&&Object.defineProperty(o,l,{enumerable:!0,get:a[l]})},s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},s(80)}()},t.exports=n()})()})(Jnt);var umr=Jnt.exports;const xoe=vt(umr);function cmr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ert={exports:{}};(function(t,e){(function(n){var r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(l,u,d){if(d=d||{},l=l.trim(),u=u.trim(),!u){if(!d.alwaysNormalize)return l;var f=a.parseURL(l);if(!f)throw new Error("Error trying to parse base URL.");return f.path=a.normalizePath(f.path),a.buildURLFromParts(f)}var h=a.parseURL(u);if(!h)throw new Error("Error trying to parse relative URL.");if(h.scheme)return d.alwaysNormalize?(h.path=a.normalizePath(h.path),a.buildURLFromParts(h)):u;var p=a.parseURL(l);if(!p)throw new Error("Error trying to parse base URL.");if(!p.netLoc&&p.path&&p.path[0]!=="/"){var g=i.exec(p.path);p.netLoc=g[1],p.path=g[2]}p.netLoc&&!p.path&&(p.path="/");var v={scheme:p.scheme,netLoc:h.netLoc,path:null,params:h.params,query:h.query,fragment:h.fragment};if(!h.netLoc&&(v.netLoc=p.netLoc,h.path[0]!=="/"))if(!h.path)v.path=p.path,h.params||(v.params=p.params,h.query||(v.query=p.query));else{var y=p.path,x=y.substring(0,y.lastIndexOf("/")+1)+h.path;v.path=a.normalizePath(x)}return v.path===null&&(v.path=d.alwaysNormalize?a.normalizePath(h.path):h.path),a.buildURLFromParts(v)},parseURL:function(l){var u=r.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(s,"");l.length!==(l=l.replace(o,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=a})()})(ert);var woe=ert.exports;function gje(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gje(Object(n),!0).forEach(function(r){dmr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gje(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dmr(t,e,n){return e=hmr(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ba(){return Ba=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ba.apply(this,arguments)}function fmr(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hmr(t){var e=fmr(t,"string");return typeof e=="symbol"?e:String(e)}const pn=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)};let ee=function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t}({}),kn=function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t}({}),Ze=function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.UNKNOWN="unknown",t}({});const Lb=function(){},BZ={trace:Lb,debug:Lb,log:Lb,warn:Lb,info:Lb,error:Lb};let Qk=BZ;function pmr(t){const e=self.console[t];return e?e.bind(self.console,`[${t}] >`):Lb}function mmr(t,...e){e.forEach(function(n){Qk[n]=t[n]?t[n].bind(t):pmr(n)})}function gmr(t,e){if(self.console&&t===!0||typeof t=="object"){mmr(t,"debug","log","info","warn","error");try{Qk.log(`Debug logs enabled for "${e}" in hls.js version 1.4.10`)}catch{Qk=BZ}}else Qk=BZ}const Le=Qk,vmr=/^(\d+)x(\d+)$/,vje=/(.+?)=(".*?"|.*?)(?:,|$)/g;class ro{constructor(e){typeof e=="string"&&(e=ro.parseAttrList(e));for(const n in e)e.hasOwnProperty(n)&&(n.substring(0,2)==="X-"&&(this.clientAttrs=this.clientAttrs||[],this.clientAttrs.push(n)),this[n]=e[n])}decimalInteger(e){const n=parseInt(this[e],10);return n>Number.MAX_SAFE_INTEGER?1/0:n}hexadecimalInteger(e){if(this[e]){let n=(this[e]||"0x").slice(2);n=(n.length&1?"0":"")+n;const r=new Uint8Array(n.length/2);for(let i=0;i<n.length/2;i++)r[i]=parseInt(n.slice(i*2,i*2+2),16);return r}else return null}hexadecimalIntegerAsNumber(e){const n=parseInt(this[e],16);return n>Number.MAX_SAFE_INTEGER?1/0:n}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,n){const r=this[e];return r?parseFloat(r):n}enumeratedString(e){return this[e]}bool(e){return this[e]==="YES"}decimalResolution(e){const n=vmr.exec(this[e]);if(n!==null)return{width:parseInt(n[1],10),height:parseInt(n[2],10)}}static parseAttrList(e){let n;const r={},i='"';for(vje.lastIndex=0;(n=vje.exec(e))!==null;){let s=n[2];s.indexOf(i)===0&&s.lastIndexOf(i)===s.length-1&&(s=s.slice(1,-1));const o=n[1].trim();r[o]=s}return r}}function ymr(t){return t!=="ID"&&t!=="CLASS"&&t!=="START-DATE"&&t!=="DURATION"&&t!=="END-DATE"&&t!=="END-ON-NEXT"}function bmr(t){return t==="SCTE35-OUT"||t==="SCTE35-IN"}class trt{constructor(e,n){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,n){const r=n.attr;for(const i in r)if(Object.prototype.hasOwnProperty.call(e,i)&&e[i]!==r[i]){Le.warn(`DATERANGE tag attribute: "${i}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=i;break}e=Ba(new ro({}),r,e)}if(this.attr=e,this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const r=new Date(this.attr["END-DATE"]);pn(r.getTime())&&(this._endDate=r)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const e=this.duration;return e!==null?new Date(this._startDate.getTime()+e*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(pn(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&pn(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class NF{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var Yi={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class nrt{constructor(e){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={[Yi.AUDIO]:null,[Yi.VIDEO]:null,[Yi.AUDIOVIDEO]:null},this.baseurl=e}setByteRange(e,n){const r=e.split("@",2),i=[];r.length===1?i[0]=n?n.byteRangeEndOffset:0:i[0]=parseInt(r[1]),i[1]=parseInt(r[0])+i[0],this._byteRange=i}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=woe.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}}class Mz extends nrt{constructor(e,n){super(n),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new NF,this.urlId=0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.type=e}get decryptdata(){const{levelkeys:e}=this;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const n=this.levelkeys.identity;if(n)this._decryptdata=n.getDecryptData(this.sn);else{const r=Object.keys(this.levelkeys);if(r.length===1)return this._decryptdata=this.levelkeys[r[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null||!pn(this.programDateTime))return null;const e=pn(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){const n=Object.keys(this.levelkeys),r=n.length;if(r>1||r===1&&this.levelkeys[n[0]].encrypted)return!0}return!1}setKeyFormat(e){if(this.levelkeys){const n=this.levelkeys[e];n&&!this._decryptdata&&(this._decryptdata=n.getDecryptData(this.sn))}}abortRequests(){var e,n;(e=this.loader)==null||e.abort(),(n=this.keyLoader)==null||n.abort()}setElementaryStreamInfo(e,n,r,i,s,o=!1){const{elementaryStreams:a}=this,l=a[e];if(!l){a[e]={startPTS:n,endPTS:r,startDTS:i,endDTS:s,partial:o};return}l.startPTS=Math.min(l.startPTS,n),l.endPTS=Math.max(l.endPTS,r),l.startDTS=Math.min(l.startDTS,i),l.endDTS=Math.max(l.endDTS,s)}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[Yi.AUDIO]=null,e[Yi.VIDEO]=null,e[Yi.AUDIOVIDEO]=null}}let xmr=class extends nrt{constructor(e,n,r,i,s){super(r),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new NF,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=n,this.index=i;const o=e.enumeratedString("BYTERANGE");o&&this.setByteRange(o,s),s&&(this.fragOffset=s.fragOffset+s.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}};const wmr=10;class _mr{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const n=this.lastPartSn-e.lastPartSn,r=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!r||!!n,this.advanced=this.endSN>e.endSN||n>0||n===0&&r>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay}get hasProgramDateTime(){return this.fragments.length?pn(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||wmr}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var e;return(e=this.fragments)!=null&&e.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function _oe(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}function Cmr(t){const e=rrt(t).subarray(0,16),n=new Uint8Array(16);return n.set(e,16-e.length),n}function Emr(t){const e=function(r,i,s){const o=r[i];r[i]=r[s],r[s]=o};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}function Smr(t){const e=t.split(":");let n=null;if(e[0]==="data"&&e.length===2){const r=e[1].split(";"),i=r[r.length-1].split(",");if(i.length===2){const s=i[0]==="base64",o=i[1];s?(r.splice(-1,1),n=_oe(o)):n=Cmr(o)}}return n}function rrt(t){return Uint8Array.from(unescape(encodeURIComponent(t)),e=>e.charCodeAt(0))}var uo={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},kc={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function yje(t){switch(t){case kc.FAIRPLAY:return uo.FAIRPLAY;case kc.PLAYREADY:return uo.PLAYREADY;case kc.WIDEVINE:return uo.WIDEVINE;case kc.CLEARKEY:return uo.CLEARKEY}}var irt={WIDEVINE:"edef8ba979d64acea3c827dcd51d21ed"};function Tmr(t){if(t===irt.WIDEVINE)return uo.WIDEVINE}function bje(t){switch(t){case uo.FAIRPLAY:return kc.FAIRPLAY;case uo.PLAYREADY:return kc.PLAYREADY;case uo.WIDEVINE:return kc.WIDEVINE;case uo.CLEARKEY:return kc.CLEARKEY}}function $z(t){const{drmSystems:e,widevineLicenseUrl:n}=t,r=e?[uo.FAIRPLAY,uo.WIDEVINE,uo.PLAYREADY,uo.CLEARKEY].filter(i=>!!e[i]):[];return!r[uo.WIDEVINE]&&n&&r.push(uo.WIDEVINE),r}const srt=function(){return typeof self<"u"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function kmr(t,e,n,r){let i;switch(t){case uo.FAIRPLAY:i=["cenc","sinf"];break;case uo.WIDEVINE:case uo.PLAYREADY:i=["cenc"];break;case uo.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${t}`)}return Amr(i,e,n,r)}function Amr(t,e,n,r){return[{initDataTypes:t,persistentState:r.persistentState||"not-allowed",distinctiveIdentifier:r.distinctiveIdentifier||"not-allowed",sessionTypes:r.sessionTypes||[r.sessionType||"temporary"],audioCapabilities:e.map(s=>({contentType:`audio/mp4; codecs="${s}"`,robustness:r.audioRobustness||"",encryptionScheme:r.audioEncryptionScheme||null})),videoCapabilities:n.map(s=>({contentType:`video/mp4; codecs="${s}"`,robustness:r.videoRobustness||"",encryptionScheme:r.videoEncryptionScheme||null}))}]}function Ax(t,e,n){return Uint8Array.prototype.slice?t.slice(e,n):new Uint8Array(Array.prototype.slice.call(t,e,n))}const Coe=(t,e)=>e+10<=t.length&&t[e]===73&&t[e+1]===68&&t[e+2]===51&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,ort=(t,e)=>e+10<=t.length&&t[e]===51&&t[e+1]===68&&t[e+2]===73&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,D8=(t,e)=>{const n=e;let r=0;for(;Coe(t,e);){r+=10;const i=VF(t,e+6);r+=i,ort(t,e+10)&&(r+=10),e+=r}if(r>0)return t.subarray(n,n+r)},VF=(t,e)=>{let n=0;return n=(t[e]&127)<<21,n|=(t[e+1]&127)<<14,n|=(t[e+2]&127)<<7,n|=t[e+3]&127,n},Imr=(t,e)=>Coe(t,e)&&VF(t,e+6)+10<=t.length-e,Dmr=t=>{const e=lrt(t);for(let n=0;n<e.length;n++){const r=e[n];if(art(r))return Mmr(r)}},art=t=>t&&t.key==="PRIV"&&t.info==="com.apple.streaming.transportStreamTimestamp",Rmr=t=>{const e=String.fromCharCode(t[0],t[1],t[2],t[3]),n=VF(t,4),r=10;return{type:e,size:n,data:t.subarray(r,r+n)}},lrt=t=>{let e=0;const n=[];for(;Coe(t,e);){const r=VF(t,e+6);e+=10;const i=e+r;for(;e+8<i;){const s=Rmr(t.subarray(e)),o=jmr(s);o&&n.push(o),e+=s.size+10}ort(t,e)&&(e+=10)}return n},jmr=t=>t.type==="PRIV"?Omr(t):t.type[0]==="W"?Pmr(t):Lmr(t),Omr=t=>{if(t.size<2)return;const e=dm(t.data,!0),n=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:n.buffer}},Lmr=t=>{if(t.size<2)return;if(t.type==="TXXX"){let n=1;const r=dm(t.data.subarray(n),!0);n+=r.length+1;const i=dm(t.data.subarray(n));return{key:t.type,info:r,data:i}}const e=dm(t.data.subarray(1));return{key:t.type,data:e}},Pmr=t=>{if(t.type==="WXXX"){if(t.size<2)return;let n=1;const r=dm(t.data.subarray(n),!0);n+=r.length+1;const i=dm(t.data.subarray(n));return{key:t.type,info:r,data:i}}const e=dm(t.data);return{key:t.type,data:e}},Mmr=t=>{if(t.data.byteLength===8){const e=new Uint8Array(t.data),n=e[3]&1;let r=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return r/=45,n&&(r+=4772185884e-2),Math.round(r)}},dm=(t,e=!1)=>{const n=$mr();if(n){const u=n.decode(t);if(e){const d=u.indexOf("\0");return d!==-1?u.substring(0,d):u}return u.replace(/\0/g,"")}const r=t.length;let i,s,o,a="",l=0;for(;l<r;){if(i=t[l++],i===0&&e)return a;if(i===0||i===3)continue;switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(i);break;case 12:case 13:s=t[l++],a+=String.fromCharCode((i&31)<<6|s&63);break;case 14:s=t[l++],o=t[l++],a+=String.fromCharCode((i&15)<<12|(s&63)<<6|(o&63)<<0);break}}return a};let Fz;function $mr(){return!Fz&&typeof self.TextDecoder<"u"&&(Fz=new self.TextDecoder("utf-8")),Fz}const Lp={hexDump:function(t){let e="";for(let n=0;n<t.length;n++){let r=t[n].toString(16);r.length<2&&(r="0"+r),e+=r}return e}},R8=Math.pow(2,32)-1,Fmr=[].push,urt={video:1,audio:2,id3:3,text:4};function xl(t){return String.fromCharCode.apply(null,t)}function crt(t,e){const n=t[e]<<8|t[e+1];return n<0?65536+n:n}function Nn(t,e){const n=drt(t,e);return n<0?4294967296+n:n}function drt(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function Bz(t,e,n){t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=n&255}function Qr(t,e){const n=[];if(!e.length)return n;const r=t.byteLength;for(let i=0;i<r;){const s=Nn(t,i),o=xl(t.subarray(i+4,i+8)),a=s>1?i+s:r;if(o===e[0])if(e.length===1)n.push(t.subarray(i+8,a));else{const l=Qr(t.subarray(i+8,a),e.slice(1));l.length&&Fmr.apply(n,l)}i=a}return n}function Bmr(t){const e=[],n=t[0];let r=8;const i=Nn(t,r);r+=4;const s=0,o=0;n===0?r+=8:r+=16,r+=2;let a=t.length+o;const l=crt(t,r);r+=2;for(let u=0;u<l;u++){let d=r;const f=Nn(t,d);d+=4;const h=f&2147483647;if((f&2147483648)>>>31===1)return Le.warn("SIDX has hierarchical references (not supported)"),null;const g=Nn(t,d);d+=4,e.push({referenceSize:h,subsegmentDuration:g,info:{duration:g/i,start:a,end:a+h-1}}),a+=h,d+=4,r=d}return{earliestPresentationTime:s,timescale:i,version:n,referencesCount:l,references:e}}function frt(t){const e=[],n=Qr(t,["moov","trak"]);for(let i=0;i<n.length;i++){const s=n[i],o=Qr(s,["tkhd"])[0];if(o){let a=o[0],l=a===0?12:20;const u=Nn(o,l),d=Qr(s,["mdia","mdhd"])[0];if(d){a=d[0],l=a===0?12:20;const f=Nn(d,l),h=Qr(s,["mdia","hdlr"])[0];if(h){const p=xl(h.subarray(8,12)),g={soun:Yi.AUDIO,vide:Yi.VIDEO}[p];if(g){const v=Qr(s,["mdia","minf","stbl","stsd"])[0];let y;v&&(y=xl(v.subarray(12,16))),e[u]={timescale:f,type:g},e[g]={timescale:f,id:u,codec:y}}}}}}return Qr(t,["moov","mvex","trex"]).forEach(i=>{const s=Nn(i,4),o=e[s];o&&(o.default={duration:Nn(i,12),flags:Nn(i,20)})}),e}function Nmr(t,e){if(!t||!e)return t;const n=e.keyId;return n&&e.isCommonEncryption&&Qr(t,["moov","trak"]).forEach(i=>{const o=Qr(i,["mdia","minf","stbl","stsd"])[0].subarray(8);let a=Qr(o,["enca"]);const l=a.length>0;l||(a=Qr(o,["encv"])),a.forEach(u=>{const d=l?u.subarray(28):u.subarray(78);Qr(d,["sinf"]).forEach(h=>{const p=hrt(h);if(p){const g=p.subarray(8,24);g.some(v=>v!==0)||(Le.log(`[eme] Patching keyId in 'enc${l?"a":"v"}>sinf>>tenc' box: ${Lp.hexDump(g)} -> ${Lp.hexDump(n)}`),p.set(n,8))}})})}),t}function hrt(t){const e=Qr(t,["schm"])[0];if(e){const n=xl(e.subarray(4,8));if(n==="cbcs"||n==="cenc")return Qr(t,["schi","tenc"])[0]}return Le.error("[eme] missing 'schm' box"),null}function Vmr(t,e){return Qr(e,["moof","traf"]).reduce((n,r)=>{const i=Qr(r,["tfdt"])[0],s=i[0],o=Qr(r,["tfhd"]).reduce((a,l)=>{const u=Nn(l,4),d=t[u];if(d){let f=Nn(i,4);if(s===1){if(f===R8)return Le.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),a;f*=R8+1,f+=Nn(i,8)}const h=d.timescale||9e4,p=f/h;if(isFinite(p)&&(a===null||p<a))return p}return a},null);return o!==null&&isFinite(o)&&(n===null||o<n)?o:n},null)}function Umr(t,e){let n=0,r=0,i=0;const s=Qr(t,["moof","traf"]);for(let o=0;o<s.length;o++){const a=s[o],l=Qr(a,["tfhd"])[0],u=Nn(l,4),d=e[u];if(!d)continue;const f=d.default,h=Nn(l,0)|(f==null?void 0:f.flags);let p=f==null?void 0:f.duration;h&8&&(h&2?p=Nn(l,12):p=Nn(l,8));const g=d.timescale||9e4,v=Qr(a,["trun"]);for(let y=0;y<v.length;y++){if(n=Hmr(v[y]),!n&&p){const x=Nn(v[y],4);n=p*x}d.type===Yi.VIDEO?r+=n/g:d.type===Yi.AUDIO&&(i+=n/g)}}if(r===0&&i===0){let o=0;const a=Qr(t,["sidx"]);for(let l=0;l<a.length;l++){const u=Bmr(a[l]);u!=null&&u.references&&(o+=u.references.reduce((d,f)=>d+f.info.duration||0,0))}return o}return r||i}function Hmr(t){const e=Nn(t,0);let n=8;e&1&&(n+=4),e&4&&(n+=4);let r=0;const i=Nn(t,4);for(let s=0;s<i;s++){if(e&256){const o=Nn(t,n);r+=o,n+=4}e&512&&(n+=4),e&1024&&(n+=4),e&2048&&(n+=4)}return r}function zmr(t,e,n){Qr(e,["moof","traf"]).forEach(r=>{Qr(r,["tfhd"]).forEach(i=>{const s=Nn(i,4),o=t[s];if(!o)return;const a=o.timescale||9e4;Qr(r,["tfdt"]).forEach(l=>{const u=l[0];let d=Nn(l,4);if(u===0)d-=n*a,d=Math.max(d,0),Bz(l,4,d);else{d*=Math.pow(2,32),d+=Nn(l,8),d-=n*a,d=Math.max(d,0);const f=Math.floor(d/(R8+1)),h=Math.floor(d%(R8+1));Bz(l,4,f),Bz(l,8,h)}})})})}function Wmr(t){const e={valid:null,remainder:null},n=Qr(t,["moof"]);if(n){if(n.length<2)return e.remainder=t,e}else return e;const r=n[n.length-1];return e.valid=Ax(t,0,r.byteOffset-8),e.remainder=Ax(t,r.byteOffset-8),e}function Qx(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}function xje(t,e){const n=[],r=e.samples,i=e.timescale,s=e.id;let o=!1;return Qr(r,["moof"]).map(l=>{const u=l.byteOffset-8;Qr(l,["traf"]).map(f=>{const h=Qr(f,["tfdt"]).map(p=>{const g=p[0];let v=Nn(p,4);return g===1&&(v*=Math.pow(2,32),v+=Nn(p,8)),v/i})[0];return h!==void 0&&(t=h),Qr(f,["tfhd"]).map(p=>{const g=Nn(p,4),v=Nn(p,0)&16777215,y=(v&1)!==0,x=(v&2)!==0,b=(v&8)!==0;let _=0;const C=(v&16)!==0;let S=0;const T=(v&32)!==0;let A=8;g===s&&(y&&(A+=8),x&&(A+=4),b&&(_=Nn(p,A),A+=4),C&&(S=Nn(p,A),A+=4),T&&(A+=4),e.type==="video"&&(o=Gmr(e.codec)),Qr(f,["trun"]).map(k=>{const I=k[0],D=Nn(k,0)&16777215,R=(D&1)!==0;let O=0;const L=(D&4)!==0,P=(D&256)!==0;let $=0;const B=(D&512)!==0;let Q=0;const V=(D&1024)!==0,Z=(D&2048)!==0;let ie=0;const J=Nn(k,4);let X=8;R&&(O=Nn(k,X),X+=4),L&&(X+=4);let fe=O+u;for(let ue=0;ue<J;ue++){if(P?($=Nn(k,X),X+=4):$=_,B?(Q=Nn(k,X),X+=4):Q=S,V&&(X+=4),Z&&(I===0?ie=Nn(k,X):ie=drt(k,X),X+=4),e.type===Yi.VIDEO){let te=0;for(;te<Q;){const F=Nn(r,fe);if(fe+=4,qmr(o,r[fe])){const ne=r.subarray(fe,fe+F);prt(ne,o?2:1,t+ie/i,n)}fe+=F,te+=F+4}}t+=$/i}}))})})}),n}function Gmr(t){if(!t)return!1;const e=t.indexOf("."),n=e<0?t:t.substring(0,e);return n==="hvc1"||n==="hev1"||n==="dvh1"||n==="dvhe"}function qmr(t,e){if(t){const n=e>>1&63;return n===39||n===40}else return(e&31)===6}function prt(t,e,n,r){const i=mrt(t);let s=0;s+=e;let o=0,a=0,l=!1,u=0;for(;s<i.length;){o=0;do{if(s>=i.length)break;u=i[s++],o+=u}while(u===255);a=0;do{if(s>=i.length)break;u=i[s++],a+=u}while(u===255);const d=i.length-s;if(!l&&o===4&&s<i.length){if(l=!0,i[s++]===181){const h=crt(i,s);if(s+=2,h===49){const p=Nn(i,s);if(s+=4,p===1195456820){const g=i[s++];if(g===3){const v=i[s++],y=31&v,x=64&v,b=x?2+y*3:0,_=new Uint8Array(b);if(x){_[0]=v;for(let C=1;C<b;C++)_[C]=i[s++]}r.push({type:g,payloadType:o,pts:n,bytes:_})}}}}}else if(o===5&&a<d){if(l=!0,a>16){const f=[];for(let g=0;g<16;g++){const v=i[s++].toString(16);f.push(v.length==1?"0"+v:v),(g===3||g===5||g===7||g===9)&&f.push("-")}const h=a-16,p=new Uint8Array(h);for(let g=0;g<h;g++)p[g]=i[s++];r.push({payloadType:o,pts:n,uuid:f.join(""),userData:dm(p),userDataBytes:p})}}else if(a<d)s+=a;else if(a>d)break}}function mrt(t){const e=t.byteLength,n=[];let r=1;for(;r<e-2;)t[r]===0&&t[r+1]===0&&t[r+2]===3?(n.push(r+2),r+=2):r++;if(n.length===0)return t;const i=e-n.length,s=new Uint8Array(i);let o=0;for(r=0;r<i;o++,r++)o===n[0]&&(o++,n.shift()),s[r]=t[o];return s}function Ymr(t){const e=t[0];let n="",r="",i=0,s=0,o=0,a=0,l=0,u=0;if(e===0){for(;xl(t.subarray(u,u+1))!=="\0";)n+=xl(t.subarray(u,u+1)),u+=1;for(n+=xl(t.subarray(u,u+1)),u+=1;xl(t.subarray(u,u+1))!=="\0";)r+=xl(t.subarray(u,u+1)),u+=1;r+=xl(t.subarray(u,u+1)),u+=1,i=Nn(t,12),s=Nn(t,16),a=Nn(t,20),l=Nn(t,24),u=28}else if(e===1){u+=4,i=Nn(t,u),u+=4;const f=Nn(t,u);u+=4;const h=Nn(t,u);for(u+=4,o=2**32*f+h,Number.isSafeInteger(o)||(o=Number.MAX_SAFE_INTEGER,Le.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),a=Nn(t,u),u+=4,l=Nn(t,u),u+=4;xl(t.subarray(u,u+1))!=="\0";)n+=xl(t.subarray(u,u+1)),u+=1;for(n+=xl(t.subarray(u,u+1)),u+=1;xl(t.subarray(u,u+1))!=="\0";)r+=xl(t.subarray(u,u+1)),u+=1;r+=xl(t.subarray(u,u+1)),u+=1}const d=t.subarray(u,t.byteLength);return{schemeIdUri:n,value:r,timeScale:i,presentationTime:o,presentationTimeDelta:s,eventDuration:a,id:l,payload:d}}function Kmr(t,...e){const n=e.length;let r=8,i=n;for(;i--;)r+=e[i].byteLength;const s=new Uint8Array(r);for(s[0]=r>>24&255,s[1]=r>>16&255,s[2]=r>>8&255,s[3]=r&255,s.set(t,4),i=0,r=8;i<n;i++)s.set(e[i],r),r+=e[i].byteLength;return s}function Zmr(t,e,n){if(t.byteLength!==16)throw new RangeError("Invalid system id");let r,i;if(e){r=1,i=new Uint8Array(e.length*16);for(let a=0;a<e.length;a++){const l=e[a];if(l.byteLength!==16)throw new RangeError("Invalid key");i.set(l,a*16)}}else r=0,i=new Uint8Array;let s;r>0?(s=new Uint8Array(4),e.length>0&&new DataView(s.buffer).setUint32(0,e.length,!1)):s=new Uint8Array;const o=new Uint8Array(4);return n&&n.byteLength>0&&new DataView(o.buffer).setUint32(0,n.byteLength,!1),Kmr([112,115,115,104],new Uint8Array([r,0,0,0]),t,s,i,o,n||new Uint8Array)}function Xmr(t){if(!(t instanceof ArrayBuffer)||t.byteLength<32)return null;const e={version:0,systemId:"",kids:null,data:null},n=new DataView(t),r=n.getUint32(0);if(t.byteLength!==r&&r>44||n.getUint32(4)!==1886614376||(e.version=n.getUint32(8)>>>24,e.version>1))return null;e.systemId=Lp.hexDump(new Uint8Array(t,12,16));const s=n.getUint32(28);if(e.version===0){if(r-32<s)return null;e.data=new Uint8Array(t,32,s)}else if(e.version===1){e.kids=[];for(let o=0;o<s;o++)e.kids.push(new Uint8Array(t,32+o*16,16))}return e}let Dj={};class D3{static clearKeyUriToKeyIdMap(){Dj={}}constructor(e,n,r,i=[1],s=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=n,this.keyFormat=r,this.keyFormatVersions=i,this.iv=s,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&e!=="AES-128"}isSupported(){if(this.method){if(this.method==="AES-128"||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case kc.FAIRPLAY:case kc.WIDEVINE:case kc.PLAYREADY:case kc.CLEARKEY:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e){if(!this.encrypted||!this.uri)return null;if(this.method==="AES-128"&&this.uri&&!this.iv){typeof e!="number"&&(this.method==="AES-128"&&!this.iv&&Le.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0);const r=Qmr(e);return new D3(this.method,this.uri,"identity",this.keyFormatVersions,r)}const n=Smr(this.uri);if(n)switch(this.keyFormat){case kc.WIDEVINE:this.pssh=n,n.length>=22&&(this.keyId=n.subarray(n.length-22,n.length-6));break;case kc.PLAYREADY:{const r=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=Zmr(r,null,n);const i=new Uint16Array(n.buffer,n.byteOffset,n.byteLength/2),s=String.fromCharCode.apply(null,Array.from(i)),o=s.substring(s.indexOf("<"),s.length),u=new DOMParser().parseFromString(o,"text/xml").getElementsByTagName("KID")[0];if(u){const d=u.childNodes[0]?u.childNodes[0].nodeValue:u.getAttribute("VALUE");if(d){const f=_oe(d).subarray(0,16);Emr(f),this.keyId=f}}break}default:{let r=n.subarray(0,16);if(r.length!==16){const i=new Uint8Array(16);i.set(r,16-r.length),r=i}this.keyId=r;break}}if(!this.keyId||this.keyId.byteLength!==16){let r=Dj[this.uri];if(!r){const i=Object.keys(Dj).length%Number.MAX_SAFE_INTEGER;r=new Uint8Array(16),new DataView(r.buffer,12,4).setUint32(0,i),Dj[this.uri]=r}this.keyId=r}return this}}function Qmr(t){const e=new Uint8Array(16);for(let n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e}const grt=/\{\$([a-zA-Z0-9-_]+)\}/g;function wje(t){return grt.test(t)}function vc(t,e,n){if(t.variableList!==null||t.hasVariableRefs)for(let r=n.length;r--;){const i=n[r],s=e[i];s&&(e[i]=NZ(t,s))}}function NZ(t,e){if(t.variableList!==null||t.hasVariableRefs){const n=t.variableList;return e.replace(grt,r=>{const i=r.substring(2,r.length-1),s=n==null?void 0:n[i];return s===void 0?(t.playlistParsingError||(t.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${i}"`)),r):s})}return e}function _je(t,e,n){let r=t.variableList;r||(t.variableList=r={});let i,s;if("QUERYPARAM"in e){i=e.QUERYPARAM;try{const o=new self.URL(n).searchParams;if(o.has(i))s=o.get(i);else throw new Error(`"${i}" does not match any query parameter in URI: "${n}"`)}catch(o){t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${o.message}`))}}else i=e.NAME,s=e.VALUE;i in r?t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${i}"`)):r[i]=s||""}function Jmr(t,e,n){const r=e.IMPORT;if(n&&r in n){let i=t.variableList;i||(t.variableList=i={}),i[r]=n[r]}else t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${r}"`))}function UF(){if(!(typeof self>"u"))return self.MediaSource||self.WebKitMediaSource}const egr={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}},Cje=UF();function tgr(t,e){const n=egr[e];return!!n&&n[t.slice(0,4)]===!0}function Nz(t,e){var n;return(n=Cje==null?void 0:Cje.isTypeSupported(`${e||"video"}/mp4;codecs="${t}"`))!=null?n:!1}const Eje=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,Sje=/#EXT-X-MEDIA:(.*)/g,ngr=/^#EXT(?:INF|-X-TARGETDURATION):/m,Tje=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),rgr=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class _h{static findGroup(e,n){for(let r=0;r<e.length;r++){const i=e[r];if(i.id===n)return i}}static convertAVC1ToAVCOTI(e){const n=e.split(".");if(n.length>2){let r=n.shift()+".";return r+=parseInt(n.shift()).toString(16),r+=("000"+parseInt(n.shift()).toString(16)).slice(-4),r}return e}static resolve(e,n){return woe.buildAbsoluteURL(n,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return ngr.test(e)}static parseMasterPlaylist(e,n){const r=wje(e),i={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:r},s=[];Eje.lastIndex=0;let o;for(;(o=Eje.exec(e))!=null;)if(o[1]){var a;const u=new ro(o[1]);vc(i,u,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const d=NZ(i,o[2]),f={attrs:u,bitrate:u.decimalInteger("AVERAGE-BANDWIDTH")||u.decimalInteger("BANDWIDTH"),name:u.NAME,url:_h.resolve(d,n)},h=u.decimalResolution("RESOLUTION");h&&(f.width=h.width,f.height=h.height),igr((u.CODECS||"").split(/[ ,]+/).filter(p=>p),f),f.videoCodec&&f.videoCodec.indexOf("avc1")!==-1&&(f.videoCodec=_h.convertAVC1ToAVCOTI(f.videoCodec)),(a=f.unknownCodecs)!=null&&a.length||s.push(f),i.levels.push(f)}else if(o[3]){const u=o[3],d=o[4];switch(u){case"SESSION-DATA":{const f=new ro(d);vc(i,f,["DATA-ID","LANGUAGE","VALUE","URI"]);const h=f["DATA-ID"];h&&(i.sessionData===null&&(i.sessionData={}),i.sessionData[h]=f);break}case"SESSION-KEY":{const f=kje(d,n,i);f.encrypted&&f.isSupported()?(i.sessionKeys===null&&(i.sessionKeys=[]),i.sessionKeys.push(f)):Le.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${d}"`);break}case"DEFINE":{{const f=new ro(d);vc(i,f,["NAME","VALUE","QUERYPARAM"]),_je(i,f,n)}break}case"CONTENT-STEERING":{const f=new ro(d);vc(i,f,["SERVER-URI","PATHWAY-ID"]),i.contentSteering={uri:_h.resolve(f["SERVER-URI"],n),pathwayId:f["PATHWAY-ID"]||"."};break}case"START":{i.startTimeOffset=Aje(d);break}}}const l=s.length>0&&s.length<i.levels.length;return i.levels=l?s:i.levels,i.levels.length===0&&(i.playlistParsingError=new Error("no levels found in manifest")),i}static parseMasterPlaylistMedia(e,n,r){let i;const s={},o=r.levels,a={AUDIO:o.map(u=>({id:u.attrs.AUDIO,audioCodec:u.audioCodec})),SUBTITLES:o.map(u=>({id:u.attrs.SUBTITLES,textCodec:u.textCodec})),"CLOSED-CAPTIONS":[]};let l=0;for(Sje.lastIndex=0;(i=Sje.exec(e))!==null;){const u=new ro(i[1]),d=u.TYPE;if(d){const f=a[d],h=s[d]||[];s[d]=h,vc(r,u,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const p={attrs:u,bitrate:0,id:l++,groupId:u["GROUP-ID"]||"",instreamId:u["INSTREAM-ID"],name:u.NAME||u.LANGUAGE||"",type:d,default:u.bool("DEFAULT"),autoselect:u.bool("AUTOSELECT"),forced:u.bool("FORCED"),lang:u.LANGUAGE,url:u.URI?_h.resolve(u.URI,n):""};if(f!=null&&f.length){const g=_h.findGroup(f,p.groupId)||f[0];Ije(p,g,"audioCodec"),Ije(p,g,"textCodec")}h.push(p)}}return s}static parseLevelPlaylist(e,n,r,i,s,o){const a=new _mr(n),l=a.fragments;let u=null,d=0,f=0,h=0,p=0,g=null,v=new Mz(i,n),y,x,b,_=-1,C=!1;for(Tje.lastIndex=0,a.m3u8=e,a.hasVariableRefs=wje(e);(y=Tje.exec(e))!==null;){C&&(C=!1,v=new Mz(i,n),v.start=h,v.sn=d,v.cc=p,v.level=r,u&&(v.initSegment=u,v.rawProgramDateTime=u.rawProgramDateTime,u.rawProgramDateTime=null));const k=y[1];if(k){v.duration=parseFloat(k);const I=(" "+y[2]).slice(1);v.title=I||null,v.tagList.push(I?["INF",k,I]:["INF",k])}else if(y[3]){if(pn(v.duration)){v.start=h,b&&jje(v,b,a),v.sn=d,v.level=r,v.cc=p,v.urlId=s,l.push(v);const I=(" "+y[3]).slice(1);v.relurl=NZ(a,I),Dje(v,g),g=v,h+=v.duration,d++,f=0,C=!0}}else if(y[4]){const I=(" "+y[4]).slice(1);g?v.setByteRange(I,g):v.setByteRange(I)}else if(y[5])v.rawProgramDateTime=(" "+y[5]).slice(1),v.tagList.push(["PROGRAM-DATE-TIME",v.rawProgramDateTime]),_===-1&&(_=l.length);else{if(y=y[0].match(rgr),!y){Le.warn("No matches on slow regex match for level playlist!");continue}for(x=1;x<y.length&&!(typeof y[x]<"u");x++);const I=(" "+y[x]).slice(1),D=(" "+y[x+1]).slice(1),R=y[x+2]?(" "+y[x+2]).slice(1):"";switch(I){case"PLAYLIST-TYPE":a.type=D.toUpperCase();break;case"MEDIA-SEQUENCE":d=a.startSN=parseInt(D);break;case"SKIP":{const O=new ro(D);vc(a,O,["RECENTLY-REMOVED-DATERANGES"]);const L=O.decimalInteger("SKIPPED-SEGMENTS");if(pn(L)){a.skippedSegments=L;for(let $=L;$--;)l.unshift(null);d+=L}const P=O.enumeratedString("RECENTLY-REMOVED-DATERANGES");P&&(a.recentlyRemovedDateranges=P.split("	"));break}case"TARGETDURATION":a.targetduration=Math.max(parseInt(D),1);break;case"VERSION":a.version=parseInt(D);break;case"EXTM3U":break;case"ENDLIST":a.live=!1;break;case"#":(D||R)&&v.tagList.push(R?[D,R]:[D]);break;case"DISCONTINUITY":p++,v.tagList.push(["DIS"]);break;case"GAP":v.gap=!0,v.tagList.push([I]);break;case"BITRATE":v.tagList.push([I,D]);break;case"DATERANGE":{const O=new ro(D);vc(a,O,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),vc(a,O,O.clientAttrs);const L=new trt(O,a.dateRanges[O.ID]);L.isValid||a.skippedSegments?a.dateRanges[L.id]=L:Le.warn(`Ignoring invalid DATERANGE tag: "${D}"`),v.tagList.push(["EXT-X-DATERANGE",D]);break}case"DEFINE":{{const O=new ro(D);vc(a,O,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in O?Jmr(a,O,o):_je(a,O,n)}break}case"DISCONTINUITY-SEQUENCE":p=parseInt(D);break;case"KEY":{const O=kje(D,n,a);if(O.isSupported()){if(O.method==="NONE"){b=void 0;break}b||(b={}),b[O.keyFormat]&&(b=Ba({},b)),b[O.keyFormat]=O}else Le.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${D}"`);break}case"START":a.startTimeOffset=Aje(D);break;case"MAP":{const O=new ro(D);if(vc(a,O,["BYTERANGE","URI"]),v.duration){const L=new Mz(i,n);Rje(L,O,r,b),u=L,v.initSegment=u,u.rawProgramDateTime&&!v.rawProgramDateTime&&(v.rawProgramDateTime=u.rawProgramDateTime)}else Rje(v,O,r,b),u=v,C=!0;break}case"SERVER-CONTROL":{const O=new ro(D);a.canBlockReload=O.bool("CAN-BLOCK-RELOAD"),a.canSkipUntil=O.optionalFloat("CAN-SKIP-UNTIL",0),a.canSkipDateRanges=a.canSkipUntil>0&&O.bool("CAN-SKIP-DATERANGES"),a.partHoldBack=O.optionalFloat("PART-HOLD-BACK",0),a.holdBack=O.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const O=new ro(D);a.partTarget=O.decimalFloatingPoint("PART-TARGET");break}case"PART":{let O=a.partList;O||(O=a.partList=[]);const L=f>0?O[O.length-1]:void 0,P=f++,$=new ro(D);vc(a,$,["BYTERANGE","URI"]);const B=new xmr($,v,n,P,L);O.push(B),v.duration+=B.duration;break}case"PRELOAD-HINT":{const O=new ro(D);vc(a,O,["URI"]),a.preloadHint=O;break}case"RENDITION-REPORT":{const O=new ro(D);vc(a,O,["URI"]),a.renditionReports=a.renditionReports||[],a.renditionReports.push(O);break}default:Le.warn(`line parsed but not handled: ${y}`);break}}}g&&!g.relurl?(l.pop(),h-=g.duration,a.partList&&(a.fragmentHint=g)):a.partList&&(Dje(v,g),v.cc=p,a.fragmentHint=v,b&&jje(v,b,a));const S=l.length,T=l[0],A=l[S-1];if(h+=a.skippedSegments*a.targetduration,h>0&&S&&A){a.averagetargetduration=h/S;const k=A.sn;a.endSN=k!=="initSegment"?k:0,a.live||(A.endList=!0),T&&(a.startCC=T.cc)}else a.endSN=0,a.startCC=0;return a.fragmentHint&&(h+=a.fragmentHint.duration),a.totalduration=h,a.endCC=p,_>0&&sgr(l,_),a}}function kje(t,e,n){var r,i;const s=new ro(t);vc(n,s,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const o=(r=s.METHOD)!=null?r:"",a=s.URI,l=s.hexadecimalInteger("IV"),u=s.KEYFORMATVERSIONS,d=(i=s.KEYFORMAT)!=null?i:"identity";a&&s.IV&&!l&&Le.error(`Invalid IV: ${s.IV}`);const f=a?_h.resolve(a,e):"",h=(u||"1").split("/").map(Number).filter(Number.isFinite);return new D3(o,f,d,h,l)}function Aje(t){const n=new ro(t).decimalFloatingPoint("TIME-OFFSET");return pn(n)?n:null}function igr(t,e){["video","audio","text"].forEach(n=>{const r=t.filter(i=>tgr(i,n));if(r.length){const i=r.filter(s=>s.lastIndexOf("avc1",0)===0||s.lastIndexOf("mp4a",0)===0);e[`${n}Codec`]=i.length>0?i[0]:r[0],t=t.filter(s=>r.indexOf(s)===-1)}}),e.unknownCodecs=t}function Ije(t,e,n){const r=e[n];r&&(t[n]=r)}function sgr(t,e){let n=t[e];for(let r=e;r--;){const i=t[r];if(!i)return;i.programDateTime=n.programDateTime-i.duration*1e3,n=i}}function Dje(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):e!=null&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime),pn(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}function Rje(t,e,n,r){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=n,t.sn="initSegment",r&&(t.levelkeys=r),t.initSegment=null}function jje(t,e,n){t.levelkeys=e;const{encryptedFragments:r}=n;(!r.length||r[r.length-1].levelkeys!==e)&&Object.keys(e).some(i=>e[i].isCommonEncryption)&&r.push(t)}var si={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},Dn={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};function Oje(t){const{type:e}=t;switch(e){case si.AUDIO_TRACK:return Dn.AUDIO;case si.SUBTITLE_TRACK:return Dn.SUBTITLE;default:return Dn.MAIN}}function Vz(t,e){let n=t.url;return(n===void 0||n.indexOf("data:")===0)&&(n=e.url),n}class ogr{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(ee.MANIFEST_LOADING,this.onManifestLoading,this),e.on(ee.LEVEL_LOADING,this.onLevelLoading,this),e.on(ee.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(ee.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:e}=this;e.off(ee.MANIFEST_LOADING,this.onManifestLoading,this),e.off(ee.LEVEL_LOADING,this.onLevelLoading,this),e.off(ee.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(ee.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(e){const n=this.hls.config,r=n.pLoader,i=n.loader,s=r||i,o=new s(n);return this.loaders[e.type]=o,o}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const n=this.loaders[e];n&&n.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,n){const{url:r}=n;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:si.MANIFEST,url:r,deliveryDirectives:null})}onLevelLoading(e,n){const{id:r,level:i,url:s,deliveryDirectives:o}=n;this.load({id:r,level:i,responseType:"text",type:si.LEVEL,url:s,deliveryDirectives:o})}onAudioTrackLoading(e,n){const{id:r,groupId:i,url:s,deliveryDirectives:o}=n;this.load({id:r,groupId:i,level:null,responseType:"text",type:si.AUDIO_TRACK,url:s,deliveryDirectives:o})}onSubtitleTrackLoading(e,n){const{id:r,groupId:i,url:s,deliveryDirectives:o}=n;this.load({id:r,groupId:i,level:null,responseType:"text",type:si.SUBTITLE_TRACK,url:s,deliveryDirectives:o})}load(e){var n;const r=this.hls.config;let i=this.getInternalLoader(e);if(i){const u=i.context;if(u&&u.url===e.url){Le.trace("[playlist-loader]: playlist request ongoing");return}Le.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),i.abort()}let s;if(e.type===si.MANIFEST?s=r.manifestLoadPolicy.default:s=Ba({},r.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),i=this.createInternalLoader(e),(n=e.deliveryDirectives)!=null&&n.part){let u;if(e.type===si.LEVEL&&e.level!==null?u=this.hls.levels[e.level].details:e.type===si.AUDIO_TRACK&&e.id!==null?u=this.hls.audioTracks[e.id].details:e.type===si.SUBTITLE_TRACK&&e.id!==null&&(u=this.hls.subtitleTracks[e.id].details),u){const d=u.partTarget,f=u.targetduration;if(d&&f){const h=Math.max(d*3,f*.8)*1e3;s=Ba({},s,{maxTimeToFirstByteMs:Math.min(h,s.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(h,s.maxTimeToFirstByteMs)})}}}const o=s.errorRetry||s.timeoutRetry||{},a={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:o.maxNumRetry||0,retryDelay:o.retryDelayMs||0,maxRetryDelay:o.maxRetryDelayMs||0},l={onSuccess:(u,d,f,h)=>{const p=this.getInternalLoader(f);this.resetInternalLoader(f.type);const g=u.data;if(g.indexOf("#EXTM3U")!==0){this.handleManifestParsingError(u,f,new Error("no EXTM3U delimiter"),h||null,d);return}d.parsing.start=performance.now(),_h.isMediaPlaylist(g)?this.handleTrackOrLevelPlaylist(u,d,f,h||null,p):this.handleMasterPlaylist(u,d,f,h)},onError:(u,d,f,h)=>{this.handleNetworkError(d,f,!1,u,h)},onTimeout:(u,d,f)=>{this.handleNetworkError(d,f,!0,void 0,u)}};i.load(e,a,l)}handleMasterPlaylist(e,n,r,i){const s=this.hls,o=e.data,a=Vz(e,r),l=_h.parseMasterPlaylist(o,a);if(l.playlistParsingError){this.handleManifestParsingError(e,r,l.playlistParsingError,i,n);return}const{contentSteering:u,levels:d,sessionData:f,sessionKeys:h,startTimeOffset:p,variableList:g}=l;this.variableList=g;const{AUDIO:v=[],SUBTITLES:y,"CLOSED-CAPTIONS":x}=_h.parseMasterPlaylistMedia(o,a,l);v.length&&!v.some(_=>!_.url)&&d[0].audioCodec&&!d[0].attrs.AUDIO&&(Le.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),v.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new ro({}),bitrate:0,url:""})),s.trigger(ee.MANIFEST_LOADED,{levels:d,audioTracks:v,subtitles:y,captions:x,contentSteering:u,url:a,stats:n,networkDetails:i,sessionData:f,sessionKeys:h,startTimeOffset:p,variableList:g})}handleTrackOrLevelPlaylist(e,n,r,i,s){const o=this.hls,{id:a,level:l,type:u}=r,d=Vz(e,r),f=pn(a)?a:0,h=pn(l)?l:f,p=Oje(r),g=_h.parseLevelPlaylist(e.data,d,h,p,f,this.variableList);if(u===si.MANIFEST){const v={attrs:new ro({}),bitrate:0,details:g,name:"",url:d};o.trigger(ee.MANIFEST_LOADED,{levels:[v],audioTracks:[],url:d,stats:n,networkDetails:i,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}n.parsing.end=performance.now(),r.levelDetails=g,this.handlePlaylistLoaded(g,e,n,r,i,s)}handleManifestParsingError(e,n,r,i,s){this.hls.trigger(ee.ERROR,{type:kn.NETWORK_ERROR,details:Ze.MANIFEST_PARSING_ERROR,fatal:n.type===si.MANIFEST,url:e.url,err:r,error:r,reason:r.message,response:e,context:n,networkDetails:i,stats:s})}handleNetworkError(e,n,r=!1,i,s){let o=`A network ${r?"timeout":"error"+(i?" (status "+i.code+")":"")} occurred while loading ${e.type}`;e.type===si.LEVEL?o+=`: ${e.level} id: ${e.id}`:(e.type===si.AUDIO_TRACK||e.type===si.SUBTITLE_TRACK)&&(o+=` id: ${e.id} group-id: "${e.groupId}"`);const a=new Error(o);Le.warn(`[playlist-loader]: ${o}`);let l=Ze.UNKNOWN,u=!1;const d=this.getInternalLoader(e);switch(e.type){case si.MANIFEST:l=r?Ze.MANIFEST_LOAD_TIMEOUT:Ze.MANIFEST_LOAD_ERROR,u=!0;break;case si.LEVEL:l=r?Ze.LEVEL_LOAD_TIMEOUT:Ze.LEVEL_LOAD_ERROR,u=!1;break;case si.AUDIO_TRACK:l=r?Ze.AUDIO_TRACK_LOAD_TIMEOUT:Ze.AUDIO_TRACK_LOAD_ERROR,u=!1;break;case si.SUBTITLE_TRACK:l=r?Ze.SUBTITLE_TRACK_LOAD_TIMEOUT:Ze.SUBTITLE_LOAD_ERROR,u=!1;break}d&&this.resetInternalLoader(e.type);const f={type:kn.NETWORK_ERROR,details:l,fatal:u,url:e.url,loader:d,context:e,error:a,networkDetails:n,stats:s};if(i){const h=(n==null?void 0:n.url)||e.url;f.response=zc({url:h,data:void 0},i)}this.hls.trigger(ee.ERROR,f)}handlePlaylistLoaded(e,n,r,i,s,o){const a=this.hls,{type:l,level:u,id:d,groupId:f,deliveryDirectives:h}=i,p=Vz(n,i),g=Oje(i),v=typeof i.level=="number"&&g===Dn.MAIN?u:void 0;if(!e.fragments.length){const x=new Error("No Segments found in Playlist");a.trigger(ee.ERROR,{type:kn.NETWORK_ERROR,details:Ze.LEVEL_EMPTY_ERROR,fatal:!1,url:p,error:x,reason:x.message,response:n,context:i,level:v,parent:g,networkDetails:s,stats:r});return}e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));const y=e.playlistParsingError;if(y){a.trigger(ee.ERROR,{type:kn.NETWORK_ERROR,details:Ze.LEVEL_PARSING_ERROR,fatal:!1,url:p,error:y,reason:y.message,response:n,context:i,level:v,parent:g,networkDetails:s,stats:r});return}switch(e.live&&o&&(o.getCacheAge&&(e.ageHeader=o.getCacheAge()||0),(!o.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),l){case si.MANIFEST:case si.LEVEL:a.trigger(ee.LEVEL_LOADED,{details:e,level:v||0,id:d||0,stats:r,networkDetails:s,deliveryDirectives:h});break;case si.AUDIO_TRACK:a.trigger(ee.AUDIO_TRACK_LOADED,{details:e,id:d||0,groupId:f||"",stats:r,networkDetails:s,deliveryDirectives:h});break;case si.SUBTITLE_TRACK:a.trigger(ee.SUBTITLE_TRACK_LOADED,{details:e,id:d||0,groupId:f||"",stats:r,networkDetails:s,deliveryDirectives:h});break}}}function vrt(t,e){let n;try{n=new Event("addtrack")}catch{n=document.createEvent("Event"),n.initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)}function yrt(t,e){const n=t.mode;if(n==="disabled"&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(r){Le.debug(`[texttrack-utils]: ${r}`);try{const i=new self.TextTrackCue(e.startTime,e.endTime,e.text);i.id=e.id,t.addCue(i)}catch(i){Le.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${i}`)}}n==="disabled"&&(t.mode=n)}function V5(t){const e=t.mode;if(e==="disabled"&&(t.mode="hidden"),t.cues)for(let n=t.cues.length;n--;)t.removeCue(t.cues[n]);e==="disabled"&&(t.mode=e)}function VZ(t,e,n,r){const i=t.mode;if(i==="disabled"&&(t.mode="hidden"),t.cues&&t.cues.length>0){const s=lgr(t.cues,e,n);for(let o=0;o<s.length;o++)(!r||r(s[o]))&&t.removeCue(s[o])}i==="disabled"&&(t.mode=i)}function agr(t,e){if(e<t[0].startTime)return 0;const n=t.length-1;if(e>t[n].endTime)return-1;let r=0,i=n;for(;r<=i;){const s=Math.floor((i+r)/2);if(e<t[s].startTime)i=s-1;else if(e>t[s].startTime&&r<n)r=s+1;else return s}return t[r].startTime-e<e-t[i].startTime?r:i}function lgr(t,e,n){const r=[],i=agr(t,e);if(i>-1)for(let s=i,o=t.length;s<o;s++){const a=t[s];if(a.startTime>=e&&a.endTime<=n)r.push(a);else if(a.startTime>n)return r}return r}var vh={audioId3:"org.id3",dateRange:"com.apple.quicktime.HLS",emsg:"https://aomedia.org/emsg/ID3"};const ugr=.25;function UZ(){if(!(typeof self>"u"))return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}const Rj=(()=>{const t=UZ();try{new t(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function Uz(t,e){return t.getTime()/1e3-e}function cgr(t){return Uint8Array.from(t.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class dgr{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:e}=this;e.on(ee.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(ee.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(ee.MANIFEST_LOADING,this.onManifestLoading,this),e.on(ee.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(ee.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(ee.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:e}=this;e.off(ee.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(ee.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(ee.MANIFEST_LOADING,this.onManifestLoading,this),e.off(ee.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(ee.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(ee.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(e,n){this.media=n.media}onMediaDetaching(){this.id3Track&&(V5(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const n=this.getID3Track(e.textTracks);return n.mode="hidden",n}getID3Track(e){if(this.media){for(let n=0;n<e.length;n++){const r=e[n];if(r.kind==="metadata"&&r.label==="id3")return vrt(r,this.media),r}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,n){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:r,enableID3MetadataCues:i}}}=this;if(!r&&!i)return;const{samples:s}=n;this.id3Track||(this.id3Track=this.createTrack(this.media));const o=UZ();for(let a=0;a<s.length;a++){const l=s[a].type;if(l===vh.emsg&&!r||!i)continue;const u=lrt(s[a].data);if(u){const d=s[a].pts;let f=d+s[a].duration;f>Rj&&(f=Rj),f-d<=0&&(f=d+ugr);for(let p=0;p<u.length;p++){const g=u[p];if(!art(g)){this.updateId3CueEnds(d,l);const v=new o(d,f,"");v.value=g,l&&(v.type=l),this.id3Track.addCue(v)}}}}}updateId3CueEnds(e,n){var r;const i=(r=this.id3Track)==null?void 0:r.cues;if(i)for(let s=i.length;s--;){const o=i[s];o.type===n&&o.startTime<e&&o.endTime===Rj&&(o.endTime=e)}}onBufferFlushing(e,{startOffset:n,endOffset:r,type:i}){const{id3Track:s,hls:o}=this;if(!o)return;const{config:{enableEmsgMetadataCues:a,enableID3MetadataCues:l}}=o;if(s&&(a||l)){let u;i==="audio"?u=d=>d.type===vh.audioId3&&l:i==="video"?u=d=>d.type===vh.emsg&&a:u=d=>d.type===vh.audioId3&&l||d.type===vh.emsg&&a,VZ(s,n,r,u)}}onLevelUpdated(e,{details:n}){if(!this.media||!n.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:r,id3Track:i}=this,{dateRanges:s}=n,o=Object.keys(s);if(i){const d=Object.keys(r).filter(f=>!o.includes(f));for(let f=d.length;f--;){const h=d[f];Object.keys(r[h].cues).forEach(p=>{i.removeCue(r[h].cues[p])}),delete r[h]}}const a=n.fragments[n.fragments.length-1];if(o.length===0||!pn(a==null?void 0:a.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const l=a.programDateTime/1e3-a.start,u=UZ();for(let d=0;d<o.length;d++){const f=o[d],h=s[f],p=r[f],g=(p==null?void 0:p.cues)||{};let v=(p==null?void 0:p.durationKnown)||!1;const y=Uz(h.startDate,l);let x=Rj;const b=h.endDate;if(b)x=Uz(b,l),v=!0;else if(h.endOnNext&&!v){const C=o.reduce((S,T)=>{const A=s[T];return A.class===h.class&&A.id!==T&&A.startDate>h.startDate&&S.push(A),S},[]).sort((S,T)=>S.startDate.getTime()-T.startDate.getTime())[0];C&&(x=Uz(C.startDate,l),v=!0)}const _=Object.keys(h.attr);for(let C=0;C<_.length;C++){const S=_[C];if(!ymr(S))continue;let T=g[S];if(T)v&&!p.durationKnown&&(T.endTime=x);else{let A=h.attr[S];T=new u(y,x,""),bmr(S)&&(A=cgr(A)),T.value={key:S,data:A},T.type=vh.dateRange,T.id=f,this.id3Track.addCue(T),g[S]=T}}r[f]={cues:g,dateRange:h,durationKnown:v}}}}class fgr{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=e,this.config=e.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:e,levelDetails:n}=this;return e.liveMaxLatencyDuration!==void 0?e.liveMaxLatencyDuration:n?e.liveMaxLatencyDurationCount*n.targetduration:0}get targetLatency(){const{levelDetails:e}=this;if(e===null)return null;const{holdBack:n,partHoldBack:r,targetduration:i}=e,{liveSyncDuration:s,liveSyncDurationCount:o,lowLatencyMode:a}=this.config,l=this.hls.userConfig;let u=a&&r||n;(l.liveSyncDuration||l.liveSyncDurationCount||u===0)&&(u=s!==void 0?s:o*i);const d=i,f=1;return u+Math.min(this.stallCount*f,d)}get liveSyncPosition(){const e=this.estimateLiveEdge(),n=this.targetLatency,r=this.levelDetails;if(e===null||n===null||r===null)return null;const i=r.edge,s=e-n-this.edgeStalled,o=i-r.totalduration,a=i-(this.config.lowLatencyMode&&r.partTarget||r.targetduration);return Math.min(Math.max(o,s),a)}get drift(){const{levelDetails:e}=this;return e===null?1:e.drift}get edgeStalled(){const{levelDetails:e}=this;if(e===null)return 0;const n=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-n,0)}get forwardBufferLength(){const{media:e,levelDetails:n}=this;if(!e||!n)return 0;const r=e.buffered.length;return(r?e.buffered.end(r-1):n.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(ee.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(ee.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(ee.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(ee.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(ee.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(ee.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(ee.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(ee.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(ee.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(ee.ERROR,this.onError,this)}onMediaAttached(e,n){this.media=n.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:n}){this.levelDetails=n,n.advanced&&this.timeupdate(),!n.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(e,n){var r;n.details===Ze.BUFFER_STALLED_ERROR&&(this.stallCount++,(r=this.levelDetails)!=null&&r.live&&Le.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:e,levelDetails:n}=this;if(!e||!n)return;this.currentTime=e.currentTime;const r=this.computeLatency();if(r===null)return;this._latency=r;const{lowLatencyMode:i,maxLiveSyncPlaybackRate:s}=this.config;if(!i||s===1)return;const o=this.targetLatency;if(o===null)return;const a=r-o,l=Math.min(this.maxLatency,o+n.targetduration),u=a<l;if(n.live&&u&&a>.05&&this.forwardBufferLength>1){const d=Math.min(2,Math.max(1,s)),f=Math.round(2/(1+Math.exp(-.75*a-this.edgeStalled))*20)/20;e.playbackRate=Math.min(d,Math.max(1,f))}else e.playbackRate!==1&&e.playbackRate!==0&&(e.playbackRate=1)}estimateLiveEdge(){const{levelDetails:e}=this;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}const HZ=["NONE","TYPE-0","TYPE-1",null];var Jk={No:"",Yes:"YES",v2:"v2"};function hgr(t,e){const{canSkipUntil:n,canSkipDateRanges:r,endSN:i}=t,s=e!==void 0?e-i:0;return n&&s<n?r?Jk.v2:Jk.Yes:Jk.No}class Lje{constructor(e,n,r){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=n,this.skip=r}addDirectives(e){const n=new self.URL(e);return this.msn!==void 0&&n.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&n.searchParams.set("_HLS_part",this.part.toString()),this.skip&&n.searchParams.set("_HLS_skip",this.skip),n.href}}class R3{constructor(e){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.unknownCodecs=e.unknownCodecs,this.codecSet=[e.videoCodec,e.audioCodec].filter(n=>n).join(",").replace(/\.[^.,]+/g,"")}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get attrs(){return this._attrs[this._urlId]}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get uri(){return this.url[this._urlId]||""}get urlId(){return this._urlId}set urlId(e){const n=e%this.url.length;this._urlId!==n&&(this.fragmentError=0,this.loadError=0,this.details=void 0,this._urlId=n)}get audioGroupId(){var e;return(e=this.audioGroupIds)==null?void 0:e[this.urlId]}get textGroupId(){var e;return(e=this.textGroupIds)==null?void 0:e[this.urlId]}addFallback(e){this.url.push(e.url),this._attrs.push(e.attrs)}}function Hz(t,e){const n=e.startPTS;if(pn(n)){let r=0,i;e.sn>t.sn?(r=n-t.start,i=t):(r=t.start-n,i=e),i.duration!==r&&(i.duration=r)}else e.sn>t.sn?t.cc===e.cc&&t.minEndPTS?e.start=t.start+(t.minEndPTS-t.start):e.start=t.start+t.duration:e.start=Math.max(t.start-e.duration,0)}function brt(t,e,n,r,i,s){r-n<=0&&(Le.warn("Fragment should have a positive duration",e),r=n+e.duration,s=i+e.duration);let a=n,l=r;const u=e.startPTS,d=e.endPTS;if(pn(u)){const y=Math.abs(u-n);pn(e.deltaPTS)?e.deltaPTS=Math.max(y,e.deltaPTS):e.deltaPTS=y,a=Math.max(n,u),n=Math.min(n,u),i=Math.min(i,e.startDTS),l=Math.min(r,d),r=Math.max(r,d),s=Math.max(s,e.endDTS)}const f=n-e.start;e.start!==0&&(e.start=n),e.duration=r-e.start,e.startPTS=n,e.maxStartPTS=a,e.startDTS=i,e.endPTS=r,e.minEndPTS=l,e.endDTS=s;const h=e.sn;if(!t||h<t.startSN||h>t.endSN)return 0;let p;const g=h-t.startSN,v=t.fragments;for(v[g]=e,p=g;p>0;p--)Hz(v[p],v[p-1]);for(p=g;p<v.length-1;p++)Hz(v[p],v[p+1]);return t.fragmentHint&&Hz(v[v.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,f}function pgr(t,e){let n=null;const r=t.fragments;for(let l=r.length-1;l>=0;l--){const u=r[l].initSegment;if(u){n=u;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;let i=0,s;if(vgr(t,e,(l,u)=>{l.relurl&&(i=l.cc-u.cc),pn(l.startPTS)&&pn(l.endPTS)&&(u.start=u.startPTS=l.startPTS,u.startDTS=l.startDTS,u.maxStartPTS=l.maxStartPTS,u.endPTS=l.endPTS,u.endDTS=l.endDTS,u.minEndPTS=l.minEndPTS,u.duration=l.endPTS-l.startPTS,u.duration&&(s=u),e.PTSKnown=e.alignedSliding=!0),u.elementaryStreams=l.elementaryStreams,u.loader=l.loader,u.stats=l.stats,u.urlId=l.urlId,l.initSegment&&(u.initSegment=l.initSegment,n=l.initSegment)}),n&&(e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments).forEach(u=>{var d;(!u.initSegment||u.initSegment.relurl===((d=n)==null?void 0:d.relurl))&&(u.initSegment=n)}),e.skippedSegments)if(e.deltaUpdateFailed=e.fragments.some(l=>!l),e.deltaUpdateFailed){Le.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let l=e.skippedSegments;l--;)e.fragments.shift();e.startSN=e.fragments[0].sn,e.startCC=e.fragments[0].cc}else e.canSkipDateRanges&&(e.dateRanges=mgr(t.dateRanges,e.dateRanges,e.recentlyRemovedDateranges));const o=e.fragments;if(i){Le.warn("discontinuity sliding from playlist, take drift into account");for(let l=0;l<o.length;l++)o[l].cc+=i}e.skippedSegments&&(e.startCC=e.fragments[0].cc),ggr(t.partList,e.partList,(l,u)=>{u.elementaryStreams=l.elementaryStreams,u.stats=l.stats}),s?brt(e,s,s.startPTS,s.endPTS,s.startDTS,s.endDTS):xrt(t,e),o.length&&(e.totalduration=e.edge-o[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;const a=e.advancedDateTime;if(e.advanced&&a){const l=e.edge;e.driftStart||(e.driftStartTime=a,e.driftStart=l),e.driftEndTime=a,e.driftEnd=l}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime}function mgr(t,e,n){const r=Ba({},t);return n&&n.forEach(i=>{delete r[i]}),Object.keys(e).forEach(i=>{const s=new trt(e[i].attr,r[i]);s.isValid?r[i]=s:Le.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(e[i].attr)}"`)}),r}function ggr(t,e,n){if(t&&e){let r=0;for(let i=0,s=t.length;i<=s;i++){const o=t[i],a=e[i+r];o&&a&&o.index===a.index&&o.fragment.sn===a.fragment.sn?n(o,a):r--}}}function vgr(t,e,n){const r=e.skippedSegments,i=Math.max(t.startSN,e.startSN)-e.startSN,s=(t.fragmentHint?1:0)+(r?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,o=e.startSN-t.startSN,a=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,l=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;for(let u=i;u<=s;u++){const d=l[o+u];let f=a[u];r&&!f&&u<r&&(f=e.fragments[u]=d),d&&f&&n(d,f)}}function xrt(t,e){const n=e.startSN+e.skippedSegments-t.startSN,r=t.fragments;n<0||n>=r.length||zZ(e,r[n].start)}function zZ(t,e){if(e){const n=t.fragments;for(let r=t.skippedSegments;r<n.length;r++)n[r].start+=e;t.fragmentHint&&(t.fragmentHint.start+=e)}}function ygr(t,e=1/0){let n=1e3*t.targetduration;if(t.updated){const r=t.fragments,i=4;if(r.length&&n*i>e){const s=r[r.length-1].duration*1e3;s<n&&(n=s)}}else n/=2;return Math.round(n)}function bgr(t,e,n){if(!(t!=null&&t.details))return null;const r=t.details;let i=r.fragments[e-r.startSN];return i||(i=r.fragmentHint,i&&i.sn===e)?i:e<r.startSN&&n&&n.sn===e?n:null}function Pje(t,e,n){var r;return t!=null&&t.details?wrt((r=t.details)==null?void 0:r.partList,e,n):null}function wrt(t,e,n){if(t)for(let r=t.length;r--;){const i=t[r];if(i.index===n&&i.fragment.sn===e)return i}return null}function j8(t){switch(t.details){case Ze.FRAG_LOAD_TIMEOUT:case Ze.KEY_LOAD_TIMEOUT:case Ze.LEVEL_LOAD_TIMEOUT:case Ze.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function Mje(t,e){const n=j8(e);return t.default[`${n?"timeout":"error"}Retry`]}function Eoe(t,e){const n=t.backoff==="linear"?1:Math.pow(2,e);return Math.min(n*t.retryDelayMs,t.maxRetryDelayMs)}function $je(t){return zc(zc({},t),{errorRetry:null,timeoutRetry:null})}function O8(t,e,n,r){return!!t&&e<t.maxNumRetry&&(xgr(r)||!!n)}function xgr(t){return t===0&&navigator.onLine===!1||!!t&&(t<400||t>499)}const _rt={search:function(t,e){let n=0,r=t.length-1,i=null,s=null;for(;n<=r;){i=(n+r)/2|0,s=t[i];const o=e(s);if(o>0)n=i+1;else if(o<0)r=i-1;else return s}return null}};function wgr(t,e,n){if(e===null||!Array.isArray(t)||!t.length||!pn(e))return null;const r=t[0].programDateTime;if(e<(r||0))return null;const i=t[t.length-1].endProgramDateTime;if(e>=(i||0))return null;n=n||0;for(let s=0;s<t.length;++s){const o=t[s];if(_gr(e,n,o))return o}return null}function j3(t,e,n=0,r=0){let i=null;if(t?i=e[t.sn-e[0].sn+1]||null:n===0&&e[0].start===0&&(i=e[0]),i&&WZ(n,r,i)===0)return i;const s=_rt.search(e,WZ.bind(null,n,r));return s&&(s!==t||!i)?s:i}function WZ(t=0,e=0,n){if(n.start<=t&&n.start+n.duration>t)return 0;const r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=t?1:n.start-r>t&&n.start?-1:0}function _gr(t,e,n){const r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0))*1e3;return(n.endProgramDateTime||0)-r>t}function Cgr(t,e){return _rt.search(t,n=>n.cc<e?1:n.cc>e?-1:0)}const Egr=3e5;var ru={DoNothing:0,SendEndCallback:1,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,InsertDiscontinuity:4,RetryRequest:5},sf={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,SwitchToSDR:4};class Sgr{constructor(e){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=e,this.log=Le.log.bind(Le,"[info]:"),this.warn=Le.warn.bind(Le,"[warning]:"),this.error=Le.error.bind(Le,"[error]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(ee.ERROR,this.onError,this),e.on(ee.MANIFEST_LOADING,this.onManifestLoading,this),e.on(ee.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(ee.ERROR,this.onError,this),e.off(ee.ERROR,this.onErrorOut,this),e.off(ee.MANIFEST_LOADING,this.onManifestLoading,this),e.off(ee.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(e){this.playlistError=0}stopLoad(){}getVariantLevelIndex(e){return(e==null?void 0:e.type)===Dn.MAIN?e.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(e,n){var r,i;if(n.fatal)return;const s=this.hls,o=n.context;switch(n.details){case Ze.FRAG_LOAD_ERROR:case Ze.FRAG_LOAD_TIMEOUT:case Ze.KEY_LOAD_ERROR:case Ze.KEY_LOAD_TIMEOUT:n.errorAction=this.getFragRetryOrSwitchAction(n);return;case Ze.FRAG_PARSING_ERROR:if((r=n.frag)!=null&&r.gap){n.errorAction={action:ru.DoNothing,flags:sf.None};return}case Ze.FRAG_GAP:case Ze.FRAG_DECRYPT_ERROR:{n.errorAction=this.getFragRetryOrSwitchAction(n),n.errorAction.action=ru.SendAlternateToPenaltyBox;return}case Ze.LEVEL_EMPTY_ERROR:case Ze.LEVEL_PARSING_ERROR:{var a,l;const u=n.parent===Dn.MAIN?n.level:s.loadLevel;n.details===Ze.LEVEL_EMPTY_ERROR&&((a=n.context)!=null&&(l=a.levelDetails)!=null&&l.live)?n.errorAction=this.getPlaylistRetryOrSwitchAction(n,u):(n.levelRetry=!1,n.errorAction=this.getLevelSwitchAction(n,u))}return;case Ze.LEVEL_LOAD_ERROR:case Ze.LEVEL_LOAD_TIMEOUT:typeof(o==null?void 0:o.level)=="number"&&(n.errorAction=this.getPlaylistRetryOrSwitchAction(n,o.level));return;case Ze.AUDIO_TRACK_LOAD_ERROR:case Ze.AUDIO_TRACK_LOAD_TIMEOUT:case Ze.SUBTITLE_LOAD_ERROR:case Ze.SUBTITLE_TRACK_LOAD_TIMEOUT:if(o){const u=s.levels[s.loadLevel];if(u&&(o.type===si.AUDIO_TRACK&&o.groupId===u.audioGroupId||o.type===si.SUBTITLE_TRACK&&o.groupId===u.textGroupId)){n.errorAction=this.getPlaylistRetryOrSwitchAction(n,s.loadLevel),n.errorAction.action=ru.SendAlternateToPenaltyBox,n.errorAction.flags=sf.MoveAllAlternatesMatchingHost;return}}return;case Ze.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const u=s.levels[s.loadLevel],d=u==null?void 0:u.attrs["HDCP-LEVEL"];d&&(n.errorAction={action:ru.SendAlternateToPenaltyBox,flags:sf.MoveAllAlternatesMatchingHDCP,hdcpLevel:d})}return;case Ze.BUFFER_ADD_CODEC_ERROR:case Ze.REMUX_ALLOC_ERROR:n.errorAction=this.getLevelSwitchAction(n,(i=n.level)!=null?i:s.loadLevel);return;case Ze.INTERNAL_EXCEPTION:case Ze.BUFFER_APPENDING_ERROR:case Ze.BUFFER_APPEND_ERROR:case Ze.BUFFER_FULL_ERROR:case Ze.LEVEL_SWITCH_ERROR:case Ze.BUFFER_STALLED_ERROR:case Ze.BUFFER_SEEK_OVER_HOLE:case Ze.BUFFER_NUDGE_ON_STALL:n.errorAction={action:ru.DoNothing,flags:sf.None};return}if(n.type===kn.KEY_SYSTEM_ERROR){const u=this.getVariantLevelIndex(n.frag);n.levelRetry=!1,n.errorAction=this.getLevelSwitchAction(n,u);return}}getPlaylistRetryOrSwitchAction(e,n){var r;const i=this.hls,s=Mje(i.config.playlistLoadPolicy,e),o=this.playlistError++,a=(r=e.response)==null?void 0:r.code;if(O8(s,o,j8(e),a))return{action:ru.RetryRequest,flags:sf.None,retryConfig:s,retryCount:o};const u=this.getLevelSwitchAction(e,n);return s&&(u.retryConfig=s,u.retryCount=o),u}getFragRetryOrSwitchAction(e){const n=this.hls,r=this.getVariantLevelIndex(e.frag),i=n.levels[r],{fragLoadPolicy:s,keyLoadPolicy:o}=n.config,a=Mje(e.details.startsWith("key")?o:s,e),l=n.levels.reduce((f,h)=>f+h.fragmentError,0);if(i){var u;e.details!==Ze.FRAG_GAP&&i.fragmentError++;const f=(u=e.response)==null?void 0:u.code;if(O8(a,l,j8(e),f))return{action:ru.RetryRequest,flags:sf.None,retryConfig:a,retryCount:l}}const d=this.getLevelSwitchAction(e,r);return a&&(d.retryConfig=a,d.retryCount=l),d}getLevelSwitchAction(e,n){const r=this.hls;n==null&&(n=r.loadLevel);const i=this.hls.levels[n];if(i&&(i.loadError++,r.autoLevelEnabled)){var s,o;let a=-1;const{levels:l,loadLevel:u,minAutoLevel:d,maxAutoLevel:f}=r,h=(s=e.frag)==null?void 0:s.type,{type:p,groupId:g}=(o=e.context)!=null?o:{};for(let v=l.length;v--;){const y=(v+u)%l.length;if(y!==u&&y>=d&&y<=f&&l[y].loadError===0){const x=l[y];if(e.details===Ze.FRAG_GAP&&e.frag){const b=l[y].details;if(b){const _=j3(e.frag,b.fragments,e.frag.start);if(_!=null&&_.gap)continue}}else{if(p===si.AUDIO_TRACK&&g===x.audioGroupId||p===si.SUBTITLE_TRACK&&g===x.textGroupId)continue;if(h===Dn.AUDIO&&i.audioGroupId===x.audioGroupId||h===Dn.SUBTITLE&&i.textGroupId===x.textGroupId)continue}a=y;break}}if(a>-1&&r.loadLevel!==a)return e.levelRetry=!0,this.playlistError=0,{action:ru.SendAlternateToPenaltyBox,flags:sf.None,nextAutoLevel:a}}return{action:ru.SendAlternateToPenaltyBox,flags:sf.MoveAllAlternatesMatchingHost}}onErrorOut(e,n){var r;switch((r=n.errorAction)==null?void 0:r.action){case ru.DoNothing:break;case ru.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(n),!n.errorAction.resolved&&n.details!==Ze.FRAG_GAP&&(n.fatal=!0);break}if(n.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const n=this.hls,r=e.errorAction;if(!r)return;const{flags:i,hdcpLevel:s,nextAutoLevel:o}=r;switch(i){case sf.None:this.switchLevel(e,o);break;case sf.MoveAllAlternatesMatchingHost:r.resolved||(r.resolved=this.redundantFailover(e));break;case sf.MoveAllAlternatesMatchingHDCP:s&&(n.maxHdcpLevel=HZ[HZ.indexOf(s)-1],r.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${n.maxHdcpLevel}" or lower`);break}r.resolved||this.switchLevel(e,o)}switchLevel(e,n){n!==void 0&&e.errorAction&&(this.warn(`switching to level ${n} after ${e.details}`),this.hls.nextAutoLevel=n,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}redundantFailover(e){const{hls:n,penalizedRenditions:r}=this,i=e.parent===Dn.MAIN?e.level:n.loadLevel,s=n.levels[i],o=s.url.length,a=e.frag?e.frag.urlId:s.urlId;s.urlId===a&&(!e.frag||s.details)&&this.penalizeRendition(s,e);for(let l=1;l<o;l++){const u=(a+l)%o,d=r[u];if(!d||Tgr(d,e,r[a]))return this.warn(`Switching to Redundant Stream ${u+1}/${o}: "${s.url[u]}" after ${e.details}`),this.playlistError=0,n.levels.forEach(f=>{f.urlId=u}),n.nextLoadLevel=i,!0}return!1}penalizeRendition(e,n){const{penalizedRenditions:r}=this,i=r[e.urlId]||{lastErrorPerfMs:0,errors:[],details:void 0};i.lastErrorPerfMs=performance.now(),i.errors.push(n),i.details=e.details,r[e.urlId]=i}}function Tgr(t,e,n){if(performance.now()-t.lastErrorPerfMs>Egr)return!0;const r=t.details;if(e.details===Ze.FRAG_GAP&&r&&e.frag){const i=e.frag.start,s=j3(null,r.fragments,i);if(s&&!s.gap)return!0}if(n&&t.errors.length<n.errors.length){const i=t.errors[t.errors.length-1];if(r&&i.frag&&e.frag&&Math.abs(i.frag.start-e.frag.start)>r.targetduration*3)return!0}return!1}class Soe{constructor(e,n){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=Le.log.bind(Le,`${n}:`),this.warn=Le.warn.bind(Le,`${n}:`),this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){clearTimeout(this.timer),this.timer=-1}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,n){const r=n==null?void 0:n.renditionReports;if(r){let i=-1;for(let s=0;s<r.length;s++){const o=r[s];let a;try{a=new self.URL(o.URI,n.url).href}catch(l){Le.warn(`Could not construct new URL for Rendition Report: ${l}`),a=o.URI||""}if(a===e){i=s;break}else a===e.substring(0,a.length)&&(i=s)}if(i!==-1){const s=r[i],o=parseInt(s["LAST-MSN"])||(n==null?void 0:n.lastPartSn);let a=parseInt(s["LAST-PART"])||(n==null?void 0:n.lastPartIndex);if(this.hls.config.lowLatencyMode){const l=Math.min(n.age-n.partTarget,n.targetduration);a>=0&&l>n.partTarget&&(a+=1)}return new Lje(o,a>=0?a:void 0,Jk.No)}}}loadPlaylist(e){this.requestScheduled===-1&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}shouldReloadPlaylist(e){return this.timer===-1&&this.requestScheduled===-1&&this.shouldLoadPlaylist(e)}playlistLoaded(e,n,r){const{details:i,stats:s}=n,o=self.performance.now(),a=s.loading.first?Math.max(0,o-s.loading.first):0;if(i.advancedDateTime=Date.now()-a,i.live||r!=null&&r.live){if(i.reloaded(r),r&&this.log(`live playlist ${e} ${i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:"MISSED"}`),r&&i.fragments.length>0&&pgr(r,i),!this.canLoad||!i.live)return;let l,u,d;if(i.canBlockReload&&i.endSN&&i.advanced){const y=this.hls.config.lowLatencyMode,x=i.lastPartSn,b=i.endSN,_=i.lastPartIndex,C=_!==-1,S=x===b,T=y?0:_;C?(u=S?b+1:x,d=S?T:_+1):u=b+1;const A=i.age,k=A+i.ageHeader;let I=Math.min(k-i.partTarget,i.targetduration*1.5);if(I>0){if(r&&I>r.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${r.tuneInGoal} to: ${I} with playlist age: ${i.age}`),I=0;else{const D=Math.floor(I/i.targetduration);if(u+=D,d!==void 0){const R=Math.round(I%i.targetduration/i.partTarget);d+=R}this.log(`CDN Tune-in age: ${i.ageHeader}s last advanced ${A.toFixed(2)}s goal: ${I} skip sn ${D} to part ${d}`)}i.tuneInGoal=I}if(l=this.getDeliveryDirectives(i,n.deliveryDirectives,u,d),y||!S){this.loadPlaylist(l);return}}else i.canBlockReload&&(l=this.getDeliveryDirectives(i,n.deliveryDirectives,u,d));const f=this.hls.mainForwardBufferInfo,h=f?f.end-f.len:0,p=(i.edge-h)*1e3,g=ygr(i,p);i.updated&&o>this.requestScheduled+g&&(this.requestScheduled=s.loading.start),u!==void 0&&i.canBlockReload?this.requestScheduled=s.loading.first+g-(i.partTarget*1e3||1e3):this.requestScheduled===-1||this.requestScheduled+g<o?this.requestScheduled=o:this.requestScheduled-o<=0&&(this.requestScheduled+=g);let v=this.requestScheduled-o;v=Math.max(0,v),this.log(`reload live playlist ${e} in ${Math.round(v)} ms`),this.timer=self.setTimeout(()=>this.loadPlaylist(l),v)}else this.clearTimer()}getDeliveryDirectives(e,n,r,i){let s=hgr(e,r);return n!=null&&n.skip&&e.deltaUpdateFailed&&(r=n.msn,i=n.part,s=Jk.No),new Lje(r,i,s)}checkRetry(e){const n=e.details,r=j8(e),i=e.errorAction,{action:s,retryCount:o=0,retryConfig:a}=i||{},l=!!i&&!!a&&(s===ru.RetryRequest||!i.resolved&&s===ru.SendAlternateToPenaltyBox);if(l){var u;if(this.requestScheduled=-1,o>=a.maxNumRetry)return!1;if(r&&(u=e.context)!=null&&u.deliveryDirectives)this.warn(`Retrying playlist loading ${o+1}/${a.maxNumRetry} after "${n}" without delivery-directives`),this.loadPlaylist();else{const d=Eoe(a,o);this.timer=self.setTimeout(()=>this.loadPlaylist(),d),this.warn(`Retrying playlist loading ${o+1}/${a.maxNumRetry} after "${n}" in ${d}ms`)}e.levelRetry=!0,i.resolved=!0}return l}}let zz;class kgr extends Soe{constructor(e,n){super(e,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=n,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(ee.MANIFEST_LOADING,this.onManifestLoading,this),e.on(ee.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(ee.LEVEL_LOADED,this.onLevelLoaded,this),e.on(ee.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(ee.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(ee.FRAG_LOADED,this.onFragLoaded,this),e.on(ee.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(ee.MANIFEST_LOADING,this.onManifestLoading,this),e.off(ee.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(ee.LEVEL_LOADED,this.onLevelLoaded,this),e.off(ee.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(ee.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(ee.FRAG_LOADED,this.onFragLoaded,this),e.off(ee.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}startLoad(){this._levels.forEach(n=>{n.loadError=0,n.fragmentError=0}),super.startLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[]}onManifestLoading(e,n){this.resetLevels()}onManifestLoaded(e,n){const r=[],i={};let s;n.levels.forEach(o=>{var a;const l=o.attrs;((a=o.audioCodec)==null?void 0:a.indexOf("mp4a.40.34"))!==-1&&(zz||(zz=/chrome|firefox/i.test(navigator.userAgent)),zz&&(o.audioCodec=void 0));const{AUDIO:u,CODECS:d,"FRAME-RATE":f,"PATHWAY-ID":h,RESOLUTION:p,SUBTITLES:g}=l,y=`${`${h||"."}-`}${o.bitrate}-${p}-${f}-${d}`;s=i[y],s?s.addFallback(o):(s=new R3(o),i[y]=s,r.push(s)),L8(s,"audio",u),L8(s,"text",g)}),this.filterAndSortMediaOptions(r,n)}filterAndSortMediaOptions(e,n){let r=[],i=[],s=!1,o=!1,a=!1,l=e.filter(({audioCodec:p,videoCodec:g,width:v,height:y,unknownCodecs:x})=>(s||(s=!!(v&&y)),o||(o=!!g),a||(a=!!p),!(x!=null&&x.length)&&(!p||Nz(p,"audio"))&&(!g||Nz(g,"video"))));if((s||o)&&a&&(l=l.filter(({videoCodec:p,width:g,height:v})=>!!p||!!(g&&v))),l.length===0){Promise.resolve().then(()=>{if(this.hls){const p=new Error("no level with compatible codecs found in manifest");this.hls.trigger(ee.ERROR,{type:kn.MEDIA_ERROR,details:Ze.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:n.url,error:p,reason:p.message})}});return}n.audioTracks&&(r=n.audioTracks.filter(p=>!p.audioCodec||Nz(p.audioCodec,"audio")),Fje(r)),n.subtitles&&(i=n.subtitles,Fje(i));const u=l.slice(0);l.sort((p,g)=>p.attrs["HDCP-LEVEL"]!==g.attrs["HDCP-LEVEL"]?(p.attrs["HDCP-LEVEL"]||"")>(g.attrs["HDCP-LEVEL"]||"")?1:-1:p.bitrate!==g.bitrate?p.bitrate-g.bitrate:p.attrs["FRAME-RATE"]!==g.attrs["FRAME-RATE"]?p.attrs.decimalFloatingPoint("FRAME-RATE")-g.attrs.decimalFloatingPoint("FRAME-RATE"):p.attrs.SCORE!==g.attrs.SCORE?p.attrs.decimalFloatingPoint("SCORE")-g.attrs.decimalFloatingPoint("SCORE"):s&&p.height!==g.height?p.height-g.height:0);let d=u[0];if(this.steering&&(l=this.steering.filterParsedLevels(l),l.length!==u.length)){for(let p=0;p<u.length;p++)if(u[p].pathwayId===l[0].pathwayId){d=u[p];break}}this._levels=l;for(let p=0;p<l.length;p++)if(l[p]===d){this._firstLevel=p,this.log(`manifest loaded, ${l.length} level(s) found, first bitrate: ${d.bitrate}`);break}const f=a&&!o,h={levels:l,audioTracks:r,subtitleTracks:i,sessionData:n.sessionData,sessionKeys:n.sessionKeys,firstLevel:this._firstLevel,stats:n.stats,audio:a,video:o,altAudio:!f&&r.some(p=>!!p.url)};this.hls.trigger(ee.MANIFEST_PARSED,h),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return this._levels.length===0?null:this._levels}get level(){return this.currentLevelIndex}set level(e){const n=this._levels;if(n.length===0)return;if(e<0||e>=n.length){const d=new Error("invalid level idx"),f=e<0;if(this.hls.trigger(ee.ERROR,{type:kn.OTHER_ERROR,details:Ze.LEVEL_SWITCH_ERROR,level:e,fatal:f,error:d,reason:d.message}),f)return;e=Math.min(e,n.length-1)}const r=this.currentLevelIndex,i=this.currentLevel,s=i?i.attrs["PATHWAY-ID"]:void 0,o=n[e],a=o.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=o,r===e&&o.details&&i&&s===a)return;this.log(`Switching to level ${e}${a?" with Pathway "+a:""} from level ${r}${s?" with Pathway "+s:""}`);const l=Ba({},o,{level:e,maxBitrate:o.maxBitrate,attrs:o.attrs,uri:o.uri,urlId:o.urlId});delete l._attrs,delete l._urlId,this.hls.trigger(ee.LEVEL_SWITCHING,l);const u=o.details;if(!u||u.live){const d=this.switchParams(o.uri,i==null?void 0:i.details);this.loadPlaylist(d)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this._firstLevel}else return this._startLevel}set startLevel(e){this._startLevel=e}onError(e,n){n.fatal||!n.context||n.context.type===si.LEVEL&&n.context.level===this.level&&this.checkRetry(n)}onFragLoaded(e,{frag:n}){if(n!==void 0&&n.type===Dn.MAIN){const r=this._levels[n.level];r!==void 0&&(r.loadError=0)}}onLevelLoaded(e,n){var r;const{level:i,details:s}=n,o=this._levels[i];if(!o){var a;this.warn(`Invalid level index ${i}`),(a=n.deliveryDirectives)!=null&&a.skip&&(s.deltaUpdateFailed=!0);return}i===this.currentLevelIndex?(o.fragmentError===0&&(o.loadError=0),this.playlistLoaded(i,n,o.details)):(r=n.deliveryDirectives)!=null&&r.skip&&(s.deltaUpdateFailed=!0)}onAudioTrackSwitched(e,n){const r=this.currentLevel;if(!r)return;const i=this.hls.audioTracks[n.id].groupId;if(r.audioGroupIds&&r.audioGroupId!==i){let s=-1;for(let o=0;o<r.audioGroupIds.length;o++)if(r.audioGroupIds[o]===i){s=o;break}s!==-1&&s!==r.urlId&&(r.urlId=s,this.canLoad&&this.startLoad())}}loadPlaylist(e){super.loadPlaylist();const n=this.currentLevelIndex,r=this.currentLevel;if(r&&this.shouldLoadPlaylist(r)){const i=r.urlId;let s=r.uri;if(e)try{s=e.addDirectives(s)}catch(a){this.warn(`Could not construct new URL with HLS Delivery Directives: ${a}`)}const o=r.attrs["PATHWAY-ID"];this.log(`Loading level index ${n}${(e==null?void 0:e.msn)!==void 0?" at sn "+e.msn+" part "+e.part:""} with${o?" Pathway "+o:""} URI ${i+1}/${r.url.length} ${s}`),this.clearTimer(),this.hls.trigger(ee.LEVEL_LOADING,{url:s,level:n,id:i,deliveryDirectives:e||null})}}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e,n){const r=(s,o)=>o!==n,i=this._levels.filter((s,o)=>o!==e?!0:s.url.length>1&&n!==void 0?(s.url=s.url.filter(r),s.audioGroupIds&&(s.audioGroupIds=s.audioGroupIds.filter(r)),s.textGroupIds&&(s.textGroupIds=s.textGroupIds.filter(r)),s.urlId=0,!0):(this.steering&&this.steering.removeLevel(s),!1));this.hls.trigger(ee.LEVELS_UPDATED,{levels:i})}onLevelsUpdated(e,{levels:n}){n.forEach((r,i)=>{const{details:s}=r;s!=null&&s.fragments&&s.fragments.forEach(o=>{o.level=i})}),this._levels=n}}function L8(t,e,n){n&&(e==="audio"?(t.audioGroupIds||(t.audioGroupIds=[]),t.audioGroupIds[t.url.length-1]=n):e==="text"&&(t.textGroupIds||(t.textGroupIds=[]),t.textGroupIds[t.url.length-1]=n))}function Fje(t){const e={};t.forEach(n=>{const r=n.groupId||"";n.id=e[r]=e[r]||0,e[r]++})}var Xa={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class Agr{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(ee.BUFFER_APPENDED,this.onBufferAppended,this),e.on(ee.FRAG_BUFFERED,this.onFragBuffered,this),e.on(ee.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:e}=this;e.off(ee.BUFFER_APPENDED,this.onBufferAppended,this),e.off(ee.FRAG_BUFFERED,this.onFragBuffered,this),e.off(ee.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,n){const r=this.activePartLists[n];if(r)for(let i=r.length;i--;){const s=r[i];if(!s)break;const o=s.end;if(s.start<=e&&o!==null&&e<=o)return s}return this.getBufferedFrag(e,n)}getBufferedFrag(e,n){const{fragments:r}=this,i=Object.keys(r);for(let s=i.length;s--;){const o=r[i[s]];if((o==null?void 0:o.body.type)===n&&o.buffered){const a=o.body;if(a.start<=e&&e<=a.end)return a}}return null}detectEvictedFragments(e,n,r,i){this.timeRanges&&(this.timeRanges[e]=n);const s=(i==null?void 0:i.fragment.sn)||-1;Object.keys(this.fragments).forEach(o=>{const a=this.fragments[o];if(!a||s>=a.body.sn)return;if(!a.buffered&&!a.loaded){a.body.type===r&&this.removeFragment(a.body);return}const l=a.range[e];l&&l.time.some(u=>{const d=!this.isTimeBuffered(u.startPTS,u.endPTS,n);return d&&this.removeFragment(a.body),d})})}detectPartialFragments(e){const n=this.timeRanges,{frag:r,part:i}=e;if(!n||r.sn==="initSegment")return;const s=k2(r),o=this.fragments[s];if(!o||o.buffered&&r.gap)return;const a=!r.relurl;Object.keys(n).forEach(l=>{const u=r.elementaryStreams[l];if(!u)return;const d=n[l],f=a||u.partial===!0;o.range[l]=this.getBufferedTimes(r,i,f,d)}),o.loaded=null,Object.keys(o.range).length?(o.buffered=!0,o.body.endList&&(this.endListFragments[o.body.type]=o),jj(o)||this.removeParts(r.sn-1,r.type)):this.removeFragment(o.body)}removeParts(e,n){const r=this.activePartLists[n];r&&(this.activePartLists[n]=r.filter(i=>i.fragment.sn>=e))}fragBuffered(e,n){const r=k2(e);let i=this.fragments[r];!i&&n&&(i=this.fragments[r]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),i&&(i.loaded=null,i.buffered=!0)}getBufferedTimes(e,n,r,i){const s={time:[],partial:r},o=e.start,a=e.end,l=e.minEndPTS||a,u=e.maxStartPTS||o;for(let d=0;d<i.length;d++){const f=i.start(d)-this.bufferPadding,h=i.end(d)+this.bufferPadding;if(u>=f&&l<=h){s.time.push({startPTS:Math.max(o,i.start(d)),endPTS:Math.min(a,i.end(d))});break}else if(o<h&&a>f)s.partial=!0,s.time.push({startPTS:Math.max(o,i.start(d)),endPTS:Math.min(a,i.end(d))});else if(a<=f)break}return s}getPartialFragment(e){let n=null,r,i,s,o=0;const{bufferPadding:a,fragments:l}=this;return Object.keys(l).forEach(u=>{const d=l[u];d&&jj(d)&&(i=d.body.start-a,s=d.body.end+a,e>=i&&e<=s&&(r=Math.min(e-i,s-e),o<=r&&(n=d.body,o=r)))}),n}isEndListAppended(e){const n=this.endListFragments[e];return n!==void 0&&(n.buffered||jj(n))}getState(e){const n=k2(e),r=this.fragments[n];return r?r.buffered?jj(r)?Xa.PARTIAL:Xa.OK:Xa.APPENDING:Xa.NOT_LOADED}isTimeBuffered(e,n,r){let i,s;for(let o=0;o<r.length;o++){if(i=r.start(o)-this.bufferPadding,s=r.end(o)+this.bufferPadding,e>=i&&n<=s)return!0;if(n<=i)return!1}return!1}onFragLoaded(e,n){const{frag:r,part:i}=n;if(r.sn==="initSegment"||r.bitrateTest)return;const s=i?null:n,o=k2(r);this.fragments[o]={body:r,appendedPTS:null,loaded:s,buffered:!1,range:Object.create(null)}}onBufferAppended(e,n){const{frag:r,part:i,timeRanges:s}=n;if(r.sn==="initSegment")return;const o=r.type;if(i){let a=this.activePartLists[o];a||(this.activePartLists[o]=a=[]),a.push(i)}this.timeRanges=s,Object.keys(s).forEach(a=>{const l=s[a];this.detectEvictedFragments(a,l,o,i)})}onFragBuffered(e,n){this.detectPartialFragments(n)}hasFragment(e){const n=k2(e);return!!this.fragments[n]}hasParts(e){var n;return!!((n=this.activePartLists[e])!=null&&n.length)}removeFragmentsInRange(e,n,r,i,s){i&&!this.hasGaps||Object.keys(this.fragments).forEach(o=>{const a=this.fragments[o];if(!a)return;const l=a.body;l.type!==r||i&&!l.gap||l.start<n&&l.end>e&&(a.buffered||s)&&this.removeFragment(l)})}removeFragment(e){const n=k2(e);e.stats.loaded=0,e.clearElementaryStreamInfo();const r=this.activePartLists[e.type];if(r){const i=e.sn;this.activePartLists[e.type]=r.filter(s=>s.fragment.sn!==i)}delete this.fragments[n],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function jj(t){var e,n,r;return t.buffered&&(t.body.gap||((e=t.range.video)==null?void 0:e.partial)||((n=t.range.audio)==null?void 0:n.partial)||((r=t.range.audiovideo)==null?void 0:r.partial))}function k2(t){return`${t.type}_${t.level}_${t.urlId}_${t.sn}`}const Bje=Math.pow(2,17);class Igr{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,n){const r=e.url;if(!r)return Promise.reject(new Eg({type:kn.NETWORK_ERROR,details:Ze.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${r?"part list":"url"}`),networkDetails:null}));this.abort();const i=this.config,s=i.fLoader,o=i.loader;return new Promise((a,l)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(p=>p[0]==="GAP")){l(Vje(e));return}else e.gap=!1;const u=this.loader=e.loader=s?new s(i):new o(i),d=Nje(e),f=$je(i.fragLoadPolicy.default),h={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:Bje};e.stats=u.stats,u.load(d,h,{onSuccess:(p,g,v,y)=>{this.resetLoader(e,u);let x=p.data;v.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(x.slice(0,16)),x=x.slice(16)),a({frag:e,part:null,payload:x,networkDetails:y})},onError:(p,g,v,y)=>{this.resetLoader(e,u),l(new Eg({type:kn.NETWORK_ERROR,details:Ze.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:zc({url:r,data:void 0},p),error:new Error(`HTTP Error ${p.code} ${p.text}`),networkDetails:v,stats:y}))},onAbort:(p,g,v)=>{this.resetLoader(e,u),l(new Eg({type:kn.NETWORK_ERROR,details:Ze.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:v,stats:p}))},onTimeout:(p,g,v)=>{this.resetLoader(e,u),l(new Eg({type:kn.NETWORK_ERROR,details:Ze.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${h.timeout}ms`),networkDetails:v,stats:p}))},onProgress:(p,g,v,y)=>{n&&n({frag:e,part:null,payload:v,networkDetails:y})}})})}loadPart(e,n,r){this.abort();const i=this.config,s=i.fLoader,o=i.loader;return new Promise((a,l)=>{if(this.loader&&this.loader.destroy(),e.gap||n.gap){l(Vje(e,n));return}const u=this.loader=e.loader=s?new s(i):new o(i),d=Nje(e,n),f=$je(i.fragLoadPolicy.default),h={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:Bje};n.stats=u.stats,u.load(d,h,{onSuccess:(p,g,v,y)=>{this.resetLoader(e,u),this.updateStatsFromPart(e,n);const x={frag:e,part:n,payload:p.data,networkDetails:y};r(x),a(x)},onError:(p,g,v,y)=>{this.resetLoader(e,u),l(new Eg({type:kn.NETWORK_ERROR,details:Ze.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:n,response:zc({url:d.url,data:void 0},p),error:new Error(`HTTP Error ${p.code} ${p.text}`),networkDetails:v,stats:y}))},onAbort:(p,g,v)=>{e.stats.aborted=n.stats.aborted,this.resetLoader(e,u),l(new Eg({type:kn.NETWORK_ERROR,details:Ze.INTERNAL_ABORTED,fatal:!1,frag:e,part:n,error:new Error("Aborted"),networkDetails:v,stats:p}))},onTimeout:(p,g,v)=>{this.resetLoader(e,u),l(new Eg({type:kn.NETWORK_ERROR,details:Ze.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:n,error:new Error(`Timeout after ${h.timeout}ms`),networkDetails:v,stats:p}))}})})}updateStatsFromPart(e,n){const r=e.stats,i=n.stats,s=i.total;if(r.loaded+=i.loaded,s){const l=Math.round(e.duration/n.duration),u=Math.min(Math.round(r.loaded/s),l),f=(l-u)*Math.round(r.loaded/u);r.total=r.loaded+f}else r.total=Math.max(r.loaded,r.total);const o=r.loading,a=i.loading;o.start?o.first+=a.first-a.start:(o.start=a.start,o.first=a.first),o.end=a.end}resetLoader(e,n){e.loader=null,this.loader===n&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),n.destroy()}}function Nje(t,e=null){const n=e||t,r={frag:t,part:e,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},i=n.byteRangeStartOffset,s=n.byteRangeEndOffset;if(pn(i)&&pn(s)){var o;let a=i,l=s;if(t.sn==="initSegment"&&((o=t.decryptdata)==null?void 0:o.method)==="AES-128"){const u=s-i;u%16&&(l=s+(16-u%16)),i!==0&&(r.resetIV=!0,a=i-16)}r.rangeStart=a,r.rangeEnd=l}return r}function Vje(t,e){const n=new Error(`GAP ${t.gap?"tag":"attribute"} found`),r={type:kn.MEDIA_ERROR,details:Ze.FRAG_GAP,fatal:!1,frag:t,error:n,networkDetails:null};return e&&(r.part=e),(e||t).stats.aborted=!0,new Eg(r)}class Eg extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class Dgr{constructor(e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const n in this.keyUriToKeyInfo){const r=this.keyUriToKeyInfo[n].loader;if(r){if(e&&e!==r.context.frag.type)return;r.abort()}}}detach(){for(const e in this.keyUriToKeyInfo){const n=this.keyUriToKeyInfo[e];(n.mediaKeySessionContext||n.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyUriToKeyInfo){const n=this.keyUriToKeyInfo[e].loader;n&&n.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(e,n=Ze.KEY_LOAD_ERROR,r,i,s){return new Eg({type:kn.NETWORK_ERROR,details:n,fatal:!1,frag:e,response:s,error:r,networkDetails:i})}loadClear(e,n){if(this.emeController&&this.config.emeEnabled){const{sn:r,cc:i}=e;for(let s=0;s<n.length;s++){const o=n[s];if(i<=o.cc&&(r==="initSegment"||o.sn==="initSegment"||r<o.sn)){this.emeController.selectKeySystemFormat(o).then(a=>{o.setKeyFormat(a)});break}}}}load(e){return!e.decryptdata&&e.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(e).then(n=>this.loadInternal(e,n)):this.loadInternal(e)}loadInternal(e,n){var r,i;n&&e.setKeyFormat(n);const s=e.decryptdata;if(!s){const u=new Error(n?`Expected frag.decryptdata to be defined after setting format ${n}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,Ze.KEY_LOAD_ERROR,u))}const o=s.uri;if(!o)return Promise.reject(this.createKeyLoadError(e,Ze.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${o}"`)));let a=this.keyUriToKeyInfo[o];if((r=a)!=null&&r.decryptdata.key)return s.key=a.decryptdata.key,Promise.resolve({frag:e,keyInfo:a});if((i=a)!=null&&i.keyLoadPromise){var l;switch((l=a.mediaKeySessionContext)==null?void 0:l.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return a.keyLoadPromise.then(u=>(s.key=u.keyInfo.decryptdata.key,{frag:e,keyInfo:a}))}}switch(a=this.keyUriToKeyInfo[o]={decryptdata:s,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},s.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return s.keyFormat==="identity"?this.loadKeyHTTP(a,e):this.loadKeyEME(a,e);case"AES-128":return this.loadKeyHTTP(a,e);default:return Promise.reject(this.createKeyLoadError(e,Ze.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${s.method}"`)))}}loadKeyEME(e,n){const r={frag:n,keyInfo:e};if(this.emeController&&this.config.emeEnabled){const i=this.emeController.loadKey(r);if(i)return(e.keyLoadPromise=i.then(s=>(e.mediaKeySessionContext=s,r))).catch(s=>{throw e.keyLoadPromise=null,s})}return Promise.resolve(r)}loadKeyHTTP(e,n){const r=this.config,i=r.loader,s=new i(r);return n.keyLoader=e.loader=s,e.keyLoadPromise=new Promise((o,a)=>{const l={keyInfo:e,frag:n,responseType:"arraybuffer",url:e.decryptdata.uri},u=r.keyLoadPolicy.default,d={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(h,p,g,v)=>{const{frag:y,keyInfo:x,url:b}=g;if(!y.decryptdata||x!==this.keyUriToKeyInfo[b])return a(this.createKeyLoadError(y,Ze.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),v));x.decryptdata.key=y.decryptdata.key=new Uint8Array(h.data),y.keyLoader=null,x.loader=null,o({frag:y,keyInfo:x})},onError:(h,p,g,v)=>{this.resetLoader(p),a(this.createKeyLoadError(n,Ze.KEY_LOAD_ERROR,new Error(`HTTP Error ${h.code} loading key ${h.text}`),g,zc({url:l.url,data:void 0},h)))},onTimeout:(h,p,g)=>{this.resetLoader(p),a(this.createKeyLoadError(n,Ze.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),g))},onAbort:(h,p,g)=>{this.resetLoader(p),a(this.createKeyLoadError(n,Ze.INTERNAL_ABORTED,new Error("key loading aborted"),g))}};s.load(l,d,f)})}resetLoader(e){const{frag:n,keyInfo:r,url:i}=e,s=r.loader;n.keyLoader===s&&(n.keyLoader=null,r.loader=null),delete this.keyUriToKeyInfo[i],s&&s.destroy()}}class Rgr{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}const jgr={length:0,start:()=>0,end:()=>0};class Ds{static isBuffered(e,n){try{if(e){const r=Ds.getBuffered(e);for(let i=0;i<r.length;i++)if(n>=r.start(i)&&n<=r.end(i))return!0}}catch{}return!1}static bufferInfo(e,n,r){try{if(e){const i=Ds.getBuffered(e),s=[];let o;for(o=0;o<i.length;o++)s.push({start:i.start(o),end:i.end(o)});return this.bufferedInfo(s,n,r)}}catch{}return{len:0,start:n,end:n,nextStart:void 0}}static bufferedInfo(e,n,r){n=Math.max(0,n),e.sort(function(u,d){const f=u.start-d.start;return f||d.end-u.end});let i=[];if(r)for(let u=0;u<e.length;u++){const d=i.length;if(d){const f=i[d-1].end;e[u].start-f<r?e[u].end>f&&(i[d-1].end=e[u].end):i.push(e[u])}else i.push(e[u])}else i=e;let s=0,o,a=n,l=n;for(let u=0;u<i.length;u++){const d=i[u].start,f=i[u].end;if(n+r>=d&&n<f)a=d,l=f,s=l-n;else if(n+r<d){o=d;break}}return{len:s,start:a||0,end:l||0,nextStart:o}}static getBuffered(e){try{return e.buffered}catch(n){return Le.log("failed to get media.buffered",n),jgr}}}class Toe{constructor(e,n,r,i=0,s=-1,o=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=Oj(),this.buffering={audio:Oj(),video:Oj(),audiovideo:Oj()},this.level=e,this.sn=n,this.id=r,this.size=i,this.part=s,this.partial=o}}function Oj(){return{start:0,executeStart:0,executeEnd:0,end:0}}function Crt(t,e){let n=null;for(let r=0,i=t.length;r<i;r++){const s=t[r];if(s&&s.cc===e){n=s;break}}return n}function Ogr(t,e,n){return!!(e.details&&(n.endCC>n.startCC||t&&t.cc<n.startCC))}function Lgr(t,e,n=0){const r=t.fragments,i=e.fragments;if(!i.length||!r.length){Le.log("No fragments to align");return}const s=Crt(r,i[0].cc);if(!s||s&&!s.startPTS){Le.log("No frag in previous level to align on");return}return s}function Uje(t,e){if(t){const n=t.start+e;t.start=t.startPTS=n,t.endPTS=n+t.duration}}function koe(t,e){const n=e.fragments;for(let r=0,i=n.length;r<i;r++)Uje(n[r],t);e.fragmentHint&&Uje(e.fragmentHint,t),e.alignedSliding=!0}function Pgr(t,e,n){e&&(Mgr(t,n,e),!n.alignedSliding&&e.details&&$gr(n,e.details),!n.alignedSliding&&e.details&&!n.skippedSegments&&xrt(e.details,n))}function Mgr(t,e,n){if(Ogr(t,n,e)){const r=Lgr(n.details,e);r&&pn(r.start)&&(Le.log(`Adjusting PTS using last level due to CC increase within current level ${e.url}`),koe(r.start,e))}}function $gr(t,e){if(!e.fragments.length||!t.hasProgramDateTime||!e.hasProgramDateTime)return;const n=e.fragments[0].programDateTime,r=t.fragments[0].programDateTime,i=(r-n)/1e3+e.fragments[0].start;i&&pn(i)&&(Le.log(`Adjusting PTS using programDateTime delta ${r-n}ms, sliding:${i.toFixed(3)} ${t.url} `),koe(i,t))}function Ert(t,e){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;const n=t.fragments,r=e.fragments;if(!n.length||!r.length)return;const i=Math.round(r.length/2)-1,s=r[i],o=Crt(n,s.cc)||n[Math.round(n.length/2)-1],a=s.programDateTime,l=o.programDateTime;if(a===null||l===null)return;const u=(l-a)/1e3-(o.start-s.start);koe(u,t)}class Fgr{constructor(e,n){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=n}decrypt(e,n){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},n,e)}}class Bgr{constructor(e,n){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=n}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}function Ngr(t){const e=t.byteLength,n=e&&new DataView(t.buffer).getUint8(e-1);return n?Ax(t,0,e-n):t}class Vgr{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const n=new DataView(e),r=new Uint32Array(4);for(let i=0;i<4;i++)r[i]=n.getUint32(i*4);return r}initTable(){const e=this.sBox,n=this.invSBox,r=this.subMix,i=r[0],s=r[1],o=r[2],a=r[3],l=this.invSubMix,u=l[0],d=l[1],f=l[2],h=l[3],p=new Uint32Array(256);let g=0,v=0,y=0;for(y=0;y<256;y++)y<128?p[y]=y<<1:p[y]=y<<1^283;for(y=0;y<256;y++){let x=v^v<<1^v<<2^v<<3^v<<4;x=x>>>8^x&255^99,e[g]=x,n[x]=g;const b=p[g],_=p[b],C=p[_];let S=p[x]*257^x*16843008;i[g]=S<<24|S>>>8,s[g]=S<<16|S>>>16,o[g]=S<<8|S>>>24,a[g]=S,S=C*16843009^_*65537^b*257^g*16843008,u[x]=S<<24|S>>>8,d[x]=S<<16|S>>>16,f[x]=S<<8|S>>>24,h[x]=S,g?(g=b^p[p[p[C^b]]],v^=p[p[v]]):g=v=1}}expandKey(e){const n=this.uint8ArrayToUint32Array_(e);let r=!0,i=0;for(;i<n.length&&r;)r=n[i]===this.key[i],i++;if(r)return;this.key=n;const s=this.keySize=n.length;if(s!==4&&s!==6&&s!==8)throw new Error("Invalid aes key size="+s);const o=this.ksRows=(s+6+1)*4;let a,l;const u=this.keySchedule=new Uint32Array(o),d=this.invKeySchedule=new Uint32Array(o),f=this.sBox,h=this.rcon,p=this.invSubMix,g=p[0],v=p[1],y=p[2],x=p[3];let b,_;for(a=0;a<o;a++){if(a<s){b=u[a]=n[a];continue}_=b,a%s===0?(_=_<<8|_>>>24,_=f[_>>>24]<<24|f[_>>>16&255]<<16|f[_>>>8&255]<<8|f[_&255],_^=h[a/s|0]<<24):s>6&&a%s===4&&(_=f[_>>>24]<<24|f[_>>>16&255]<<16|f[_>>>8&255]<<8|f[_&255]),u[a]=b=(u[a-s]^_)>>>0}for(l=0;l<o;l++)a=o-l,l&3?_=u[a]:_=u[a-4],l<4||a<=4?d[l]=_:d[l]=g[f[_>>>24]]^v[f[_>>>16&255]]^y[f[_>>>8&255]]^x[f[_&255]],d[l]=d[l]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,n,r){const i=this.keySize+6,s=this.invKeySchedule,o=this.invSBox,a=this.invSubMix,l=a[0],u=a[1],d=a[2],f=a[3],h=this.uint8ArrayToUint32Array_(r);let p=h[0],g=h[1],v=h[2],y=h[3];const x=new Int32Array(e),b=new Int32Array(x.length);let _,C,S,T,A,k,I,D,R,O,L,P,$,B;const Q=this.networkToHostOrderSwap;for(;n<x.length;){for(R=Q(x[n]),O=Q(x[n+1]),L=Q(x[n+2]),P=Q(x[n+3]),A=R^s[0],k=P^s[1],I=L^s[2],D=O^s[3],$=4,B=1;B<i;B++)_=l[A>>>24]^u[k>>16&255]^d[I>>8&255]^f[D&255]^s[$],C=l[k>>>24]^u[I>>16&255]^d[D>>8&255]^f[A&255]^s[$+1],S=l[I>>>24]^u[D>>16&255]^d[A>>8&255]^f[k&255]^s[$+2],T=l[D>>>24]^u[A>>16&255]^d[k>>8&255]^f[I&255]^s[$+3],A=_,k=C,I=S,D=T,$=$+4;_=o[A>>>24]<<24^o[k>>16&255]<<16^o[I>>8&255]<<8^o[D&255]^s[$],C=o[k>>>24]<<24^o[I>>16&255]<<16^o[D>>8&255]<<8^o[A&255]^s[$+1],S=o[I>>>24]<<24^o[D>>16&255]<<16^o[A>>8&255]<<8^o[k&255]^s[$+2],T=o[D>>>24]<<24^o[A>>16&255]<<16^o[k>>8&255]<<8^o[I&255]^s[$+3],b[n]=Q(_^p),b[n+1]=Q(T^g),b[n+2]=Q(S^v),b[n+3]=Q(C^y),p=R,g=O,v=L,y=P,n=n+4}return b.buffer}}const Ugr=16;class Aoe{constructor(e,{removePKCS7Padding:n=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=e.enableSoftwareAES,this.removePKCS7Padding=n,n)try{const r=self.crypto;r&&(this.subtle=r.subtle||r.webkitSubtle)}catch{}this.subtle===null&&(this.useSoftware=!0)}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:n}=this;if(!e||n)return this.reset(),null;const r=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?Ngr(r):r}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,n,r){return this.useSoftware?new Promise((i,s)=>{this.softwareDecrypt(new Uint8Array(e),n,r);const o=this.flush();o?i(o.buffer):s(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),n,r)}softwareDecrypt(e,n,r){const{currentIV:i,currentResult:s,remainderData:o}=this;this.logOnce("JS AES decrypt"),o&&(e=Qx(o,e),this.remainderData=null);const a=this.getValidChunk(e);if(!a.length)return null;i&&(r=i);let l=this.softwareDecrypter;l||(l=this.softwareDecrypter=new Vgr),l.expandKey(n);const u=s;return this.currentResult=l.decrypt(a.buffer,0,r),this.currentIV=Ax(a,-16).buffer,u||null}webCryptoDecrypt(e,n,r){const i=this.subtle;return(this.key!==n||!this.fastAesKey)&&(this.key=n,this.fastAesKey=new Bgr(i,n)),this.fastAesKey.expandKey().then(s=>i?(this.logOnce("WebCrypto AES decrypt"),new Fgr(i,new Uint8Array(r)).decrypt(e.buffer,s)):Promise.reject(new Error("web crypto not initialized"))).catch(s=>(Le.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${s.name}: ${s.message}`),this.onWebCryptoError(e,n,r)))}onWebCryptoError(e,n,r){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,n,r);const i=this.flush();if(i)return i.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(e){let n=e;const r=e.length-e.length%Ugr;return r!==e.length&&(n=Ax(e,0,r),this.remainderData=Ax(e,r)),n}logOnce(e){this.logEnabled&&(Le.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const Hgr={toString:function(t){let e="";const n=t.length;for(let r=0;r<n;r++)e+=`[${t.start(r).toFixed(3)}-${t.end(r).toFixed(3)}]`;return e}},at={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class Ioe extends Rgr{constructor(e,n,r,i,s){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=at.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=s,this.logPrefix=i,this.log=Le.log.bind(Le,`${i}:`),this.warn=Le.warn.bind(Le,`${i}:`),this.hls=e,this.fragmentLoader=new Igr(e.config),this.keyLoader=r,this.fragmentTracker=n,this.config=e.config,this.decrypter=new Aoe(e.config),e.on(ee.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=at.STOPPED}_streamEnded(e,n){if(n.live||e.nextStart||!e.end||!this.media)return!1;const r=n.partList;if(r!=null&&r.length){const s=r[r.length-1];return Ds.isBuffered(this.media,s.start+s.duration/2)}const i=n.fragments[n.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(i)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null){var e;return(e=this.levels[this.levelLastLoaded])==null?void 0:e.details}}onMediaAttached(e,n){const r=this.media=this.mediaBuffer=n.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),r.addEventListener("seeking",this.onvseeking),r.addEventListener("ended",this.onvended);const i=this.config;this.levels&&i.autoStartLoad&&this.state===at.STOPPED&&this.startLoad(i.startPosition)}onMediaDetaching(){const e=this.media;e!=null&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&this.onvseeking&&this.onvended&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:e,fragCurrent:n,media:r,mediaBuffer:i,state:s}=this,o=r?r.currentTime:0,a=Ds.bufferInfo(i||r,o,e.maxBufferHole);if(this.log(`media seeking to ${pn(o)?o.toFixed(3):o}, state: ${s}`),this.state===at.ENDED)this.resetLoadingState();else if(n){const l=e.maxFragLookUpTolerance,u=n.start-l,d=n.start+n.duration+l;if(!a.len||d<a.start||u>a.end){const f=o>d;(o<u||f)&&(f&&n.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),n.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}r&&(this.fragmentTracker.removeFragmentsInRange(o,1/0,this.playlistType,!0),this.lastCurrentTime=o),!this.loadedmetadata&&!a.len&&(this.nextLoadPosition=this.startPosition=o),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(e,n){this.startTimeOffset=n.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.stopLoad(),super.onHandlerDestroying()}onHandlerDestroyed(){this.state=at.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,n,r){this._loadFragForPlayback(e,n,r)}_loadFragForPlayback(e,n,r){const i=s=>{if(this.fragContextChanged(e)){this.warn(`Fragment ${e.sn}${s.part?" p: "+s.part.index:""} of level ${e.level} was dropped during download.`),this.fragmentTracker.removeFragment(e);return}e.stats.chunkCount++,this._handleFragmentLoadProgress(s)};this._doFragLoad(e,n,r,i).then(s=>{if(!s)return;const o=this.state;if(this.fragContextChanged(e)){(o===at.FRAG_LOADING||!this.fragCurrent&&o===at.PARSING)&&(this.fragmentTracker.removeFragment(e),this.state=at.IDLE);return}"payload"in s&&(this.log(`Loaded fragment ${e.sn} of level ${e.level}`),this.hls.trigger(ee.FRAG_LOADED,s)),this._handleFragmentLoadComplete(s)}).catch(s=>{this.state===at.STOPPED||this.state===at.ERROR||(this.warn(s),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var n;const{fragmentTracker:r}=this;if(r.getState(e)===Xa.APPENDING){const s=e.type,o=this.getFwdBufferInfo(this.mediaBuffer,s),a=Math.max(e.duration,o?o.len:this.config.maxBufferLength);this.reduceMaxBufferLength(a)&&r.removeFragment(e)}else((n=this.mediaBuffer)==null?void 0:n.buffered.length)===0?r.removeAllFragments():r.hasParts(e.type)&&(r.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),r.getState(e)===Xa.PARTIAL&&r.removeFragment(e))}flushMainBuffer(e,n,r=null){if(!(e-n))return;const i={startOffset:e,endOffset:n,type:r};this.hls.trigger(ee.BUFFER_FLUSHING,i)}_loadInitSegment(e,n){this._doFragLoad(e,n).then(r=>{if(!r||this.fragContextChanged(e)||!this.levels)throw new Error("init load aborted");return r}).then(r=>{const{hls:i}=this,{payload:s}=r,o=e.decryptdata;if(s&&s.byteLength>0&&o&&o.key&&o.iv&&o.method==="AES-128"){const a=self.performance.now();return this.decrypter.decrypt(new Uint8Array(s),o.key.buffer,o.iv.buffer).catch(l=>{throw i.trigger(ee.ERROR,{type:kn.MEDIA_ERROR,details:Ze.FRAG_DECRYPT_ERROR,fatal:!1,error:l,reason:l.message,frag:e}),l}).then(l=>{const u=self.performance.now();return i.trigger(ee.FRAG_DECRYPTED,{frag:e,payload:l,stats:{tstart:a,tdecrypt:u}}),r.payload=l,r})}return r}).then(r=>{const{fragCurrent:i,hls:s,levels:o}=this;if(!o)throw new Error("init load aborted, missing levels");const a=e.stats;this.state=at.IDLE,n.fragmentError=0,e.data=new Uint8Array(r.payload),a.parsing.start=a.buffering.start=self.performance.now(),a.parsing.end=a.buffering.end=self.performance.now(),r.frag===i&&s.trigger(ee.FRAG_BUFFERED,{stats:a,frag:i,part:null,id:e.type}),this.tick()}).catch(r=>{this.state===at.STOPPED||this.state===at.ERROR||(this.warn(r),this.resetFragmentLoading(e))})}fragContextChanged(e){const{fragCurrent:n}=this;return!e||!n||e.level!==n.level||e.sn!==n.sn||e.urlId!==n.urlId}fragBufferedComplete(e,n){var r,i,s,o;const a=this.mediaBuffer?this.mediaBuffer:this.media;this.log(`Buffered ${e.type} sn: ${e.sn}${n?" part: "+n.index:""} of ${this.playlistType===Dn.MAIN?"level":"track"} ${e.level} (frag:[${((r=e.startPTS)!=null?r:NaN).toFixed(3)}-${((i=e.endPTS)!=null?i:NaN).toFixed(3)}] > buffer:${a?Hgr.toString(Ds.getBuffered(a)):"(detached)"})`),this.state=at.IDLE,a&&(!this.loadedmetadata&&e.type==Dn.MAIN&&a.buffered.length&&((s=this.fragCurrent)==null?void 0:s.sn)===((o=this.fragPrevious)==null?void 0:o.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(e){const{transmuxer:n}=this;if(!n)return;const{frag:r,part:i,partsLoaded:s}=e,o=!s||s.length===0||s.some(l=>!l),a=new Toe(r.level,r.sn,r.stats.chunkCount+1,0,i?i.index:-1,!o);n.flush(a)}_handleFragmentLoadProgress(e){}_doFragLoad(e,n,r=null,i){var s;const o=n==null?void 0:n.details;if(!this.levels||!o)throw new Error(`frag load aborted, missing level${o?"":" detail"}s`);let a=null;if(e.encrypted&&!((s=e.decryptdata)!=null&&s.key)?(this.log(`Loading key for ${e.sn} of [${o.startSN}-${o.endSN}], ${this.logPrefix==="[stream-controller]"?"level":"track"} ${e.level}`),this.state=at.KEY_LOADING,this.fragCurrent=e,a=this.keyLoader.load(e).then(d=>{if(!this.fragContextChanged(d.frag))return this.hls.trigger(ee.KEY_LOADED,d),this.state===at.KEY_LOADING&&(this.state=at.IDLE),d}),this.hls.trigger(ee.KEY_LOADING,{frag:e}),this.fragCurrent===null&&(a=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))):!e.encrypted&&o.encryptedFragments.length&&this.keyLoader.loadClear(e,o.encryptedFragments),r=Math.max(e.start,r||0),this.config.lowLatencyMode&&e.sn!=="initSegment"){const d=o.partList;if(d&&i){r>e.end&&o.fragmentHint&&(e=o.fragmentHint);const f=this.getNextPart(d,e,r);if(f>-1){const h=d[f];this.log(`Loading part sn: ${e.sn} p: ${h.index} cc: ${e.cc} of playlist [${o.startSN}-${o.endSN}] parts [0-${f}-${d.length-1}] ${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(r.toFixed(3))}`),this.nextLoadPosition=h.start+h.duration,this.state=at.FRAG_LOADING;let p;return a?p=a.then(g=>!g||this.fragContextChanged(g.frag)?null:this.doFragPartsLoad(e,h,n,i)).catch(g=>this.handleFragLoadError(g)):p=this.doFragPartsLoad(e,h,n,i).catch(g=>this.handleFragLoadError(g)),this.hls.trigger(ee.FRAG_LOADING,{frag:e,part:h,targetBufferTime:r}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):p}else if(!e.url||this.loadedEndOfParts(d,r))return Promise.resolve(null)}}this.log(`Loading fragment ${e.sn} cc: ${e.cc} ${o?"of ["+o.startSN+"-"+o.endSN+"] ":""}${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(r.toFixed(3))}`),pn(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=at.FRAG_LOADING;const l=this.config.progressive;let u;return l&&a?u=a.then(d=>!d||this.fragContextChanged(d==null?void 0:d.frag)?null:this.fragmentLoader.load(e,i)).catch(d=>this.handleFragLoadError(d)):u=Promise.all([this.fragmentLoader.load(e,l?i:void 0),a]).then(([d])=>(!l&&d&&i&&i(d),d)).catch(d=>this.handleFragLoadError(d)),this.hls.trigger(ee.FRAG_LOADING,{frag:e,targetBufferTime:r}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):u}doFragPartsLoad(e,n,r,i){return new Promise((s,o)=>{var a;const l=[],u=(a=r.details)==null?void 0:a.partList,d=f=>{this.fragmentLoader.loadPart(e,f,i).then(h=>{l[f.index]=h;const p=h.part;this.hls.trigger(ee.FRAG_LOADED,h);const g=Pje(r,e.sn,f.index+1)||wrt(u,e.sn,f.index+1);if(g)d(g);else return s({frag:e,part:p,partsLoaded:l})}).catch(o)};d(n)})}handleFragLoadError(e){if("data"in e){const n=e.data;e.data&&n.details===Ze.INTERNAL_ABORTED?this.handleFragLoadAborted(n.frag,n.part):this.hls.trigger(ee.ERROR,n)}else this.hls.trigger(ee.ERROR,{type:kn.OTHER_ERROR,details:Ze.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const n=this.getCurrentContext(e);if(!n||this.state!==at.PARSING){!this.fragCurrent&&this.state!==at.STOPPED&&this.state!==at.ERROR&&(this.state=at.IDLE);return}const{frag:r,part:i,level:s}=n,o=self.performance.now();r.stats.parsing.end=o,i&&(i.stats.parsing.end=o),this.updateLevelTiming(r,i,s,e.partial)}getCurrentContext(e){const{levels:n,fragCurrent:r}=this,{level:i,sn:s,part:o}=e;if(!(n!=null&&n[i]))return this.warn(`Levels object was unset while buffering fragment ${s} of level ${i}. The current chunk will not be buffered.`),null;const a=n[i],l=o>-1?Pje(a,s,o):null,u=l?l.fragment:bgr(a,s,r);return u?(r&&r!==u&&(u.stats=r.stats),{frag:u,part:l,level:a}):null}bufferFragmentData(e,n,r,i,s){var o;if(!e||this.state!==at.PARSING)return;const{data1:a,data2:l}=e;let u=a;if(a&&l&&(u=Qx(a,l)),!((o=u)!=null&&o.length))return;const d={type:e.type,frag:n,part:r,chunkMeta:i,parent:n.type,data:u};if(this.hls.trigger(ee.BUFFER_APPENDING,d),e.dropped&&e.independent&&!r){if(s)return;this.flushBufferGap(n)}}flushBufferGap(e){const n=this.media;if(!n)return;if(!Ds.isBuffered(n,n.currentTime)){this.flushMainBuffer(0,e.start);return}const r=n.currentTime,i=Ds.bufferInfo(n,r,0),s=e.duration,o=Math.min(this.config.maxFragLookUpTolerance*2,s*.25),a=Math.max(Math.min(e.start-o,i.end-o),r+o);e.start-a>o&&this.flushMainBuffer(a,e.start)}getFwdBufferInfo(e,n){const r=this.getLoadPosition();return pn(r)?this.getFwdBufferInfoAtPos(e,r,n):null}getFwdBufferInfoAtPos(e,n,r){const{config:{maxBufferHole:i}}=this,s=Ds.bufferInfo(e,n,i);if(s.len===0&&s.nextStart!==void 0){const o=this.fragmentTracker.getBufferedFrag(n,r);if(o&&s.nextStart<o.end)return Ds.bufferInfo(e,n,Math.max(s.nextStart,i))}return s}getMaxBufferLength(e){const{config:n}=this;let r;return e?r=Math.max(8*n.maxBufferSize/e,n.maxBufferLength):r=n.maxBufferLength,Math.min(r,n.maxMaxBufferLength)}reduceMaxBufferLength(e){const n=this.config,r=e||n.maxBufferLength;return n.maxMaxBufferLength>=r?(n.maxMaxBufferLength/=2,this.warn(`Reduce max buffer length to ${n.maxMaxBufferLength}s`),!0):!1}getAppendedFrag(e,n=Dn.MAIN){const r=this.fragmentTracker.getAppendedFrag(e,Dn.MAIN);return r&&"fragment"in r?r.fragment:r}getNextFragment(e,n){const r=n.fragments,i=r.length;if(!i)return null;const{config:s}=this,o=r[0].start;let a;if(n.live){const l=s.initialLiveManifestSize;if(i<l)return this.warn(`Not enough fragments to start playback (have: ${i}, need: ${l})`),null;!n.PTSKnown&&!this.startFragRequested&&this.startPosition===-1&&(a=this.getInitialLiveFragment(n,r),this.startPosition=a?this.hls.liveSyncPosition||a.start:e)}else e<=o&&(a=r[0]);if(!a){const l=s.lowLatencyMode?n.partEnd:n.fragmentEnd;a=this.getFragmentAtPosition(e,l,n)}return this.mapToInitFragWhenRequired(a)}isLoopLoading(e,n){const r=this.fragmentTracker.getState(e);return(r===Xa.OK||r===Xa.PARTIAL&&!!e.gap)&&this.nextLoadPosition>n}getNextFragmentLoopLoading(e,n,r,i,s){const o=e.gap,a=this.getNextFragment(this.nextLoadPosition,n);if(a===null)return a;if(e=a,o&&e&&!e.gap&&r.nextStart){const l=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,r.nextStart,i);if(l!==null&&r.len+l.len>=s)return this.log(`buffer full after gaps in "${i}" playlist starting at sn: ${e.sn}`),null}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!(e!=null&&e.initSegment.data)&&!this.bitrateTest?e.initSegment:e}getNextPart(e,n,r){let i=-1,s=!1,o=!0;for(let a=0,l=e.length;a<l;a++){const u=e[a];if(o=o&&!u.independent,i>-1&&r<u.start)break;const d=u.loaded;d?i=-1:(s||u.independent||o)&&u.fragment===n&&(i=a),s=d}return i}loadedEndOfParts(e,n){const r=e[e.length-1];return r&&n>r.start&&r.loaded}getInitialLiveFragment(e,n){const r=this.fragPrevious;let i=null;if(r){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${r.programDateTime}`),i=wgr(n,r.endProgramDateTime,this.config.maxFragLookUpTolerance)),!i){const s=r.sn+1;if(s>=e.startSN&&s<=e.endSN){const o=n[s-e.startSN];r.cc===o.cc&&(i=o,this.log(`Live playlist, switching playlist, load frag with next SN: ${i.sn}`))}i||(i=Cgr(n,r.cc),i&&this.log(`Live playlist, switching playlist, load frag with same CC: ${i.sn}`))}}else{const s=this.hls.liveSyncPosition;s!==null&&(i=this.getFragmentAtPosition(s,this.bitrateTest?e.fragmentEnd:e.edge,e))}return i}getFragmentAtPosition(e,n,r){const{config:i}=this;let{fragPrevious:s}=this,{fragments:o,endSN:a}=r;const{fragmentHint:l}=r,u=i.maxFragLookUpTolerance,d=r.partList,f=!!(i.lowLatencyMode&&d!=null&&d.length&&l);f&&l&&!this.bitrateTest&&(o=o.concat(l),a=l.sn);let h;if(e<n){const p=e>n-u?0:u;h=j3(s,o,e,p)}else h=o[o.length-1];if(h){const p=h.sn-r.startSN,g=this.fragmentTracker.getState(h);if((g===Xa.OK||g===Xa.PARTIAL&&h.gap)&&(s=h),s&&h.sn===s.sn&&(!f||d[0].fragment.sn>h.sn)&&s&&h.level===s.level){const y=o[p+1];h.sn<a&&this.fragmentTracker.getState(y)!==Xa.OK?h=y:h=null}}return h}synchronizeToLiveEdge(e){const{config:n,media:r}=this;if(!r)return;const i=this.hls.liveSyncPosition,s=r.currentTime,o=e.fragments[0].start,a=e.edge,l=s>=o-n.maxFragLookUpTolerance&&s<=a;if(i!==null&&r.duration>i&&(s<i||!l)){const u=n.liveMaxLatencyDuration!==void 0?n.liveMaxLatencyDuration:n.liveMaxLatencyDurationCount*e.targetduration;(!l&&r.readyState<4||s<a-u)&&(this.loadedmetadata||(this.nextLoadPosition=i),r.readyState&&(this.warn(`Playback: ${s.toFixed(3)} is located too far from the end of live sliding playlist: ${a}, reset currentTime to : ${i.toFixed(3)}`),r.currentTime=i))}}alignPlaylists(e,n){const{levels:r,levelLastLoaded:i,fragPrevious:s}=this,o=i!==null?r[i]:null,a=e.fragments.length;if(!a)return this.warn("No fragments in live playlist"),0;const l=e.fragments[0].start,u=!n,d=e.alignedSliding&&pn(l);if(u||!d&&!l){Pgr(s,o,e);const f=e.fragments[0].start;return this.log(`Live playlist sliding: ${f.toFixed(2)} start-sn: ${n?n.startSN:"na"}->${e.startSN} prev-sn: ${s?s.sn:"na"} fragments: ${a}`),f}return l}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,n){let r=this.startPosition;if(r<n&&(r=-1),r===-1||this.lastCurrentTime===-1){const i=this.startTimeOffset!==null,s=i?this.startTimeOffset:e.startTimeOffset;s!==null&&pn(s)?(r=n+s,s<0&&(r+=e.totalduration),r=Math.min(Math.max(n,r),n+e.totalduration),this.log(`Start time offset ${s} found in ${i?"multivariant":"media"} playlist, adjust startPosition to ${r}`),this.startPosition=r):e.live?r=this.hls.liveSyncPosition||n:this.startPosition=r=0,this.lastCurrentTime=r}this.nextLoadPosition=r}getLoadPosition(){const{media:e}=this;let n=0;return this.loadedmetadata&&e?n=e.currentTime:this.nextLoadPosition&&(n=this.nextLoadPosition),n}handleFragLoadAborted(e,n){this.transmuxer&&e.sn!=="initSegment"&&e.stats.aborted&&(this.warn(`Fragment ${e.sn}${n?" part "+n.index:""} of level ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==at.FRAG_LOADING_WAITING_RETRY)&&(this.state=at.IDLE)}onFragmentOrKeyLoadError(e,n){if(n.chunkMeta&&!n.frag){const f=this.getCurrentContext(n.chunkMeta);f&&(n.frag=f.frag)}const r=n.frag;if(!r||r.type!==e||!this.levels)return;if(this.fragContextChanged(r)){var i;this.warn(`Frag load error must match current frag to retry ${r.url} > ${(i=this.fragCurrent)==null?void 0:i.url}`);return}const s=n.details===Ze.FRAG_GAP;s&&this.fragmentTracker.fragBuffered(r,!0);const o=n.errorAction,{action:a,retryCount:l=0,retryConfig:u}=o||{};if(o&&a===ru.RetryRequest&&u){var d;this.resetStartWhenNotLoaded((d=this.levelLastLoaded)!=null?d:r.level);const f=Eoe(u,l);this.warn(`Fragment ${r.sn} of ${e} ${r.level} errored with ${n.details}, retrying loading ${l+1}/${u.maxNumRetry} in ${f}ms`),o.resolved=!0,this.retryDate=self.performance.now()+f,this.state=at.FRAG_LOADING_WAITING_RETRY}else u&&o?(this.resetFragmentErrors(e),l<u.maxNumRetry?s||(o.resolved=!0):Le.warn(`${n.details} reached or exceeded max retry (${l})`)):(o==null?void 0:o.action)===ru.SendAlternateToPenaltyBox?this.state=at.WAITING_LEVEL:this.state=at.ERROR;this.tickImmediate()}reduceLengthAndFlushBuffer(e){if(this.state===at.PARSING||this.state===at.PARSED){const n=e.parent,r=this.getFwdBufferInfo(this.mediaBuffer,n),i=r&&r.len>.5;i&&this.reduceMaxBufferLength(r.len);const s=!i;return s&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${n} buffer`),e.frag&&(this.fragmentTracker.removeFragment(e.frag),this.nextLoadPosition=e.frag.start),this.resetLoadingState(),s}return!1}resetFragmentErrors(e){e===Dn.AUDIO&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==at.STOPPED&&(this.state=at.IDLE)}afterBufferFlushed(e,n,r){if(!e)return;const i=Ds.getBuffered(e);this.fragmentTracker.detectEvictedFragments(n,i,r),this.state===at.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=at.IDLE}resetStartWhenNotLoaded(e){if(!this.loadedmetadata){this.startFragRequested=!1;const n=this.levels?this.levels[e].details:null;n!=null&&n.live?(this.startPosition=-1,this.setStartPosition(n,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){var n;this.warn(`The loading context changed while buffering fragment ${e.sn} of level ${e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded((n=this.levelLastLoaded)!=null?n:e.level),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,n,r,i){var s;const o=r.details;if(!o){this.warn("level.details undefined");return}if(Object.keys(e.elementaryStreams).reduce((l,u)=>{const d=e.elementaryStreams[u];if(d){const f=d.endPTS-d.startPTS;if(f<=0)return this.warn(`Could not parse fragment ${e.sn} ${u} duration reliably (${f})`),l||!1;const h=i?0:brt(o,e,d.startPTS,d.endPTS,d.startDTS,d.endDTS);return this.hls.trigger(ee.LEVEL_PTS_UPDATED,{details:o,level:r,drift:h,type:u,frag:e,start:d.startPTS,end:d.endPTS}),!0}return l},!1))r.fragmentError=0;else if(((s=this.transmuxer)==null?void 0:s.error)===null){const l=new Error(`Found no media in fragment ${e.sn} of level ${e.level} resetting transmuxer to fallback to playlist timing`);if(r.fragmentError===0&&(r.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)),this.warn(l.message),this.hls.trigger(ee.ERROR,{type:kn.MEDIA_ERROR,details:Ze.FRAG_PARSING_ERROR,fatal:!1,error:l,frag:e,reason:`Found no media in msn ${e.sn} of level "${r.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state=at.PARSED,this.hls.trigger(ee.FRAG_PARSED,{frag:e,part:n})}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(e){if(e.event==="demuxerWorker"){var n,r,i;this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded((n=(r=this.levelLastLoaded)!=null?r:(i=this.fragCurrent)==null?void 0:i.level)!=null?n:0),this.resetLoadingState()}}set state(e){const n=this._state;n!==e&&(this._state=e,this.log(`${n}->${e}`))}get state(){return this._state}}function Srt(){return self.SourceBuffer||self.WebKitSourceBuffer}function zgr(){const t=UF();if(!t)return!1;const e=Srt(),n=t&&typeof t.isTypeSupported=="function"&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function";return!!n&&!!r}function Wgr(){var t;const e=Srt();return typeof(e==null||(t=e.prototype)==null?void 0:t.changeType)=="function"}function Ggr(){return typeof __HLS_WORKER_BUNDLE__=="function"}function qgr(){const t=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),e=self.URL.createObjectURL(t);return{worker:new self.Worker(e),objectURL:e}}function Ygr(t){const e=new self.URL(t,self.location.href).href;return{worker:new self.Worker(e),scriptURL:e}}function Np(t="",e=9e4){return{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class Trt{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,n,r,i){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,n){return!1}appendFrame(e,n,r){}demux(e,n){this.cachedData&&(e=Qx(this.cachedData,e),this.cachedData=null);let r=D8(e,0),i=r?r.length:0,s;const o=this._audioTrack,a=this._id3Track,l=r?Dmr(r):void 0,u=e.length;for((this.basePTS===null||this.frameIndex===0&&pn(l))&&(this.basePTS=Kgr(l,n,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),r&&r.length>0&&a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:vh.audioId3,duration:Number.POSITIVE_INFINITY});i<u;){if(this.canParse(e,i)){const d=this.appendFrame(o,e,i);d?(this.frameIndex++,this.lastPTS=d.sample.pts,i+=d.length,s=i):i=u}else Imr(e,i)?(r=D8(e,i),a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:vh.audioId3,duration:Number.POSITIVE_INFINITY}),i+=r.length,s=i):i++;if(i===u&&s!==u){const d=Ax(e,s);this.cachedData?this.cachedData=Qx(this.cachedData,d):this.cachedData=d}}return{audioTrack:o,videoTrack:Np(),id3Track:a,textTrack:Np()}}demuxSampleAes(e,n,r){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const n=this.cachedData;return n&&(this.cachedData=null,this.demux(n,0)),{audioTrack:this._audioTrack,videoTrack:Np(),id3Track:this._id3Track,textTrack:Np()}}destroy(){}}const Kgr=(t,e,n)=>{if(pn(t))return t*90;const r=n?n.baseTime*9e4/n.timescale:0;return e*9e4+r};function Zgr(t,e,n,r){let i,s,o,a;const l=navigator.userAgent.toLowerCase(),u=r,d=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];i=((e[n+2]&192)>>>6)+1;const f=(e[n+2]&60)>>>2;if(f>d.length-1){t.trigger(ee.ERROR,{type:kn.MEDIA_ERROR,details:Ze.FRAG_PARSING_ERROR,fatal:!0,reason:`invalid ADTS sampling index:${f}`});return}return o=(e[n+2]&1)<<2,o|=(e[n+3]&192)>>>6,Le.log(`manifest codec:${r}, ADTS type:${i}, samplingIndex:${f}`),/firefox/i.test(l)?f>=6?(i=5,a=new Array(4),s=f-3):(i=2,a=new Array(2),s=f):l.indexOf("android")!==-1?(i=2,a=new Array(2),s=f):(i=5,a=new Array(4),r&&(r.indexOf("mp4a.40.29")!==-1||r.indexOf("mp4a.40.5")!==-1)||!r&&f>=6?s=f-3:((r&&r.indexOf("mp4a.40.2")!==-1&&(f>=6&&o===1||/vivaldi/i.test(l))||!r&&o===1)&&(i=2,a=new Array(2)),s=f)),a[0]=i<<3,a[0]|=(f&14)>>1,a[1]|=(f&1)<<7,a[1]|=o<<3,i===5&&(a[1]|=(s&14)>>1,a[2]=(s&1)<<7,a[2]|=8,a[3]=0),{config:a,samplerate:d[f],channelCount:o,codec:"mp4a.40."+i,manifestCodec:u}}function krt(t,e){return t[e]===255&&(t[e+1]&246)===240}function Art(t,e){return t[e+1]&1?7:9}function Doe(t,e){return(t[e+3]&3)<<11|t[e+4]<<3|(t[e+5]&224)>>>5}function Xgr(t,e){return e+5<t.length}function P8(t,e){return e+1<t.length&&krt(t,e)}function Qgr(t,e){return Xgr(t,e)&&krt(t,e)&&Doe(t,e)<=t.length-e}function Jgr(t,e){if(P8(t,e)){const n=Art(t,e);if(e+n>=t.length)return!1;const r=Doe(t,e);if(r<=n)return!1;const i=e+r;return i===t.length||P8(t,i)}return!1}function Irt(t,e,n,r,i){if(!t.samplerate){const s=Zgr(e,n,r,i);if(!s)return;t.config=s.config,t.samplerate=s.samplerate,t.channelCount=s.channelCount,t.codec=s.codec,t.manifestCodec=s.manifestCodec,Le.log(`parsed codec:${t.codec}, rate:${s.samplerate}, channels:${s.channelCount}`)}}function Drt(t){return 1024*9e4/t}function e0r(t,e){const n=Art(t,e);if(e+n<=t.length){const r=Doe(t,e)-n;if(r>0)return{headerLength:n,frameLength:r}}}function Rrt(t,e,n,r,i){const s=Drt(t.samplerate),o=r+i*s,a=e0r(e,n);let l;if(a){const{frameLength:f,headerLength:h}=a,p=h+f,g=Math.max(0,n+p-e.length);g?(l=new Uint8Array(p-h),l.set(e.subarray(n+h,e.length),0)):l=e.subarray(n+h,n+p);const v={unit:l,pts:o};return g||t.samples.push(v),{sample:v,length:p,missing:g}}const u=e.length-n;return l=new Uint8Array(u),l.set(e.subarray(n,e.length),0),{sample:{unit:l,pts:o},length:u,missing:-1}}class t0r extends Trt{constructor(e,n){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=n}resetInitSegment(e,n,r,i){super.resetInitSegment(e,n,r,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:n,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;let r=(D8(e,0)||[]).length;for(let i=e.length;r<i;r++)if(Jgr(e,r))return Le.log("ADTS sync word found !"),!0;return!1}canParse(e,n){return Qgr(e,n)}appendFrame(e,n,r){Irt(e,this.observer,n,r,e.manifestCodec);const i=Rrt(e,n,r,this.basePTS,this.frameIndex);if(i&&i.missing===0)return i}}const n0r=/\/emsg[-/]ID3/i;class r0r{constructor(e,n){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=n}resetTimeStamp(){}resetInitSegment(e,n,r,i){const s=this.videoTrack=Np("video",1),o=this.audioTrack=Np("audio",1),a=this.txtTrack=Np("text",1);if(this.id3Track=Np("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const l=frt(e);if(l.video){const{id:u,timescale:d,codec:f}=l.video;s.id=u,s.timescale=a.timescale=d,s.codec=f}if(l.audio){const{id:u,timescale:d,codec:f}=l.audio;o.id=u,o.timescale=d,o.codec=f}a.id=urt.text,s.sampleDuration=0,s.duration=o.duration=i}resetContiguity(){this.remainderData=null}static probe(e){return e=e.length>16384?e.subarray(0,16384):e,Qr(e,["moof"]).length>0}demux(e,n){this.timeOffset=n;let r=e;const i=this.videoTrack,s=this.txtTrack;if(this.config.progressive){this.remainderData&&(r=Qx(this.remainderData,e));const a=Wmr(r);this.remainderData=a.remainder,i.samples=a.valid||new Uint8Array}else i.samples=r;const o=this.extractID3Track(i,n);return s.samples=xje(n,i),{videoTrack:i,audioTrack:this.audioTrack,id3Track:o,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,n=this.videoTrack,r=this.txtTrack;n.samples=this.remainderData||new Uint8Array,this.remainderData=null;const i=this.extractID3Track(n,this.timeOffset);return r.samples=xje(e,n),{videoTrack:n,audioTrack:Np(),id3Track:i,textTrack:Np()}}extractID3Track(e,n){const r=this.id3Track;if(e.samples.length){const i=Qr(e.samples,["emsg"]);i&&i.forEach(s=>{const o=Ymr(s);if(n0r.test(o.schemeIdUri)){const a=pn(o.presentationTime)?o.presentationTime/o.timeScale:n+o.presentationTimeDelta/o.timeScale;let l=o.eventDuration===4294967295?Number.POSITIVE_INFINITY:o.eventDuration/o.timeScale;l<=.001&&(l=Number.POSITIVE_INFINITY);const u=o.payload;r.samples.push({data:u,len:u.byteLength,dts:a,pts:a,type:vh.emsg,duration:l})}})}return r}demuxSampleAes(e,n,r){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}}let Lj=null;const i0r=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],s0r=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],o0r=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],a0r=[0,1,1,4];function jrt(t,e,n,r,i){if(n+24>e.length)return;const s=Ort(e,n);if(s&&n+s.frameLength<=e.length){const o=s.samplesPerFrame*9e4/s.sampleRate,a=r+i*o,l={unit:e.subarray(n,n+s.frameLength),pts:a,dts:a};return t.config=[],t.channelCount=s.channelCount,t.samplerate=s.sampleRate,t.samples.push(l),{sample:l,length:s.frameLength,missing:0}}}function Ort(t,e){const n=t[e+1]>>3&3,r=t[e+1]>>1&3,i=t[e+2]>>4&15,s=t[e+2]>>2&3;if(n!==1&&i!==0&&i!==15&&s!==3){const o=t[e+2]>>1&1,a=t[e+3]>>6,l=n===3?3-r:r===3?3:4,u=i0r[l*14+i-1]*1e3,f=s0r[(n===3?0:n===2?1:2)*3+s],h=a===3?1:2,p=o0r[n][r],g=a0r[r],v=p*8*g,y=Math.floor(p*u/f+o)*g;if(Lj===null){const _=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Lj=_?parseInt(_[1]):0}return!!Lj&&Lj<=87&&r===2&&u>=224e3&&a===0&&(t[e+3]=t[e+3]|128),{sampleRate:f,channelCount:h,frameLength:y,samplesPerFrame:v}}}function Roe(t,e){return t[e]===255&&(t[e+1]&224)===224&&(t[e+1]&6)!==0}function Lrt(t,e){return e+1<t.length&&Roe(t,e)}function l0r(t,e){return Roe(t,e)&&4<=t.length-e}function u0r(t,e){if(e+1<t.length&&Roe(t,e)){const r=Ort(t,e);let i=4;r!=null&&r.frameLength&&(i=r.frameLength);const s=e+i;return s===t.length||Lrt(t,s)}return!1}class Hje{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,n=this.bytesAvailable,r=e.byteLength-n,i=new Uint8Array(4),s=Math.min(4,n);if(s===0)throw new Error("no bytes available");i.set(e.subarray(r,r+s)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=s*8,this.bytesAvailable-=s}skipBits(e){let n;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,n=e>>3,e-=n<<3,this.bytesAvailable-=n,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let n=Math.min(this.bitsAvailable,e);const r=this.word>>>32-n;if(e>32&&Le.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=n,this.bitsAvailable>0)this.word<<=n;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return n=e-n,n>0&&this.bitsAvailable?r<<n|this.readBits(n):r}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if(this.word&2147483648>>>e)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(e){let n=8,r=8,i;for(let s=0;s<e;s++)r!==0&&(i=this.readEG(),r=(n+i+256)%256),n=r===0?n:r}readSPS(){let e=0,n=0,r=0,i=0,s,o,a;const l=this.readUByte.bind(this),u=this.readBits.bind(this),d=this.readUEG.bind(this),f=this.readBoolean.bind(this),h=this.skipBits.bind(this),p=this.skipEG.bind(this),g=this.skipUEG.bind(this),v=this.skipScalingList.bind(this);l();const y=l();if(u(5),h(3),l(),g(),y===100||y===110||y===122||y===244||y===44||y===83||y===86||y===118||y===128){const T=d();if(T===3&&h(1),g(),g(),h(1),f())for(o=T!==3?8:12,a=0;a<o;a++)f()&&(a<6?v(16):v(64))}g();const x=d();if(x===0)d();else if(x===1)for(h(1),p(),p(),s=d(),a=0;a<s;a++)p();g(),h(1);const b=d(),_=d(),C=u(1);C===0&&h(1),h(1),f()&&(e=d(),n=d(),r=d(),i=d());let S=[1,1];if(f()&&f())switch(l()){case 1:S=[1,1];break;case 2:S=[12,11];break;case 3:S=[10,11];break;case 4:S=[16,11];break;case 5:S=[40,33];break;case 6:S=[24,11];break;case 7:S=[20,11];break;case 8:S=[32,11];break;case 9:S=[80,33];break;case 10:S=[18,11];break;case 11:S=[15,11];break;case 12:S=[64,33];break;case 13:S=[160,99];break;case 14:S=[4,3];break;case 15:S=[3,2];break;case 16:S=[2,1];break;case 255:{S=[l()<<8|l(),l()<<8|l()];break}}return{width:Math.ceil((b+1)*16-e*2-n*2),height:(2-C)*(_+1)*16-(C?2:4)*(r+i),pixelRatio:S}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class c0r{constructor(e,n,r){this.keyData=void 0,this.decrypter=void 0,this.keyData=r,this.decrypter=new Aoe(n,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(e,n,r){const i=e[n].unit;if(i.length<=16)return;const s=i.subarray(16,i.length-i.length%16),o=s.buffer.slice(s.byteOffset,s.byteOffset+s.length);this.decryptBuffer(o).then(a=>{const l=new Uint8Array(a);i.set(l,16),this.decrypter.isSync()||this.decryptAacSamples(e,n+1,r)})}decryptAacSamples(e,n,r){for(;;n++){if(n>=e.length){r();return}if(!(e[n].unit.length<32)&&(this.decryptAacSample(e,n,r),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const n=Math.floor((e.length-48)/160)*16+16,r=new Int8Array(n);let i=0;for(let s=32;s<e.length-16;s+=160,i+=16)r.set(e.subarray(s,s+16),i);return r}getAvcDecryptedUnit(e,n){const r=new Uint8Array(n);let i=0;for(let s=32;s<e.length-16;s+=160,i+=16)e.set(r.subarray(i,i+16),s);return e}decryptAvcSample(e,n,r,i,s){const o=mrt(s.data),a=this.getAvcEncryptedData(o);this.decryptBuffer(a.buffer).then(l=>{s.data=this.getAvcDecryptedUnit(o,l),this.decrypter.isSync()||this.decryptAvcSamples(e,n,r+1,i)})}decryptAvcSamples(e,n,r,i){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;n++,r=0){if(n>=e.length){i();return}const s=e[n].units;for(;!(r>=s.length);r++){const o=s[r];if(!(o.data.length<=48||o.type!==1&&o.type!==5)&&(this.decryptAvcSample(e,n,r,i,o),!this.decrypter.isSync()))return}}}}const Kl=188;class R1{constructor(e,n,r){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=e,this.config=n,this.typeSupported=r}static probe(e){const n=R1.syncOffset(e);return n>0&&Le.warn(`MPEG2-TS detected but first sync word found @ offset ${n}`),n!==-1}static syncOffset(e){const n=e.length;let r=Math.min(Kl*5,e.length-Kl)+1,i=0;for(;i<r;){let s=!1,o=-1,a=0;for(let l=i;l<n;l+=Kl)if(e[l]===71){if(a++,o===-1&&(o=l,o!==0&&(r=Math.min(o+Kl*99,e.length-Kl)+1)),s||(s=GZ(e,l)===0),s&&a>1&&(o===0&&a>2||l+Kl>r))return o}else{if(a)return-1;break}i++}return-1}static createTrack(e,n){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:urt[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?n:void 0}}resetInitSegment(e,n,r,i){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=R1.createTrack("video"),this._audioTrack=R1.createTrack("audio",i),this._id3Track=R1.createTrack("id3"),this._txtTrack=R1.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=n,this.videoCodec=r,this._duration=i}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_avcTrack:n,_id3Track:r}=this;e&&(e.pesData=null),n&&(n.pesData=null),r&&(r.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null}demux(e,n,r=!1,i=!1){r||(this.sampleAes=null);let s;const o=this._avcTrack,a=this._audioTrack,l=this._id3Track,u=this._txtTrack;let d=o.pid,f=o.pesData,h=a.pid,p=l.pid,g=a.pesData,v=l.pesData,y=null,x=this.pmtParsed,b=this._pmtId,_=e.length;if(this.remainderData&&(e=Qx(this.remainderData,e),_=e.length,this.remainderData=null),_<Kl&&!i)return this.remainderData=e,{audioTrack:a,videoTrack:o,id3Track:l,textTrack:u};const C=Math.max(0,R1.syncOffset(e));_-=(_-C)%Kl,_<e.byteLength&&!i&&(this.remainderData=new Uint8Array(e.buffer,_,e.buffer.byteLength-_));let S=0;for(let A=C;A<_;A+=Kl)if(e[A]===71){const k=!!(e[A+1]&64),I=GZ(e,A),D=(e[A+3]&48)>>4;let R;if(D>1){if(R=A+5+e[A+4],R===A+Kl)continue}else R=A+4;switch(I){case d:k&&(f&&(s=A2(f))&&this.parseAVCPES(o,u,s,!1),f={data:[],size:0}),f&&(f.data.push(e.subarray(R,A+Kl)),f.size+=A+Kl-R);break;case h:if(k){if(g&&(s=A2(g)))switch(a.segmentCodec){case"aac":this.parseAACPES(a,s);break;case"mp3":this.parseMPEGPES(a,s);break}g={data:[],size:0}}g&&(g.data.push(e.subarray(R,A+Kl)),g.size+=A+Kl-R);break;case p:k&&(v&&(s=A2(v))&&this.parseID3PES(l,s),v={data:[],size:0}),v&&(v.data.push(e.subarray(R,A+Kl)),v.size+=A+Kl-R);break;case 0:k&&(R+=e[R]+1),b=this._pmtId=d0r(e,R);break;case b:{k&&(R+=e[R]+1);const O=f0r(e,R,this.typeSupported,r);d=O.avc,d>0&&(o.pid=d),h=O.audio,h>0&&(a.pid=h,a.segmentCodec=O.segmentCodec),p=O.id3,p>0&&(l.pid=p),y!==null&&!x&&(Le.warn(`MPEG-TS PMT found at ${A} after unknown PID '${y}'. Backtracking to sync byte @${C} to parse all TS packets.`),y=null,A=C-188),x=this.pmtParsed=!0;break}case 17:case 8191:break;default:y=I;break}}else S++;if(S>0){const A=new Error(`Found ${S} TS packet/s that do not start with 0x47`);this.observer.emit(ee.ERROR,ee.ERROR,{type:kn.MEDIA_ERROR,details:Ze.FRAG_PARSING_ERROR,fatal:!1,error:A,reason:A.message})}o.pesData=f,a.pesData=g,l.pesData=v;const T={audioTrack:a,videoTrack:o,id3Track:l,textTrack:u};return i&&this.extractRemainingSamples(T),T}flush(){const{remainderData:e}=this;this.remainderData=null;let n;return e?n=this.demux(e,-1,!1,!0):n={videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(n),this.sampleAes?this.decrypt(n,this.sampleAes):n}extractRemainingSamples(e){const{audioTrack:n,videoTrack:r,id3Track:i,textTrack:s}=e,o=r.pesData,a=n.pesData,l=i.pesData;let u;if(o&&(u=A2(o))?(this.parseAVCPES(r,s,u,!0),r.pesData=null):r.pesData=o,a&&(u=A2(a))){switch(n.segmentCodec){case"aac":this.parseAACPES(n,u);break;case"mp3":this.parseMPEGPES(n,u);break}n.pesData=null}else a!=null&&a.size&&Le.log("last AAC PES packet truncated,might overlap between fragments"),n.pesData=a;l&&(u=A2(l))?(this.parseID3PES(i,u),i.pesData=null):i.pesData=l}demuxSampleAes(e,n,r){const i=this.demux(e,r,!0,!this.config.progressive),s=this.sampleAes=new c0r(this.observer,this.config,n);return this.decrypt(i,s)}decrypt(e,n){return new Promise(r=>{const{audioTrack:i,videoTrack:s}=e;i.samples&&i.segmentCodec==="aac"?n.decryptAacSamples(i.samples,0,()=>{s.samples?n.decryptAvcSamples(s.samples,0,0,()=>{r(e)}):r(e)}):s.samples&&n.decryptAvcSamples(s.samples,0,0,()=>{r(e)})})}destroy(){this._duration=0}parseAVCPES(e,n,r,i){const s=this.parseAVCNALu(e,r.data);let o=this.avcSample,a,l=!1;r.data=null,o&&s.length&&!e.audFound&&(uT(o,e),o=this.avcSample=Pj(!1,r.pts,r.dts,"")),s.forEach(u=>{var d;switch(u.type){case 1:{let h=!1;a=!0;const p=u.data;if(l&&p.length>4){const g=new Hje(p).readSliceType();(g===2||g===4||g===7||g===9)&&(h=!0)}if(h){var f;(f=o)!=null&&f.frame&&!o.key&&(uT(o,e),o=this.avcSample=null)}o||(o=this.avcSample=Pj(!0,r.pts,r.dts,"")),o.frame=!0,o.key=h;break}case 5:a=!0,(d=o)!=null&&d.frame&&!o.key&&(uT(o,e),o=this.avcSample=null),o||(o=this.avcSample=Pj(!0,r.pts,r.dts,"")),o.key=!0,o.frame=!0;break;case 6:{a=!0,prt(u.data,1,r.pts,n.samples);break}case 7:if(a=!0,l=!0,!e.sps){const h=u.data,g=new Hje(h).readSPS();e.width=g.width,e.height=g.height,e.pixelRatio=g.pixelRatio,e.sps=[h],e.duration=this._duration;const v=h.subarray(1,4);let y="avc1.";for(let x=0;x<3;x++){let b=v[x].toString(16);b.length<2&&(b="0"+b),y+=b}e.codec=y}break;case 8:a=!0,e.pps||(e.pps=[u.data]);break;case 9:a=!1,e.audFound=!0,o&&uT(o,e),o=this.avcSample=Pj(!1,r.pts,r.dts,"");break;case 12:a=!0;break;default:a=!1,o&&(o.debug+="unknown NAL "+u.type+" ");break}o&&a&&o.units.push(u)}),i&&o&&(uT(o,e),this.avcSample=null)}getLastNalUnit(e){var n;let r=this.avcSample,i;if((!r||r.units.length===0)&&(r=e[e.length-1]),(n=r)!=null&&n.units){const s=r.units;i=s[s.length-1]}return i}parseAVCNALu(e,n){const r=n.byteLength;let i=e.naluState||0;const s=i,o=[];let a=0,l,u,d,f=-1,h=0;for(i===-1&&(f=0,h=n[0]&31,i=0,a=1);a<r;){if(l=n[a++],!i){i=l?0:1;continue}if(i===1){i=l?0:2;continue}if(!l)i=3;else if(l===1){if(f>=0){const p={data:n.subarray(f,a-i-1),type:h};o.push(p)}else{const p=this.getLastNalUnit(e.samples);if(p&&(s&&a<=4-s&&p.state&&(p.data=p.data.subarray(0,p.data.byteLength-s)),u=a-i-1,u>0)){const g=new Uint8Array(p.data.byteLength+u);g.set(p.data,0),g.set(n.subarray(0,u),p.data.byteLength),p.data=g,p.state=0}}a<r?(d=n[a]&31,f=a,h=d,i=0):i=-1}else i=0}if(f>=0&&i>=0){const p={data:n.subarray(f,r),type:h,state:i};o.push(p)}if(o.length===0){const p=this.getLastNalUnit(e.samples);if(p){const g=new Uint8Array(p.data.byteLength+n.byteLength);g.set(p.data,0),g.set(n,p.data.byteLength),p.data=g}}return e.naluState=i,o}parseAACPES(e,n){let r=0;const i=this.aacOverFlow;let s=n.data;if(i){this.aacOverFlow=null;const f=i.missing,h=i.sample.unit.byteLength;if(f===-1){const p=new Uint8Array(h+s.byteLength);p.set(i.sample.unit,0),p.set(s,h),s=p}else{const p=h-f;i.sample.unit.set(s.subarray(0,f),p),e.samples.push(i.sample),r=i.missing}}let o,a;for(o=r,a=s.length;o<a-1&&!P8(s,o);o++);if(o!==r){let f;const h=o<a-1;h?f=`AAC PES did not start with ADTS header,offset:${o}`:f="No ADTS header found in AAC PES";const p=new Error(f);if(Le.warn(`parsing error: ${f}`),this.observer.emit(ee.ERROR,ee.ERROR,{type:kn.MEDIA_ERROR,details:Ze.FRAG_PARSING_ERROR,fatal:!1,levelRetry:h,error:p,reason:f}),!h)return}Irt(e,this.observer,s,o,this.audioCodec);let l;if(n.pts!==void 0)l=n.pts;else if(i){const f=Drt(e.samplerate);l=i.sample.pts+f}else{Le.warn("[tsdemuxer]: AAC PES unknown PTS");return}let u=0,d;for(;o<a;)if(d=Rrt(e,s,o,l,u),o+=d.length,d.missing){this.aacOverFlow=d;break}else for(u++;o<a-1&&!P8(s,o);o++);}parseMPEGPES(e,n){const r=n.data,i=r.length;let s=0,o=0;const a=n.pts;if(a===void 0){Le.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;o<i;)if(Lrt(r,o)){const l=jrt(e,r,o,a,s);if(l)o+=l.length,s++;else break}else o++}parseID3PES(e,n){if(n.pts===void 0){Le.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const r=Ba({},n,{type:this._avcTrack?vh.emsg:vh.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(r)}}function Pj(t,e,n,r){return{key:t,frame:!1,pts:e,dts:n,units:[],debug:r,length:0}}function GZ(t,e){return((t[e+1]&31)<<8)+t[e+2]}function d0r(t,e){return(t[e+10]&31)<<8|t[e+11]}function f0r(t,e,n,r){const i={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},s=(t[e+1]&15)<<8|t[e+2],o=e+3+s-4,a=(t[e+10]&15)<<8|t[e+11];for(e+=12+a;e<o;){const l=GZ(t,e);switch(t[e]){case 207:if(!r){Le.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:i.audio===-1&&(i.audio=l);break;case 21:i.id3===-1&&(i.id3=l);break;case 219:if(!r){Le.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:i.avc===-1&&(i.avc=l);break;case 3:case 4:n.mpeg!==!0&&n.mp3!==!0?Le.log("MPEG audio found, not supported in this browser"):i.audio===-1&&(i.audio=l,i.segmentCodec="mp3");break;case 36:Le.warn("Unsupported HEVC stream type found");break}e+=((t[e+3]&15)<<8|t[e+4])+5}return i}function A2(t){let e=0,n,r,i,s,o;const a=t.data;if(!t||t.size===0)return null;for(;a[0].length<19&&a.length>1;){const u=new Uint8Array(a[0].length+a[1].length);u.set(a[0]),u.set(a[1],a[0].length),a[0]=u,a.splice(1,1)}if(n=a[0],(n[0]<<16)+(n[1]<<8)+n[2]===1){if(r=(n[4]<<8)+n[5],r&&r>t.size-6)return null;const u=n[7];u&192&&(s=(n[9]&14)*536870912+(n[10]&255)*4194304+(n[11]&254)*16384+(n[12]&255)*128+(n[13]&254)/2,u&64?(o=(n[14]&14)*536870912+(n[15]&255)*4194304+(n[16]&254)*16384+(n[17]&255)*128+(n[18]&254)/2,s-o>60*9e4&&(Le.warn(`${Math.round((s-o)/9e4)}s delta between PTS and DTS, align them`),s=o)):o=s),i=n[8];let d=i+9;if(t.size<=d)return null;t.size-=d;const f=new Uint8Array(t.size);for(let h=0,p=a.length;h<p;h++){n=a[h];let g=n.byteLength;if(d)if(d>g){d-=g;continue}else n=n.subarray(d),g-=d,d=0;f.set(n,e),e+=g}return r&&(r-=i+3),{data:f,pts:s,dts:o,len:r}}return null}function uT(t,e){if(t.units.length&&t.frame){if(t.pts===void 0){const n=e.samples,r=n.length;if(r){const i=n[r-1];t.pts=i.pts,t.dts=i.dts}else{e.dropped++;return}}e.samples.push(t)}t.debug.length&&Le.log(t.pts+"/"+t.dts+":"+t.debug)}class h0r extends Trt{resetInitSegment(e,n,r,i){super.resetInitSegment(e,n,r,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:n,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;let r=(D8(e,0)||[]).length;for(let i=e.length;r<i;r++)if(u0r(e,r))return Le.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,n){return l0r(e,n)}appendFrame(e,n,r){if(this.basePTS!==null)return jrt(e,n,r,this.basePTS,this.frameIndex)}}class zje{static getSilentFrame(e,n){switch(e){case"mp4a.40.2":if(n===1)return new Uint8Array([0,200,0,128,35,128]);if(n===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(n===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(n===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(n===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(n===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(n===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(n===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(n===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const f1=Math.pow(2,32)-1;class Ue{static init(){Ue.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in Ue.types)Ue.types.hasOwnProperty(e)&&(Ue.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);Ue.HDLR_TYPES={video:n,audio:r};const i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),s=new Uint8Array([0,0,0,0,0,0,0,0]);Ue.STTS=Ue.STSC=Ue.STCO=s,Ue.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Ue.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),Ue.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),Ue.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const o=new Uint8Array([105,115,111,109]),a=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);Ue.FTYP=Ue.box(Ue.types.ftyp,o,l,o,a),Ue.DINF=Ue.box(Ue.types.dinf,Ue.box(Ue.types.dref,i))}static box(e,...n){let r=8,i=n.length;const s=i;for(;i--;)r+=n[i].byteLength;const o=new Uint8Array(r);for(o[0]=r>>24&255,o[1]=r>>16&255,o[2]=r>>8&255,o[3]=r&255,o.set(e,4),i=0,r=8;i<s;i++)o.set(n[i],r),r+=n[i].byteLength;return o}static hdlr(e){return Ue.box(Ue.types.hdlr,Ue.HDLR_TYPES[e])}static mdat(e){return Ue.box(Ue.types.mdat,e)}static mdhd(e,n){n*=e;const r=Math.floor(n/(f1+1)),i=Math.floor(n%(f1+1));return Ue.box(Ue.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24,r>>16&255,r>>8&255,r&255,i>>24,i>>16&255,i>>8&255,i&255,85,196,0,0]))}static mdia(e){return Ue.box(Ue.types.mdia,Ue.mdhd(e.timescale,e.duration),Ue.hdlr(e.type),Ue.minf(e))}static mfhd(e){return Ue.box(Ue.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?Ue.box(Ue.types.minf,Ue.box(Ue.types.smhd,Ue.SMHD),Ue.DINF,Ue.stbl(e)):Ue.box(Ue.types.minf,Ue.box(Ue.types.vmhd,Ue.VMHD),Ue.DINF,Ue.stbl(e))}static moof(e,n,r){return Ue.box(Ue.types.moof,Ue.mfhd(e),Ue.traf(r,n))}static moov(e){let n=e.length;const r=[];for(;n--;)r[n]=Ue.trak(e[n]);return Ue.box.apply(null,[Ue.types.moov,Ue.mvhd(e[0].timescale,e[0].duration)].concat(r).concat(Ue.mvex(e)))}static mvex(e){let n=e.length;const r=[];for(;n--;)r[n]=Ue.trex(e[n]);return Ue.box.apply(null,[Ue.types.mvex,...r])}static mvhd(e,n){n*=e;const r=Math.floor(n/(f1+1)),i=Math.floor(n%(f1+1)),s=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24,r>>16&255,r>>8&255,r&255,i>>24,i>>16&255,i>>8&255,i&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return Ue.box(Ue.types.mvhd,s)}static sdtp(e){const n=e.samples||[],r=new Uint8Array(4+n.length);let i,s;for(i=0;i<n.length;i++)s=n[i].flags,r[i+4]=s.dependsOn<<4|s.isDependedOn<<2|s.hasRedundancy;return Ue.box(Ue.types.sdtp,r)}static stbl(e){return Ue.box(Ue.types.stbl,Ue.stsd(e),Ue.box(Ue.types.stts,Ue.STTS),Ue.box(Ue.types.stsc,Ue.STSC),Ue.box(Ue.types.stsz,Ue.STSZ),Ue.box(Ue.types.stco,Ue.STCO))}static avc1(e){let n=[],r=[],i,s,o;for(i=0;i<e.sps.length;i++)s=e.sps[i],o=s.byteLength,n.push(o>>>8&255),n.push(o&255),n=n.concat(Array.prototype.slice.call(s));for(i=0;i<e.pps.length;i++)s=e.pps[i],o=s.byteLength,r.push(o>>>8&255),r.push(o&255),r=r.concat(Array.prototype.slice.call(s));const a=Ue.box(Ue.types.avcC,new Uint8Array([1,n[3],n[4],n[5],255,224|e.sps.length].concat(n).concat([e.pps.length]).concat(r))),l=e.width,u=e.height,d=e.pixelRatio[0],f=e.pixelRatio[1];return Ue.box(Ue.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,l&255,u>>8&255,u&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a,Ue.box(Ue.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),Ue.box(Ue.types.pasp,new Uint8Array([d>>24,d>>16&255,d>>8&255,d&255,f>>24,f>>16&255,f>>8&255,f&255])))}static esds(e){const n=e.config.length;return new Uint8Array([0,0,0,0,3,23+n,0,1,0,4,15+n,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([n]).concat(e.config).concat([6,1,2]))}static mp4a(e){const n=e.samplerate;return Ue.box(Ue.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,n&255,0,0]),Ue.box(Ue.types.esds,Ue.esds(e)))}static mp3(e){const n=e.samplerate;return Ue.box(Ue.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,n&255,0,0]))}static stsd(e){return e.type==="audio"?e.segmentCodec==="mp3"&&e.codec==="mp3"?Ue.box(Ue.types.stsd,Ue.STSD,Ue.mp3(e)):Ue.box(Ue.types.stsd,Ue.STSD,Ue.mp4a(e)):Ue.box(Ue.types.stsd,Ue.STSD,Ue.avc1(e))}static tkhd(e){const n=e.id,r=e.duration*e.timescale,i=e.width,s=e.height,o=Math.floor(r/(f1+1)),a=Math.floor(r%(f1+1));return Ue.box(Ue.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,n&255,0,0,0,0,o>>24,o>>16&255,o>>8&255,o&255,a>>24,a>>16&255,a>>8&255,a&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,i&255,0,0,s>>8&255,s&255,0,0]))}static traf(e,n){const r=Ue.sdtp(e),i=e.id,s=Math.floor(n/(f1+1)),o=Math.floor(n%(f1+1));return Ue.box(Ue.types.traf,Ue.box(Ue.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,i&255])),Ue.box(Ue.types.tfdt,new Uint8Array([1,0,0,0,s>>24,s>>16&255,s>>8&255,s&255,o>>24,o>>16&255,o>>8&255,o&255])),Ue.trun(e,r.length+16+20+8+16+8+8),r)}static trak(e){return e.duration=e.duration||4294967295,Ue.box(Ue.types.trak,Ue.tkhd(e),Ue.mdia(e))}static trex(e){const n=e.id;return Ue.box(Ue.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,n&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,n){const r=e.samples||[],i=r.length,s=12+16*i,o=new Uint8Array(s);let a,l,u,d,f,h;for(n+=8+s,o.set([e.type==="video"?1:0,0,15,1,i>>>24&255,i>>>16&255,i>>>8&255,i&255,n>>>24&255,n>>>16&255,n>>>8&255,n&255],0),a=0;a<i;a++)l=r[a],u=l.duration,d=l.size,f=l.flags,h=l.cts,o.set([u>>>24&255,u>>>16&255,u>>>8&255,u&255,d>>>24&255,d>>>16&255,d>>>8&255,d&255,f.isLeading<<2|f.dependsOn,f.isDependedOn<<6|f.hasRedundancy<<4|f.paddingValue<<1|f.isNonSync,f.degradPrio&61440,f.degradPrio&15,h>>>24&255,h>>>16&255,h>>>8&255,h&255],12+16*a);return Ue.box(Ue.types.trun,o)}static initSegment(e){Ue.types||Ue.init();const n=Ue.moov(e),r=new Uint8Array(Ue.FTYP.byteLength+n.byteLength);return r.set(Ue.FTYP),r.set(n,Ue.FTYP.byteLength),r}}Ue.types=void 0;Ue.HDLR_TYPES=void 0;Ue.STTS=void 0;Ue.STSC=void 0;Ue.STCO=void 0;Ue.STSZ=void 0;Ue.VMHD=void 0;Ue.SMHD=void 0;Ue.STSD=void 0;Ue.FTYP=void 0;Ue.DINF=void 0;const Prt=9e4;function joe(t,e,n=1,r=!1){const i=t*e*n;return r?Math.round(i):i}function p0r(t,e,n=1,r=!1){return joe(t,e,1/n,r)}function cT(t,e=!1){return joe(t,1e3,1/Prt,e)}function m0r(t,e=1){return joe(t,Prt,1/e)}const g0r=10*1e3,Wje=1024,v0r=1152;let Mj=null,Wz=null;class Gz{constructor(e,n,r,i=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=e,this.config=n,this.typeSupported=r,this.ISGenerated=!1,Mj===null){const o=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Mj=o?parseInt(o[1]):0}if(Wz===null){const s=navigator.userAgent.match(/Safari\/(\d+)/i);Wz=s?parseInt(s[1]):0}}destroy(){}resetTimeStamp(e){Le.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e}resetNextTimestamp(){Le.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){Le.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1}getVideoStartPts(e){let n=!1;const r=e.reduce((i,s)=>{const o=s.pts-i;return o<-4294967296?(n=!0,uf(i,s.pts)):o>0?i:s.pts},e[0].pts);return n&&Le.debug("PTS rollover detected"),r}remux(e,n,r,i,s,o,a,l){let u,d,f,h,p,g,v=s,y=s;const x=e.pid>-1,b=n.pid>-1,_=n.samples.length,C=e.samples.length>0,S=a&&_>0||_>1;if((!x||C)&&(!b||S)||this.ISGenerated||a){this.ISGenerated||(f=this.generateIS(e,n,s,o));const A=this.isVideoContiguous;let k=-1,I;if(S&&(k=y0r(n.samples),!A&&this.config.forceKeyFrameOnDiscontinuity))if(g=!0,k>0){Le.warn(`[mp4-remuxer]: Dropped ${k} out of ${_} video samples due to a missing keyframe`);const D=this.getVideoStartPts(n.samples);n.samples=n.samples.slice(k),n.dropped+=k,y+=(n.samples[0].pts-D)/n.inputTimeScale,I=y}else k===-1&&(Le.warn(`[mp4-remuxer]: No keyframe found out of ${_} video samples`),g=!1);if(this.ISGenerated){if(C&&S){const D=this.getVideoStartPts(n.samples),O=(uf(e.samples[0].pts,D)-D)/n.inputTimeScale;v+=Math.max(0,O),y+=Math.max(0,-O)}if(C){if(e.samplerate||(Le.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),f=this.generateIS(e,n,s,o)),d=this.remuxAudio(e,v,this.isAudioContiguous,o,b||S||l===Dn.AUDIO?y:void 0),S){const D=d?d.endPTS-d.startPTS:0;n.inputTimeScale||(Le.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),f=this.generateIS(e,n,s,o)),u=this.remuxVideo(n,y,A,D)}}else S&&(u=this.remuxVideo(n,y,A,0));u&&(u.firstKeyFrame=k,u.independent=k!==-1,u.firstKeyFramePTS=I)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(r.samples.length&&(p=Mrt(r,s,this._initPTS,this._initDTS)),i.samples.length&&(h=$rt(i,s,this._initPTS))),{audio:d,video:u,initSegment:f,independent:g,text:h,id3:p}}generateIS(e,n,r,i){const s=e.samples,o=n.samples,a=this.typeSupported,l={},u=this._initPTS;let d=!u||i,f="audio/mp4",h,p,g;if(d&&(h=p=1/0),e.config&&s.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":a.mpeg?(f="audio/mpeg",e.codec=""):a.mp3&&(e.codec="mp3");break}l.audio={id:"audio",container:f,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&a.mpeg?new Uint8Array(0):Ue.initSegment([e]),metadata:{channelCount:e.channelCount}},d&&(g=e.inputTimeScale,!u||g!==u.timescale?h=p=s[0].pts-Math.round(g*r):d=!1)}if(n.sps&&n.pps&&o.length&&(n.timescale=n.inputTimeScale,l.video={id:"main",container:"video/mp4",codec:n.codec,initSegment:Ue.initSegment([n]),metadata:{width:n.width,height:n.height}},d))if(g=n.inputTimeScale,!u||g!==u.timescale){const v=this.getVideoStartPts(o),y=Math.round(g*r);p=Math.min(p,uf(o[0].dts,v)-y),h=Math.min(h,v-y)}else d=!1;if(Object.keys(l).length)return this.ISGenerated=!0,d?(this._initPTS={baseTime:h,timescale:g},this._initDTS={baseTime:p,timescale:g}):h=g=void 0,{tracks:l,initPTS:h,timescale:g}}remuxVideo(e,n,r,i){const s=e.inputTimeScale,o=e.samples,a=[],l=o.length,u=this._initPTS;let d=this.nextAvcDts,f=8,h=this.videoSampleDuration,p,g,v=Number.POSITIVE_INFINITY,y=Number.NEGATIVE_INFINITY,x=!1;if(!r||d===null){const V=n*s,Z=o[0].pts-uf(o[0].dts,o[0].pts);d=V-Z}const b=u.baseTime*s/u.timescale;for(let V=0;V<l;V++){const Z=o[V];Z.pts=uf(Z.pts-b,d),Z.dts=uf(Z.dts-b,d),Z.dts<o[V>0?V-1:V].dts&&(x=!0)}x&&o.sort(function(V,Z){const ie=V.dts-Z.dts,J=V.pts-Z.pts;return ie||J}),p=o[0].dts,g=o[o.length-1].dts;const _=g-p,C=_?Math.round(_/(l-1)):h||e.inputTimeScale/30;if(r){const V=p-d,Z=V>C,ie=V<-1;if((Z||ie)&&(Z?Le.warn(`AVC: ${cT(V,!0)} ms (${V}dts) hole between fragments detected, filling it`):Le.warn(`AVC: ${cT(-V,!0)} ms (${V}dts) overlapping between fragments detected`),!ie||d>=o[0].pts)){p=d;const J=o[0].pts-V;o[0].dts=p,o[0].pts=J,Le.log(`Video: First PTS/DTS adjusted: ${cT(J,!0)}/${cT(p,!0)}, delta: ${cT(V,!0)} ms`)}}p=Math.max(0,p);let S=0,T=0;for(let V=0;V<l;V++){const Z=o[V],ie=Z.units,J=ie.length;let X=0;for(let fe=0;fe<J;fe++)X+=ie[fe].data.length;T+=X,S+=J,Z.length=X,Z.dts=Math.max(Z.dts,p),v=Math.min(Z.pts,v),y=Math.max(Z.pts,y)}g=o[l-1].dts;const A=T+4*S+8;let k;try{k=new Uint8Array(A)}catch(V){this.observer.emit(ee.ERROR,ee.ERROR,{type:kn.MUX_ERROR,details:Ze.REMUX_ALLOC_ERROR,fatal:!1,error:V,bytes:A,reason:`fail allocating video mdat ${A}`});return}const I=new DataView(k.buffer);I.setUint32(0,A),k.set(Ue.types.mdat,4);let D=!1,R=Number.POSITIVE_INFINITY,O=Number.POSITIVE_INFINITY,L=Number.NEGATIVE_INFINITY,P=Number.NEGATIVE_INFINITY;for(let V=0;V<l;V++){const Z=o[V],ie=Z.units;let J=0;for(let ue=0,te=ie.length;ue<te;ue++){const F=ie[ue],ne=F.data,ce=F.data.byteLength;I.setUint32(f,ce),f+=4,k.set(ne,f),f+=ce,J+=4+ce}let X;if(V<l-1)h=o[V+1].dts-Z.dts,X=o[V+1].pts-Z.pts;else{const ue=this.config,te=V>0?Z.dts-o[V-1].dts:C;if(X=V>0?Z.pts-o[V-1].pts:C,ue.stretchShortVideoTrack&&this.nextAudioPts!==null){const F=Math.floor(ue.maxBufferHole*s),ne=(i?v+i*s:this.nextAudioPts)-Z.pts;ne>F?(h=ne-te,h<0?h=te:D=!0,Le.log(`[mp4-remuxer]: It is approximately ${ne/90} ms to the next segment; using duration ${h/90} ms for the last video frame.`)):h=te}else h=te}const fe=Math.round(Z.pts-Z.dts);R=Math.min(R,h),L=Math.max(L,h),O=Math.min(O,X),P=Math.max(P,X),a.push(new Gje(Z.key,h,J,fe))}if(a.length){if(Mj){if(Mj<70){const V=a[0].flags;V.dependsOn=2,V.isNonSync=0}}else if(Wz&&P-O<L-R&&C/L<.025&&a[0].cts===0){Le.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let V=p;for(let Z=0,ie=a.length;Z<ie;Z++){const J=V+a[Z].duration,X=V+a[Z].cts;if(Z<ie-1){const fe=J+a[Z+1].cts;a[Z].duration=fe-X}else a[Z].duration=Z?a[Z-1].duration:C;a[Z].cts=0,V=J}}}h=D||!h?C:h,this.nextAvcDts=d=g+h,this.videoSampleDuration=h,this.isVideoContiguous=!0;const $=Ue.moof(e.sequenceNumber++,p,Ba({},e,{samples:a})),B="video",Q={data1:$,data2:k,startPTS:v/s,endPTS:(y+h)/s,startDTS:p/s,endDTS:d/s,type:B,hasAudio:!1,hasVideo:!0,nb:a.length,dropped:e.dropped};return e.samples=[],e.dropped=0,Q}remuxAudio(e,n,r,i,s){const o=e.inputTimeScale,a=e.samplerate?e.samplerate:o,l=o/a,u=e.segmentCodec==="aac"?Wje:v0r,d=u*l,f=this._initPTS,h=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,p=[],g=s!==void 0;let v=e.samples,y=h?0:8,x=this.nextAudioPts||-1;const b=n*o,_=f.baseTime*o/f.timescale;if(this.isAudioContiguous=r=r||v.length&&x>0&&(i&&Math.abs(b-x)<9e3||Math.abs(uf(v[0].pts-_,b)-x)<20*d),v.forEach(function(B){B.pts=uf(B.pts-_,b)}),!r||x<0){if(v=v.filter(B=>B.pts>=0),!v.length)return;s===0?x=0:i&&!g?x=Math.max(0,b):x=v[0].pts}if(e.segmentCodec==="aac"){const B=this.config.maxAudioFramesDrift;for(let Q=0,V=x;Q<v.length;Q++){const Z=v[Q],ie=Z.pts,J=ie-V,X=Math.abs(1e3*J/o);if(J<=-B*d&&g)Q===0&&(Le.warn(`Audio frame @ ${(ie/o).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*J/o)} ms.`),this.nextAudioPts=x=V=ie);else if(J>=B*d&&X<g0r&&g){let fe=Math.round(J/d);V=ie-fe*d,V<0&&(fe--,V+=d),Q===0&&(this.nextAudioPts=x=V),Le.warn(`[mp4-remuxer]: Injecting ${fe} audio frame @ ${(V/o).toFixed(3)}s due to ${Math.round(1e3*J/o)} ms gap.`);for(let ue=0;ue<fe;ue++){const te=Math.max(V,0);let F=zje.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);F||(Le.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),F=Z.unit.subarray()),v.splice(Q,0,{unit:F,pts:te}),V+=d,Q++}}Z.pts=V,V+=d}}let C=null,S=null,T,A=0,k=v.length;for(;k--;)A+=v[k].unit.byteLength;for(let B=0,Q=v.length;B<Q;B++){const V=v[B],Z=V.unit;let ie=V.pts;if(S!==null){const X=p[B-1];X.duration=Math.round((ie-S)/l)}else if(r&&e.segmentCodec==="aac"&&(ie=x),C=ie,A>0){A+=y;try{T=new Uint8Array(A)}catch(X){this.observer.emit(ee.ERROR,ee.ERROR,{type:kn.MUX_ERROR,details:Ze.REMUX_ALLOC_ERROR,fatal:!1,error:X,bytes:A,reason:`fail allocating audio mdat ${A}`});return}h||(new DataView(T.buffer).setUint32(0,A),T.set(Ue.types.mdat,4))}else return;T.set(Z,y);const J=Z.byteLength;y+=J,p.push(new Gje(!0,u,J,0)),S=ie}const I=p.length;if(!I)return;const D=p[p.length-1];this.nextAudioPts=x=S+l*D.duration;const R=h?new Uint8Array(0):Ue.moof(e.sequenceNumber++,C/l,Ba({},e,{samples:p}));e.samples=[];const O=C/o,L=x/o,$={data1:R,data2:T,startPTS:O,endPTS:L,startDTS:O,endDTS:L,type:"audio",hasAudio:!0,hasVideo:!1,nb:I};return this.isAudioContiguous=!0,$}remuxEmptyAudio(e,n,r,i){const s=e.inputTimeScale,o=e.samplerate?e.samplerate:s,a=s/o,l=this.nextAudioPts,u=this._initDTS,d=u.baseTime*9e4/u.timescale,f=(l!==null?l:i.startDTS*s)+d,h=i.endDTS*s+d,p=a*Wje,g=Math.ceil((h-f)/p),v=zje.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(Le.warn("[mp4-remuxer]: remux empty Audio"),!v){Le.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");return}const y=[];for(let x=0;x<g;x++){const b=f+x*p;y.push({unit:v,pts:b,dts:b})}return e.samples=y,this.remuxAudio(e,n,r,!1)}}function uf(t,e){let n;if(e===null)return t;for(e<t?n=-8589934592:n=8589934592;Math.abs(t-e)>4294967296;)t+=n;return t}function y0r(t){for(let e=0;e<t.length;e++)if(t[e].key)return e;return-1}function Mrt(t,e,n,r){const i=t.samples.length;if(!i)return;const s=t.inputTimeScale;for(let a=0;a<i;a++){const l=t.samples[a];l.pts=uf(l.pts-n.baseTime*s/n.timescale,e*s)/s,l.dts=uf(l.dts-r.baseTime*s/r.timescale,e*s)/s}const o=t.samples;return t.samples=[],{samples:o}}function $rt(t,e,n){const r=t.samples.length;if(!r)return;const i=t.inputTimeScale;for(let o=0;o<r;o++){const a=t.samples[o];a.pts=uf(a.pts-n.baseTime*i/n.timescale,e*i)/i}t.samples.sort((o,a)=>o.pts-a.pts);const s=t.samples;return t.samples=[],{samples:s}}class Gje{constructor(e,n,r,i){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=n,this.size=r,this.cts=i,this.flags=new b0r(e)}}class b0r{constructor(e){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=e?2:1,this.isNonSync=e?0:1}}class x0r{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(e){this.initPTS=e,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(e,n,r,i){this.audioCodec=n,this.videoCodec=r,this.generateInitSegment(Nmr(e,i)),this.emitInitSegment=!0}generateInitSegment(e){let{audioCodec:n,videoCodec:r}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const i=this.initData=frt(e);n||(n=qje(i.audio,Yi.AUDIO)),r||(r=qje(i.video,Yi.VIDEO));const s={};i.audio&&i.video?s.audiovideo={container:"video/mp4",codec:n+","+r,initSegment:e,id:"main"}:i.audio?s.audio={container:"audio/mp4",codec:n,initSegment:e,id:"audio"}:i.video?s.video={container:"video/mp4",codec:r,initSegment:e,id:"main"}:Le.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=s}remux(e,n,r,i,s,o){var a,l;let{initPTS:u,lastEndTime:d}=this;const f={audio:void 0,video:void 0,text:i,id3:r,initSegment:void 0};pn(d)||(d=this.lastEndTime=s||0);const h=n.samples;if(!(h!=null&&h.length))return f;const p={initPTS:void 0,timescale:1};let g=this.initData;if((a=g)!=null&&a.length||(this.generateInitSegment(h),g=this.initData),!((l=g)!=null&&l.length))return Le.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),f;this.emitInitSegment&&(p.tracks=this.initTracks,this.emitInitSegment=!1);const v=Umr(h,g),y=Vmr(g,h),x=y===null?s:y;(w0r(u,x,s,v)||p.timescale!==u.timescale&&o)&&(p.initPTS=x-s,u&&u.timescale===1&&Le.warn(`Adjusting initPTS by ${p.initPTS-u.baseTime}`),this.initPTS=u={baseTime:p.initPTS,timescale:1});const b=e?x-u.baseTime/u.timescale:d,_=b+v;zmr(g,h,u.baseTime/u.timescale),v>0?this.lastEndTime=_:(Le.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const C=!!g.audio,S=!!g.video;let T="";C&&(T+="audio"),S&&(T+="video");const A={data1:h,startPTS:b,startDTS:b,endPTS:_,endDTS:_,type:T,hasAudio:C,hasVideo:S,nb:1,dropped:0};return f.audio=A.type==="audio"?A:void 0,f.video=A.type!=="audio"?A:void 0,f.initSegment=p,f.id3=Mrt(r,s,u,u),i.samples.length&&(f.text=$rt(i,s,u)),f}}function w0r(t,e,n,r){if(t===null)return!0;const i=Math.max(r,1),s=e-t.baseTime/t.timescale;return Math.abs(s-n)>i}function qje(t,e){const n=t==null?void 0:t.codec;return n&&n.length>4?n:n==="hvc1"||n==="hev1"?"hvc1.1.6.L120.90":n==="av01"?"av01.0.04M.08":n==="avc1"||e===Yi.VIDEO?"avc1.42e01e":"mp4a.40.5"}let Sg;try{Sg=self.performance.now.bind(self.performance)}catch{Le.debug("Unable to use Performance API on this environment"),Sg=typeof self<"u"&&self.Date.now}const qz=[{demux:r0r,remux:x0r},{demux:R1,remux:Gz},{demux:t0r,remux:Gz},{demux:h0r,remux:Gz}];class Yje{constructor(e,n,r,i,s){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=n,this.config=r,this.vendor=i,this.id=s}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,n,r,i){const s=r.transmuxing;s.executeStart=Sg();let o=new Uint8Array(e);const{currentTransmuxState:a,transmuxConfig:l}=this;i&&(this.currentTransmuxState=i);const{contiguous:u,discontinuity:d,trackSwitch:f,accurateTimeOffset:h,timeOffset:p,initSegmentChange:g}=i||a,{audioCodec:v,videoCodec:y,defaultInitPts:x,duration:b,initSegmentData:_}=l,C=_0r(o,n);if(C&&C.method==="AES-128"){const k=this.getDecrypter();if(k.isSync()){let I=k.softwareDecrypt(o,C.key.buffer,C.iv.buffer);if(r.part>-1&&(I=k.flush()),!I)return s.executeEnd=Sg(),Yz(r);o=new Uint8Array(I)}else return this.decryptionPromise=k.webCryptoDecrypt(o,C.key.buffer,C.iv.buffer).then(I=>{const D=this.push(I,null,r);return this.decryptionPromise=null,D}),this.decryptionPromise}const S=this.needsProbing(d,f);if(S){const k=this.configureTransmuxer(o);if(k)return Le.warn(`[transmuxer] ${k.message}`),this.observer.emit(ee.ERROR,ee.ERROR,{type:kn.MEDIA_ERROR,details:Ze.FRAG_PARSING_ERROR,fatal:!1,error:k,reason:k.message}),s.executeEnd=Sg(),Yz(r)}(d||f||g||S)&&this.resetInitSegment(_,v,y,b,n),(d||g||S)&&this.resetInitialTimestamp(x),u||this.resetContiguity();const T=this.transmux(o,C,p,h,r),A=this.currentTransmuxState;return A.contiguous=!0,A.discontinuity=!1,A.trackSwitch=!1,s.executeEnd=Sg(),T}flush(e){const n=e.transmuxing;n.executeStart=Sg();const{decrypter:r,currentTransmuxState:i,decryptionPromise:s}=this;if(s)return s.then(()=>this.flush(e));const o=[],{timeOffset:a}=i;if(r){const f=r.flush();f&&o.push(this.push(f,null,e))}const{demuxer:l,remuxer:u}=this;if(!l||!u)return n.executeEnd=Sg(),[Yz(e)];const d=l.flush(a);return NL(d)?d.then(f=>(this.flushRemux(o,f,e),o)):(this.flushRemux(o,d,e),o)}flushRemux(e,n,r){const{audioTrack:i,videoTrack:s,id3Track:o,textTrack:a}=n,{accurateTimeOffset:l,timeOffset:u}=this.currentTransmuxState;Le.log(`[transmuxer.ts]: Flushed fragment ${r.sn}${r.part>-1?" p: "+r.part:""} of level ${r.level}`);const d=this.remuxer.remux(i,s,o,a,u,l,!0,this.id);e.push({remuxResult:d,chunkMeta:r}),r.transmuxing.executeEnd=Sg()}resetInitialTimestamp(e){const{demuxer:n,remuxer:r}=this;!n||!r||(n.resetTimeStamp(e),r.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:n}=this;!e||!n||(e.resetContiguity(),n.resetNextTimestamp())}resetInitSegment(e,n,r,i,s){const{demuxer:o,remuxer:a}=this;!o||!a||(o.resetInitSegment(e,n,r,i),a.resetInitSegment(e,n,r,s))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,n,r,i,s){let o;return n&&n.method==="SAMPLE-AES"?o=this.transmuxSampleAes(e,n,r,i,s):o=this.transmuxUnencrypted(e,r,i,s),o}transmuxUnencrypted(e,n,r,i){const{audioTrack:s,videoTrack:o,id3Track:a,textTrack:l}=this.demuxer.demux(e,n,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(s,o,a,l,n,r,!1,this.id),chunkMeta:i}}transmuxSampleAes(e,n,r,i,s){return this.demuxer.demuxSampleAes(e,n,r).then(o=>({remuxResult:this.remuxer.remux(o.audioTrack,o.videoTrack,o.id3Track,o.textTrack,r,i,!1,this.id),chunkMeta:s}))}configureTransmuxer(e){const{config:n,observer:r,typeSupported:i,vendor:s}=this;let o;for(let f=0,h=qz.length;f<h;f++)if(qz[f].demux.probe(e)){o=qz[f];break}if(!o)return new Error("Failed to find demuxer by probing fragment data");const a=this.demuxer,l=this.remuxer,u=o.remux,d=o.demux;(!l||!(l instanceof u))&&(this.remuxer=new u(r,n,i,s)),(!a||!(a instanceof d))&&(this.demuxer=new d(r,n,i),this.probe=d.probe)}needsProbing(e,n){return!this.demuxer||!this.remuxer||e||n}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new Aoe(this.config)),e}}function _0r(t,e){let n=null;return t.byteLength>0&&e!=null&&e.key!=null&&e.iv!==null&&e.method!=null&&(n=e),n}const Yz=t=>({remuxResult:{},chunkMeta:t});function NL(t){return"then"in t&&t.then instanceof Function}class C0r{constructor(e,n,r,i,s){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=n,this.initSegmentData=r,this.duration=i,this.defaultInitPts=s||null}}class E0r{constructor(e,n,r,i,s,o){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=n,this.accurateTimeOffset=r,this.trackSwitch=i,this.timeOffset=s,this.initSegmentChange=o}}var Frt={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||l,h),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},a.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},a.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,d,f,h,p,g){var v=n?n+u:u;if(!this._events[v])return!1;var y=this._events[v],x=arguments.length,b,_;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,p),!0;case 6:return y.fn.call(y.context,d,f,h,p,g),!0}for(_=1,b=new Array(x-1);_<x;_++)b[_-1]=arguments[_];y.fn.apply(y.context,b)}else{var C=y.length,S;for(_=0;_<C;_++)switch(y[_].once&&this.removeListener(u,y[_].fn,void 0,!0),x){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,d);break;case 3:y[_].fn.call(y[_].context,d,f);break;case 4:y[_].fn.call(y[_].context,d,f,h);break;default:if(!b)for(S=1,b=new Array(x-1);S<x;S++)b[S-1]=arguments[S];y[_].fn.apply(y[_].context,b)}}return!0},a.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},a.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},a.prototype.removeListener=function(u,d,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,p);else{for(var v=0,y=[],x=g.length;v<x;v++)(g[v].fn!==d||h&&!g[v].once||f&&g[v].context!==f)&&y.push(g[v]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},a.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(Frt);var S0r=Frt.exports,Ooe=cmr(S0r);const Kz=UF()||{isTypeSupported:()=>!1};class Brt{constructor(e,n,r,i){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const s=e.config;this.hls=e,this.id=n,this.useWorker=!!s.enableWorker,this.onTransmuxComplete=r,this.onFlush=i;const o=(u,d)=>{d=d||{},d.frag=this.frag,d.id=this.id,u===ee.ERROR&&(this.error=d.error),this.hls.trigger(u,d)};this.observer=new Ooe,this.observer.on(ee.FRAG_DECRYPTED,o),this.observer.on(ee.ERROR,o);const a={mp4:Kz.isTypeSupported("video/mp4"),mpeg:Kz.isTypeSupported("audio/mpeg"),mp3:Kz.isTypeSupported('audio/mp4; codecs="mp3"')},l=navigator.vendor;if(this.useWorker&&typeof Worker<"u"&&(s.workerPath||Ggr())){try{s.workerPath?(Le.log(`loading Web Worker ${s.workerPath} for "${n}"`),this.workerContext=Ygr(s.workerPath)):(Le.log(`injecting Web Worker for "${n}"`),this.workerContext=qgr()),this.onwmsg=f=>this.onWorkerMessage(f);const{worker:d}=this.workerContext;d.addEventListener("message",this.onwmsg),d.onerror=f=>{const h=new Error(`${f.message}  (${f.filename}:${f.lineno})`);s.enableWorker=!1,Le.warn(`Error in "${n}" Web Worker, fallback to inline`),this.hls.trigger(ee.ERROR,{type:kn.OTHER_ERROR,details:Ze.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:h})},d.postMessage({cmd:"init",typeSupported:a,vendor:l,id:n,config:JSON.stringify(s)})}catch(d){Le.warn(`Error setting up "${n}" Web Worker, fallback to inline`,d),this.resetWorker(),this.error=null,this.transmuxer=new Yje(this.observer,a,s,l,n)}return}this.transmuxer=new Yje(this.observer,a,s,l,n)}resetWorker(){if(this.workerContext){const{worker:e,objectURL:n}=this.workerContext;n&&self.URL.revokeObjectURL(n),e.removeEventListener("message",this.onwmsg),e.onerror=null,e.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const n=this.transmuxer;n&&(n.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(e,n,r,i,s,o,a,l,u,d){var f,h;u.transmuxing.start=self.performance.now();const{transmuxer:p}=this,g=o?o.start:s.start,v=s.decryptdata,y=this.frag,x=!(y&&s.cc===y.cc),b=!(y&&u.level===y.level),_=y?u.sn-y.sn:-1,C=this.part?u.part-this.part.index:-1,S=_===0&&u.id>1&&u.id===(y==null?void 0:y.stats.chunkCount),T=!b&&(_===1||_===0&&(C===1||S&&C<=0)),A=self.performance.now();(b||_||s.stats.parsing.start===0)&&(s.stats.parsing.start=A),o&&(C||!T)&&(o.stats.parsing.start=A);const k=!(y&&((f=s.initSegment)==null?void 0:f.url)===((h=y.initSegment)==null?void 0:h.url)),I=new E0r(x,T,l,b,g,k);if(!T||x||k){Le.log(`[transmuxer-interface, ${s.type}]: Starting new transmux session for sn: ${u.sn} p: ${u.part} level: ${u.level} id: ${u.id}
        discontinuity: ${x}
        trackSwitch: ${b}
        contiguous: ${T}
        accurateTimeOffset: ${l}
        timeOffset: ${g}
        initSegmentChange: ${k}`);const D=new C0r(r,i,n,a,d);this.configureTransmuxer(D)}if(this.frag=s,this.part=o,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:e,decryptdata:v,chunkMeta:u,state:I},e instanceof ArrayBuffer?[e]:[]);else if(p){const D=p.push(e,v,u,I);NL(D)?(p.async=!0,D.then(R=>{this.handleTransmuxComplete(R)}).catch(R=>{this.transmuxerError(R,u,"transmuxer-interface push error")})):(p.async=!1,this.handleTransmuxComplete(D))}}flush(e){e.transmuxing.start=self.performance.now();const{transmuxer:n}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:e});else if(n){let r=n.flush(e);NL(r)||n.async?(NL(r)||(r=Promise.resolve(r)),r.then(s=>{this.handleFlushResult(s,e)}).catch(s=>{this.transmuxerError(s,e,"transmuxer-interface flush error")})):this.handleFlushResult(r,e)}}transmuxerError(e,n,r){this.hls&&(this.error=e,this.hls.trigger(ee.ERROR,{type:kn.MEDIA_ERROR,details:Ze.FRAG_PARSING_ERROR,chunkMeta:n,fatal:!1,error:e,err:e,reason:r}))}handleFlushResult(e,n){e.forEach(r=>{this.handleTransmuxComplete(r)}),this.onFlush(n)}onWorkerMessage(e){const n=e.data,r=this.hls;switch(n.event){case"init":{var i;const s=(i=this.workerContext)==null?void 0:i.objectURL;s&&self.URL.revokeObjectURL(s);break}case"transmuxComplete":{this.handleTransmuxComplete(n.data);break}case"flush":{this.onFlush(n.data);break}case"workerLog":Le[n.data.logType]&&Le[n.data.logType](n.data.message);break;default:{n.data=n.data||{},n.data.frag=this.frag,n.data.id=this.id,r.trigger(n.event,n.data);break}}}configureTransmuxer(e){const{transmuxer:n}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:e}):n&&n.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}const T0r=250,Zz=2,k0r=.1,A0r=.05;class I0r{constructor(e,n,r,i){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=n,this.fragmentTracker=r,this.hls=i}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(e,n){const{config:r,media:i,stalled:s}=this;if(i===null)return;const{currentTime:o,seeking:a}=i,l=this.seeking&&!a,u=!this.seeking&&a;if(this.seeking=a,o!==e){if(this.moved=!0,s!==null){if(this.stallReported){const x=self.performance.now()-s;Le.warn(`playback not stuck anymore @${o}, after ${Math.round(x)}ms`),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}return}if(u||l){this.stalled=null;return}if(i.paused&&!a||i.ended||i.playbackRate===0||!Ds.getBuffered(i).length)return;const d=Ds.bufferInfo(i,o,0),f=d.len>0,h=d.nextStart||0;if(!f&&!h)return;if(a){const x=d.len>Zz,b=!h||n&&n.start<=o||h-o>Zz&&!this.fragmentTracker.getPartialFragment(o);if(x||b)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var p;const x=Math.max(h,d.start||0)-o,b=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,C=(b==null||(p=b.details)==null?void 0:p.live)?b.details.targetduration*2:Zz,S=this.fragmentTracker.getPartialFragment(o);if(x>0&&(x<=C||S)){this._trySkipBufferHole(S);return}}const g=self.performance.now();if(s===null){this.stalled=g;return}const v=g-s;if(!a&&v>=T0r&&(this._reportStall(d),!this.media))return;const y=Ds.bufferInfo(i,o,r.maxBufferHole);this._tryFixBufferStall(y,v)}_tryFixBufferStall(e,n){const{config:r,fragmentTracker:i,media:s}=this;if(s===null)return;const o=s.currentTime,a=i.getPartialFragment(o);a&&(this._trySkipBufferHole(a)||!this.media)||(e.len>r.maxBufferHole||e.nextStart&&e.nextStart-o<r.maxBufferHole)&&n>r.highBufferWatchdogPeriod*1e3&&(Le.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(e){const{hls:n,media:r,stallReported:i}=this;if(!i&&r){this.stallReported=!0;const s=new Error(`Playback stalling at @${r.currentTime} due to low buffer (${JSON.stringify(e)})`);Le.warn(s.message),n.trigger(ee.ERROR,{type:kn.MEDIA_ERROR,details:Ze.BUFFER_STALLED_ERROR,fatal:!1,error:s,buffer:e.len})}}_trySkipBufferHole(e){const{config:n,hls:r,media:i}=this;if(i===null)return 0;const s=i.currentTime,o=Ds.bufferInfo(i,s,0),a=s<o.start?o.start:o.nextStart;if(a){const l=o.len<=n.maxBufferHole,u=o.len>0&&o.len<1&&i.readyState<3,d=a-s;if(d>0&&(l||u)){if(d>n.maxBufferHole){const{fragmentTracker:h}=this;let p=!1;if(s===0){const g=h.getAppendedFrag(0,Dn.MAIN);g&&a<g.end&&(p=!0)}if(!p){const g=e||h.getAppendedFrag(s,Dn.MAIN);if(g){let v=!1,y=g.end;for(;y<a;){const x=h.getPartialFragment(y);if(x)y+=x.duration;else{v=!0;break}}if(v)return 0}}}const f=Math.max(a+A0r,s+k0r);if(Le.warn(`skipping hole, adjusting currentTime from ${s} to ${f}`),this.moved=!0,this.stalled=null,i.currentTime=f,e&&!e.gap){const h=new Error(`fragment loaded with buffer holes, seeking from ${s} to ${f}`);r.trigger(ee.ERROR,{type:kn.MEDIA_ERROR,details:Ze.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:h,reason:h.message,frag:e})}return f}}return 0}_tryNudgeBuffer(){const{config:e,hls:n,media:r,nudgeRetry:i}=this;if(r===null)return;const s=r.currentTime;if(this.nudgeRetry++,i<e.nudgeMaxRetry){const o=s+(i+1)*e.nudgeOffset,a=new Error(`Nudging 'currentTime' from ${s} to ${o}`);Le.warn(a.message),r.currentTime=o,n.trigger(ee.ERROR,{type:kn.MEDIA_ERROR,details:Ze.BUFFER_NUDGE_ON_STALL,error:a,fatal:!1})}else{const o=new Error(`Playhead still not moving while enough data buffered @${s} after ${e.nudgeMaxRetry} nudges`);Le.error(o.message),n.trigger(ee.ERROR,{type:kn.MEDIA_ERROR,details:Ze.BUFFER_STALLED_ERROR,error:o,fatal:!0})}}}const D0r=100;class R0r extends Ioe{constructor(e,n,r){super(e,n,r,"[stream-controller]",Dn.MAIN),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(ee.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(ee.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(ee.MANIFEST_LOADING,this.onManifestLoading,this),e.on(ee.MANIFEST_PARSED,this.onManifestParsed,this),e.on(ee.LEVEL_LOADING,this.onLevelLoading,this),e.on(ee.LEVEL_LOADED,this.onLevelLoaded,this),e.on(ee.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(ee.ERROR,this.onError,this),e.on(ee.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(ee.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(ee.BUFFER_CREATED,this.onBufferCreated,this),e.on(ee.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(ee.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(ee.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(ee.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(ee.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(ee.MANIFEST_LOADING,this.onManifestLoading,this),e.off(ee.MANIFEST_PARSED,this.onManifestParsed,this),e.off(ee.LEVEL_LOADED,this.onLevelLoaded,this),e.off(ee.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(ee.ERROR,this.onError,this),e.off(ee.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(ee.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(ee.BUFFER_CREATED,this.onBufferCreated,this),e.off(ee.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(ee.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(ee.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),this.onMediaDetaching()}startLoad(e){if(this.levels){const{lastCurrentTime:n,hls:r}=this;if(this.stopLoad(),this.setInterval(D0r),this.level=-1,!this.startFragRequested){let i=r.startLevel;i===-1&&(r.config.testBandwidth&&this.levels.length>1?(i=0,this.bitrateTest=!0):i=r.nextAutoLevel),this.level=r.nextLoadLevel=i,this.loadedmetadata=!1}n>0&&e===-1&&(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n),this.state=at.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=at.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case at.WAITING_LEVEL:{var e;const{levels:r,level:i}=this,s=r==null||(e=r[i])==null?void 0:e.details;if(s&&(!s.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(s))break;this.state=at.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=at.IDLE;break}break}case at.FRAG_LOADING_WAITING_RETRY:{var n;const r=self.performance.now(),i=this.retryDate;(!i||r>=i||(n=this.media)!=null&&n.seeking)&&(this.resetStartWhenNotLoaded(this.level),this.state=at.IDLE)}break}this.state===at.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:n,levels:r,media:i}=this,{config:s,nextLoadLevel:o}=e;if(n===null||!i&&(this.startFragRequested||!s.startFragPrefetch)||this.altAudio&&this.audioOnly||!(r!=null&&r[o]))return;const a=r[o],l=this.getMainFwdBufferInfo();if(l===null)return;const u=this.getLevelDetails();if(u&&this._streamEnded(l,u)){const y={};this.altAudio&&(y.type="video"),this.hls.trigger(ee.BUFFER_EOS,y),this.state=at.ENDED;return}e.loadLevel!==o&&e.manualLevel===-1&&this.log(`Adapting to level ${o} from level ${this.level}`),this.level=e.nextLoadLevel=o;const d=a.details;if(!d||this.state===at.WAITING_LEVEL||d.live&&this.levelLastLoaded!==o){this.level=o,this.state=at.WAITING_LEVEL;return}const f=l.len,h=this.getMaxBufferLength(a.maxBitrate);if(f>=h)return;this.backtrackFragment&&this.backtrackFragment.start>l.end&&(this.backtrackFragment=null);const p=this.backtrackFragment?this.backtrackFragment.start:l.end;let g=this.getNextFragment(p,d);if(this.couldBacktrack&&!this.fragPrevious&&g&&g.sn!=="initSegment"&&this.fragmentTracker.getState(g)!==Xa.OK){var v;const x=((v=this.backtrackFragment)!=null?v:g).sn-d.startSN,b=d.fragments[x-1];b&&g.cc===b.cc&&(g=b,this.fragmentTracker.removeFragment(b))}else this.backtrackFragment&&l.len&&(this.backtrackFragment=null);if(g&&this.isLoopLoading(g,p)){if(!g.gap){const x=this.audioOnly&&!this.altAudio?Yi.AUDIO:Yi.VIDEO,b=(x===Yi.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;b&&this.afterBufferFlushed(b,x,Dn.MAIN)}g=this.getNextFragmentLoopLoading(g,d,l,Dn.MAIN,h)}g&&(g.initSegment&&!g.initSegment.data&&!this.bitrateTest&&(g=g.initSegment),this.loadFragment(g,a,p))}loadFragment(e,n,r){const i=this.fragmentTracker.getState(e);this.fragCurrent=e,i===Xa.NOT_LOADED||i===Xa.PARTIAL?e.sn==="initSegment"?this._loadInitSegment(e,n):this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,n)):(this.startFragRequested=!0,super.loadFragment(e,n,r)):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,Dn.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:n}=this;if(n!=null&&n.readyState){let r;const i=this.getAppendedFrag(n.currentTime);i&&i.start>1&&this.flushMainBuffer(0,i.start-1);const s=this.getLevelDetails();if(s!=null&&s.live){const a=this.getMainFwdBufferInfo();if(!a||a.len<s.targetduration*2)return}if(!n.paused&&e){const a=this.hls.nextLoadLevel,l=e[a],u=this.fragLastKbps;u&&this.fragCurrent?r=this.fragCurrent.duration*l.maxBitrate/(1e3*u)+1:r=0}else r=0;const o=this.getBufferedFrag(n.currentTime+r);if(o){const a=this.followingBufferedFrag(o);if(a){this.abortCurrentFrag();const l=a.maxStartPTS?a.maxStartPTS:a.start,u=a.duration,d=Math.max(o.end,l+Math.min(Math.max(u-this.config.maxFragLookUpTolerance,u*.5),u*.75));this.flushMainBuffer(d,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case at.KEY_LOADING:case at.FRAG_LOADING:case at.FRAG_LOADING_WAITING_RETRY:case at.PARSING:case at.PARSED:this.state=at.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,n){super.flushMainBuffer(e,n,this.altAudio?"video":null)}onMediaAttached(e,n){super.onMediaAttached(e,n);const r=n.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),r.addEventListener("playing",this.onvplaying),r.addEventListener("seeked",this.onvseeked),this.gapController=new I0r(this.config,r,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:e}=this;e&&this.onvplaying&&this.onvseeked&&(e.removeEventListener("playing",this.onvplaying),e.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const e=this.media,n=e?e.currentTime:null;pn(n)&&this.log(`Media seeked to ${n.toFixed(3)}`);const r=this.getMainFwdBufferInfo();if(r===null||r.len===0){this.warn(`Main forward buffer length on "seeked" event ${r?r.len:"empty"})`);return}this.tick()}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(ee.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.levels=this.fragPlaying=this.backtrackFragment=null,this.altAudio=this.audioOnly=!1}onManifestParsed(e,n){let r=!1,i=!1,s;n.levels.forEach(o=>{s=o.audioCodec,s&&(s.indexOf("mp4a.40.2")!==-1&&(r=!0),s.indexOf("mp4a.40.5")!==-1&&(i=!0))}),this.audioCodecSwitch=r&&i&&!Wgr(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=n.levels,this.startFragRequested=!1}onLevelLoading(e,n){const{levels:r}=this;if(!r||this.state!==at.IDLE)return;const i=r[n.level];(!i.details||i.details.live&&this.levelLastLoaded!==n.level||this.waitForCdnTuneIn(i.details))&&(this.state=at.WAITING_LEVEL)}onLevelLoaded(e,n){var r;const{levels:i}=this,s=n.level,o=n.details,a=o.totalduration;if(!i){this.warn(`Levels were reset while loading level ${s}`);return}this.log(`Level ${s} loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""}, cc [${o.startCC}, ${o.endCC}] duration:${a}`);const l=i[s],u=this.fragCurrent;u&&(this.state===at.FRAG_LOADING||this.state===at.FRAG_LOADING_WAITING_RETRY)&&(u.level!==n.level||u.urlId!==l.urlId)&&u.loader&&this.abortCurrentFrag();let d=0;if(o.live||(r=l.details)!=null&&r.live){if(o.fragments[0]||(o.deltaUpdateFailed=!0),o.deltaUpdateFailed)return;d=this.alignPlaylists(o,l.details)}if(l.details=o,this.levelLastLoaded=s,this.hls.trigger(ee.LEVEL_UPDATED,{details:o,level:s}),this.state===at.WAITING_LEVEL){if(this.waitForCdnTuneIn(o))return;this.state=at.IDLE}this.startFragRequested?o.live&&this.synchronizeToLiveEdge(o):this.setStartPosition(o,d),this.tick()}_handleFragmentLoadProgress(e){var n;const{frag:r,part:i,payload:s}=e,{levels:o}=this;if(!o){this.warn(`Levels were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);return}const a=o[r.level],l=a.details;if(!l){this.warn(`Dropping fragment ${r.sn} of level ${r.level} after level details were reset`),this.fragmentTracker.removeFragment(r);return}const u=a.videoCodec,d=l.PTSKnown||!l.live,f=(n=r.initSegment)==null?void 0:n.data,h=this._getAudioCodec(a),p=this.transmuxer=this.transmuxer||new Brt(this.hls,Dn.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),g=i?i.index:-1,v=g!==-1,y=new Toe(r.level,r.sn,r.stats.chunkCount,s.byteLength,g,v),x=this.initPTS[r.cc];p.push(s,f,h,u,r,i,l.totalduration,d,y,x)}onAudioTrackSwitching(e,n){const r=this.altAudio;if(!!!n.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const o=this.fragCurrent;o&&(this.log("Switching to main audio track, cancel main fragment load"),o.abortRequests(),this.fragmentTracker.removeFragment(o)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const s=this.hls;r&&(s.trigger(ee.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),s.trigger(ee.AUDIO_TRACK_SWITCHED,n)}}onAudioTrackSwitched(e,n){const r=n.id,i=!!this.hls.audioTracks[r].url;if(i){const s=this.videoBuffer;s&&this.mediaBuffer!==s&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=s)}this.altAudio=i,this.tick()}onBufferCreated(e,n){const r=n.tracks;let i,s,o=!1;for(const a in r){const l=r[a];if(l.id==="main"){if(s=a,i=l,a==="video"){const u=r[a];u&&(this.videoBuffer=u.buffer)}}else o=!0}o&&i?(this.log(`Alternate track found, use ${s}.buffered to schedule main fragment loading`),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media}onFragBuffered(e,n){const{frag:r,part:i}=n;if(r&&r.type!==Dn.MAIN)return;if(this.fragContextChanged(r)){this.warn(`Fragment ${r.sn}${i?" p: "+i.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}`),this.state===at.PARSED&&(this.state=at.IDLE);return}const s=i?i.stats:r.stats;this.fragLastKbps=Math.round(8*s.total/(s.buffering.end-s.loading.first)),r.sn!=="initSegment"&&(this.fragPrevious=r),this.fragBufferedComplete(r,i)}onError(e,n){var r;if(n.fatal){this.state=at.ERROR;return}switch(n.details){case Ze.FRAG_GAP:case Ze.FRAG_PARSING_ERROR:case Ze.FRAG_DECRYPT_ERROR:case Ze.FRAG_LOAD_ERROR:case Ze.FRAG_LOAD_TIMEOUT:case Ze.KEY_LOAD_ERROR:case Ze.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Dn.MAIN,n);break;case Ze.LEVEL_LOAD_ERROR:case Ze.LEVEL_LOAD_TIMEOUT:case Ze.LEVEL_PARSING_ERROR:!n.levelRetry&&this.state===at.WAITING_LEVEL&&((r=n.context)==null?void 0:r.type)===si.LEVEL&&(this.state=at.IDLE);break;case Ze.BUFFER_FULL_ERROR:if(!n.parent||n.parent!=="main")return;this.reduceLengthAndFlushBuffer(n)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case Ze.INTERNAL_EXCEPTION:this.recoverWorkerError(n);break}}checkBuffer(){const{media:e,gapController:n}=this;if(!(!e||!n||!e.readyState)){if(this.loadedmetadata||!Ds.getBuffered(e).length){const r=this.state!==at.IDLE?this.fragCurrent:null;n.poll(this.lastCurrentTime,r)}this.lastCurrentTime=e.currentTime}}onFragLoadEmergencyAborted(){this.state=at.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(e,{type:n}){if(n!==Yi.AUDIO||this.audioOnly&&!this.altAudio){const r=(n===Yi.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(r,n,Dn.MAIN)}}onLevelsUpdated(e,n){this.levels=n.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const n=e.currentTime;let r=this.startPosition;if(r>=0&&n<r){if(e.seeking){this.log(`could not seek to ${r}, already seeking at ${n}`);return}const i=Ds.getBuffered(e),o=(i.length?i.start(0):0)-r;o>0&&(o<this.config.maxBufferHole||o<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${o} to match buffer start`),r+=o,this.startPosition=r),this.log(`seek to target start position ${r} from current time ${n}`),e.currentTime=r}}_getAudioCodec(e){let n=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&n&&(this.log("Swapping audio codec"),n.indexOf("mp4a.40.5")!==-1?n="mp4a.40.2":n="mp4a.40.5"),n}_loadBitrateTestFrag(e,n){e.bitrateTest=!0,this._doFragLoad(e,n).then(r=>{const{hls:i}=this;if(!r||this.fragContextChanged(e))return;n.fragmentError=0,this.state=at.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const s=e.stats;s.parsing.start=s.parsing.end=s.buffering.start=s.buffering.end=self.performance.now(),i.trigger(ee.FRAG_LOADED,r),e.bitrateTest=!1})}_handleTransmuxComplete(e){var n;const r="main",{hls:i}=this,{remuxResult:s,chunkMeta:o}=e,a=this.getCurrentContext(o);if(!a){this.resetWhenMissingContext(o);return}const{frag:l,part:u,level:d}=a,{video:f,text:h,id3:p,initSegment:g}=s,{details:v}=d,y=this.altAudio?void 0:s.audio;if(this.fragContextChanged(l)){this.fragmentTracker.removeFragment(l);return}if(this.state=at.PARSING,g){if(g!=null&&g.tracks){const _=l.initSegment||l;this._bufferInitSegment(d,g.tracks,_,o),i.trigger(ee.FRAG_PARSING_INIT_SEGMENT,{frag:_,id:r,tracks:g.tracks})}const x=g.initPTS,b=g.timescale;pn(x)&&(this.initPTS[l.cc]={baseTime:x,timescale:b},i.trigger(ee.INIT_PTS_FOUND,{frag:l,id:r,initPTS:x,timescale:b}))}if(f&&v&&l.sn!=="initSegment"){const x=v.fragments[l.sn-1-v.startSN],b=l.sn===v.startSN,_=!x||l.cc>x.cc;if(s.independent!==!1){const{startPTS:C,endPTS:S,startDTS:T,endDTS:A}=f;if(u)u.elementaryStreams[f.type]={startPTS:C,endPTS:S,startDTS:T,endDTS:A};else if(f.firstKeyFrame&&f.independent&&o.id===1&&!_&&(this.couldBacktrack=!0),f.dropped&&f.independent){const k=this.getMainFwdBufferInfo(),I=(k?k.end:this.getLoadPosition())+this.config.maxBufferHole,D=f.firstKeyFramePTS?f.firstKeyFramePTS:C;if(!b&&I<D-this.config.maxBufferHole&&!_){this.backtrack(l);return}else _&&(l.gap=!0);l.setElementaryStreamInfo(f.type,l.start,S,l.start,A,!0)}l.setElementaryStreamInfo(f.type,C,S,T,A),this.backtrackFragment&&(this.backtrackFragment=l),this.bufferFragmentData(f,l,u,o,b||_)}else if(b||_)l.gap=!0;else{this.backtrack(l);return}}if(y){const{startPTS:x,endPTS:b,startDTS:_,endDTS:C}=y;u&&(u.elementaryStreams[Yi.AUDIO]={startPTS:x,endPTS:b,startDTS:_,endDTS:C}),l.setElementaryStreamInfo(Yi.AUDIO,x,b,_,C),this.bufferFragmentData(y,l,u,o)}if(v&&p!=null&&(n=p.samples)!=null&&n.length){const x={id:r,frag:l,details:v,samples:p.samples};i.trigger(ee.FRAG_PARSING_METADATA,x)}if(v&&h){const x={id:r,frag:l,details:v,samples:h.samples};i.trigger(ee.FRAG_PARSING_USERDATA,x)}}_bufferInitSegment(e,n,r,i){if(this.state!==at.PARSING)return;this.audioOnly=!!n.audio&&!n.video,this.altAudio&&!this.audioOnly&&delete n.audio;const{audio:s,video:o,audiovideo:a}=n;if(s){let l=e.audioCodec;const u=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(l&&(l.indexOf("mp4a.40.5")!==-1?l="mp4a.40.2":l="mp4a.40.5"),s.metadata.channelCount!==1&&u.indexOf("firefox")===-1&&(l="mp4a.40.5")),u.indexOf("android")!==-1&&s.container!=="audio/mpeg"&&(l="mp4a.40.2",this.log(`Android: force audio codec to ${l}`)),e.audioCodec&&e.audioCodec!==l&&this.log(`Swapping manifest audio codec "${e.audioCodec}" for "${l}"`),s.levelCodec=l,s.id="main",this.log(`Init audio buffer, container:${s.container}, codecs[selected/level/parsed]=[${l||""}/${e.audioCodec||""}/${s.codec}]`)}o&&(o.levelCodec=e.videoCodec,o.id="main",this.log(`Init video buffer, container:${o.container}, codecs[level/parsed]=[${e.videoCodec||""}/${o.codec}]`)),a&&this.log(`Init audiovideo buffer, container:${a.container}, codecs[level/parsed]=[${e.attrs.CODECS||""}/${a.codec}]`),this.hls.trigger(ee.BUFFER_CODECS,n),Object.keys(n).forEach(l=>{const d=n[l].initSegment;d!=null&&d.byteLength&&this.hls.trigger(ee.BUFFER_APPENDING,{type:l,data:d,frag:r,part:null,chunkMeta:i,parent:r.type})}),this.tick()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,Dn.MAIN)}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=at.IDLE}checkFragmentChanged(){const e=this.media;let n=null;if(e&&e.readyState>1&&e.seeking===!1){const r=e.currentTime;if(Ds.isBuffered(e,r)?n=this.getAppendedFrag(r):Ds.isBuffered(e,r+.1)&&(n=this.getAppendedFrag(r+.1)),n){this.backtrackFragment=null;const i=this.fragPlaying,s=n.level;(!i||n.sn!==i.sn||i.level!==s||n.urlId!==i.urlId)&&(this.fragPlaying=n,this.hls.trigger(ee.FRAG_CHANGED,{frag:n}),(!i||i.level!==s)&&this.hls.trigger(ee.LEVEL_SWITCHED,{level:s}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){const e=this.media;return e?this.fragPlaying||this.getAppendedFrag(e.currentTime):null}get currentProgramDateTime(){const e=this.media;if(e){const n=e.currentTime,r=this.currentFrag;if(r&&pn(n)&&pn(r.programDateTime)){const i=r.programDateTime+(n-r.start)*1e3;return new Date(i)}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class I2{constructor(e,n=0,r=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=n,this.totalWeight_=r}sample(e,n){const r=Math.pow(this.alpha_,e);this.estimate_=n*(1-r)+r*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class j0r{constructor(e,n,r,i=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new I2(e),this.fast_=new I2(n),this.defaultTTFB_=i,this.ttfb_=new I2(e)}update(e,n){const{slow_:r,fast_:i,ttfb_:s}=this;r.halfLife!==e&&(this.slow_=new I2(e,r.getEstimate(),r.getTotalWeight())),i.halfLife!==n&&(this.fast_=new I2(n,i.getEstimate(),i.getTotalWeight())),s.halfLife!==e&&(this.ttfb_=new I2(e,s.getEstimate(),s.getTotalWeight()))}sample(e,n){e=Math.max(e,this.minDelayMs_);const r=8*n,i=e/1e3,s=r/i;this.fast_.sample(i,s),this.slow_.sample(i,s)}sampleTTFB(e){const n=e/1e3,r=Math.sqrt(2)*Math.exp(-Math.pow(n,2)/2);this.ttfb_.sample(r,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}class O0r{constructor(e){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=-1,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=e;const n=e.config;this.bwEstimator=new j0r(n.abrEwmaSlowVoD,n.abrEwmaFastVoD,n.abrEwmaDefaultEstimate),this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(ee.FRAG_LOADING,this.onFragLoading,this),e.on(ee.FRAG_LOADED,this.onFragLoaded,this),e.on(ee.FRAG_BUFFERED,this.onFragBuffered,this),e.on(ee.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(ee.LEVEL_LOADED,this.onLevelLoaded,this)}unregisterListeners(){const{hls:e}=this;e.off(ee.FRAG_LOADING,this.onFragLoading,this),e.off(ee.FRAG_LOADED,this.onFragLoaded,this),e.off(ee.FRAG_BUFFERED,this.onFragBuffered,this),e.off(ee.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(ee.LEVEL_LOADED,this.onLevelLoaded,this)}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null}onFragLoading(e,n){var r;const i=n.frag;this.ignoreFragment(i)||(this.fragCurrent=i,this.partCurrent=(r=n.part)!=null?r:null,this.clearTimer(),this.timer=self.setInterval(this.onCheck,100))}onLevelSwitching(e,n){this.clearTimer()}getTimeToLoadFrag(e,n,r,i){const s=e+r/n,o=i?this.lastLevelLoadSec:0;return s+o}onLevelLoaded(e,n){const r=this.hls.config,{total:i,bwEstimate:s}=n.stats;pn(i)&&pn(s)&&(this.lastLevelLoadSec=8*i/s),n.details.live?this.bwEstimator.update(r.abrEwmaSlowLive,r.abrEwmaFastLive):this.bwEstimator.update(r.abrEwmaSlowVoD,r.abrEwmaFastVoD)}_abandonRulesCheck(){const{fragCurrent:e,partCurrent:n,hls:r}=this,{autoLevelEnabled:i,media:s}=r;if(!e||!s)return;const o=performance.now(),a=n?n.stats:e.stats,l=n?n.duration:e.duration,u=o-a.loading.start;if(a.aborted||a.loaded&&a.loaded===a.total||e.level===0){this.clearTimer(),this._nextAutoLevel=-1;return}if(!i||s.paused||!s.playbackRate||!s.readyState)return;const d=r.mainForwardBufferInfo;if(d===null)return;const f=this.bwEstimator.getEstimateTTFB(),h=Math.abs(s.playbackRate);if(u<=Math.max(f,1e3*(l/(h*2))))return;const p=d.len/h;if(p>=2*l/h)return;const g=a.loading.first?a.loading.first-a.loading.start:-1,v=a.loaded&&g>-1,y=this.bwEstimator.getEstimate(),{levels:x,minAutoLevel:b}=r,_=x[e.level],C=a.total||Math.max(a.loaded,Math.round(l*_.maxBitrate/8));let S=u-g;S<1&&v&&(S=Math.min(u,a.loaded*8/y));const T=v?a.loaded*1e3/S:0,A=T?(C-a.loaded)/T:C*8/y+f/1e3;if(A<=p)return;const k=T?T*8:y;let I=Number.POSITIVE_INFINITY,D;for(D=e.level-1;D>b;D--){const R=x[D].maxBitrate;if(I=this.getTimeToLoadFrag(f/1e3,k,l*R,!x[D].details),I<p)break}I>=A||I>l*10||(r.nextLoadLevel=D,v?this.bwEstimator.sample(u-Math.min(f,g),a.loaded):this.bwEstimator.sampleTTFB(u),this.clearTimer(),Le.warn(`[abr] Fragment ${e.sn}${n?" part "+n.index:""} of level ${e.level} is loading too slowly;
      Time to underbuffer: ${p.toFixed(3)} s
      Estimated load time for current fragment: ${A.toFixed(3)} s
      Estimated load time for down switch fragment: ${I.toFixed(3)} s
      TTFB estimate: ${g}
      Current BW estimate: ${pn(y)?(y/1024).toFixed(3):"Unknown"} Kb/s
      New BW estimate: ${(this.bwEstimator.getEstimate()/1024).toFixed(3)} Kb/s
      Aborting and switching to level ${D}`),e.loader&&(this.fragCurrent=this.partCurrent=null,e.abortRequests()),r.trigger(ee.FRAG_LOAD_EMERGENCY_ABORTED,{frag:e,part:n,stats:a}))}onFragLoaded(e,{frag:n,part:r}){const i=r?r.stats:n.stats;if(n.type===Dn.MAIN&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(n)){if(this.clearTimer(),this.lastLoadedFragLevel=n.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){const s=r?r.duration:n.duration,o=this.hls.levels[n.level],a=(o.loaded?o.loaded.bytes:0)+i.loaded,l=(o.loaded?o.loaded.duration:0)+s;o.loaded={bytes:a,duration:l},o.realBitrate=Math.round(8*a/l)}if(n.bitrateTest){const s={stats:i,frag:n,part:r,id:n.type};this.onFragBuffered(ee.FRAG_BUFFERED,s),n.bitrateTest=!1}}}onFragBuffered(e,n){const{frag:r,part:i}=n,s=i!=null&&i.stats.loaded?i.stats:r.stats;if(s.aborted||this.ignoreFragment(r))return;const o=s.parsing.end-s.loading.start-Math.min(s.loading.first-s.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(o,s.loaded),s.bwEstimate=this.bwEstimator.getEstimate(),r.bitrateTest?this.bitrateTestDelay=o/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==Dn.MAIN||e.sn==="initSegment"}clearTimer(){self.clearInterval(this.timer)}get nextAutoLevel(){const e=this._nextAutoLevel,n=this.bwEstimator;if(e!==-1&&!n.canEstimate())return e;let r=this.getNextABRAutoLevel();if(e!==-1){const i=this.hls.levels;if(i.length>Math.max(e,r)&&i[e].loadError<=i[r].loadError)return e}return e!==-1&&(r=Math.min(e,r)),r}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:n,hls:r}=this,{maxAutoLevel:i,config:s,minAutoLevel:o,media:a}=r,l=n?n.duration:e?e.duration:0,u=a&&a.playbackRate!==0?Math.abs(a.playbackRate):1,d=this.bwEstimator?this.bwEstimator.getEstimate():s.abrEwmaDefaultEstimate,f=r.mainForwardBufferInfo,h=(f?f.len:0)/u;let p=this.findBestLevel(d,o,i,h,s.abrBandWidthFactor,s.abrBandWidthUpFactor);if(p>=0)return p;Le.trace(`[abr] ${h?"rebuffering expected":"buffer is empty"}, finding optimal quality level`);let g=l?Math.min(l,s.maxStarvationDelay):s.maxStarvationDelay,v=s.abrBandWidthFactor,y=s.abrBandWidthUpFactor;if(!h){const x=this.bitrateTestDelay;x&&(g=(l?Math.min(l,s.maxLoadingDelay):s.maxLoadingDelay)-x,Le.trace(`[abr] bitrate test took ${Math.round(1e3*x)}ms, set first fragment max fetchDuration to ${Math.round(1e3*g)} ms`),v=y=1)}return p=this.findBestLevel(d,o,i,h+g,v,y),Math.max(p,0)}findBestLevel(e,n,r,i,s,o){var a;const{fragCurrent:l,partCurrent:u,lastLoadedFragLevel:d}=this,{levels:f}=this.hls,h=f[d],p=!!(h!=null&&(a=h.details)!=null&&a.live),g=h==null?void 0:h.codecSet,v=u?u.duration:l?l.duration:0,y=this.bwEstimator.getEstimateTTFB()/1e3;let x=n,b=-1;for(let _=r;_>=n;_--){const C=f[_];if(!C||g&&C.codecSet!==g){C&&(x=Math.min(_,x),b=Math.max(_,b));continue}b!==-1&&Le.trace(`[abr] Skipped level(s) ${x}-${b} with CODECS:"${f[b].attrs.CODECS}"; not compatible with "${h.attrs.CODECS}"`);const S=C.details,T=(u?S==null?void 0:S.partTarget:S==null?void 0:S.averagetargetduration)||v;let A;_<=d?A=s*e:A=o*e;const k=f[_].maxBitrate,I=this.getTimeToLoadFrag(y,A,k*T,S===void 0);if(Le.trace(`[abr] level:${_} adjustedbw-bitrate:${Math.round(A-k)} avgDuration:${T.toFixed(1)} maxFetchDuration:${i.toFixed(1)} fetchDuration:${I.toFixed(1)}`),A>k&&(I===0||!pn(I)||p&&!this.bitrateTestDelay||I<i))return _}return-1}set nextAutoLevel(e){this._nextAutoLevel=e}}class Nrt{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:n}=this;let r;if(e.length)e.length===1?r=e[0]:r=L0r(e,n);else return new Uint8Array(0);return this.reset(),r}reset(){this.chunks.length=0,this.dataLength=0}}function L0r(t,e){const n=new Uint8Array(e);let r=0;for(let i=0;i<t.length;i++){const s=t[i];n.set(s,r),r+=s.length}return n}const Kje=100;class P0r extends Ioe{constructor(e,n,r){super(e,n,r,"[audio-stream-controller]",Dn.AUDIO),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:e}=this;e.on(ee.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(ee.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(ee.MANIFEST_LOADING,this.onManifestLoading,this),e.on(ee.LEVEL_LOADED,this.onLevelLoaded,this),e.on(ee.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(ee.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(ee.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(ee.ERROR,this.onError,this),e.on(ee.BUFFER_RESET,this.onBufferReset,this),e.on(ee.BUFFER_CREATED,this.onBufferCreated,this),e.on(ee.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(ee.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(ee.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(ee.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(ee.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(ee.MANIFEST_LOADING,this.onManifestLoading,this),e.off(ee.LEVEL_LOADED,this.onLevelLoaded,this),e.off(ee.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(ee.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(ee.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(ee.ERROR,this.onError,this),e.off(ee.BUFFER_RESET,this.onBufferReset,this),e.off(ee.BUFFER_CREATED,this.onBufferCreated,this),e.off(ee.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(ee.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(ee.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(e,{frag:n,id:r,initPTS:i,timescale:s}){if(r==="main"){const o=n.cc;this.initPTS[n.cc]={baseTime:i,timescale:s},this.log(`InitPTS for cc: ${o} found from main: ${i}`),this.videoTrackCC=o,this.state===at.WAITING_INIT_PTS&&this.tick()}}startLoad(e){if(!this.levels){this.startPosition=e,this.state=at.STOPPED;return}const n=this.lastCurrentTime;this.stopLoad(),this.setInterval(Kje),n>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n,this.state=at.IDLE):(this.loadedmetadata=!1,this.state=at.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}doTick(){switch(this.state){case at.IDLE:this.doTickIdle();break;case at.WAITING_TRACK:{var e;const{levels:r,trackId:i}=this,s=r==null||(e=r[i])==null?void 0:e.details;if(s){if(this.waitForCdnTuneIn(s))break;this.state=at.WAITING_INIT_PTS}break}case at.FRAG_LOADING_WAITING_RETRY:{var n;const r=performance.now(),i=this.retryDate;(!i||r>=i||(n=this.media)!=null&&n.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state=at.IDLE);break}case at.WAITING_INIT_PTS:{const r=this.waitingData;if(r){const{frag:i,part:s,cache:o,complete:a}=r;if(this.initPTS[i.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=at.FRAG_LOADING;const l=o.flush(),u={frag:i,part:s,payload:l,networkDetails:null};this._handleFragmentLoadProgress(u),a&&super._handleFragmentLoadComplete(u)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${i.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const l=this.getLoadPosition(),u=Ds.bufferInfo(this.mediaBuffer,l,this.config.maxBufferHole);WZ(u.end,this.config.maxFragLookUpTolerance,i)<0&&(this.log(`Waiting fragment cc (${i.cc}) @ ${i.start} cancelled because another fragment at ${u.end} is needed`),this.clearWaitingFragment())}}else this.state=at.IDLE}}this.onTickEnd()}clearWaitingFragment(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=at.IDLE)}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){const{hls:e,levels:n,media:r,trackId:i}=this,s=e.config;if(!(n!=null&&n[i])||!r&&(this.startFragRequested||!s.startFragPrefetch))return;const o=n[i],a=o.details;if(!a||a.live&&this.levelLastLoaded!==i||this.waitForCdnTuneIn(a)){this.state=at.WAITING_TRACK;return}const l=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&l&&(this.bufferFlushed=!1,this.afterBufferFlushed(l,Yi.AUDIO,Dn.AUDIO));const u=this.getFwdBufferInfo(l,Dn.AUDIO);if(u===null)return;const{bufferedTrack:d,switchingTrack:f}=this;if(!f&&this._streamEnded(u,a)){e.trigger(ee.BUFFER_EOS,{type:"audio"}),this.state=at.ENDED;return}const h=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,Dn.MAIN),p=u.len,g=this.getMaxBufferLength(h==null?void 0:h.len);if(p>=g&&!f)return;const y=a.fragments[0].start;let x=u.end;if(f&&r){const S=this.getLoadPosition();d&&f.attrs!==d.attrs&&(x=S),a.PTSKnown&&S<y&&(u.end>y||u.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),r.currentTime=y+.05)}let b=this.getNextFragment(x,a),_=!1;if(b&&this.isLoopLoading(b,x)&&(_=!!b.gap,b=this.getNextFragmentLoopLoading(b,a,u,Dn.MAIN,g)),!b){this.bufferFlushed=!0;return}const C=h&&b.start>h.end+a.targetduration;if(C||!(h!=null&&h.len)&&u.len){const S=this.getAppendedFrag(b.start,Dn.MAIN);if(S===null||(_||(_=!!S.gap||!!C&&h.len===0),C&&!_||_&&u.nextStart&&u.nextStart<S.end))return}this.loadFragment(b,o,x)}getMaxBufferLength(e){const n=super.getMaxBufferLength();return e?Math.min(Math.max(n,e),this.config.maxMaxBufferLength):n}onMediaDetaching(){this.videoBuffer=null,super.onMediaDetaching()}onAudioTracksUpdated(e,{audioTracks:n}){this.resetTransmuxer(),this.levels=n.map(r=>new R3(r))}onAudioTrackSwitching(e,n){const r=!!n.url;this.trackId=n.id;const{fragCurrent:i}=this;i&&(i.abortRequests(),this.removeUnbufferedFrags(i.start)),this.resetLoadingState(),r?this.setInterval(Kje):this.resetTransmuxer(),r?(this.switchingTrack=n,this.state=at.IDLE):(this.switchingTrack=null,this.bufferedTrack=n,this.state=at.STOPPED),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(e,n){this.mainDetails=n.details,this.cachedTrackLoadedData!==null&&(this.hls.trigger(ee.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(e,n){var r;if(this.mainDetails==null){this.cachedTrackLoadedData=n;return}const{levels:i}=this,{details:s,id:o}=n;if(!i){this.warn(`Audio tracks were reset while loading level ${o}`);return}this.log(`Track ${o} loaded [${s.startSN},${s.endSN}]${s.lastPartSn?`[part-${s.lastPartSn}-${s.lastPartIndex}]`:""},duration:${s.totalduration}`);const a=i[o];let l=0;if(s.live||(r=a.details)!=null&&r.live){const u=this.mainDetails;if(s.fragments[0]||(s.deltaUpdateFailed=!0),s.deltaUpdateFailed||!u)return;!a.details&&s.hasProgramDateTime&&u.hasProgramDateTime?(Ert(s,u),l=s.fragments[0].start):l=this.alignPlaylists(s,a.details)}a.details=s,this.levelLastLoaded=o,!this.startFragRequested&&(this.mainDetails||!s.live)&&this.setStartPosition(a.details,l),this.state===at.WAITING_TRACK&&!this.waitForCdnTuneIn(s)&&(this.state=at.IDLE),this.tick()}_handleFragmentLoadProgress(e){var n;const{frag:r,part:i,payload:s}=e,{config:o,trackId:a,levels:l}=this;if(!l){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);return}const u=l[a];if(!u){this.warn("Audio track is undefined on fragment load progress");return}const d=u.details;if(!d){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(r.start);return}const f=o.defaultAudioCodec||u.audioCodec||"mp4a.40.2";let h=this.transmuxer;h||(h=this.transmuxer=new Brt(this.hls,Dn.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const p=this.initPTS[r.cc],g=(n=r.initSegment)==null?void 0:n.data;if(p!==void 0){const y=i?i.index:-1,x=y!==-1,b=new Toe(r.level,r.sn,r.stats.chunkCount,s.byteLength,y,x);h.push(s,g,f,"",r,i,d.totalduration,!1,b,p)}else{this.log(`Unknown video PTS for cc ${r.cc}, waiting for video PTS before demuxing audio frag ${r.sn} of [${d.startSN} ,${d.endSN}],track ${a}`);const{cache:v}=this.waitingData=this.waitingData||{frag:r,part:i,cache:new Nrt,complete:!1};v.push(new Uint8Array(s)),this.waitingVideoCC=this.videoTrackCC,this.state=at.WAITING_INIT_PTS}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(e,n){const r=n.tracks.audio;r&&(this.mediaBuffer=r.buffer||null),n.tracks.video&&(this.videoBuffer=n.tracks.video.buffer||null)}onFragBuffered(e,n){const{frag:r,part:i}=n;if(r.type!==Dn.AUDIO){if(!this.loadedmetadata&&r.type===Dn.MAIN){const s=this.videoBuffer||this.media;s&&Ds.getBuffered(s).length&&(this.loadedmetadata=!0)}return}if(this.fragContextChanged(r)){this.warn(`Fragment ${r.sn}${i?" p: "+i.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(r.sn!=="initSegment"){this.fragPrevious=r;const s=this.switchingTrack;s&&(this.bufferedTrack=s,this.switchingTrack=null,this.hls.trigger(ee.AUDIO_TRACK_SWITCHED,zc({},s)))}this.fragBufferedComplete(r,i)}onError(e,n){var r;if(n.fatal){this.state=at.ERROR;return}switch(n.details){case Ze.FRAG_GAP:case Ze.FRAG_PARSING_ERROR:case Ze.FRAG_DECRYPT_ERROR:case Ze.FRAG_LOAD_ERROR:case Ze.FRAG_LOAD_TIMEOUT:case Ze.KEY_LOAD_ERROR:case Ze.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Dn.AUDIO,n);break;case Ze.AUDIO_TRACK_LOAD_ERROR:case Ze.AUDIO_TRACK_LOAD_TIMEOUT:case Ze.LEVEL_PARSING_ERROR:!n.levelRetry&&this.state===at.WAITING_TRACK&&((r=n.context)==null?void 0:r.type)===si.AUDIO_TRACK&&(this.state=at.IDLE);break;case Ze.BUFFER_FULL_ERROR:if(!n.parent||n.parent!=="audio")return;this.reduceLengthAndFlushBuffer(n)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case Ze.INTERNAL_EXCEPTION:this.recoverWorkerError(n);break}}onBufferFlushed(e,{type:n}){n===Yi.AUDIO&&(this.bufferFlushed=!0,this.state===at.ENDED&&(this.state=at.IDLE))}_handleTransmuxComplete(e){var n;const r="audio",{hls:i}=this,{remuxResult:s,chunkMeta:o}=e,a=this.getCurrentContext(o);if(!a){this.resetWhenMissingContext(o);return}const{frag:l,part:u,level:d}=a,{details:f}=d,{audio:h,text:p,id3:g,initSegment:v}=s;if(this.fragContextChanged(l)||!f){this.fragmentTracker.removeFragment(l);return}if(this.state=at.PARSING,this.switchingTrack&&h&&this.completeAudioSwitch(this.switchingTrack),v!=null&&v.tracks){const y=l.initSegment||l;this._bufferInitSegment(v.tracks,y,o),i.trigger(ee.FRAG_PARSING_INIT_SEGMENT,{frag:y,id:r,tracks:v.tracks})}if(h){const{startPTS:y,endPTS:x,startDTS:b,endDTS:_}=h;u&&(u.elementaryStreams[Yi.AUDIO]={startPTS:y,endPTS:x,startDTS:b,endDTS:_}),l.setElementaryStreamInfo(Yi.AUDIO,y,x,b,_),this.bufferFragmentData(h,l,u,o)}if(g!=null&&(n=g.samples)!=null&&n.length){const y=Ba({id:r,frag:l,details:f},g);i.trigger(ee.FRAG_PARSING_METADATA,y)}if(p){const y=Ba({id:r,frag:l,details:f},p);i.trigger(ee.FRAG_PARSING_USERDATA,y)}}_bufferInitSegment(e,n,r){if(this.state!==at.PARSING)return;e.video&&delete e.video;const i=e.audio;if(!i)return;i.levelCodec=i.codec,i.id="audio",this.log(`Init audio buffer, container:${i.container}, codecs[parsed]=[${i.codec}]`),this.hls.trigger(ee.BUFFER_CODECS,e);const s=i.initSegment;if(s!=null&&s.byteLength){const o={type:"audio",frag:n,part:null,chunkMeta:r,parent:n.type,data:s};this.hls.trigger(ee.BUFFER_APPENDING,o)}this.tick()}loadFragment(e,n,r){const i=this.fragmentTracker.getState(e);if(this.fragCurrent=e,this.switchingTrack||i===Xa.NOT_LOADED||i===Xa.PARTIAL){var s;e.sn==="initSegment"?this._loadInitSegment(e,n):(s=n.details)!=null&&s.live&&!this.initPTS[e.cc]?(this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=at.WAITING_INIT_PTS):(this.startFragRequested=!0,super.loadFragment(e,n,r))}else this.clearTrackerIfNeeded(e)}completeAudioSwitch(e){const{hls:n,media:r,bufferedTrack:i}=this,s=i==null?void 0:i.attrs,o=e.attrs;r&&s&&(s.CHANNELS!==o.CHANNELS||s.NAME!==o.NAME||s.LANGUAGE!==o.LANGUAGE)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio")),this.bufferedTrack=e,this.switchingTrack=null,n.trigger(ee.AUDIO_TRACK_SWITCHED,zc({},e))}}class M0r extends Soe{constructor(e){super(e,"[audio-track-controller]"),this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(ee.MANIFEST_LOADING,this.onManifestLoading,this),e.on(ee.MANIFEST_PARSED,this.onManifestParsed,this),e.on(ee.LEVEL_LOADING,this.onLevelLoading,this),e.on(ee.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(ee.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(ee.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(ee.MANIFEST_LOADING,this.onManifestLoading,this),e.off(ee.MANIFEST_PARSED,this.onManifestParsed,this),e.off(ee.LEVEL_LOADING,this.onLevelLoading,this),e.off(ee.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(ee.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(ee.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,n){this.tracks=n.audioTracks||[]}onAudioTrackLoaded(e,n){const{id:r,groupId:i,details:s}=n,o=this.tracksInGroup[r];if(!o||o.groupId!==i){this.warn(`Track with id:${r} and group:${i} not found in active group ${o.groupId}`);return}const a=o.details;o.details=n.details,this.log(`audio-track ${r} "${o.name}" lang:${o.lang} group:${i} loaded [${s.startSN}-${s.endSN}]`),r===this.trackId&&this.playlistLoaded(r,n,a)}onLevelLoading(e,n){this.switchLevel(n.level)}onLevelSwitching(e,n){this.switchLevel(n.level)}switchLevel(e){const n=this.hls.levels[e];if(!(n!=null&&n.audioGroupIds))return;const r=n.audioGroupIds[n.urlId];if(this.groupId!==r){this.groupId=r||null;const i=this.tracks.filter(o=>!r||o.groupId===r);this.selectDefaultTrack&&!i.some(o=>o.default)&&(this.selectDefaultTrack=!1),this.tracksInGroup=i;const s={audioTracks:i};this.log(`Updating audio tracks, ${i.length} track(s) found in group:${r}`),this.hls.trigger(ee.AUDIO_TRACKS_UPDATED,s),this.selectInitialTrack()}else this.shouldReloadPlaylist(this.currentTrack)&&this.setAudioTrack(this.trackId)}onError(e,n){n.fatal||!n.context||n.context.type===si.AUDIO_TRACK&&n.context.id===this.trackId&&n.context.groupId===this.groupId&&(this.requestScheduled=-1,this.checkRetry(n))}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioTrack(e){const n=this.tracksInGroup;if(e<0||e>=n.length){this.warn("Invalid id passed to audio-track controller");return}this.clearTimer();const r=this.currentTrack;n[this.trackId];const i=n[e],{groupId:s,name:o}=i;if(this.log(`Switching to audio-track ${e} "${o}" lang:${i.lang} group:${s}`),this.trackId=e,this.currentTrack=i,this.selectDefaultTrack=!1,this.hls.trigger(ee.AUDIO_TRACK_SWITCHING,zc({},i)),i.details&&!i.details.live)return;const a=this.switchParams(i.url,r==null?void 0:r.details);this.loadPlaylist(a)}selectInitialTrack(){const e=this.tracksInGroup,n=this.findTrackId(this.currentTrack)|this.findTrackId(null);if(n!==-1)this.setAudioTrack(n);else{const r=new Error(`No track found for running audio group-ID: ${this.groupId} track count: ${e.length}`);this.warn(r.message),this.hls.trigger(ee.ERROR,{type:kn.MEDIA_ERROR,details:Ze.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:r})}}findTrackId(e){const n=this.tracksInGroup;for(let r=0;r<n.length;r++){const i=n[r];if((!this.selectDefaultTrack||i.default)&&(!e||e.attrs["STABLE-RENDITION-ID"]!==void 0&&e.attrs["STABLE-RENDITION-ID"]===i.attrs["STABLE-RENDITION-ID"]||e.name===i.name&&e.lang===i.lang))return i.id}return-1}loadPlaylist(e){super.loadPlaylist();const n=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(n)){const r=n.id,i=n.groupId;let s=n.url;if(e)try{s=e.addDirectives(s)}catch(o){this.warn(`Could not construct new URL with HLS Delivery Directives: ${o}`)}this.log(`loading audio-track playlist ${r} "${n.name}" lang:${n.lang} group:${i}`),this.clearTimer(),this.hls.trigger(ee.AUDIO_TRACK_LOADING,{url:s,id:r,groupId:i,deliveryDirectives:e||null})}}}function Vrt(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!$0r(t[n].attrs,e[n].attrs))return!1;return!0}function $0r(t,e){const n=t["STABLE-RENDITION-ID"];return n?n===e["STABLE-RENDITION-ID"]:!["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED"].some(r=>t[r]!==e[r])}const Zje=500;class F0r extends Ioe{constructor(e,n,r){super(e,n,r,"[subtitle-stream-controller]",Dn.SUBTITLE),this.levels=[],this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null}_registerListeners(){const{hls:e}=this;e.on(ee.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(ee.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(ee.MANIFEST_LOADING,this.onManifestLoading,this),e.on(ee.LEVEL_LOADED,this.onLevelLoaded,this),e.on(ee.ERROR,this.onError,this),e.on(ee.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(ee.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(ee.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(ee.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(ee.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(ee.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(ee.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(ee.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(ee.MANIFEST_LOADING,this.onManifestLoading,this),e.off(ee.LEVEL_LOADED,this.onLevelLoaded,this),e.off(ee.ERROR,this.onError,this),e.off(ee.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(ee.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(ee.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(ee.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(ee.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(ee.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(e){this.stopLoad(),this.state=at.IDLE,this.setInterval(Zje),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(e,n){this.mainDetails=n.details}onSubtitleFragProcessed(e,n){const{frag:r,success:i}=n;if(this.fragPrevious=r,this.state=at.IDLE,!i)return;const s=this.tracksBuffered[this.currentTrackId];if(!s)return;let o;const a=r.start;for(let u=0;u<s.length;u++)if(a>=s[u].start&&a<=s[u].end){o=s[u];break}const l=r.start+r.duration;o?o.end=l:(o={start:a,end:l},s.push(o)),this.fragmentTracker.fragBuffered(r)}onBufferFlushing(e,n){const{startOffset:r,endOffset:i}=n;if(r===0&&i!==Number.POSITIVE_INFINITY){const s=i-1;if(s<=0)return;n.endOffsetSubtitles=Math.max(0,s),this.tracksBuffered.forEach(o=>{for(let a=0;a<o.length;){if(o[a].end<=s){o.shift();continue}else if(o[a].start<s)o[a].start=s;else break;a++}}),this.fragmentTracker.removeFragmentsInRange(r,s,Dn.SUBTITLE)}}onFragBuffered(e,n){if(!this.loadedmetadata&&n.frag.type===Dn.MAIN){var r;(r=this.media)!=null&&r.buffered.length&&(this.loadedmetadata=!0)}}onError(e,n){const r=n.frag;(r==null?void 0:r.type)===Dn.SUBTITLE&&(this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==at.STOPPED&&(this.state=at.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:n}){if(Vrt(this.levels,n)){this.levels=n.map(r=>new R3(r));return}this.tracksBuffered=[],this.levels=n.map(r=>{const i=new R3(r);return this.tracksBuffered[i.id]=[],i}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,Dn.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,n){if(this.currentTrackId=n.id,!this.levels.length||this.currentTrackId===-1){this.clearInterval();return}const r=this.levels[this.currentTrackId];r!=null&&r.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,r&&this.setInterval(Zje)}onSubtitleTrackLoaded(e,n){var r;const{details:i,id:s}=n,{currentTrackId:o,levels:a}=this;if(!a.length)return;const l=a[o];if(s>=a.length||s!==o||!l)return;this.mediaBuffer=this.mediaBufferTimeRanges;let u=0;if(i.live||(r=l.details)!=null&&r.live){const d=this.mainDetails;if(i.deltaUpdateFailed||!d)return;const f=d.fragments[0];l.details?(u=this.alignPlaylists(i,l.details),u===0&&f&&(u=f.start,zZ(i,u))):i.hasProgramDateTime&&d.hasProgramDateTime?(Ert(i,d),u=i.fragments[0].start):f&&(u=f.start,zZ(i,u))}l.details=i,this.levelLastLoaded=s,!this.startFragRequested&&(this.mainDetails||!i.live)&&this.setStartPosition(l.details,u),this.tick(),i.live&&!this.fragCurrent&&this.media&&this.state===at.IDLE&&(j3(null,i.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),l.details=void 0))}_handleFragmentLoadComplete(e){const{frag:n,payload:r}=e,i=n.decryptdata,s=this.hls;if(!this.fragContextChanged(n)&&r&&r.byteLength>0&&i&&i.key&&i.iv&&i.method==="AES-128"){const o=performance.now();this.decrypter.decrypt(new Uint8Array(r),i.key.buffer,i.iv.buffer).catch(a=>{throw s.trigger(ee.ERROR,{type:kn.MEDIA_ERROR,details:Ze.FRAG_DECRYPT_ERROR,fatal:!1,error:a,reason:a.message,frag:n}),a}).then(a=>{const l=performance.now();s.trigger(ee.FRAG_DECRYPTED,{frag:n,payload:a,stats:{tstart:o,tdecrypt:l}})}).catch(a=>{this.warn(`${a.name}: ${a.message}`),this.state=at.IDLE})}}doTick(){if(!this.media){this.state=at.IDLE;return}if(this.state===at.IDLE){const{currentTrackId:e,levels:n}=this,r=n[e];if(!n.length||!r||!r.details)return;const{config:i}=this,s=this.getLoadPosition(),o=Ds.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],s,i.maxBufferHole),{end:a,len:l}=o,u=this.getFwdBufferInfo(this.media,Dn.MAIN),d=r.details,f=this.getMaxBufferLength(u==null?void 0:u.len)+d.levelTargetDuration;if(l>f)return;const h=d.fragments,p=h.length,g=d.edge;let v=null;const y=this.fragPrevious;if(a<g){const x=i.maxFragLookUpTolerance,b=a>g-x?0:x;v=j3(y,h,Math.max(h[0].start,a),b),!v&&y&&y.start<h[0].start&&(v=h[0])}else v=h[p-1];if(!v)return;if(v=this.mapToInitFragWhenRequired(v),v.sn!=="initSegment"){const x=v.sn-d.startSN,b=h[x-1];b&&b.cc===v.cc&&this.fragmentTracker.getState(b)===Xa.NOT_LOADED&&(v=b)}this.fragmentTracker.getState(v)===Xa.NOT_LOADED&&this.loadFragment(v,r,a)}}getMaxBufferLength(e){const n=super.getMaxBufferLength();return e?Math.max(n,e):n}loadFragment(e,n,r){this.fragCurrent=e,e.sn==="initSegment"?this._loadInitSegment(e,n):(this.startFragRequested=!0,super.loadFragment(e,n,r))}get mediaBufferTimeRanges(){return new B0r(this.tracksBuffered[this.currentTrackId]||[])}}class B0r{constructor(e){this.buffered=void 0;const n=(r,i,s)=>{if(i=i>>>0,i>s-1)throw new DOMException(`Failed to execute '${r}' on 'TimeRanges': The index provided (${i}) is greater than the maximum bound (${s})`);return e[i][r]};this.buffered={get length(){return e.length},end(r){return n("end",r,e.length)},start(r){return n("start",r,e.length)}}}}class N0r extends Soe{constructor(e){super(e,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.trackChangeListener=()=>this.onTextTracksChanged(),this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes(this.trackId)}registerListeners(){const{hls:e}=this;e.on(ee.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(ee.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(ee.MANIFEST_LOADING,this.onManifestLoading,this),e.on(ee.MANIFEST_PARSED,this.onManifestParsed,this),e.on(ee.LEVEL_LOADING,this.onLevelLoading,this),e.on(ee.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(ee.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(ee.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(ee.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(ee.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(ee.MANIFEST_LOADING,this.onManifestLoading,this),e.off(ee.MANIFEST_PARSED,this.onManifestParsed,this),e.off(ee.LEVEL_LOADING,this.onLevelLoading,this),e.off(ee.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(ee.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(ee.ERROR,this.onError,this)}onMediaAttached(e,n){this.media=n.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,e)}onMediaDetaching(){if(!this.media)return;self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),Xz(this.media.textTracks).forEach(n=>{V5(n)}),this.subtitleTrack=-1,this.media=null}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,n){this.tracks=n.subtitleTracks}onSubtitleTrackLoaded(e,n){const{id:r,details:i}=n,{trackId:s}=this,o=this.tracksInGroup[s];if(!o){this.warn(`Invalid subtitle track id ${r}`);return}const a=o.details;o.details=n.details,this.log(`subtitle track ${r} loaded [${i.startSN}-${i.endSN}]`),r===this.trackId&&this.playlistLoaded(r,n,a)}onLevelLoading(e,n){this.switchLevel(n.level)}onLevelSwitching(e,n){this.switchLevel(n.level)}switchLevel(e){const n=this.hls.levels[e];if(!(n!=null&&n.textGroupIds))return;const r=n.textGroupIds[n.urlId],i=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;if(this.groupId!==r){const s=this.tracks.filter(l=>!r||l.groupId===r);this.tracksInGroup=s;const o=this.findTrackId(i==null?void 0:i.name)||this.findTrackId();this.groupId=r||null;const a={subtitleTracks:s};this.log(`Updating subtitle tracks, ${s.length} track(s) found in "${r}" group-id`),this.hls.trigger(ee.SUBTITLE_TRACKS_UPDATED,a),o!==-1&&this.setSubtitleTrack(o,i)}else this.shouldReloadPlaylist(i)&&this.setSubtitleTrack(this.trackId,i)}findTrackId(e){const n=this.tracksInGroup;for(let r=0;r<n.length;r++){const i=n[r];if((!this.selectDefaultTrack||i.default)&&(!e||e===i.name))return i.id}return-1}onError(e,n){n.fatal||!n.context||n.context.type===si.SUBTITLE_TRACK&&n.context.id===this.trackId&&n.context.groupId===this.groupId&&this.checkRetry(n)}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1;const n=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(e,n)}loadPlaylist(e){super.loadPlaylist();const n=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(n)){const r=n.id,i=n.groupId;let s=n.url;if(e)try{s=e.addDirectives(s)}catch(o){this.warn(`Could not construct new URL with HLS Delivery Directives: ${o}`)}this.log(`Loading subtitle playlist for id ${r}`),this.hls.trigger(ee.SUBTITLE_TRACK_LOADING,{url:s,id:r,groupId:i,deliveryDirectives:e||null})}}toggleTrackModes(e){const{media:n,trackId:r}=this;if(!n)return;const i=Xz(n.textTracks),s=i.filter(a=>a.groupId===this.groupId);if(e===-1)[].slice.call(i).forEach(a=>{a.mode="disabled"});else{const a=s[r];a&&(a.mode="disabled")}const o=s[e];o&&(o.mode=this.subtitleDisplay?"showing":"hidden")}setSubtitleTrack(e,n){var r;const i=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(this.trackId!==e&&this.toggleTrackModes(e),this.trackId===e&&(e===-1||(r=i[e])!=null&&r.details)||e<-1||e>=i.length)return;this.clearTimer();const s=i[e];if(this.log(`Switching to subtitle-track ${e}`+(s?` "${s.name}" lang:${s.lang} group:${s.groupId}`:"")),this.trackId=e,s){const{id:o,groupId:a="",name:l,type:u,url:d}=s;this.hls.trigger(ee.SUBTITLE_TRACK_SWITCH,{id:o,groupId:a,name:l,type:u,url:d});const f=this.switchParams(s.url,n==null?void 0:n.details);this.loadPlaylist(f)}else this.hls.trigger(ee.SUBTITLE_TRACK_SWITCH,{id:e})}onTextTracksChanged(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let e=-1;const n=Xz(this.media.textTracks);for(let r=0;r<n.length;r++)if(n[r].mode==="hidden")e=r;else if(n[r].mode==="showing"){e=r;break}this.subtitleTrack!==e&&(this.subtitleTrack=e)}}function Xz(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];(r.kind==="subtitles"||r.kind==="captions")&&r.label&&e.push(t[n])}return e}class V0r{constructor(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}append(e,n){const r=this.queues[n];r.push(e),r.length===1&&this.buffers[n]&&this.executeNext(n)}insertAbort(e,n){this.queues[n].unshift(e),this.executeNext(n)}appendBlocker(e){let n;const r=new Promise(s=>{n=s}),i={execute:n,onStart:()=>{},onComplete:()=>{},onError:()=>{}};return this.append(i,e),r}executeNext(e){const{buffers:n,queues:r}=this,i=n[e],s=r[e];if(s.length){const o=s[0];try{o.execute()}catch(a){Le.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),o.onError(a),i!=null&&i.updating||(s.shift(),this.executeNext(e))}}}shiftAndExecuteNext(e){this.queues[e].shift(),this.executeNext(e)}current(e){return this.queues[e][0]}}const Xje=UF(),Qje=/([ha]vc.)(?:\.[^.,]+)+/;class U0r{constructor(e){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=()=>{const{media:n,mediaSource:r}=this;Le.log("[buffer-controller]: Media source opened"),n&&(n.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(ee.MEDIA_ATTACHED,{media:n})),r&&r.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{Le.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=()=>{Le.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=()=>{const{media:n,_objectUrl:r}=this;n&&n.src!==r&&Le.error(`Media element src was set while attaching MediaSource (${r} > ${n.src})`)},this.hls=e,this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null}registerListeners(){const{hls:e}=this;e.on(ee.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(ee.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(ee.MANIFEST_LOADING,this.onManifestLoading,this),e.on(ee.MANIFEST_PARSED,this.onManifestParsed,this),e.on(ee.BUFFER_RESET,this.onBufferReset,this),e.on(ee.BUFFER_APPENDING,this.onBufferAppending,this),e.on(ee.BUFFER_CODECS,this.onBufferCodecs,this),e.on(ee.BUFFER_EOS,this.onBufferEos,this),e.on(ee.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(ee.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(ee.FRAG_PARSED,this.onFragParsed,this),e.on(ee.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:e}=this;e.off(ee.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(ee.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(ee.MANIFEST_LOADING,this.onManifestLoading,this),e.off(ee.MANIFEST_PARSED,this.onManifestParsed,this),e.off(ee.BUFFER_RESET,this.onBufferReset,this),e.off(ee.BUFFER_APPENDING,this.onBufferAppending,this),e.off(ee.BUFFER_CODECS,this.onBufferCodecs,this),e.off(ee.BUFFER_EOS,this.onBufferEos,this),e.off(ee.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(ee.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(ee.FRAG_PARSED,this.onFragParsed,this),e.off(ee.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new V0r(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,n){let r=2;(n.audio&&!n.video||!n.altAudio)&&(r=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=r,Le.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(e,n){const r=this.media=n.media;if(r&&Xje){const i=this.mediaSource=new Xje;i.addEventListener("sourceopen",this._onMediaSourceOpen),i.addEventListener("sourceended",this._onMediaSourceEnded),i.addEventListener("sourceclose",this._onMediaSourceClose),r.src=self.URL.createObjectURL(i),this._objectUrl=r.src,r.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:e,mediaSource:n,_objectUrl:r}=this;if(n){if(Le.log("[buffer-controller]: media source detaching"),n.readyState==="open")try{n.endOfStream()}catch(i){Le.warn(`[buffer-controller]: onMediaDetaching: ${i.message} while calling endOfStream`)}this.onBufferReset(),n.removeEventListener("sourceopen",this._onMediaSourceOpen),n.removeEventListener("sourceended",this._onMediaSourceEnded),n.removeEventListener("sourceclose",this._onMediaSourceClose),e&&(e.removeEventListener("emptied",this._onMediaEmptied),r&&self.URL.revokeObjectURL(r),e.src===r?(e.removeAttribute("src"),e.load()):Le.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(ee.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach(e=>{const n=this.sourceBuffer[e];try{n&&(this.removeBufferListeners(e),this.mediaSource&&this.mediaSource.removeSourceBuffer(n),this.sourceBuffer[e]=void 0)}catch(r){Le.warn(`[buffer-controller]: Failed to reset the ${e} buffer`,r)}}),this._initSourceBuffer()}onBufferCodecs(e,n){const r=this.getSourceBufferTypes().length;Object.keys(n).forEach(i=>{if(r){const s=this.tracks[i];if(s&&typeof s.buffer.changeType=="function"){const{id:o,codec:a,levelCodec:l,container:u,metadata:d}=n[i],f=(s.levelCodec||s.codec).replace(Qje,"$1"),h=(l||a).replace(Qje,"$1");if(f!==h){const p=`${u};codecs=${l||a}`;this.appendChangeType(i,p),Le.log(`[buffer-controller]: switching codec ${f} to ${h}`),this.tracks[i]={buffer:s.buffer,codec:a,container:u,levelCodec:l,metadata:d,id:o}}}}else this.pendingTracks[i]=n[i]}),!r&&(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks())}appendChangeType(e,n){const{operationQueue:r}=this,i={execute:()=>{const s=this.sourceBuffer[e];s&&(Le.log(`[buffer-controller]: changing ${e} sourceBuffer type to ${n}`),s.changeType(n)),r.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:s=>{Le.warn(`[buffer-controller]: Failed to change ${e} SourceBuffer type`,s)}};r.append(i,e)}onBufferAppending(e,n){const{hls:r,operationQueue:i,tracks:s}=this,{data:o,type:a,frag:l,part:u,chunkMeta:d}=n,f=d.buffering[a],h=self.performance.now();f.start=h;const p=l.stats.buffering,g=u?u.stats.buffering:null;p.start===0&&(p.start=h),g&&g.start===0&&(g.start=h);const v=s.audio;let y=!1;a==="audio"&&(v==null?void 0:v.container)==="audio/mpeg"&&(y=!this.lastMpegAudioChunk||d.id===1||this.lastMpegAudioChunk.sn!==d.sn,this.lastMpegAudioChunk=d);const x=l.start,b={execute:()=>{if(f.executeStart=self.performance.now(),y){const _=this.sourceBuffer[a];if(_){const C=x-_.timestampOffset;Math.abs(C)>=.1&&(Le.log(`[buffer-controller]: Updating audio SourceBuffer timestampOffset to ${x} (delta: ${C}) sn: ${l.sn})`),_.timestampOffset=x)}}this.appendExecutor(o,a)},onStart:()=>{},onComplete:()=>{const _=self.performance.now();f.executeEnd=f.end=_,p.first===0&&(p.first=_),g&&g.first===0&&(g.first=_);const{sourceBuffer:C}=this,S={};for(const T in C)S[T]=Ds.getBuffered(C[T]);this.appendError=0,this.hls.trigger(ee.BUFFER_APPENDED,{type:a,frag:l,part:u,chunkMeta:d,parent:l.type,timeRanges:S})},onError:_=>{Le.error(`[buffer-controller]: Error encountered while trying to append to the ${a} SourceBuffer`,_);const C={type:kn.MEDIA_ERROR,parent:l.type,details:Ze.BUFFER_APPEND_ERROR,frag:l,part:u,chunkMeta:d,error:_,err:_,fatal:!1};_.code===DOMException.QUOTA_EXCEEDED_ERR?C.details=Ze.BUFFER_FULL_ERROR:(this.appendError++,C.details=Ze.BUFFER_APPEND_ERROR,this.appendError>r.config.appendErrorMaxRetry&&(Le.error(`[buffer-controller]: Failed ${r.config.appendErrorMaxRetry} times to append segment in sourceBuffer`),C.fatal=!0)),r.trigger(ee.ERROR,C)}};i.append(b,a)}onBufferFlushing(e,n){const{operationQueue:r}=this,i=s=>({execute:this.removeExecutor.bind(this,s,n.startOffset,n.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(ee.BUFFER_FLUSHED,{type:s})},onError:o=>{Le.warn(`[buffer-controller]: Failed to remove from ${s} SourceBuffer`,o)}});n.type?r.append(i(n.type),n.type):this.getSourceBufferTypes().forEach(s=>{r.append(i(s),s)})}onFragParsed(e,n){const{frag:r,part:i}=n,s=[],o=i?i.elementaryStreams:r.elementaryStreams;o[Yi.AUDIOVIDEO]?s.push("audiovideo"):(o[Yi.AUDIO]&&s.push("audio"),o[Yi.VIDEO]&&s.push("video"));const a=()=>{const l=self.performance.now();r.stats.buffering.end=l,i&&(i.stats.buffering.end=l);const u=i?i.stats:r.stats;this.hls.trigger(ee.FRAG_BUFFERED,{frag:r,part:i,stats:u,id:r.type})};s.length===0&&Le.warn(`Fragments must have at least one ElementaryStreamType set. type: ${r.type} level: ${r.level} sn: ${r.sn}`),this.blockBuffers(a,s)}onFragChanged(e,n){this.flushBackBuffer()}onBufferEos(e,n){this.getSourceBufferTypes().reduce((i,s)=>{const o=this.sourceBuffer[s];return o&&(!n.type||n.type===s)&&(o.ending=!0,o.ended||(o.ended=!0,Le.log(`[buffer-controller]: ${s} sourceBuffer now EOS`))),i&&!!(!o||o.ended)},!0)&&(Le.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers(()=>{this.getSourceBufferTypes().forEach(s=>{const o=this.sourceBuffer[s];o&&(o.ending=!1)});const{mediaSource:i}=this;if(!i||i.readyState!=="open"){i&&Le.info(`[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: ${i.readyState}`);return}Le.log("[buffer-controller]: Calling mediaSource.endOfStream()"),i.endOfStream()}))}onLevelUpdated(e,{details:n}){n.fragments.length&&(this.details=n,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}flushBackBuffer(){const{hls:e,details:n,media:r,sourceBuffer:i}=this;if(!r||n===null)return;const s=this.getSourceBufferTypes();if(!s.length)return;const o=n.live&&e.config.liveBackBufferLength!==null?e.config.liveBackBufferLength:e.config.backBufferLength;if(!pn(o)||o<0)return;const a=r.currentTime,l=n.levelTargetDuration,u=Math.max(o,l),d=Math.floor(a/l)*l-u;s.forEach(f=>{const h=i[f];if(h){const p=Ds.getBuffered(h);if(p.length>0&&d>p.start(0)){if(e.trigger(ee.BACK_BUFFER_REACHED,{bufferEnd:d}),n.live)e.trigger(ee.LIVE_BACK_BUFFER_REACHED,{bufferEnd:d});else if(h.ended&&p.end(p.length-1)-a<l*2){Le.info(`[buffer-controller]: Cannot flush ${f} back buffer while SourceBuffer is in ended state`);return}e.trigger(ee.BUFFER_FLUSHING,{startOffset:0,endOffset:d,type:f})}}})}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||this.mediaSource.readyState!=="open")return;const{details:e,hls:n,media:r,mediaSource:i}=this,s=e.fragments[0].start+e.totalduration,o=r.duration,a=pn(i.duration)?i.duration:0;e.live&&n.config.liveDurationInfinity?(Le.log("[buffer-controller]: Media Source duration is set to Infinity"),i.duration=1/0,this.updateSeekableRange(e)):(s>a&&s>o||!pn(o))&&(Le.log(`[buffer-controller]: Updating Media Source duration to ${s.toFixed(3)}`),i.duration=s)}updateSeekableRange(e){const n=this.mediaSource,r=e.fragments;if(r.length&&e.live&&n!=null&&n.setLiveSeekableRange){const s=Math.max(0,r[0].start),o=Math.max(s,s+e.totalduration);n.setLiveSeekableRange(s,o)}}checkPendingTracks(){const{bufferCodecEventsExpected:e,operationQueue:n,pendingTracks:r}=this,i=Object.keys(r).length;if(i&&!e||i===2){this.createSourceBuffers(r),this.pendingTracks={};const s=this.getSourceBufferTypes();if(s.length)this.hls.trigger(ee.BUFFER_CREATED,{tracks:this.tracks}),s.forEach(o=>{n.executeNext(o)});else{const o=new Error("could not create source buffer for media codec(s)");this.hls.trigger(ee.ERROR,{type:kn.MEDIA_ERROR,details:Ze.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:o,reason:o.message})}}}createSourceBuffers(e){const{sourceBuffer:n,mediaSource:r}=this;if(!r)throw Error("createSourceBuffers called when mediaSource was null");for(const i in e)if(!n[i]){const s=e[i];if(!s)throw Error(`source buffer exists for track ${i}, however track does not`);const o=s.levelCodec||s.codec,a=`${s.container};codecs=${o}`;Le.log(`[buffer-controller]: creating sourceBuffer(${a})`);try{const l=n[i]=r.addSourceBuffer(a),u=i;this.addBufferListener(u,"updatestart",this._onSBUpdateStart),this.addBufferListener(u,"updateend",this._onSBUpdateEnd),this.addBufferListener(u,"error",this._onSBUpdateError),this.tracks[i]={buffer:l,codec:o,container:s.container,levelCodec:s.levelCodec,metadata:s.metadata,id:s.id}}catch(l){Le.error(`[buffer-controller]: error while trying to add sourceBuffer: ${l.message}`),this.hls.trigger(ee.ERROR,{type:kn.MEDIA_ERROR,details:Ze.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:l,mimeType:a})}}}_onSBUpdateStart(e){const{operationQueue:n}=this;n.current(e).onStart()}_onSBUpdateEnd(e){const{operationQueue:n}=this;n.current(e).onComplete(),n.shiftAndExecuteNext(e)}_onSBUpdateError(e,n){const r=new Error(`${e} SourceBuffer error`);Le.error(`[buffer-controller]: ${r}`,n),this.hls.trigger(ee.ERROR,{type:kn.MEDIA_ERROR,details:Ze.BUFFER_APPENDING_ERROR,error:r,fatal:!1});const i=this.operationQueue.current(e);i&&i.onError(n)}removeExecutor(e,n,r){const{media:i,mediaSource:s,operationQueue:o,sourceBuffer:a}=this,l=a[e];if(!i||!s||!l){Le.warn(`[buffer-controller]: Attempting to remove from the ${e} SourceBuffer, but it does not exist`),o.shiftAndExecuteNext(e);return}const u=pn(i.duration)?i.duration:1/0,d=pn(s.duration)?s.duration:1/0,f=Math.max(0,n),h=Math.min(r,u,d);h>f&&!l.ending?(l.ended=!1,Le.log(`[buffer-controller]: Removing [${f},${h}] from the ${e} SourceBuffer`),l.remove(f,h)):o.shiftAndExecuteNext(e)}appendExecutor(e,n){const{operationQueue:r,sourceBuffer:i}=this,s=i[n];if(!s){Le.warn(`[buffer-controller]: Attempting to append to the ${n} SourceBuffer, but it does not exist`),r.shiftAndExecuteNext(n);return}s.ended=!1,s.appendBuffer(e)}blockBuffers(e,n=this.getSourceBufferTypes()){if(!n.length){Le.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);return}const{operationQueue:r}=this,i=n.map(s=>r.appendBlocker(s));Promise.all(i).then(()=>{e(),n.forEach(s=>{const o=this.sourceBuffer[s];o!=null&&o.updating||r.shiftAndExecuteNext(s)})})}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(e,n,r){const i=this.sourceBuffer[e];if(!i)return;const s=r.bind(this,e);this.listeners[e].push({event:n,listener:s}),i.addEventListener(n,s)}removeBufferListeners(e){const n=this.sourceBuffer[e];n&&this.listeners[e].forEach(r=>{n.removeEventListener(r.event,r.listener)})}}const Jje={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Urt=function(e){let n=e;return Jje.hasOwnProperty(e)&&(n=Jje[e]),String.fromCharCode(n)},lh=15,pg=100,H0r={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},z0r={17:2,18:4,21:6,22:8,23:10,19:13,20:15},W0r={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},G0r={25:2,26:4,29:6,30:8,31:10,27:13,28:15},q0r=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class Y0r{constructor(){this.time=null,this.verboseLevel=0}log(e,n){if(this.verboseLevel>=e){const r=typeof n=="function"?n():n;Le.log(`${this.time} [${e}] ${r}`)}}}const hb=function(e){const n=[];for(let r=0;r<e.length;r++)n.push(e[r].toString(16));return n};class Hrt{constructor(e,n,r,i,s){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=e||"white",this.underline=n||!1,this.italics=r||!1,this.background=i||"black",this.flash=s||!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const n=["foreground","underline","italics","background","flash"];for(let r=0;r<n.length;r++){const i=n[r];e.hasOwnProperty(i)&&(this[i]=e[i])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class K0r{constructor(e,n,r,i,s,o){this.uchar=void 0,this.penState=void 0,this.uchar=e||" ",this.penState=new Hrt(n,r,i,s,o)}reset(){this.uchar=" ",this.penState.reset()}setChar(e,n){this.uchar=e,this.penState.copy(n)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class Z0r{constructor(e){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(let n=0;n<pg;n++)this.chars.push(new K0r);this.logger=e,this.pos=0,this.currPenState=new Hrt}equals(e){let n=!0;for(let r=0;r<pg;r++)if(!this.chars[r].equals(e.chars[r])){n=!1;break}return n}copy(e){for(let n=0;n<pg;n++)this.chars[n].copy(e.chars[n])}isEmpty(){let e=!0;for(let n=0;n<pg;n++)if(!this.chars[n].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>pg&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=pg)}moveCursor(e){const n=this.pos+e;if(e>1)for(let r=this.pos+1;r<n+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(n)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const n=Urt(e);if(this.pos>=pg){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+n+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(n,this.currPenState),this.moveCursor(1)}clearFromPos(e){let n;for(n=e;n<pg;n++)this.chars[n].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let n=!0;for(let r=0;r<pg;r++){const i=this.chars[r].uchar;i!==" "&&(n=!1),e.push(i)}return n?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class Qz{constructor(e){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(let n=0;n<lh;n++)this.rows.push(new Z0r(e));this.logger=e,this.currRow=lh-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}reset(){for(let e=0;e<lh;e++)this.rows[e].clear();this.currRow=lh-1}equals(e){let n=!0;for(let r=0;r<lh;r++)if(!this.rows[r].equals(e.rows[r])){n=!1;break}return n}copy(e){for(let n=0;n<lh;n++)this.rows[n].copy(e.rows[n])}isEmpty(){let e=!0;for(let n=0;n<lh;n++)if(!this.rows[n].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+JSON.stringify(e));let n=e.row-1;if(this.nrRollUpRows&&n<this.nrRollUpRows-1&&(n=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==n){for(let a=0;a<lh;a++)this.rows[a].clear();const s=this.currRow+1-this.nrRollUpRows,o=this.lastOutputScreen;if(o){const a=o.rows[s].cueStartTime,l=this.logger.time;if(a&&l!==null&&a<l)for(let u=0;u<this.nrRollUpRows;u++)this.rows[n-this.nrRollUpRows+u+1].copy(o.rows[s+u])}}this.currRow=n;const r=this.rows[this.currRow];if(e.indent!==null){const s=e.indent,o=Math.max(s-1,0);r.setCursor(e.indent),e.color=r.chars[o].penState.foreground}const i={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(i)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,n=this.rows.splice(e,1)[0];n.clear(),this.rows.splice(this.currRow,0,n),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const n=[];let r="",i=-1;for(let s=0;s<lh;s++){const o=this.rows[s].getTextString();o&&(i=s+1,e?n.push("Row "+i+": '"+o+"'"):n.push(o.trim()))}return n.length>0&&(e?r="["+n.join(" | ")+"]":r=n.join(`
`)),r}getTextAndFormat(){return this.rows}}class eOe{constructor(e,n,r){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new Qz(r),this.nonDisplayedMemory=new Qz(r),this.lastOutputScreen=new Qz(r),this.currRollUpRow=this.displayedMemory.rows[lh-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=r}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[lh-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let r=0;r<e.length;r++)this.writeScreen.insertChar(e[r]);const n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>n+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const n={flash:!1};if(n.underline=e%2===1,n.italics=e>=46,n.italics)n.foreground="white";else{const r=Math.floor(e/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];n.foreground=i[r]}this.logger.log(2,"MIDROW: "+JSON.stringify(n)),this.writeScreen.setPen(n)}outputDataUpdate(e=!1){const n=this.logger.time;n!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=n:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,n,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:n),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class tOe{constructor(e,n,r){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;const i=new Y0r;this.channels=[null,new eOe(e,n,i),new eOe(e+1,r,i)],this.cmdHistory=rOe(),this.logger=i}getHandler(e){return this.channels[e].getHandler()}setHandler(e,n){this.channels[e].setHandler(n)}addData(e,n){let r,i,s,o=!1;this.logger.time=e;for(let a=0;a<n.length;a+=2)if(i=n[a]&127,s=n[a+1]&127,!(i===0&&s===0)){if(this.logger.log(3,"["+hb([n[a],n[a+1]])+"] -> ("+hb([i,s])+")"),r=this.parseCmd(i,s),r||(r=this.parseMidrow(i,s)),r||(r=this.parsePAC(i,s)),r||(r=this.parseBackgroundAttributes(i,s)),!r&&(o=this.parseChars(i,s),o)){const l=this.currentChannel;l&&l>0?this.channels[l].insertChars(o):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!r&&!o&&this.logger.log(2,"Couldn't parse cleaned data "+hb([i,s])+" orig: "+hb([n[a],n[a+1]]))}}parseCmd(e,n){const{cmdHistory:r}=this,i=(e===20||e===28||e===21||e===29)&&n>=32&&n<=47,s=(e===23||e===31)&&n>=33&&n<=35;if(!(i||s))return!1;if(nOe(e,n,r))return D2(null,null,r),this.logger.log(3,"Repeated command ("+hb([e,n])+") is dropped"),!0;const o=e===20||e===21||e===23?1:2,a=this.channels[o];return e===20||e===21||e===28||e===29?n===32?a.ccRCL():n===33?a.ccBS():n===34?a.ccAOF():n===35?a.ccAON():n===36?a.ccDER():n===37?a.ccRU(2):n===38?a.ccRU(3):n===39?a.ccRU(4):n===40?a.ccFON():n===41?a.ccRDC():n===42?a.ccTR():n===43?a.ccRTD():n===44?a.ccEDM():n===45?a.ccCR():n===46?a.ccENM():n===47&&a.ccEOC():a.ccTO(n-32),D2(e,n,r),this.currentChannel=o,!0}parseMidrow(e,n){let r=0;if((e===17||e===25)&&n>=32&&n<=47){if(e===17?r=1:r=2,r!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const i=this.channels[r];return i?(i.ccMIDROW(n),this.logger.log(3,"MIDROW ("+hb([e,n])+")"),!0):!1}return!1}parsePAC(e,n){let r;const i=this.cmdHistory,s=(e>=17&&e<=23||e>=25&&e<=31)&&n>=64&&n<=127,o=(e===16||e===24)&&n>=64&&n<=95;if(!(s||o))return!1;if(nOe(e,n,i))return D2(null,null,i),!0;const a=e<=23?1:2;n>=64&&n<=95?r=a===1?H0r[e]:W0r[e]:r=a===1?z0r[e]:G0r[e];const l=this.channels[a];return l?(l.setPAC(this.interpretPAC(r,n)),D2(e,n,i),this.currentChannel=a,!0):!1}interpretPAC(e,n){let r;const i={color:null,italics:!1,indent:null,underline:!1,row:e};return n>95?r=n-96:r=n-64,i.underline=(r&1)===1,r<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(i.italics=!0,i.color="white"):i.indent=Math.floor((r-16)/2)*4,i}parseChars(e,n){let r,i=null,s=null;if(e>=25?(r=2,s=e-8):(r=1,s=e),s>=17&&s<=19){let o;s===17?o=n+80:s===18?o=n+112:o=n+144,this.logger.log(2,"Special char '"+Urt(o)+"' in channel "+r),i=[o]}else e>=32&&e<=127&&(i=n===0?[e]:[e,n]);if(i){const o=hb(i);this.logger.log(3,"Char codes =  "+o.join(",")),D2(e,n,this.cmdHistory)}return i}parseBackgroundAttributes(e,n){const r=(e===16||e===24)&&n>=32&&n<=47,i=(e===23||e===31)&&n>=45&&n<=47;if(!(r||i))return!1;let s;const o={};e===16||e===24?(s=Math.floor((n-32)/2),o.background=q0r[s],n%2===1&&(o.background=o.background+"_semi")):n===45?o.background="transparent":(o.foreground="black",n===47&&(o.underline=!0));const a=e<=23?1:2;return this.channels[a].setBkgData(o),D2(e,n,this.cmdHistory),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const n=this.channels[e];n&&n.reset()}this.cmdHistory=rOe()}cueSplitAtTime(e){for(let n=0;n<this.channels.length;n++){const r=this.channels[n];r&&r.cueSplitAtTime(e)}}}function D2(t,e,n){n.a=t,n.b=e}function nOe(t,e,n){return n.a===t&&n.b===e}function rOe(){return{a:null,b:null}}class $j{constructor(e,n){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=n}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,n,r){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=n,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var Loe=function(){if(typeof self<"u"&&self.VTTCue)return self.VTTCue;const t=["","lr","rl"],e=["start","middle","end","left","right"];function n(a,l){if(typeof l!="string"||!Array.isArray(a))return!1;const u=l.toLowerCase();return~a.indexOf(u)?u:!1}function r(a){return n(t,a)}function i(a){return n(e,a)}function s(a,...l){let u=1;for(;u<arguments.length;u++){const d=arguments[u];for(const f in d)a[f]=d[f]}return a}function o(a,l,u){const d=this,f={enumerable:!0};d.hasBeenReset=!1;let h="",p=!1,g=a,v=l,y=u,x=null,b="",_=!0,C="auto",S="start",T=50,A="middle",k=50,I="middle";Object.defineProperty(d,"id",s({},f,{get:function(){return h},set:function(D){h=""+D}})),Object.defineProperty(d,"pauseOnExit",s({},f,{get:function(){return p},set:function(D){p=!!D}})),Object.defineProperty(d,"startTime",s({},f,{get:function(){return g},set:function(D){if(typeof D!="number")throw new TypeError("Start time must be set to a number.");g=D,this.hasBeenReset=!0}})),Object.defineProperty(d,"endTime",s({},f,{get:function(){return v},set:function(D){if(typeof D!="number")throw new TypeError("End time must be set to a number.");v=D,this.hasBeenReset=!0}})),Object.defineProperty(d,"text",s({},f,{get:function(){return y},set:function(D){y=""+D,this.hasBeenReset=!0}})),Object.defineProperty(d,"region",s({},f,{get:function(){return x},set:function(D){x=D,this.hasBeenReset=!0}})),Object.defineProperty(d,"vertical",s({},f,{get:function(){return b},set:function(D){const R=r(D);if(R===!1)throw new SyntaxError("An invalid or illegal string was specified.");b=R,this.hasBeenReset=!0}})),Object.defineProperty(d,"snapToLines",s({},f,{get:function(){return _},set:function(D){_=!!D,this.hasBeenReset=!0}})),Object.defineProperty(d,"line",s({},f,{get:function(){return C},set:function(D){if(typeof D!="number"&&D!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");C=D,this.hasBeenReset=!0}})),Object.defineProperty(d,"lineAlign",s({},f,{get:function(){return S},set:function(D){const R=i(D);if(!R)throw new SyntaxError("An invalid or illegal string was specified.");S=R,this.hasBeenReset=!0}})),Object.defineProperty(d,"position",s({},f,{get:function(){return T},set:function(D){if(D<0||D>100)throw new Error("Position must be between 0 and 100.");T=D,this.hasBeenReset=!0}})),Object.defineProperty(d,"positionAlign",s({},f,{get:function(){return A},set:function(D){const R=i(D);if(!R)throw new SyntaxError("An invalid or illegal string was specified.");A=R,this.hasBeenReset=!0}})),Object.defineProperty(d,"size",s({},f,{get:function(){return k},set:function(D){if(D<0||D>100)throw new Error("Size must be between 0 and 100.");k=D,this.hasBeenReset=!0}})),Object.defineProperty(d,"align",s({},f,{get:function(){return I},set:function(D){const R=i(D);if(!R)throw new SyntaxError("An invalid or illegal string was specified.");I=R,this.hasBeenReset=!0}})),d.displayState=void 0}return o.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},o}();class X0r{decode(e,n){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function zrt(t){function e(r,i,s,o){return(r|0)*3600+(i|0)*60+(s|0)+parseFloat(o||0)}const n=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?e(n[2],n[3],0,n[4]):e(n[1],n[2],n[3],n[4]):null}class Q0r{constructor(){this.values=Object.create(null)}set(e,n){!this.get(e)&&n!==""&&(this.values[e]=n)}get(e,n,r){return r?this.has(e)?this.values[e]:n[r]:this.has(e)?this.values[e]:n}has(e){return e in this.values}alt(e,n,r){for(let i=0;i<r.length;++i)if(n===r[i]){this.set(e,n);break}}integer(e,n){/^-?\d+$/.test(n)&&this.set(e,parseInt(n,10))}percent(e,n){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(n)){const r=parseFloat(n);if(r>=0&&r<=100)return this.set(e,r),!0}return!1}}function Wrt(t,e,n,r){const i=r?t.split(r):[t];for(const s in i){if(typeof i[s]!="string")continue;const o=i[s].split(n);if(o.length!==2)continue;const a=o[0],l=o[1];e(a,l)}}const qZ=new Loe(0,0,""),Fj=qZ.align==="middle"?"middle":"center";function J0r(t,e,n){const r=t;function i(){const a=zrt(t);if(a===null)throw new Error("Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),a}function s(a,l){const u=new Q0r;Wrt(a,function(h,p){let g;switch(h){case"region":for(let v=n.length-1;v>=0;v--)if(n[v].id===p){u.set(h,n[v].region);break}break;case"vertical":u.alt(h,p,["rl","lr"]);break;case"line":g=p.split(","),u.integer(h,g[0]),u.percent(h,g[0])&&u.set("snapToLines",!1),u.alt(h,g[0],["auto"]),g.length===2&&u.alt("lineAlign",g[1],["start",Fj,"end"]);break;case"position":g=p.split(","),u.percent(h,g[0]),g.length===2&&u.alt("positionAlign",g[1],["start",Fj,"end","line-left","line-right","auto"]);break;case"size":u.percent(h,p);break;case"align":u.alt(h,p,["start",Fj,"end","left","right"]);break}},/:/,/\s/),l.region=u.get("region",null),l.vertical=u.get("vertical","");let d=u.get("line","auto");d==="auto"&&qZ.line===-1&&(d=-1),l.line=d,l.lineAlign=u.get("lineAlign","start"),l.snapToLines=u.get("snapToLines",!0),l.size=u.get("size",100),l.align=u.get("align",Fj);let f=u.get("position","auto");f==="auto"&&qZ.position===50&&(f=l.align==="start"||l.align==="left"?0:l.align==="end"||l.align==="right"?100:50),l.position=f}function o(){t=t.replace(/^\s+/,"")}if(o(),e.startTime=i(),o(),t.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+r);t=t.slice(3),o(),e.endTime=i(),o(),s(t,e)}function Grt(t){return t.replace(/<br(?: \/)?>/gi,`
`)}class e1r{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new X0r,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const n=this;e&&(n.buffer+=n.decoder.decode(e,{stream:!0}));function r(){let s=n.buffer,o=0;for(s=Grt(s);o<s.length&&s[o]!=="\r"&&s[o]!==`
`;)++o;const a=s.slice(0,o);return s[o]==="\r"&&++o,s[o]===`
`&&++o,n.buffer=s.slice(o),a}function i(s){Wrt(s,function(o,a){},/:/)}try{let s="";if(n.state==="INITIAL"){if(!/\r\n|\n/.test(n.buffer))return this;s=r();const a=s.match(/^()?WEBVTT([ \t].*)?$/);if(!(a!=null&&a[0]))throw new Error("Malformed WebVTT signature.");n.state="HEADER"}let o=!1;for(;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(o?o=!1:s=r(),n.state){case"HEADER":/:/.test(s)?i(s):s||(n.state="ID");continue;case"NOTE":s||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){n.state="NOTE";break}if(!s)continue;if(n.cue=new Loe(0,0,""),n.state="CUE",s.indexOf("-->")===-1){n.cue.id=s;continue}case"CUE":if(!n.cue){n.state="BADCUE";continue}try{J0r(s,n.cue,n.regionList)}catch{n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":{const a=s.indexOf("-->")!==-1;if(!s||a&&(o=!0)){n.oncue&&n.cue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}if(n.cue===null)continue;n.cue.text&&(n.cue.text+=`
`),n.cue.text+=s}continue;case"BADCUE":s||(n.state="ID")}}}catch{n.state==="CUETEXT"&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state=n.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(n){e.onparsingerror&&e.onparsingerror(n)}return e.onflush&&e.onflush(),this}}const t1r=/\r\n|\n\r|\n|\r/g,Jz=function(e,n,r=0){return e.slice(r,r+n.length)===n},n1r=function(e){let n=parseInt(e.slice(-3));const r=parseInt(e.slice(-6,-4)),i=parseInt(e.slice(-9,-7)),s=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!pn(n)||!pn(r)||!pn(i)||!pn(s))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return n+=1e3*r,n+=60*1e3*i,n+=60*60*1e3*s,n},eW=function(e){let n=5381,r=e.length;for(;r;)n=n*33^e.charCodeAt(--r);return(n>>>0).toString()};function Poe(t,e,n){return eW(t.toString())+eW(e.toString())+eW(n)}const r1r=function(e,n,r){let i=e[n],s=e[i.prevCC];if(!s||!s.new&&i.new){e.ccOffset=e.presentationOffset=i.start,i.new=!1;return}for(;(o=s)!=null&&o.new;){var o;e.ccOffset+=i.start-s.start,i.new=!1,i=s,s=e[i.prevCC]}e.presentationOffset=r};function i1r(t,e,n,r,i,s,o){const a=new e1r,l=dm(new Uint8Array(t)).trim().replace(t1r,`
`).split(`
`),u=[],d=e?m0r(e.baseTime,e.timescale):0;let f="00:00.000",h=0,p=0,g,v=!0;a.oncue=function(y){const x=n[r];let b=n.ccOffset;const _=(h-d)/9e4;if(x!=null&&x.new&&(p!==void 0?b=n.ccOffset=x.start:r1r(n,r,_)),_){if(!e){g=new Error("Missing initPTS for VTT MPEGTS");return}b=_-n.presentationOffset}const C=y.endTime-y.startTime,S=uf((y.startTime+b-p)*9e4,i*9e4)/9e4;y.startTime=Math.max(S,0),y.endTime=Math.max(S+C,0);const T=y.text.trim();y.text=decodeURIComponent(encodeURIComponent(T)),y.id||(y.id=Poe(y.startTime,y.endTime,T)),y.endTime>0&&u.push(y)},a.onparsingerror=function(y){g=y},a.onflush=function(){if(g){o(g);return}s(u)},l.forEach(y=>{if(v)if(Jz(y,"X-TIMESTAMP-MAP=")){v=!1,y.slice(16).split(",").forEach(x=>{Jz(x,"LOCAL:")?f=x.slice(6):Jz(x,"MPEGTS:")&&(h=parseInt(x.slice(7)))});try{p=n1r(f)/1e3}catch(x){g=x}return}else y===""&&(v=!1);a.parse(y+`
`)}),a.flush()}const tW="stpp.ttml.im1t",qrt=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Yrt=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,s1r={left:"start",center:"center",right:"end",start:"start",end:"end"};function iOe(t,e,n,r){const i=Qr(new Uint8Array(t),["mdat"]);if(i.length===0){r(new Error("Could not parse IMSC1 mdat"));return}const s=i.map(a=>dm(a)),o=p0r(e.baseTime,1,e.timescale);try{s.forEach(a=>n(o1r(a,o)))}catch(a){r(a)}}function o1r(t,e){const i=new DOMParser().parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!i)throw new Error("Invalid ttml");const s={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},o=Object.keys(s).reduce((f,h)=>(f[h]=i.getAttribute(`ttp:${h}`)||s[h],f),{}),a=i.getAttribute("xml:space")!=="preserve",l=sOe(nW(i,"styling","style")),u=sOe(nW(i,"layout","region")),d=nW(i,"body","[begin]");return[].map.call(d,f=>{const h=Krt(f,a);if(!h||!f.hasAttribute("begin"))return null;const p=iW(f.getAttribute("begin"),o),g=iW(f.getAttribute("dur"),o);let v=iW(f.getAttribute("end"),o);if(p===null)throw oOe(f);if(v===null){if(g===null)throw oOe(f);v=p+g}const y=new Loe(p-e,v-e,h);y.id=Poe(y.startTime,y.endTime,y.text);const x=u[f.getAttribute("region")],b=l[f.getAttribute("style")],_=a1r(x,b,l),{textAlign:C}=_;if(C){const S=s1r[C];S&&(y.lineAlign=S),y.align=C}return Ba(y,_),y}).filter(f=>f!==null)}function nW(t,e,n){const r=t.getElementsByTagName(e)[0];return r?[].slice.call(r.querySelectorAll(n)):[]}function sOe(t){return t.reduce((e,n)=>{const r=n.getAttribute("xml:id");return r&&(e[r]=n),e},{})}function Krt(t,e){return[].slice.call(t.childNodes).reduce((n,r,i)=>{var s;return r.nodeName==="br"&&i?n+`
`:(s=r.childNodes)!=null&&s.length?Krt(r,e):e?n+r.textContent.trim().replace(/\s+/g," "):n+r.textContent},"")}function a1r(t,e,n){const r="http://www.w3.org/ns/ttml#styling";let i=null;const s=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],o=t!=null&&t.hasAttribute("style")?t.getAttribute("style"):null;return o&&n.hasOwnProperty(o)&&(i=n[o]),s.reduce((a,l)=>{const u=rW(e,r,l)||rW(t,r,l)||rW(i,r,l);return u&&(a[l]=u),a},{})}function rW(t,e,n){return t&&t.hasAttributeNS(e,n)?t.getAttributeNS(e,n):null}function oOe(t){return new Error(`Could not parse ttml timestamp ${t}`)}function iW(t,e){if(!t)return null;let n=zrt(t);return n===null&&(qrt.test(t)?n=l1r(t,e):Yrt.test(t)&&(n=u1r(t,e))),n}function l1r(t,e){const n=qrt.exec(t),r=(n[4]|0)+(n[5]|0)/e.subFrameRate;return(n[1]|0)*3600+(n[2]|0)*60+(n[3]|0)+r/e.frameRate}function u1r(t,e){const n=Yrt.exec(t),r=Number(n[1]);switch(n[2]){case"h":return r*3600;case"m":return r*60;case"ms":return r*1e3;case"f":return r/e.frameRate;case"t":return r/e.tickRate}return r}class c1r{constructor(e){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=aOe(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){const n=new $j(this,"textTrack1"),r=new $j(this,"textTrack2"),i=new $j(this,"textTrack3"),s=new $j(this,"textTrack4");this.cea608Parser1=new tOe(1,n,r),this.cea608Parser2=new tOe(3,i,s)}e.on(ee.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(ee.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(ee.MANIFEST_LOADING,this.onManifestLoading,this),e.on(ee.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(ee.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(ee.FRAG_LOADING,this.onFragLoading,this),e.on(ee.FRAG_LOADED,this.onFragLoaded,this),e.on(ee.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(ee.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(ee.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(ee.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(ee.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(ee.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(ee.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(ee.MANIFEST_LOADING,this.onManifestLoading,this),e.off(ee.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(ee.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(ee.FRAG_LOADING,this.onFragLoading,this),e.off(ee.FRAG_LOADED,this.onFragLoaded,this),e.off(ee.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(ee.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(ee.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(ee.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(ee.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null}addCues(e,n,r,i,s){let o=!1;for(let a=s.length;a--;){const l=s[a],u=f1r(l[0],l[1],n,r);if(u>=0&&(l[0]=Math.min(l[0],n),l[1]=Math.max(l[1],r),o=!0,u/(r-n)>.5))return}if(o||s.push([n,r]),this.config.renderTextTracksNatively){const a=this.captionsTracks[e];this.Cues.newCue(a,n,r,i)}else{const a=this.Cues.newCue(null,n,r,i);this.hls.trigger(ee.CUES_PARSED,{type:"captions",cues:a,track:e})}}onInitPtsFound(e,{frag:n,id:r,initPTS:i,timescale:s}){const{unparsedVttFrags:o}=this;r==="main"&&(this.initPTS[n.cc]={baseTime:i,timescale:s}),o.length&&(this.unparsedVttFrags=[],o.forEach(a=>{this.onFragLoaded(ee.FRAG_LOADED,a)}))}getExistingTrack(e){const{media:n}=this;if(n)for(let r=0;r<n.textTracks.length;r++){const i=n.textTracks[r];if(i[e])return i}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:n,captionsTracks:r,media:i}=this,{label:s,languageCode:o}=n[e],a=this.getExistingTrack(e);if(a)r[e]=a,V5(r[e]),vrt(r[e],i);else{const l=this.createTextTrack("captions",s,o);l&&(l[e]=!0,r[e]=l)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const n=this.captionsProperties[e];if(!n)return;const r=n.label,i={_id:e,label:r,kind:"captions",default:n.media?!!n.media.default:!1,closedCaptions:n.media};this.nonNativeCaptionsTracks[e]=i,this.hls.trigger(ee.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[i]})}createTextTrack(e,n,r){const i=this.media;if(i)return i.addTextTrack(e,n,r)}onMediaAttaching(e,n){this.media=n.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:e}=this;Object.keys(e).forEach(n=>{V5(e[n]),delete e[n]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=aOe(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const n=e.textTracks;if(n)for(let r=0;r<n.length;r++)V5(n[r])}onSubtitleTracksUpdated(e,n){const r=n.subtitleTracks||[],i=r.some(s=>s.textCodec===tW);if(this.config.enableWebVTT||i&&this.config.enableIMSC1){if(Vrt(this.tracks,r)){this.tracks=r;return}if(this.textTracks=[],this.tracks=r,this.config.renderTextTracksNatively){const o=this.media?this.media.textTracks:null;this.tracks.forEach((a,l)=>{let u;if(o&&l<o.length){let d=null;for(let f=0;f<o.length;f++)if(d1r(o[f],a)){d=o[f];break}d&&(u=d)}if(u)V5(u);else{const d=this._captionsOrSubtitlesFromCharacteristics(a);u=this.createTextTrack(d,a.name,a.lang),u&&(u.mode="disabled")}u&&(u.groupId=a.groupId,this.textTracks.push(u))})}else if(this.tracks.length){const o=this.tracks.map(a=>({label:a.name,kind:a.type.toLowerCase(),default:a.default,subtitleTrack:a}));this.hls.trigger(ee.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:o})}}}_captionsOrSubtitlesFromCharacteristics(e){if(e.attrs.CHARACTERISTICS){const n=/transcribes-spoken-dialog/gi.test(e.attrs.CHARACTERISTICS),r=/describes-music-and-sound/gi.test(e.attrs.CHARACTERISTICS);if(n&&r)return"captions"}return"subtitles"}onManifestLoaded(e,n){this.config.enableCEA708Captions&&n.captions&&n.captions.forEach(r=>{const i=/(?:CC|SERVICE)([1-4])/.exec(r.instreamId);if(!i)return;const s=`textTrack${i[1]}`,o=this.captionsProperties[s];o&&(o.label=r.name,r.lang&&(o.languageCode=r.lang),o.media=r)})}closedCaptionsForLevel(e){const n=this.hls.levels[e.level];return n==null?void 0:n.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,n){const{cea608Parser1:r,cea608Parser2:i,lastSn:s,lastPartIndex:o}=this;if(!(!this.enabled||!(r&&i))&&n.frag.type===Dn.MAIN){var a,l;const u=n.frag.sn,d=(a=n==null||(l=n.part)==null?void 0:l.index)!=null?a:-1;u===s+1||u===s&&d===o+1||(r.reset(),i.reset()),this.lastSn=u,this.lastPartIndex=d}}onFragLoaded(e,n){const{frag:r,payload:i}=n;if(r.type===Dn.SUBTITLE)if(i.byteLength){const s=r.decryptdata,o="stats"in n;if(s==null||!s.encrypted||o){const a=this.tracks[r.level],l=this.vttCCs;l[r.cc]||(l[r.cc]={start:r.start,prevCC:this.prevCC,new:!0},this.prevCC=r.cc),a&&a.textCodec===tW?this._parseIMSC1(r,i):this._parseVTTs(n)}}else this.hls.trigger(ee.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,n){const r=this.hls;iOe(n,this.initPTS[e.cc],i=>{this._appendCues(i,e.level),r.trigger(ee.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},i=>{Le.log(`Failed to parse IMSC1: ${i}`),r.trigger(ee.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:i})})}_parseVTTs(e){var n;const{frag:r,payload:i}=e,{initPTS:s,unparsedVttFrags:o}=this,a=s.length-1;if(!s[r.cc]&&a===-1){o.push(e);return}const l=this.hls,u=(n=r.initSegment)!=null&&n.data?Qx(r.initSegment.data,new Uint8Array(i)):i;i1r(u,this.initPTS[r.cc],this.vttCCs,r.cc,r.start,d=>{this._appendCues(d,r.level),l.trigger(ee.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:r})},d=>{const f=d.message==="Missing initPTS for VTT MPEGTS";f?o.push(e):this._fallbackToIMSC1(r,i),Le.log(`Failed to parse VTT cue: ${d}`),!(f&&a>r.cc)&&l.trigger(ee.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:d})})}_fallbackToIMSC1(e,n){const r=this.tracks[e.level];r.textCodec||iOe(n,this.initPTS[e.cc],()=>{r.textCodec=tW,this._parseIMSC1(e,n)},()=>{r.textCodec="wvtt"})}_appendCues(e,n){const r=this.hls;if(this.config.renderTextTracksNatively){const i=this.textTracks[n];if(!i||i.mode==="disabled")return;e.forEach(s=>yrt(i,s))}else{const i=this.tracks[n];if(!i)return;const s=i.default?"default":"subtitles"+n;r.trigger(ee.CUES_PARSED,{type:"subtitles",cues:e,track:s})}}onFragDecrypted(e,n){const{frag:r}=n;r.type===Dn.SUBTITLE&&this.onFragLoaded(ee.FRAG_LOADED,n)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,n){const{cea608Parser1:r,cea608Parser2:i}=this;if(!this.enabled||!(r&&i))return;const{frag:s,samples:o}=n;if(!(s.type===Dn.MAIN&&this.closedCaptionsForLevel(s)==="NONE"))for(let a=0;a<o.length;a++){const l=o[a].bytes;if(l){const u=this.extractCea608Data(l);r.addData(o[a].pts,u[0]),i.addData(o[a].pts,u[1])}}}onBufferFlushing(e,{startOffset:n,endOffset:r,endOffsetSubtitles:i,type:s}){const{media:o}=this;if(!(!o||o.currentTime<r)){if(!s||s==="video"){const{captionsTracks:a}=this;Object.keys(a).forEach(l=>VZ(a[l],n,r))}if(this.config.renderTextTracksNatively&&n===0&&i!==void 0){const{textTracks:a}=this;Object.keys(a).forEach(l=>VZ(a[l],n,i))}}}extractCea608Data(e){const n=[[],[]],r=e[0]&31;let i=2;for(let s=0;s<r;s++){const o=e[i++],a=127&e[i++],l=127&e[i++];if(a===0&&l===0)continue;if((4&o)!==0){const d=3&o;(d===0||d===1)&&(n[d].push(a),n[d].push(l))}}return n}}function d1r(t,e){return!!t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)}function f1r(t,e,n,r){return Math.min(e,r)-Math.max(t,n)}function aOe(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}class Moe{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(ee.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(ee.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(ee.MANIFEST_PARSED,this.onManifestParsed,this),e.on(ee.BUFFER_CODECS,this.onBufferCodecs,this),e.on(ee.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(ee.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(ee.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(ee.MANIFEST_PARSED,this.onManifestParsed,this),e.off(ee.BUFFER_CODECS,this.onBufferCodecs,this),e.off(ee.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,n){const r=this.hls.levels[n.droppedLevel];this.isLevelAllowed(r)&&this.restrictedLevels.push({bitrate:r.bitrate,height:r.height,width:r.width})}onMediaAttaching(e,n){this.media=n.media instanceof HTMLVideoElement?n.media:null,this.clientRect=null}onManifestParsed(e,n){const r=this.hls;this.restrictedLevels=[],this.firstLevel=n.firstLevel,r.config.capLevelToPlayerSize&&n.video&&this.startCapping()}onBufferCodecs(e,n){this.hls.config.capLevelToPlayerSize&&n.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){const e=this.hls.levels;if(e.length){const n=this.hls;n.autoLevelCapping=this.getMaxLevel(e.length-1),n.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=n.autoLevelCapping}}}getMaxLevel(e){const n=this.hls.levels;if(!n.length)return-1;const r=n.filter((i,s)=>this.isLevelAllowed(i)&&s<=e);return this.clientRect=null,Moe.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,n={width:0,height:0};if(e){const r=e.getBoundingClientRect();n.width=r.width,n.height=r.height,!n.width&&!n.height&&(n.width=r.right-r.left||e.width||0,n.height=r.bottom-r.top||e.height||0)}return this.clientRect=n,n}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return e}isLevelAllowed(e){return!this.restrictedLevels.some(r=>e.bitrate===r.bitrate&&e.width===r.width&&e.height===r.height)}static getMaxLevelByMediaSize(e,n,r){if(!(e!=null&&e.length))return-1;const i=(o,a)=>a?o.width!==a.width||o.height!==a.height:!0;let s=e.length-1;for(let o=0;o<e.length;o+=1){const a=e[o];if((a.width>=n||a.height>=r)&&i(a,e[o+1])){s=o;break}}return s}}class h1r{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(ee.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(ee.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,n){const r=this.hls.config;if(r.capLevelOnFPSDrop){const i=n.media instanceof self.HTMLVideoElement?n.media:null;this.media=i,i&&typeof i.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),r.fpsDroppedMonitoringPeriod)}}checkFPS(e,n,r){const i=performance.now();if(n){if(this.lastTime){const s=i-this.lastTime,o=r-this.lastDroppedFrames,a=n-this.lastDecodedFrames,l=1e3*o/s,u=this.hls;if(u.trigger(ee.FPS_DROP,{currentDropped:o,currentDecoded:a,totalDroppedFrames:r}),l>0&&o>u.config.fpsDroppedMonitoringThreshold*a){let d=u.currentLevel;Le.warn("drop FPS ratio greater than max allowed value for currentLevel: "+d),d>0&&(u.autoLevelCapping===-1||u.autoLevelCapping>=d)&&(d=d-1,u.trigger(ee.FPS_DROP_LEVEL_CAPPING,{level:d,droppedLevel:u.currentLevel}),u.autoLevelCapping=d,this.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=r,this.lastDecodedFrames=n}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const n=e.getVideoPlaybackQuality();this.checkFPS(e,n.totalVideoFrames,n.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}const Bj="[eme]";class k_{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=k_.CDMCleanupPromise?[k_.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=Le.debug.bind(Le,Bj),this.log=Le.log.bind(Le,Bj),this.warn=Le.warn.bind(Le,Bj),this.error=Le.error.bind(Le,Bj),this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}registerListeners(){this.hls.on(ee.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(ee.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(ee.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(ee.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(ee.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(ee.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(ee.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(ee.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){const{drmSystems:n,widevineLicenseUrl:r}=this.config,i=n[e];if(i)return i.licenseUrl;if(e===uo.WIDEVINE&&r)return r;throw new Error(`no license server URL configured for key-system "${e}"`)}getServerCertificateUrl(e){const{drmSystems:n}=this.config,r=n[e];if(r)return r.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const n=this.hls.levels,r=(o,a,l)=>!!o&&l.indexOf(o)===a,i=n.map(o=>o.audioCodec).filter(r),s=n.map(o=>o.videoCodec).filter(r);return i.length+s.length===0&&s.push("avc1.42e01e"),new Promise((o,a)=>{const l=u=>{const d=u.shift();this.getMediaKeysPromise(d,i,s).then(f=>o({keySystem:d,mediaKeys:f})).catch(f=>{u.length?l(u):f instanceof nf?a(f):a(new nf({type:kn.KEY_SYSTEM_ERROR,details:Ze.KEY_SYSTEM_NO_ACCESS,error:f,fatal:!0},f.message))})};l(e)})}requestMediaKeySystemAccess(e,n){const{requestMediaKeySystemAccessFunc:r}=this.config;if(typeof r!="function"){let i=`Configured requestMediaKeySystemAccess is not a function ${r}`;return srt===null&&self.location.protocol==="http:"&&(i=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(i))}return r(e,n)}getMediaKeysPromise(e,n,r){const i=kmr(e,n,r,this.config.drmSystemOptions),s=this.keySystemAccessPromises[e];let o=s==null?void 0:s.keySystemAccess;if(!o){this.log(`Requesting encrypted media "${e}" key-system access with config: ${JSON.stringify(i)}`),o=this.requestMediaKeySystemAccess(e,i);const a=this.keySystemAccessPromises[e]={keySystemAccess:o};return o.catch(l=>{this.log(`Failed to obtain access to key-system "${e}": ${l}`)}),o.then(l=>{this.log(`Access for key-system "${l.keySystem}" obtained`);const u=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),a.mediaKeys=l.createMediaKeys().then(d=>(this.log(`Media-keys created for "${e}"`),u.then(f=>f?this.setMediaKeysServerCertificate(d,e,f):d))),a.mediaKeys.catch(d=>{this.error(`Failed to create media-keys for "${e}"}: ${d}`)}),a.mediaKeys})}return o.then(()=>s.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:n,mediaKeys:r}){this.log(`Creating key-system session "${n}" keyId: ${Lp.hexDump(e.keyId||[])}`);const i=r.createSession(),s={decryptdata:e,keySystem:n,mediaKeys:r,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(s),s}renewKeySession(e){const n=e.decryptdata;if(n.pssh){const r=this.createMediaKeySessionContext(e),i=this.getKeyIdString(n),s="cenc";this.keyIdToKeySessionPromise[i]=this.generateRequestWithPreferredKeySession(r,s,n.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(e.keyId===null)throw new Error("keyId is null");return Lp.hexDump(e.keyId)}updateKeySession(e,n){var r;const i=e.mediaKeysSession;return this.log(`Updating key-session "${i.sessionId}" for keyID ${Lp.hexDump(((r=e.decryptdata)==null?void 0:r.keyId)||[])}
      } (data length: ${n&&n.byteLength})`),i.update(n)}selectKeySystemFormat(e){const n=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${n.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(n)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise((n,r)=>{const i=$z(this.config),s=e.map(yje).filter(o=>!!o&&i.indexOf(o)!==-1);return this.getKeySystemSelectionPromise(s).then(({keySystem:o})=>{const a=bje(o);a?n(a):r(new Error(`Unable to find format for key-system "${o}"`))}).catch(r)})}loadKey(e){const n=e.keyInfo.decryptdata,r=this.getKeyIdString(n),i=`(keyId: ${r} format: "${n.keyFormat}" method: ${n.method} uri: ${n.uri})`;this.log(`Starting session for key ${i}`);let s=this.keyIdToKeySessionPromise[r];return s||(s=this.keyIdToKeySessionPromise[r]=this.getKeySystemForKeyPromise(n).then(({keySystem:o,mediaKeys:a})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${i}`),this.attemptSetMediaKeys(o,a).then(()=>{this.throwIfDestroyed();const l=this.createMediaKeySessionContext({keySystem:o,mediaKeys:a,decryptdata:n}),u="cenc";return this.generateRequestWithPreferredKeySession(l,u,n.pssh,"playlist-key")}))),s.catch(o=>this.handleError(o))),s}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),e instanceof nf?this.hls.trigger(ee.ERROR,e.data):this.hls.trigger(ee.ERROR,{type:kn.KEY_SYSTEM_ERROR,details:Ze.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const n=this.getKeyIdString(e),r=this.keyIdToKeySessionPromise[n];if(!r){const i=yje(e.keyFormat),s=i?[i]:$z(this.config);return this.attemptKeySystemAccess(s)}return r}getKeySystemSelectionPromise(e){if(e.length||(e=$z(this.config)),e.length===0)throw new nf({type:kn.KEY_SYSTEM_ERROR,details:Ze.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}_onMediaEncrypted(e){const{initDataType:n,initData:r}=e;if(this.debug(`"${e.type}" event: init data type: "${n}"`),r===null)return;let i,s;if(n==="sinf"&&this.config.drmSystems[uo.FAIRPLAY]){const d=xl(new Uint8Array(r));try{const f=_oe(JSON.parse(d).sinf),h=hrt(new Uint8Array(f));if(!h)return;i=h.subarray(8,24),s=uo.FAIRPLAY}catch{this.warn('Failed to parse sinf "encrypted" event message initData');return}}else{const d=Xmr(r);if(d===null)return;d.version===0&&d.systemId===irt.WIDEVINE&&d.data&&(i=d.data.subarray(8,24)),s=Tmr(d.systemId)}if(!s||!i)return;const o=Lp.hexDump(i),{keyIdToKeySessionPromise:a,mediaKeySessions:l}=this;let u=a[o];for(let d=0;d<l.length;d++){const f=l[d],h=f.decryptdata;if(h.pssh||!h.keyId)continue;const p=Lp.hexDump(h.keyId);if(o===p||h.uri.replace(/-/g,"").indexOf(o)!==-1){u=a[p],delete a[p],h.pssh=new Uint8Array(r),h.keyId=i,u=a[o]=u.then(()=>this.generateRequestWithPreferredKeySession(f,n,r,"encrypted-event-key-match"));break}}u||(u=a[o]=this.getKeySystemSelectionPromise([s]).then(({keySystem:d,mediaKeys:f})=>{var h;this.throwIfDestroyed();const p=new D3("ISO-23001-7",o,(h=bje(d))!=null?h:"");return p.pssh=new Uint8Array(r),p.keyId=i,this.attemptSetMediaKeys(d,f).then(()=>{this.throwIfDestroyed();const g=this.createMediaKeySessionContext({decryptdata:p,keySystem:d,mediaKeys:f});return this.generateRequestWithPreferredKeySession(g,n,r,"encrypted-event-no-match")})})),u.catch(d=>this.handleError(d))}_onWaitingForKey(e){this.log(`"${e.type}" event`)}attemptSetMediaKeys(e,n){const r=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const i=Promise.all(r).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(n)});return this.setMediaKeysQueue.push(i),i.then(()=>{this.log(`Media-keys set for "${e}"`),r.push(i),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(s=>r.indexOf(s)===-1)})}generateRequestWithPreferredKeySession(e,n,r,i){var s,o;const a=(s=this.config.drmSystems)==null||(o=s[e.keySystem])==null?void 0:o.generateRequest;if(a)try{const h=a.call(this.hls,n,r,e);if(!h)throw new Error("Invalid response from configured generateRequest filter");n=h.initDataType,r=e.decryptdata.pssh=h.initData?new Uint8Array(h.initData):null}catch(h){var l;if(this.warn(h.message),(l=this.hls)!=null&&l.config.debug)throw h}if(r===null)return this.log(`Skipping key-session request for "${i}" (no initData)`),Promise.resolve(e);const u=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${i}": ${u} (init data type: ${n} length: ${r?r.byteLength:null})`);const d=new Ooe;e.mediaKeysSession.onmessage=h=>{const p=e.mediaKeysSession;if(!p){d.emit("error",new Error("invalid state"));return}const{messageType:g,message:v}=h;this.log(`"${g}" message event for session "${p.sessionId}" message size: ${v.byteLength}`),g==="license-request"||g==="license-renewal"?this.renewLicense(e,v).catch(y=>{this.handleError(y),d.emit("error",y)}):g==="license-release"?e.keySystem===uo.FAIRPLAY&&(this.updateKeySession(e,rrt("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${g}"`)},e.mediaKeysSession.onkeystatuseschange=h=>{if(!e.mediaKeysSession){d.emit("error",new Error("invalid state"));return}this.onKeyStatusChange(e);const g=e.keyStatus;d.emit("keyStatus",g),g==="expired"&&(this.warn(`${e.keySystem} expired for key ${u}`),this.renewKeySession(e))};const f=new Promise((h,p)=>{d.on("error",p),d.on("keyStatus",g=>{g.startsWith("usable")?h():g==="output-restricted"?p(new nf({type:kn.KEY_SYSTEM_ERROR,details:Ze.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):g==="internal-error"?p(new nf({type:kn.KEY_SYSTEM_ERROR,details:Ze.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${g}"`)):g==="expired"?p(new Error("key expired while generating request")):this.warn(`unhandled key status change "${g}"`)})});return e.mediaKeysSession.generateRequest(n,r).then(()=>{var h;this.log(`Request generated for key-session "${(h=e.mediaKeysSession)==null?void 0:h.sessionId}" keyId: ${u}`)}).catch(h=>{throw new nf({type:kn.KEY_SYSTEM_ERROR,details:Ze.KEY_SYSTEM_NO_SESSION,error:h,fatal:!1},`Error generating key-session request: ${h}`)}).then(()=>f).catch(h=>{throw d.removeAllListeners(),this.removeSession(e),h}).then(()=>(d.removeAllListeners(),e))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach((n,r)=>{this.log(`key status change "${n}" for keyStatuses keyId: ${Lp.hexDump("buffer"in r?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(r))} session keyId: ${Lp.hexDump(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=n})}fetchServerCertificate(e){const n=this.config,r=n.loader,i=new r(n),s=this.getServerCertificateUrl(e);return s?(this.log(`Fetching serverCertificate for "${e}"`),new Promise((o,a)=>{const l={responseType:"arraybuffer",url:s},u=n.certLoadPolicy.default,d={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(h,p,g,v)=>{o(h.data)},onError:(h,p,g,v)=>{a(new nf({type:kn.KEY_SYSTEM_ERROR,details:Ze.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:g,response:zc({url:l.url,data:void 0},h)},`"${e}" certificate request failed (${s}). Status: ${h.code} (${h.text})`))},onTimeout:(h,p,g)=>{a(new nf({type:kn.KEY_SYSTEM_ERROR,details:Ze.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:g,response:{url:l.url,data:void 0}},`"${e}" certificate request timed out (${s})`))},onAbort:(h,p,g)=>{a(new Error("aborted"))}};i.load(l,d,f)})):Promise.resolve()}setMediaKeysServerCertificate(e,n,r){return new Promise((i,s)=>{e.setServerCertificate(r).then(o=>{this.log(`setServerCertificate ${o?"success":"not supported by CDM"} (${r==null?void 0:r.byteLength}) on "${n}"`),i(e)}).catch(o=>{s(new nf({type:kn.KEY_SYSTEM_ERROR,details:Ze.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:o,fatal:!0},o.message))})})}renewLicense(e,n){return this.requestLicense(e,new Uint8Array(n)).then(r=>this.updateKeySession(e,new Uint8Array(r)).catch(i=>{throw new nf({type:kn.KEY_SYSTEM_ERROR,details:Ze.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:i,fatal:!0},i.message)}))}setupLicenseXHR(e,n,r,i){const s=this.config.licenseXhrSetup;return s?Promise.resolve().then(()=>{if(!r.decryptdata)throw new Error("Key removed");return s.call(this.hls,e,n,r,i)}).catch(o=>{if(!r.decryptdata)throw o;return e.open("POST",n,!0),s.call(this.hls,e,n,r,i)}).then(o=>(e.readyState||e.open("POST",n,!0),{xhr:e,licenseChallenge:o||i})):(e.open("POST",n,!0),Promise.resolve({xhr:e,licenseChallenge:i}))}requestLicense(e,n){const r=this.config.keyLoadPolicy.default;return new Promise((i,s)=>{const o=this.getLicenseServerUrl(e.keySystem);this.log(`Sending license request to URL: ${o}`);const a=new XMLHttpRequest;a.responseType="arraybuffer",a.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return s(new Error("invalid state"));if(a.readyState===4)if(a.status===200){this._requestLicenseFailureCount=0;let l=a.response;this.log(`License received ${l instanceof ArrayBuffer?l.byteLength:l}`);const u=this.config.licenseResponseCallback;if(u)try{l=u.call(this.hls,a,o,e)}catch(d){this.error(d)}i(l)}else{const l=r.errorRetry,u=l?l.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>u||a.status>=400&&a.status<500)s(new nf({type:kn.KEY_SYSTEM_ERROR,details:Ze.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:a,response:{url:o,data:void 0,code:a.status,text:a.statusText}},`License Request XHR failed (${o}). Status: ${a.status} (${a.statusText})`));else{const d=u-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${d} attempts left`),this.requestLicense(e,n).then(i,s)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=a,this.setupLicenseXHR(a,o,e,n).then(({xhr:l,licenseChallenge:u})=>{l.send(u)})})}onMediaAttached(e,n){if(!this.config.emeEnabled)return;const r=n.media;this.media=r,r.addEventListener("encrypted",this.onMediaEncrypted),r.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media,n=this.mediaKeySessions;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},D3.clearKeyUriToKeyIdMap();const r=n.length;k_.CDMCleanupPromise=Promise.all(n.map(i=>this.removeSession(i)).concat(e==null?void 0:e.setMediaKeys(null).catch(i=>{this.log(`Could not clear media keys: ${i}. media.src: ${e==null?void 0:e.src}`)}))).then(()=>{r&&(this.log("finished closing key sessions and clearing media keys"),n.length=0)}).catch(i=>{this.log(`Could not close sessions and clear media keys: ${i}. media.src: ${e==null?void 0:e.src}`)})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,{sessionKeys:n}){if(!(!n||!this.config.emeEnabled)&&!this.keyFormatPromise){const r=n.reduce((i,s)=>(i.indexOf(s.keyFormat)===-1&&i.push(s.keyFormat),i),[]);this.log(`Selecting key-system from session-keys ${r.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(r)}}removeSession(e){const{mediaKeysSession:n,licenseXhr:r}=e;if(n){this.log(`Remove licenses and keys and close session ${n.sessionId}`),n.onmessage=null,n.onkeystatuseschange=null,r&&r.readyState!==XMLHttpRequest.DONE&&r.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const i=this.mediaKeySessions.indexOf(e);return i>-1&&this.mediaKeySessions.splice(i,1),n.remove().catch(s=>{this.log(`Could not remove session: ${s}`)}).then(()=>n.close()).catch(s=>{this.log(`Could not close session: ${s}`)})}}}k_.CDMCleanupPromise=void 0;class nf extends Error{constructor(e,n){super(n),this.data=void 0,e.error||(e.error=new Error(n)),this.data=e,e.err=e.error}}const p1r=1;var pc={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"};const m1r="h";class j1{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=i=>{try{this.apply(i,{ot:pc.MANIFEST,su:!this.initialized})}catch(s){Le.warn("Could not generate manifest CMCD data.",s)}},this.applyFragmentData=i=>{try{const s=i.frag,o=this.hls.levels[s.level],a=this.getObjectType(s),l={d:s.duration*1e3,ot:a};(a===pc.VIDEO||a===pc.AUDIO||a==pc.MUXED)&&(l.br=o.bitrate/1e3,l.tb=this.getTopBandwidth(a)/1e3,l.bl=this.getBufferLength(a)),this.apply(i,l)}catch(s){Le.warn("Could not generate segment CMCD data.",s)}},this.hls=e;const n=this.config=e.config,{cmcd:r}=n;r!=null&&(n.pLoader=this.createPlaylistLoader(),n.fLoader=this.createFragmentLoader(),this.sid=r.sessionId||j1.uuid(),this.cid=r.contentId,this.useHeaders=r.useHeaders===!0,this.registerListeners())}registerListeners(){const e=this.hls;e.on(ee.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(ee.MEDIA_DETACHED,this.onMediaDetached,this),e.on(ee.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(ee.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(ee.MEDIA_DETACHED,this.onMediaDetached,this),e.off(ee.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null}onMediaAttached(e,n){this.media=n.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,n){var r,i;this.audioBuffer=(r=n.tracks.audio)==null?void 0:r.buffer,this.videoBuffer=(i=n.tracks.video)==null?void 0:i.buffer}createData(){var e;return{v:p1r,sf:m1r,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,n={}){Ba(n,this.createData());const r=n.ot===pc.INIT||n.ot===pc.VIDEO||n.ot===pc.MUXED;if(this.starved&&r&&(n.bs=!0,n.su=!0,this.starved=!1),n.su==null&&(n.su=this.buffering),this.useHeaders){const i=j1.toHeaders(n);if(!Object.keys(i).length)return;e.headers||(e.headers={}),Ba(e.headers,i)}else{const i=j1.toQuery(n);if(!i)return;e.url=j1.appendQueryToUri(e.url,i)}}getObjectType(e){const{type:n}=e;if(n==="subtitle")return pc.TIMED_TEXT;if(e.sn==="initSegment")return pc.INIT;if(n==="audio")return pc.AUDIO;if(n==="main")return this.hls.audioTracks.length?pc.VIDEO:pc.MUXED}getTopBandwidth(e){let n=0,r;const i=this.hls;if(e===pc.AUDIO)r=i.audioTracks;else{const s=i.maxAutoLevel,o=s>-1?s+1:i.levels.length;r=i.levels.slice(0,o)}for(const s of r)s.bitrate>n&&(n=s.bitrate);return n>0?n:NaN}getBufferLength(e){const n=this.hls.media,r=e===pc.AUDIO?this.audioBuffer:this.videoBuffer;return!r||!n?NaN:Ds.bufferInfo(r,n.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,n=this.applyPlaylistData,r=e||this.config.loader;return class{constructor(s){this.loader=void 0,this.loader=new r(s)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(s,o,a){n(s),this.loader.load(s,o,a)}}}createFragmentLoader(){const{fLoader:e}=this.config,n=this.applyFragmentData,r=e||this.config.loader;return class{constructor(s){this.loader=void 0,this.loader=new r(s)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(s,o,a){n(s),this.loader.load(s,o,a)}}}static uuid(){const e=URL.createObjectURL(new Blob),n=e.toString();return URL.revokeObjectURL(e),n.slice(n.lastIndexOf("/")+1)}static serialize(e){const n=[],r=u=>!Number.isNaN(u)&&u!=null&&u!==""&&u!==!1,i=u=>Math.round(u),s=u=>i(u/100)*100,a={br:i,d:i,bl:s,dl:s,mtp:s,nor:u=>encodeURIComponent(u),rtp:s,tb:i},l=Object.keys(e||{}).sort();for(const u of l){let d=e[u];if(!r(d)||u==="v"&&d===1||u=="pr"&&d===1)continue;const f=a[u];f&&(d=f(d));const h=typeof d;let p;u==="ot"||u==="sf"||u==="st"?p=`${u}=${d}`:h==="boolean"?p=u:h==="number"?p=`${u}=${d}`:p=`${u}=${JSON.stringify(d)}`,n.push(p)}return n.join(",")}static toHeaders(e){const n=Object.keys(e),r={},i=["Object","Request","Session","Status"],s=[{},{},{},{}],o={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3};for(const a of n){const l=o[a]!=null?o[a]:1;s[l][a]=e[a]}for(let a=0;a<s.length;a++){const l=j1.serialize(s[a]);l&&(r[`CMCD-${i[a]}`]=l)}return r}static toQuery(e){return`CMCD=${encodeURIComponent(j1.serialize(e))}`}static appendQueryToUri(e,n){if(!n)return e;const r=e.includes("?")?"&":"?";return`${e}${r}${n}`}}const g1r=3e5;class v1r{constructor(e){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.log=Le.log.bind(Le,"[content-steering]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(ee.MANIFEST_LOADING,this.onManifestLoading,this),e.on(ee.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(ee.MANIFEST_PARSED,this.onManifestParsed,this),e.on(ee.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(ee.MANIFEST_LOADING,this.onManifestLoading,this),e.off(ee.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(ee.MANIFEST_PARSED,this.onManifestParsed,this),e.off(ee.ERROR,this.onError,this))}startLoad(){if(this.started=!0,self.clearTimeout(this.reloadTimer),this.enabled&&this.uri)if(this.updated){const e=Math.max(this.timeToLoad*1e3-(performance.now()-this.updated),0);this.scheduleRefresh(this.uri,e)}else this.loadSteeringManifest(this.uri)}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),self.clearTimeout(this.reloadTimer)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const n=this.levels;n&&(this.levels=n.filter(r=>r!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,n){const{contentSteering:r}=n;r!==null&&(this.pathwayId=r.pathwayId,this.uri=r.uri,this.started&&this.startLoad())}onManifestParsed(e,n){this.audioTracks=n.audioTracks,this.subtitleTracks=n.subtitleTracks}onError(e,n){const{errorAction:r}=n;if((r==null?void 0:r.action)===ru.SendAlternateToPenaltyBox&&r.flags===sf.MoveAllAlternatesMatchingHost){let i=this.pathwayPriority;const s=this.pathwayId;this.penalizedPathways[s]||(this.penalizedPathways[s]=performance.now()),!i&&this.levels&&(i=this.levels.reduce((o,a)=>(o.indexOf(a.pathwayId)===-1&&o.push(a.pathwayId),o),[])),i&&i.length>1&&(this.updatePathwayPriority(i),r.resolved=this.pathwayId!==s)}}filterParsedLevels(e){this.levels=e;let n=this.getLevelsForPathway(this.pathwayId);if(n.length===0){const r=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${r}"`),n=this.getLevelsForPathway(r),this.pathwayId=r}return n.length!==e.length?(this.log(`Found ${n.length}/${e.length} levels in Pathway "${this.pathwayId}"`),n):e}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(n=>e===n.pathwayId)}updatePathwayPriority(e){this.pathwayPriority=e;let n;const r=this.penalizedPathways,i=performance.now();Object.keys(r).forEach(s=>{i-r[s]>g1r&&delete r[s]});for(let s=0;s<e.length;s++){const o=e[s];if(r[o])continue;if(o===this.pathwayId)return;const a=this.hls.nextLoadLevel,l=this.hls.levels[a];if(n=this.getLevelsForPathway(o),n.length>0){this.log(`Setting Pathway to "${o}"`),this.pathwayId=o,this.hls.trigger(ee.LEVELS_UPDATED,{levels:n});const u=this.hls.levels[a];l&&u&&this.levels&&(u.attrs["STABLE-VARIANT-ID"]!==l.attrs["STABLE-VARIANT-ID"]&&u.bitrate!==l.bitrate&&this.log(`Unstable Pathways change from bitrate ${l.bitrate} to ${u.bitrate}`),this.hls.nextLoadLevel=a);break}}}clonePathways(e){const n=this.levels;if(!n)return;const r={},i={};e.forEach(s=>{const{ID:o,"BASE-ID":a,"URI-REPLACEMENT":l}=s;if(n.some(d=>d.pathwayId===o))return;const u=this.getLevelsForPathway(a).map(d=>{const f=Ba({},d);f.details=void 0,f.url=Zrt(d.uri,d.attrs["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",l);const h=new ro(d.attrs);h["PATHWAY-ID"]=o;const p=h.AUDIO&&`${h.AUDIO}_clone_${o}`,g=h.SUBTITLES&&`${h.SUBTITLES}_clone_${o}`;p&&(r[h.AUDIO]=p,h.AUDIO=p),g&&(i[h.SUBTITLES]=g,h.SUBTITLES=g),f.attrs=h;const v=new R3(f);return L8(v,"audio",p),L8(v,"text",g),v});n.push(...u),lOe(this.audioTracks,r,l,o),lOe(this.subtitleTracks,i,l,o)})}loadSteeringManifest(e){const n=this.hls.config,r=n.loader;this.loader&&this.loader.destroy(),this.loader=new r(n);let i;try{i=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(i.protocol!=="data:"){const d=(this.hls.bandwidthEstimate||n.abrEwmaDefaultEstimate)|0;i.searchParams.set("_HLS_pathway",this.pathwayId),i.searchParams.set("_HLS_throughput",""+d)}const s={responseType:"json",url:i.href},o=n.steeringManifestLoadPolicy.default,a=o.errorRetry||o.timeoutRetry||{},l={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:a.maxNumRetry||0,retryDelay:a.retryDelayMs||0,maxRetryDelay:a.maxRetryDelayMs||0},u={onSuccess:(d,f,h,p)=>{this.log(`Loaded steering manifest: "${i}"`);const g=d.data;if(g.VERSION!==1){this.log(`Steering VERSION ${g.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=g.TTL;const{"RELOAD-URI":v,"PATHWAY-CLONES":y,"PATHWAY-PRIORITY":x}=g;if(v)try{this.uri=new self.URL(v,i).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${v}`);return}this.scheduleRefresh(this.uri||h.url),y&&this.clonePathways(y),x&&this.updatePathwayPriority(x)},onError:(d,f,h,p)=>{if(this.log(`Error loading steering manifest: ${d.code} ${d.text} (${f.url})`),this.stopLoad(),d.code===410){this.enabled=!1,this.log(`Steering manifest ${f.url} no longer available`);return}let g=this.timeToLoad*1e3;if(d.code===429){const v=this.loader;if(typeof(v==null?void 0:v.getResponseHeader)=="function"){const y=v.getResponseHeader("Retry-After");y&&(g=parseFloat(y)*1e3)}this.log(`Steering manifest ${f.url} rate limited`);return}this.scheduleRefresh(this.uri||f.url,g)},onTimeout:(d,f,h)=>{this.log(`Timeout loading steering manifest (${f.url})`),this.scheduleRefresh(this.uri||f.url)}};this.log(`Requesting steering manifest: ${i}`),this.loader.load(s,l,u)}scheduleRefresh(e,n=this.timeToLoad*1e3){self.clearTimeout(this.reloadTimer),this.reloadTimer=self.setTimeout(()=>{this.loadSteeringManifest(e)},n)}}function lOe(t,e,n,r){t&&Object.keys(e).forEach(i=>{const s=t.filter(o=>o.groupId===i).map(o=>{const a=Ba({},o);return a.details=void 0,a.attrs=new ro(a.attrs),a.url=a.attrs.URI=Zrt(o.url,o.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",n),a.groupId=a.attrs["GROUP-ID"]=e[i],a.attrs["PATHWAY-ID"]=r,a});t.push(...s)})}function Zrt(t,e,n,r){const{HOST:i,PARAMS:s,[n]:o}=r;let a;e&&(a=o==null?void 0:o[e],a&&(t=a));const l=new self.URL(t);return i&&!a&&(l.host=i),s&&Object.keys(s).sort().forEach(u=>{u&&l.searchParams.set(u,s[u])}),l.href}const y1r=/^age:\s*[\d.]+\s*$/im;class Xrt{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new NF,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,n,r){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=n,this.callbacks=r,this.loadInternal()}loadInternal(){const{config:e,context:n}=this;if(!e)return;const r=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0,i.aborted=!1;const s=this.xhrSetup;s?Promise.resolve().then(()=>{if(!this.stats.aborted)return s(r,n.url)}).catch(o=>(r.open("GET",n.url,!0),s(r,n.url))).then(()=>{this.stats.aborted||this.openAndSendXhr(r,n,e)}).catch(o=>{this.callbacks.onError({code:r.status,text:o.message},n,r,i)}):this.openAndSendXhr(r,n,e)}openAndSendXhr(e,n,r){e.readyState||e.open("GET",n.url,!0);const i=this.context.headers,{maxTimeToFirstByteMs:s,maxLoadTimeMs:o}=r.loadPolicy;if(i)for(const a in i)e.setRequestHeader(a,i[a]);n.rangeEnd&&e.setRequestHeader("Range","bytes="+n.rangeStart+"-"+(n.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=n.responseType,self.clearTimeout(this.requestTimeout),r.timeout=s&&pn(s)?s:o,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),r.timeout),e.send()}readystatechange(){const{context:e,loader:n,stats:r}=this;if(!e||!n)return;const i=n.readyState,s=this.config;if(!r.aborted&&i>=2&&(r.loading.first===0&&(r.loading.first=Math.max(self.performance.now(),r.loading.start),s.timeout!==s.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),s.timeout=s.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),s.loadPolicy.maxLoadTimeMs-(r.loading.first-r.loading.start)))),i===4)){self.clearTimeout(this.requestTimeout),n.onreadystatechange=null,n.onprogress=null;const o=n.status,a=n.responseType!=="text";if(o>=200&&o<300&&(a&&n.response||n.responseText!==null)){r.loading.end=Math.max(self.performance.now(),r.loading.first);const l=a?n.response:n.responseText,u=n.responseType==="arraybuffer"?l.byteLength:l.length;if(r.loaded=r.total=u,r.bwEstimate=r.total*8e3/(r.loading.end-r.loading.first),!this.callbacks)return;const d=this.callbacks.onProgress;if(d&&d(r,e,l,n),!this.callbacks)return;const f={url:n.responseURL,data:l,code:o};this.callbacks.onSuccess(f,r,e,n)}else{const l=s.loadPolicy.errorRetry,u=r.retry;O8(l,u,!1,o)?this.retry(l):(Le.error(`${o} while loading ${e.url}`),this.callbacks.onError({code:o,text:n.statusText},e,n,r))}}}loadtimeout(){var e;const n=(e=this.config)==null?void 0:e.loadPolicy.timeoutRetry,r=this.stats.retry;if(O8(n,r,!0))this.retry(n);else{Le.warn(`timeout while loading ${this.context.url}`);const i=this.callbacks;i&&(this.abortInternal(),i.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:n,stats:r}=this;this.retryDelay=Eoe(e,r.retry),r.retry++,Le.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${n.url}, retrying ${r.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const n=this.stats;n.loaded=e.loaded,e.lengthComputable&&(n.total=e.total)}getCacheAge(){let e=null;if(this.loader&&y1r.test(this.loader.getAllResponseHeaders())){const n=this.loader.getResponseHeader("age");e=n?parseFloat(n):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}function b1r(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const x1r=/(\d+)-(\d+)\/(\d+)/;class uOe{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||E1r,this.controller=new self.AbortController,this.stats=new NF}destroy(){this.loader=this.callbacks=null,this.abortInternal()}abortInternal(){const e=this.response;e!=null&&e.ok||(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,n,r){const i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();const s=w1r(e,this.controller.signal),o=r.onProgress,a=e.responseType==="arraybuffer",l=a?"byteLength":"length",{maxTimeToFirstByteMs:u,maxLoadTimeMs:d}=n.loadPolicy;this.context=e,this.config=n,this.callbacks=r,this.request=this.fetchSetup(e,s),self.clearTimeout(this.requestTimeout),n.timeout=u&&pn(u)?u:d,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),r.onTimeout(i,e,this.response)},n.timeout),self.fetch(this.request).then(f=>{this.response=this.loader=f;const h=Math.max(self.performance.now(),i.loading.start);if(self.clearTimeout(this.requestTimeout),n.timeout=d,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),r.onTimeout(i,e,this.response)},d-(h-i.loading.start)),!f.ok){const{status:p,statusText:g}=f;throw new S1r(g||"fetch, bad network response",p,f)}return i.loading.first=h,i.total=C1r(f.headers)||i.total,o&&pn(n.highWaterMark)?this.loadProgressively(f,i,e,n.highWaterMark,o):a?f.arrayBuffer():e.responseType==="json"?f.json():f.text()}).then(f=>{const{response:h}=this;self.clearTimeout(this.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first);const p=f[l];p&&(i.loaded=i.total=p);const g={url:h.url,data:f,code:h.status};o&&!pn(n.highWaterMark)&&o(i,e,f,h),r.onSuccess(g,i,e,h)}).catch(f=>{if(self.clearTimeout(this.requestTimeout),i.aborted)return;const h=f&&f.code||0,p=f?f.message:null;r.onError({code:h,text:p},e,f?f.details:null,i)})}getCacheAge(){let e=null;if(this.response){const n=this.response.headers.get("age");e=n?parseFloat(n):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,n,r,i=0,s){const o=new Nrt,a=e.body.getReader(),l=()=>a.read().then(u=>{if(u.done)return o.dataLength&&s(n,r,o.flush(),e),Promise.resolve(new ArrayBuffer(0));const d=u.value,f=d.length;return n.loaded+=f,f<i||o.dataLength?(o.push(d),o.dataLength>=i&&s(n,r,o.flush(),e)):s(n,r,d,e),l()}).catch(()=>Promise.reject());return l()}}function w1r(t,e){const n={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(Ba({},t.headers))};return t.rangeEnd&&n.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1)),n}function _1r(t){const e=x1r.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}function C1r(t){const e=t.get("Content-Range");if(e){const r=_1r(e);if(pn(r))return r}const n=t.get("Content-Length");if(n)return parseInt(n)}function E1r(t,e){return new self.Request(t.url,e)}class S1r extends Error{constructor(e,n,r){super(e),this.code=void 0,this.details=void 0,this.code=n,this.details=r}}const T1r=/\s/,k1r={newCue(t,e,n,r){const i=[];let s,o,a,l,u;const d=self.VTTCue||self.TextTrackCue;for(let h=0;h<r.rows.length;h++)if(s=r.rows[h],a=!0,l=0,u="",!s.isEmpty()){var f;for(let v=0;v<s.chars.length;v++)T1r.test(s.chars[v].uchar)&&a?l++:(u+=s.chars[v].uchar,a=!1);s.cueStartTime=e,e===n&&(n+=1e-4),l>=16?l--:l++;const p=Grt(u.trim()),g=Poe(e,n,p);t!=null&&(f=t.cues)!=null&&f.getCueById(g)||(o=new d(e,n,p),o.id=g,o.line=h+1,o.align="left",o.position=10+Math.min(80,Math.floor(l*8/32)*10),i.push(o))}return t&&i.length&&(i.sort((h,p)=>h.line==="auto"||p.line==="auto"?0:h.line>8&&p.line>8?p.line-h.line:h.line-p.line),i.forEach(h=>yrt(t,h))),i}},A1r={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},I1r=zc(zc({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:60*1e3*1e3,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Xrt,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:O0r,bufferController:U0r,capLevelController:Moe,errorController:Sgr,fpsController:h1r,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:srt,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,certLoadPolicy:{default:A1r},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},D1r()),{},{subtitleStreamController:F0r,subtitleTrackController:N0r,timelineController:c1r,audioStreamController:P0r,audioTrackController:M0r,emeController:k_,cmcdController:j1,contentSteeringController:v1r});function D1r(){return{cueHandler:k1r,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function R1r(t,e){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const n=YZ(t),r=["manifest","level","frag"],i=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return r.forEach(s=>{const o=`${s==="level"?"playlist":s}LoadPolicy`,a=e[o]===void 0,l=[];i.forEach(u=>{const d=`${s}Loading${u}`,f=e[d];if(f!==void 0&&a){l.push(d);const h=n[o].default;switch(e[o]={default:h},u){case"TimeOut":h.maxLoadTimeMs=f,h.maxTimeToFirstByteMs=f;break;case"MaxRetry":h.errorRetry.maxNumRetry=f,h.timeoutRetry.maxNumRetry=f;break;case"RetryDelay":h.errorRetry.retryDelayMs=f,h.timeoutRetry.retryDelayMs=f;break;case"MaxRetryTimeout":h.errorRetry.maxRetryDelayMs=f,h.timeoutRetry.maxRetryDelayMs=f;break}}}),l.length&&Le.warn(`hls.js config: "${l.join('", "')}" setting(s) are deprecated, use "${o}": ${JSON.stringify(e[o])}`)}),zc(zc({},n),e)}function YZ(t){return t&&typeof t=="object"?Array.isArray(t)?t.map(YZ):Object.keys(t).reduce((e,n)=>(e[n]=YZ(t[n]),e),{}):t}function j1r(t){const e=t.loader;e!==uOe&&e!==Xrt?(Le.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):b1r()&&(t.loader=uOe,t.progressive=!0,t.enableSoftwareAES=!0,Le.log("[config]: Progressive streaming enabled, using FetchLoader"))}class lx{static get version(){return"1.4.10"}static isSupported(){return zgr()}static get Events(){return ee}static get ErrorTypes(){return kn}static get ErrorDetails(){return Ze}static get DefaultConfig(){return lx.defaultConfig?lx.defaultConfig:I1r}static set DefaultConfig(e){lx.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new Ooe,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,gmr(e.debug||!1,"Hls instance");const n=this.config=R1r(lx.DefaultConfig,e);this.userConfig=e,this._autoLevelCapping=-1,n.progressive&&j1r(n);const{abrController:r,bufferController:i,capLevelController:s,errorController:o,fpsController:a}=n,l=new o(this),u=this.abrController=new r(this),d=this.bufferController=new i(this),f=this.capLevelController=new s(this),h=new a(this),p=new ogr(this),g=new dgr(this),v=n.contentSteeringController,y=v?new v(this):null,x=this.levelController=new kgr(this,y),b=new Agr(this),_=new Dgr(this.config),C=this.streamController=new R0r(this,b,_);f.setStreamController(C),h.setStreamController(C);const S=[p,x,C];y&&S.splice(1,0,y),this.networkControllers=S;const T=[u,d,f,h,g,b];this.audioTrackController=this.createController(n.audioTrackController,S);const A=n.audioStreamController;A&&S.push(new A(this,b,_)),this.subtitleTrackController=this.createController(n.subtitleTrackController,S);const k=n.subtitleStreamController;k&&S.push(new k(this,b,_)),this.createController(n.timelineController,T),_.emeController=this.emeController=this.createController(n.emeController,T),this.cmcdController=this.createController(n.cmcdController,T),this.latencyController=this.createController(fgr,T),this.coreComponents=T,S.push(l);const I=l.onErrorOut;typeof I=="function"&&this.on(ee.ERROR,I,l)}createController(e,n){if(e){const r=new e(this);return n&&n.push(r),r}return null}on(e,n,r=this){this._emitter.on(e,n,r)}once(e,n,r=this){this._emitter.once(e,n,r)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,n,r=this,i){this._emitter.off(e,n,r,i)}listeners(e){return this._emitter.listeners(e)}emit(e,n,r){return this._emitter.emit(e,n,r)}trigger(e,n){if(this.config.debug)return this.emit(e,e,n);try{return this.emit(e,e,n)}catch(r){Le.error("An internal error happened while handling event "+e+'. Error message: "'+r.message+'". Here is a stacktrace:',r),this.trigger(ee.ERROR,{type:kn.OTHER_ERROR,details:Ze.INTERNAL_EXCEPTION,fatal:!1,event:e,error:r})}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){Le.log("destroy"),this.trigger(ee.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(n=>n.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(n=>n.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){Le.log("attachMedia"),this._media=e,this.trigger(ee.MEDIA_ATTACHING,{media:e})}detachMedia(){Le.log("detachMedia"),this.trigger(ee.MEDIA_DETACHING,void 0),this._media=null}loadSource(e){this.stopLoad();const n=this.media,r=this.url,i=this.url=woe.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});Le.log(`loadSource:${i}`),n&&r&&(r!==i||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(n)),this.trigger(ee.MANIFEST_LOADING,{url:e})}startLoad(e=-1){Le.log(`startLoad(${e})`),this.networkControllers.forEach(n=>{n.startLoad(e)})}stopLoad(){Le.log("stopLoad"),this.networkControllers.forEach(e=>{e.stopLoad()})}swapAudioCodec(){Le.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){Le.log("recoverMediaError");const e=this._media;this.detachMedia(),e&&this.attachMedia(e)}removeLevel(e,n=0){this.levelController.removeLevel(e,n)}get levels(){const e=this.levelController.levels;return e||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){Le.log(`set currentLevel:${e}`),this.loadLevel=e,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){Le.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){Le.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){Le.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){return this.levelController.startLevel}set startLevel(e){Le.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const n=!!e;n!==this.config.capLevelToPlayerSize&&(n?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=n)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(Le.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e)}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){HZ.indexOf(e)>-1&&(this._maxHdcpLevel=e)}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:n}}=this;if(!e)return 0;const r=e.length;for(let i=0;i<r;i++)if(e[i].maxBitrate>=n)return i;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:n,maxHdcpLevel:r}=this;let i;if(n===-1&&e&&e.length?i=e.length-1:i=n,r)for(let s=i;s--;){const o=e[s].attrs["HDCP-LEVEL"];if(o&&o<=r)return s}return i}get nextAutoLevel(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)}set nextAutoLevel(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const n=this.audioTrackController;n&&(n.audioTrack=e)}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const n=this.subtitleTrackController;n&&(n.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const n=this.subtitleTrackController;n&&(n.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}lx.defaultConfig=void 0;var jc=lx,XT=class extends Error{constructor(t,e=XT.MEDIA_ERR_CUSTOM,n,r){var i;super(t),this.name="MediaError",this.code=e,this.context=r,this.fatal=n??(e>=XT.MEDIA_ERR_NETWORK&&e<=XT.MEDIA_ERR_ENCRYPTED),this.message||(this.message=(i=XT.defaultMessages[this.code])!=null?i:"")}},qo=XT;qo.MEDIA_ERR_ABORTED=1,qo.MEDIA_ERR_NETWORK=2,qo.MEDIA_ERR_DECODE=3,qo.MEDIA_ERR_SRC_NOT_SUPPORTED=4,qo.MEDIA_ERR_ENCRYPTED=5,qo.MEDIA_ERR_CUSTOM=100,qo.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail.",3:"A media error caused playback to be aborted. The media could be corrupt or your browser does not support this format.",4:"An unsupported error occurred. The server or network failed, or your browser does not support this format.",5:"The media is encrypted and there are no keys to decrypt it."};var O1r=t=>t==null,Qrt=(t,e)=>O1r(e)?!1:t in e,KZ={ANY:"any",MUTED:"muted"},Ao={ON_DEMAND:"on-demand",LIVE:"live",UNKNOWN:"unknown"},em={MSE:"mse",NATIVE:"native"},ZZ={HEADER:"header",QUERY:"query",NONE:"none"},M8=Object.values(ZZ),ry={M3U8:"application/vnd.apple.mpegurl",MP4:"video/mp4"},cOe={HLS:ry.M3U8};[...Object.values(ry)];var Th=(t,e,n,r,i=t)=>{i.addEventListener(e,n,r),t.addEventListener("teardown",()=>{i.removeEventListener(e,n)},{once:!0})};function L1r(t,e,n){e&&n>e&&(n=e);for(let r=0;r<t.length;r++)if(t.start(r)<=n&&t.end(r)>=n)return!0;return!1}var P1r=t=>{let e=t.indexOf("?");if(e<0)return[t];let n=t.slice(0,e),r=t.slice(e);return[n,r]},HF=t=>{let e=t.type;if(e){let r=e.toUpperCase();return Qrt(r,cOe)?cOe[r]:e}let{src:n}=t;return n?M1r(n):""},Jrt=t=>t==="VOD"?Ao.ON_DEMAND:Ao.LIVE,eit=t=>t==="EVENT"?Number.POSITIVE_INFINITY:t==="VOD"?Number.NaN:0,M1r=t=>{let e="";try{e=new URL(t).pathname}catch{console.error("invalid url")}let n=e.lastIndexOf(".");if(n<0)return"";let r=e.slice(n+1).toUpperCase();return Qrt(r,ry)?ry[r]:""},$1r=Object.values(KZ),dOe=t=>typeof t=="boolean"||typeof t=="string"&&$1r.includes(t),F1r=({autoplay:t},e,n)=>{let r=!1,i=!1,s=dOe(t)?t:!!t,o=()=>{r||Th(e,"playing",()=>{r=!0},{once:!0})};if(o(),Th(e,"loadstart",()=>{r=!1,o(),sW(e,s)},{once:!0}),Th(e,"loadstart",()=>{n||(i=!Number.isFinite(e.duration)),sW(e,s)},{once:!0}),n&&n.once(jc.Events.LEVEL_LOADED,(a,l)=>{var u;i=(u=l.details.live)!=null?u:!1}),!s){let a=()=>{!i||(n!=null&&n.liveSyncPosition?e.currentTime=n.liveSyncPosition:Number.isFinite(e.seekable.end(0))&&(e.currentTime=e.seekable.end(0)))};n&&Th(e,"play",()=>{e.preload==="metadata"?n.once(jc.Events.LEVEL_UPDATED,a):a()},{once:!0})}return a=>{r||(s=dOe(a)?a:!!a,sW(e,s))}},sW=(t,e)=>{if(!e)return;let n=t.muted,r=()=>t.muted=n;switch(e){case KZ.ANY:t.play().catch(()=>{t.muted=!0,t.play().catch(r)});break;case KZ.MUTED:t.muted=!0,t.play().catch(r);break;default:t.play().catch(()=>{});break}},B1r=({preload:t,src:e},n,r)=>{let i=f=>{f!=null&&["","none","metadata","auto"].includes(f)?n.setAttribute("preload",f):n.removeAttribute("preload")};if(!r)return i(t),i;let s=!1,o=!1,a=r.config.maxBufferLength,l=r.config.maxBufferSize,u=f=>{i(f);let h=f??n.preload;o||h==="none"||(h==="metadata"?(r.config.maxBufferLength=1,r.config.maxBufferSize=1):(r.config.maxBufferLength=a,r.config.maxBufferSize=l),d())},d=()=>{!s&&e&&(s=!0,r.loadSource(e))};return Th(n,"play",()=>{o=!0,r.config.maxBufferLength=a,r.config.maxBufferSize=l,d()},{once:!0}),u(t),u};function N1r(t,e){e.on(jc.Events.NON_NATIVE_TEXT_TRACKS_FOUND,(i,{tracks:s})=>{s.forEach(o=>{var a;let l=(a=o.subtitleTrack)!=null?a:o.closedCaptions,u=e.subtitleTracks.findIndex(({lang:d,name:f,type:h})=>d==(l==null?void 0:l.lang)&&f===o.label&&h.toLowerCase()===o.kind);$oe(t,o.kind,o.label,l==null?void 0:l.lang,`${o.kind}${u}`)})});let n=()=>{var i;if(!e.subtitleTracks.length)return;let s=Array.from(t.textTracks).find(a=>a.id&&a.mode==="showing"&&["subtitles","captions"].includes(a.kind)),o=`${(i=e.subtitleTracks[e.subtitleTrack])==null?void 0:i.type.toLowerCase()}${e.subtitleTrack}`;if(s&&(e.subtitleTrack<0||(s==null?void 0:s.id)!==o)){let a=e.subtitleTracks.findIndex(({lang:l,name:u,type:d})=>l==s.language&&u===s.label&&d.toLowerCase()===s.kind);e.subtitleTrack=a}s&&(s==null?void 0:s.id)===o&&s.cues&&Array.from(s.cues).forEach(a=>{s.addCue(a)})};t.textTracks.addEventListener("change",n),e.on(jc.Events.CUES_PARSED,(i,{track:s,cues:o})=>{let a=t.textTracks.getTrackById(s);if(!a)return;let l=a.mode==="disabled";l&&(a.mode="hidden"),o.forEach(u=>{var d;(d=a.cues)!=null&&d.getCueById(u.id)||a.addCue(u)}),l&&(a.mode="disabled")}),e.once(jc.Events.DESTROYING,()=>{t.textTracks.removeEventListener("change",n),t.querySelectorAll("track[data-removeondestroy]").forEach(i=>{i.remove()})});let r=()=>{Array.from(t.textTracks).forEach(i=>{var s,o;if(!["subtitles","caption"].includes(i.kind)&&i.label==="thumbnails"){if(!((s=i.cues)!=null&&s.length)){let a=t.querySelector('track[label="thumbnails"]'),l=(o=a==null?void 0:a.getAttribute("src"))!=null?o:"";a==null||a.removeAttribute("src"),setTimeout(()=>{a==null||a.setAttribute("src",l)},0)}i.mode!=="hidden"&&(i.mode="hidden")}})};e.once(jc.Events.MANIFEST_LOADED,r),e.once(jc.Events.MEDIA_ATTACHED,r)}function $oe(t,e,n,r,i){let s=document.createElement("track");return s.kind=e,s.label=n,r&&(s.srclang=r),i&&(s.id=i),s.track.mode=["subtitles","captions"].includes(e)?"disabled":"hidden",s.setAttribute("data-removeondestroy",""),t.append(s),s.track}function V1r(t,e){let n=Array.prototype.find.call(t.querySelectorAll("track"),r=>r.track===e);n==null||n.remove()}var TD="cuepoints",Foe=Object.freeze({label:TD}),Boe=(t,{label:e=TD}=Foe)=>{var n;return(n=Array.from(t.querySelectorAll("track")).find(r=>r.track.label===e&&r.track.kind==="metadata"))==null?void 0:n.track};async function tit(t,e,n=Foe){let r=Boe(t,n);if(!r){let{label:i=TD}=n;r=$oe(t,"metadata",i),r.mode="hidden",await new Promise(s=>setTimeout(()=>s(void 0),0))}return r.mode!=="hidden"&&(r.mode="hidden"),[...e].sort(({time:i},{time:s})=>s-i).forEach(({time:i,value:s})=>{var o,a;let l=Array.prototype.findIndex.call(r==null?void 0:r.cues,p=>p.startTime>=i),u=(o=r==null?void 0:r.cues)==null?void 0:o[l],d=u?u.startTime:Number.isFinite(t.duration)?t.duration:Number.MAX_SAFE_INTEGER,f=(a=r==null?void 0:r.cues)==null?void 0:a[l-1];f&&(f.endTime=i);let h=new VTTCue(i,d,JSON.stringify(s??null));r.addCue(h)}),r}var nit=t=>({time:t.startTime,value:JSON.parse(t.text)});function U1r(t,e={label:TD}){let n=Boe(t,e);return n!=null&&n.cues?Array.from(n.cues,r=>nit(r)):[]}function rit(t,e={label:TD}){var n,r;let i=Boe(t,e);if(!((n=i==null?void 0:i.activeCues)!=null&&n.length))return;let{currentTime:s}=t,o=Array.prototype.find.call((r=i.activeCues)!=null?r:[],({startTime:a,endTime:l})=>a<=s&&l>s);return nit(o)}async function H1r(t,e=Foe){return new Promise(n=>{Th(t,"loadstart",async()=>{let r=await tit(t,[],e);Th(t,"cuechange",()=>{let i=rit(t);if(i){let s=new CustomEvent("cuepointchange",{composed:!0,bubbles:!0,detail:i});t.dispatchEvent(s)}},{},r),n(r)})})}function z1r(t,e){if(e){let n=e.playingDate;if(n!=null)return new Date(n.getTime()-t.currentTime*1e3)}return typeof t.getStartDate=="function"?t.getStartDate():new Date(NaN)}function W1r(t,e){if(e&&e.playingDate)return e.playingDate;if(typeof t.getStartDate=="function"){let n=t.getStartDate();return new Date(n.getTime()+t.currentTime*1e3)}return new Date(NaN)}var G1r=async t=>fetch(t).then(e=>e.text()).then(e=>{let n=e.split(`
`).find((r,i,s)=>i&&s[i-1].startsWith("#EXT-X-STREAM-INF"));return fetch(n).then(r=>r.text()).then(r=>r.split(`
`))}),q1r=t=>{var e,n;let r=(n=((e=t.find(a=>a.startsWith("#EXT-X-PLAYLIST-TYPE")))!=null?e:"").split(":")[1])==null?void 0:n.trim(),i=Jrt(r),s=eit(r),o;if(i===Ao.LIVE){let a=t.find(l=>l.startsWith("#EXT-X-PART-INF"));a?o=+a.split(":")[1].split("=")[1]*2:o=+t.find(l=>l.startsWith("#EXT-X-TARGETDURATION")).split(":")[1]*3}return{streamType:i,targetLiveWindow:s,liveEdgeStartOffset:o}},Y1r=async(t,e)=>{if(e===ry.MP4)return{streamType:Ao.ON_DEMAND,targetLiveWindow:Number.NaN,liveEdgeStartOffset:void 0};if(e===ry.M3U8){let n=await G1r(t);return q1r(n)}return console.error(`Media type ${e} is an unrecognized or unsupported type for src ${t}.`),{streamType:void 0,targetLiveWindow:void 0,liveEdgeStartOffset:void 0}},fOe=async(t,e,n=HF({src:t}))=>{var r,i,s;let{streamType:o,targetLiveWindow:a,liveEdgeStartOffset:l}=await Y1r(t,n);((r=Tl.get(e))!=null?r:{}).liveEdgeStartOffset=l,((i=Tl.get(e))!=null?i:{}).targetLiveWindow=a,e.dispatchEvent(new CustomEvent("targetlivewindowchange",{composed:!0,bubbles:!0})),((s=Tl.get(e))!=null?s:{}).streamType=o,e.dispatchEvent(new CustomEvent("streamtypechange",{composed:!0,bubbles:!0}))},K1r=t=>{var e;let n=t.type,r=Jrt(n),i=eit(n),s,o=!!((e=t.partList)!=null&&e.length);return r===Ao.LIVE&&(s=o?t.partTarget*2:t.targetduration*3),{streamType:r,targetLiveWindow:i,liveEdgeStartOffset:s,lowLatency:o}},Z1r=(t,e,n)=>{var r,i,s,o,a,l,u,d;let{streamType:f,targetLiveWindow:h,liveEdgeStartOffset:p,lowLatency:g}=K1r(t);if(f===Ao.LIVE){g?(n.config.backBufferLength=(r=n.userConfig.backBufferLength)!=null?r:4,n.config.maxFragLookUpTolerance=(i=n.userConfig.maxFragLookUpTolerance)!=null?i:.001,n.config.abrBandWidthUpFactor=(s=n.userConfig.abrBandWidthUpFactor)!=null?s:n.config.abrBandWidthFactor):n.config.backBufferLength=(o=n.userConfig.backBufferLength)!=null?o:8;let v=Object.freeze({get length(){return e.seekable.length},start(y){return e.seekable.start(y)},end(y){var x;return y>this.length?e.seekable.end(y):(x=n.liveSyncPosition)!=null?x:e.seekable.end(y)}});((a=Tl.get(e))!=null?a:{}).seekable=v}((l=Tl.get(e))!=null?l:{}).liveEdgeStartOffset=p,((u=Tl.get(e))!=null?u:{}).targetLiveWindow=h,e.dispatchEvent(new CustomEvent("targetlivewindowchange",{composed:!0,bubbles:!0})),((d=Tl.get(e))!=null?d:{}).streamType=f,e.dispatchEvent(new CustomEvent("streamtypechange",{composed:!0,bubbles:!0}))},hOe,pOe,X1r=(pOe=(hOe=globalThis==null?void 0:globalThis.navigator)==null?void 0:hOe.userAgent)!=null?pOe:"",Q1r=X1r.toLowerCase().indexOf("android")!==-1,Tl=new WeakMap,iit="mux.com",mOe,gOe,sit=(gOe=(mOe=jc).isSupported)==null?void 0:gOe.call(mOe),J1r=Q1r,evr=()=>xoe.utils.now(),tvr=xoe.utils.generateUUID,nvr=(t,{domain:e=iit,maxResolution:n=""}={})=>{if(!t)return;let[r,i=""]=P1r(t),s=new URL(`https://stream.${e}/${r}.m3u8${i}`);return n&&s.searchParams.set("max_resolution",n),s.toString()},rvr=t=>{if(!t)return;let[e]=t.split("?");return e||void 0},ivr=t=>{if(!t||!t.startsWith("https://stream."))return;let[e]=new URL(t).pathname.slice(1).split(".m3u8");return e||void 0},svr=t=>{var e,n,r;return(e=t==null?void 0:t.metadata)!=null&&e.video_id?t.metadata.video_id:dit(t)&&(r=(n=rvr(t.playbackId))!=null?n:ivr(t.src))!=null?r:t.src},ovr=t=>{var e;return(e=Tl.get(t))==null?void 0:e.error},avr=t=>{var e,n;return(n=(e=Tl.get(t))==null?void 0:e.streamType)!=null?n:Ao.UNKNOWN},lvr=t=>{var e,n;return(n=(e=Tl.get(t))==null?void 0:e.targetLiveWindow)!=null?n:Number.NaN},oit=t=>{var e,n;return(n=(e=Tl.get(t))==null?void 0:e.seekable)!=null?n:t.seekable},uvr=t=>{var e;let n=(e=Tl.get(t))==null?void 0:e.liveEdgeStartOffset;if(typeof n!="number")return Number.NaN;let r=oit(t);return r.length?r.end(r.length-1)-n:Number.NaN},cvr=(t,e,n=.001)=>Math.abs(t-e)<=n,ait=(t,e,n=.001)=>t>e||cvr(t,e,n),dvr=t=>t.paused&&ait(t.currentTime,t.duration),lit=(t,e)=>t.loop||e?t.ended:t.ended||dvr(t),fvr=(t,e,n)=>{uit(e,n);let{metadata:r={}}=t,{view_session_id:i=tvr()}=r,s=svr(t);r.view_session_id=i,r.video_id=s,t.metadata=r,Tl.set(e,{});let o=hvr(t,e);mvr(t,e,o),gvr(t,e,o),H1r(e);let a=F1r(t,e,o),l=B1r(t,e,o);return{engine:o,setAutoplay:a,setPreload:l}},uit=(t,e)=>{let n=e==null?void 0:e.engine;n&&(n.detachMedia(),n.destroy()),t!=null&&t.mux&&!t.mux.deleted&&(t.mux.destroy(),delete t.mux),t&&(t.removeAttribute("src"),t.load(),t.removeEventListener("error",hit),t.removeEventListener("error",XZ),t.removeEventListener("durationchange",fit),Tl.delete(t),t.dispatchEvent(new Event("teardown")))};function cit(t,e){var n;let r=HF(t);if(r!==ry.M3U8)return!0;let i=!r||((n=e.canPlayType(r))!=null?n:!0),{preferPlayback:s}=t,o=s===em.MSE,a=s===em.NATIVE;return i&&(a||!(sit&&(o||J1r)))}var hvr=(t,e)=>{let{debug:n,streamType:r,startTime:i=-1,metadata:s,preferCmcd:o}=t,a=HF(t)===ry.M3U8,l=cit(t,e);if(a&&!l&&sit){let u={backBufferLength:30,renderTextTracksNatively:!1,liveDurationInfinity:!0,capLevelToPlayerSize:!0,capLevelOnFPSDrop:!0},d=pvr(r),f=o!==ZZ.NONE?{useHeaders:o===ZZ.HEADER,sessionId:s==null?void 0:s.view_session_id,contentId:s==null?void 0:s.video_id}:void 0;return new jc({debug:n,startPosition:i,cmcd:f,...u,...d})}},pvr=t=>t===Ao.LIVE?{backBufferLength:8}:{},dit=({playbackId:t,src:e,customDomain:n})=>{if(t)return!0;if(typeof e!="string")return!1;let r=window==null?void 0:window.location.href,i=new URL(e,r).hostname.toLocaleLowerCase();return i.includes(iit)||!!n&&i.includes(n.toLocaleLowerCase())},mvr=(t,e,n)=>{var r;let{envKey:i}=t,s=dit(t);if(i||s){let{playerInitTime:o,playerSoftwareName:a,playerSoftwareVersion:l,beaconCollectionDomain:u,debug:d,disableCookies:f}=t,h={...t.metadata,video_title:((r=t==null?void 0:t.metadata)==null?void 0:r.video_title)||void 0},p=g=>typeof g.player_error_code=="string"?!1:typeof t.errorTranslator=="function"?t.errorTranslator(g):g;xoe.monitor(e,{debug:d,beaconCollectionDomain:u,hlsjs:n,Hls:n?jc:void 0,automaticErrorTracking:!1,errorTranslator:p,disableCookies:f,data:{...i?{env_key:i}:{},player_software_name:a,player_software:a,player_software_version:l,player_init_time:o,...h}})}},gvr=(t,e,n)=>{var r;let i=cit(t,e),{src:s}=t;if(e&&i){let o=HF(t);typeof s=="string"?(e.preload==="none"?Th(e,"loadstart",()=>fOe(s,e,o)):fOe(s,e,o),e.setAttribute("src",s),t.startTime&&(((r=Tl.get(e))!=null?r:{}).startTime=t.startTime,e.addEventListener("durationchange",fit,{once:!0}))):e.removeAttribute("src"),e.addEventListener("error",hit),e.addEventListener("error",XZ),e.addEventListener("emptied",()=>{e.querySelectorAll("track[data-removeondestroy]").forEach(l=>{l.remove()})},{once:!0});let a=()=>{e.ended||!lit(e)||e.dispatchEvent(new Event("ended"))};Th(e,"pause",a),Th(e,"seeked",a),Th(e,"play",()=>{e.ended||!ait(e.currentTime,e.duration)||(e.currentTime=e.seekable.start(0))})}else n&&s?(n.once(jc.Events.LEVEL_LOADED,(o,a)=>{Z1r(a.details,e,n)}),n.on(jc.Events.ERROR,(o,a)=>{let l={[jc.ErrorTypes.NETWORK_ERROR]:qo.MEDIA_ERR_NETWORK,[jc.ErrorTypes.MEDIA_ERROR]:qo.MEDIA_ERR_DECODE},u=new qo("",l[a.type]);u.fatal=a.fatal,u.data=a,e.dispatchEvent(new CustomEvent("error",{detail:u}))}),e.addEventListener("error",XZ),N1r(e,n),n.attachMedia(e)):console.error("It looks like the video you're trying to play will not work on this system! If possible, try upgrading to the newest versions of your browser or software.")};function fit(t){var e;let n=t.target,r=(e=Tl.get(n))==null?void 0:e.startTime;if(r&&L1r(n.seekable,n.duration,r)){let i=n.preload==="auto";i&&(n.preload="none"),n.currentTime=r,i&&(n.preload="auto")}}async function hit(t){if(!t.isTrusted)return;t.stopImmediatePropagation();let e=t.target;if(!(e!=null&&e.error))return;let{message:n,code:r}=e.error,i=new qo(n,r);if(e.src&&(r!==qo.MEDIA_ERR_DECODE||r!==void 0))try{let{status:s}=await fetch(e.src);i.data={response:{code:s}}}catch{}e.dispatchEvent(new CustomEvent("error",{detail:i}))}function XZ(t){var e,n;if(!(t instanceof CustomEvent)||!(t.detail instanceof qo))return;let r=t.target,i=t.detail;!i||!i.fatal||(((e=Tl.get(r))!=null?e:{}).error=i,(n=r.mux)==null||n.emit("error",{player_error_code:i.code,player_error_message:i.message,player_error_context:i.context}))}var vvr=Object.defineProperty,yvr=(t,e,n)=>e in t?vvr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,U5=(t,e,n)=>(yvr(t,typeof e!="symbol"?e+"":e,n),n),Noe=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Mt=(t,e,n)=>(Noe(t,e,"read from private field"),n?n.call(t):e.get(t)),cr=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},fs=(t,e,n,r)=>(Noe(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),so=(t,e,n)=>(Noe(t,e,"access private method"),n),zF=class{addEventListener(){}removeEventListener(){}dispatchEvent(e){return!0}};if(typeof DocumentFragment>"u"){class t extends zF{}globalThis.DocumentFragment=t}var Voe=class extends zF{},bvr=class extends zF{},xvr={get(t){},define(t,e,n){},upgrade(t){},whenDefined(t){return Promise.resolve(Voe)}},VL,wvr=class{constructor(e,n={}){cr(this,VL,void 0),fs(this,VL,n==null?void 0:n.detail)}get detail(){return Mt(this,VL)}initCustomEvent(){}};VL=new WeakMap;function _vr(t,e){return new Voe}var Cvr={document:{createElement:_vr},DocumentFragment,customElements:xvr,CustomEvent:wvr,EventTarget:zF,HTMLElement:Voe,HTMLVideoElement:bvr},Evr=typeof window>"u"||typeof globalThis.customElements>"u",UL=Evr?Cvr:globalThis,Svr=()=>{try{return"0.15.6"}catch{}return"UNKNOWN"},Tvr=Svr(),kvr=()=>Tvr,vOe=t=>{var e,n,r,i,s,o,a,l,u,d,f,h,p,g,v,y,x,b,_,C,S,T,A,k,I,D,R,O,L,P,$,B,Q,V,Z,ie,J,X,fe,ue;return e=class extends t{constructor(){super(),cr(this,R),cr(this,L),cr(this,$),cr(this,Q),cr(this,Z),cr(this,J),cr(this,fe),U5(this,"castEnabled",!1),cr(this,S,{paused:!1}),cr(this,T,void 0),cr(this,A,{}),cr(this,k,void 0),cr(this,I,void 0),cr(this,D,void 0),e.instances.add(this),so(this,Z,ie).call(this)}static get castElement(){return Mt(e,n)}static get castEnabled(){return Mt(e,r)}static get castState(){var te;return(te=Mt(e,u,d))==null?void 0:te.getCastState()}static async exitCast(){try{await Mt(e,u,d).endCurrentSession(!0)}catch(te){console.error(te);return}}get castPlayer(){if(e.castElement===this)return Mt(this,T)}attributeChangedCallback(te){if(this.castPlayer)switch(te){case"cast-stream-type":case"cast-src":this.load();break}}async requestCast(te={}){var F;so(F=e,_,C).call(F,te),fs(e,n,this),Object.entries(Mt(this,A)).forEach(([ne,ce])=>{Mt(this,T).controller.addEventListener(ne,ce)});try{await Mt(e,u,d).requestSession()}catch{fs(e,n,void 0);return}Mt(this,S).paused=super.paused,super.pause(),this.muted=super.muted;try{await this.load()}catch(ne){console.error(ne)}}async load(){var te,F;if(!this.castPlayer)return super.load();let ne=new chrome.cast.media.MediaInfo(this.castSrc,this.castContentType),ce=[...this.querySelectorAll("track")].filter(({kind:xe,src:Pe})=>Pe&&(xe==="subtitles"||xe==="captions")),me=[],pe=0;ce.length&&(ne.tracks=ce.map(xe=>{let Pe=++pe;me.length===0&&xe.track.mode==="showing"&&me.push(Pe);let we=new chrome.cast.media.Track(Pe,chrome.cast.media.TrackType.TEXT);return we.trackContentId=xe.src,we.trackContentType="text/vtt",we.subtype=xe.kind==="captions"?chrome.cast.media.TextTrackType.CAPTIONS:chrome.cast.media.TextTrackType.SUBTITLES,we.name=xe.label,we.language=xe.srclang,we})),this.castStreamType==="live"?ne.streamType=chrome.cast.media.StreamType.LIVE:ne.streamType=chrome.cast.media.StreamType.BUFFERED,ne.metadata=new chrome.cast.media.GenericMediaMetadata,ne.metadata.title=this.title,ne.metadata.images=[{url:this.poster}];let Ie=new chrome.cast.media.LoadRequest(ne);Ie.currentTime=(te=super.currentTime)!=null?te:0,Ie.autoplay=!Mt(this,S).paused,Ie.activeTrackIds=me,await((F=Mt(e,f,h))==null?void 0:F.loadMedia(Ie)),this.dispatchEvent(new Event("volumechange"))}play(){var te;if(this.castPlayer){this.castPlayer.isPaused&&((te=this.castPlayer.controller)==null||te.playOrPause());return}return super.play()}pause(){var te;if(this.castPlayer){this.castPlayer.isPaused||(te=this.castPlayer.controller)==null||te.playOrPause();return}super.pause()}get castSrc(){var te,F,ne;return(ne=(F=this.getAttribute("cast-src"))!=null?F:(te=this.querySelector("source"))==null?void 0:te.src)!=null?ne:this.currentSrc}set castSrc(te){this.castSrc!=te&&this.setAttribute("cast-src",`${te}`)}get castContentType(){var te;return(te=this.getAttribute("cast-content-type"))!=null?te:void 0}set castContentType(te){this.setAttribute("cast-content-type",`${te}`)}get castStreamType(){var te,F;return(F=(te=this.getAttribute("cast-stream-type"))!=null?te:this.streamType)!=null?F:void 0}set castStreamType(te){this.setAttribute("cast-stream-type",`${te}`)}get readyState(){if(this.castPlayer)switch(this.castPlayer.playerState){case chrome.cast.media.PlayerState.IDLE:return 0;case chrome.cast.media.PlayerState.BUFFERING:return 2;default:return 3}return super.readyState}get paused(){return this.castPlayer?this.castPlayer.isPaused:super.paused}get muted(){var te;return this.castPlayer?(te=this.castPlayer)==null?void 0:te.isMuted:super.muted}set muted(te){var F;if(this.castPlayer){(te&&!this.castPlayer.isMuted||!te&&this.castPlayer.isMuted)&&((F=this.castPlayer.controller)==null||F.muteOrUnmute());return}super.muted=te}get volume(){var te,F;return this.castPlayer?(F=(te=this.castPlayer)==null?void 0:te.volumeLevel)!=null?F:1:super.volume}set volume(te){var F;if(this.castPlayer){this.castPlayer.volumeLevel=te,(F=this.castPlayer.controller)==null||F.setVolumeLevel();return}super.volume=te}get duration(){var te,F;return this.castPlayer&&Mt(this,R,O)?(F=(te=this.castPlayer)==null?void 0:te.duration)!=null?F:NaN:super.duration}get currentTime(){var te,F;return this.castPlayer&&Mt(this,R,O)?(F=(te=this.castPlayer)==null?void 0:te.currentTime)!=null?F:0:super.currentTime}set currentTime(te){var F;if(this.castPlayer){this.castPlayer.currentTime=te,(F=this.castPlayer.controller)==null||F.seek();return}super.currentTime=te}get onentercast(){return Mt(this,k)}set onentercast(te){Mt(this,k)&&(this.removeEventListener("entercast",Mt(this,k)),fs(this,k,null)),typeof te=="function"&&(fs(this,k,te),this.addEventListener("entercast",te))}get onleavecast(){return Mt(this,I)}set onleavecast(te){Mt(this,I)&&(this.removeEventListener("leavecast",Mt(this,I)),fs(this,I,null)),typeof te=="function"&&(fs(this,I,te),this.addEventListener("leavecast",te))}get oncastchange(){return Mt(this,D)}set oncastchange(te){Mt(this,D)&&(this.removeEventListener("castchange",Mt(this,D)),fs(this,D,null)),typeof te=="function"&&(fs(this,D,te),this.addEventListener("castchange",te))}},n=new WeakMap,r=new WeakMap,i=new WeakMap,s=new WeakSet,o=function(){return typeof chrome<"u"&&chrome.cast&&chrome.cast.isAvailable},a=new WeakSet,l=function(){return typeof cast<"u"&&cast.framework},u=new WeakSet,d=function(){if(Mt(e,a,l))return cast.framework.CastContext.getInstance()},f=new WeakSet,h=function(){var te;return(te=Mt(e,u,d))==null?void 0:te.getCurrentSession()},p=new WeakSet,g=function(){var te;return(te=Mt(e,f,h))==null?void 0:te.getSessionObj().media[0]},v=new WeakSet,y=function(te){return new Promise((F,ne)=>{Mt(e,p,g).editTracksInfo(te,F,ne)})},x=new WeakSet,b=function(te){return new Promise((F,ne)=>{Mt(e,p,g).getStatus(te,F,ne)})},_=new WeakSet,C=function(te){return Mt(e,u,d).setOptions({receiverApplicationId:chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED,androidReceiverCompatible:!1,language:"en-US",resumeSavedSession:!0,...te})},S=new WeakMap,T=new WeakMap,A=new WeakMap,k=new WeakMap,I=new WeakMap,D=new WeakMap,R=new WeakSet,O=function(){var te;return(te=this.castPlayer)==null?void 0:te.isMediaLoaded},L=new WeakSet,P=function(){Mt(e,n)===this&&(Object.entries(Mt(this,A)).forEach(([te,F])=>{Mt(this,T).controller.removeEventListener(te,F)}),fs(e,n,void 0),this.muted=Mt(this,T).isMuted,this.currentTime=Mt(this,T).savedPlayerState.currentTime,Mt(this,T).savedPlayerState.isPaused===!1&&this.play())},$=new WeakSet,B=function(){this.dispatchEvent(new CustomEvent("castchange",{detail:Mt(e,u,d).getCastState()}))},Q=new WeakSet,V=async function(){var te,F;let{SESSION_RESUMED:ne}=cast.framework.SessionState;if(Mt(e,u,d).getSessionState()===ne&&this.castSrc===((te=Mt(e,p,g))==null?void 0:te.media.contentId)){fs(e,n,this),Object.entries(Mt(this,A)).forEach(([ce,me])=>{Mt(this,T).controller.addEventListener(ce,me)});try{await so(F=e,x,b).call(F,new chrome.cast.media.GetStatusRequest)}catch(ce){console.error(ce)}Mt(this,A)[cast.framework.RemotePlayerEventType.IS_PAUSED_CHANGED](),Mt(this,A)[cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED]()}},Z=new WeakSet,ie=function(){var te;!Mt(e,a,l)||this.castEnabled||(this.castEnabled=!0,so(te=e,_,C).call(te),this.textTracks.addEventListener("change",so(this,fe,ue).bind(this)),so(this,$,B).call(this),fs(this,T,new cast.framework.RemotePlayer),new cast.framework.RemotePlayerController(Mt(this,T)),fs(this,A,{[cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED]:({value:F})=>{F===!1&&so(this,L,P).call(this),this.dispatchEvent(new Event(F?"entercast":"leavecast"))},[cast.framework.RemotePlayerEventType.DURATION_CHANGED]:()=>{this.dispatchEvent(new Event("durationchange"))},[cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED]:()=>{this.dispatchEvent(new Event("volumechange"))},[cast.framework.RemotePlayerEventType.IS_MUTED_CHANGED]:()=>{this.dispatchEvent(new Event("volumechange"))},[cast.framework.RemotePlayerEventType.CURRENT_TIME_CHANGED]:()=>{!Mt(this,R,O)||this.dispatchEvent(new Event("timeupdate"))},[cast.framework.RemotePlayerEventType.VIDEO_INFO_CHANGED]:()=>{this.dispatchEvent(new Event("resize"))},[cast.framework.RemotePlayerEventType.IS_PAUSED_CHANGED]:()=>{this.dispatchEvent(new Event(this.paused?"pause":"play"))},[cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED]:()=>{var F,ne;((F=this.castPlayer)==null?void 0:F.playerState)!==chrome.cast.media.PlayerState.PAUSED&&this.dispatchEvent(new Event({[chrome.cast.media.PlayerState.PLAYING]:"playing",[chrome.cast.media.PlayerState.BUFFERING]:"waiting",[chrome.cast.media.PlayerState.IDLE]:"emptied"}[(ne=this.castPlayer)==null?void 0:ne.playerState]))},[cast.framework.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED]:async()=>{!Mt(this,R,O)||(await Promise.resolve(),so(this,J,X).call(this))}}))},J=new WeakSet,X=function(){so(this,fe,ue).call(this)},fe=new WeakSet,ue=async function(){var te,F,ne,ce,me,pe;if(!this.castPlayer)return;let Ie=((F=(te=Mt(this,T).mediaInfo)==null?void 0:te.tracks)!=null?F:[]).filter(({type:ve})=>ve===chrome.cast.media.TrackType.TEXT),xe=[...this.textTracks].filter(({kind:ve})=>ve==="subtitles"||ve==="captions"),Pe=Ie.map(({language:ve,name:ze,trackId:He})=>{var Ne;let{mode:Fe}=(Ne=xe.find(nt=>nt.language===ve&&nt.label===ze))!=null?Ne:{};return Fe?{mode:Fe,trackId:He}:!1}).filter(Boolean),we=Pe.filter(({mode:ve})=>ve!=="showing").map(({trackId:ve})=>ve),De=Pe.find(({mode:ve})=>ve==="showing"),de=(me=(ce=(ne=Mt(e,f,h))==null?void 0:ne.getSessionObj().media[0])==null?void 0:ce.activeTrackIds)!=null?me:[],be=de;if(de.length&&(be=be.filter(ve=>!we.includes(ve))),De!=null&&De.trackId&&(be=[...be,De.trackId]),be=[...new Set(be)],!((ve,ze)=>ve.length===ze.length&&ve.every(He=>ze.includes(He)))(de,be))try{let ve=new chrome.cast.media.EditTracksInfoRequest(be);await so(pe=e,v,y).call(pe,ve)}catch(ve){console.error(ve)}},cr(e,s),cr(e,a),cr(e,u),cr(e,f),cr(e,p),cr(e,v),cr(e,x),cr(e,_),U5(e,"observedAttributes",["cast-src","cast-content-type","cast-stream-type"]),U5(e,"instances",new Set),cr(e,n,void 0),cr(e,r,!1),U5(e,"initCast",()=>{var te;Mt(e,s,o)?Mt(e,a,l)?Mt(te=e,i).call(te,chrome.cast.isAvailable):customElements.whenDefined("google-cast-button").then(()=>{var F;return Mt(F=e,i).call(F,chrome.cast.isAvailable)}):globalThis.__onGCastApiAvailable=()=>{customElements.whenDefined("google-cast-button").then(()=>{var F;return Mt(F=e,i).call(F,chrome.cast.isAvailable)})}}),cr(e,i,te=>{if(te){fs(e,r,!0);let{CAST_STATE_CHANGED:F}=cast.framework.CastContextEventType;Mt(e,u,d).addEventListener(F,ce=>{e.instances.forEach(me=>{var pe;return so(pe=me,$,B).call(pe,ce)})});let{SESSION_STATE_CHANGED:ne}=cast.framework.CastContextEventType;Mt(e,u,d).addEventListener(ne,ce=>{e.instances.forEach(me=>{var pe;return so(pe=me,Q,V).call(pe,ce)})}),e.instances.forEach(ce=>{var me;return so(me=ce,Z,ie).call(me)})}}),e},QZ=globalThis.HTMLVideoElement?vOe(HTMLVideoElement):vOe(Object);globalThis.customElements&&!globalThis.customElements.get("castable-video")&&(customElements.define("castable-video",QZ,{extends:"video"}),globalThis.CastableVideoElement=QZ);QZ.initCast();var Uoe=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","waitingforkey","resize","enterpictureinpicture","leavepictureinpicture","webkitbeginfullscreen","webkitendfullscreen","webkitpresentationmodechanged"],yOe,JZ=(yOe=globalThis.document)==null?void 0:yOe.createElement("template");JZ&&(JZ.innerHTML=`
    <style>
      :host {
        display: inline-block;
        line-height: 0;
      }

      audio {
        max-width: 100%;
        max-height: 100%;
        min-width: 100%;
        min-height: 100%;
      }
    </style>
    <slot></slot>
  `);var bOe,eX=(bOe=globalThis.document)==null?void 0:bOe.createElement("template");eX&&(eX.innerHTML=`
    <style>
      :host {
        display: inline-block;
        line-height: 0;
      }

      video {
        max-width: 100%;
        max-height: 100%;
        min-width: 100%;
        min-height: 100%;
        object-fit: var(--media-object-fit, contain);
        object-position: var(--media-object-position, 50% 50%);
      }

      video::-webkit-media-text-track-container {
        transform: var(--media-webkit-text-track-transform);
        transition: var(--media-webkit-text-track-transition);
      }
    </style>
    <slot></slot>
  `);var Hoe=(t,{tag:e,is:n})=>{var r,i,s,o,a,l,u,d,f,h,p,g,v;let y=(r=globalThis.document)==null?void 0:r.createElement(e,{is:n}),x=y?Avr(y):[];return i=class extends t{constructor(){super(),cr(this,d),cr(this,h),cr(this,g),cr(this,l,void 0),cr(this,u,void 0),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.append(this.constructor.template.content.cloneNode(!0)))}static get observedAttributes(){var b,_,C;return so(b=i,o,a).call(b),[...(C=(_=y==null?void 0:y.constructor)==null?void 0:_.observedAttributes)!=null?C:[],"autopictureinpicture","disablepictureinpicture","disableremoteplayback","autoplay","controls","controlslist","crossorigin","loop","muted","playsinline","poster","preload","src"]}get nativeEl(){var b,_;return(_=(b=Mt(this,u))!=null?b:this.shadowRoot.querySelector(e))!=null?_:this.querySelector(e)}set nativeEl(b){fs(this,u,b)}get defaultMuted(){return this.hasAttribute("muted")}set defaultMuted(b){this.toggleAttribute("muted",!!b)}get src(){return this.getAttribute("src")}set src(b){this.setAttribute("src",`${b}`)}get preload(){var b,_;return(_=this.getAttribute("preload"))!=null?_:(b=this.nativeEl)==null?void 0:b.preload}set preload(b){this.setAttribute("preload",`${b}`)}attributeChangedCallback(b,_,C){so(this,d,f).call(this),so(this,g,v).call(this,b,_,C)}connectedCallback(){so(this,d,f).call(this)}},s=new WeakMap,o=new WeakSet,a=function(){if(Mt(this,s))return;fs(this,s,!0);let b=new Set(this.observedAttributes);b.delete("muted");for(let _ of x)if(!(_ in this.prototype))if(typeof y[_]=="function")this.prototype[_]=function(...C){return so(this,d,f).call(this),(()=>this.call?this.call(_,...C):this.nativeEl[_].apply(this.nativeEl,C))()};else{let C={get(){var S,T,A;so(this,d,f).call(this);let k=_.toLowerCase();if(b.has(k)){let I=this.getAttribute(k);return I===null?!1:I===""?!0:I}return(A=(S=this.get)==null?void 0:S.call(this,_))!=null?A:(T=this.nativeEl)==null?void 0:T[_]}};_!==_.toUpperCase()&&(C.set=function(S){so(this,d,f).call(this);let T=_.toLowerCase();if(b.has(T)){S===!0||S===!1||S==null?this.toggleAttribute(T,!!S):this.setAttribute(T,S);return}if(this.set){this.set(_,S);return}this.nativeEl[_]=S}),Object.defineProperty(this.prototype,_,C)}},l=new WeakMap,u=new WeakMap,d=new WeakSet,f=function(){var b,_;if(Mt(this,l))return;if(fs(this,l,!0),!this.nativeEl){let T=document.createElement(e,{is:n});T.part=e,this.shadowRoot.append(T)}this.nativeEl.muted=this.hasAttribute("muted");for(let T of x)so(this,h,p).call(this,T);let C=new Map,S=this.shadowRoot.querySelector("slot:not([name])");S==null||S.addEventListener("slotchange",()=>{let T=new Map(C);S.assignedElements().filter(A=>["track","source"].includes(A.localName)).forEach(A=>{var k,I;T.delete(A);let D=C.get(A);D||(D=A.cloneNode(),C.set(A,D)),(I=(k=this.nativeEl).append)==null||I.call(k,D)}),T.forEach(A=>A.remove())});for(let T of this.constructor.Events)(_=(b=this.shadowRoot).addEventListener)==null||_.call(b,T,A=>{A.target===this.nativeEl&&this.dispatchEvent(new CustomEvent(A.type,{detail:A.detail}))},!0)},h=new WeakSet,p=function(b){if(Object.prototype.hasOwnProperty.call(this,b)){let _=this[b];delete this[b],this[b]=_}},g=new WeakSet,v=function(b,_,C){var S,T,A,k;["id","class"].includes(b)||(C===null?(T=(S=this.nativeEl).removeAttribute)==null||T.call(S,b):(k=(A=this.nativeEl).setAttribute)==null||k.call(A,b,C))},cr(i,o),U5(i,"Events",Uoe),U5(i,"template",e.endsWith("audio")?JZ:eX),cr(i,s,void 0),i};function Avr(t){let e=[];for(let n=Object.getPrototypeOf(t);n&&n!==HTMLElement.prototype;n=Object.getPrototypeOf(n))e.push(...Object.getOwnPropertyNames(n));return e}globalThis.document&&Hoe(HTMLElement,{tag:"video"});globalThis.document&&Hoe(HTMLElement,{tag:"audio"});Uoe.push("castchange","entercast","leavecast");var oW=Hoe(UL.HTMLElement,{tag:"video",is:"castable-video"}),ct={BEACON_COLLECTION_DOMAIN:"beacon-collection-domain",CUSTOM_DOMAIN:"custom-domain",DEBUG:"debug",DISABLE_COOKIES:"disable-cookies",ENV_KEY:"env-key",MAX_RESOLUTION:"max-resolution",METADATA_URL:"metadata-url",PLAYBACK_ID:"playback-id",PLAYER_SOFTWARE_NAME:"player-software-name",PLAYER_SOFTWARE_VERSION:"player-software-version",PREFER_CMCD:"prefer-cmcd",PREFER_PLAYBACK:"prefer-playback",START_TIME:"start-time",STREAM_TYPE:"stream-type",TARGET_LIVE_WINDOW:"target-live-window",LIVE_EDGE_OFFSET:"live-edge-offset",TYPE:"type"},Ivr=Object.values(ct),Dvr=kvr(),Rvr="mux-video",bg,QT,HL,JT,zL,WL,GL,qL,tX,nX=class extends oW{constructor(){super(),cr(this,qL),cr(this,bg,void 0),cr(this,QT,void 0),cr(this,HL,void 0),cr(this,JT,{}),cr(this,zL,void 0),cr(this,WL,void 0),cr(this,GL,void 0),fs(this,HL,evr())}static get observedAttributes(){var e;return[...Ivr,...(e=oW.observedAttributes)!=null?e:[]]}get preferCmcd(){var e;return(e=this.getAttribute(ct.PREFER_CMCD))!=null?e:void 0}set preferCmcd(e){e!==this.preferCmcd&&(e?M8.includes(e)?this.setAttribute(ct.PREFER_CMCD,e):console.warn(`Invalid value for preferCmcd. Must be one of ${M8.join()}`):this.removeAttribute(ct.PREFER_CMCD))}get playerInitTime(){return Mt(this,HL)}get playerSoftwareName(){var e;return(e=Mt(this,WL))!=null?e:Rvr}set playerSoftwareName(e){fs(this,WL,e)}get playerSoftwareVersion(){var e;return(e=Mt(this,zL))!=null?e:Dvr}set playerSoftwareVersion(e){fs(this,zL,e)}get _hls(){var e;return(e=Mt(this,bg))==null?void 0:e.engine}get mux(){return this.nativeEl.mux}get error(){var e;return(e=ovr(this.nativeEl))!=null?e:null}get errorTranslator(){return Mt(this,GL)}set errorTranslator(e){fs(this,GL,e)}get src(){return this.getAttribute("src")}set src(e){e!==this.src&&(e==null?this.removeAttribute("src"):this.setAttribute("src",e))}get type(){var e;return(e=this.getAttribute(ct.TYPE))!=null?e:void 0}set type(e){e!==this.type&&(e?this.setAttribute(ct.TYPE,e):this.removeAttribute(ct.TYPE))}get autoplay(){let e=this.getAttribute("autoplay");return e===null?!1:e===""?!0:e}set autoplay(e){let n=this.autoplay;e!==n&&(e?this.setAttribute("autoplay",typeof e=="string"?e:""):this.removeAttribute("autoplay"))}get preload(){let e=this.getAttribute("preload");return e===""?"auto":["none","metadata","auto"].includes(e)?e:super.preload}set preload(e){e!=this.getAttribute("preload")&&(["","none","metadata","auto"].includes(e)?this.setAttribute("preload",e):this.removeAttribute("preload"))}get debug(){return this.getAttribute(ct.DEBUG)!=null}set debug(e){e!==this.debug&&(e?this.setAttribute(ct.DEBUG,""):this.removeAttribute(ct.DEBUG))}get disableCookies(){return this.hasAttribute(ct.DISABLE_COOKIES)}set disableCookies(e){e!==this.disableCookies&&(e?this.setAttribute(ct.DISABLE_COOKIES,""):this.removeAttribute(ct.DISABLE_COOKIES))}get startTime(){let e=this.getAttribute(ct.START_TIME);if(e==null)return;let n=+e;return Number.isNaN(n)?void 0:n}set startTime(e){e!==this.startTime&&(e==null?this.removeAttribute(ct.START_TIME):this.setAttribute(ct.START_TIME,`${e}`))}get playbackId(){var e;return(e=this.getAttribute(ct.PLAYBACK_ID))!=null?e:void 0}set playbackId(e){e!==this.playbackId&&(e?this.setAttribute(ct.PLAYBACK_ID,e):this.removeAttribute(ct.PLAYBACK_ID))}get maxResolution(){var e;return(e=this.getAttribute(ct.MAX_RESOLUTION))!=null?e:void 0}set maxResolution(e){e!==this.maxResolution&&(e?this.setAttribute(ct.MAX_RESOLUTION,e):this.removeAttribute(ct.MAX_RESOLUTION))}get customDomain(){var e;return(e=this.getAttribute(ct.CUSTOM_DOMAIN))!=null?e:void 0}set customDomain(e){e!==this.customDomain&&(e?this.setAttribute(ct.CUSTOM_DOMAIN,e):this.removeAttribute(ct.CUSTOM_DOMAIN))}get ended(){return lit(this.nativeEl,this._hls)}get envKey(){var e;return(e=this.getAttribute(ct.ENV_KEY))!=null?e:void 0}set envKey(e){e!==this.envKey&&(e?this.setAttribute(ct.ENV_KEY,e):this.removeAttribute(ct.ENV_KEY))}get beaconCollectionDomain(){var e;return(e=this.getAttribute(ct.BEACON_COLLECTION_DOMAIN))!=null?e:void 0}set beaconCollectionDomain(e){e!==this.beaconCollectionDomain&&(e?this.setAttribute(ct.BEACON_COLLECTION_DOMAIN,e):this.removeAttribute(ct.BEACON_COLLECTION_DOMAIN))}get streamType(){var e;return(e=this.getAttribute(ct.STREAM_TYPE))!=null?e:avr(this.nativeEl)}set streamType(e){e!==this.streamType&&(e?this.setAttribute(ct.STREAM_TYPE,e):this.removeAttribute(ct.STREAM_TYPE))}get targetLiveWindow(){return this.hasAttribute(ct.TARGET_LIVE_WINDOW)?+this.getAttribute(ct.TARGET_LIVE_WINDOW):lvr(this.nativeEl)}set targetLiveWindow(e){e!=this.targetLiveWindow&&(e==null?this.removeAttribute(ct.TARGET_LIVE_WINDOW):this.setAttribute(ct.TARGET_LIVE_WINDOW,`${+e}`))}get liveEdgeStart(){var e,n;if(this.hasAttribute(ct.LIVE_EDGE_OFFSET)){let{liveEdgeOffset:r}=this,i=(e=this.nativeEl.seekable.end(0))!=null?e:0,s=(n=this.nativeEl.seekable.start(0))!=null?n:0;return Math.max(s,i-r)}return uvr(this.nativeEl)}get liveEdgeOffset(){if(this.hasAttribute(ct.LIVE_EDGE_OFFSET))return+this.getAttribute(ct.LIVE_EDGE_OFFSET)}set liveEdgeOffset(e){e!=this.targetLiveWindow&&(e==null?this.removeAttribute(ct.LIVE_EDGE_OFFSET):this.setAttribute(ct.LIVE_EDGE_OFFSET,`${+e}`))}get seekable(){return oit(this.nativeEl)}async addCuePoints(e){return tit(this.nativeEl,e)}get activeCuePoint(){return rit(this.nativeEl)}get cuePoints(){return U1r(this.nativeEl)}getStartDate(){return z1r(this.nativeEl,this._hls)}get currentPdt(){return W1r(this.nativeEl,this._hls)}get preferPlayback(){let e=this.getAttribute(ct.PREFER_PLAYBACK);if(e===em.MSE||e===em.NATIVE)return e}set preferPlayback(e){e!==this.preferPlayback&&(e===em.MSE||e===em.NATIVE?this.setAttribute(ct.PREFER_PLAYBACK,e):this.removeAttribute(ct.PREFER_PLAYBACK))}get metadata(){return{...this.getAttributeNames().filter(e=>e.startsWith("metadata-")&&![ct.METADATA_URL].includes(e)).reduce((e,n)=>{let r=this.getAttribute(n);return r!=null&&(e[n.replace(/^metadata-/,"").replace(/-/g,"_")]=r),e},{}),...Mt(this,JT)}}set metadata(e){fs(this,JT,e??{}),this.mux&&this.mux.emit("hb",Mt(this,JT))}load(){fs(this,bg,fvr(this,this.nativeEl,Mt(this,bg)))}unload(){uit(this.nativeEl,Mt(this,bg)),fs(this,bg,void 0)}attributeChangedCallback(e,n,r){var i,s;switch(oW.observedAttributes.includes(e)&&!["src","autoplay","preload"].includes(e)&&super.attributeChangedCallback(e,n,r),e){case ct.PLAYER_SOFTWARE_NAME:this.playerSoftwareName=r??void 0;break;case ct.PLAYER_SOFTWARE_VERSION:this.playerSoftwareVersion=r??void 0;break;case"src":{let o=!!n,a=!!r;!o&&a?so(this,qL,tX).call(this):o&&!a?this.unload():o&&a&&(this.unload(),so(this,qL,tX).call(this));break}case"autoplay":if(r===n)break;(i=Mt(this,bg))==null||i.setAutoplay(this.autoplay);break;case"preload":if(r===n)break;(s=Mt(this,bg))==null||s.setPreload(r);break;case ct.PLAYBACK_ID:this.src=nvr(r??void 0,{maxResolution:this.maxResolution,domain:this.customDomain});break;case ct.DEBUG:{let o=this.debug;this.mux&&console.info("Cannot toggle debug mode of mux data after initialization. Make sure you set all metadata to override before setting the src."),this._hls&&(this._hls.config.debug=o);break}case ct.METADATA_URL:r&&fetch(r).then(o=>o.json()).then(o=>this.metadata=o).catch(()=>console.error(`Unable to load or parse metadata JSON from metadata-url ${r}!`));break;case ct.STREAM_TYPE:(r==null||r!==n)&&this.dispatchEvent(new CustomEvent("streamtypechange",{composed:!0,bubbles:!0}));break;case ct.TARGET_LIVE_WINDOW:(r==null||r!==n)&&this.dispatchEvent(new CustomEvent("targetlivewindowchange",{composed:!0,bubbles:!0,detail:this.targetLiveWindow}));break}}disconnectedCallback(){this.unload()}};bg=new WeakMap,QT=new WeakMap,HL=new WeakMap,JT=new WeakMap,zL=new WeakMap,WL=new WeakMap,GL=new WeakMap,qL=new WeakSet,tX=async function(){Mt(this,QT)||(await fs(this,QT,Promise.resolve()),fs(this,QT,null),this.load())};UL.customElements.get("mux-video")||(UL.customElements.define("mux-video",nX),UL.MuxVideoElement=nX);var jvr=nX,Ovr=Object.defineProperty,Lvr=(t,e,n)=>e in t?Ovr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pvr=(t,e,n)=>(Lvr(t,typeof e!="symbol"?e+"":e,n),n),pit=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},hr=(t,e,n)=>(pit(t,e,"read from private field"),n?n.call(t):e.get(t)),qp=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Vg=(t,e,n,r)=>(pit(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),i5,YL,Pb,ek,w1,_1,C1,Mb,s5,KL,sh;const xOe=1,wOe=0,Mvr=1,$vr={processCallback(t,e,n){if(n){for(const[r,i]of e)if(r in n){const s=n[r];typeof s=="boolean"&&i instanceof Oh&&typeof i.element[i.attributeName]=="boolean"?i.booleanValue=s:typeof s=="function"&&i instanceof Oh?i.element[i.attributeName]=s:i.value=s}}}};class WF extends Qe.DocumentFragment{constructor(e,n,r=$vr){var i;super(),qp(this,i5,void 0),qp(this,YL,void 0),this.append(e.content.cloneNode(!0)),Vg(this,i5,mit(this)),Vg(this,YL,r),(i=r.createCallback)==null||i.call(r,this,hr(this,i5),n),r.processCallback(this,hr(this,i5),n)}update(e){hr(this,YL).processCallback(this,hr(this,i5),e)}}i5=new WeakMap;YL=new WeakMap;const mit=(t,e=[])=>{let n,r;for(let i of t.attributes||[])if(i.value.includes("{{")){const s=new Bvr;for([n,r]of COe(i.value))if(!n)s.append(r);else{const o=new Oh(t,i.name,i.namespaceURI);s.append(o),e.push([r,o])}i.value=s.toString()}for(let i of t.childNodes)if(i.nodeType===xOe&&!(i instanceof HTMLTemplateElement))mit(i,e);else if(i.nodeType===xOe||i.data.includes("{{")){const s=[];if(i.data)for([n,r]of COe(i.data))if(!n)s.push(new Text(r));else{const o=new RE(t);s.push(o),e.push([r,o])}else if(i instanceof HTMLTemplateElement){const o=new yit(t,i);s.push(o),e.push([o.expression,o])}i.replaceWith(...s.flatMap(o=>o.replacementNodes||[o]))}return e},_Oe={},COe=t=>{let e="",n=0,r=_Oe[t],i=0,s;if(r)return r;for(r=[];s=t[i];i++)s==="{"&&t[i+1]==="{"&&t[i-1]!=="\\"&&t[i+2]&&++n==1?(e&&r.push([wOe,e]),e="",i++):s==="}"&&t[i+1]==="}"&&t[i-1]!=="\\"&&!--n?(r.push([Mvr,e.trim()]),e="",i++):e+=s||"";return e&&r.push([wOe,(n>0?"{{":"")+e]),_Oe[t]=r},Fvr=11;class git{get value(){return""}set value(e){}toString(){return this.value}}const vit=new WeakMap;class Bvr{constructor(){qp(this,Pb,[])}[Symbol.iterator](){return hr(this,Pb).values()}get length(){return hr(this,Pb).length}item(e){return hr(this,Pb)[e]}append(...e){for(const n of e)n instanceof Oh&&vit.set(n,this),hr(this,Pb).push(n)}toString(){return hr(this,Pb).join("")}}Pb=new WeakMap;class Oh extends git{constructor(e,n,r){super(),qp(this,Mb),qp(this,ek,""),qp(this,w1,void 0),qp(this,_1,void 0),qp(this,C1,void 0),Vg(this,w1,e),Vg(this,_1,n),Vg(this,C1,r)}get attributeName(){return hr(this,_1)}get attributeNamespace(){return hr(this,C1)}get element(){return hr(this,w1)}get value(){return hr(this,ek)}set value(e){hr(this,ek)!==e&&(Vg(this,ek,e),!hr(this,Mb,s5)||hr(this,Mb,s5).length===1?e==null?hr(this,w1).removeAttributeNS(hr(this,C1),hr(this,_1)):hr(this,w1).setAttributeNS(hr(this,C1),hr(this,_1),e):hr(this,w1).setAttributeNS(hr(this,C1),hr(this,_1),hr(this,Mb,s5)))}get booleanValue(){return hr(this,w1).hasAttributeNS(hr(this,C1),hr(this,_1))}set booleanValue(e){if(!hr(this,Mb,s5)||hr(this,Mb,s5).length===1)this.value=e?"":null;else throw new DOMException("Value is not fully templatized")}}ek=new WeakMap;w1=new WeakMap;_1=new WeakMap;C1=new WeakMap;Mb=new WeakSet;s5=function(){return vit.get(this)};class RE extends git{constructor(e,n){super(),qp(this,KL,void 0),qp(this,sh,void 0),Vg(this,KL,e),Vg(this,sh,n?[...n]:[new Text])}get replacementNodes(){return hr(this,sh)}get parentNode(){return hr(this,KL)}get nextSibling(){return hr(this,sh)[hr(this,sh).length-1].nextSibling}get previousSibling(){return hr(this,sh)[0].previousSibling}get value(){return hr(this,sh).map(e=>e.textContent).join("")}set value(e){this.replace(e)}replace(...e){const n=e.flat().flatMap(r=>r==null?[new Text]:r.forEach?[...r]:r.nodeType===Fvr?[...r.childNodes]:r.nodeType?[r]:[new Text(r)]);n.length||n.push(new Text),Vg(this,sh,Nvr(hr(this,sh)[0].parentNode,hr(this,sh),n,this.nextSibling))}}KL=new WeakMap;sh=new WeakMap;class yit extends RE{constructor(e,n){let r=n.getAttribute("directive")||n.getAttribute("type"),i=n.getAttribute("expression")||n.getAttribute(r)||"";i.startsWith("{{")&&(i=i.trim().slice(2,-2).trim()),super(e),Pvr(this,"directive"),this.expression=i,this.template=n,this.directive=r}}function Nvr(t,e,n,r=null){let i=0,s,o,a,l=n.length,u=e.length;for(;i<l&&i<u&&e[i]==n[i];)i++;for(;i<l&&i<u&&n[l-1]==e[u-1];)r=n[--u,--l];if(i==u)for(;i<l;)t.insertBefore(n[i++],r);if(i==l)for(;i<u;)t.removeChild(e[i++]);else{for(s=e[i];i<l;)a=n[i++],o=s?s.nextSibling:r,s==a?s=o:i<l&&n[i]==o?(t.replaceChild(a,s),s=o):t.insertBefore(a,s);for(;s!=r;)o=s.nextSibling,t.removeChild(s),s=o}return n}const EOe={string:t=>String(t)};class bit{constructor(e){this.template=e,this.state=void 0}}const ux=new WeakMap,cx=new WeakMap,rX={partial:(t,e)=>{e[t.expression]=new bit(t.template)},if:(t,e)=>{var n;if(xit(t.expression,e))if(ux.get(t)!==t.template){ux.set(t,t.template);const r=new WF(t.template,e,zoe);t.replace(r),cx.set(t,r)}else(n=cx.get(t))==null||n.update(e);else t.replace(""),ux.delete(t),cx.delete(t)}},Vvr=Object.keys(rX),zoe={processCallback(t,e,n){var r,i;if(n)for(const[s,o]of e){if(o instanceof yit){if(!o.directive){const l=Vvr.find(u=>o.template.hasAttribute(u));l&&(o.directive=l,o.expression=o.template.getAttribute(l))}(r=rX[o.directive])==null||r.call(rX,o,n);continue}let a=xit(s,n);if(a instanceof bit){ux.get(o)!==a.template?(ux.set(o,a.template),a=new WF(a.template,a.state,zoe),o.value=a,cx.set(o,a)):(i=cx.get(o))==null||i.update(a.state);continue}a?(o instanceof Oh&&o.attributeName.startsWith("aria-")&&(a=String(a)),o instanceof Oh?typeof a=="boolean"?o.booleanValue=a:typeof a=="function"?o.element[o.attributeName]=a:o.value=a:(o.value=a,ux.delete(o),cx.delete(o))):o instanceof Oh?o.value=void 0:(o.value=void 0,ux.delete(o),cx.delete(o))}}},SOe={"!":t=>!t,"!!":t=>!!t,"==":(t,e)=>t==e,"!=":(t,e)=>t!=e,">":(t,e)=>t>e,">=":(t,e)=>t>=e,"<":(t,e)=>t<e,"<=":(t,e)=>t<=e,"??":(t,e)=>t??e,"|":(t,e)=>{var n;return(n=EOe[e])==null?void 0:n.call(EOe,t)}};function Uvr(t){return Hvr(t,{boolean:/true|false/,number:/-?\d+\.?\d*/,string:/(["'])((?:\\.|[^\\])*?)\1/,operator:/[!=><][=!]?|\?\?|\|/,ws:/\s+/,param:/[$a-z_][$\w]*/i}).filter(({type:e})=>e!=="ws")}function xit(t,e={}){var n,r,i,s,o,a,l;const u=Uvr(t);if(u.length===0||u.some(({type:d})=>!d))return dT(t);if(((n=u[0])==null?void 0:n.token)===">"){const d=e[(r=u[1])==null?void 0:r.token];if(!d)return dT(t);const f={...e};d.state=f;const h=u.slice(2);for(let p=0;p<h.length;p+=3){const g=(i=h[p])==null?void 0:i.token,v=(s=h[p+1])==null?void 0:s.token,y=(o=h[p+2])==null?void 0:o.token;g&&v==="="&&(f[g]=fT(y,e))}return d}if(u.length===1)return Nj(u[0])?fT(u[0].token,e):dT(t);if(u.length===2){const d=(a=u[0])==null?void 0:a.token,f=SOe[d];if(!f||!Nj(u[1]))return dT(t);const h=fT(u[1].token,e);return f(h)}if(u.length===3){const d=(l=u[1])==null?void 0:l.token,f=SOe[d];if(!f||!Nj(u[0])||!Nj(u[2]))return dT(t);const h=fT(u[0].token,e);if(d==="|")return f(h,u[2].token);const p=fT(u[2].token,e);return f(h,p)}}function dT(t){return console.warn(`Warning: invalid expression \`${t}\``),!1}function Nj({type:t}){return["number","boolean","string","param"].includes(t)}function fT(t,e){const n=t[0],r=t.slice(-1);return t==="true"||t==="false"?t==="true":n===r&&["'",'"'].includes(n)?t.slice(1,-1):Wtt(t)?parseFloat(t):e[t]}function Hvr(t,e){let n,r,i,s=[];for(;t;){i=null,n=t.length;for(let o in e)r=e[o].exec(t),r&&r.index<n&&(i={token:r[0],type:o,matches:r.slice(1)},n=r.index);n&&s.push({token:t.substr(0,n),type:void 0}),i&&s.push(i),t=t.substr(n+(i?i.token.length:0))}return s}var zvr=Object.defineProperty,Wvr=(t,e,n)=>e in t?zvr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O3=(t,e,n)=>(Wvr(t,typeof e!="symbol"?e+"":e,n),n),Woe=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},iX=(t,e,n)=>(Woe(t,e,"read from private field"),n?n.call(t):e.get(t)),hT=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},dx=(t,e,n,r)=>(Woe(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),aW=(t,e,n)=>(Woe(t,e,"access private method"),n),A_,ZL,I_,sX,wit,XL,oX;const lW={mediatargetlivewindow:"targetlivewindow",mediastreamtype:"streamtype"},_it=yn.createElement("template");_it.innerHTML=`
  <style>
    :host {
      display: inline-block;
      line-height: 0;
    }

    media-controller {
      width: 100%;
      height: 100%;
    }

    media-controller:not([mediasubtitleslist]) media-captions-selectmenu,
    media-captions-button:not([mediasubtitleslist]),
    media-rendition-selectmenu[mediarenditionunavailable],
    media-audio-track-selectmenu[mediaaudiotrackunavailable],
    media-volume-range[mediavolumeunavailable],
    media-airplay-button[mediaairplayunavailable],
    media-fullscreen-button[mediafullscreenunavailable],
    media-cast-button[mediacastunavailable],
    media-pip-button[mediapipunavailable] {
      display: none;
    }
  </style>
`;class GF extends Qe.HTMLElement{constructor(){super(),hT(this,sX),hT(this,XL),O3(this,"renderRoot"),O3(this,"renderer"),hT(this,A_,void 0),hT(this,ZL,void 0),hT(this,I_,void 0),this.shadowRoot?this.renderRoot=this.shadowRoot:(this.renderRoot=this.attachShadow({mode:"open"}),this.createRenderer());const e=new MutationObserver(n=>{var r;(r=this.mediaController)!=null&&r.breakpointsUncomputed||n.some(i=>{const s=i.target;return s===this?!0:s.localName!=="media-controller"?!1:!!(lW[i.attributeName]||i.attributeName.startsWith("breakpoint"))})&&this.render()});e.observe(this,{attributes:!0}),e.observe(this.renderRoot,{attributes:!0,subtree:!0}),aW(this,sX,wit).call(this,"template")}get mediaController(){return this.renderRoot.querySelector("media-controller")}get template(){var e;return(e=iX(this,A_))!=null?e:this.constructor.template}set template(e){dx(this,I_,null),dx(this,A_,e),this.createRenderer()}get props(){var e,n,r;const i=[...Array.from((n=(e=this.mediaController)==null?void 0:e.attributes)!=null?n:[]).filter(({name:o})=>lW[o]||o.startsWith("breakpoint")),...Array.from(this.attributes)],s={};for(let o of i){const a=(r=lW[o.name])!=null?r:ohr(o.name);let{value:l}=o;l!=null?(Wtt(l)&&(l=parseFloat(l)),s[a]=l===""?!0:l):s[a]=!1}return s}attributeChangedCallback(e,n,r){e==="template"&&n!=r&&aW(this,XL,oX).call(this)}connectedCallback(){aW(this,XL,oX).call(this)}createRenderer(){this.template&&this.template!==iX(this,ZL)&&(dx(this,ZL,this.template),this.renderer=new WF(this.template,this.props,this.constructor.processor),this.renderRoot.textContent="",this.renderRoot.append(_it.content.cloneNode(!0),this.renderer))}render(){var e;(e=this.renderer)==null||e.update(this.props)}}A_=new WeakMap;ZL=new WeakMap;I_=new WeakMap;sX=new WeakSet;wit=function(t){if(Object.prototype.hasOwnProperty.call(this,t)){const e=this[t];delete this[t],this[t]=e}};XL=new WeakSet;oX=function(){var t;const e=this.getAttribute("template");if(!e||e===iX(this,I_))return;const n=this.getRootNode(),r=(t=n==null?void 0:n.getElementById)==null?void 0:t.call(n,e);if(r){dx(this,I_,e),dx(this,A_,r),this.createRenderer();return}Gvr(e)&&(dx(this,I_,e),qvr(e).then(i=>{const s=yn.createElement("template");s.innerHTML=i,dx(this,A_,s),this.createRenderer()}).catch(console.error))};O3(GF,"template");O3(GF,"observedAttributes",["template"]);O3(GF,"processor",zoe);function Gvr(t){if(!/^(\/|\.\/|https?:\/\/)/.test(t))return!1;const e=/^https?:\/\//.test(t)?void 0:location.origin;try{new URL(t,e)}catch{return!1}return!0}async function qvr(t){const e=await fetch(t);if(e.status!==200)throw new Error(`Failed to load resource: the server responded with a status of ${e.status}`);return e.text()}Qe.customElements.get("media-theme")||Qe.customElements.define("media-theme",GF);var Goe=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},ji=(t,e,n)=>(Goe(t,e,"read from private field"),n?n.call(t):e.get(t)),vl=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Zg=(t,e,n,r)=>(Goe(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),wl=(t,e,n)=>(Goe(t,e,"access private method"),n),qF=class{addEventListener(){}removeEventListener(){}dispatchEvent(e){return!0}};if(typeof DocumentFragment>"u"){class t extends qF{}globalThis.DocumentFragment=t}var qoe=class extends qF{},Yvr=class extends qF{},Kvr={get(t){},define(t,e,n){},upgrade(t){},whenDefined(t){return Promise.resolve(qoe)}},QL,Zvr=class{constructor(e,n={}){vl(this,QL,void 0),Zg(this,QL,n==null?void 0:n.detail)}get detail(){return ji(this,QL)}initCustomEvent(){}};QL=new WeakMap;function Xvr(t,e){return new qoe}var Cit={document:{createElement:Xvr},DocumentFragment,customElements:Kvr,CustomEvent:Zvr,EventTarget:qF,HTMLElement:qoe,HTMLVideoElement:Yvr},Eit=typeof window>"u"||typeof globalThis.customElements>"u",Vu=Eit?Cit:globalThis,Av=Eit?Cit.document:globalThis.document,Qvr="en",L3={code:Qvr},Sit="en";function Hr(t,e=!0){var n,r;let i=e&&(r=(n=L3)==null?void 0:n[t])!=null?r:t,s=e?L3.code:Sit;return new Jvr(i,s)}var Jvr=class{constructor(e,n=(r=>(r=L3.code)!=null?r:Sit)()){this.message=e,this.locale=n}format(e){return this.message.replace(/\{(\w+)\}/g,(n,r)=>{var i;return(i=e[r])!=null?i:""})}toString(){return this.message}};function eyr(t){let e="";return Object.entries(t).forEach(([n,r])=>{r!=null&&(e+=`${aX(n)}: ${r}; `)}),e?e.trim():void 0}function aX(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Tit(t){return t.replace(/[-_]([a-z])/g,(e,n)=>n.toUpperCase())}function fx(t){if(t==null)return;let e=+t;return Number.isNaN(e)?void 0:e}function Yoe(t){let e=tyr(t).toString();return e?"?"+e:""}function tyr(t){let e={};for(let n in t)t[n]!=null&&(e[n]=t[n]);return new URLSearchParams(e)}function P3(t){let e=(t??"").split(".")[1];if(!e)return{};let n=e.replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(n).split("").map(function(i){return"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(r)}var kit=(t,e)=>!t||!e?!1:t.contains(e)?!0:kit(t,e.getRootNode().host),Koe="mux.com",nyr=()=>{try{return"1.11.4"}catch{}return"UNKNOWN"},ryr=nyr(),Ait=()=>ryr,TOe=(t,{maxResolution:e,token:n,domain:r=Koe}={})=>{let i=n?{token:n}:{redundant_streams:!0,...e?{max_resolution:e}:{}};return`https://stream.${r}/${t}.m3u8${Yoe(i)}`},iyr=(t,{token:e,thumbnailTime:n,domain:r=Koe}={})=>{let i=e==null?n:void 0,{aud:s}=P3(e);if(!(e&&s!=="t"))return`https://image.${r}/${t}/thumbnail.webp${Yoe({token:e,time:i})}`},syr=(t,{token:e,domain:n=Koe}={})=>{let{aud:r}=P3(e);if(!(e&&r!=="s"))return`https://image.${n}/${t}/storyboard.vtt${Yoe({token:e,format:"webp"})}`},Zoe=t=>{if(t){if([Ao.LIVE,Ao.ON_DEMAND].includes(t))return t;if(t!=null&&t.includes("live"))return Ao.LIVE}},oyr={crossorigin:"crossOrigin",playsinline:"playsInline"};function ayr(t){var e;return(e=oyr[t])!=null?e:Tit(t)}var o5,a5,yc,lyr=class{constructor(e,n){vl(this,o5,void 0),vl(this,a5,void 0),vl(this,yc,[]),Zg(this,o5,e),Zg(this,a5,n)}[Symbol.iterator](){return ji(this,yc).values()}get length(){return ji(this,yc).length}get value(){var e;return(e=ji(this,yc).join(" "))!=null?e:""}set value(e){var n;e!==this.value&&(Zg(this,yc,[]),this.add(...(n=e==null?void 0:e.split(" "))!=null?n:[]))}toString(){return this.value}item(e){return ji(this,yc)[e]}values(){return ji(this,yc).values()}keys(){return ji(this,yc).keys()}forEach(e){ji(this,yc).forEach(e)}add(...e){var n,r;e.forEach(i=>{this.contains(i)||ji(this,yc).push(i)}),!(this.value===""&&!((n=ji(this,o5))!=null&&n.hasAttribute(`${ji(this,a5)}`)))&&((r=ji(this,o5))==null||r.setAttribute(`${ji(this,a5)}`,`${this.value}`))}remove(...e){var n;e.forEach(r=>{ji(this,yc).splice(ji(this,yc).indexOf(r),1)}),(n=ji(this,o5))==null||n.setAttribute(`${ji(this,a5)}`,`${this.value}`)}contains(e){return ji(this,yc).includes(e)}toggle(e,n){return typeof n<"u"?n?(this.add(e),!0):(this.remove(e),!1):this.contains(e)?(this.remove(e),!1):(this.add(e),!0)}replace(e,n){this.remove(e),this.add(n)}};o5=new WeakMap,a5=new WeakMap,yc=new WeakMap;var Iit=`[mux-player ${Ait()}]`;function hx(...t){console.warn(Iit,...t)}function Rg(...t){console.error(Iit,...t)}function Dit(t){var e;let n=(e=t.message)!=null?e:"";if(t.context&&(n+=` ${t.context}`),t.file){let r="https://github.com/muxinc/elements/blob/main/errors/";n+=` ${Hr("Read more: ")}
${r}${t.file}`}hx(n)}var Jl={AUTOPLAY:"autoplay",CROSSORIGIN:"crossorigin",LOOP:"loop",MUTED:"muted",PLAYSINLINE:"playsinline",PRELOAD:"preload"},$b={VOLUME:"volume",PLAYBACKRATE:"playbackrate",MUTED:"muted"},kOe=Object.freeze({length:0,start(t){let e=t>>>0;if(e>=this.length)throw new DOMException(`Failed to execute 'start' on 'TimeRanges': The index provided (${e}) is greater than or equal to the maximum bound (${this.length}).`);return 0},end(t){let e=t>>>0;if(e>=this.length)throw new DOMException(`Failed to execute 'end' on 'TimeRanges': The index provided (${e}) is greater than or equal to the maximum bound (${this.length}).`);return 0}}),uyr=Uoe.filter(t=>t!=="error"),cyr=Object.values(Jl).filter(t=>![Jl.PLAYSINLINE].includes(t)),dyr=Object.values($b);function fyr(t){t.querySelectorAll(":scope > track").forEach(e=>{var n;(n=t.media)==null||n.append(e.cloneNode())}),uyr.forEach(e=>{var n;(n=t.media)==null||n.addEventListener(e,r=>{t.dispatchEvent(new Event(r.type))})})}var hyr=class extends Vu.HTMLElement{static get observedAttributes(){return[...cyr,...dyr]}constructor(){super(),this.querySelectorAll(":scope > track").forEach(e=>{var n;(n=this.media)==null||n.append(e.cloneNode())});let t=e=>{for(let n of e)n.type==="childList"&&(n.removedNodes.forEach(r=>{var i,s;let o=(i=this.media)==null?void 0:i.querySelector(`track[src="${r.src}"]`);o&&((s=this.media)==null||s.removeChild(o))}),n.addedNodes.forEach(r=>{var i;(i=this.media)==null||i.append(r.cloneNode())}))};new MutationObserver(t).observe(this,{childList:!0,subtree:!0})}attributeChangedCallback(t,e,n){var r,i;switch(t){case $b.MUTED:{this.media&&(this.media.muted=n!=null,this.media.defaultMuted=n!=null);return}case $b.VOLUME:{let s=(r=fx(n))!=null?r:1;this.media&&(this.media.volume=s);return}case $b.PLAYBACKRATE:{let s=(i=fx(n))!=null?i:1;this.media&&(this.media.playbackRate=s,this.media.defaultPlaybackRate=s);return}}}play(){var t,e;return(e=(t=this.media)==null?void 0:t.play())!=null?e:Promise.reject()}pause(){var t;(t=this.media)==null||t.pause()}requestCast(t){var e;return(e=this.media)==null?void 0:e.requestCast(t)}get media(){var t;return(t=this.shadowRoot)==null?void 0:t.querySelector("mux-video")}get paused(){var t,e;return(e=(t=this.media)==null?void 0:t.paused)!=null?e:!0}get duration(){var t,e;return(e=(t=this.media)==null?void 0:t.duration)!=null?e:NaN}get ended(){var t,e;return(e=(t=this.media)==null?void 0:t.ended)!=null?e:!1}get buffered(){var t,e;return(e=(t=this.media)==null?void 0:t.buffered)!=null?e:kOe}get seekable(){var t,e;return(e=(t=this.media)==null?void 0:t.seekable)!=null?e:kOe}get readyState(){var t,e;return(e=(t=this.media)==null?void 0:t.readyState)!=null?e:0}get videoWidth(){var t,e;return(e=(t=this.media)==null?void 0:t.videoWidth)!=null?e:0}get videoHeight(){var t,e;return(e=(t=this.media)==null?void 0:t.videoHeight)!=null?e:0}get currentTime(){var t,e;return(e=(t=this.media)==null?void 0:t.currentTime)!=null?e:0}set currentTime(t){this.media&&(this.media.currentTime=Number(t))}get volume(){var t,e;return(e=(t=this.media)==null?void 0:t.volume)!=null?e:1}set volume(t){this.media&&(this.media.volume=Number(t))}get playbackRate(){var t,e;return(e=(t=this.media)==null?void 0:t.playbackRate)!=null?e:1}set playbackRate(t){this.media&&(this.media.playbackRate=Number(t))}get defaultPlaybackRate(){var t;return(t=fx(this.getAttribute($b.PLAYBACKRATE)))!=null?t:1}set defaultPlaybackRate(t){t!=null?this.setAttribute($b.PLAYBACKRATE,`${t}`):this.removeAttribute($b.PLAYBACKRATE)}get crossOrigin(){return pT(this,Jl.CROSSORIGIN)}set crossOrigin(t){this.setAttribute(Jl.CROSSORIGIN,`${t}`)}get autoplay(){return pT(this,Jl.AUTOPLAY)!=null}set autoplay(t){t?this.setAttribute(Jl.AUTOPLAY,typeof t=="string"?t:""):this.removeAttribute(Jl.AUTOPLAY)}get loop(){return pT(this,Jl.LOOP)!=null}set loop(t){t?this.setAttribute(Jl.LOOP,""):this.removeAttribute(Jl.LOOP)}get muted(){var t,e;return(e=(t=this.media)==null?void 0:t.muted)!=null?e:!1}set muted(t){this.media&&(this.media.muted=!!t)}get defaultMuted(){return pT(this,Jl.MUTED)!=null}set defaultMuted(t){t?this.setAttribute(Jl.MUTED,""):this.removeAttribute(Jl.MUTED)}get playsInline(){return pT(this,Jl.PLAYSINLINE)!=null}set playsInline(t){Rg("playsInline is set to true by default and is not currently supported as a setter.")}get preload(){return this.media?this.media.preload:this.getAttribute("preload")}set preload(t){["","none","metadata","auto"].includes(t)?this.setAttribute(Jl.PRELOAD,t):this.removeAttribute(Jl.PRELOAD)}};function pT(t,e){return t.media?t.media.getAttribute(e):t.getAttribute(e)}var AOe=hyr,pyr=`:host {
  --media-control-display: var(--controls);
  --media-loading-indicator-display: var(--loading-indicator);
  --media-dialog-display: var(--dialog);
  --media-play-button-display: var(--play-button);
  --media-live-button-display: var(--live-button);
  --media-seek-backward-button-display: var(--seek-backward-button);
  --media-seek-forward-button-display: var(--seek-forward-button);
  --media-mute-button-display: var(--mute-button);
  --media-captions-button-display: var(--captions-button);
  --media-captions-selectmenu-display: var(--captions-selectmenu, var(--media-captions-button-display));
  --media-airplay-button-display: var(--airplay-button);
  --media-pip-button-display: var(--pip-button);
  --media-fullscreen-button-display: var(--fullscreen-button);
  --media-cast-button-display: var(--cast-button);
  --media-playback-rate-button-display: var(--playback-rate-button);
  --media-volume-range-display: var(--volume-range);
  --media-time-range-display: var(--time-range);
  --media-time-display-display: var(--time-display);
  --media-duration-display-display: var(--duration-display);
  --media-title-display-display: var(--title-display);

  display: inline-block;
  width: 100%;
}

/* Hide custom elements that are not defined yet */
:not(:defined) {
  display: none;
}

a {
  color: #fff;
  font-size: 0.9em;
  text-decoration: underline;
}

media-theme {
  width: 100%;
  height: 100%;
  direction: ltr;
}

::part(top),
[part~='top'] {
  --media-control-display: var(--controls, var(--top-controls));
  --media-play-button-display: var(--play-button, var(--top-play-button));
  --media-live-button-display: var(--live-button, var(--top-live-button));
  --media-seek-backward-button-display: var(--seek-backward-button, var(--top-seek-backward-button));
  --media-seek-forward-button-display: var(--seek-forward-button, var(--top-seek-forward-button));
  --media-mute-button-display: var(--mute-button, var(--top-mute-button));
  --media-captions-button-display: var(--captions-button, var(--top-captions-button));
  --media-captions-selectmenu-display: var(
    --captions-selectmenu,
    var(--media-captions-button-display, var(--top-captions-selectmenu))
  );
  --media-airplay-button-display: var(--airplay-button, var(--top-airplay-button));
  --media-pip-button-display: var(--pip-button, var(--top-pip-button));
  --media-fullscreen-button-display: var(--fullscreen-button, var(--top-fullscreen-button));
  --media-cast-button-display: var(--cast-button, var(--top-cast-button));
  --media-playback-rate-button-display: var(--playback-rate-button, var(--top-playback-rate-button));
  --media-volume-range-display: var(--volume-range, var(--top-volume-range));
  --media-time-range-display: var(--time-range, var(--top-time-range));
  --media-time-display-display: var(--time-display, var(--top-time-display));
  --media-duration-display-display: var(--duration-display, var(--top-duration-display));
  --media-title-display-display: var(--title-display, var(--top-title-display));
}

::part(center),
[part~='center'] {
  --media-control-display: var(--controls, var(--center-controls));
  --media-play-button-display: var(--play-button, var(--center-play-button));
  --media-live-button-display: var(--live-button, var(--center-live-button));
  --media-seek-backward-button-display: var(--seek-backward-button, var(--center-seek-backward-button));
  --media-seek-forward-button-display: var(--seek-forward-button, var(--center-seek-forward-button));
  --media-mute-button-display: var(--mute-button, var(--center-mute-button));
  --media-captions-button-display: var(--captions-button, var(--center-captions-button));
  --media-captions-selectmenu-display: var(
    --captions-selectmenu,
    var(--media-captions-button-display, var(--center-captions-selectmenu))
  );
  --media-airplay-button-display: var(--airplay-button, var(--center-airplay-button));
  --media-pip-button-display: var(--pip-button, var(--center-pip-button));
  --media-fullscreen-button-display: var(--fullscreen-button, var(--center-fullscreen-button));
  --media-cast-button-display: var(--cast-button, var(--center-cast-button));
  --media-playback-rate-button-display: var(--playback-rate-button, var(--center-playback-rate-button));
  --media-volume-range-display: var(--volume-range, var(--center-volume-range));
  --media-time-range-display: var(--time-range, var(--center-time-range));
  --media-time-display-display: var(--time-display, var(--center-time-display));
  --media-duration-display-display: var(--duration-display, var(--center-duration-display));
}

::part(bottom),
[part~='bottom'] {
  --media-control-display: var(--controls, var(--bottom-controls));
  --media-play-button-display: var(--play-button, var(--bottom-play-button));
  --media-live-button-display: var(--live-button, var(--bottom-live-button));
  --media-seek-backward-button-display: var(--seek-backward-button, var(--bottom-seek-backward-button));
  --media-seek-forward-button-display: var(--seek-forward-button, var(--bottom-seek-forward-button));
  --media-mute-button-display: var(--mute-button, var(--bottom-mute-button));
  --media-captions-button-display: var(--captions-button, var(--bottom-captions-button));
  --media-captions-selectmenu-display: var(
    --captions-selectmenu,
    var(--media-captions-button-display, var(--bottom-captions-selectmenu))
  );
  --media-airplay-button-display: var(--airplay-button, var(--bottom-airplay-button));
  --media-pip-button-display: var(--pip-button, var(--bottom-pip-button));
  --media-fullscreen-button-display: var(--fullscreen-button, var(--bottom-fullscreen-button));
  --media-cast-button-display: var(--cast-button, var(--bottom-cast-button));
  --media-playback-rate-button-display: var(--playback-rate-button, var(--bottom-playback-rate-button));
  --media-volume-range-display: var(--volume-range, var(--bottom-volume-range));
  --media-time-range-display: var(--time-range, var(--bottom-time-range));
  --media-time-display-display: var(--time-display, var(--bottom-time-display));
  --media-duration-display-display: var(--duration-display, var(--bottom-duration-display));
  --media-title-display-display: var(--title-display, var(--bottom-title-display));
}
`,myr=`<!-- prettier-ignore -->
<template id="media-theme-mux">
  <style>
    :host {
      --_primary-color: var(--media-primary-color, white);
      --_secondary-color: var(--media-secondary-color, rgb(0 0 0 / .75));

      --media-icon-color: var(--_primary-color);
      --media-range-thumb-background: var(--_primary-color);
      --media-range-bar-color: var(--_primary-color);
      --media-control-background: var(--_secondary-color);
      --media-control-hover-background: var(--_secondary-color);
      --media-time-range-buffered-color: rgba(255, 255, 255, 0.4);
      --media-range-track-background:
        linear-gradient(rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.5)),
        linear-gradient(rgba(20, 20, 30, 0.7), rgba(20, 20, 30, 0.7));
      --media-preview-thumbnail-border: 0;
      --media-preview-thumbnail-border-radius: 2px 2px 0 0;
      --media-preview-time-border-radius: 0 0 2px 2px;
      --media-preview-time-margin: 0 0 8px;
      --media-preview-time-text-shadow: none;

      color: var(--_primary-color);
      display: inline-block;
      width: 100%;
      height: 100%;
    }

    :host([audio]) {
      --media-preview-time-border-radius: 3px;
      --media-preview-time-margin: 0 0 5px;
      --media-preview-time-text-shadow: none;
    }

    :host([audio]) ::slotted([slot='media']) {
      height: 0px;
    }

    :host([audio]) media-loading-indicator,
    :host([audio]) ::slotted([slot=poster]) {
      display: none;
    }

    :host([audio]) media-controller {
      background: transparent;
    }

    :host([audio]) media-controller::part(vertical-layer) {
      background: transparent;
    }

    :host([audio]) media-control-bar {
      width: 100%;
    }

    [disabled]:not(media-live-button),
    [aria-disabled='true']:not(media-live-button) {
      opacity: 60%;
      cursor: not-allowed;
    }

    :host(:not([audio])) media-captions-selectmenu::part(listbox) {
      z-index: 10;
    }

    media-controller:not([mediasubtitleslist]) media-captions-selectmenu {
      --captions-selectmenu: none;
    }


    /* 0.433s is the transition duration for VTT Regions.
     * Borrowed here, so the captions don't move too fast. */
    media-controller ::slotted([slot='media']) {
      --media-webkit-text-track-transition: transform 0.433s ease-out 0.3s;
    }
    media-controller:is([mediapaused],:not([userinactive])) ::slotted([slot='media']) {
      /* 42px is the height of the control bar and progress bar
       * with an additional 5px as a buffer, to get 47px */
      --media-webkit-text-track-transform: translateY(-47px);
      --media-webkit-text-track-transition: transform 0.15s ease;
    }

    media-captions-selectmenu {
      --media-listbox-background: var(--_secondary-color);
      --media-listbox-selected-background: rgba(255, 255, 255, 0.28);
      --media-listbox-hover-background: none;
      --media-listbox-hover-outline: white solid 1px;
      --media-text-color: white;
    }

    media-volume-range[mediavolumeunavailable] {
      --volume-range: none;
    }

    media-airplay-button[mediaairplayunavailable] {
      --airplay-button: none;
    }

    media-fullscreen-button[mediafullscreenunavailable] {
      --fullscreen-button: none;
    }

    media-cast-button[mediacastunavailable] {
      --cast-button: none;
    }

    media-pip-button[mediapipunavailable] {
      --pip-button: none;
    }

    :host media-time-range {
      color: var(--_primary-color);
      --media-range-thumb-opacity: 0;
    }

    :host(:not([audio])) media-time-range {
      --media-range-padding: 0;
      background: transparent;
      z-index: 10;
      height: 10px;
      bottom: -3px;
      width: 100%;
    }

    media-control-bar {
      --media-control-padding: 4px 3px;
    }

    [breakpointsm] media-control-bar {
      --media-control-padding: 9px 5px;
    }

    [breakpointmd] media-control-bar {
      --media-control-padding: 9px 7px;
    }

    media-control-bar :is([role='button'], [role='switch'], button) {
      line-height: 0;
    }

    media-control-bar :is(media-text-display, media-time-display):first-child {
      --media-control-padding: 9px 5px 9px 10px;
    }

    .spacer {
      flex-grow: 1;
      background-color: var(--media-control-background, rgba(20, 20, 30, 0.7));
    }

    /* Add a small space on the right to have the play button and
     * fullscreen button aligned in relation to the progress bar. */
    media-control-bar:not([slot])::after {
      content: '';
      width: 2px;
      height: 100%;
      background-color: var(--media-control-background, rgba(20, 20, 30, 0.7));
    }

    media-control-bar[slot='top-chrome'] {
      min-height: 42px;
      pointer-events: none;
    }

    :host([title]) media-control-bar[slot='top-chrome']::before {
      content: '';
      position: absolute;
      width: 100%;
      padding-bottom: min(160px, 25%);
      background: linear-gradient(rgb(0 0 0 / 0.4), transparent);
    }

    media-control-bar[slot='top-chrome'] > * {
      --media-control-background: transparent;
      --media-control-hover-background: transparent;
      position: relative;
    }

    media-controller::part(vertical-layer) {
      transition: background-color 1s;
    }

    media-controller:is([mediapaused], :not([userinactive]))::part(vertical-layer) {
      background-color: var(--controls-backdrop-color, var(--controls, transparent));
      transition: background-color 0.25s;
    }

    .center-controls {
      --media-button-icon-width: 100%;
      --media-button-icon-height: auto;
      pointer-events: none;
      width: 100%;
      display: flex;
      flex-flow: row;
      align-items: center;
      justify-content: center;
      filter: drop-shadow(0 0 2px rgb(0 0 0 / 0.25)) drop-shadow(0 0 6px rgb(0 0 0 / 0.25));
      paint-order: stroke;
      stroke: rgba(102, 102, 102, 1);
      stroke-width: 0.3px;
      text-shadow: 0 0 2px rgb(0 0 0 / 0.25), 0 0 6px rgb(0 0 0 / 0.25);
    }

    .center-controls media-play-button {
      --media-control-background: transparent;
      --media-control-hover-background: transparent;
      padding: 0;
      width: max(43px, min(10%, 55px));
    }

    .center-controls media-seek-backward-button,
    .center-controls media-seek-forward-button {
      --media-control-background: transparent;
      --media-control-hover-background: transparent;
      padding: 0;
      margin: 0 2%;
      width: max(33px, min(8%, 40px));
    }

    media-control-bar:not([slot]) media-seek-backward-button {
      padding-right: 5px;
    }

    media-control-bar:not([slot]) media-seek-forward-button {
      padding-left: 5px;
    }

    media-loading-indicator {
      --media-loading-icon-width: 100%;
      --media-button-icon-height: auto;
      display: var(--media-control-display, var(--media-loading-indicator-display, flex));
      pointer-events: none;
      position: absolute;
      width: min(15%, 150px);
      flex-flow: row;
      align-items: center;
      justify-content: center;
    }

    /* Intentionally don't target the div for transition but the children
     of the div. Prevents messing with media-chrome's autohide feature. */
    media-loading-indicator + div * {
      transition: opacity 0.15s;
      opacity: 1;
    }

    media-loading-indicator[medialoading]:not([mediapaused]) ~ div > * {
      opacity: 0;
      transition-delay: 400ms;
    }

    media-volume-range {
      width: min(100%, 100px);
    }

    media-time-display {
      white-space: nowrap;
    }

    :is(media-time-display, media-text-display, media-playback-rate-button[role='button']) {
      color: inherit;
      line-height: 24px;
    }

    :is(.title-display, media-live-button) {
      color: inherit;
      font-size: 16px;
      text-shadow: 0 0 2px rgb(0 0 0 / 0.6);
    }

    :host([audio]) .title-display {
      flex-grow: 1;
      font-size: 21px;
    }
  </style>

  <template partial="TitleDisplay">
    <template if="title">
      <media-text-display part="top title display" class="title-display">
        {{title}}
      </media-text-display>
    </template>
  </template>

  <template partial="PlayButton">
    <media-play-button
      part="{{section ?? 'bottom'}} play button"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    >
      <svg aria-hidden="true" viewBox="0 0 24 24" slot="play">
        <path d="m6.73 20.93 14.05-8.54a.46.46 0 0 0 0-.78L6.73 3.07a.48.48 0 0 0-.73.39v17.07a.48.48 0 0 0 .73.4Z" />
      </svg>
      <svg aria-hidden="true" viewBox="0 0 24 24" slot="pause">
        <path
          d="M6 19.5a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-15a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v15ZM14.5 4a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-15a.5.5 0 0 0-.5-.5h-3Z"
        />
      </svg>
    </media-play-button>
  </template>

  <template partial="SeekBackwardButton">
    <media-seek-backward-button
      seekoffset="{{backwardseekoffset}}"
      part="{{section ?? 'bottom'}} seek-backward button"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    >
      <svg aria-hidden="true" viewBox="0 0 22 24" slot="backward">
        <path d="M11 6V3L5.37 7 11 10.94V8a5.54 5.54 0 0 1 1.9 10.48v2.12A7.5 7.5 0 0 0 11 6Z" />
        <text class="value" transform="translate(2.5 21)" style="font-size: 8px; font-family: 'ArialMT', 'Arial'">
          {{backwardseekoffset}}
        </text>
      </svg>
    </media-seek-backward-button>
  </template>

  <template partial="SeekForwardButton">
    <media-seek-forward-button
      seekoffset="{{forwardseekoffset}}"
      part="{{section ?? 'bottom'}} seek-forward button"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    >
      <svg aria-hidden="true" viewBox="0 0 22 24" slot="forward">
        <path d="M11 6V3l5.61 4L11 10.94V8a5.54 5.54 0 0 0-1.9 10.48v2.12A7.5 7.5 0 0 1 11 6Z" />
        <text class="value" transform="translate(10 21)" style="font-size: 8px; font-family: 'ArialMT', 'Arial'">
          {{forwardseekoffset}}
        </text>
      </svg>
    </media-seek-forward-button>
  </template>

  <template partial="MuteButton">
    <media-mute-button part="bottom mute button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg aria-hidden="true" viewBox="0 0 24 24" slot="high">
        <path
          d="m11.14 4.86-4 4a.49.49 0 0 1-.35.14H3.25a.25.25 0 0 0-.25.25v5.5a.25.25 0 0 0 .25.25h3.54a.49.49 0 0 1 .36.15l4 4a.5.5 0 0 0 .85-.36V5.21a.5.5 0 0 0-.86-.35Zm2.74-1.56v1.52A7.52 7.52 0 0 1 19.47 12a7.52 7.52 0 0 1-5.59 7.18v1.52A9 9 0 0 0 21 12a9 9 0 0 0-7.12-8.7Zm3.56 8.7a5.49 5.49 0 0 0-3.56-5.1v1.66a3.93 3.93 0 0 1 0 6.88v1.66a5.49 5.49 0 0 0 3.56-5.1Z"
        />
      </svg>
      <svg aria-hidden="true" viewBox="0 0 24 24" slot="low">
        <path
          d="m11.14 4.853-4 4a.49.49 0 0 1-.35.14H3.25a.25.25 0 0 0-.25.25v5.5a.25.25 0 0 0 .25.25h3.54a.49.49 0 0 1 .36.15l4 4a.5.5 0 0 0 .85-.36V5.203a.5.5 0 0 0-.86-.35Zm6.3 7.14a5.49 5.49 0 0 0-3.56-5.1v1.66a3.93 3.93 0 0 1 0 6.88v1.66a5.49 5.49 0 0 0 3.56-5.1Z"
        />
      </svg>
      <svg aria-hidden="true" viewBox="0 0 24 24" slot="medium">
        <path
          d="m11.14 4.853-4 4a.49.49 0 0 1-.35.14H3.25a.25.25 0 0 0-.25.25v5.5a.25.25 0 0 0 .25.25h3.54a.49.49 0 0 1 .36.15l4 4a.5.5 0 0 0 .85-.36V5.203a.5.5 0 0 0-.86-.35Zm6.3 7.14a5.49 5.49 0 0 0-3.56-5.1v1.66a3.93 3.93 0 0 1 0 6.88v1.66a5.49 5.49 0 0 0 3.56-5.1Z"
        />
      </svg>
      <svg aria-hidden="true" viewBox="0 0 24 24" slot="off">
        <path
          d="m3 4.05 4.48 4.47-.33.33a.49.49 0 0 1-.36.15H3.25a.25.25 0 0 0-.25.25v5.5a.25.25 0 0 0 .25.25h3.54a.49.49 0 0 1 .36.15l4 4a.48.48 0 0 0 .36.15.5.5 0 0 0 .5-.5v-5.75l4.67 4.66a7.71 7.71 0 0 1-2.79 1.47v1.52a9.32 9.32 0 0 0 3.87-1.91L20 21l1-1L4.06 3 3 4.05Zm5.36 5.36 2.39 2.39V17L8 14.26a1.74 1.74 0 0 0-1.24-.51H4.25v-3.5h2.54A1.74 1.74 0 0 0 8 9.74l.36-.33ZM19.47 12a7.19 7.19 0 0 1-.89 3.47l1.11 1.1A8.64 8.64 0 0 0 21 12a9 9 0 0 0-7.12-8.7v1.52A7.52 7.52 0 0 1 19.47 12ZM12 8.88V5.21a.5.5 0 0 0-.5-.5.48.48 0 0 0-.36.15L9.56 6.44 12 8.88ZM15.91 12a4.284 4.284 0 0 1-.07.72l1.22 1.22a5.2 5.2 0 0 0 .38-1.94 5.49 5.49 0 0 0-3.56-5.1v1.66A4 4 0 0 1 15.91 12Z"
        />
      </svg>
    </media-mute-button>
  </template>

  <template partial="PipButton">
    <media-pip-button part="bottom pip button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg aria-hidden="true" viewBox="0 0 26 24" slot="enter">
        <path
          d="M22 3H4a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h6.75v-1.25h-6.5V4.25h17.5v6.5H23V4a1 1 0 0 0-1-1Zm0 10h-8a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1Zm-.5 6.5h-7v-5h7v5Z"
        />
      </svg>
      <svg aria-hidden="true" viewBox="0 0 26 24" slot="exit">
        <path
          d="M22 3H4a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h6.75v-1.25h-6.5V4.25h17.5v6.5H23V4a1 1 0 0 0-1-1Zm0 10h-8a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1Zm-.5 6.5h-7v-5h7v5Z"
        />
      </svg>
    </media-pip-button>
  </template>

  <template partial="CaptionsMenuButton">
    <media-captions-selectmenu
      part="bottom captions selectmenu"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    >
      <svg aria-hidden="true" viewBox="0 0 26 24" slot="on">
        <path
          d="M22.832 5.68a2.58 2.58 0 0 0-2.3-2.5c-3.62-.24-11.44-.24-15.06 0a2.58 2.58 0 0 0-2.3 2.5c-.23 4.21-.23 8.43 0 12.64a2.58 2.58 0 0 0 2.3 2.5c3.62.24 11.44.24 15.06 0a2.58 2.58 0 0 0 2.3-2.5c.23-4.21.23-8.43 0-12.64Zm-11.41 10.1a3.63 3.63 0 0 1-1.51.32 4.76 4.76 0 0 1-1.63-.27 4 4 0 0 1-1.28-.83 3.67 3.67 0 0 1-.84-1.26 4.23 4.23 0 0 1-.3-1.63 4.28 4.28 0 0 1 .3-1.64 3.53 3.53 0 0 1 .84-1.21 3.89 3.89 0 0 1 1.29-.8 4.76 4.76 0 0 1 1.63-.27 4.06 4.06 0 0 1 1.35.24c.225.091.44.205.64.34a2.7 2.7 0 0 1 .55.52l-1.27 1a1.79 1.79 0 0 0-.6-.46 2 2 0 0 0-.83-.16 2 2 0 0 0-1.56.69 2.35 2.35 0 0 0-.46.77 2.78 2.78 0 0 0-.16 1c-.009.34.046.68.16 1 .104.283.26.545.46.77.188.21.415.38.67.5a2 2 0 0 0 .84.18 1.87 1.87 0 0 0 .9-.21 1.78 1.78 0 0 0 .65-.6l1.38 1a2.88 2.88 0 0 1-1.22 1.01Zm7.52 0a3.63 3.63 0 0 1-1.51.32 4.76 4.76 0 0 1-1.63-.27 3.89 3.89 0 0 1-1.28-.83 3.55 3.55 0 0 1-.85-1.26 4.23 4.23 0 0 1-.3-1.63 4.28 4.28 0 0 1 .3-1.64 3.43 3.43 0 0 1 .85-1.25 3.75 3.75 0 0 1 1.28-.8 4.76 4.76 0 0 1 1.63-.27 4 4 0 0 1 1.35.24c.225.091.44.205.64.34.21.144.395.32.55.52l-1.27 1a1.79 1.79 0 0 0-.6-.46 2 2 0 0 0-.83-.16 2 2 0 0 0-1.56.69 2.352 2.352 0 0 0-.46.77 3.01 3.01 0 0 0-.16 1c-.003.34.05.678.16 1 .108.282.263.542.46.77.188.21.416.38.67.5a2 2 0 0 0 .84.18 1.87 1.87 0 0 0 .9-.21 1.78 1.78 0 0 0 .65-.6l1.38 1a2.82 2.82 0 0 1-1.21 1.05Z"
        />
      </svg>
      <svg aria-hidden="true" viewBox="0 0 26 24" slot="off">
        <path
          d="M22.832 5.68a2.58 2.58 0 0 0-2.3-2.5c-1.81-.12-4.67-.18-7.53-.18-2.86 0-5.72.06-7.53.18a2.58 2.58 0 0 0-2.3 2.5c-.23 4.21-.23 8.43 0 12.64a2.58 2.58 0 0 0 2.3 2.5c1.81.12 4.67.18 7.53.18 2.86 0 5.72-.06 7.53-.18a2.58 2.58 0 0 0 2.3-2.5c.23-4.21.23-8.43 0-12.64Zm-1.49 12.53a1.11 1.11 0 0 1-.91 1.11c-1.67.11-4.45.18-7.43.18-2.98 0-5.76-.07-7.43-.18a1.11 1.11 0 0 1-.91-1.11c-.21-4.137-.21-8.283 0-12.42a1.11 1.11 0 0 1 .91-1.11c1.67-.11 4.43-.18 7.43-.18s5.76.07 7.43.18a1.11 1.11 0 0 1 .91 1.11c.21 4.137.21 8.283 0 12.42ZM10.843 14a1.55 1.55 0 0 1-.76.18 1.57 1.57 0 0 1-.71-.18 1.69 1.69 0 0 1-.57-.42 2.099 2.099 0 0 1-.38-.58 2.47 2.47 0 0 1 0-1.64 2 2 0 0 1 .39-.66 1.73 1.73 0 0 1 .58-.42c.23-.103.479-.158.73-.16.241-.004.48.044.7.14.199.088.373.222.51.39l1.08-.89a2.179 2.179 0 0 0-.47-.44 2.81 2.81 0 0 0-.54-.32 2.91 2.91 0 0 0-.58-.15 2.71 2.71 0 0 0-.56 0 4.08 4.08 0 0 0-1.38.15 3.27 3.27 0 0 0-1.09.67 3.14 3.14 0 0 0-.71 1.06 3.62 3.62 0 0 0-.26 1.39 3.57 3.57 0 0 0 .26 1.38 3 3 0 0 0 .71 1.06c.316.293.687.52 1.09.67.443.16.91.238 1.38.23a3.2 3.2 0 0 0 1.28-.27c.401-.183.747-.47 1-.83l-1.17-.88a1.42 1.42 0 0 1-.53.52Zm6.62 0a1.58 1.58 0 0 1-.76.18 1.54 1.54 0 0 1-.7-.18 1.69 1.69 0 0 1-.57-.42 2.12 2.12 0 0 1-.43-.58 2.29 2.29 0 0 1 .39-2.3 1.84 1.84 0 0 1 1.32-.58c.241-.003.48.045.7.14.199.088.373.222.51.39l1.08-.92a2.43 2.43 0 0 0-.47-.44 3.22 3.22 0 0 0-.53-.29 2.999 2.999 0 0 0-.57-.15 2.87 2.87 0 0 0-.57 0 4.06 4.06 0 0 0-1.36.15 3.17 3.17 0 0 0-1.09.67 3 3 0 0 0-.72 1.06 3.62 3.62 0 0 0-.25 1.39 3.57 3.57 0 0 0 .25 1.38c.16.402.405.764.72 1.06a3.17 3.17 0 0 0 1.09.67c.44.16.904.237 1.37.23.441 0 .877-.092 1.28-.27a2.45 2.45 0 0 0 1-.83l-1.15-.85a1.49 1.49 0 0 1-.54.49Z"
        />
      </svg>
    </media-captions-selectmenu>
  </template>

  <template partial="AirplayButton">
    <media-airplay-button part="bottom airplay button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg aria-hidden="true" viewBox="0 0 26 24" slot="airplay">
        <path
          d="M13.19 14.22a.25.25 0 0 0-.38 0l-5.46 6.37a.25.25 0 0 0 .19.41h10.92a.25.25 0 0 0 .19-.41l-5.46-6.37Z"
        />
        <path
          d="M22 3H4a1 1 0 0 0-1 1v13a1 1 0 0 0 1 1h2.94L8 16.75H4.25V4.25h17.5v12.5H18L19.06 18H22a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1Z"
        />
      </svg>
    </media-airplay-button>
  </template>

  <template partial="FullscreenButton">
    <media-fullscreen-button part="bottom fullscreen button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg aria-hidden="true" viewBox="0 0 24 24" slot="enter">
        <path
          d="M20.25 14.5a.76.76 0 0 0-.75.75v4.25h-4.25a.75.75 0 1 0 0 1.5h5a.76.76 0 0 0 .75-.75v-5a.76.76 0 0 0-.75-.75Zm0-11.5h-5a.76.76 0 0 0-.75.75.76.76 0 0 0 .75.75h4.25v4.25a.75.75 0 1 0 1.5 0v-5a.76.76 0 0 0-.75-.75ZM8.75 19.5H4.5v-4.25a.76.76 0 0 0-.75-.75.76.76 0 0 0-.75.75v5a.76.76 0 0 0 .75.75h5a.75.75 0 1 0 0-1.5Zm0-16.5h-5a.76.76 0 0 0-.75.75v5a.76.76 0 0 0 .75.75.76.76 0 0 0 .75-.75V4.5h4.25a.76.76 0 0 0 .75-.75.76.76 0 0 0-.75-.75Z"
        />
      </svg>
      <svg aria-hidden="true" viewBox="0 0 24 24" slot="exit">
        <path
          d="M20.25 14.5h-5a.76.76 0 0 0-.75.75v5a.75.75 0 1 0 1.5 0V16h4.25a.75.75 0 1 0 0-1.5Zm-5-5h5a.75.75 0 1 0 0-1.5H16V3.75a.75.75 0 1 0-1.5 0v5a.76.76 0 0 0 .75.75Zm-6.5 5h-5a.75.75 0 1 0 0 1.5H8v4.25a.75.75 0 1 0 1.5 0v-5a.76.76 0 0 0-.75-.75Zm0-11.5a.76.76 0 0 0-.75.75V8H3.75a.75.75 0 0 0 0 1.5h5a.76.76 0 0 0 .75-.75v-5A.76.76 0 0 0 8.75 3Z"
        />
      </svg>
    </media-fullscreen-button>
  </template>

  <template partial="CastButton">
    <media-cast-button part="bottom cast button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg aria-hidden="true" viewBox="0 0 26 24" slot="enter">
        <path d="M3 15.5V17c2.206 0 4 1.794 4 4h1.5A5.5 5.5 0 0 0 3 15.5Zm0 3V21h2.5A2.5 2.5 0 0 0 3 18.5Z" />
        <path d="M3 12.5V14c3.86 0 7 3.14 7 7h1.5A8.5 8.5 0 0 0 3 12.5Z" />
        <path
          d="M22 3H4a1 1 0 0 0-1 1v6.984c.424 0 .84.035 1.25.086V4.25h17.5v15.5h-8.82c.051.41.086.826.086 1.25H22a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1Z"
        />
      </svg>
      <svg aria-hidden="true" viewBox="0 0 26 24" slot="exit">
        <path d="M3 15.5V17c2.206 0 4 1.794 4 4h1.5A5.5 5.5 0 0 0 3 15.5Zm0 3V21h2.5A2.5 2.5 0 0 0 3 18.5Z" />
        <path d="M3 12.5V14c3.86 0 7 3.14 7 7h1.5A8.5 8.5 0 0 0 3 12.5Z" />
        <path
          d="M22 3H4a1 1 0 0 0-1 1v6.984c.424 0 .84.035 1.25.086V4.25h17.5v15.5h-8.82c.051.41.086.826.086 1.25H22a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1Z"
        />
        <path d="M20.5 5.5h-15v5.811c3.52.906 6.283 3.67 7.189 7.19H20.5V5.5Z" />
      </svg>
    </media-cast-button>
  </template>

  <template partial="LiveButton">
    <media-live-button
      part="{{section ?? 'top'}} live button"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    ></media-live-button>
  </template>

  <template partial="PlaybackRateButton">
    <media-playback-rate-button
      rates="{{playbackrates}}"
      part="bottom playback-rate button"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    ></media-playback-rate-button>
  </template>

  <template partial="VolumeRange">
    <media-volume-range
      part="bottom volume range"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    ></media-volume-range>
  </template>

  <template partial="TimeDisplay">
    <media-time-display
      remaining="{{defaultshowremainingtime}}"
      showduration="{{!hideduration}}"
      part="bottom time display"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    ></media-time-display>
  </template>

  <template partial="TimeRange">
    <media-time-range
      part="bottom time range"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    ></media-time-range>
  </template>

  <media-controller
    defaultstreamtype="{{defaultstreamtype ?? 'on-demand'}}"
    breakpoints="sm:300 md:700"
    gesturesdisabled="{{disabled}}"
    hotkeys="{{hotkeys}}"
    nohotkeys="{{nohotkeys}}"
    novolumepref="{{novolumepref}}"
    audio="{{audio}}"
    noautoseektolive="{{noautoseektolive}}"
    defaultsubtitles="{{defaultsubtitles}}"
    exportparts="layer, media-layer, poster-layer, vertical-layer, centered-layer, gesture-layer"
  >
    <slot name="media" slot="media"></slot>
    <slot name="poster" slot="poster"></slot>
    <media-loading-indicator slot="centered-chrome" noautohide></media-loading-indicator>

    <template if="audio">

      <template if="streamtype == 'on-demand'">
        <template if="title">
          <media-control-bar>{{>TitleDisplay}}</media-control-bar>
        </template>
        <media-control-bar>
          {{>PlayButton}}
          {{>SeekBackwardButton}}
          {{>SeekForwardButton}}
          {{>TimeDisplay}}
          {{>TimeRange}}
          {{>MuteButton}}
          {{>VolumeRange}}
          {{>PlaybackRateButton}}
          {{>AirplayButton}}
          {{>CastButton}}
        </media-control-bar>
      </template>

      <template if="streamtype == 'live'">

        <template if="targetlivewindow > 0">
          <template if="title">
            <media-control-bar>{{>TitleDisplay}}</media-control-bar>
          </template>
          <media-control-bar>
            {{>PlayButton}}
            {{>LiveButton section="bottom"}}
            {{>SeekBackwardButton}}
            {{>SeekForwardButton}}
            {{>TimeDisplay}}
            {{>TimeRange}}
            {{>MuteButton}}
            {{>VolumeRange}}
            {{>PlaybackRateButton}}
            {{>AirplayButton}}
            {{>CastButton}}
          </media-control-bar>
        </template>

        <template if="!targetlivewindow">
          <template if="title">
            <media-control-bar>{{>TitleDisplay}}</media-control-bar>
          </template>
          <media-control-bar>
            {{>PlayButton}}
            {{>LiveButton section="bottom"}}
            {{>MuteButton}}
            {{>VolumeRange}}
            <div class="spacer"></div>
            {{>AirplayButton}}
            {{>CastButton}}
          </media-control-bar>
        </template>

      </template>
    </template>

    <template if="!audio">

      <template if="streamtype == 'on-demand'">

        <template if="!breakpointsm">
          {{>TimeRange}}
          <media-control-bar>
            {{>PlayButton}}
            {{>MuteButton}}
            <div class="spacer"></div>
            {{>CaptionsMenuButton}}
            {{>FullscreenButton}}
          </media-control-bar>
        </template>

        <template if="breakpointsm">
          <template if="!breakpointmd">
            <media-control-bar slot="top-chrome">
              {{>TitleDisplay}}
            </media-control-bar>
            <div slot="centered-chrome" class="center-controls">
              {{>SeekBackwardButton section="center"}}
              {{>PlayButton section="center"}}
              {{>SeekForwardButton section="center"}}
            </div>
            {{>TimeRange}}
            <media-control-bar>
              {{>PlayButton}}
              {{>TimeDisplay}}
              {{>MuteButton}}
              {{>VolumeRange}}
              <div class="spacer"></div>
              {{>PlaybackRateButton}}
              {{>CaptionsMenuButton}}
              {{>AirplayButton}}
              {{>CastButton}}
              {{>PipButton}}
              {{>FullscreenButton}}
            </media-control-bar>
          </template>
        </template>

        <template if="breakpointmd">
          <media-control-bar slot="top-chrome">
            {{>TitleDisplay}}
          </media-control-bar>
          <div slot="centered-chrome" class="center-controls">
            {{>PlayButton section="center"}}
          </div>
          {{>TimeRange}}
          <media-control-bar>
            {{>PlayButton}}
            {{>SeekBackwardButton}}
            {{>SeekForwardButton}}
            {{>TimeDisplay}}
            {{>MuteButton}}
            {{>VolumeRange}}
            <div class="spacer"></div>
            {{>PlaybackRateButton}}
            {{>CaptionsMenuButton}}
            {{>AirplayButton}}
            {{>CastButton}}
            {{>PipButton}}
            {{>FullscreenButton}}
          </media-control-bar>
        </template>

      </template>

      <template if="streamtype == 'live'">

        <template if="!targetlivewindow">

          <template if="!breakpointsm">
            <media-control-bar slot="top-chrome">
              {{>LiveButton}}
            </media-control-bar>
            <media-control-bar>
              {{>PlayButton}}
              {{>MuteButton}}
              <div class="spacer"></div>
              {{>CaptionsMenuButton}}
              {{>FullscreenButton}}
            </media-control-bar>
          </template>

          <template if="breakpointsm">
            <template if="!breakpointmd">
              <media-control-bar slot="top-chrome">
                {{>LiveButton}}
                {{>TitleDisplay}}
              </media-control-bar>
              <div slot="centered-chrome" class="center-controls">
                {{>PlayButton section="center"}}
              </div>
              <media-control-bar>
                {{>PlayButton}}
                {{>MuteButton}}
                {{>VolumeRange}}
                <div class="spacer"></div>
                {{>CaptionsMenuButton}}
                {{>AirplayButton}}
                {{>CastButton}}
                {{>PipButton}}
                {{>FullscreenButton}}
              </media-control-bar>
            </template>
          </template>

          <template if="breakpointmd">
            <media-control-bar slot="top-chrome">
              {{>LiveButton}}
              {{>TitleDisplay}}
            </media-control-bar>
            <div slot="centered-chrome" class="center-controls">
              {{>PlayButton section="center"}}
            </div>
            <media-control-bar>
              {{>PlayButton}}
              {{>MuteButton}}
              {{>VolumeRange}}
              <div class="spacer"></div>
              {{>CaptionsMenuButton}}
              {{>AirplayButton}}
              {{>CastButton}}
              {{>PipButton}}
              {{>FullscreenButton}}
            </media-control-bar>
          </template>
        </template>

        <template if="targetlivewindow > 0">

          <template if="!breakpointsm">
            <media-control-bar slot="top-chrome">
              {{>LiveButton}}
            </media-control-bar>
            {{>TimeRange}}
            <media-control-bar>
              {{>PlayButton}}
              {{>MuteButton}}
              <div class="spacer"></div>
              {{>CaptionsMenuButton}}
              {{>FullscreenButton}}
            </media-control-bar>
          </template>

          <template if="breakpointsm">
            <template if="!breakpointmd">
              <media-control-bar slot="top-chrome">
                {{>LiveButton}}
                {{>TitleDisplay}}
              </media-control-bar>
              <div slot="centered-chrome" class="center-controls">
                {{>SeekBackwardButton section="center"}}
                {{>PlayButton section="center"}}
                {{>SeekForwardButton section="center"}}
              </div>
              {{>TimeRange}}
              <media-control-bar>
                {{>PlayButton}}
                {{>MuteButton}}
                {{>VolumeRange}}
                <div class="spacer"></div>
                {{>CaptionsMenuButton}}
                {{>AirplayButton}}
                {{>CastButton}}
                {{>PipButton}}
                {{>FullscreenButton}}
              </media-control-bar>
            </template>
          </template>

          <template if="breakpointmd">
            <media-control-bar slot="top-chrome">
              {{>LiveButton}}
              {{>TitleDisplay}}
            </media-control-bar>
            <div slot="centered-chrome" class="center-controls">
              {{>PlayButton section="center"}}
            </div>
            {{>TimeRange}}
            <media-control-bar>
              {{>PlayButton}}
              {{>SeekBackwardButton}}
              {{>SeekForwardButton}}
              {{>MuteButton}}
              {{>VolumeRange}}
              <div class="spacer"></div>
              {{>CaptionsMenuButton}}
              {{>AirplayButton}}
              {{>CastButton}}
              {{>PipButton}}
              {{>FullscreenButton}}
            </media-control-bar>
          </template>

        </template>

      </template>

    </template>

    <slot></slot>

  </media-controller>
</template>
`,Rit=`
  :host {
    z-index: 100;
    display: var(--media-dialog-display, flex);
    justify-content: center;
    align-items: center;
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    box-sizing: border-box;
    color: #fff;
    line-height: 18px;
    font-family: Arial, sans-serif;
    padding: var(--media-dialog-backdrop-padding, 0);
    background: var(--media-dialog-backdrop-background,
      linear-gradient(to bottom, rgba(20, 20, 30, 0.7) 50%, rgba(20, 20, 30, 0.9))
    );
    /* Needs to use !important to prevent overwrite of media-chrome */
    transition: var(--media-dialog-transition-open, visibility .2s, opacity .2s) !important;
    transform: var(--media-dialog-transform-open, none) !important;
    visibility: visible !important;
    opacity: 1 !important;
    pointer-events: auto !important;
  }

  :host(:not([open])) {
    /* Needs to use !important to prevent overwrite of media-chrome */
    transition: var(--media-dialog-transition-close, visibility .1s, opacity .1s) !important;
    transform: var(--media-dialog-transform-close, none) !important;
    visibility: hidden !important;
    opacity: 0 !important;
    pointer-events: none !important;
  }

  :focus-visible {
    box-shadow: 0 0 0 2px rgba(27, 127, 204, 0.9);
  }

  .dialog {
    position: relative;
    box-sizing: border-box;
    background: var(--media-dialog-background, none);
    padding: var(--media-dialog-padding, 10px);
    width: min(320px, 100%);
    word-wrap: break-word;
    max-height: 100%;
    overflow: auto;
    text-align: center;
    line-height: 1.4;
  }
`,jit=Av.createElement("template");jit.innerHTML=`
  <style>
    ${Rit}
  </style>

  <div class="dialog">
    <slot></slot>
  </div>
`;var D_=class extends Vu.HTMLElement{constructor(){var t;super(),this.attachShadow({mode:"open"}),(t=this.shadowRoot)==null||t.appendChild(this.constructor.template.content.cloneNode(!0))}show(){this.setAttribute("open",""),this.dispatchEvent(new CustomEvent("open",{composed:!0,bubbles:!0})),IOe(this)}close(){!this.hasAttribute("open")||(this.removeAttribute("open"),this.dispatchEvent(new CustomEvent("close",{composed:!0,bubbles:!0})),gyr(this))}attributeChangedCallback(t,e,n){t==="open"&&e!==n&&(n!=null?this.show():this.close())}connectedCallback(){this.hasAttribute("role")||this.setAttribute("role","dialog"),this.hasAttribute("open")&&IOe(this)}};D_.styles=Rit,D_.template=jit,D_.observedAttributes=["open"];function IOe(t){let e=new CustomEvent("initfocus",{composed:!0,bubbles:!0,cancelable:!0});if(t.dispatchEvent(e),e.defaultPrevented)return;let n=t.querySelector("[autofocus]:not([disabled])");!n&&t.tabIndex>=0&&(n=t),n||(n=Oit(t.shadowRoot)),t._previouslyFocusedElement=Av.activeElement,Av.activeElement instanceof HTMLElement&&Av.activeElement.blur(),t.addEventListener("transitionend",()=>{n instanceof HTMLElement&&n.focus({preventScroll:!0})},{once:!0})}function Oit(t){let e=["button","input","keygen","select","textarea"].map(function(r){return r+":not([disabled])"});e.push('[tabindex]:not([disabled]):not([tabindex=""])');let n=t==null?void 0:t.querySelector(e.join(", "));if(!n&&"attachShadow"in Element.prototype){let r=(t==null?void 0:t.querySelectorAll("*"))||[];for(let i=0;i<r.length&&!(r[i].tagName&&r[i].shadowRoot&&(n=Oit(r[i].shadowRoot),n));i++);}return n}function gyr(t){t._previouslyFocusedElement instanceof HTMLElement&&t._previouslyFocusedElement.focus()}Vu.customElements.get("media-dialog")||(Vu.customElements.define("media-dialog",D_),Vu.MediaDialog=D_);var Lit=D_,Pit=Av.createElement("template");Pit.innerHTML=`
  <style>
    ${Lit.styles}

    .close {
      background: none;
      color: inherit;
      border: none;
      padding: 0;
      font: inherit;
      cursor: pointer;
      outline: inherit;
      width: 28px;
      height: 28px;
      position: absolute;
      top: 1rem;
      right: 1rem;
    }
  </style>

  <div class="dialog">
    <slot></slot>
  </div>

  <slot name="close">
    <button class="close" tabindex="0">
      <svg fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
      </svg>
    </button>
  </slot>
`;var lX=class extends Lit{constructor(){var e,n;super(),(n=(e=this.shadowRoot)==null?void 0:e.querySelector(".close"))==null||n.addEventListener("click",()=>{this.close()})}};lX.template=Pit;Vu.customElements.get("mxp-dialog")||(Vu.customElements.define("mxp-dialog",lX),Vu.MxpDialog=lX);var mT=new WeakMap,Mit=class{constructor(e,n){this.element=e,this.type=n,this.element.addEventListener(this.type,this);let r=mT.get(this.element);r&&r.set(this.type,this)}set(e){if(typeof e=="function")this.handleEvent=e.bind(this.element);else if(typeof e=="object"&&typeof e.handleEvent=="function")this.handleEvent=e.handleEvent.bind(e);else{this.element.removeEventListener(this.type,this);let n=mT.get(this.element);n&&n.delete(this.type)}}static for(e){mT.has(e.element)||mT.set(e.element,new Map);let n=e.attributeName.slice(2),r=mT.get(e.element);return r&&r.has(n)?r.get(n):new Mit(e.element,n)}};function vyr(t,e){return t instanceof Oh&&t.attributeName.startsWith("on")?(Mit.for(t).set(e),t.element.removeAttributeNS(t.attributeNamespace,t.attributeName),!0):!1}function yyr(t,e){return e instanceof $it&&t instanceof RE?(e.renderInto(t),!0):!1}function byr(t,e){return e instanceof DocumentFragment&&t instanceof RE?(e.childNodes.length&&t.replace(...e.childNodes),!0):!1}function xyr(t,e){if(t instanceof Oh){let n=t.attributeNamespace,r=t.element.getAttributeNS(n,t.attributeName);return String(e)!==r&&(t.value=String(e)),!0}return t.value=String(e),!0}function wyr(t,e){if(t instanceof Oh&&e instanceof Element){let n=t.element;return n[t.attributeName]!==e&&(t.element.removeAttributeNS(t.attributeNamespace,t.attributeName),n[t.attributeName]=e),!0}return!1}function _yr(t,e){if(typeof e=="boolean"&&t instanceof Oh){let n=t.attributeNamespace,r=t.element.hasAttributeNS(n,t.attributeName);return e!==r&&(t.booleanValue=e),!0}return!1}function Cyr(t,e){return e===!1&&t instanceof RE?(t.replace(""),!0):!1}function Eyr(t,e){wyr(t,e)||_yr(t,e)||vyr(t,e)||Cyr(t,e)||yyr(t,e)||byr(t,e)||xyr(t,e)}var uW=new Map,DOe=new WeakMap,ROe=new WeakMap,$it=class{constructor(e,n,r){this.strings=e,this.values=n,this.processor=r,this.stringsKey=this.strings.join("")}get template(){if(uW.has(this.stringsKey))return uW.get(this.stringsKey);{let e=Av.createElement("template"),n=this.strings.length-1;return e.innerHTML=this.strings.reduce((r,i,s)=>r+i+(s<n?`{{ ${s} }}`:""),""),uW.set(this.stringsKey,e),e}}renderInto(e){var n;let r=this.template;if(DOe.get(e)!==r){DOe.set(e,r);let s=new WF(r,this.values,this.processor);ROe.set(e,s),e instanceof RE?e.replace(...s.children):e.appendChild(s);return}let i=ROe.get(e);(n=i==null?void 0:i.update)==null||n.call(i,this.values)}},Syr={processCallback(t,e,n){var r;if(n){for(let[i,s]of e)if(i in n){let o=(r=n[i])!=null?r:"";Eyr(s,o)}}}};function E1(t,...e){return new $it(t,e,Syr)}function Tyr(t,e){t.renderInto(e)}var uX=Av.createElement("template");"innerHTML"in uX&&(uX.innerHTML=myr);var kyr=t=>E1`
  <style>
    ${pyr}
  </style>
  ${Iyr(t)}
`,Ayr=t=>{let e=t.hotKeys?`${t.hotKeys}`:"";return Zoe(t.streamType)==="live"&&(e+=" noarrowleft noarrowright"),e},Iyr=t=>{var e,n,r,i,s,o,a,l,u,d,f,h,p,g,v,y,x,b,_,C,S,T,A,k,I,D,R,O,L,P,$,B,Q,V,Z;return E1`
  <media-theme
    template="${(e=t.themeTemplate)!=null?e:uX.content.children[0]}"
    defaultstreamtype="${(n=t.defaultStreamType)!=null?n:!1}"
    hotkeys="${Ayr(t)||!1}"
    nohotkeys="${t.noHotKeys||!t.hasSrc||t.isDialogOpen||!1}"
    noautoseektolive="${!!((r=t.streamType)!=null&&r.includes(Ao.LIVE))&&t.targetLiveWindow!==0}"
    novolumepref="${t.novolumepref||!1}"
    disabled="${!t.hasSrc||t.isDialogOpen}"
    audio="${(i=t.audio)!=null?i:!1}"
    style="${(s=eyr({"--media-primary-color":t.primaryColor,"--media-secondary-color":t.secondaryColor}))!=null?s:!1}"
    defaultsubtitles="${!t.defaultHiddenCaptions}"
    forwardseekoffset="${(o=t.forwardSeekOffset)!=null?o:!1}"
    backwardseekoffset="${(a=t.backwardSeekOffset)!=null?a:!1}"
    playbackrates="${(l=t.playbackRates)!=null?l:!1}"
    defaultshowremainingtime="${(u=t.defaultShowRemainingTime)!=null?u:!1}"
    hideduration="${(d=t.hideDuration)!=null?d:!1}"
    title="${(f=t.title)!=null?f:!1}"
    exportparts="top, center, bottom, layer, media-layer, poster-layer, vertical-layer, centered-layer, gesture-layer, poster, live, play, button, seek-backward, seek-forward, mute, captions, airplay, pip, fullscreen, cast, playback-rate, volume, range, time, display"
  >
    <mux-video
      slot="media"
      target-live-window="${(h=t.targetLiveWindow)!=null?h:!1}"
      stream-type="${(p=Zoe(t.streamType))!=null?p:!1}"
      crossorigin="${(g=t.crossOrigin)!=null?g:""}"
      playsinline
      autoplay="${(v=t.autoplay)!=null?v:!1}"
      muted="${(y=t.muted)!=null?y:!1}"
      loop="${(x=t.loop)!=null?x:!1}"
      preload="${(b=t.preload)!=null?b:!1}"
      debug="${(_=t.debug)!=null?_:!1}"
      prefer-cmcd="${(C=t.preferCmcd)!=null?C:!1}"
      disable-cookies="${(S=t.disableCookies)!=null?S:!1}"
      prefer-playback="${(T=t.preferPlayback)!=null?T:!1}"
      start-time="${t.startTime!=null?t.startTime:!1}"
      beacon-collection-domain="${(A=t.beaconCollectionDomain)!=null?A:!1}"
      player-software-name="${(k=t.playerSoftwareName)!=null?k:!1}"
      player-software-version="${(I=t.playerSoftwareVersion)!=null?I:!1}"
      env-key="${(D=t.envKey)!=null?D:!1}"
      custom-domain="${(R=t.customDomain)!=null?R:!1}"
      src="${t.src?t.src:t.playbackId?TOe(t.playbackId,{maxResolution:t.maxResolution,domain:t.customDomain,token:t.tokens.playback}):!1}"
      cast-src="${t.src?t.src:t.playbackId?TOe(t.playbackId,{maxResolution:t.maxResolution,domain:t.customDomain,token:t.tokens.playback}):!1}"
      exportparts="video"
    >
      ${t.storyboard?E1`<track label="thumbnails" default kind="metadata" src="${t.storyboard}" />`:E1``}
    </mux-video>
    <media-poster-image
      slot="poster"
      part="poster"
      src="${t.poster===""?!1:(O=t.poster)!=null?O:!1}"
      placeholder-src="${(L=t.placeholder)!=null?L:!1}"
    ></media-poster-image>
    <mxp-dialog
      no-auto-hide
      open="${(P=t.isDialogOpen)!=null?P:!1}"
      onclose="${t.onCloseErrorDialog}"
      oninitfocus="${t.onInitFocusDialog}"
    >
      ${($=t.dialog)!=null&&$.title?E1`<h3>${t.dialog.title}</h3>`:E1``}
      <p>
        ${(B=t.dialog)==null?void 0:B.message}
        ${(Q=t.dialog)!=null&&Q.linkUrl?E1`<a
              href="${t.dialog.linkUrl}"
              target="_blank"
              rel="external noopener"
              aria-label="${(V=t.dialog.linkText)!=null?V:""} ${Hr("(opens in a new window)")}"
              >${(Z=t.dialog.linkText)!=null?Z:t.dialog.linkUrl}</a
            >`:E1``}
      </p>
    </mxp-dialog>
  </media-theme>
`};function cX(t,e,n,r,i){var s,o,a;let l={},u={};switch(t.code){case qo.MEDIA_ERR_NETWORK:{switch(l.title=Hr("Network Error",i),l.message=t.message,(s=t.data)==null?void 0:s.response.code){case 412:{l.title=Hr("Video is not currently available",i),l.message=Hr("The live stream or video file are not yet ready.",i),u.message=Hr("This playback-id may belong to a live stream that is not currently active or an asset that is not ready.",i),u.file="412-not-playable.md";break}case 404:{l.title=Hr("Video does not exist",i),l.message="",u.message=Hr("This playback-id does not exist. You may have used an Asset ID or an ID from a different resource.",i),u.file="404-not-found.md";break}case 403:{if(l.title=Hr("Invalid playback URL",i),l.message=Hr("The video URL or playback-token are formatted with incorrect or incomplete information.",i),u.message=Hr("403 error trying to access this playback URL. If this is a signed URL, you might need to provide a playback-token.",i),u.file="missing-signed-tokens.md",!r)break;let{exp:d,aud:f,sub:h}=P3(r),p=Date.now()>d*1e3,g=h!==n,v=f!=="v",y={timeStyle:"medium",dateStyle:"medium"};if(p){l.title=Hr("Video URL has expired",i),l.message=Hr("The videos secured playback-token has expired.",i),u.message=Hr("The videos secured playback-token has expired.",i),u.context=Hr("Expired at: {expiredDate}. Current time: {currentDate}.",i).format({expiredDate:new Intl.DateTimeFormat(L3.code,y).format(d*1e3),currentDate:new Intl.DateTimeFormat(L3.code,y).format(Date.now())}),u.file="403-expired-token.md";break}if(g){l.title=Hr("Video URL is formatted incorrectly",i),l.message=Hr("The videos playback ID does not match the one encoded in the playback-token.",i),u.message=Hr("The videos playback ID does not match the one encoded in the playback-token.",i),u.context=Hr("Specified playback ID: {playbackId} and the playback ID encoded in the playback-token: {tokenPlaybackId}",i).format({playbackId:n,tokenPlaybackId:h}),u.file="403-playback-id-mismatch.md";break}if(v){l.title=Hr("Video URL is formatted incorrectly",i),l.message=Hr("The playback-token is formatted with incorrect information.",i),u.message=Hr("The playback-token is formatted with incorrect information.",i),u.context=Hr("The playback-token has an incorrect aud value: {tokenType}. aud value should be v.",i).format({tokenType:f}),u.file="403-incorrect-aud-value.md";break}u.message=Hr("403 error trying to access this playback URL. If this is a signed playback ID, the token might not have been generated correctly.",i),u.file="403-malformatted-token.md";break}}break}case qo.MEDIA_ERR_DECODE:{let{message:d}=t;l={title:Hr("Media Error",i),message:d},u.file="media-decode-error.md";break}case qo.MEDIA_ERR_SRC_NOT_SUPPORTED:{let d=(a=(o=t.data)==null?void 0:o.response)==null?void 0:a.code;if(d>=400&&d<500){t.code=qo.MEDIA_ERR_NETWORK,t.data={response:{code:d}},{dialog:l,devlog:u}=cX(t,e,n,r);break}l={title:Hr("Source Not Supported",i),message:t.message},u.file="media-src-not-supported.md";break}default:l={title:Hr("Error",i),message:t.message};break}return e&&(l={title:Hr("Your device appears to be offline",i),message:Hr("Check your internet connection and try reloading this video.",i)}),{dialog:l,devlog:u}}var xg={SRC:"src",POSTER:"poster"},$t={STYLE:"style",DEFAULT_HIDDEN_CAPTIONS:"default-hidden-captions",PRIMARY_COLOR:"primary-color",SECONDARY_COLOR:"secondary-color",FORWARD_SEEK_OFFSET:"forward-seek-offset",BACKWARD_SEEK_OFFSET:"backward-seek-offset",PLAYBACK_TOKEN:"playback-token",THUMBNAIL_TOKEN:"thumbnail-token",STORYBOARD_TOKEN:"storyboard-token",STORYBOARD_SRC:"storyboard-src",THUMBNAIL_TIME:"thumbnail-time",AUDIO:"audio",NOHOTKEYS:"nohotkeys",HOTKEYS:"hotkeys",PLAYBACK_RATES:"playbackrates",DEFAULT_SHOW_REMAINING_TIME:"default-show-remaining-time",TITLE:"title",PLACEHOLDER:"placeholder",THEME:"theme",DEFAULT_STREAM_TYPE:"default-stream-type",TARGET_LIVE_WINDOW:"target-live-window",NO_VOLUME_PREF:"no-volume-pref"},dX=["audio","backwardseekoffset","defaultshowremainingtime","defaultsubtitles","noautoseektolive","disabled","exportparts","forwardseekoffset","hideduration","hotkeys","nohotkeys","playbackrates","defaultstreamtype","streamtype","style","targetlivewindow","template","title","novolumepref"];function Dyr(t,e){var n;return{src:!t.playbackId&&t.src,playbackId:t.playbackId,hasSrc:!!t.playbackId||!!t.src,poster:t.poster,storyboard:t.storyboard,storyboardSrc:t.getAttribute($t.STORYBOARD_SRC),placeholder:t.getAttribute("placeholder"),themeTemplate:Ryr(t),thumbnailTime:!t.tokens.thumbnail&&t.thumbnailTime,autoplay:t.autoplay,crossOrigin:t.crossOrigin,loop:t.loop,noHotKeys:t.hasAttribute($t.NOHOTKEYS),hotKeys:t.getAttribute($t.HOTKEYS),muted:t.muted,paused:t.paused,preload:t.preload,envKey:t.envKey,preferCmcd:t.preferCmcd,debug:t.debug,disableCookies:t.disableCookies,tokens:t.tokens,beaconCollectionDomain:t.beaconCollectionDomain,maxResolution:t.maxResolution,metadata:t.metadata,playerSoftwareName:t.playerSoftwareName,playerSoftwareVersion:t.playerSoftwareVersion,startTime:t.startTime,preferPlayback:t.preferPlayback,audio:t.audio,defaultStreamType:t.defaultStreamType,targetLiveWindow:t.getAttribute(ct.TARGET_LIVE_WINDOW),streamType:Zoe(t.getAttribute(ct.STREAM_TYPE)),primaryColor:t.primaryColor,secondaryColor:t.secondaryColor,forwardSeekOffset:t.forwardSeekOffset,backwardSeekOffset:t.backwardSeekOffset,defaultHiddenCaptions:t.defaultHiddenCaptions,defaultShowRemainingTime:t.defaultShowRemainingTime,hideDuration:jyr(t),playbackRates:t.getAttribute($t.PLAYBACK_RATES),customDomain:(n=t.getAttribute(ct.CUSTOM_DOMAIN))!=null?n:void 0,title:t.getAttribute($t.TITLE),novolumepref:t.hasAttribute($t.NO_VOLUME_PREF),...e}}function Ryr(t){var e,n;let r=t.getAttribute($t.THEME);if(r){let i=(n=(e=t.getRootNode())==null?void 0:e.getElementById)==null?void 0:n.call(e,r);if(i)return i;r.startsWith("media-theme-")||(r=`media-theme-${r}`);let s=Vu.customElements.get(r);if(s!=null&&s.template)return s.template}}function jyr(t){var e;let n=(e=t.mediaController)==null?void 0:e.querySelector("media-time-display");return n&&getComputedStyle(n).getPropertyValue("--media-duration-display-display").trim()==="none"}function jOe(t){return t.getAttributeNames().filter(e=>e.startsWith("metadata-")).reduce((e,n)=>{let r=t.getAttribute(n);return r!==null&&(e[n.replace(/^metadata-/,"").replace(/-/g,"_")]=r),e},{})}var Oyr=Object.values(ct),Lyr=Object.values(xg),Pyr=Object.values($t),Myr=Ait(),$yr="mux-player",OOe={dialog:void 0,isDialogOpen:!1},JL,eP,S1,tP,R_,Fb,l5,fX,Fit,$8,hX,qb,u5,pX,LOe,mX,POe,gX,MOe,vX,$Oe,FOe=class extends AOe{constructor(){super(),vl(this,Fb),vl(this,fX),vl(this,$8),vl(this,qb),vl(this,pX),vl(this,mX),vl(this,gX),vl(this,vX),vl(this,JL,!1),vl(this,eP,{}),vl(this,S1,!0),vl(this,tP,new lyr(this,"hotkeys")),vl(this,R_,{...OOe,onCloseErrorDialog:()=>wl(this,$8,hX).call(this,{dialog:void 0,isDialogOpen:!1}),onInitFocusDialog:e=>{kit(this,Av.activeElement)||e.preventDefault()}}),this.attachShadow({mode:"open"}),wl(this,fX,Fit).call(this),this.isConnected&&wl(this,Fb,l5).call(this)}static get observedAttributes(){var e;return[...(e=AOe.observedAttributes)!=null?e:[],...Lyr,...Oyr,...Pyr]}get mediaTheme(){var e;return(e=this.shadowRoot)==null?void 0:e.querySelector("media-theme")}get mediaController(){var e,n;return(n=(e=this.mediaTheme)==null?void 0:e.shadowRoot)==null?void 0:n.querySelector("media-controller")}connectedCallback(){var e;let n=(e=this.shadowRoot)==null?void 0:e.querySelector("mux-video");n&&(n.metadata=jOe(this))}attributeChangedCallback(e,n,r){switch(wl(this,Fb,l5).call(this),super.attributeChangedCallback(e,n,r),e){case $t.HOTKEYS:ji(this,tP).value=r;break;case $t.THUMBNAIL_TIME:{r!=null&&this.tokens.thumbnail&&hx(Hr("Use of thumbnail-time with thumbnail-token is currently unsupported. Ignore thumbnail-time.").format({}));break}case $t.THUMBNAIL_TOKEN:{let{aud:i}=P3(r);r&&i!=="t"&&hx(Hr("The provided thumbnail-token should have audience value 't' instead of '{aud}'.").format({aud:i}));break}case $t.STORYBOARD_TOKEN:{let{aud:i}=P3(r);r&&i!=="s"&&hx(Hr("The provided storyboard-token should have audience value 's' instead of '{aud}'.").format({aud:i}));break}case ct.PLAYBACK_ID:{r!=null&&r.includes("?token")&&Rg(Hr("The specificed playback ID {playbackId} contains a token which must be provided via the playback-token attribute.").format({playbackId:r}));break}case ct.STREAM_TYPE:r&&![Ao.LIVE,Ao.ON_DEMAND,Ao.UNKNOWN].includes(r)?["ll-live","live:dvr","ll-live:dvr"].includes(this.streamType)?this.targetLiveWindow=r.includes("dvr")?Number.POSITIVE_INFINITY:0:Dit({file:"invalid-stream-type.md",message:Hr("Invalid stream-type value supplied: `{streamType}`. Please provide stream-type as either: `on-demand` or `live`").format({streamType:this.streamType})}):this.targetLiveWindow=r===Ao.LIVE?0:Number.NaN}[ct.PLAYBACK_ID,xg.SRC,$t.PLAYBACK_TOKEN].includes(e)&&n!==r&&Zg(this,R_,{...ji(this,R_),...OOe}),wl(this,qb,u5).call(this,{[ayr(e)]:r})}get preferCmcd(){var e;return(e=this.getAttribute(ct.PREFER_CMCD))!=null?e:void 0}set preferCmcd(e){e!==this.preferCmcd&&(e?M8.includes(e)?this.setAttribute(ct.PREFER_CMCD,e):hx(`Invalid value for preferCmcd. Must be one of ${M8.join()}`):this.removeAttribute(ct.PREFER_CMCD))}get hasPlayed(){var e,n;return(n=(e=this.mediaController)==null?void 0:e.hasAttribute("media-has-played"))!=null?n:!1}get inLiveWindow(){var e;return(e=this.mediaController)==null?void 0:e.hasAttribute("media-time-is-live")}get _hls(){var e;return(e=this.media)==null?void 0:e._hls}get mux(){var e;return(e=this.media)==null?void 0:e.mux}get theme(){var e;return(e=this.getAttribute($t.THEME))!=null?e:""}set theme(e){this.setAttribute($t.THEME,`${e}`)}get themeProps(){let e=this.mediaTheme;if(!e)return;let n={};for(let r of e.getAttributeNames()){if(dX.includes(r))continue;let i=e.getAttribute(r);n[Tit(r)]=i===""?!0:i}return n}set themeProps(e){var n,r;wl(this,Fb,l5).call(this);let i={...this.themeProps,...e};for(let s in i){if(dX.includes(s))continue;let o=e==null?void 0:e[s];typeof o=="boolean"||o==null?(n=this.mediaTheme)==null||n.toggleAttribute(aX(s),!!o):(r=this.mediaTheme)==null||r.setAttribute(aX(s),o)}}get playbackId(){var e;return(e=this.getAttribute(ct.PLAYBACK_ID))!=null?e:void 0}set playbackId(e){e?this.setAttribute(ct.PLAYBACK_ID,e):this.removeAttribute(ct.PLAYBACK_ID)}get src(){var e,n;return this.playbackId?(e=R2(this,xg.SRC))!=null?e:void 0:(n=this.getAttribute(xg.SRC))!=null?n:void 0}set src(e){e?this.setAttribute(xg.SRC,e):this.removeAttribute(xg.SRC)}get poster(){var e;let n=this.getAttribute(xg.POSTER);if(n!=null)return n;if(this.playbackId&&!this.audio)return iyr(this.playbackId,{domain:this.customDomain,thumbnailTime:(e=this.thumbnailTime)!=null?e:this.startTime,token:this.tokens.thumbnail})}set poster(e){e||e===""?this.setAttribute(xg.POSTER,e):this.removeAttribute(xg.POSTER)}get storyboardSrc(){var e;return(e=this.getAttribute($t.STORYBOARD_SRC))!=null?e:void 0}set storyboardSrc(e){e?this.setAttribute($t.STORYBOARD_SRC,e):this.removeAttribute($t.STORYBOARD_SRC)}get storyboard(){if(this.storyboardSrc&&!this.tokens.storyboard)return this.storyboardSrc;if(!(this.audio||!this.playbackId||!this.streamType||[Ao.LIVE,Ao.UNKNOWN].includes(this.streamType)))return syr(this.playbackId,{domain:this.customDomain,token:this.tokens.storyboard})}get audio(){return this.hasAttribute($t.AUDIO)}set audio(e){if(!e){this.removeAttribute($t.AUDIO);return}this.setAttribute($t.AUDIO,"")}get hotkeys(){return ji(this,tP)}get nohotkeys(){return this.hasAttribute($t.NOHOTKEYS)}set nohotkeys(e){if(!e){this.removeAttribute($t.NOHOTKEYS);return}this.setAttribute($t.NOHOTKEYS,"")}get thumbnailTime(){return fx(this.getAttribute($t.THUMBNAIL_TIME))}set thumbnailTime(e){this.setAttribute($t.THUMBNAIL_TIME,`${e}`)}get title(){var e;return(e=this.getAttribute($t.TITLE))!=null?e:""}set title(e){e!==this.title&&(e?this.setAttribute($t.TITLE,e):this.removeAttribute("title"),super.title=e)}get placeholder(){var e;return(e=R2(this,$t.PLACEHOLDER))!=null?e:""}set placeholder(e){this.setAttribute($t.PLACEHOLDER,`${e}`)}get primaryColor(){var e,n;let r=this.getAttribute($t.PRIMARY_COLOR);if(r!=null||this.mediaTheme&&(r=(n=(e=Vu.getComputedStyle(this.mediaTheme))==null?void 0:e.getPropertyValue("--_primary-color"))==null?void 0:n.trim(),r))return r}set primaryColor(e){this.setAttribute($t.PRIMARY_COLOR,`${e}`)}get secondaryColor(){var e,n;let r=this.getAttribute($t.SECONDARY_COLOR);if(r!=null||this.mediaTheme&&(r=(n=(e=Vu.getComputedStyle(this.mediaTheme))==null?void 0:e.getPropertyValue("--_secondary-color"))==null?void 0:n.trim(),r))return r}set secondaryColor(e){this.setAttribute($t.SECONDARY_COLOR,`${e}`)}get defaultShowRemainingTime(){return this.hasAttribute($t.DEFAULT_SHOW_REMAINING_TIME)}set defaultShowRemainingTime(e){e?this.setAttribute($t.DEFAULT_SHOW_REMAINING_TIME,""):this.removeAttribute($t.DEFAULT_SHOW_REMAINING_TIME)}get playbackRates(){if(this.hasAttribute($t.PLAYBACK_RATES))return this.getAttribute($t.PLAYBACK_RATES).trim().split(/\s*,?\s+/).map(e=>Number(e)).filter(e=>!Number.isNaN(e)).sort((e,n)=>e-n)}set playbackRates(e){if(!e){this.removeAttribute($t.PLAYBACK_RATES);return}this.setAttribute($t.PLAYBACK_RATES,e.join(" "))}get forwardSeekOffset(){var e;return(e=fx(this.getAttribute($t.FORWARD_SEEK_OFFSET)))!=null?e:10}set forwardSeekOffset(e){this.setAttribute($t.FORWARD_SEEK_OFFSET,`${e}`)}get backwardSeekOffset(){var e;return(e=fx(this.getAttribute($t.BACKWARD_SEEK_OFFSET)))!=null?e:10}set backwardSeekOffset(e){this.setAttribute($t.BACKWARD_SEEK_OFFSET,`${e}`)}get defaultHiddenCaptions(){return this.hasAttribute($t.DEFAULT_HIDDEN_CAPTIONS)}set defaultHiddenCaptions(e){e?this.setAttribute($t.DEFAULT_HIDDEN_CAPTIONS,""):this.removeAttribute($t.DEFAULT_HIDDEN_CAPTIONS)}get playerSoftwareName(){var e;return(e=this.getAttribute(ct.PLAYER_SOFTWARE_NAME))!=null?e:$yr}get playerSoftwareVersion(){var e;return(e=this.getAttribute(ct.PLAYER_SOFTWARE_VERSION))!=null?e:Myr}get beaconCollectionDomain(){var e;return(e=this.getAttribute(ct.BEACON_COLLECTION_DOMAIN))!=null?e:void 0}set beaconCollectionDomain(e){e!==this.beaconCollectionDomain&&(e?this.setAttribute(ct.BEACON_COLLECTION_DOMAIN,e):this.removeAttribute(ct.BEACON_COLLECTION_DOMAIN))}get maxResolution(){var e;return(e=this.getAttribute(ct.MAX_RESOLUTION))!=null?e:void 0}set maxResolution(e){e!==this.maxResolution&&(e?this.setAttribute(ct.MAX_RESOLUTION,e):this.removeAttribute(ct.MAX_RESOLUTION))}get customDomain(){var e;return(e=this.getAttribute(ct.CUSTOM_DOMAIN))!=null?e:void 0}set customDomain(e){e!==this.customDomain&&(e?this.setAttribute(ct.CUSTOM_DOMAIN,e):this.removeAttribute(ct.CUSTOM_DOMAIN))}get envKey(){var e;return(e=R2(this,ct.ENV_KEY))!=null?e:void 0}set envKey(e){this.setAttribute(ct.ENV_KEY,`${e}`)}get noVolumePref(){return this.hasAttribute($t.NO_VOLUME_PREF)}set noVolumePref(e){e?this.setAttribute($t.NO_VOLUME_PREF,""):this.removeAttribute($t.NO_VOLUME_PREF)}get debug(){return R2(this,ct.DEBUG)!=null}set debug(e){e?this.setAttribute(ct.DEBUG,""):this.removeAttribute(ct.DEBUG)}get disableCookies(){return R2(this,ct.DISABLE_COOKIES)!=null}set disableCookies(e){e?this.setAttribute(ct.DISABLE_COOKIES,""):this.removeAttribute(ct.DISABLE_COOKIES)}get streamType(){var e,n,r;return(r=(n=this.getAttribute(ct.STREAM_TYPE))!=null?n:(e=this.media)==null?void 0:e.streamType)!=null?r:Ao.UNKNOWN}set streamType(e){this.setAttribute(ct.STREAM_TYPE,`${e}`)}get defaultStreamType(){var e,n,r;return(r=(n=this.getAttribute($t.DEFAULT_STREAM_TYPE))!=null?n:(e=this.mediaController)==null?void 0:e.getAttribute($t.DEFAULT_STREAM_TYPE))!=null?r:Ao.ON_DEMAND}set defaultStreamType(e){e?this.setAttribute($t.DEFAULT_STREAM_TYPE,e):this.removeAttribute($t.DEFAULT_STREAM_TYPE)}get targetLiveWindow(){var e,n;return this.hasAttribute($t.TARGET_LIVE_WINDOW)?+this.getAttribute($t.TARGET_LIVE_WINDOW):(n=(e=this.media)==null?void 0:e.targetLiveWindow)!=null?n:Number.NaN}set targetLiveWindow(e){e!=this.targetLiveWindow&&(e==null?this.removeAttribute($t.TARGET_LIVE_WINDOW):this.setAttribute($t.TARGET_LIVE_WINDOW,`${+e}`))}get liveEdgeStart(){var e;return(e=this.media)==null?void 0:e.liveEdgeStart}get startTime(){return fx(R2(this,ct.START_TIME))}set startTime(e){this.setAttribute(ct.START_TIME,`${e}`)}get preferPlayback(){let e=this.getAttribute(ct.PREFER_PLAYBACK);if(e===em.MSE||e===em.NATIVE)return e}set preferPlayback(e){e!==this.preferPlayback&&(e===em.MSE||e===em.NATIVE?this.setAttribute(ct.PREFER_PLAYBACK,e):this.removeAttribute(ct.PREFER_PLAYBACK))}get metadata(){var e;return(e=this.media)==null?void 0:e.metadata}set metadata(e){if(wl(this,Fb,l5).call(this),!this.media){Rg("underlying media element missing when trying to set metadata. metadata will not be set.");return}this.media.metadata={...jOe(this),...e}}async addCuePoints(e){var n;if(wl(this,Fb,l5).call(this),!this.media){Rg("underlying media element missing when trying to addCuePoints. cuePoints will not be added.");return}return(n=this.media)==null?void 0:n.addCuePoints(e)}get activeCuePoint(){var e;return(e=this.media)==null?void 0:e.activeCuePoint}get cuePoints(){var e,n;return(n=(e=this.media)==null?void 0:e.cuePoints)!=null?n:[]}getStartDate(){var e;return(e=this.media)==null?void 0:e.getStartDate()}get currentPdt(){var e;return(e=this.media)==null?void 0:e.currentPdt}get tokens(){let e=this.getAttribute($t.PLAYBACK_TOKEN),n=this.getAttribute($t.THUMBNAIL_TOKEN),r=this.getAttribute($t.STORYBOARD_TOKEN);return{...ji(this,eP),...e!=null?{playback:e}:{},...n!=null?{thumbnail:n}:{},...r!=null?{storyboard:r}:{}}}set tokens(e){Zg(this,eP,e??{})}get playbackToken(){var e;return(e=this.getAttribute($t.PLAYBACK_TOKEN))!=null?e:void 0}set playbackToken(e){this.setAttribute($t.PLAYBACK_TOKEN,`${e}`)}get thumbnailToken(){var e;return(e=this.getAttribute($t.THUMBNAIL_TOKEN))!=null?e:void 0}set thumbnailToken(e){this.setAttribute($t.THUMBNAIL_TOKEN,`${e}`)}get storyboardToken(){var e;return(e=this.getAttribute($t.STORYBOARD_TOKEN))!=null?e:void 0}set storyboardToken(e){this.setAttribute($t.STORYBOARD_TOKEN,`${e}`)}addTextTrack(e,n,r,i){var s;let o=(s=this.media)==null?void 0:s.nativeEl;if(o)return $oe(o,e,n,r,i)}removeTextTrack(e){var n;let r=(n=this.media)==null?void 0:n.nativeEl;if(r)return V1r(r,e)}get textTracks(){var e;return(e=this.media)==null?void 0:e.textTracks}};JL=new WeakMap,eP=new WeakMap,S1=new WeakMap,tP=new WeakMap,R_=new WeakMap,Fb=new WeakSet,l5=function(){var t,e,n;if(!ji(this,JL)){Zg(this,JL,!0),wl(this,qb,u5).call(this);try{if(customElements.upgrade(this.mediaTheme),!(this.mediaTheme instanceof Vu.HTMLElement))throw""}catch{Rg("<media-theme> failed to upgrade!")}try{if(customElements.upgrade(this.media),!(this.media instanceof jvr))throw""}catch{Rg("<mux-video> failed to upgrade!")}try{if(customElements.upgrade(this.mediaController),!(this.mediaController instanceof Zhr))throw""}catch{Rg("<media-controller> failed to upgrade!")}fyr(this),wl(this,pX,LOe).call(this),wl(this,mX,POe).call(this),wl(this,gX,MOe).call(this),Zg(this,S1,(e=(t=this.mediaController)==null?void 0:t.hasAttribute("userinactive"))!=null?e:!0),wl(this,vX,$Oe).call(this),(n=this.media)==null||n.addEventListener("streamtypechange",()=>{wl(this,qb,u5).call(this)})}},fX=new WeakSet,Fit=function(){var t,e;try{(t=window==null?void 0:window.CSS)==null||t.registerProperty({name:"--media-primary-color",syntax:"<color>",inherits:!0}),(e=window==null?void 0:window.CSS)==null||e.registerProperty({name:"--media-secondary-color",syntax:"<color>",inherits:!0})}catch{}},$8=new WeakSet,hX=function(t){Object.assign(ji(this,R_),t),wl(this,qb,u5).call(this)},qb=new WeakSet,u5=function(t={}){Tyr(kyr(Dyr(this,{...ji(this,R_),...t})),this.shadowRoot)},pX=new WeakSet,LOe=function(){let t=e=>{var n,r;if(!(e!=null&&e.startsWith("theme-")))return;let i=e.replace(/^theme-/,"");if(dX.includes(i))return;let s=this.getAttribute(e);s!=null?(n=this.mediaTheme)==null||n.setAttribute(i,s):(r=this.mediaTheme)==null||r.removeAttribute(i)};new MutationObserver(e=>{for(let{attributeName:n}of e)t(n)}).observe(this,{attributes:!0}),this.getAttributeNames().forEach(t)},mX=new WeakSet,POe=function(){var t;let e=n=>{let{detail:r}=n;if(r instanceof qo||(r=new qo(r.message,r.code,r.fatal)),!(r!=null&&r.fatal)){hx(r),r.data&&hx(`${r.name} data:`,r.data);return}let{dialog:i,devlog:s}=cX(r,!window.navigator.onLine,this.playbackId,this.playbackToken);s.message&&Dit(s),Rg(r),r.data&&Rg(`${r.name} data:`,r.data),wl(this,$8,hX).call(this,{isDialogOpen:!0,dialog:i})};this.addEventListener("error",e),this.media&&(this.media.errorTranslator=(n={})=>{var r,i,s;if(!(((r=this.media)==null?void 0:r.error)instanceof qo))return n;let{devlog:o}=cX((i=this.media)==null?void 0:i.error,!window.navigator.onLine,this.playbackId,this.playbackToken,!1);return{player_error_code:(s=this.media)==null?void 0:s.error.code,player_error_message:o.message?String(o.message):n.player_error_message,player_error_context:o.context?String(o.context):n.player_error_context}}),(t=this.media)==null||t.addEventListener("error",n=>{var r,i;let{detail:s}=n;if(!s){let{message:o,code:a}=(i=(r=this.media)==null?void 0:r.error)!=null?i:{};s=new qo(o,a)}!(s!=null&&s.fatal)||this.dispatchEvent(new CustomEvent("error",{detail:s}))})},gX=new WeakSet,MOe=function(){var t,e,n,r;let i=()=>wl(this,qb,u5).call(this);(e=(t=this.media)==null?void 0:t.textTracks)==null||e.addEventListener("addtrack",i),(r=(n=this.media)==null?void 0:n.textTracks)==null||r.addEventListener("removetrack",i)},vX=new WeakSet,$Oe=function(){var t,e;let n=/.*Version\/.*Safari\/.*/.test(navigator.userAgent);if(!/Firefox/i.test(navigator.userAgent))return;let r,i=new WeakMap,s=()=>this.streamType===Ao.LIVE&&!this.secondaryColor&&this.offsetWidth>=800,o=(u,d,f=!1)=>{s()||Array.from(u&&u.activeCues||[]).forEach(h=>{if(!(!h.snapToLines||h.line<-5||h.line>=0&&h.line<10))if(!d||this.paused){let p=h.text.split(`
`).length,g=n?-2:-3;this.streamType===Ao.LIVE&&(g=n?-1:-2);let v=g-p;if(h.line===v&&!f)return;i.has(h)||i.set(h,h.line),h.line=v-1,h.line=v}else setTimeout(()=>{h.line=i.get(h)||"auto"},500)})},a=()=>{var u,d;o(r,(d=(u=this.mediaController)==null?void 0:u.hasAttribute("userinactive"))!=null?d:!1)},l=()=>{var u,d;let f=Array.from(((d=(u=this.mediaController)==null?void 0:u.media)==null?void 0:d.textTracks)||[]).filter(h=>["subtitles","captions"].includes(h.kind)&&h.mode==="showing")[0];f!==r&&(r==null||r.removeEventListener("cuechange",a)),r=f,r==null||r.addEventListener("cuechange",a),o(r,ji(this,S1))};if(l(),(t=this.textTracks)==null||t.addEventListener("change",l),(e=this.textTracks)==null||e.addEventListener("addtrack",l),navigator.userAgent.includes("Chrome/")){let u=()=>{o(r,ji(this,S1),!0),this.paused||window.requestAnimationFrame(u)};this.addEventListener("playing",()=>{u()})}this.addEventListener("userinactivechange",()=>{var u,d;let f=(d=(u=this.mediaController)==null?void 0:u.hasAttribute("userinactive"))!=null?d:!0;ji(this,S1)!==f&&(Zg(this,S1,f),o(r,ji(this,S1)))})};function R2(t,e){return t.media?t.media.getAttribute(e):t.getAttribute(e)}Vu.customElements.get("mux-player")||(Vu.customElements.define("mux-player",FOe),Vu.MuxPlayerElement=FOe);var BOe={className:"class",classname:"class",htmlFor:"for",crossOrigin:"crossorigin",viewBox:"viewBox",playsInline:"playsinline",autoPlay:"autoplay",playbackRate:"playbackrate"},Fyr=t=>t==null,Byr=(t,e)=>Fyr(e)?!1:t in e,Nyr=t=>t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`),Vyr=(t,e)=>{if(!(typeof e=="boolean"&&!e)){if(Byr(t,BOe))return BOe[t];if(typeof e!=null)return/[A-Z]/.test(t)?Nyr(t):t}},Uyr=(t,e)=>typeof t=="boolean"?"":t,Hyr=(t={})=>Object.entries(t).reduce((e,[n,r])=>{let i=Vyr(n,r);if(!i)return e;let s=Uyr(r);return e[i]=s,e},{}),zyr=(...t)=>{let e=m.useRef(null);return m.useEffect(()=>{t.forEach(n=>{!n||(typeof n=="function"?n(e.current):n.current=e.current)})},[t]),e},Wyr=Object.prototype.hasOwnProperty,Gyr=(t,e)=>{if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(Array.isArray(t))return!Array.isArray(e)||t.length!==e.length?!1:t.some((i,s)=>e[s]===i);let n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Wyr.call(e,n[i])||!Object.is(t[n[i]],e[n[i]]))return!1;return!0},Bit=(t,e,n)=>!Gyr(e,t[n]),qyr=(t,e,n)=>{t[n]=e},Yyr=(t,e,n,r=qyr,i=Bit)=>m.useEffect(()=>{let s=n==null?void 0:n.current;!s||!i(s,e,t)||r(s,e,t)},[n==null?void 0:n.current,e]),pb=Yyr,Kyr=()=>{try{return"1.11.4"}catch{}return"UNKNOWN"},Zyr=Kyr(),Xyr=()=>Zyr,Qyr=re.forwardRef(({children:t,...e},n)=>re.createElement("mux-player",Hyr({...e,ref:n}),t)),ks=(t,e,n)=>m.useEffect(()=>{let r=e==null?void 0:e.current;if(!(!r||!n))return r.addEventListener(t,n),()=>{r.removeEventListener(t,n)}},[e==null?void 0:e.current,n]),Jyr=(t,e)=>{let{onAbort:n,onCanPlay:r,onCanPlayThrough:i,onEmptied:s,onLoadStart:o,onLoadedData:a,onLoadedMetadata:l,onProgress:u,onDurationChange:d,onVolumeChange:f,onRateChange:h,onResize:p,onWaiting:g,onPlay:v,onPlaying:y,onTimeUpdate:x,onPause:b,onSeeking:_,onSeeked:C,onStalled:S,onSuspend:T,onEnded:A,onError:k,onCuePointChange:I,onCuePointsChange:D,metadata:R,tokens:O,paused:L,playbackId:P,playbackRates:$,currentTime:B,themeProps:Q,...V}=e;return pb("playbackRates",$,t),pb("metadata",R,t),pb("themeProps",Q,t),pb("tokens",O,t),pb("playbackId",P,t),pb("paused",L,t,(Z,ie)=>{ie!=null&&(ie?Z.pause():Z.play())},(Z,ie,J)=>Z.hasAttribute("autoplay")&&!Z.hasPlayed?!1:Bit(Z,ie,J)),pb("currentTime",B,t,(Z,ie)=>{ie!=null&&(Z.currentTime=ie)}),ks("abort",t,n),ks("canplay",t,r),ks("canplaythrough",t,i),ks("emptied",t,s),ks("loadstart",t,o),ks("loadeddata",t,a),ks("loadedmetadata",t,l),ks("progress",t,u),ks("durationchange",t,d),ks("volumechange",t,f),ks("ratechange",t,h),ks("resize",t,p),ks("waiting",t,g),ks("play",t,v),ks("playing",t,y),ks("timeupdate",t,x),ks("pause",t,b),ks("seeking",t,_),ks("seeked",t,C),ks("stalled",t,S),ks("suspend",t,T),ks("ended",t,A),ks("error",t,k),ks("cuepointchange",t,I),ks("cuepointschange",t,D),[V]},ebr=Xyr(),tbr="mux-player-react",nbr=re.forwardRef((t,e)=>{let n=m.useRef(null),r=zyr(n,e),[i]=Jyr(n,t);return re.createElement(Qyr,{ref:r,playerSoftwareName:tbr,playerSoftwareVersion:ebr,...i})}),rbr=nbr;const ibr=t=>typeof t=="object"&&typeof t.then=="function",px=[];function Nit(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function Vit(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of px)if(Nit(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=px.indexOf(i);s!==-1&&px.splice(s,1)},promise:(ibr(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(px.push(i),!n)throw i.promise}const Uit=(t,e,n)=>Vit(t,e,!1,n),sbr=(t,e,n)=>void Vit(t,e,!0,n),Hit=t=>{if(t===void 0||t.length===0)px.splice(0,px.length);else{const e=px.find(n=>Nit(t,n.keys,n.equal));e&&e.remove()}},av=()=>{},Ac=av(),cW=Object,oi=t=>t===Ac,Ug=t=>typeof t=="function",iy=(t,e)=>({...t,...e}),obr=t=>Ug(t.then),Vj=new WeakMap;let abr=0;const M3=t=>{const e=typeof t,n=t&&t.constructor,r=n==Date;let i,s;if(cW(t)===t&&!r&&n!=RegExp){if(i=Vj.get(t),i)return i;if(i=++abr+"~",Vj.set(t,i),n==Array){for(i="@",s=0;s<t.length;s++)i+=M3(t[s])+",";Vj.set(t,i)}if(n==cW){i="#";const o=cW.keys(t).sort();for(;!oi(s=o.pop());)oi(t[s])||(i+=s+":"+M3(t[s])+",");Vj.set(t,i)}}else i=r?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return i},jg=new WeakMap,dW={},Uj={},Xoe="undefined",YF=typeof window!=Xoe,yX=typeof document!=Xoe,lbr=()=>YF&&typeof window.requestAnimationFrame!=Xoe,zit=(t,e)=>{const n=jg.get(t);return[()=>!oi(e)&&t.get(e)||dW,r=>{if(!oi(e)){const i=t.get(e);e in Uj||(Uj[e]=i),n[5](e,iy(i,r),i||dW)}},n[6],()=>!oi(e)&&e in Uj?Uj[e]:!oi(e)&&t.get(e)||dW]};let bX=!0;const ubr=()=>bX,[xX,wX]=YF&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[av,av],cbr=()=>{const t=yX&&document.visibilityState;return oi(t)||t!=="hidden"},dbr=t=>(yX&&document.addEventListener("visibilitychange",t),xX("focus",t),()=>{yX&&document.removeEventListener("visibilitychange",t),wX("focus",t)}),fbr=t=>{const e=()=>{bX=!0,t()},n=()=>{bX=!1};return xX("online",e),xX("offline",n),()=>{wX("online",e),wX("offline",n)}},hbr={isOnline:ubr,isVisible:cbr},pbr={initFocus:dbr,initReconnect:fbr},NOe=!re.useId,$3=!YF||"Deno"in window,mbr=t=>lbr()?window.requestAnimationFrame(t):setTimeout(t,1),fW=$3?m.useEffect:m.useLayoutEffect,hW=typeof navigator<"u"&&navigator.connection,VOe=!$3&&hW&&(["slow-2g","2g"].includes(hW.effectiveType)||hW.saveData),Qoe=t=>{if(Ug(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?M3(t):"",[t,e]};let gbr=0;const _X=()=>++gbr,Wit=0,Git=1,qit=2,vbr=3;var gT={__proto__:null,ERROR_REVALIDATE_EVENT:vbr,FOCUS_EVENT:Wit,MUTATE_EVENT:qit,RECONNECT_EVENT:Git};async function Yit(...t){const[e,n,r,i]=t,s=iy({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let o=s.populateCache;const a=s.rollbackOnError;let l=s.optimisticData;const u=s.revalidate!==!1,d=p=>typeof a=="function"?a(p):a!==!1,f=s.throwOnError;if(Ug(n)){const p=n,g=[],v=e.keys();for(const y of v)!/^\$(inf|sub)\$/.test(y)&&p(e.get(y)._k)&&g.push(y);return Promise.all(g.map(h))}return h(n);async function h(p){const[g]=Qoe(p);if(!g)return;const[v,y]=zit(e,g),[x,b,_,C]=jg.get(e),S=()=>{const P=x[g];return u&&(delete _[g],delete C[g],P&&P[0])?P[0](qit).then(()=>v().data):v().data};if(t.length<3)return S();let T=r,A;const k=_X();b[g]=[k,0];const I=!oi(l),D=v(),R=D.data,O=D._c,L=oi(O)?R:O;if(I&&(l=Ug(l)?l(L,R):l,y({data:l,_c:L})),Ug(T))try{T=T(L)}catch(P){A=P}if(T&&obr(T))if(T=await T.catch(P=>{A=P}),k!==b[g][0]){if(A)throw A;return T}else A&&I&&d(A)&&(o=!0,y({data:L,_c:Ac}));if(o&&!A)if(Ug(o)){const P=o(T,L);y({data:P,error:Ac,_c:Ac})}else y({data:T,error:Ac,_c:Ac});if(b[g][1]=_X(),Promise.resolve(S()).then(()=>{y({_c:Ac})}),A){if(f)throw A;return}return T}}const UOe=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},ybr=(t,e)=>{if(!jg.has(t)){const n=iy(pbr,e),r={},i=Yit.bind(Ac,t);let s=av;const o={},a=(d,f)=>{const h=o[d]||[];return o[d]=h,h.push(f),()=>h.splice(h.indexOf(f),1)},l=(d,f,h)=>{t.set(d,f);const p=o[d];if(p)for(const g of p)g(f,h)},u=()=>{if(!jg.has(t)&&(jg.set(t,[r,{},{},{},i,l,a]),!$3)){const d=n.initFocus(setTimeout.bind(Ac,UOe.bind(Ac,r,Wit))),f=n.initReconnect(setTimeout.bind(Ac,UOe.bind(Ac,r,Git)));s=()=>{d&&d(),f&&f(),jg.delete(t)}}};return u(),[t,i,u,s]}return[t,jg.get(t)[4]]},bbr=(t,e,n,r,i)=>{const s=n.errorRetryCount,o=i.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*n.errorRetryInterval;!oi(s)&&o>s||setTimeout(r,a,i)},xbr=(t,e)=>M3(t)==M3(e),[Kit,wbr]=ybr(new Map),_br=iy({onLoadingSlow:av,onSuccess:av,onError:av,onErrorRetry:bbr,onDiscarded:av,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:VOe?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:VOe?5e3:3e3,compare:xbr,isPaused:()=>!1,cache:Kit,mutate:wbr,fallback:{}},hbr),Cbr=(t,e)=>{const n=iy(t,e);if(e){const{use:r,fallback:i}=t,{use:s,fallback:o}=e;r&&s&&(n.use=r.concat(s)),i&&o&&(n.fallback=iy(i,o))}return n},Ebr=m.createContext({}),Sbr="$inf$",Zit=YF&&window.__SWR_DEVTOOLS_USE__,Tbr=Zit?window.__SWR_DEVTOOLS_USE__:[],kbr=()=>{Zit&&(window.__SWR_DEVTOOLS_REACT__=re)},Abr=t=>Ug(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],Ibr=()=>iy(_br,m.useContext(Ebr)),Dbr=t=>(e,n,r)=>t(e,n&&((...s)=>{const[o]=Qoe(e),[,,,a]=jg.get(Kit);if(o.startsWith(Sbr))return n(...s);const l=a[o];return oi(l)?n(...s):(delete a[o],l)}),r),Rbr=Tbr.concat(Dbr),jbr=t=>function(...n){const r=Ibr(),[i,s,o]=Abr(n),a=Cbr(r,o);let l=t;const{use:u}=a,d=(u||[]).concat(Rbr);for(let f=d.length;f--;)l=d[f](l);return l(i,s||a.fetcher||null,a)},Obr=(t,e,n)=>{const r=e[t]||(e[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i>=0&&(r[i]=r[r.length-1],r.pop())}};kbr();const HOe=re.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t)}),pW={dedupe:!0},Lbr=(t,e,n)=>{const{cache:r,compare:i,suspense:s,fallbackData:o,revalidateOnMount:a,revalidateIfStale:l,refreshInterval:u,refreshWhenHidden:d,refreshWhenOffline:f,keepPreviousData:h}=n,[p,g,v,y]=jg.get(r),[x,b]=Qoe(t),_=m.useRef(!1),C=m.useRef(!1),S=m.useRef(x),T=m.useRef(e),A=m.useRef(n),k=()=>A.current,I=()=>k().isVisible()&&k().isOnline(),[D,R,O,L]=zit(r,x),P=m.useRef({}).current,$=oi(o)?n.fallback[x]:o,B=(xe,Pe)=>{for(const we in P){const De=we;if(De==="data"){if(!i(xe[De],Pe[De])&&(!oi(xe[De])||!i(te,Pe[De])))return!1}else if(Pe[De]!==xe[De])return!1}return!0},Q=m.useMemo(()=>{const xe=(()=>!x||!e?!1:oi(a)?k().isPaused()||s?!1:oi(l)?!0:l:a)(),Pe=ze=>{const He=iy(ze);return delete He._k,xe?{isValidating:!0,isLoading:!0,...He}:He},we=D(),De=L(),de=Pe(we),be=we===De?de:Pe(De);let ve=de;return[()=>{const ze=Pe(D());return B(ze,ve)?(ve.data=ze.data,ve.isLoading=ze.isLoading,ve.isValidating=ze.isValidating,ve.error=ze.error,ve):(ve=ze,ze)},()=>be]},[r,x]),V=LFe.useSyncExternalStore(m.useCallback(xe=>O(x,(Pe,we)=>{B(we,Pe)||xe()}),[r,x]),Q[0],Q[1]),Z=!_.current,ie=p[x]&&p[x].length>0,J=V.data,X=oi(J)?$:J,fe=V.error,ue=m.useRef(X),te=h?oi(J)?ue.current:J:X,F=(()=>ie&&!oi(fe)?!1:Z&&!oi(a)?a:k().isPaused()?!1:s?oi(X)?!1:l:oi(X)||l)(),ne=!!(x&&e&&Z&&F),ce=oi(V.isValidating)?ne:V.isValidating,me=oi(V.isLoading)?ne:V.isLoading,pe=m.useCallback(async xe=>{const Pe=T.current;if(!x||!Pe||C.current||k().isPaused())return!1;let we,De,de=!0;const be=xe||{},ve=!v[x]||!be.dedupe,ze=()=>NOe?!C.current&&x===S.current&&_.current:x===S.current,He={isValidating:!1,isLoading:!1},Ne=()=>{R(He)},Fe=()=>{const Ye=v[x];Ye&&Ye[1]===De&&delete v[x]},nt={isValidating:!0};oi(D().data)&&(nt.isLoading=!0);try{if(ve&&(R(nt),n.loadingTimeout&&oi(D().data)&&setTimeout(()=>{de&&ze()&&k().onLoadingSlow(x,n)},n.loadingTimeout),v[x]=[Pe(b),_X()]),[we,De]=v[x],we=await we,ve&&setTimeout(Fe,n.dedupingInterval),!v[x]||v[x][1]!==De)return ve&&ze()&&k().onDiscarded(x),!1;He.error=Ac;const Ye=g[x];if(!oi(Ye)&&(De<=Ye[0]||De<=Ye[1]||Ye[1]===0))return Ne(),ve&&ze()&&k().onDiscarded(x),!1;const Ge=D().data;He.data=i(Ge,we)?Ge:we,ve&&ze()&&k().onSuccess(we,x,n)}catch(Ye){Fe();const Ge=k(),{shouldRetryOnError:Ct}=Ge;Ge.isPaused()||(He.error=Ye,ve&&ze()&&(Ge.onError(Ye,x,Ge),(Ct===!0||Ug(Ct)&&Ct(Ye))&&I()&&Ge.onErrorRetry(Ye,x,Ge,wt=>{const pt=p[x];pt&&pt[0]&&pt[0](gT.ERROR_REVALIDATE_EVENT,wt)},{retryCount:(be.retryCount||0)+1,dedupe:!0})))}return de=!1,Ne(),!0},[x,r]),Ie=m.useCallback((...xe)=>Yit(r,S.current,...xe),[]);if(fW(()=>{T.current=e,A.current=n,oi(J)||(ue.current=J)}),fW(()=>{if(!x)return;const xe=pe.bind(Ac,pW);let Pe=0;const De=Obr(x,p,(de,be={})=>{if(de==gT.FOCUS_EVENT){const ve=Date.now();k().revalidateOnFocus&&ve>Pe&&I()&&(Pe=ve+k().focusThrottleInterval,xe())}else if(de==gT.RECONNECT_EVENT)k().revalidateOnReconnect&&I()&&xe();else{if(de==gT.MUTATE_EVENT)return pe();if(de==gT.ERROR_REVALIDATE_EVENT)return pe(be)}});return C.current=!1,S.current=x,_.current=!0,R({_k:b}),F&&(oi(X)||$3?xe():mbr(xe)),()=>{C.current=!0,De()}},[x]),fW(()=>{let xe;function Pe(){const De=Ug(u)?u(D().data):u;De&&xe!==-1&&(xe=setTimeout(we,De))}function we(){!D().error&&(d||k().isVisible())&&(f||k().isOnline())?pe(pW).then(Pe):Pe()}return Pe(),()=>{xe&&(clearTimeout(xe),xe=-1)}},[u,d,f,x]),m.useDebugValue(te),s&&oi(X)&&x){if(!NOe&&$3)throw new Error("Fallback data is required when using suspense in SSR.");T.current=e,A.current=n,C.current=!1;const xe=y[x];if(!oi(xe)){const Pe=Ie(xe);HOe(Pe)}if(oi(fe)){const Pe=pe(pW);oi(te)||(Pe.status="fulfilled",Pe.value=!0),HOe(Pe)}else throw fe}return{mutate:Ie,get data(){return P.data=!0,te},get error(){return P.error=!0,fe},get isValidating(){return P.isValidating=!0,ce},get isLoading(){return P.isLoading=!0,me}}},Pbr=jbr(Lbr);var Mbr=Object.create,Xit=Object.defineProperty,$br=Object.getOwnPropertyDescriptor,Fbr=Object.getOwnPropertyNames,Bbr=Object.getPrototypeOf,Nbr=Object.prototype.hasOwnProperty,kD=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Vbr=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Fbr(e))!Nbr.call(t,i)&&i!==n&&Xit(t,i,{get:()=>e[i],enumerable:!(r=$br(e,i))||r.enumerable});return t},Ubr=(t,e,n)=>(n=t!=null?Mbr(Bbr(t)):{},Vbr(e||!t||!t.__esModule?Xit(n,"default",{value:t,enumerable:!0}):n,t)),Hbr=kD((t,e)=>{var n;typeof window<"u"?n=window:typeof global<"u"?n=global:typeof self<"u"?n=self:n={},e.exports=n}),zbr=kD((t,e)=>{e.exports=r;var n=Object.prototype.toString;function r(i){if(!i)return!1;var s=n.call(i);return s==="[object Function]"||typeof i=="function"&&s!=="[object RegExp]"||typeof window<"u"&&(i===window.setTimeout||i===window.alert||i===window.confirm||i===window.prompt)}}),Wbr=kD((t,e)=>{var n=function(i){return i.replace(/^\s+|\s+$/g,"")},r=function(i){return Object.prototype.toString.call(i)==="[object Array]"};e.exports=function(i){if(!i)return{};for(var s={},o=n(i).split(`
`),a=0;a<o.length;a++){var l=o[a],u=l.indexOf(":"),d=n(l.slice(0,u)).toLowerCase(),f=n(l.slice(u+1));typeof s[d]>"u"?s[d]=f:r(s[d])?s[d].push(f):s[d]=[s[d],f]}return s}}),Gbr=kD((t,e)=>{e.exports=r;var n=Object.prototype.hasOwnProperty;function r(){for(var i={},s=0;s<arguments.length;s++){var o=arguments[s];for(var a in o)n.call(o,a)&&(i[a]=o[a])}return i}}),qbr=kD((t,e)=>{var n=Hbr(),r=zbr(),i=Wbr(),s=Gbr();e.exports=u,e.exports.default=u,u.XMLHttpRequest=n.XMLHttpRequest||h,u.XDomainRequest="withCredentials"in new u.XMLHttpRequest?u.XMLHttpRequest:n.XDomainRequest,o(["get","put","post","patch","head","delete"],function(p){u[p==="delete"?"del":p]=function(g,v,y){return v=l(g,v,y),v.method=p.toUpperCase(),d(v)}});function o(p,g){for(var v=0;v<p.length;v++)g(p[v])}function a(p){for(var g in p)if(p.hasOwnProperty(g))return!1;return!0}function l(p,g,v){var y=p;return r(g)?(v=g,typeof p=="string"&&(y={uri:p})):y=s(g,{uri:p}),y.callback=v,y}function u(p,g,v){return g=l(p,g,v),d(g)}function d(p){if(typeof p.callback>"u")throw new Error("callback argument missing");var g=!1,v=function($,B,Q){g||(g=!0,p.callback($,B,Q))};function y(){C.readyState===4&&setTimeout(_,0)}function x(){var $=void 0;if(C.response?$=C.response:$=C.responseText||f(C),O)try{$=JSON.parse($)}catch{}return $}function b($){return clearTimeout(L),$ instanceof Error||($=new Error(""+($||"Unknown XMLHttpRequest Error"))),$.statusCode=0,v($,P)}function _(){if(!T){var $;clearTimeout(L),p.useXDR&&C.status===void 0?$=200:$=C.status===1223?204:C.status;var B=P,Q=null;return $!==0?(B={body:x(),statusCode:$,method:k,headers:{},url:A,rawRequest:C},C.getAllResponseHeaders&&(B.headers=i(C.getAllResponseHeaders()))):Q=new Error("Internal XMLHttpRequest Error"),v(Q,B,B.body)}}var C=p.xhr||null;C||(p.cors||p.useXDR?C=new u.XDomainRequest:C=new u.XMLHttpRequest);var S,T,A=C.url=p.uri||p.url,k=C.method=p.method||"GET",I=p.body||p.data,D=C.headers=p.headers||{},R=!!p.sync,O=!1,L,P={body:void 0,headers:{},statusCode:0,method:k,url:A,rawRequest:C};if("json"in p&&p.json!==!1&&(O=!0,D.accept||D.Accept||(D.Accept="application/json"),k!=="GET"&&k!=="HEAD"&&(D["content-type"]||D["Content-Type"]||(D["Content-Type"]="application/json"),I=JSON.stringify(p.json===!0?I:p.json))),C.onreadystatechange=y,C.onload=_,C.onerror=b,C.onprogress=function(){},C.onabort=function(){T=!0},C.ontimeout=b,C.open(k,A,!R,p.username,p.password),R||(C.withCredentials=!!p.withCredentials),!R&&p.timeout>0&&(L=setTimeout(function(){if(!T){T=!0,C.abort("timeout");var $=new Error("XMLHttpRequest timeout");$.code="ETIMEDOUT",b($)}},p.timeout)),C.setRequestHeader)for(S in D)D.hasOwnProperty(S)&&C.setRequestHeader(S,D[S]);else if(p.headers&&!a(p.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in p&&(C.responseType=p.responseType),"beforeSend"in p&&typeof p.beforeSend=="function"&&p.beforeSend(C),C.send(I||null),C}function f(p){try{if(p.responseType==="document")return p.responseXML;var g=p.responseXML&&p.responseXML.documentElement.nodeName==="parsererror";if(p.responseType===""&&!g)return p.responseXML}catch{}return null}function h(){}});function Joe(t,e,...n){if(!t)throw new TypeError(Qit(e,n))}function Qit(t,e){let n=0;return t.replace(/%[os]/gu,()=>Jit(e[n++]))}function Jit(t){return typeof t!="object"||t===null?String(t):Object.prototype.toString.call(t)}var Ybr;function Kbr(t){try{let e=t instanceof Error?t:new Error(Jit(t));if(typeof dispatchEvent=="function"&&typeof ErrorEvent=="function")dispatchEvent(new ErrorEvent("error",{error:e,message:e.message}));else if(typeof process<"u"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)}catch{}}var Lh=typeof window<"u"?window:typeof self<"u"?self:typeof global<"u"?global:typeof globalThis<"u"?globalThis:void 0,Zbr,Ry=class{constructor(t,e){this.code=t,this.message=e}warn(...t){var e;try{let n=((e=new Error().stack)!==null&&e!==void 0?e:"").replace(/^(?:.+?\n){2}/gu,`
`);console.warn(this.message,...t,n)}catch{}}},Xbr=new Ry("W01","Unable to initialize event under dispatching."),Qbr=new Ry("W02","Assigning any falsy value to 'cancelBubble' property has no effect."),Jbr=new Ry("W03","Assigning any truthy value to 'returnValue' property has no effect."),exr=new Ry("W04","Unable to preventDefault on non-cancelable events."),txr=new Ry("W05","Unable to preventDefault inside passive event listener invocation."),nxr=new Ry("W06","An event listener wasn't added because it has been added already: %o, %o"),mW=new Ry("W07","The %o option value was abandoned because the event listener wasn't added as duplicated."),zOe=new Ry("W08","The 'callback' argument must be a function or an object that has 'handleEvent' method: %o"),V0=class{static get NONE(){return WOe}static get CAPTURING_PHASE(){return GOe}static get AT_TARGET(){return qOe}static get BUBBLING_PHASE(){return YOe}constructor(t,e){Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let n=e??{};CX.set(this,{type:String(t),bubbles:!!n.bubbles,cancelable:!!n.cancelable,composed:!!n.composed,target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1,inPassiveListenerFlag:!1,dispatchFlag:!1,timeStamp:Date.now()})}get type(){return ia(this).type}get target(){return ia(this).target}get srcElement(){return ia(this).target}get currentTarget(){return ia(this).currentTarget}composedPath(){let t=ia(this).currentTarget;return t?[t]:[]}get NONE(){return WOe}get CAPTURING_PHASE(){return GOe}get AT_TARGET(){return qOe}get BUBBLING_PHASE(){return YOe}get eventPhase(){return ia(this).dispatchFlag?2:0}stopPropagation(){ia(this).stopPropagationFlag=!0}get cancelBubble(){return ia(this).stopPropagationFlag}set cancelBubble(t){t?ia(this).stopPropagationFlag=!0:Qbr.warn()}stopImmediatePropagation(){let t=ia(this);t.stopPropagationFlag=t.stopImmediatePropagationFlag=!0}get bubbles(){return ia(this).bubbles}get cancelable(){return ia(this).cancelable}get returnValue(){return!ia(this).canceledFlag}set returnValue(t){t?Jbr.warn():KOe(ia(this))}preventDefault(){KOe(ia(this))}get defaultPrevented(){return ia(this).canceledFlag}get composed(){return ia(this).composed}get isTrusted(){return!1}get timeStamp(){return ia(this).timeStamp}initEvent(t,e=!1,n=!1){let r=ia(this);if(r.dispatchFlag){Xbr.warn();return}CX.set(this,{...r,type:String(t),bubbles:!!e,cancelable:!!n,target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1})}},WOe=0,GOe=1,qOe=2,YOe=3,CX=new WeakMap;function ia(t,e="this"){let n=CX.get(t);return Joe(n!=null,"'%s' must be an object that Event constructor created, but got another one: %o",e,t),n}function KOe(t){if(t.inPassiveListenerFlag){txr.warn();return}if(!t.cancelable){exr.warn();return}t.canceledFlag=!0}Object.defineProperty(V0,"NONE",{enumerable:!0});Object.defineProperty(V0,"CAPTURING_PHASE",{enumerable:!0});Object.defineProperty(V0,"AT_TARGET",{enumerable:!0});Object.defineProperty(V0,"BUBBLING_PHASE",{enumerable:!0});var gW=Object.getOwnPropertyNames(V0.prototype);for(let t=0;t<gW.length;++t)gW[t]!=="constructor"&&Object.defineProperty(V0.prototype,gW[t],{enumerable:!0});typeof Lh<"u"&&typeof Lh.Event<"u"&&Object.setPrototypeOf(V0.prototype,Lh.Event.prototype);function rxr(t){return Lh.DOMException?new Lh.DOMException(t,"InvalidStateError"):(j2==null&&(j2=class est extends Error{constructor(n){super(n),Error.captureStackTrace&&Error.captureStackTrace(this,est)}get code(){return 11}get name(){return"InvalidStateError"}},Object.defineProperties(j2.prototype,{code:{enumerable:!0},name:{enumerable:!0}}),XOe(j2),XOe(j2.prototype)),new j2(t))}var j2,ZOe={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};function XOe(t){let e=Object.keys(ZOe);for(let n=0;n<e.length;++n){let r=e[n],i=ZOe[r];Object.defineProperty(t,r,{get(){return i},configurable:!0,enumerable:!0})}}var KF=class extends V0{static wrap(t){return new(nst(t))(t)}constructor(t){super(t.type,{bubbles:t.bubbles,cancelable:t.cancelable,composed:t.composed}),t.cancelBubble&&super.stopPropagation(),t.defaultPrevented&&super.preventDefault(),tst.set(this,{original:t});let e=Object.keys(t);for(let n=0;n<e.length;++n){let r=e[n];r in this||Object.defineProperty(this,r,rst(t,r))}}stopPropagation(){super.stopPropagation();let{original:t}=O1(this);"stopPropagation"in t&&t.stopPropagation()}get cancelBubble(){return super.cancelBubble}set cancelBubble(t){super.cancelBubble=t;let{original:e}=O1(this);"cancelBubble"in e&&(e.cancelBubble=t)}stopImmediatePropagation(){super.stopImmediatePropagation();let{original:t}=O1(this);"stopImmediatePropagation"in t&&t.stopImmediatePropagation()}get returnValue(){return super.returnValue}set returnValue(t){super.returnValue=t;let{original:e}=O1(this);"returnValue"in e&&(e.returnValue=t)}preventDefault(){super.preventDefault();let{original:t}=O1(this);"preventDefault"in t&&t.preventDefault()}get timeStamp(){let{original:t}=O1(this);return"timeStamp"in t?t.timeStamp:super.timeStamp}},tst=new WeakMap;function O1(t){let e=tst.get(t);return Joe(e!=null,"'this' is expected an Event object, but got",t),e}var F8=new WeakMap;F8.set(Object.prototype,KF);typeof Lh<"u"&&typeof Lh.Event<"u"&&F8.set(Lh.Event.prototype,KF);function nst(t){let e=Object.getPrototypeOf(t);if(e==null)return KF;let n=F8.get(e);return n==null&&(n=ixr(nst(e),e),F8.set(e,n)),n}function ixr(t,e){class n extends t{}let r=Object.keys(e);for(let i=0;i<r.length;++i)Object.defineProperty(n.prototype,r[i],rst(e,r[i]));return n}function rst(t,e){let n=Object.getOwnPropertyDescriptor(t,e);return{get(){let r=O1(this).original,i=r[e];return typeof i=="function"?i.bind(r):i},set(r){let i=O1(this).original;i[e]=r},configurable:n.configurable,enumerable:n.enumerable}}function sxr(t,e,n,r,i,s){return{callback:t,flags:(e?1:0)|(n?2:0)|(r?4:0),signal:i,signalListener:s}}function oxr(t){t.flags|=8}function ist(t){return(t.flags&1)===1}function sst(t){return(t.flags&2)===2}function ost(t){return(t.flags&4)===4}function axr(t){return(t.flags&8)===8}function lxr({callback:t},e,n){try{typeof t=="function"?t.call(e,n):typeof t.handleEvent=="function"&&t.handleEvent(n)}catch(r){Kbr(r)}}function ast({listeners:t},e,n){for(let r=0;r<t.length;++r)if(t[r].callback===e&&ist(t[r])===n)return r;return-1}function uxr(t,e,n,r,i,s){let o;s&&(o=lst.bind(null,t,e,n),s.addEventListener("abort",o));let a=sxr(e,n,r,i,s,o);return t.cow?(t.cow=!1,t.listeners=[...t.listeners,a]):t.listeners.push(a),a}function lst(t,e,n){let r=ast(t,e,n);return r!==-1?ust(t,r):!1}function ust(t,e,n=!1){let r=t.listeners[e];return oxr(r),r.signal&&r.signal.removeEventListener("abort",r.signalListener),t.cow&&!n?(t.cow=!1,t.listeners=t.listeners.filter((i,s)=>s!==e),!1):(t.listeners.splice(e,1),!0)}function cxr(){return Object.create(null)}function dxr(t,e){var n;return(n=t[e])!==null&&n!==void 0?n:t[e]={attrCallback:void 0,attrListener:void 0,cow:!1,listeners:[]}}var ZF=class{constructor(){cst.set(this,cxr())}addEventListener(t,e,n){let r=vW(this),{callback:i,capture:s,once:o,passive:a,signal:l,type:u}=fxr(t,e,n);if(i==null||l!=null&&l.aborted)return;let d=dxr(r,u),f=ast(d,i,s);if(f!==-1){pxr(d.listeners[f],a,o,l);return}uxr(d,i,s,a,o,l)}removeEventListener(t,e,n){let r=vW(this),{callback:i,capture:s,type:o}=hxr(t,e,n),a=r[o];i!=null&&a&&lst(a,i,s)}dispatchEvent(t){let e=vW(this)[String(t.type)];if(e==null)return!0;let n=t instanceof V0?t:KF.wrap(t),r=ia(n,"event");if(r.dispatchFlag)throw rxr("This event has been in dispatching.");if(r.dispatchFlag=!0,r.target=r.currentTarget=this,!r.stopPropagationFlag){let{cow:i,listeners:s}=e;e.cow=!0;for(let o=0;o<s.length;++o){let a=s[o];if(!axr(a)&&(ost(a)&&ust(e,o,!i)&&(o-=1),r.inPassiveListenerFlag=sst(a),lxr(a,this,n),r.inPassiveListenerFlag=!1,r.stopImmediatePropagationFlag))break}i||(e.cow=!1)}return r.target=null,r.currentTarget=null,r.stopImmediatePropagationFlag=!1,r.stopPropagationFlag=!1,r.dispatchFlag=!1,!r.canceledFlag}},cst=new WeakMap;function vW(t,e="this"){let n=cst.get(t);return Joe(n!=null,"'%s' must be an object that EventTarget constructor created, but got another one: %o",e,t),n}function fxr(t,e,n){var r;return dst(e),typeof n=="object"&&n!==null?{type:String(t),callback:e??void 0,capture:!!n.capture,passive:!!n.passive,once:!!n.once,signal:(r=n.signal)!==null&&r!==void 0?r:void 0}:{type:String(t),callback:e??void 0,capture:!!n,passive:!1,once:!1,signal:void 0}}function hxr(t,e,n){return dst(e),typeof n=="object"&&n!==null?{type:String(t),callback:e??void 0,capture:!!n.capture}:{type:String(t),callback:e??void 0,capture:!!n}}function dst(t){if(!(typeof t=="function"||typeof t=="object"&&t!==null&&typeof t.handleEvent=="function")){if(t==null||typeof t=="object"){zOe.warn(t);return}throw new TypeError(Qit(zOe.message,[t]))}}function pxr(t,e,n,r){nxr.warn(ist(t)?"capture":"bubble",t.callback),sst(t)!==e&&mW.warn("passive"),ost(t)!==n&&mW.warn("once"),t.signal!==r&&mW.warn("signal")}var yW=Object.getOwnPropertyNames(ZF.prototype);for(let t=0;t<yW.length;++t)yW[t]!=="constructor"&&Object.defineProperty(ZF.prototype,yW[t],{enumerable:!0});typeof Lh<"u"&&typeof Lh.EventTarget<"u"&&Object.setPrototypeOf(ZF.prototype,Lh.EventTarget.prototype);var mxr=Ubr(qbr()),fst=30720,XF=512e3,QF=256,EX=(t,{minChunkSize:e=QF,maxChunkSize:n=XF}={})=>t==null||typeof t=="number"&&t>=256&&t%256===0&&t>=e&&t<=n,SX=(t,{minChunkSize:e=QF,maxChunkSize:n=XF}={})=>new TypeError(`chunkSize ${t} must be a positive number in multiples of 256, between ${e} and ${n}`),gxr=class{constructor(t,e={}){this.readableStream=t;var n,r,i;if(!EX(e.defaultChunkSize,e))throw SX(e.defaultChunkSize,e);this.defaultChunkSize=(n=e.defaultChunkSize)!=null?n:fst,this.minChunkSize=(r=e.minChunkSize)!=null?r:QF,this.maxChunkSize=(i=e.maxChunkSize)!=null?i:XF}get chunkSize(){var t;return(t=this._chunkSize)!=null?t:this.defaultChunkSize}set chunkSize(t){if(!EX(t,this))throw SX(t,this);this._chunkSize=t}get chunkByteSize(){return this.chunkSize*1024}async*[Symbol.asyncIterator](){let t,e=this.readableStream.getReader();try{for(;;){let{done:n,value:r}=await e.read();if(n){if(t){let s=t;t=void 0,yield s}break}let i=r instanceof Uint8Array?new Blob([r],{type:"application/octet-stream"}):r;for(t=t?new Blob([t,i]):i;t;)if(t.size===this.chunkByteSize){let s=t;t=void 0,yield s;break}else{if(t.size<this.chunkByteSize)break;{let s=t.slice(0,this.chunkByteSize);t=t.slice(this.chunkByteSize),yield s}}}}finally{if(t){let n=t;t=void 0,yield n}e.releaseLock();return}}},vxr=[200,201,202,204,308],hst=[408,502,503,504],pst=(t,e)=>!!t&&vxr.includes(t.statusCode),yxr=(t,{retryCodes:e=hst})=>!t||e.includes(t.statusCode),bxr=(t,e)=>e.attemptCount>=e.attempts||!(pst(t)||yxr(t,e)),mst=class{static createUpload(t){return new mst(t)}constructor(t){this.endpoint=t.endpoint,this.file=t.file,this.headers=t.headers||{},this.method=t.method||"PUT",this.attempts=t.attempts||5,this.delayBeforeAttempt=t.delayBeforeAttempt||1,this.retryCodes=t.retryCodes||hst,this.dynamicChunkSize=t.dynamicChunkSize||!1,this.maxFileBytes=(t.maxFileSize||0)*1024,this.chunkCount=0,this.attemptCount=0,this.offline=!1,this._paused=!1,this.success=!1,this.nextChunkRangeStart=0,this.chunkedStreamIterable=new gxr(this.file.stream(),{...t,defaultChunkSize:t.chunkSize}),this.chunkedStreamIterator=this.chunkedStreamIterable[Symbol.asyncIterator](),this.totalChunks=Math.ceil(this.file.size/this.chunkByteSize),this.eventTarget=new ZF,this.validateOptions(),this.getEndpoint().then(()=>this.sendChunks()),typeof window<"u"&&(window.addEventListener("online",()=>{!this.offline||(this.offline=!1,this.dispatch("online"),this.sendChunks())}),window.addEventListener("offline",()=>{this.offline=!0,this.dispatch("offline")}))}get maxChunkSize(){var t,e;return(e=(t=this.chunkedStreamIterable)==null?void 0:t.maxChunkSize)!=null?e:XF}get minChunkSize(){var t,e;return(e=(t=this.chunkedStreamIterable)==null?void 0:t.minChunkSize)!=null?e:QF}get chunkSize(){var t,e;return(e=(t=this.chunkedStreamIterable)==null?void 0:t.chunkSize)!=null?e:fst}set chunkSize(t){this.chunkedStreamIterable.chunkSize=t}get chunkByteSize(){return this.chunkedStreamIterable.chunkByteSize}get totalChunkSize(){return Math.ceil(this.file.size/this.chunkByteSize)}on(t,e){this.eventTarget.addEventListener(t,e)}once(t,e){this.eventTarget.addEventListener(t,e,{once:!0})}off(t,e){this.eventTarget.removeEventListener(t,e)}get paused(){return this._paused}abort(){var t;this.pause(),(t=this.currentXhr)==null||t.abort()}pause(){this._paused=!0}resume(){this._paused&&(this._paused=!1,this.sendChunks())}dispatch(t,e){let n=new CustomEvent(t,{detail:e});this.eventTarget.dispatchEvent(n)}validateOptions(){if(!this.endpoint||typeof this.endpoint!="function"&&typeof this.endpoint!="string")throw new TypeError("endpoint must be defined as a string or a function that returns a promise");if(!(this.file instanceof File))throw new TypeError("file must be a File object");if(this.headers&&typeof this.headers!="function"&&typeof this.headers!="object")throw new TypeError("headers must be null, an object, or a function that returns an object or a promise");if(!EX(this.chunkSize,{maxChunkSize:this.maxChunkSize,minChunkSize:this.minChunkSize}))throw SX(this.chunkSize,{maxChunkSize:this.maxChunkSize,minChunkSize:this.minChunkSize});if(this.maxChunkSize&&(typeof this.maxChunkSize!="number"||this.maxChunkSize<256||this.maxChunkSize%256!==0||this.maxChunkSize<this.chunkSize||this.maxChunkSize<this.minChunkSize))throw new TypeError(`maxChunkSize must be a positive number in multiples of 256, and larger than or equal to both ${this.minChunkSize} and ${this.chunkSize}`);if(this.minChunkSize&&(typeof this.minChunkSize!="number"||this.minChunkSize<256||this.minChunkSize%256!==0||this.minChunkSize>this.chunkSize||this.minChunkSize>this.maxChunkSize))throw new TypeError(`minChunkSize must be a positive number in multiples of 256, and smaller than ${this.chunkSize} and ${this.maxChunkSize}`);if(this.maxFileBytes>0&&this.maxFileBytes<this.file.size)throw new Error(`file size exceeds maximum (${this.file.size} > ${this.maxFileBytes})`);if(this.attempts&&(typeof this.attempts!="number"||this.attempts<=0))throw new TypeError("retries must be a positive number");if(this.delayBeforeAttempt&&(typeof this.delayBeforeAttempt!="number"||this.delayBeforeAttempt<0))throw new TypeError("delayBeforeAttempt must be a positive number")}getEndpoint(){return typeof this.endpoint=="string"?(this.endpointValue=this.endpoint,Promise.resolve(this.endpoint)):this.endpoint(this.file).then(t=>(this.endpointValue=t,this.endpointValue))}xhrPromise(t){let e=n=>{n.upload.onprogress=r=>{var i;let s=this.totalChunks-this.chunkCount,o=(this.file.size-this.nextChunkRangeStart)/this.file.size/s,a=this.nextChunkRangeStart/this.file.size,l=r.loaded/((i=r.total)!=null?i:this.chunkByteSize)*o;this.dispatch("progress",Math.min((a+l)*100,100))}};return new Promise((n,r)=>{this.currentXhr=(0,mxr.default)({...t,beforeSend:e},(i,s)=>(this.currentXhr=void 0,i?r(i):n(s)))})}async sendChunk(t){let e=this.nextChunkRangeStart,n=e+t.size-1,r={...await(typeof this.headers=="function"?this.headers():this.headers),"Content-Type":this.file.type,"Content-Range":`bytes ${e}-${n}/${this.file.size}`};return this.dispatch("attempt",{chunkNumber:this.chunkCount,totalChunks:this.totalChunks,chunkSize:this.chunkSize}),this.xhrPromise({headers:r,url:this.endpointValue,method:this.method,body:t})}async sendChunkWithRetries(t){let e=async(o,a)=>{var l;let u=(new Date().getTime()-this.lastChunkStart.getTime())/1e3;if(this.dispatch("chunkSuccess",{chunk:this.chunkCount,chunkSize:this.chunkSize,attempts:this.attemptCount,timeInterval:u,response:o}),this.attemptCount=0,this.chunkCount=((l=this.chunkCount)!=null?l:0)+1,this.nextChunkRangeStart=this.nextChunkRangeStart+this.chunkByteSize,this.dynamicChunkSize){let d=this.chunkSize;u<10?d=Math.min(this.chunkSize*2,this.maxChunkSize):u>30&&(d=Math.max(this.chunkSize/2,this.minChunkSize)),this.chunkSize=Math.ceil(d/256)*256;let f=(this.file.size-this.nextChunkRangeStart)/this.chunkByteSize;this.totalChunks=Math.ceil(this.chunkCount+f)}return!0},n=async(o,a)=>(this.dispatch("error",{message:`Server responded with ${o.statusCode}. Stopping upload.`,chunk:this.chunkCount,attempts:this.attemptCount}),!1),r=async(o,a)=>(this.dispatch("attemptFailure",{message:`An error occured uploading chunk ${this.chunkCount}. ${this.attempts-this.attemptCount} retries left.`,chunkNumber:this.chunkCount,attemptsLeft:this.attempts-this.attemptCount}),new Promise(l=>{setTimeout(async()=>{if(this._paused||this.offline){this.pendingChunk=t,l(!1);return}let u=await this.sendChunkWithRetries(t);l(u)},this.delayBeforeAttempt*1e3)})),i;try{this.attemptCount=this.attemptCount+1,this.lastChunkStart=new Date,i=await this.sendChunk(t)}catch{}let s={retryCodes:this.retryCodes,attemptCount:this.attemptCount,attempts:this.attempts};return pst(i)?e(i):bxr(i,s)?n(i):r()}async sendChunks(){if(this.pendingChunk&&!(this._paused||this.offline)){let t=this.pendingChunk;this.pendingChunk=void 0;let e=await this.sendChunkWithRetries(t);this.success&&e&&this.dispatch("success")}for(;!(this.success||this._paused||this.offline);){let{value:t,done:e}=await this.chunkedStreamIterator.next(),n=!t&&e;if(t&&(n=await this.sendChunkWithRetries(t)),this.success=!!e,this.success&&n&&this.dispatch("success"),!n)return}}},xxr=function(t){var e,n;function r(s){var o;return(o=t.call(this,s)||this).state={hasError:!1,error:null},o}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r.getDerivedStateFromError=function(s){return{hasError:!0,error:s}};var i=r.prototype;return i.componentDidCatch=function(s,o){return this.props.onDidCatch(s,o)},i.render=function(){var s=this.state,o=this.props,a=o.render,l=o.children,u=o.renderError;return s.hasError?u?u({error:s.error}):null:a?a():l||null},r}(m.PureComponent),wxr=function(t,e){switch(e.type){case"catch":return{didCatch:!0,error:e.error};case"reset":return{didCatch:!1,error:null};default:return t}};function _xr(t){var e=m.useReducer(wxr,{didCatch:!1,error:null}),n=e[0],r=e[1],i=m.useRef(null);function s(){return l=function(u,d){r({type:"catch",error:u}),t&&t.onDidCatch&&t.onDidCatch(u,d)},function(u){return re.createElement(xxr,{onDidCatch:l,children:u.children,render:u.render,renderError:u.renderError})};var l}var o,a=m.useCallback(function(){i.current=s(),r({type:"reset"})},[]);return{ErrorBoundary:(o=i.current,o!==null?o:(i.current=s(),i.current)),didCatch:n.didCatch,error:n.error,reset:a}}const Cxr=()=>c.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2zm0 14H3V5h18v12zm-5-6l-7 4V7z"})}),eae="2022-09-14";function jy(){return Cs({apiVersion:eae})}const Exr=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,Sxr=/(^[.]+)|([.]+$)/;function Txr(t){return(t.match(Exr)||[]).map(e=>e.replace(Sxr,""))}function kxr(t){const e={};return t.reduce((n,r,i)=>(n["t".concat(i)]="".concat(r,"*"),n),e)}function Axr(t){const e=[],n=t.replace(/("[^"]*")/g,s=>Ag.words(s).length>1?(e.push(s),""):s),r=e.map(s=>Ag.trim(Ag.toLower(s))),i=Ag.uniq(Ag.compact(Txr(Ag.toLower(n))));return[...r,...i]}const Ixr=["filename"];function Dxr(t){return t.map((n,r)=>Ixr.map(i=>"".concat(i," match $t").concat(r))).filter(n=>n.length>0).map(n=>"(".concat(n.join(" || "),")"))}function Rxr(t){const e=Axr(t);return{filter:Dxr(e),params:{...kxr(e)}}}const gst={createdDesc:{groq:"_createdAt desc",label:"Newest first"},createdAsc:{groq:"_createdAt asc",label:"First created (oldest)"},filenameAsc:{groq:"filename asc",label:"By filename (A-Z)"},filenameDesc:{groq:"filename desc",label:"By filename (Z-A)"}},jxr=Om(t=>{let{documentStore:e,sort:n,searchQuery:r}=t;const i=Rxr(r),s=['_type == "mux.videoAsset"',...i.filter].filter(Boolean).join(" && "),o=gst[n].groq;return e.listenQuery("*[".concat(s,"] | order(").concat(o,")"),i.params,{apiVersion:eae})});function Oxr(){const t=Kc(),[e,n]=m.useState("createdDesc"),[r,i]=m.useState(""),[s=[],o]=jxr({documentStore:t,sort:e,searchQuery:r});return{assets:m.useMemo(()=>VI(s).map(l=>({...l.draft||l.published||{},_id:l.id})),[s]),isLoading:o,sort:e,searchQuery:r,setSort:n,setSearchQuery:i}}const Lxr={constrainSize:!0,placement:"bottom",portal:!0,width:0};function Pxr(t){const e=m.useId();return c.jsx(vr,{button:c.jsx(Ce,{text:"Sort",icon:v7,mode:"bleed",padding:3,style:{cursor:"pointer"}}),id:e,menu:c.jsx(er,{children:Object.entries(gst).map(n=>{let[r,{label:i}]=n;return c.jsx(St,{"data-as":"button",onClick:()=>t.setSort(r),padding:3,tone:"default",text:i,pressed:r===t.sort},r)})}),popover:Lxr})}const F3=()=>c.jsx(N,{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"150px"},children:c.jsx(_s,{})}),QOe="mux-input",TX="sanity-plugin-mux-input",Mxr="secrets.mux",kX=6e4,vst=16/9,$xr=5/4;function Fxr(t){const{children:e,title:n,description:r,inputId:i}=t;return c.jsxs(Te,{space:1,children:[c.jsx(ae,{align:"flex-end",children:c.jsx(N,{flex:1,paddingY:2,children:c.jsxs(Te,{space:2,children:[c.jsx(G,{as:"label",htmlFor:i,weight:"semibold",size:1,children:n||c.jsx("em",{children:"Untitled"})}),r&&c.jsx(G,{muted:!0,size:1,children:r})]})})}),c.jsx("div",{children:e})]})}var AX=m.memo(Fxr);const V1=t=>{const e=t.icon;return c.jsxs(ae,{gap:2,align:"center",padding:1,children:[c.jsx(G,{size:(t.size||1)+1,muted:!0,children:c.jsx(e,{})}),c.jsx(G,{size:t.size||1,muted:t.muted,children:t.text})]})};function Bxr(t){return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...t,children:c.jsx("path",{fill:"currentColor",d:"M20 9V6h-3V4h5v5h-2ZM2 9V4h5v2H4v3H2Zm15 11v-2h3v-3h2v5h-5ZM2 20v-5h2v3h3v2H2Zm4-4V8h12v8H6Zm2-2h8v-4H8v4Zm0 0v-4v4Z"})})}function Nxr(t){return c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 512 512",...t,children:[c.jsx("path",{d:"M232 306.667h48V176h-48v130.667z",fill:"currentColor"}),c.jsx("path",{d:"M407.67 170.271l30.786-30.786-33.942-33.941-30.785 30.786C341.217 111.057 300.369 96 256 96 149.961 96 64 181.961 64 288s85.961 192 192 192 192-85.961 192-192c0-44.369-15.057-85.217-40.33-117.729zm-45.604 223.795C333.734 422.398 296.066 438 256 438s-77.735-15.602-106.066-43.934C121.602 365.735 106 328.066 106 288s15.602-77.735 43.934-106.066C178.265 153.602 215.934 138 256 138s77.734 15.602 106.066 43.934C390.398 210.265 406 247.934 406 288s-15.602 77.735-43.934 106.066z",fill:"currentColor"}),c.jsx("path",{d:"M192 32h128v48H192z",fill:"currentColor"})]})}const B8="secrets.mux";function Vxr(t){const{projectId:e,dataset:n}=t.config();return Uit(async()=>{const r=await t.fetch(`*[_id == $_id][0]{
        token,
        secretKey,
        enableSignedUrls,
        signingKeyId,
        signingKeyPrivate
      }`,{_id:B8});return{token:(r==null?void 0:r.token)||null,secretKey:(r==null?void 0:r.secretKey)||null,enableSignedUrls:!!(r!=null&&r.enableSignedUrls)||!1,signingKeyId:(r==null?void 0:r.signingKeyId)||null,signingKeyPrivate:(r==null?void 0:r.signingKeyPrivate)||null}},[TX,B8,e,n])}function yst(t,e,n,r){const{signingKeyId:i,signingKeyPrivate:s}=Vxr(t);if(!i)throw new TypeError("Missing signingKeyId");if(!s)throw new TypeError("Missing signingKeyPrivate");const{default:o}=Uit(()=>vI(()=>import("./sign-04aba082.js"),[]),["jsonwebtoken-esm/sign"]);return o(r?JSON.parse(JSON.stringify(r,(a,l)=>l??void 0)):{},atob(s),{algorithm:"RS256",keyid:i,audience:n,subject:e,noTimestamp:!0,expiresIn:"12h"})}function bst(t){if(!(t!=null&&t.playbackId))throw console.error("Asset is missing a playbackId",{asset:t}),new TypeError("Missing playbackId");return t.playbackId}function JF(t){var e,n,r,i;return(i=(r=(n=(e=t.data)==null?void 0:e.playback_ids)==null?void 0:n[0])==null?void 0:r.policy)!=null?i:"public"}function Uxr(t){let{asset:e,client:n}=t;const r=bst(e),i=new URLSearchParams;if(JF(e)==="signed"){const s=yst(n,r,"v");i.set("token",s)}return"https://stream.mux.com/".concat(r,".m3u8?").concat(i)}var Hxr="sanity-plugin-mux-input",zxr="2.2.3",Wxr="An input component that integrates Sanity Studio with Mux video encoding/hosting service.",Gxr=["sanity","video","mux","input","plugin","sanity-plugin","media"],qxr="https://github.com/sanity-io/sanity-plugin-mux-input#readme",Yxr={url:"https://github.com/sanity-io/sanity-plugin-mux-input/issues"},Kxr={type:"git",url:"git@github.com:sanity-io/sanity-plugin-mux-input.git"},Zxr="MIT",Xxr="Sanity.io <hello@sanity.io>",Qxr=!1,Jxr="module",ewr={".":{types:"./lib/index.d.ts",source:"./src/index.ts",require:"./lib/index.cjs",node:{module:"./lib/index.js",import:"./lib/index.cjs.js"},import:"./lib/index.js",default:"./lib/index.js"},"./package.json":"./package.json"},twr="./lib/index.cjs",nwr="./lib/index.js",rwr="./src/index.ts",iwr="./lib/index.d.ts",swr=["src","lib","sanity.json","v2-incompatible.js"],owr={build:"run-s clean && plugin-kit verify-package --silent && pkg-utils build --strict && pkg-utils --strict",clean:"rimraf lib",dev:"next dev",format:"prettier --write --cache --ignore-unknown .","link-watch":"plugin-kit link-watch",lint:"eslint .",prepare:"husky install || true",prepublishOnly:"run-s build",test:"npm run lint && npm run type-check && npm run build","type-check":"tsc --noEmit",watch:"pkg-utils watch --strict"},awr={"@mux/mux-player-react":"1.11.4","@mux/upchunk":"^3","@sanity/icons":"^2","@sanity/incompatible-plugin":"^1","@sanity/ui":"^1","@sanity/uuid":"^3","jsonwebtoken-esm":"^1.0.5",lodash:"^4","react-rx":"^2.1.3",rxjs:"^7","scroll-into-view-if-needed":"^3","suspend-react":"^0.1.3",swr:"^2.2.1","type-fest":"^4.2.0","use-error-boundary":"^2.0.6"},lwr={"@commitlint/cli":"^17.7.1","@commitlint/config-conventional":"^17.7.0","@sanity/pkg-utils":"^2.4.6","@sanity/plugin-kit":"^3.1.10","@sanity/semantic-release-preset":"^4.1.3","@sanity/vision":"^3.15.1","@types/react":"^18.2.20","@types/styled-components":"^5.1.26","@typescript-eslint/eslint-plugin":"^5.62.0","@typescript-eslint/parser":"^5.62.0","cz-conventional-changelog":"^3.3.0",eslint:"^8.47.0","eslint-config-prettier":"^8.10.0","eslint-config-react-app":"^7.0.1","eslint-config-sanity":"^6.0.0","eslint-plugin-import":"^2.28.1","eslint-plugin-prettier":"^5.0.0","eslint-plugin-react":"^7.33.2","eslint-plugin-react-hooks":"^4.6.0","eslint-plugin-simple-import-sort":"^10.0.0",husky:"^8.0.3","lint-staged":"^13.3.0",next:"^13.4.19","next-sanity":"^5.4.4","npm-run-all":"^4.1.5",prettier:"^3.0.2","prettier-plugin-packagejson":"^2.4.5",react:"^18.2.0","react-dom":"^18.2.0","react-is":"^18.2.0",rimraf:"^5.0.0",sanity:"^3.15.1","styled-components":"^5.3.11",typescript:"^5.1.6"},uwr={react:"^18","react-is":"^18",sanity:"^3","styled-components":"^5.2"},cwr={node:">=14"},dwr={access:"public",provenance:!0},fwr="https://www.sanity.io/plugins/sanity-plugin-mux-input",hwr={name:Hxr,version:zxr,description:Wxr,keywords:Gxr,homepage:qxr,bugs:Yxr,repository:Kxr,license:Zxr,author:Xxr,sideEffects:Qxr,type:Jxr,exports:ewr,main:twr,module:nwr,source:rwr,types:iwr,files:swr,scripts:owr,dependencies:awr,devDependencies:lwr,peerDependencies:uwr,engines:cwr,publishConfig:dwr,sanityExchangeUrl:fwr};function tae(t){let{asset:e,children:n,...r}=t;var i,s;const o=jy(),a=m.useMemo(()=>(e==null?void 0:e.playbackId)&&Uxr({client:o,asset:e}),[e,o]),l=m.useMemo(()=>{try{return new URL(a).searchParams.get("token")}catch{return!1}},[a]),[u,d]=((s=(i=e==null?void 0:e.data)==null?void 0:i.aspect_ratio)!=null?s:"16:9").split(":").map(Number),f=r.forceAspectRatio||(Number.isNaN(u)?16/9:u/d),h=Math.max($xr,f);return c.jsx(ge,{tone:"transparent",style:{aspectRatio:h,position:"relative"},children:a&&c.jsxs(c.Fragment,{children:[c.jsx(rbr,{...r,playsInline:!0,playbackId:e.playbackId,tokens:l?{playback:l,thumbnail:l,storyboard:l}:void 0,streamType:"on-demand",preload:"metadata",crossOrigin:"anonymous",metadata:{player_name:"Sanity Admin Dashboard",player_version:hwr.version,page_type:"Preview Player"},style:{height:"100%",width:"100%",display:"block",objectFit:"contain"}}),n]})})}function xst(t,e){const{dataset:n}=t.config();return t.request({url:"/addons/mux/assets/".concat(n,"/").concat(e),withCredentials:!0,method:"DELETE"})}async function pwr(t){let{client:e,asset:n,deleteOnMux:r}=t;if(!(n!=null&&n._id))return!0;try{await e.delete(n._id)}catch{return"failed-sanity"}if(r&&(n!=null&&n.assetId))try{await xst(e,n.assetId)}catch{return"failed-mux"}return!0}function mwr(t,e){const{dataset:n}=t.config();return t.request({url:"/addons/mux/assets/".concat(n,"/data/").concat(e),withCredentials:!0,method:"GET"})}const gwr=(t,e)=>({title:c.jsxs("em",{children:["No schema found for type ",c.jsx("code",{children:e})]}),subtitle:c.jsxs("em",{children:["Document: ",c.jsx("code",{children:t})]}),media:()=>c.jsx(vo,{})});function vwr(t){const{layout:e,value:n}=t;return c.jsx(Cw,{...gwr(n._id,n._type),layout:e})}function wst(t){let{time:e}=t;const n=sF(e);return c.jsxs("span",{title:n,children:[n," ago"]})}function ywr(t){const{document:e}=t,n=e&&"_updatedAt"in e&&e._updatedAt;return c.jsx(Mn,{portal:!0,content:c.jsx(N,{padding:2,children:c.jsx(G,{size:1,children:e?c.jsxs(c.Fragment,{children:["Edited ",n&&c.jsx(wst,{time:n})]}):c.jsx(c.Fragment,{children:"No unpublished edits"})})}),children:c.jsx(xs,{tone:"caution",dimmed:!e,muted:!e,size:1,children:c.jsx(Ph,{})})})}function bwr(t){const{document:e}=t,n=e&&"_updatedAt"in e&&e._updatedAt;return c.jsx(Mn,{portal:!0,content:c.jsx(N,{padding:2,children:c.jsx(G,{size:1,children:e?c.jsxs(c.Fragment,{children:["Published ",n&&c.jsx(wst,{time:n})]}):c.jsx(c.Fragment,{children:"Not published"})})}),children:c.jsx(xs,{tone:"positive",dimmed:!e,muted:!e,size:1,children:c.jsx(IC,{})})})}function xwr(t){const{icon:e,layout:n,presence:r,schemaType:i,value:s}=t,o=Jn(s.title)&&m.isValidElement(s.title)||Ag.isString(s.title)||Ag.isNumber(s.title)?s.title:null,{draft:a,published:l,isLoading:u}=Va(()=>_$(t.documentPreviewStore,i,s._id,o),[t.documentPreviewStore,i,s._id,o]),d=u?null:c.jsxs(cn,{space:4,children:[r&&r.length>0&&c.jsx(R$,{presence:r}),c.jsx(bwr,{document:l}),c.jsx(ywr,{document:a})]});return c.jsx(Cw,{...C$({value:s,draft:a,published:l}),isPlaceholder:u,icon:e,layout:n,status:d})}function wwr(t,e,n){return t===!1?!1:t||e&&e.icon||n||!1}function _wr(t){const{ChildLink:e}=Qse();return n=>c.jsx(e,{childId:t.documentPair.id,childParameters:{type:t.documentPair.type},children:n.children})}function Cwr(t){return e=>c.jsx(D0,{intent:"edit",params:{id:t.documentPair.id},children:e.children})}function Ewr(t){const{schemaType:e,documentPair:n}=t,r=(n==null?void 0:n.draft)||(n==null?void 0:n.published),i=n.id||"",s=Yc(),o=es(),a=uF(i),l=!!(e&&e.name&&o.get(e.name)),u=m.useMemo(()=>r?!e||!l?c.jsx(vwr,{value:r}):c.jsx(xwr,{documentPreviewStore:s,icon:wwr(void 0,e,Rv),schemaType:e,layout:"default",value:r,presence:a}):null,[l,e,a,r,s]);return c.jsx(Sx,{__unstable_focusRing:!0,as:t.placement==="input"?_wr(t):Cwr(t),"data-as":"a","data-ui":"PaneItem",padding:2,radius:2,tone:"inherit",children:u})}var JOe=Object.freeze,Swr=Object.defineProperty,Twr=(t,e)=>JOe(Swr(t,"raw",{value:JOe(e||t.slice())})),eLe;const kwr=H(N)(eLe||(eLe=Twr([`
  * {
    color: `,`;
  }
  a {
    text-decoration: none;
  }
  h2 {
    font-size: `,`;
  }
`])),t=>t.theme.sanity.color.base.fg,t=>t.theme.sanity.fonts.text.sizes[1]),_st=t=>{var e;const n=es();if(!t.isLoaded)return c.jsx(F3,{});if(!((e=t.references)!=null&&e.length))return c.jsx(ge,{border:!0,radius:3,padding:3,children:c.jsx(G,{size:2,children:"No documents are using this video"})});const r=VI(t.references||[]);return c.jsx(kwr,{children:r==null?void 0:r.map(i=>{const s=n.get(i.type);return c.jsx(ge,{marginBottom:2,padding:2,radius:2,shadow:1,style:{overflow:"hidden"},children:c.jsx(N,{children:c.jsx(Ewr,{documentPair:i,schemaType:s,placement:t.placement})})},i.id)})})};function Awr(t){let{asset:e,references:n,referencesLoading:r,cancelDelete:i,placement:s,succeededDeleting:o}=t;const a=jy(),[l,u]=m.useState("checkingReferences"),[d,f]=m.useState(!0),h=Na();m.useEffect(()=>{l!=="checkingReferences"||r||u(n!=null&&n.length?"cantDelete":"confirm")},[l,n,r]);async function p(){if(l!=="confirm")return;u("processing_deletion");const g=await pwr({client:a,asset:e,deleteOnMux:d});g===!0?(h.push({title:"Successfully deleted video",status:"success"}),o()):g==="failed-mux"?(h.push({title:"Deleted video in Sanity",description:"But it wasn't deleted in Mux",status:"warning"}),o()):(h.push({title:"Failed deleting video",status:"error"}),u("error_deleting"))}return c.jsx(pa,{header:"Delete video",zOffset:kX,id:"deleting-video-details-dialog",onClose:i,onClickOutside:i,width:1,position:"fixed",footer:c.jsx(ge,{padding:3,children:c.jsx(ae,{justify:"space-between",align:"center",children:c.jsx(Ce,{icon:Qo,fontSize:2,padding:3,text:"Delete video",tone:"critical",onClick:p,disabled:["processing_deletion","checkingReferences","cantDelete"].some(g=>g===l)})})}),children:c.jsx(ge,{padding:5,style:{minHeight:"150px",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsxs(Te,{space:3,children:[l==="checkingReferences"&&c.jsxs(c.Fragment,{children:[c.jsx(Ws,{size:2,children:"Checking if video can be deleted"}),c.jsx(F3,{})]}),l==="cantDelete"&&c.jsxs(c.Fragment,{children:[c.jsx(Ws,{size:2,children:"Video can't be deleted"}),c.jsxs(G,{size:2,style:{marginBottom:"2rem"},children:["There are ",n==null?void 0:n.length," document",n&&n.length>0&&"s"," ","pointing to this video. Remove their references to this file or delete them before proceeding."]}),c.jsx(_st,{references:n,isLoaded:!r,placement:s})]}),l==="confirm"&&c.jsxs(c.Fragment,{children:[c.jsx(Ws,{size:2,children:"Are you sure you want to delete this video?"}),c.jsx(G,{size:2,children:"This action is irreversible"}),c.jsxs(Te,{space:4,marginTop:4,children:[c.jsxs(ae,{align:"center",as:"label",children:[c.jsx(r0,{checked:d,onChange:()=>f(g=>!g)}),c.jsx(G,{style:{margin:"0 10px"},children:"Delete asset on Mux"})]}),c.jsxs(ae,{align:"center",as:"label",children:[c.jsx(r0,{disabled:!0,checked:!0}),c.jsx(G,{style:{margin:"0 10px"},children:"Delete video from dataset"})]})]})]}),l==="processing_deletion"&&c.jsxs(c.Fragment,{children:[c.jsx(Ws,{size:2,children:"Deleting video..."}),c.jsx(F3,{})]}),l==="error_deleting"&&c.jsxs(c.Fragment,{children:[c.jsx(Ws,{size:2,children:"Something went wrong!"}),c.jsx(G,{size:2,children:"Try deleting the video again by clicking the button below"})]})]})})})}const Iwr=Om(t=>{let{documentStore:e,id:n}=t;return e.listenQuery("*[references($id)]{_id, _type, _rev, _updatedAt, _createdAt}",{id:n},{apiVersion:eae})});function Dwr(t){if(typeof t!="number"||Number.isNaN(t))return"";const e=~~(t/3600),n=~~(t%3600/60),r=~~t%60;let i="";return e>0&&(i+=""+e+":"+(n<10?"0":"")),i+=""+n+":"+(r<10?"0":""),i+=""+r,i}function Cst(t){var e,n,r,i,s,o;const a=t.assetId||t._id||"",l=(e=t.data)!=null&&e.created_at?new Date(Number(t.data.created_at)*1e3):new Date(t._createdAt||t._updatedAt||Date.now());return{title:t.filename||a.slice(0,10),createdAt:l,duration:(n=t.data)!=null&&n.duration?Dwr((r=t.data)==null?void 0:r.duration):void 0,aspect_ratio:(i=t.data)==null?void 0:i.aspect_ratio,max_stored_resolution:(s=t.data)==null?void 0:s.max_stored_resolution,max_stored_frame_rate:(o=t.data)==null?void 0:o.max_stored_frame_rate}}function Rwr(t){const e=Kc(),n=Na(),r=jy(),[i,s]=Iwr({documentStore:e,id:t.asset._id}),[o,a]=m.useState(()=>t.asset),[l,u]=m.useState(t.asset.filename),d=l!==o.filename,f=Cst({...t.asset,filename:l}),[h,p]=m.useState("idle");function g(){if(h==="idle"){if(d){p("closing");return}t.closeDialog()}}function v(x){h==="closing"&&(x&&t.closeDialog(),p("idle"))}async function y(){if(h==="idle"){p("saving");try{await r.patch(t.asset._id).set({filename:l}).commit(),a(x=>({...x,filename:l})),n.push({title:"Video title updated",description:"New title: ".concat(l),status:"success"}),t.closeDialog()}catch(x){n.push({title:"Failed updating file name",status:"error",description:typeof x=="string"?x:"Please try again"}),u(o.filename)}p("idle")}}return{references:i,referencesLoading:s,modified:d,filename:l,setFilename:u,displayInfo:f,state:h,setState:p,handleClose:g,confirmClose:v,saveChanges:y}}const jwr=t=>c.jsx(AX,{title:t.label,description:t.description,inputId:t.label,children:c.jsx(Fi,{id:t.label,value:t.value,placeholder:t.placeholder,onInput:t.onInput,disabled:t.disabled})}),Owr=t=>{const[e,n]=m.useState("details"),{displayInfo:r,filename:i,modified:s,references:o,referencesLoading:a,setFilename:l,state:u,setState:d,handleClose:f,confirmClose:h,saveChanges:p}=Rwr(t),g=u==="saving",[v,y]=m.useState(null),x=re.useRef(null);return m.useEffect(()=>{!x.current||!("getBoundingClientRect"in x.current)||y(x.current.getBoundingClientRect().height)},[]),c.jsxs(pa,{header:r.title,zOffset:kX,id:"video-details-dialog",onClose:f,onClickOutside:f,width:2,position:"fixed",footer:c.jsx(ge,{padding:3,children:c.jsxs(ae,{justify:"space-between",align:"center",children:[c.jsx(Ce,{icon:Qo,fontSize:2,padding:3,mode:"bleed",text:"Delete",tone:"critical",onClick:()=>d("deleting"),disabled:g}),s&&c.jsx(Ce,{icon:Uf,fontSize:2,padding:3,mode:"ghost",text:"Save and close",tone:"positive",onClick:p,iconRight:g&&_s,disabled:g})]})}),children:[u==="deleting"&&c.jsx(Awr,{asset:t.asset,cancelDelete:()=>d("idle"),placement:t.placement,referencesLoading:a,references:o,succeededDeleting:()=>{t.closeDialog()}}),u==="closing"&&c.jsx(pa,{header:"You have unsaved changes",zOffset:kX,id:"closing-video-details-dialog",onClose:()=>h(!1),onClickOutside:()=>h(!1),width:1,position:"fixed",footer:c.jsx(ge,{padding:3,children:c.jsxs(ae,{justify:"space-between",align:"center",children:[c.jsx(Ce,{icon:Yu,fontSize:2,padding:3,text:"Discard changes",tone:"critical",onClick:()=>h(!0)}),s&&c.jsx(Ce,{icon:g7,fontSize:2,padding:3,mode:"ghost",text:"Keep editing",tone:"primary",onClick:()=>h(!1)})]})}),children:c.jsx(ge,{padding:5,children:c.jsxs(Te,{style:{textAlign:"center"},space:3,children:[c.jsx(Ws,{size:2,children:"Unsaved changes will be lost"}),c.jsx(G,{size:2,children:"Are you sure you want to discard them?"})]})})}),c.jsx(ge,{padding:4,sizing:"border",style:{containerType:"inline-size"},children:c.jsxs(ae,{sizing:"border",gap:4,direction:["column","column","row"],align:"flex-start",ref:x,style:typeof v=="number"?{minHeight:v}:void 0,children:[c.jsx(Te,{space:4,flex:1,sizing:"border",children:c.jsx(tae,{asset:t.asset,autoPlay:t.asset.autoPlay||!1})}),c.jsxs(Te,{space:4,flex:1,sizing:"border",children:[c.jsxs(nee,{space:2,children:[c.jsx(TA,{"aria-controls":"details-panel",icon:Ph,id:"details-tab",label:"Details",onClick:()=>n("details"),selected:e==="details"}),c.jsx(TA,{"aria-controls":"references-panel",icon:nl,id:"references-tab",label:"Used by ".concat(o?"(".concat(o.length,")"):""),onClick:()=>n("references"),selected:e==="references"})]}),c.jsx(KP,{"aria-labelledby":"details-tab",id:"details-panel",hidden:e!=="details",children:c.jsxs(Te,{space:4,children:[c.jsx(jwr,{label:"Video title or file name",description:"Not visible to users. Useful for finding videos later.",value:i||"",onInput:b=>l(b.currentTarget.value),disabled:u!=="idle"}),c.jsxs(Te,{space:3,children:[(r==null?void 0:r.duration)&&c.jsx(V1,{text:"Duration: ".concat(r.duration),icon:p7,size:2}),(r==null?void 0:r.max_stored_resolution)&&c.jsx(V1,{text:"Max Resolution: ".concat(r.max_stored_resolution),icon:Bxr,size:2}),(r==null?void 0:r.max_stored_frame_rate)&&c.jsx(V1,{text:"Frame rate: ".concat(r.max_stored_frame_rate),icon:Nxr,size:2}),(r==null?void 0:r.aspect_ratio)&&c.jsx(V1,{text:"Aspect Ratio: ".concat(r.aspect_ratio),icon:rQ,size:2}),c.jsx(V1,{text:"Uploaded on: ".concat(r.createdAt.toLocaleDateString("en",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0})),icon:U1,size:2})]})]})}),c.jsx(KP,{"aria-labelledby":"references-tab",id:"references-panel",hidden:e!=="references",children:c.jsx(_st,{references:o,isLoaded:!a,placement:t.placement})})]})]})})]})},Lwr=t=>{if(!t.asset)return null;const e=Cst(t.asset);return c.jsxs(Te,{space:2,children:[e.title&&c.jsx(G,{size:1,weight:"semibold",style:{wordWrap:"break-word"},children:e.title}),c.jsxs(cn,{space:3,children:[(e==null?void 0:e.duration)&&c.jsx(V1,{text:e.duration,icon:p7,size:1,muted:!0}),c.jsx(V1,{text:e.createdAt.toISOString().split("T")[0],icon:U1,size:1,muted:!0})]})]})};function Pwr(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const[e,n]=m.useState(!1),r=m.useRef(null);return m.useEffect(()=>{if(!r.current)return;const i=new IntersectionObserver((o,a)=>{let[l]=o;var u;const d=l.isIntersecting&&a.thresholds.some(f=>l.intersectionRatio>=f);n(d),(u=t==null?void 0:t.onChange)==null||u.call(t,d)},t),s=r.current;return i.observe(s),()=>{s&&i.unobserve(s)}},[t]),{inView:e,ref:r}}function Mwr(t){let{asset:e,client:n,height:r,width:i,start:s=e.thumbTime?Math.max(0,e.thumbTime-2.5):0,end:o=s+5,fps:a=15}=t;const l={height:r,width:i,start:s,end:o,fps:a},u=bst(e);let d=new URLSearchParams(JSON.parse(JSON.stringify(l,(f,h)=>h??void 0)));if(JF(e)==="signed"){const f=yst(n,u,"g",l);d=new URLSearchParams({token:f})}return"https://image.mux.com/".concat(u,"/animated.gif?").concat(d)}var tLe=Object.freeze,$wr=Object.defineProperty,Fwr=(t,e)=>tLe($wr(t,"raw",{value:tLe(e||t.slice())})),nLe;const Bwr=H.img(nLe||(nLe=Fwr([`
  transition: opacity 0.175s ease-out 0s;
  display: block;
  width: 100%;
  height: 100%;
  object-fit: contain;
  object-position: center center;
`]))),Nwr={loading:"transparent",error:"critical",loaded:"default"};function Est(t){let{asset:e,width:n=250}=t;const{inView:r,ref:i}=Pwr(),[s,o]=m.useState("loading"),a=jy(),l=m.useMemo(()=>{try{return Mwr({asset:e,client:a,width:n})}catch{s!=="error"&&o("error");return}},[e,a,n,s,o]);function u(){o("loaded")}function d(){o("error")}return c.jsx(ge,{style:{aspectRatio:vst,position:"relative"},border:!0,radius:2,ref:i,tone:Nwr[s],children:r?c.jsxs(c.Fragment,{children:[s==="loading"&&c.jsx(F3,{}),s==="error"&&c.jsxs(Te,{space:4,style:{position:"absolute",width:"100%",left:0,top:"50%",transform:"translateY(-50%)",justifyItems:"center"},children:[c.jsx(G,{size:4,muted:!0,children:c.jsx(Yu,{style:{fontSize:"1.75em"}})}),c.jsx(G,{muted:!0,align:"center",children:"Failed loading thumbnail"})]}),c.jsx(Bwr,{src:l,alt:"Preview for video ".concat(e.filename||e.assetId),onLoad:u,onError:d,style:{opacity:s==="loaded"?1:0}})]}):null})}var rLe=Object.freeze,Vwr=Object.defineProperty,Uwr=(t,e)=>rLe(Vwr(t,"raw",{value:rLe(e||t.slice())})),iLe;const Hwr=H.button(iLe||(iLe=Uwr([`
  display: block;
  padding: 0;
  margin: 0;
  border: none;
  border-radius: 0.1875rem;
  position: relative;
  cursor: pointer;

  &::after {
    content: '';
    background: var(--card-fg-color);
    opacity: 0;
    display: block;
    position: absolute;
    inset: 0;
    z-index: 10;
    transition: 0.15s ease-out;
    border-radius: inherit;
  }

  > div[data-play] {
    z-index: 11;
    opacity: 0;
    transition: 0.15s 0.05s ease-out;
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    color: var(--card-fg-color);
    background: var(--card-bg-color);
    width: auto;
    height: 30%;
    aspect-ratio: 1;
    border-radius: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    box-sizing: border-box;
    > svg {
      display: block;
      width: 70%;
      height: auto;
      // Visual balance to center-align the icon
      transform: translateX(5%);
    }
  }

  &:hover,
  &:focus {
    &::after {
      opacity: 0.3;
    }
    > div[data-play] {
      opacity: 1;
    }
  }
`])));function zwr(t){let{onSelect:e,onEdit:n,asset:r}=t;const[i,s]=m.useState(!1),o=re.useCallback(()=>e==null?void 0:e(r),[e,r]),a=re.useCallback(()=>n==null?void 0:n(r),[n,r]);if(!r)return null;const l=JF(r);return c.jsxs(ge,{border:!0,padding:2,sizing:"border",radius:2,style:{position:"relative"},children:[l==="signed"&&c.jsx(Mn,{content:c.jsx(ge,{padding:2,radius:2,children:c.jsx(V1,{icon:aP,text:"Signed playback policy",size:2})}),placement:"right",fallbackPlacements:["top","bottom"],portal:!0,children:c.jsx(ge,{tone:"caution",style:{borderRadius:"100%",position:"absolute",left:"1em",top:"1em",zIndex:10},padding:2,border:!0,children:c.jsx(G,{muted:!0,size:1,children:c.jsx(aP,{})})})}),c.jsxs(Te,{space:3,height:"fill",style:{gridTemplateRows:"min-content min-content 1fr"},children:[i?c.jsx(tae,{asset:r,autoPlay:!0,forceAspectRatio:vst}):c.jsxs(Hwr,{onClick:()=>s(!0),children:[c.jsx("div",{"data-play":!0,children:c.jsx(LMe,{})}),c.jsx(Est,{asset:r})]}),c.jsx(Lwr,{asset:r}),c.jsxs("div",{style:{display:"flex",width:"100%",alignItems:"flex-end",justifyContent:"flex-start",gap:".35rem"},children:[e&&c.jsx(Ce,{icon:Uf,fontSize:2,padding:2,mode:"ghost",text:"Select",style:{flex:1},tone:"positive",onClick:o}),c.jsx(Ce,{icon:Ph,fontSize:2,padding:2,mode:"ghost",text:"Details",style:{flex:1},onClick:a})]})]})]})}function Sst(t){let{onSelect:e}=t;const{assets:n,isLoading:r,searchQuery:i,setSearchQuery:s,setSort:o,sort:a}=Oxr(),[l,u]=re.useState(null),d=re.useMemo(()=>n.find(f=>f._id===(l==null?void 0:l._id))||l,[l,n]);return c.jsxs(c.Fragment,{children:[c.jsxs(Te,{padding:4,space:4,style:{minHeight:"50vh"},children:[c.jsx(ae,{justify:"space-between",align:"center",children:c.jsxs(ae,{align:"center",gap:3,children:[c.jsx(Fi,{value:i,icon:nl,onInput:f=>s(f.currentTarget.value),placeholder:"Search videos"}),c.jsx(Pxr,{setSort:o,sort:a})]})}),c.jsxs(Te,{space:3,children:[(n==null?void 0:n.length)>0&&c.jsxs(jn,{muted:!0,children:[n.length," video",n.length>1?"s":null," ",i?'matching "'.concat(i,'"'):"found"]}),c.jsx(Er,{gap:2,style:{gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))"},children:n.map(f=>c.jsx(zwr,{asset:f,onEdit:u,onSelect:e},f._id))})]}),r&&c.jsx(F3,{}),!r&&n.length===0&&c.jsx(ge,{padding:4,marginY:4,border:!0,radius:2,tone:"transparent",children:c.jsx(G,{align:"center",muted:!0,size:3,children:i?'No videos found for "'.concat(i,'"'):"No videos in this dataset"})})]}),d&&c.jsx(Owr,{closeDialog:()=>u(null),asset:d,placement:e?"input":"tool"})]})}const Wwr=()=>c.jsx(Sst,{});function Gwr(t){const e=typeof t.tool=="object"?t.tool:{};return{name:"mux",title:e.title||"Videos",component:n=>c.jsx(Wwr,{...t,...n}),icon:e.icon||Cxr}}const qwr=["assetId","data","playbackId","status","thumbTime","filename"],Ywr=t=>Xie(wm(t)?t._ref:"",qwr);function Kwr(){return m.useState(!1)}const Zwr=t=>{var e,n;const r=jy(),i=Wie(),s=zie(),o=m.useMemo(()=>{var a,l;return!!(t!=null&&t.assetId)&&((t==null?void 0:t.status)==="preparing"||((l=(a=t==null?void 0:t.data)==null?void 0:a.static_renditions)==null?void 0:l.status)==="preparing")},[t==null?void 0:t.assetId,(n=(e=t==null?void 0:t.data)==null?void 0:e.static_renditions)==null?void 0:n.status,t==null?void 0:t.status]);return Pbr(o?"/".concat(i,"/addons/mux/assets/").concat(s,"/data/").concat(t==null?void 0:t.assetId):null,async()=>{const{data:a}=await r.request({url:"/addons/mux/assets/".concat(s,"/data/").concat(t.assetId),withCredentials:!0,method:"GET"});r.patch(t._id).set({status:a.status,data:a}).commit({returnDocuments:!1})},{refreshInterval:2e3,refreshWhenHidden:!0,dedupingInterval:1e3})},Xwr=["token","secretKey","enableSignedUrls","signingKeyId","signingKeyPrivate"],Qwr=()=>{const{error:t,isLoading:e,value:n}=Xie(Mxr,Xwr),r=m.useMemo(()=>{const i=!!n,s={token:(n==null?void 0:n.token)||null,secretKey:(n==null?void 0:n.secretKey)||null,enableSignedUrls:(n==null?void 0:n.enableSignedUrls)||!1,signingKeyId:(n==null?void 0:n.signingKeyId)||null,signingKeyPrivate:(n==null?void 0:n.signingKeyPrivate)||null};return{isInitialSetup:!i,needsSetup:!(s!=null&&s.token)||!(s!=null&&s.secretKey),secrets:s}},[n]);return{error:t,isLoading:e,value:r}};function Jwr(t,e,n){return new On(r=>{const i=mst.createUpload({endpoint:e,file:n,dynamicChunkSize:!0}),s=()=>{r.next({type:"success",id:t}),r.complete()},o=d=>r.error(new Error(d.detail.message)),a=d=>r.next({type:"progress",percent:d.detail}),l=()=>{i.pause(),r.next({type:"pause",id:t})},u=()=>{i.resume(),r.next({type:"resume",id:t})};return i.on("success",s),i.on("error",o),i.on("progress",a),i.on("offline",l),i.on("online",u),()=>i.abort()})}function sLe(t,e,n,r,i,s){const o={_id:"secrets.mux",_type:"mux.apiKey",token:e,secretKey:n,enableSignedUrls:r,signingKeyId:i,signingKeyPrivate:s};return t.createOrReplace(o)}function e2r(t){const{dataset:e}=t.config();return t.request({url:"/addons/mux/signing-keys/".concat(e),withCredentials:!0,method:"POST"})}function t2r(t){const{dataset:e}=t.config();return t.request({url:"/addons/mux/secrets/".concat(e,"/test"),withCredentials:!0,method:"GET"})}async function n2r(t,e,n){if(!(e&&n))return!1;const{dataset:r}=t.config();try{const i=await t.request({url:"/addons/mux/signing-keys/".concat(r,"/").concat(e),withCredentials:!0,method:"GET"});return!!(i.data&&i.data.id)}catch{return console.error("Error fetching signingKeyId",e,"assuming it is not valid"),!1}}function Tst(t){const{dataset:e}=t.config();return Ls(()=>t.observable.request({url:"/addons/mux/secrets/".concat(e,"/test"),withCredentials:!0,method:"GET"}))}function r2r(t,e){return t.observable.request({url:"/addons/mux/uploads/".concat(t.config().dataset,"/").concat(e),withCredentials:!0,method:"DELETE"})}function i2r(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return c2r(n).pipe(Kt(i=>go(Re({type:"url",url:i}),Tst(e).pipe(Kt(s=>{if(!s||!s.status)return il(new Error("Invalid credentials"));const o=R0(),{enableSignedUrls:a}=r,l={input:i,playback_policy:[a?"signed":"public"],mp4_support:t.mp4_support},u={muxBody:JSON.stringify(l),filename:i.split("/").slice(-1)[0]},d=e.config().dataset;return Ls(()=>e.observable.request({url:"/addons/mux/assets/".concat(d),withCredentials:!0,method:"POST",headers:{"MUX-Proxy-UUID":o,"Content-Type":"application/json"},query:u})).pipe(rt(f=>{const h=f&&f.results&&f.results[0]&&f.results[0].document||null;return h?Re({type:"success",id:o,asset:h}):il(new Error("No asset document returned"))}))})))))}function s2r(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return u2r(n).pipe(Kt(i=>go(Re({type:"file",file:i}),Tst(e).pipe(Kt(s=>{if(!s||!s.status)return il(new Error("Invalid credentials"));const o=R0(),{enableSignedUrls:a}=r,l={mp4_support:t.mp4_support,playback_policy:[a?"signed":"public"]};return go(Re({type:"uuid",uuid:o}),Ls(()=>e.observable.request({url:"/addons/mux/uploads/".concat(e.config().dataset),withCredentials:!0,method:"POST",headers:{"MUX-Proxy-UUID":o,"Content-Type":"application/json"},body:l})).pipe(rt(u=>Jwr(o,u.upload.url,n).pipe(rt(d=>d.type!=="success"?Re(d):Vr(l2r(e,o)).pipe(rt(f=>Re({...d,asset:f})))),Or(d=>r2r(e,o).pipe(Hv(il(d))))))))})))))}function o2r(t,e){const{dataset:n}=t.config();return t.request({url:"/addons/mux/uploads/".concat(n,"/").concat(e),withCredentials:!0,method:"GET"})}function a2r(t,e){let r,i=0,s,o;return new Promise((a,l)=>{r=setInterval(async()=>{try{o=await o2r(t,e)}catch(u){l(u);return}s=o&&o.data&&o.data.asset_id,s&&(clearInterval(r),a(o)),i>10&&(clearInterval(r),l(new Error("Upload did not finish"))),i++},2e3)})}async function l2r(t,e){let n,r;try{n=await a2r(t,e)}catch(s){return Promise.reject(s)}try{r=await mwr(t,n.data.asset_id)}catch(s){return Promise.reject(s)}const i={_id:e,_type:"mux.videoAsset",status:r.data.status,data:r.data,assetId:r.data.id,playbackId:r.data.playback_ids[0].id,uploadId:n.data.id};return t.createOrReplace(i).then(()=>i)}function u2r(t){if(typeof window<"u"&&t instanceof window.File){const e=d2r({},t);return Re(e)}return il(new Error("Invalid file"))}function c2r(t){const e=new Error("Invalid URL");if(typeof t!="string")return il(e);let n;try{n=new URL(t)}catch{return il(e)}return n&&!n.protocol.match(/http:|https:/)?il(e):Re(t)}function d2r(t,e){return typeof window>"u"||!(e instanceof window.File)?t:{name:t.preserveFilename===!1?void 0:e.name,type:e.type}}function f2r(t){const e=Array.from(t.files||[]),n=Array.from(t.items||[]);return e&&e.length>0?Promise.resolve(e):h2r(n).then(r=>r.flat())}function h2r(t){return Promise.all(t.map(e=>{if(e.kind==="file"&&e.webkitGetAsEntry){let n;try{n=e.webkitGetAsEntry()}catch{return[e.getAsFile()]}return n?n.isDirectory?kst(n):[e.getAsFile()]:[]}if(e.kind==="file"){const n=e.getAsFile();return Promise.resolve(n?[n]:[])}return new Promise(n=>e.getAsString(n)).then(n=>n?[new File([n],"unknown.txt",{type:e.type})]:[])}))}function p2r(t){return t.isFile}function m2r(t){return t.isDirectory}function kst(t){if(p2r(t))return new Promise(e=>t.file(e)).then(e=>[e]);if(m2r(t)){const e=t.createReader();return new Promise(n=>e.readEntries(n)).then(n=>n.filter(r=>!r.name.startsWith("."))).then(n=>Promise.all(n.map(kst)).then(r=>r.flat()))}return Promise.resolve([])}function g2r(t){let{asset:e,onChange:n,setDialogState:r}=t;const i=m.useCallback(s=>{s!=null&&s._id||n(bn.from([Jt(["asset"])])),s._id!==(e==null?void 0:e._id)&&n(bn.from([sl({asset:{}}),_n({_type:"reference",_weak:!0,_ref:s._id},["asset"])])),r(!1)},[n,r,e]);return c.jsx(Sst,{onSelect:i})}var oLe=Object.freeze,v2r=Object.defineProperty,y2r=(t,e)=>oLe(v2r(t,"raw",{value:oLe(e||t.slice())})),aLe;const b2r=H(pa)(aLe||(aLe=y2r([`
  > div[data-ui='DialogCard'] > div[data-ui='Card'] {
    height: 100%;
  }
`])));function x2r(t){let{setDialogState:e,asset:n,onChange:r}=t;const i="InputBrowser".concat(m.useId()),s=m.useCallback(()=>e(!1),[e]);return c.jsx(b2r,{__unstable_autoFocus:!0,header:"Select video",id:i,onClose:s,width:2,children:c.jsx(g2r,{asset:n,onChange:r,setDialogState:e})})}const w2r=(t,e)=>{const n=jy();return m.useCallback(()=>{t&&(e(bn.from(Jt())),t.assetId&&xst(n,t.assetId),t._id&&n.delete(t._id))},[t,n,e])};var lLe=Object.freeze,_2r=Object.defineProperty,Ast=(t,e)=>lLe(_2r(t,"raw",{value:lLe(e||t.slice())})),uLe,cLe;H.div(uLe||(uLe=Ast([`
  && {
    --media-background-color: transparent;
    --media-button-icon-width: 100%;
    --media-button-icon-height: auto;
    pointer-events: none;
    width: 100%;
    display: flex;
    flex-flow: row;
    align-items: center;
    justify-content: center;
    media-play-button {
      --media-control-background: transparent;
      --media-control-hover-background: transparent;
      padding: 0;
      width: max(27px, min(9%, 90px));
    }
  }
`])));const C2r=H.div(cLe||(cLe=Ast([`
  position: absolute;
  top: 0;
  right: 0;
  justify-content: flex-end;
  button {
    height: auto;
  }
`])));var dLe=Object.freeze,E2r=Object.defineProperty,eB=(t,e)=>dLe(E2r(t,"raw",{value:dLe(e||t.slice())})),fLe,hLe,pLe,mLe;const S2r=H(ge)(fLe||(fLe=eB([`
  min-height: 82px;
  box-sizing: border-box;
`]))),T2r=H(ae)(hLe||(hLe=eB([`
  text-overflow: ellipsis;
  overflow: hidden;
`]))),k2r=H(Te)(pLe||(pLe=eB([`
  position: relative;
  width: 60%;
`]))),A2r=H(qs)(mLe||(mLe=eB([`
  position: relative;
  width: 100%;

  code {
    overflow: hidden;
    text-overflow: ellipsis;
    position: relative;
    max-width: 200px;
  }
`]))),Ist=t=>{let{progress:e=100,onCancel:n,filename:r,text:i="Uploading"}=t;return c.jsx(S2r,{tone:"primary",padding:4,border:!0,height:"fill",children:c.jsxs(T2r,{align:"center",justify:"space-between",height:"fill",direction:"row",gap:2,children:[c.jsxs(k2r,{children:[c.jsx(ae,{justify:"center",gap:[3,3,2,2],direction:["column","column","row"],children:c.jsx(G,{size:1,children:c.jsxs(cn,{space:2,children:[i,c.jsx(A2r,{size:1,children:r||"..."})]})})}),c.jsx(ge,{marginTop:3,radius:5,shadow:1,children:c.jsx(sqe,{value:e})})]}),n?c.jsx(Ce,{fontSize:2,text:"Cancel upload",mode:"ghost",tone:"critical",onClick:n}):null]})})},I2r=t=>{let{asset:e,buttons:n,readOnly:r,onChange:i}=t;var s,o,a,l;const u=m.useMemo(()=>(e==null?void 0:e.status)==="preparing"?"Preparing the video":(e==null?void 0:e.status)==="waiting_for_upload"?"Waiting for upload to start":(e==null?void 0:e.status)==="waiting"?"Processing upload":!((e==null?void 0:e.status)==="ready"||typeof(e==null?void 0:e.status)>"u"),[e]),d=m.useMemo(()=>{var g,v,y,x;return((v=(g=e==null?void 0:e.data)==null?void 0:g.static_renditions)==null?void 0:v.status)==="preparing"?!0:(((x=(y=e==null?void 0:e.data)==null?void 0:y.static_renditions)==null?void 0:x.status)==="ready",!1)},[(o=(s=e==null?void 0:e.data)==null?void 0:s.static_renditions)==null?void 0:o.status]),f=m.useRef(null),h=m.useRef(null),p=w2r(e,i);return m.useEffect(()=>{var g,v;const y=document.createElement("style");y.innerHTML="button svg { vertical-align: middle; }",(g=f.current)!=null&&g.shadowRoot&&f.current.shadowRoot.appendChild(y),(v=h==null?void 0:h.current)!=null&&v.shadowRoot&&h.current.shadowRoot.appendChild(y.cloneNode(!0))},[]),m.useEffect(()=>{var g,v,y;if((e==null?void 0:e.status)==="errored")throw p(),new Error((y=(v=(g=e.data)==null?void 0:g.errors)==null?void 0:v.messages)==null?void 0:y.join(" "))},[(l=(a=e.data)==null?void 0:a.errors)==null?void 0:l.messages,e==null?void 0:e.status,p]),!e||!e.status?null:u?c.jsx(Ist,{progress:100,filename:e==null?void 0:e.filename,text:u!==!0&&u||"Waiting for Mux to complete the upload",onCancel:r?void 0:()=>p()}):c.jsxs(tae,{asset:e,children:[n&&c.jsx(C2r,{slot:"top-chrome",children:n}),d&&c.jsx(ge,{padding:2,radius:1,style:{background:"var(--card-fg-color)",position:"absolute",top:"0.5em",left:"0.5em"},children:c.jsx(G,{size:1,style:{color:"var(--card-bg-color)"},children:"MUX is preparing static renditions, please stand by"})})]})};function Dst(t){return"inset 0 0 0 ".concat(t.width,"px ").concat(t.color)}function Rst(t){const{base:e,border:n,focusRing:r}=t,i=r.offset+r.width,s=0-r.offset,o=e?e.bg:"var(--card-bg-color)";return[s>0&&"inset 0 0 0 ".concat(s,"px var(--card-focus-ring-color)"),n&&Dst(n),s<0&&"0 0 0 ".concat(0-s,"px ").concat(o),i>0&&"0 0 0 ".concat(i,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var gLe=Object.freeze,D2r=Object.defineProperty,R2r=(t,e)=>gLe(D2r(t,"raw",{value:gLe(e||t.slice())})),vLe;const j2r=H(St)(t=>{let{theme:e}=t;const{focusRing:n}=e.sanity,r=e.sanity.color.base,i={width:1,color:"var(--card-border-color)"};return qe(vLe||(vLe=R2r([`
    position: relative;

    &:not([data-disabled='true']) {
      &:focus-within {
        box-shadow: `,`;
      }
    }

    & input {
      overflow: hidden;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      position: absolute;
      min-width: 0;
      display: block;
      appearance: none;
      padding: 0;
      margin: 0;
      border: 0;
      opacity: 0;
    }
  `])),Rst({base:r,border:i,focusRing:n}))}),O2r=re.forwardRef(function(e,n){const{icon:r,id:i,accept:s,capture:o,fontSize:a,multiple:l,onSelect:u,padding:d=3,space:f=3,textAlign:h,text:p,disabled:g,...v}=e,y=m.useId(),x=i||y,b=re.useCallback(C=>{u&&C.target.files&&u(Array.from(C.target.files))},[u]),_=c.jsxs(ae,{align:"center",justify:"flex-start",padding:d,children:[r&&c.jsx(N,{marginRight:p?f:void 0,children:c.jsxs(G,{size:a,children:[m.isValidElement(r)&&r,ws.isValidElementType(r)&&m.createElement(r)]})}),p&&c.jsx(G,{align:h,size:a,textOverflow:"ellipsis",children:p})]});return c.jsxs(j2r,{...v,htmlFor:x,padding:0,fontSize:2,disabled:g,ref:n,children:[_,c.jsx("input",{"data-testid":"file-button-input",accept:s,capture:o,id:x,multiple:l,onChange:b,type:"file",value:"",disabled:g})]})});var yLe=Object.freeze,L2r=Object.defineProperty,jst=(t,e)=>yLe(L2r(t,"raw",{value:yLe(e||t.slice())})),bLe,xLe;const P2r=H(ge)(bLe||(bLe=jst([`
  position: absolute;
  top: 0;
  left: 0;
  opacity: 0.6;
  mix-blend-mode: screen;
  background: transparent;
`]))),M2r=H(Ce)(xLe||(xLe=jst([`
  background: transparent;
  color: white;
`])));function $2r(t){const{asset:e,readOnly:n,dialogState:r,setDialogState:i,onChange:s,onUpload:o}=t,[a,l]=m.useState(!1),[u,d]=m.useState(null),f=m.useMemo(()=>JF(e)==="signed",[e]),h=m.useCallback(()=>s(bn.from(Jt([]))),[s]);return m.useEffect(()=>{a&&r&&l(!1)},[r,a]),ga(m.useCallback(()=>l(!1),[]),[u]),c.jsxs(cn,{space:1,padding:2,children:[f&&c.jsx(Mn,{content:c.jsx(N,{padding:2,children:c.jsx(G,{muted:!0,size:1,children:"Signed playback policy"})}),placement:"right",portal:!0,children:c.jsx(P2r,{radius:2,margin:2,scheme:"dark",tone:"positive",children:c.jsx(M2r,{icon:aP,mode:"bleed",tone:"positive"})})}),c.jsx(Ti,{content:c.jsxs(er,{ref:d,children:[c.jsx(N,{padding:2,children:c.jsx(jn,{muted:!0,size:1,children:"Replace"})}),c.jsx(O2r,{accept:"video/*",icon:DC,mode:"bleed",onSelect:o,text:"Upload",disabled:n,fontSize:2}),c.jsx(St,{icon:nl,text:"Browse",onClick:()=>i("select-video")}),c.jsx(Ci,{}),c.jsx(St,{icon:W3,text:"Configure API",onClick:()=>i("secrets")}),c.jsx(Ci,{}),c.jsx(St,{tone:"critical",icon:pm,text:"Clear field",onClick:h,disabled:n})]}),portal:!0,open:a,children:c.jsx(Ce,{icon:ll,mode:"ghost",onClick:()=>{i(!1),l(!0)}})})]})}var F2r=m.memo($2r),wLe=Object.freeze,B2r=Object.defineProperty,N2r=(t,e)=>wLe(B2r(t,"raw",{value:wLe(e||t.slice())})),_Le;function V2r(t){return H(t)(e=>{const n={width:e.$border?1:0,color:"var(--card-border-color)"};return qe(_Le||(_Le=N2r([`
        --card-focus-box-shadow: `,`;

        border-radius: `,`;
        outline: none;
        box-shadow: var(--card-focus-box-shadow);

        &:focus {
          --card-focus-box-shadow: `,`;
        }
      `])),Dst(n),Xe(e.theme.sanity.radius[1]),Rst({base:e.theme.sanity.color.base,border:n,focusRing:e.theme.sanity.focusRing}))})}var CLe=Object.freeze,U2r=Object.defineProperty,H2r=(t,e)=>CLe(U2r(t,"raw",{value:CLe(e||t.slice())})),ELe;const SLe=17,TLe=91,z2r=V2r(ge),W2r=m.forwardRef((t,e)=>{let{children:n,tone:r,onPaste:i,onDrop:s,onDragEnter:o,onDragLeave:a,onDragOver:l}=t;const u=m.useRef(!1),d=m.useRef(null),f=m.useCallback(p=>{(p.keyCode==SLe||p.keyCode==TLe)&&(u.current=!0);const g=86;u.current&&p.keyCode==g&&d.current.focus()},[]),h=m.useCallback(p=>{(p.keyCode==SLe||p.keyCode==TLe)&&(u.current=!1)},[]);return c.jsxs(z2r,{tone:r,height:"fill",ref:e,padding:0,radius:2,shadow:0,tabIndex:0,onKeyDown:f,onKeyUp:h,onPaste:i,onDrop:s,onDragEnter:o,onDragLeave:a,onDragOver:l,children:[c.jsx(G2r,{ref:d,onPaste:i}),n]})}),G2r=H.input.attrs({type:"text"})(ELe||(ELe=H2r([`
  position: absolute;
  border: 0;
  color: white;
  opacity: 0;

  &:focus {
    outline: none;
  }
`])));var kLe=Object.freeze,q2r=Object.defineProperty,Ost=(t,e)=>kLe(q2r(t,"raw",{value:kLe(e||t.slice())})),ALe,ILe;const Y2r=H.input(ALe||(ALe=Ost([`
  overflow: hidden;
  width: 0.1px;
  height: 0.1px;
  opacity: 0;
  position: absolute;
  z-index: -1;
`]))),K2r=H.label(ILe||(ILe=Ost([`
  position: relative;
`]))),Z2r=t=>{let{onSelect:e,...n}=t;const r="FileSelect".concat(m.useId()),i=m.useRef(null),s=m.useCallback(a=>{e&&e(a.target.files)},[e]),o=m.useCallback(()=>{var a;return(a=i.current)==null?void 0:a.click()},[]);return c.jsxs(K2r,{htmlFor:r,children:[c.jsx(Y2r,{accept:"video/*",ref:i,tabIndex:0,type:"file",id:r,onChange:s,value:""}),c.jsx(Ce,{onClick:o,mode:"default",tone:"primary",style:{width:"100%"},...n})]})};var DLe=Object.freeze,X2r=Object.defineProperty,Lst=(t,e)=>DLe(X2r(t,"raw",{value:DLe(e||t.slice())})),RLe,jLe;const Q2r=H(ge)(RLe||(RLe=Lst([`
  && {
    border-style: dashed;
  }
`]))),J2r=H(N)(jLe||(jLe=Lst([`
  position: absolute;
  top: 0;
  right: 0;
`])));function e5r(t){const{setDialogState:e,readOnly:n,onSelect:r,hovering:i,needsSetup:s}=t,o=m.useCallback(()=>e("select-video"),[e]),a=m.useCallback(()=>e("secrets"),[e]);return c.jsx(N,{style:{padding:1,position:"relative"},height:"stretch",children:c.jsxs(Q2r,{sizing:"border",height:"fill",tone:n?"transparent":"inherit",border:!0,padding:3,style:i?{borderColor:"transparent"}:void 0,children:[c.jsx(J2r,{padding:3,children:c.jsx(Ce,{padding:3,radius:3,tone:s?"critical":void 0,onClick:a,icon:W3,mode:"bleed"})}),c.jsxs(ae,{align:"center",justify:"space-between",gap:4,direction:["column","column","row"],paddingY:[2,2,0],sizing:"border",height:"fill",children:[c.jsxs(ae,{align:"center",justify:"center",gap:2,flex:1,children:[c.jsx(ae,{justify:"center",children:c.jsx(G,{muted:!0,children:c.jsx(wMe,{})})}),c.jsx(ae,{justify:"center",children:c.jsx(G,{size:1,muted:!0,children:"Drag video or paste URL here"})})]}),c.jsxs(cn,{space:2,children:[c.jsx(Z2r,{mode:"ghost",tone:"default",icon:DC,text:"Upload",onSelect:r}),c.jsx(Ce,{mode:"ghost",icon:nl,text:"Select",onClick:o})]})]})]})})}var t5r=Object.defineProperty,n5r=(t,e,n)=>e in t?t5r(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zl=(t,e,n)=>(n5r(t,typeof e!="symbol"?e+"":e,n),n);class r5r extends m.Component{constructor(){super(...arguments),Zl(this,"state",{isDraggingOver:!1,invalidPaste:!1,invalidFile:!1,uploadProgress:null,fileInfo:null,uuid:null,error:null,url:null}),Zl(this,"dragEnteredEls",[]),Zl(this,"ctrlDown",!1),Zl(this,"upload",null),Zl(this,"container",re.createRef()),Zl(this,"onCancelUploadButtonClick$"),Zl(this,"handleCancelUploadButtonClick"),Zl(this,"handleProgress",e=>{this.setState({uploadProgress:e.percent})}),Zl(this,"onUpload",e=>{this.setState({uploadProgress:0,fileInfo:null,uuid:null}),this.upload=s2r(this.props.config,this.props.client,e[0],{enableSignedUrls:this.props.secrets.enableSignedUrls}).pipe(pI(this.onCancelUploadButtonClick$.pipe(Ei(()=>{this.state.uuid&&this.props.client.delete(this.state.uuid)})))).subscribe({complete:()=>{this.setState({error:null,uploadProgress:null,uuid:null})},next:n=>{this.handleUploadEvent(n)},error:n=>{this.setState({error:n,uploadProgress:null,uuid:null})}})}),Zl(this,"handleUploadEvent",e=>{switch(e.type){case"success":return this.handleUploadSuccess(e.asset);case"progress":return this.handleProgress(e);case"file":return this.setState({fileInfo:e.file});case"uuid":return this.setState({uuid:e.uuid});case"url":return this.setState({url:e.url,uploadProgress:100});default:return null}}),Zl(this,"handleUploadSuccess",e=>{this.setState({uploadProgress:100}),this.props.onChange(bn.from([sl({asset:{}}),_n({_type:"reference",_weak:!0,_ref:e._id},["asset"])]))}),Zl(this,"handlePaste",e=>{const r=(e.clipboardData||window.clipboardData).getData("text"),i={enableSignedUrls:this.props.secrets.enableSignedUrls};this.upload=i2r(this.props.config,this.props.client,r,i).subscribe({complete:()=>{this.setState({error:null,uploadProgress:null,url:null})},next:s=>{this.handleUploadEvent(s)},error:s=>{let o;s.message.toLowerCase().match("invalid url")||(o=s),this.setState({invalidPaste:!0,error:o},()=>{setTimeout(()=>{this.setState({invalidPaste:!1,uploadProgress:null})},2e3)})}})}),Zl(this,"handleDrop",e=>{this.setState({isDraggingOver:!1}),e.preventDefault(),e.stopPropagation(),f2r(e.nativeEvent.dataTransfer).then(n=>{n&&this.onUpload(n)})}),Zl(this,"handleDragOver",e=>{e.preventDefault(),e.stopPropagation()}),Zl(this,"handleDragEnter",e=>{var n,r;e.stopPropagation(),this.dragEnteredEls.push(e.target),this.setState({isDraggingOver:!0});const i=(r=(n=e.dataTransfer.items)==null?void 0:n[0])==null?void 0:r.type;this.setState({invalidFile:!i.startsWith("video/")})}),Zl(this,"handleDragLeave",e=>{e.stopPropagation();const n=this.dragEnteredEls.indexOf(e.target);n>-1&&this.dragEnteredEls.splice(n,1),this.dragEnteredEls.length===0&&this.setState({isDraggingOver:!1})})}componentWillUnmount(){this.unSubscribeToUpload()}componentDidMount(){const e=new Pi;this.onCancelUploadButtonClick$=e.asObservable(),this.handleCancelUploadButtonClick=n=>e.next(n)}unSubscribeToUpload(){this.upload&&!this.upload.closed&&this.upload.unsubscribe()}render(){var e;if(this.state.uploadProgress!==null)return c.jsx(Ist,{onCancel:this.handleCancelUploadButtonClick,progress:this.state.uploadProgress,filename:((e=this.state.fileInfo)==null?void 0:e.name)||this.state.url});if(this.state.error)throw this.state.error;return c.jsxs(c.Fragment,{children:[c.jsx(W2r,{tone:this.state.isDraggingOver&&(this.state.invalidPaste||this.state.invalidFile)?"critical":this.state.isDraggingOver?"positive":void 0,onDrop:this.handleDrop,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDragEnter:this.handleDragEnter,onPaste:this.handlePaste,ref:this.container,children:this.props.asset?c.jsx(I2r,{readOnly:this.props.readOnly,asset:this.props.asset,onChange:this.props.onChange,buttons:c.jsx(F2r,{asset:this.props.asset,dialogState:this.props.dialogState,setDialogState:this.props.setDialogState,onChange:this.props.onChange,onUpload:this.onUpload,readOnly:this.props.readOnly})}):c.jsx(e5r,{hovering:this.state.isDraggingOver,onSelect:this.onUpload,readOnly:this.props.readOnly,setDialogState:this.props.setDialogState,needsSetup:this.props.needsSetup})}),this.props.dialogState==="select-video"&&c.jsx(x2r,{asset:this.props.asset,onChange:this.props.onChange,setDialogState:this.props.setDialogState})]})}}const i5r=(t,e)=>m.useCallback(async n=>{let{token:r,secretKey:i,enableSignedUrls:s}=n,{signingKeyId:o,signingKeyPrivate:a}=e;try{await sLe(t,r,i,s,o,a);const l=await t2r(t);if(!(l!=null&&l.status)&&r&&i)throw new Error("Invalid secrets")}catch(l){throw console.error("Error while trying to save secrets:",l),l}if(s&&!await n2r(t,o,a))try{const{data:u}=await e2r(t);o=u.id,a=u.private_key,await sLe(t,r,i,s,o,a)}catch(u){throw console.log("Error while creating and saving signing key:",u==null?void 0:u.message),u}return{token:r,secretKey:i,enableSignedUrls:s,signingKeyId:o,signingKeyPrivate:a}},[t,e]);function Pst(t){let{token:e,secretKey:n,enableSignedUrls:r}=t;return{submitting:!1,error:null,token:e??"",secretKey:n??"",enableSignedUrls:r??!1}}function s5r(t,e){switch(e==null?void 0:e.type){case"submit":return{...t,submitting:!0,error:null};case"error":return{...t,submitting:!1,error:e.payload};case"reset":return Pst(e.payload);case"change":return{...t,[e.payload.name]:e.payload.value};default:throw new Error("Unknown action type: ".concat(e==null?void 0:e.type))}}const o5r=t=>m.useReducer(s5r,t,Pst),a5r=["title","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r"];function Mst(t){let{height:e=26}=t;const n=m.useId(),[r,i,s,o,a,l,u,d,f,h,p,g,v,y,x,b,_,C,S]=m.useMemo(()=>a5r.map(T=>"".concat(n,"-").concat(T)),[n]);return c.jsxs("svg",{"aria-labelledby":r,role:"img",xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",viewBox:"92.08878326416016 102.66712188720703 692.76123046875 219.99948120117188",style:{height:"".concat(e,"px")},children:[c.jsx("title",{id:r,children:"Mux Logo"}),c.jsxs("defs",{children:[c.jsxs("linearGradient",{id:o,spreadMethod:"pad",gradientTransform:"matrix(528.38055 0 0 -528.38055 63.801 159.5)",gradientUnits:"userSpaceOnUse",y2:0,x2:1,y1:0,x1:0,children:[c.jsx("stop",{offset:0,style:{stopOpacity:1,stopColor:"#ff4e00"}}),c.jsx("stop",{offset:1,style:{stopOpacity:1,stopColor:"#ff1791"}})]}),c.jsxs("linearGradient",{id:a,spreadMethod:"pad",gradientTransform:"matrix(523.66766 0 0 -523.66766 67.897 159.5)",gradientUnits:"userSpaceOnUse",y2:0,x2:1,y1:0,x1:0,children:[c.jsx("stop",{offset:0,style:{stopOpacity:1,stopColor:"#ff4e00"}}),c.jsx("stop",{offset:1,style:{stopOpacity:1,stopColor:"#ff1791"}})]}),c.jsxs("linearGradient",{id:d,spreadMethod:"pad",gradientTransform:"rotate(180 296.075 79.75) scale(524.84045)",gradientUnits:"userSpaceOnUse",y2:0,x2:1,y1:0,x1:0,children:[c.jsx("stop",{offset:0,style:{stopOpacity:1,stopColor:"#ff4e00"}}),c.jsx("stop",{offset:1,style:{stopOpacity:1,stopColor:"#ff1791"}})]}),c.jsxs("linearGradient",{id:h,spreadMethod:"pad",gradientTransform:"matrix(524.84045 0 0 -524.84045 63.801 159.5)",gradientUnits:"userSpaceOnUse",y2:0,x2:1,y1:0,x1:0,children:[c.jsx("stop",{offset:0,style:{stopOpacity:1,stopColor:"#ff4e00"}}),c.jsx("stop",{offset:1,style:{stopOpacity:1,stopColor:"#ff1791"}})]}),c.jsxs("linearGradient",{id:p,spreadMethod:"pad",gradientTransform:"matrix(523.08514 0 0 -523.08514 67.897 224.446)",gradientUnits:"userSpaceOnUse",y2:0,x2:1,y1:0,x1:0,children:[c.jsx("stop",{offset:0,style:{stopOpacity:1,stopColor:"#ff4e00"}}),c.jsx("stop",{offset:1,style:{stopOpacity:1,stopColor:"#ff1791"}})]}),c.jsxs("linearGradient",{id:g,spreadMethod:"pad",gradientTransform:"matrix(524.84045 0 0 -524.84045 63.801 94.553)",gradientUnits:"userSpaceOnUse",y2:0,x2:1,y1:0,x1:0,children:[c.jsx("stop",{offset:0,style:{stopOpacity:1,stopColor:"#ff4e00"}}),c.jsx("stop",{offset:1,style:{stopOpacity:1,stopColor:"#ff1791"}})]}),c.jsxs("linearGradient",{id:v,spreadMethod:"pad",gradientTransform:"matrix(524.84045 0 0 -524.84045 63.801 159.5)",gradientUnits:"userSpaceOnUse",y2:0,x2:1,y1:0,x1:0,children:[c.jsx("stop",{offset:0,style:{stopOpacity:1,stopColor:"#ff4e00"}}),c.jsx("stop",{offset:1,style:{stopOpacity:1,stopColor:"#ff1791"}})]}),c.jsxs("linearGradient",{id:y,spreadMethod:"pad",gradientTransform:"matrix(524.84045 0 0 -524.84045 63.801 94.554)",gradientUnits:"userSpaceOnUse",y2:0,x2:1,y1:0,x1:0,children:[c.jsx("stop",{offset:0,style:{stopOpacity:1,stopColor:"#ff4e00"}}),c.jsx("stop",{offset:1,style:{stopOpacity:1,stopColor:"#ff1791"}})]}),c.jsxs("linearGradient",{id:_,spreadMethod:"pad",gradientTransform:"matrix(521.97632 0 0 -521.97632 69.067 191.973)",gradientUnits:"userSpaceOnUse",y2:0,x2:1,y1:0,x1:0,children:[c.jsx("stop",{offset:0,style:{stopOpacity:1,stopColor:"#ff4e00"}}),c.jsx("stop",{offset:1,style:{stopOpacity:1,stopColor:"#ff1791"}})]}),c.jsxs("linearGradient",{id:C,spreadMethod:"pad",gradientTransform:"matrix(523.09039 0 0 -523.09039 67.312 191.973)",gradientUnits:"userSpaceOnUse",y2:0,x2:1,y1:0,x1:0,children:[c.jsx("stop",{offset:0,style:{stopOpacity:1,stopColor:"#ff4e00"}}),c.jsx("stop",{offset:1,style:{stopOpacity:1,stopColor:"#ff1791"}})]}),c.jsxs("linearGradient",{id:S,spreadMethod:"pad",gradientTransform:"matrix(524.84045 0 0 -524.84045 63.801 159.5)",gradientUnits:"userSpaceOnUse",y2:0,x2:1,y1:0,x1:0,children:[c.jsx("stop",{offset:0,style:{stopOpacity:1,stopColor:"#ff4e00"}}),c.jsx("stop",{offset:1,style:{stopOpacity:1,stopColor:"#ff1791"}})]}),c.jsx("clipPath",{id:i,clipPathUnits:"userSpaceOnUse",children:c.jsx("path",{d:"M0 319h657.706V0H0Z"})}),c.jsx("clipPath",{id:s,clipPathUnits:"userSpaceOnUse",children:c.jsx("path",{d:"M423.64 242h164.999V77H423.64Z"})}),c.jsx("clipPath",{id:l,clipPathUnits:"userSpaceOnUse",children:c.jsx("path",{d:"M0 319h657.706V0H0Z"})}),c.jsx("clipPath",{id:u,clipPathUnits:"userSpaceOnUse",children:c.jsx("path",{d:"M311.3 242h93.031V77H311.3Z"})}),c.jsx("clipPath",{id:f,clipPathUnits:"userSpaceOnUse",children:c.jsx("path",{d:"M198.96 242h35.106V77H198.96Z"})}),c.jsx("clipPath",{id:x,clipPathUnits:"userSpaceOnUse",children:c.jsx("path",{d:"M0 319h657.706V0H0Z"})}),c.jsx("clipPath",{id:b,clipPathUnits:"userSpaceOnUse",children:c.jsx("path",{d:"M69.067 242H169.12V141.947H69.067Z"})})]}),c.jsx("g",{clipPath:"url(#".concat(i,")"),transform:"matrix(1.33333 0 0 -1.33333 0 425.333)",children:c.jsx("g",{style:{opacity:.69999701},clipPath:"url(#".concat(s,")"),children:c.jsx("path",{style:{fill:"url(#".concat(o,")"),stroke:"none"},d:"M558.674 82.142c6.855-6.855 17.969-6.855 24.824 0 6.854 6.855 6.854 17.969 0 24.823L453.605 236.858c-6.855 6.855-17.969 6.855-24.824 0s-6.855-17.969 0-24.823z"})})}),c.jsx("path",{style:{fill:"url(#".concat(a,")"),stroke:"none"},d:"M558.674 236.858 428.781 106.966c-6.855-6.855-6.855-17.969 0-24.825 6.855-6.854 17.969-6.854 24.823 0l129.894 129.894c6.854 6.855 6.854 17.968 0 24.823A17.498 17.498 0 0 1 571.086 242a17.495 17.495 0 0 1-12.412-5.142",transform:"matrix(1.33333 0 0 -1.33333 0 425.333)"}),c.jsxs("g",{clipPath:"url(#".concat(l,")"),transform:"matrix(1.33333 0 0 -1.33333 0 425.333)",children:[c.jsx("g",{style:{opacity:.69999701},clipPath:"url(#".concat(u,")"),children:c.jsx("path",{style:{fill:"url(#".concat(d,")"),stroke:"none"},d:"M328.853 112.107c22.297 0 40.372 18.075 40.372 40.372v71.315c0 10.054 7.505 18.206 17.554 18.206 10.048 0 17.552-8.152 17.552-18.206v-71.315c0-41.686-33.793-75.479-75.478-75.479-9.694 0-17.553 7.859-17.553 17.554 0 9.694 7.859 17.553 17.553 17.553"})}),c.jsx("g",{style:{opacity:.69999701},clipPath:"url(#".concat(f,")"),children:c.jsx("path",{style:{fill:"url(#".concat(h,")"),stroke:"none"},d:"M216.513 242c-10.049 0-17.553-8.152-17.553-18.206V95.206c0-10.054 7.504-18.206 17.553-18.206 10.048 0 17.553 8.152 17.553 18.206v128.588c0 10.054-7.505 18.206-17.553 18.206"})})]}),c.jsx("path",{style:{fill:"url(#".concat(p,")"),stroke:"none"},d:"M369.225 224.447c0-9.694 7.859-17.553 17.553-17.553 9.695 0 17.553 7.859 17.553 17.553s-7.858 17.552-17.553 17.552c-9.694 0-17.553-7.858-17.553-17.552",transform:"matrix(1.33333 0 0 -1.33333 0 425.333)"}),c.jsx("path",{style:{fill:"url(#".concat(g,")"),stroke:"none"},d:"M553.532 94.554c0-9.695 7.859-17.554 17.553-17.554 9.695 0 17.554 7.859 17.554 17.554 0 9.694-7.859 17.552-17.554 17.552-9.694 0-17.553-7.858-17.553-17.552",transform:"matrix(1.33333 0 0 -1.33333 0 425.333)"}),c.jsx("path",{style:{fill:"url(#".concat(v,")"),stroke:"none"},d:"M69.067 223.794V95.206C69.067 85.152 76.571 77 86.62 77c10.048 0 17.553 8.152 17.553 18.206v128.588c0 10.055-7.505 18.205-17.553 18.205-10.049 0-17.553-8.15-17.553-18.205",transform:"matrix(1.33333 0 0 -1.33333 0 425.333)"}),c.jsx("path",{style:{fill:"url(#".concat(y,")"),stroke:"none"},d:"M198.96 94.554c0-9.695 7.859-17.554 17.553-17.554 9.695 0 17.554 7.859 17.554 17.554 0 9.694-7.859 17.553-17.554 17.553-9.694 0-17.553-7.859-17.553-17.553",transform:"matrix(1.33333 0 0 -1.33333 0 425.333)"}),c.jsx("g",{clipPath:"url(#".concat(x,")"),transform:"matrix(1.33333 0 0 -1.33333 0 425.333)",children:c.jsx("g",{style:{opacity:.69999701},clipPath:"url(#".concat(b,")"),children:c.jsx("path",{style:{fill:"url(#".concat(_,")"),stroke:"none"},d:"M139.155 147.088c6.855-6.855 17.969-6.855 24.824 0s6.855 17.969 0 24.824l-64.947 64.946c-6.855 6.855-17.969 6.855-24.824 0s-6.855-17.969 0-24.823z"})})}),c.jsx("path",{style:{fill:"url(#".concat(C,")"),stroke:"none"},d:"m204.101 236.858-64.947-64.946c-6.854-6.855-6.854-17.969 0-24.824 6.856-6.855 17.97-6.855 24.824 0l64.947 64.947c6.855 6.855 6.855 17.968 0 24.823A17.495 17.495 0 0 1 216.513 242a17.498 17.498 0 0 1-12.412-5.142",transform:"matrix(1.33333 0 0 -1.33333 0 425.333)"}),c.jsx("path",{style:{fill:"url(#".concat(S,")"),stroke:"none"},d:"M253.374 223.794v-71.315c0-41.685 33.793-75.479 75.479-75.479 9.695 0 17.553 7.859 17.553 17.554 0 9.694-7.858 17.553-17.553 17.553-22.297 0-40.372 18.075-40.372 40.372v71.315c0 10.055-7.505 18.205-17.554 18.205s-17.553-8.15-17.553-18.205",transform:"matrix(1.33333 0 0 -1.33333 0 425.333)"})]})}var OLe=Object.freeze,l5r=Object.defineProperty,u5r=(t,e)=>OLe(l5r(t,"raw",{value:OLe(e||t.slice())})),LLe;const c5r=H.span(LLe||(LLe=u5r([`
  display: inline-block;
  height: 0.8em;
  margin-right: 1em;
  transform: translate(0.3em, -0.2em);
`]))),d5r=()=>c.jsxs(c.Fragment,{children:[c.jsx(c5r,{children:c.jsx(Mst,{height:13})}),"API Credentials"]}),f5r=["token","secretKey","enableSignedUrls"];function h5r(t){let{secrets:e,setDialogState:n}=t;var r,i;const s=jy(),[o,a]=o5r(e),l=m.useMemo(()=>e.token&&e.secretKey,[e]),u=m.useCallback(()=>n(!1),[n]),d=m.useMemo(()=>e.token!==o.token||e.secretKey!==o.secretKey||e.enableSignedUrls!==o.enableSignedUrls,[e,o]),f="ConfigureApi".concat(m.useId()),[h,p,g]=m.useMemo(()=>f5r.map(T=>"".concat(f,"-").concat(T)),[f]),v=m.useRef(null),y=i5r(s,e),x=m.useRef(!1),b=m.useCallback(T=>{if(T.preventDefault(),!x.current&&T.currentTarget.reportValidity()){x.current=!0,a({type:"submit"});const{token:A,secretKey:k,enableSignedUrls:I}=o;y({token:A,secretKey:k,enableSignedUrls:I}).then(D=>{const{projectId:R,dataset:O}=s.config();Hit([TX,B8,R,O]),sbr(()=>Promise.resolve(D),[TX,B8,R,O]),n(!1)}).catch(D=>a({type:"error",payload:D.message})).finally(()=>{x.current=!1})}},[s,a,y,n,o]),_=m.useCallback(T=>{a({type:"change",payload:{name:"token",value:T.currentTarget.value}})},[a]),C=m.useCallback(T=>{a({type:"change",payload:{name:"secretKey",value:T.currentTarget.value}})},[a]),S=m.useCallback(T=>{a({type:"change",payload:{name:"enableSignedUrls",value:T.currentTarget.checked}})},[a]);return m.useEffect(()=>{v.current&&v.current.focus()},[v]),c.jsx(pa,{id:f,onClose:u,header:c.jsx(d5r,{}),width:1,style:{maxWidth:"550px"},children:c.jsx(N,{padding:4,style:{position:"relative"},children:c.jsx("form",{onSubmit:b,noValidate:!0,children:c.jsxs(Te,{space:4,children:[!l&&c.jsx(ge,{padding:[3,3,3],radius:2,shadow:1,tone:"primary",children:c.jsxs(Te,{space:3,children:[c.jsxs(G,{size:1,children:["To set up a new access token, go to your"," ",c.jsx("a",{href:"https://dashboard.mux.com/settings/access-tokens",target:"_blank",rel:"noreferrer noopener",children:"account on mux.com"}),"."]}),c.jsxs(G,{size:1,children:["The access token needs permissions: ",c.jsx("strong",{children:"Mux Video "}),"(Full Access) and ",c.jsx("strong",{children:"Mux Data"})," (Read)",c.jsx("br",{}),"The credentials will be stored safely in a hidden document only available to editors."]})]})}),c.jsx(AX,{title:"Access Token",inputId:h,children:c.jsx(Fi,{id:h,ref:v,onChange:_,type:"text",value:(r=o.token)!=null?r:"",required:!!o.secretKey||o.enableSignedUrls})}),c.jsx(AX,{title:"Secret Key",inputId:p,children:c.jsx(Fi,{id:p,onChange:C,type:"text",value:(i=o.secretKey)!=null?i:"",required:!!o.token||o.enableSignedUrls})}),c.jsxs(Te,{space:4,children:[c.jsxs(ae,{align:"center",children:[c.jsx(r0,{id:g,onChange:S,checked:o.enableSignedUrls,style:{display:"block"}}),c.jsx(N,{flex:1,paddingLeft:3,children:c.jsx(G,{children:c.jsx("label",{htmlFor:g,children:"Enable Signed Urls"})})})]}),e.signingKeyId&&o.enableSignedUrls?c.jsx(ge,{padding:[3,3,3],radius:2,shadow:1,tone:"caution",children:c.jsxs(Te,{space:3,children:[c.jsx(G,{size:1,children:"The signing key ID that Sanity will use is:"}),c.jsx(qs,{size:1,children:e.signingKeyId}),c.jsxs(G,{size:1,children:["This key is only used for previewing content in the Sanity UI.",c.jsx("br",{}),"You should generate a different key to use in your application server."]})]})}):null]}),c.jsxs(cn,{space:2,children:[c.jsx(Ce,{text:"Save",disabled:!d,loading:o.submitting,tone:"primary",mode:"default",type:"submit"}),c.jsx(Ce,{disabled:o.submitting,text:"Cancel",mode:"bleed",onClick:u})]}),o.error&&c.jsx(ge,{padding:[3,3,3],radius:2,shadow:1,tone:"critical",children:c.jsx(G,{children:o.error})})]})})})})}var p5r=m.memo(h5r);function m5r(t){const{children:e,schemaType:n}=t,{push:r}=Na(),i=m.useRef(null),{ErrorBoundary:s,didCatch:o,error:a,reset:l}=_xr({onDidCatch:(d,f)=>{console.group(d.toString()),console.groupCollapsed("console.error"),console.error(d),console.groupEnd(),d.stack&&(console.groupCollapsed("error.stack"),console.log(d.stack),console.groupEnd()),f!=null&&f.componentStack&&(console.groupCollapsed("errorInfo.componentStack"),console.log(f.componentStack),console.groupEnd()),console.groupEnd(),r({status:"error",title:"Plugin crashed",description:c.jsx(ae,{align:"center",children:c.jsxs(cn,{space:1,children:["An error happened while rendering",c.jsx(Ce,{padding:1,fontSize:1,style:{transform:"translateY(1px)"},mode:"ghost",text:n.title,onClick:()=>{i.current&&WA(i.current,{behavior:"smooth",scrollMode:"if-needed",block:"center"})}})]})})})}}),u=m.useCallback(()=>{Hit([QOe]),l()},[l]);return o?c.jsx(ge,{ref:i,paddingX:[2,3,4,4],height:"fill",shadow:1,overflow:"auto",children:c.jsx(ae,{justify:"flex-start",align:"center",height:"fill",children:c.jsxs(Er,{columns:1,gap:[2,3,4,4],children:[c.jsxs(Ws,{as:"h1",children:["The ",c.jsx("code",{children:QOe})," plugin crashed"]}),(a==null?void 0:a.message)&&c.jsx(ge,{padding:3,tone:"critical",shadow:1,radius:2,children:c.jsx(G,{children:a.message})}),c.jsx(cn,{children:c.jsx(Ce,{onClick:u,text:"Retry"})})]})})}):c.jsx(s,{children:e})}var g5r=m.memo(m5r);const PLe=()=>c.jsx("div",{style:{padding:1},children:c.jsx(ge,{shadow:1,sizing:"border",style:{aspectRatio:"16/9",width:"100%",borderRadius:"1px"},children:c.jsxs(ae,{align:"center",direction:"column",height:"fill",justify:"center",children:[c.jsx(_s,{muted:!0}),c.jsx(N,{marginTop:3,children:c.jsx(G,{align:"center",muted:!0,size:1,children:"Loading"})})]})})});function v5r(t){const{setDialogState:e}=t,n=m.useCallback(()=>e("secrets"),[e]);return c.jsx(c.Fragment,{children:c.jsx("div",{style:{padding:2},children:c.jsx(ge,{display:"flex",sizing:"border",style:{aspectRatio:"16/9",width:"100%",boxShadow:"var(--card-bg-color) 0 0 0 2px"},paddingX:[2,3,4,4],radius:1,tone:"transparent",children:c.jsx(ae,{justify:"flex-start",align:"center",children:c.jsxs(Er,{columns:1,gap:[2,3,4,4],children:[c.jsx(cn,{paddingY:1,children:c.jsx("div",{style:{height:"32px"},children:c.jsx(Mst,{})})}),c.jsx(cn,{paddingY:1,children:c.jsx(Ws,{size:[0,1,2,2],children:"Upload and preview videos directly from your studio."})}),c.jsx(cn,{paddingY:1,children:c.jsx(Ce,{mode:"ghost",icon:W3,text:"Configure API",onClick:n})})]})})})})})}const y5r=t=>{var e;const n=jy(),r=Qwr(),i=Ywr((e=t.value)==null?void 0:e.asset),s=Zwr(t.readOnly?void 0:(i==null?void 0:i.value)||void 0),[o,a]=Kwr(),l=r.error||i.error||s.error;if(l)throw l;const u=r.isLoading||i.isLoading;return c.jsx(ge,{children:c.jsx(g5r,{schemaType:t.schemaType,children:c.jsx(m.Suspense,{fallback:c.jsx(PLe,{}),children:u?c.jsx(PLe,{}):c.jsxs(c.Fragment,{children:[r.value.needsSetup&&!i.value?c.jsx(v5r,{setDialogState:a}):c.jsx(r5r,{...t,config:t.config,onChange:t.onChange,client:n,secrets:r.value.secrets,asset:i.value,dialogState:o,setDialogState:a,needsSetup:r.value.needsSetup}),o==="secrets"&&c.jsx(p5r,{setDialogState:a,secrets:r.value.secrets})]})})})})};var b5r=m.memo(y5r);function x5r(t){return{components:{input:e=>c.jsx(b5r,{config:t,...e})},preview:{select:{filename:"asset.filename",playbackId:"asset.playbackId",status:"asset.status",assetId:"asset.assetId",thumbTime:"asset.thumbTime",data:"asset.data"},prepare:e=>{const{filename:n,playbackId:r,status:i}=e;return{title:n||r||"",subtitle:i?"status: ".concat(i):null,media:e.playbackId?c.jsx(Est,{asset:e,width:64}):null}}}}}const w5r={name:"mux.video",type:"object",title:"Video asset reference",fields:[{title:"Video",name:"asset",type:"reference",weak:!0,to:[{type:"mux.videoAsset"}]}]},_5r={name:"mux.videoAsset",type:"object",title:"Video asset",fields:[{type:"string",name:"status"},{type:"string",name:"assetId"},{type:"string",name:"playbackId"},{type:"string",name:"filename"},{type:"number",name:"thumbTime"}]},C5r={mp4_support:"none"},E5r=Ey(t=>{const e={...C5r,...t};return{name:"mux-input",schema:{types:[_5r,{...w5r,...x5r(e)}]},tools:e.tool===!1?void 0:[Gwr(e)]}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var IX=function(t,e){return IX=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},IX(t,e)};function S5r(t,e){IX(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var eA=function(){return eA=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},eA.apply(this,arguments)};function T5r(t,e,n,r){var i,s=!1,o=0;function a(){i&&clearTimeout(i)}function l(){a(),s=!0}typeof e!="boolean"&&(r=n,n=e,e=void 0);function u(){var d=this,f=Date.now()-o,h=arguments;if(s)return;function p(){o=Date.now(),n.apply(d,h)}function g(){i=void 0}r&&!i&&p(),a(),r===void 0&&f>t?p():e!==!0&&(i=setTimeout(r?g:p,r===void 0?t-f:t))}return u.cancel=l,u}var j_={Pixel:"Pixel",Percent:"Percent"},MLe={unit:j_.Percent,value:.8};function $Le(t){return typeof t=="number"?{unit:j_.Percent,value:t*100}:typeof t=="string"?t.match(/^(\d*(\.\d+)?)px$/)?{unit:j_.Pixel,value:parseFloat(t)}:t.match(/^(\d*(\.\d+)?)%$/)?{unit:j_.Percent,value:parseFloat(t)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),MLe):(console.warn("scrollThreshold should be string or number"),MLe)}var k5r=function(t){S5r(e,t);function e(n){var r=t.call(this,n)||this;return r.lastScrollTop=0,r.actionTriggered=!1,r.startY=0,r.currentY=0,r.dragging=!1,r.maxPullDownDistance=0,r.getScrollableTarget=function(){return r.props.scrollableTarget instanceof HTMLElement?r.props.scrollableTarget:typeof r.props.scrollableTarget=="string"?document.getElementById(r.props.scrollableTarget):(r.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},r.onStart=function(i){r.lastScrollTop||(r.dragging=!0,i instanceof MouseEvent?r.startY=i.pageY:i instanceof TouchEvent&&(r.startY=i.touches[0].pageY),r.currentY=r.startY,r._infScroll&&(r._infScroll.style.willChange="transform",r._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},r.onMove=function(i){r.dragging&&(i instanceof MouseEvent?r.currentY=i.pageY:i instanceof TouchEvent&&(r.currentY=i.touches[0].pageY),!(r.currentY<r.startY)&&(r.currentY-r.startY>=Number(r.props.pullDownToRefreshThreshold)&&r.setState({pullToRefreshThresholdBreached:!0}),!(r.currentY-r.startY>r.maxPullDownDistance*1.5)&&r._infScroll&&(r._infScroll.style.overflow="visible",r._infScroll.style.transform="translate3d(0px, "+(r.currentY-r.startY)+"px, 0px)")))},r.onEnd=function(){r.startY=0,r.currentY=0,r.dragging=!1,r.state.pullToRefreshThresholdBreached&&(r.props.refreshFunction&&r.props.refreshFunction(),r.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){r._infScroll&&(r._infScroll.style.overflow="auto",r._infScroll.style.transform="none",r._infScroll.style.willChange="unset")})},r.onScrollListener=function(i){typeof r.props.onScroll=="function"&&setTimeout(function(){return r.props.onScroll&&r.props.onScroll(i)},0);var s=r.props.height||r._scrollableNode?i.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!r.actionTriggered){var o=r.props.inverse?r.isElementAtTop(s,r.props.scrollThreshold):r.isElementAtBottom(s,r.props.scrollThreshold);o&&r.props.hasMore&&(r.actionTriggered=!0,r.setState({showLoader:!0}),r.props.next&&r.props.next()),r.lastScrollTop=s.scrollTop}},r.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:n.dataLength},r.throttledOnScrollListener=T5r(150,r.onScrollListener).bind(r),r.onStart=r.onStart.bind(r),r.onMove=r.onMove.bind(r),r.onEnd=r.onEnd.bind(r),r}return e.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},e.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},e.prototype.componentDidUpdate=function(n){this.props.dataLength!==n.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},e.getDerivedStateFromProps=function(n,r){var i=n.dataLength!==r.prevDataLength;return i?eA(eA({},r),{prevDataLength:n.dataLength}):null},e.prototype.isElementAtTop=function(n,r){r===void 0&&(r=.8);var i=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,s=$Le(r);return s.unit===j_.Pixel?n.scrollTop<=s.value+i-n.scrollHeight+1:n.scrollTop<=s.value/100+i-n.scrollHeight+1},e.prototype.isElementAtBottom=function(n,r){r===void 0&&(r=.8);var i=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,s=$Le(r);return s.unit===j_.Pixel?n.scrollTop+i>=n.scrollHeight-s.value:n.scrollTop+i>=s.value/100*n.scrollHeight},e.prototype.render=function(){var n=this,r=eA({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),i=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),s=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return re.createElement("div",{style:s,className:"infinite-scroll-component__outerdiv"},re.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(o){return n._infScroll=o},style:r},this.props.pullDownToRefresh&&re.createElement("div",{style:{position:"relative"},ref:function(o){return n._pullDown=o}},re.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!i&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},e}(m.Component);function kf({width:t,height:e}){return t/e}function N8(t,e=0){const n=10**e;return Math.round((t+Number.EPSILON)*n)/n}function A5r(t){return(e,n)=>t(n)-t(e)}class I5r{constructor(e){this.comparator=e,this.heap=[],this.n=0}greater(e,n){return this.comparator(this.heap[e],this.heap[n])<0}swap(e,n){const r=this.heap[e];this.heap[e]=this.heap[n],this.heap[n]=r}swim(e){let n=e,r=Math.floor(n/2);for(;n>1&&this.greater(r,n);)this.swap(r,n),n=r,r=Math.floor(n/2)}sink(e){let n=e,r=n*2;for(;r<=this.n&&(r<this.n&&this.greater(r,r+1)&&(r+=1),!!this.greater(n,r));)this.swap(n,r),n=r,r=n*2}push(e){this.n+=1,this.heap[this.n]=e,this.swim(this.n)}pop(){if(this.n===0)return;this.swap(1,this.n),this.n-=1;const e=this.heap.pop();return this.sink(1),e}size(){return this.n}}function D5r(t,e,n){const r=new Map,i=new Set,s=new Map;s.set(e,0);const o=new I5r(A5r(a=>a.weight));for(o.push({id:e,weight:0});o.size()>0;){const{id:a,weight:l}=o.pop();if(!i.has(a)){const u=t(a);i.add(a),u.forEach((d,f)=>{const h=l+d,p=r.get(f),g=s.get(f);(g===void 0||g>h&&(g/h>1.005||p!==void 0&&p<a))&&(s.set(f,h),o.push({id:f,weight:h}),r.set(f,a))})}}return s.has(n)?r:void 0}function R5r(t,e){const n=[];for(let r=e;r!==void 0;r=t.get(r))n.push(r);return n.reverse()}function j5r(t,e,n){const r=D5r(t,e,n);return r?R5r(r,n):void 0}function O5r({photos:t,targetRowHeight:e,containerWidth:n}){const r=t.reduce((i,s)=>Math.min(kf(s),i),Number.MAX_VALUE);return N8(n/e/r)+2}function $st(t,e,n,r){const i=e-(t.length-1)*n-2*r*t.length,s=t.reduce((o,a)=>o+kf(a),0);return i/s}function L5r(t,e,n,r,i,s,o){const a=t.slice(e,n),l=$st(a,r,s,o);return l>0?(l-i)**2*a.length:void 0}function P5r({photos:t,layoutOptions:e,targetRowHeight:n,limitNodeSearch:r,rowConstraints:i}){return s=>{var o,a;const{containerWidth:l,spacing:u,padding:d}=e,f=new Map;f.set(s,0);const h=(o=i==null?void 0:i.minPhotos)!=null?o:1,p=Math.min(r,(a=i==null?void 0:i.maxPhotos)!=null?a:1/0);for(let g=s+h;g<t.length+1&&!(g-s>p);g+=1){const v=L5r(t,s,g,l,n,u,d);if(v===void 0)break;f.set(g,v)}return f}}function M5r({photos:t,layoutOptions:e}){const{spacing:n,padding:r,containerWidth:i,targetRowHeight:s,rowConstraints:o}=e,a=O5r({photos:t,containerWidth:i,targetRowHeight:s}),l=P5r({photos:t,layoutOptions:e,targetRowHeight:s,limitNodeSearch:a,rowConstraints:o}),u=j5r(l,0,t.length);if(u===void 0)return;const d=[];for(let f=1;f<u.length;f+=1){const h=t.map((g,v)=>({photo:g,index:v})).slice(u[f-1],u[f]),p=$st(h.map(({photo:g})=>g),i,n,r);d.push(h.map(({photo:g,index:v},y)=>({photo:g,layout:{height:p,width:p*kf(g),index:v,photoIndex:y,photosCount:h.length}})))}return d}function tB(...t){return[...t].filter(e=>!!e).join(" ")}function Fst(t,{width:e,photosCount:n},{spacing:r,padding:i,containerWidth:s}){const o=r*(n-1)+2*i*n;return`calc((${t} - ${o}px) / ${N8((s-o)/e,5)})`}function $5r(t,e){return e.layout!=="rows"?`calc(100% - ${2*e.padding}px)`:Fst("100%",t,e)}function FLe(t,e,n){var r,i;return Fst((i=(r=t.match(/calc\((.*)\)/))==null?void 0:r[1])!=null?i:t,e,n)}function F5r(t,e,n){let r,i;const s=t.srcSet||t.images;return s&&s.length>0&&(r=s.concat(s.find(({width:o})=>o===t.width)?[]:[{src:t.src,width:t.width,height:t.height}]).sort((o,a)=>o.width-a.width).map(o=>`${o.src} ${o.width}w`).join(", ")),n.sizes?i=(n.sizes.sizes||[]).map(({viewport:o,size:a})=>`${o} ${FLe(a,e,n)}`).concat(FLe(n.sizes.size,e,n)).join(", "):r&&(i=`${Math.ceil(e.width/n.containerWidth*100)}vw`),{srcSet:r,sizes:i}}function nae(t){var e,n;const{photo:r,layout:i,layoutOptions:s,imageProps:{style:o,className:a,...l}={},renderPhoto:u}=t,{onClick:d}=s,f={display:"block",boxSizing:"content-box",width:$5r(i,s),height:"auto",aspectRatio:`${r.width} / ${r.height}`,...s.padding?{padding:`${s.padding}px`}:null,...(s.layout==="columns"||s.layout==="masonry")&&i.photoIndex<i.photosCount-1?{marginBottom:`${s.spacing}px`}:null,...d?{cursor:"pointer"}:null,...o},h=d?y=>{d({event:y,photo:r,index:i.index})}:void 0,p={src:r.src,alt:(e=r.alt)!=null?e:"",title:r.title,onClick:h,style:f,className:tB("react-photo-album--photo",a),loading:"lazy",decoding:"async",...F5r(r,i,s),...l},g=y=>{const{src:x,alt:b,srcSet:_,sizes:C,style:S,...T}=p;return m.createElement("img",{alt:b,..._?{srcSet:_,sizes:C}:null,src:x,style:y!=null&&y.wrapped?{display:"block",width:"100%",height:"100%"}:S,...T})},v=(({display:y,boxSizing:x,width:b,aspectRatio:_,padding:C,marginBottom:S,cursor:T})=>({display:y,boxSizing:x,width:b,aspectRatio:_,padding:C,marginBottom:S,cursor:T}))(f);return m.createElement(m.Fragment,null,(n=u==null?void 0:u({photo:r,layout:i,layoutOptions:s,imageProps:p,renderDefaultPhoto:g,wrapperStyle:v}))!=null?n:g())}function B5r({rowContainerProps:t,children:e}){return m.createElement("div",{...t},e)}function N5r(t){const{layoutOptions:e,rowIndex:n,rowsCount:r,renderRowContainer:i,rowContainerProps:{style:s,className:o,...a}={},children:l}=t,u={className:tB("react-photo-album--row",o),style:{display:"flex",flexDirection:"row",flexWrap:"nowrap",alignItems:"flex-start",justifyContent:"space-between",...n<r-1?{marginBottom:`${e.spacing}px`}:null,...s},...a};return m.createElement(m.Fragment,null,(i??B5r)({layoutOptions:e,rowIndex:n,rowsCount:r,rowContainerProps:u,children:l}))}function V5r(t){const{photos:e,layoutOptions:n,renderPhoto:r,renderRowContainer:i,componentsProps:s}=t,o=M5r({photos:e,layoutOptions:n});return o?m.createElement(m.Fragment,null,o.map((a,l)=>m.createElement(N5r,{key:`row-${l}`,layoutOptions:n,rowIndex:l,rowsCount:o.length,renderRowContainer:i,rowContainerProps:s==null?void 0:s.rowContainerProps},a.map(({photo:u,layout:d})=>m.createElement(nae,{key:u.key||u.src,photo:u,layout:d,layoutOptions:n,renderPhoto:r,imageProps:s==null?void 0:s.imageProps}))))):null}function U5r(t,e,n,r){const i=new Map,s=new Set;s.add(n);for(let o=0;o<e;o+=1){const a=[...s.keys()];s.clear(),a.forEach(l=>{const u=o>0?i.get(l)[o].weight:0;t(l).forEach(({neighbor:d,weight:f})=>{let h=i.get(d);h||(h=[],i.set(d,h));const p=u+f,g=h[o+1];(!g||g.weight>p&&(g.weight/p>1.0001||l<g.node))&&(h[o+1]={node:l,weight:p}),o<e-1&&d!==r&&s.add(d)})})}return i}function H5r(t,e,n){const r=[n];for(let i=n,s=e;s>0;s-=1)i=t.get(i)[s].node,r.push(i);return r.reverse()}function z5r(t,e,n,r){return H5r(U5r(t,e,n,r),e,r)}function W5r({photos:t,spacing:e,padding:n,targetColumnWidth:r,targetColumnHeight:i}){return s=>{const o=[],a=i*1.5;let l=r/kf(t[s])+2*n;for(let u=s+1;u<t.length+1&&(o.push({neighbor:u,weight:(i-l)**2}),!(l>a||u===t.length));u+=1)l+=r/kf(t[u])+e+2*n;return o}}function BLe({path:t,photos:e,containerWidth:n,columnsGaps:r,columnsRatios:i,spacing:s,padding:o}){const a=[],l=i.reduce((u,d)=>u+d,0);for(let u=0;u<t.length-1;u+=1){const d=e.map((p,g)=>({photo:p,index:g})).slice(t[u],t[u+1]),f=i.reduce((p,g,v)=>p+(r[u]-r[v])*g,0),h=(n-(t.length-2)*s-2*(t.length-1)*o-f)*i[u]/l;a.push(d.map(({photo:p,index:g},v)=>({photo:p,layout:{width:h,height:h/kf(p),index:g,photoIndex:v,photosCount:d.length}})))}return a}function G5r({photos:t,layoutOptions:e,targetColumnWidth:n}){const{columns:r,spacing:i,padding:s,containerWidth:o}=e,a=[],l=[];if(t.length<=r){const p=t.length>0?t.reduce((v,y)=>v+kf(y),0)/t.length:1;for(let v=0;v<r;v+=1)a[v]=2*s,l[v]=v<t.length?kf(t[v]):p;const g=BLe({path:Array.from({length:r+1}).map((v,y)=>Math.min(y,t.length)),photos:t,columnsRatios:l,columnsGaps:a,containerWidth:o,spacing:i,padding:s});return{columnsGaps:a,columnsRatios:l,columnsModel:g}}const u=(t.reduce((p,g)=>p+n/kf(g),0)+i*(t.length-r)+2*s*t.length)/r,d=W5r({photos:t,targetColumnWidth:n,targetColumnHeight:u,spacing:i,padding:s}),f=z5r(d,r,0,t.length);for(let p=0;p<f.length-1;p+=1){const g=t.slice(f[p],f[p+1]);a[p]=i*(g.length-1)+2*s*g.length,l[p]=1/g.reduce((v,y)=>v+1/kf(y),0)}const h=BLe({path:f,photos:t,columnsRatios:l,columnsGaps:a,containerWidth:o,spacing:i,padding:s});return{columnsGaps:a,columnsRatios:l,columnsModel:h}}function Bst(t){const{photos:e,layoutOptions:n}=t,{columns:r,spacing:i,padding:s,containerWidth:o}=n,a=(o-i*(r-1)-2*s*r)/r,{columnsGaps:l,columnsRatios:u,columnsModel:d}=G5r({photos:e,layoutOptions:n,targetColumnWidth:a});return d.findIndex(f=>f.findIndex(({layout:{width:h,height:p}})=>h<0||p<0)>=0)>=0?r>1?Bst({photos:e,layoutOptions:{...n,columns:r-1}}):void 0:{columnsModel:d,columnsGaps:l,columnsRatios:u}}function q5r({photos:t,layoutOptions:e}){return Bst({photos:t,layoutOptions:e})}function Y5r({columnContainerProps:t,children:e}){return m.createElement("div",{...t},e)}function K5r(t){const{layoutOptions:e,columnIndex:n,columnsCount:r,columnsGaps:i,columnsRatios:s}=t,{layout:o,spacing:a,padding:l}=e;if(o==="masonry"||!i||!s)return`calc((100% - ${a*(r-1)}px) / ${r})`;const u=s.reduce((f,h)=>f+h,0),d=s.reduce((f,h,p)=>f+(i[n]-i[p])*h,0);return`calc((100% - ${N8((r-1)*a+2*r*l+d,3)}px) * ${N8(s[n]/u,5)} + ${2*l}px)`}function Nst(t){const{layoutOptions:e,renderColumnContainer:n,children:r,columnContainerProps:{style:i,className:s,...o}={},...a}=t,l={className:tB("react-photo-album--column",s),style:{display:"flex",flexDirection:"column",flexWrap:"nowrap",alignItems:"flex-start",width:K5r(t),justifyContent:e.layout==="columns"?"space-between":"flex-start",...i},...o};return m.createElement(m.Fragment,null,(n??Y5r)({layoutOptions:e,columnContainerProps:l,children:r,...a}))}function Z5r(t){const{photos:e,layoutOptions:n,renderPhoto:r,renderColumnContainer:i,componentsProps:s}=t,o=q5r({photos:e,layoutOptions:n});if(!o)return null;const{columnsModel:a,columnsRatios:l,columnsGaps:u}=o;return m.createElement(m.Fragment,null,a.map((d,f)=>m.createElement(Nst,{key:`column-${f}`,layoutOptions:n,columnIndex:f,columnsCount:a.length,columnsGaps:u,columnsRatios:l,renderColumnContainer:i,columnContainerProps:s==null?void 0:s.columnContainerProps},d.map(({photo:h,layout:p})=>m.createElement(nae,{key:h.key||h.src,photo:h,layout:p,layoutOptions:n,renderPhoto:r,imageProps:s==null?void 0:s.imageProps})))))}function Vst(t){const{photos:e,layoutOptions:n}=t,{columns:r,spacing:i,padding:s,containerWidth:o}=n,a=(o-i*(r-1)-2*s*r)/r;if(a<=0)return r>1?Vst({...t,layoutOptions:{...n,columns:r-1}}):void 0;const l=[];for(let d=0;d<r;d+=1)l[d]=0;return e.reduce((d,f,h)=>{const p=l.reduce((g,v,y)=>v<l[g]-1?y:g,0);return l[p]=l[p]+a/kf(f)+i+2*s,d[p].push({photo:f,index:h}),d},Array.from({length:r}).map(()=>[])).map(d=>d.map(({photo:f,index:h},p)=>({photo:f,layout:{width:a,height:a/kf(f),index:h,photoIndex:p,photosCount:d.length}})))}function X5r(t){const{photos:e,layoutOptions:n,renderPhoto:r,renderColumnContainer:i,componentsProps:s}=t,o=Vst({photos:e,layoutOptions:n});return o?m.createElement(m.Fragment,null,o.map((a,l)=>m.createElement(Nst,{key:`masonry-column-${l}`,layoutOptions:n,columnsCount:o.length,columnIndex:l,renderColumnContainer:i,columnContainerProps:s==null?void 0:s.columnContainerProps},a.map(({photo:u,layout:d})=>m.createElement(nae,{key:u.key||u.src,photo:u,layout:d,layoutOptions:n,renderPhoto:r,imageProps:s==null?void 0:s.imageProps}))))):null}function Q5r({containerProps:t,children:e,containerRef:n}){return m.createElement("div",{ref:n,...t},e)}function J5r(t){const{layout:e,renderContainer:n,children:r,containerRef:i,containerProps:{style:s,className:o,...a}={}}=t,l={className:tB("react-photo-album",`react-photo-album--${e}`,o),style:{display:"flex",flexWrap:"nowrap",justifyContent:"space-between",flexDirection:e==="rows"?"column":"row",...s},...a};return m.createElement(m.Fragment,null,(n??Q5r)({containerProps:l,containerRef:i,layout:e,children:r}))}function e_r(t){const e=m.useRef(t);return(!t||!e.current||t.join()!==e.current.join())&&(e.current=t),e.current}function t_r(t,{newContainerWidth:e,newScrollbarWidth:n}){const{containerWidth:r,scrollbarWidth:i}=t;return r!==void 0&&i!==void 0&&e!==void 0&&n!==void 0&&e>r&&e-r<=20&&n<i?{containerWidth:r,scrollbarWidth:n}:r!==e||i!==n?{containerWidth:e,scrollbarWidth:n}:t}function n_r(t,e){let n=t==null?void 0:t.clientWidth;if(n!==void 0&&e&&e.length>0){const r=[...e.filter(s=>s>0)].sort((s,o)=>o-s);r.push(Math.floor(r[r.length-1]/2));const i=n;n=r.find((s,o)=>s<=i||o===r.length-1)}return n}function r_r(t,e){const[{containerWidth:n},r]=m.useReducer(t_r,{containerWidth:e}),i=m.useRef(null),s=m.useRef();return{containerRef:m.useCallback(a=>{var l;(l=s.current)==null||l.disconnect(),s.current=void 0,i.current=a;const u=()=>r({newContainerWidth:n_r(i.current,t),newScrollbarWidth:window.innerWidth-document.documentElement.clientWidth});u(),a&&typeof ResizeObserver<"u"&&(s.current=new ResizeObserver(u),s.current.observe(a))},[t]),containerWidth:n}}const i_r=Object.freeze([1200,600,300,0]);function Ust(t,e){return typeof t=="function"?t(e):t}function Hst(t,e){return typeof t<"u"?Ust(t,e):void 0}function s_r(t,e){const n=i_r.findIndex(r=>r<=e);return Ust(t[n>=0?n:0],e)}function Hj(t,e,n,r=0){const i=Hst(t,e);return Math.round(Math.max(i===void 0?s_r(n,e):i,r))}function o_r({layout:t,onClick:e,containerWidth:n,targetRowHeight:r,rowConstraints:i,columns:s,spacing:o,padding:a,sizes:l}){return{layout:t,onClick:e,containerWidth:n,columns:Hj(s,n,[5,4,3,2],1),spacing:Hj(o,n,[20,15,10,5]),padding:Hj(a,n,[0,0,0,0,0]),targetRowHeight:Hj(r,n,[u=>u/5,u=>u/4,u=>u/3,u=>u/2]),rowConstraints:Hst(i,n),sizes:l}}function a_r(t,e){return typeof t=="function"?t(e):t}function l_r(t,e,n){const{photos:r,layout:i,renderPhoto:s,renderRowContainer:o,renderColumnContainer:a}=t,l=o_r({containerWidth:e,...t}),u={photos:r,renderPhoto:s,componentsProps:n};return i==="rows"?m.createElement(V5r,{layoutOptions:l,renderRowContainer:o,...u}):i==="columns"?m.createElement(Z5r,{layoutOptions:l,renderColumnContainer:a,...u}):m.createElement(X5r,{layoutOptions:l,renderColumnContainer:a,...u})}function u_r(t){const{photos:e,layout:n,renderContainer:r,defaultContainerWidth:i,breakpoints:s}=t,{containerRef:o,containerWidth:a}=r_r(e_r(s),i);if(!n||!["rows","columns","masonry"].includes(n)||!Array.isArray(e))return null;const l=a_r(t.componentsProps,a);return m.createElement(J5r,{layout:n,containerRef:o,renderContainer:r,containerProps:l==null?void 0:l.containerProps},a?l_r(t,a,l):null)}var NLe,VLe,ULe,HLe,zLe;function AD(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function c_r(){return c.jsxs("svg",{role:"img",viewBox:"0 0 25 25",width:"1em",height:"1em",fill:"currentColor",children:[c.jsx("title",{}),c.jsx("path",{d:"M9 9V4h7v5H9Zm7 3h5v9H4v-9h5v5h7v-5Z"})]})}const d_r=(t,e,n,r)=>Ls(()=>t.observable.request({url:"/addons/unsplash/search/photos?query=".concat(encodeURIComponent(e),"&page=").concat(n,"&per_page=").concat(r),withCredentials:!0,method:"GET"})),f_r=(t,e,n,r)=>Ls(()=>t.observable.request({url:"/addons/unsplash/photos?order_by=".concat(e,"&page=").concat(n,"&per_page=").concat(r),withCredentials:!0,method:"GET"}));function h_r(t,e){const n=e.links.download_location.replace("https://api.unsplash.com","/addons/unsplash");return t.request({url:n,withCredentials:!0,method:"GET"}).then(r=>r.url)}const p_r=(t,e,n,r)=>go(e.pipe(oa(n),o9(500),Xi(),Kt(i=>{let[s,o]=i;return s?d_r(t,s,o,r).pipe(Xi(),Be(a=>a.results)):f_r(t,"popular",o,r)}))),m_r=H.div(NLe||(NLe=AD([`
  overflow: hidden;
  background-origin: content-box;
  background-repeat: no-repeat;
  background-clip: border-box;
  background-size: cover;
  position: relative;
  outline: none !important;
  border: `,`;
  box-sizing: content-box;
  user-drag: none;

  &:hover {
    opacity: 0.85;
  }

  &:focus,
  &:active {
    border: 1px solid var(--input-border-color-focus);
    box-shadow: inset 0 0 0 3px var(--input-border-color-focus);
  }
`])),t=>{let{studioTheme:e}=t;return"1px solid ".concat(e.color.card.enabled.border)}),g_r=H.a(VLe||(VLe=AD([`
  text-decoration: none;
  cursor: pointer;
`]))),v_r=H(ge)(ULe||(ULe=AD([`
  `,`;
  user-drag: none;
  position: absolute;
  background-color: var(--creditline-bg);
  bottom: 0;

  [data-ui='Text'] {
    color: var(--creditline-fg);
  }
`])),t=>{let{theme:e}=t;return`
     --creditline-fg: `.concat(e.sanity.color.card.enabled.fg,`;
     --creditline-bg: `).concat(e.sanity.color.card.enabled.bg,`;
   `)}),y_r="sanity-plugin-asset-source-unsplash";function b_r(t){const{onClick:e,data:n,onKeyDown:r,onFocus:i,active:s,width:o,height:a}=t,l=m.useCallback(()=>{e(n)},[e,n]),u=m.useCallback(v=>{v.stopPropagation();const y="".concat(n.links.html,"?utm_source=").concat(encodeURIComponent(y_r),"&utm_medium=referral");window.open(y,n.id,"noreferrer,noopener")},[n]),d=m.useCallback(v=>{r(v),v.keyCode===13&&e(n)},[r,n,e]),f=m.useCallback(()=>{i(n)},[i,n]);m.useEffect(()=>{s&&i(n)},[s,n,i]);const h=n.urls.small,p=n.user.name,g=Zu().sanity;return c.jsx(m_r,{studioTheme:g,title:"Select image by ".concat(p," from Unsplash"),tabIndex:0,onKeyDown:d,onMouseDown:f,style:{width:"".concat(o,"px"),height:"".concat(a,"px"),backgroundImage:'url("'.concat(h,'")')},onClick:l,children:c.jsx(g_r,{onClick:u,children:c.jsx(v_r,{padding:2,radius:2,margin:2,children:c.jsxs(G,{size:1,title:"Open image by ".concat(p," on Unsplash in new window"),children:["By @",n.user.username]})})})})}const x_r=H(Te)(HLe||(HLe=AD([`
  position: sticky;
  top: 0;
  z-index: 1;
`])));H.div(zLe||(zLe=AD([`
  overflow-y: auto;
  max-height: 80vh;
`])));const w_r=42,WLe=2,__r=1;function C_r(t){const e=Cs({apiVersion:"2022-09-01"});return c.jsx(zst,{...t,client:e})}class zst extends re.Component{constructor(){super(...arguments),this.state={cursor:0,query:"",page:1,searchResults:[[]],isLoading:!0},this.searchSubscription=null,this.searchSubject$=new K_(""),this.pageSubject$=new K_(1),this.handleSelect=e=>(this.setState({isLoading:!0}),h_r(this.props.client,e).then(n=>{const r=e.description||void 0,i={kind:"url",value:n,assetDocumentProps:{_type:"sanity.imageAsset",source:{name:"unsplash",id:e.id,url:e.links.html},description:r,creditLine:"".concat(e.user.name," by Unsplash")}};this.props.onSelect([i])})),this.handleClose=()=>{this.props.onClose()},this.handleSearchTermChanged=e=>{const n=e.currentTarget.value;this.setState({query:n,page:1,searchResults:[[]],isLoading:!0,cursor:0}),this.pageSubject$.next(1),this.searchSubject$.next(n)},this.handleScollerLoadMore=()=>{const e=this.state.page+1;this.setState({page:e,isLoading:!0}),this.pageSubject$.next(e),this.searchSubject$.next(this.state.query)},this.handleKeyDown=e=>{const{cursor:n}=this.state;(e.keyCode===38||e.keyCode===37)&&n>0?this.setState(r=>({cursor:r.cursor-1})):(e.keyCode===40||e.keyCode===39)&&n<this.getPhotos().length-1&&this.setState(r=>({cursor:r.cursor+1}))},this.updateCursor=e=>{const n=this.getPhotos().findIndex(r=>r.id===e.id);this.setState({cursor:n})},this.renderImage=e=>{const{photo:n,layout:r}=e,i=this.getPhotos().findIndex(s=>s.id===n.data.id)===this.state.cursor||!1;return c.jsx(b_r,{onClick:this.handleSelect.bind(n.data),onKeyDown:this.handleKeyDown,data:n.data,width:r.width,height:r.height,active:i,onFocus:this.updateCursor})}}componentDidMount(){this.searchSubscription=p_r(this.props.client,this.searchSubject$,this.pageSubject$,w_r).subscribe({next:e=>{this.setState(n=>({searchResults:[...n.searchResults,e],isLoading:!1}))}})}componentWillUnmount(){this.searchSubscription&&this.searchSubscription.unsubscribe()}getPhotos(){return this.state.searchResults.flat()}render(){const{query:e,searchResults:n,isLoading:r}=this.state;return c.jsx(pa,{id:"unsplash-asset-source",header:"Select image from Unsplash",onClose:this.handleClose,open:!0,width:4,children:c.jsxs(Te,{space:3,padding:4,children:[c.jsx(ge,{children:c.jsxs(x_r,{space:3,children:[c.jsx(G,{size:1,weight:"semibold",children:"Search Unsplash"}),c.jsx(Fi,{label:"Search Unsplash.com",placeholder:"Topics or colors",value:e,onChange:this.handleSearchTermChanged})]})}),!r&&this.getPhotos().length===0&&c.jsx(G,{size:1,muted:!0,children:"No results found"}),c.jsx(k5r,{dataLength:this.getPhotos().length,next:this.handleScollerLoadMore,hasMore:!0,scrollThreshold:.99,height:"60vh",loader:c.jsx(ae,{align:"center",justify:"center",padding:3,children:c.jsx(_s,{muted:!0})}),endMessage:c.jsx(G,{size:1,muted:!0,children:"No more results"}),children:n.filter(i=>i.length>0).map((i,s)=>c.jsx(u_r,{layout:"rows",spacing:WLe,padding:__r,targetRowHeight:o=>o<300?150:o<600?200:300,photos:i.map(o=>({src:o.urls.small,width:o.width,height:o.height,key:o.id,data:o})),renderPhoto:this.renderImage,componentsProps:{containerProps:{style:{marginBottom:"".concat(WLe,"px")}}}},"gallery-".concat(e||"popular","-").concat(s)))})]})})}}zst.defaultProps={selectedAssets:void 0};const E_r={name:"unsplash",title:"Unsplash",component:C_r,icon:c_r},S_r=Ey({name:"asset-source-unsplash-plugin",form:{image:{assetSources:t=>[...t,E_r]}}});var GLe=Object.freeze,T_r=Object.defineProperty,nB=(t,e)=>GLe(T_r(t,"raw",{value:GLe(e||t.slice())})),qLe,YLe,KLe,ZLe;const k_r=H(ge)(qLe||(qLe=nB([`
  display: flex;
  flex-direction: column;
  justify-content: stretch;
  height: 100%;
  box-sizing: border-box;
  position: relative;
`]))),A_r=H(ge)(YLe||(YLe=nB([`
  position: sticky;
  top: 0;
  z-index: 2;
  border-top-left-radius: inherit;
  border-top-right-radius: inherit;
`]))),I_r=H(ge)(KLe||(KLe=nB([`
  position: sticky;
  overflow: hidden;
  bottom: 0;
  z-index: 2;
  border-bottom-right-radius: inherit;
  border-bottom-left-radius: inherit;
  margin-top: auto;
`]))),D_r=H(N)(ZLe||(ZLe=nB([`
  position: relative;
  z-index: 1;
  height: stretch;
  min-height: 21.5em;

  @media (min-width: `,`px) {
    overflow-y: auto;
    outline: none;
  }
`])),t=>{let{theme:e}=t;return e.sanity.media[0]}),DX=m.forwardRef(function(e,n){const{header:r,children:i,footer:s}=e;return c.jsxs(k_r,{radius:3,display:"flex",ref:n,children:[r&&c.jsx(A_r,{borderBottom:!0,paddingX:3,paddingY:4,children:c.jsx(Ws,{size:1,textOverflow:"ellipsis",children:r})}),i&&c.jsx(D_r,{children:i}),s&&c.jsx(I_r,{borderTop:!0,children:s})]})});function R_r(){return Cs({apiVersion:"1"})}const Wst=m.createContext({widgets:[]});function j_r(){return m.useContext(Wst)}function O_r(t){const e=j_r(),n=m.useMemo(()=>({...t.layout||{},...e.layout||{}}),[t.layout,e.layout]);return c.jsx(ge,{shadow:1,"data-width":n.width,"data-height":n.height,children:m.createElement(t.component,{})})}var XLe=Object.freeze,L_r=Object.defineProperty,P_r=(t,e)=>XLe(L_r(t,"raw",{value:XLe(e||t.slice())})),QLe;const M_r=H(ge)(QLe||(QLe=P_r([`
  box-sizing: border-box;
  border-radius: 50%;
  border-color: transparent;
  overflow: hidden;
  width: 100%;
  height: 100%;

  & > img {
    width: 100%;
    height: auto;
  }
`])));function $_r(t){return"https://manage.sanity.io/projects/".concat(t,"/team/invite")}function F_r(){const[t,e]=m.useState(),[n,r]=m.useState(),[i,s]=m.useState(),o=ese(),a=R_r(),l=m.useCallback(()=>{const{projectId:f}=a.config(),h=a.observable.request({uri:"/projects/".concat(f)}).pipe(Kt(p=>Vr(o.getUsers(p.members.map(g=>g.id))).pipe(Be(g=>({project:p,users:g}))))).subscribe({next:p=>{let{users:g,project:v}=p;e(v),r((Array.isArray(g)?g:[g]).sort((y,x)=>B_r(y,x,v)))},error:p=>s(p)});return()=>h.unsubscribe()},[o,a]);m.useEffect(()=>l(),[l]);const u=m.useCallback(()=>l(),[l]),d=!n||!t;return i?c.jsx(DX,{header:"Project users",children:c.jsx(N,{padding:4,children:c.jsxs(G,{children:["Something went wrong while fetching data. You could"," ",c.jsx("a",{onClick:u,title:"Retry users fetch",style:{cursor:"pointer"},children:"retry"}),"..?"]})})}):c.jsxs(DX,{header:"Project users",footer:c.jsx(Ce,{style:{width:"100%"},paddingX:2,paddingY:4,mode:"bleed",tone:"primary",text:"Invite members",as:"a",loading:d,href:d?void 0:$_r(t.id)}),children:[d&&c.jsx(N,{paddingY:5,paddingX:2,children:c.jsxs(Te,{space:4,children:[c.jsx(G,{align:"center",muted:!0,size:1,children:c.jsx(_s,{})}),c.jsx(G,{align:"center",size:1,muted:!0,children:"Loading items..."})]})}),!d&&c.jsx(Te,{space:3,padding:3,children:n==null?void 0:n.map(f=>{const h=t.members.find(g=>g.id===f.id),p=h!=null&&h.isRobot?c.jsx(G,{size:3,children:c.jsx(PMe,{})}):c.jsx(M_r,{tone:"transparent",children:(f==null?void 0:f.imageUrl)&&c.jsx("img",{src:f.imageUrl,alt:f==null?void 0:f.displayName})});return c.jsx(N,{children:c.jsx(bre,{title:f.displayName,subtitle:h==null?void 0:h.role,media:p})},f.id)})})]})}function B_r(t,e,n){const{members:r}=n,i=r.find(o=>o.id===(t==null?void 0:t.id)),s=r.find(o=>o.id===(e==null?void 0:e.id));return i!=null&&i.isRobot?1:s!=null&&s.isRobot?-1:0}function N_r(t){return{name:"project-info",component:F_r,layout:t==null?void 0:t.layout}}var JLe=Object.freeze,V_r=Object.defineProperty,rB=(t,e)=>JLe(V_r(t,"raw",{value:JLe(e||t.slice())})),ePe,tPe,nPe,rPe;const U_r=H(N)(ePe||(ePe=rB([`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);

  &:before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 2.75em;
    height: 2.75em;
    border-radius: 50%;
    background: `,`;
    opacity: 0.75;
  }
`])),t=>{let{theme:e}=t;return e.sanity.color.card.enabled.bg});H(ae)(tPe||(tPe=rB([`
  &:hover {
    `,` {
      &:before {
        opacity: 1;
      }
    }
  }
`])),U_r);H(ge)(nPe||(nPe=rB([`
  width: 100%;
  padding-bottom: calc(9 / 16 * 100%);
  position: relative;
`])));H.img(rPe||(rPe=rB([`
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;
  object-fit: cover;
  display: block;

  &:not([src]) {
    display: none;
  }
`])));function H_r(t){return c.jsx(Wc,{width:4,padding:4,sizing:"border",style:{height:"100%",overflowY:"auto"},children:t.children})}var iPe=Object.freeze,z_r=Object.defineProperty,uh=(t,e)=>iPe(z_r(t,"raw",{value:iPe(e||t.slice())})),sPe,oPe,aPe,lPe,uPe,cPe,dPe,fPe,hPe,pPe,mPe;const h1={small:function(){return qe(sPe||(sPe=uh([`
      @media (min-width: `,`px) {
        `,`
      }
    `])),t=>{let{theme:e}=t;return e.sanity.media[0]},qe(...arguments))},medium:function(){return qe(oPe||(oPe=uh([`
      @media (min-width: `,`px) {
        `,`
      }
    `])),t=>{let{theme:e}=t;return e.sanity.media[2]},qe(...arguments))}},W_r=H(Er)(mPe||(mPe=uh([`
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));

  & > div {
    overflow: hidden;
  }

  & > div[data-width='medium'] {
    `,`
  }

  & > div[data-width='large'] {
    `,`

    `,`
  }

  & > div[data-width='full'] {
    `,`
  }

  & > div[data-height='medium'] {
    `,`
  }

  & > div[data-height='large'] {
    `,`

    `,`
  }

  & > div[data-height='full'] {
    `,`
  }
`])),h1.small(aPe||(aPe=uh([`
      grid-column: span 2;
    `]))),h1.small(lPe||(lPe=uh([`
      grid-column: span 2;
    `]))),h1.medium(uPe||(uPe=uh([`
      grid-column: span 3;
    `]))),h1.small(cPe||(cPe=uh([`
      grid-column: 1 / -1;
    `]))),h1.small(dPe||(dPe=uh([`
      grid-row: span 2;
    `]))),h1.small(fPe||(fPe=uh([`
      grid-row: span 2;
    `]))),h1.medium(hPe||(hPe=uh([`
      grid-row: span 3;
    `]))),h1.medium(pPe||(pPe=uh([`
      grid-row: 1 / -1;
    `])))),G_r=[],q_r={};function Gst(t){const{config:{layout:e=q_r,widgets:n=G_r}}=t;return c.jsxs(W_r,{autoFlow:"row dense","data-width":e.width||"auto","data-height":e.height||"auto",gap:4,children:[n.length?null:c.jsx(ge,{padding:4,shadow:1,tone:"primary",children:c.jsx(G,{align:"center",children:"Add some widgets to populate this space."})}),n.map((r,i)=>r.type==="__experimental_group"?c.jsx(Gst,{config:r},i):r.component?c.jsx(O_r,{...r},i):c.jsxs(N,{children:[r.name," is missing widget component"]},i))]})}function Y_r(t){let{config:e}=t;return e?c.jsx(Wst.Provider,{value:e,children:c.jsx(H_r,{children:c.jsx(Gst,{config:e})})}):null}const bW={stroke:"currentColor",strokeWidth:1.2},K_r=()=>c.jsxs("svg",{"data-sanity-icon":!0,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid",width:"1em",height:"1em",children:[c.jsx("path",{d:"M19.5 19.5H5.5V5.5H19.5V19.5Z",style:bW}),c.jsx("path",{d:"M5.5 12.5H19.5",style:bW}),c.jsx("path",{d:"M14.5 19.5V12.5M10.5 12.5V5.5",style:bW})]}),Z_r=Ey(function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var e,n,r,i,s;const o={layout:(e=t.defaultLayout)!=null?e:{},widgets:(n=t.widgets)!=null?n:[]},a=(r=t.title)!=null?r:"Dashboard",l=(i=t.name)!=null?i:"dashboard",u=(s=t.icon)!=null?s:K_r;return{name:"dashboard",tools:(d,f)=>[...d,{title:a,name:l,icon:u,component:()=>c.jsx(Y_r,{config:o})}]}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var RX=function(t,e){return RX=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},RX(t,e)};function Kf(t,e){RX(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function V8(t){return typeof t=="function"}var gPe=!1,Vp={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}gPe=t},get useDeprecatedSynchronousErrorHandling(){return gPe}};function H5(t){setTimeout(function(){throw t},0)}var U8={closed:!0,next:function(t){},error:function(t){if(Vp.useDeprecatedSynchronousErrorHandling)throw t;H5(t)},complete:function(){}},X_r=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function qst(t){return t!==null&&typeof t=="object"}var Q_r=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),nP=Q_r,jE=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this,r=n._parentOrParents,i=n._ctorUnsubscribe,s=n._unsubscribe,o=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof t)r.remove(this);else if(r!==null)for(var a=0;a<r.length;++a){var l=r[a];l.remove(this)}if(V8(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(f){e=f instanceof nP?vPe(f.errors):[f]}}if(X_r(o))for(var a=-1,u=o.length;++a<u;){var d=o[a];if(qst(d))try{d.unsubscribe()}catch(h){e=e||[],h instanceof nP?e=e.concat(vPe(h.errors)):e.push(h)}}if(e)throw new nP(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||typeof n.unsubscribe!="function")return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;n=new t,n._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(i===null)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return n;var s=this._subscriptions;return s===null?this._subscriptions=[n]:s.push(n),n},t.prototype.remove=function(e){var n=this._subscriptions;if(n){var r=n.indexOf(e);r!==-1&&n.splice(r,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function vPe(t){return t.reduce(function(e,n){return e.concat(n instanceof nP?n.errors:n)},[])}var jX=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),fm=function(t){Kf(e,t);function e(n,r,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=U8;break;case 1:if(!n){s.destination=U8;break}if(typeof n=="object"){n instanceof e?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new yPe(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new yPe(s,n,r,i);break}return s}return e.prototype[jX]=function(){return this},e.create=function(n,r,i){var s=new e(n,r,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){this.destination.error(n),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var n=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=n,this},e}(jE),yPe=function(t){Kf(e,t);function e(n,r,i,s){var o=t.call(this)||this;o._parentSubscriber=n;var a,l=o;return V8(r)?a=r:r&&(a=r.next,i=r.error,s=r.complete,r!==U8&&(l=Object.create(r),V8(l.unsubscribe)&&o.add(l.unsubscribe.bind(l)),l.unsubscribe=o.unsubscribe.bind(o))),o._context=l,o._next=a,o._error=i,o._complete=s,o}return e.prototype.next=function(n){if(!this.isStopped&&this._next){var r=this._parentSubscriber;!Vp.useDeprecatedSynchronousErrorHandling||!r.syncErrorThrowable?this.__tryOrUnsub(this._next,n):this.__tryOrSetError(r,this._next,n)&&this.unsubscribe()}},e.prototype.error=function(n){if(!this.isStopped){var r=this._parentSubscriber,i=Vp.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!r.syncErrorThrowable?(this.__tryOrUnsub(this._error,n),this.unsubscribe()):(this.__tryOrSetError(r,this._error,n),this.unsubscribe());else if(r.syncErrorThrowable)i?(r.syncErrorValue=n,r.syncErrorThrown=!0):H5(n),this.unsubscribe();else{if(this.unsubscribe(),i)throw n;H5(n)}}},e.prototype.complete=function(){var n=this;if(!this.isStopped){var r=this._parentSubscriber;if(this._complete){var i=function(){return n._complete.call(n._context)};!Vp.useDeprecatedSynchronousErrorHandling||!r.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(r,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(n,r){try{n.call(this._context,r)}catch(i){if(this.unsubscribe(),Vp.useDeprecatedSynchronousErrorHandling)throw i;H5(i)}},e.prototype.__tryOrSetError=function(n,r,i){if(!Vp.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{r.call(this._context,i)}catch(s){return Vp.useDeprecatedSynchronousErrorHandling?(n.syncErrorValue=s,n.syncErrorThrown=!0,!0):(H5(s),!0)}return!1},e.prototype._unsubscribe=function(){var n=this._parentSubscriber;this._context=null,this._parentSubscriber=null,n.unsubscribe()},e}(fm);function J_r(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;r&&r instanceof fm?t=r:t=null}return!0}function eCr(t,e,n){if(t){if(t instanceof fm)return t;if(t[jX])return t[jX]()}return!t&&!e&&!n?new fm(U8):new fm(t,e,n)}var ID=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function tCr(t){return t}function nCr(t){return t.length===0?tCr:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var Ff=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this.operator,s=eCr(e,n,r);if(i?s.add(i.call(s,this.source)):s.add(this.source||Vp.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),Vp.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){Vp.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=n),J_r(e)?e.error(n):console.warn(n)}},t.prototype.forEach=function(e,n){var r=this;return n=bPe(n),new n(function(i,s){var o;o=r.subscribe(function(a){try{e(a)}catch(l){s(l),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var n=this.source;return n&&n.subscribe(e)},t.prototype[ID]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.length===0?this:nCr(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=bPe(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function bPe(t){if(t||(t=Promise),!t)throw new Error("no Promise impl found");return t}var rCr=function(t){Kf(e,t);function e(n,r){return t.call(this)||this}return e.prototype.schedule=function(n,r){return this},e}(jE),iCr=function(t){Kf(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(n,r){if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(s,this.id,r),this},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),setInterval(n.flush.bind(n,this),i)},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return r;clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var i=!1,s=void 0;try{this.work(n)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var n=this.id,r=this.scheduler,i=r.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),n!=null&&(this.id=this.recycleAsyncId(r,n,null)),this.delay=null},e}(rCr),xPe=function(){function t(e,n){n===void 0&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.SchedulerAction(this,e).schedule(r,n)},t.now=function(){return Date.now()},t}(),sCr=function(t){Kf(e,t);function e(n,r){r===void 0&&(r=xPe.now);var i=t.call(this,n,function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(n,r,i){return r===void 0&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(n){var r=this.actions;if(this.active){r.push(n);return}var i;this.active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this.active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},e}(xPe),oCr=new Ff(function(t){return t.complete()});function aCr(t){return t?lCr(t):oCr}function lCr(t){return new Ff(function(e){return t.schedule(function(){return e.complete()})})}function uCr(t){return t&&typeof t.schedule=="function"}var Yst=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};function rae(t,e){return new Ff(function(n){var r=new jE,i=0;return r.add(e.schedule(function(){if(i===t.length){n.complete();return}n.next(t[i++]),n.closed||r.add(this.schedule())})),r})}function cCr(t,e){return e?rae(t,e):new Ff(Yst(t))}function Kst(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return uCr(n)?(t.pop(),rae(t,n)):cCr(t)}function dCr(t,e){return e?new Ff(function(n){return e.schedule(fCr,0,{error:t,subscriber:n})}):new Ff(function(n){return n.error(t)})}function fCr(t){var e=t.error,n=t.subscriber;n.error(e)}var wPe=function(){function t(e,n,r){this.kind=e,this.value=n,this.error=r,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,n,r){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return n&&n(this.error);case"C":return r&&r()}},t.prototype.accept=function(e,n,r){return e&&typeof e.next=="function"?this.observe(e):this.do(e,n,r)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return Kst(this.value);case"E":return dCr(this.error);case"C":return aCr()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),hCr=new sCr(iCr),pCr=hCr;function p1(){}function Zst(t,e){return function(r){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new mCr(t,e))}}var mCr=function(){function t(e,n){this.project=e,this.thisArg=n}return t.prototype.call=function(e,n){return n.subscribe(new gCr(e,this.project,this.thisArg))},t}(),gCr=function(t){Kf(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.project=r,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(n){var r;try{r=this.project.call(this.thisArg,n,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(r)},e}(fm),vCr=function(t){return function(e){return t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,H5),e}};function yCr(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var iB=yCr(),bCr=function(t){return function(e){var n=t[iB]();do{var r=void 0;try{r=n.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}while(!0);return typeof n.return=="function"&&e.add(function(){n.return&&n.return()}),e}},xCr=function(t){return function(e){var n=t[ID]();if(typeof n.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}},Xst=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function Qst(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var Jst=function(t){if(t&&typeof t[ID]=="function")return xCr(t);if(Xst(t))return Yst(t);if(Qst(t))return vCr(t);if(t&&typeof t[iB]=="function")return bCr(t);var e=qst(t)?"an invalid object":"'"+t+"'",n="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(n)};function wCr(t,e){return new Ff(function(n){var r=new jE;return r.add(e.schedule(function(){var i=t[ID]();r.add(i.subscribe({next:function(s){r.add(e.schedule(function(){return n.next(s)}))},error:function(s){r.add(e.schedule(function(){return n.error(s)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})}function _Cr(t,e){return new Ff(function(n){var r=new jE;return r.add(e.schedule(function(){return t.then(function(i){r.add(e.schedule(function(){n.next(i),r.add(e.schedule(function(){return n.complete()}))}))},function(i){r.add(e.schedule(function(){return n.error(i)}))})})),r})}function CCr(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ff(function(n){var r=new jE,i;return r.add(function(){i&&typeof i.return=="function"&&i.return()}),r.add(e.schedule(function(){i=t[iB](),r.add(e.schedule(function(){if(!n.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(l){n.error(l);return}o?n.complete():(n.next(s),this.schedule())}}))})),r})}function ECr(t){return t&&typeof t[ID]=="function"}function SCr(t){return t&&typeof t[iB]=="function"}function TCr(t,e){if(t!=null){if(ECr(t))return wCr(t,e);if(Qst(t))return _Cr(t,e);if(Xst(t))return rae(t,e);if(SCr(t)||typeof t=="string")return CCr(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function eot(t,e){return e?TCr(t,e):t instanceof Ff?t:new Ff(Jst(t))}var tot=function(t){Kf(e,t);function e(n){var r=t.call(this)||this;return r.parent=n,r}return e.prototype._next=function(n){this.parent.notifyNext(n)},e.prototype._error=function(n){this.parent.notifyError(n),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(fm),not=function(t){Kf(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(n){this.destination.next(n)},e.prototype.notifyError=function(n){this.destination.error(n)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(fm);function rot(t,e){if(!e.closed){if(t instanceof Ff)return t.subscribe(e);var n;try{n=Jst(t)(e)}catch(r){e.error(r)}return n}}function iot(t,e,n){return n===void 0&&(n=Number.POSITIVE_INFINITY),typeof e=="function"?function(r){return r.pipe(iot(function(i,s){return eot(t(i,s)).pipe(Zst(function(o,a){return e(i,o,s,a)}))},n))}:(typeof e=="number"&&(n=e),function(r){return r.lift(new kCr(t,n))})}var kCr=function(){function t(e,n){n===void 0&&(n=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=n}return t.prototype.call=function(e,n){return n.subscribe(new ACr(e,this.project,this.concurrent))},t}(),ACr=function(t){Kf(e,t);function e(n,r,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,n)||this;return s.project=r,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(n){this.active<this.concurrent?this._tryNext(n):this.buffer.push(n)},e.prototype._tryNext=function(n){var r,i=this.index++;try{r=this.project(n,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(r)},e.prototype._innerSub=function(n){var r=new tot(this),i=this.destination;i.add(r);var s=rot(n,r);s!==r&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(n){this.destination.next(n)},e.prototype.notifyComplete=function(){var n=this.buffer;this.active--,n.length>0?this._next(n.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(not);function ICr(t){return t instanceof Date&&!isNaN(+t)}function DCr(t,e){e===void 0&&(e=pCr);var n=ICr(t),r=n?+t-e.now():Math.abs(t);return function(i){return i.lift(new RCr(r,e))}}var RCr=function(){function t(e,n){this.delay=e,this.scheduler=n}return t.prototype.call=function(e,n){return n.subscribe(new jCr(e,this.delay,this.scheduler))},t}(),jCr=function(t){Kf(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.delay=r,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(n){for(var r=n.source,i=r.queue,s=n.scheduler,o=n.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(n,a)}else this.unsubscribe(),r.active=!1},e.prototype._schedule=function(n){this.active=!0;var r=this.destination;r.add(n.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:n}))},e.prototype.scheduleNotification=function(n){if(this.errored!==!0){var r=this.scheduler,i=new OCr(r.now()+this.delay,n);this.queue.push(i),this.active===!1&&this._schedule(r)}},e.prototype._next=function(n){this.scheduleNotification(wPe.createNext(n))},e.prototype._error=function(n){this.errored=!0,this.queue=[],this.destination.error(n),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(wPe.createComplete()),this.unsubscribe()},e}(fm),OCr=function(){function t(e,n){this.time=e,this.notification=n}return t}();function sot(t,e){return typeof e=="function"?function(n){return n.pipe(sot(function(r,i){return eot(t(r,i)).pipe(Zst(function(s,o){return e(r,s,i,o)}))}))}:function(n){return n.lift(new LCr(t))}}var LCr=function(){function t(e){this.project=e}return t.prototype.call=function(e,n){return n.subscribe(new PCr(e,this.project))},t}(),PCr=function(t){Kf(e,t);function e(n,r){var i=t.call(this,n)||this;return i.project=r,i.index=0,i}return e.prototype._next=function(n){var r,i=this.index++;try{r=this.project(n,i)}catch(s){this.destination.error(s);return}this._innerSub(r)},e.prototype._innerSub=function(n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new tot(this),s=this.destination;s.add(i),this.innerSubscription=rot(n,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var n=this.innerSubscription;(!n||n.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(n){this.destination.next(n)},e}(not);function MCr(t,e,n){return function(i){return i.lift(new $Cr(t,e,n))}}var $Cr=function(){function t(e,n,r){this.nextOrObserver=e,this.error=n,this.complete=r}return t.prototype.call=function(e,n){return n.subscribe(new FCr(e,this.nextOrObserver,this.error,this.complete))},t}(),FCr=function(t){Kf(e,t);function e(n,r,i,s){var o=t.call(this,n)||this;return o._tapNext=p1,o._tapError=p1,o._tapComplete=p1,o._tapError=i||p1,o._tapComplete=s||p1,V8(r)?(o._context=o,o._tapNext=r):r&&(o._context=r,o._tapNext=r.next||p1,o._tapError=r.error||p1,o._tapComplete=r.complete||p1),o}return e.prototype._next=function(n){try{this._tapNext.call(this._context,n)}catch(r){this.destination.error(r);return}this.destination.next(n)},e.prototype._error=function(n){try{this._tapError.call(this._context,n)}catch(r){this.destination.error(r);return}this.destination.error(n)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(n){this.destination.error(n);return}return this.destination.complete()},e}(fm);function _Pe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_Pe(Object(n),!0).forEach(function(r){BCr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_Pe(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BCr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const CPe=t=>"drafts.".concat(t._id);function NCr(t,e,n){return n.listen(t,e,{events:["welcome","mutation"],includeResult:!1,visibility:"query"}).pipe(sot(r=>Kst(1).pipe(r.type==="welcome"?MCr():DCr(1e3),iot(()=>n.fetch(t,e).then(i=>function(s,o){if(!s)return Promise.resolve([]);const a=Array.isArray(s)?s:[s],l=a.filter(u=>!u._id.startsWith("drafts.")).map(CPe);return o.fetch("*[_id in $ids]",{ids:l}).then(u=>{const d=a.map(f=>u.find(h=>h._id===CPe(f))||f);return Wv(d,"_id")}).catch(u=>{throw new Error("Problems fetching docs ".concat(l,". Error: ").concat(u.message))})}(i,n)).catch(i=>{throw i.message.startsWith("Problems fetching docs")?i:new Error("Query failed ".concat(t," and ").concat(JSON.stringify(e),". Error: ").concat(i.message))})))))}const VCr={title:"Last created",order:"_createdAt desc",limit:10,queryParams:{},showCreateButton:!0,apiVersion:"v1"};function UCr(t){const{query:e,limit:n,apiVersion:r,queryParams:i,types:s,order:o,title:a,showCreateButton:l,createButtonText:u}=OX(OX({},VCr),t),[d,f]=m.useState(),[h,p]=m.useState(!0),[g,v]=m.useState(),y=Cs({apiVersion:r}),x=es(),{assembledQuery:b,params:_}=m.useMemo(()=>{if(e)return{assembledQuery:e,params:i};const C=x.getTypeNames().filter(S=>{var T;const A=x.get(S);return((T=A==null?void 0:A.type)==null?void 0:T.name)==="document"});return{assembledQuery:"*[_type in $types] | order(".concat(o,") [0...").concat(2*n,"]"),params:{types:s?Ag.intersection(s,C):C}}},[x,e,i,o,n,s]);return m.useEffect(()=>{if(!b)return;const C=NCr(b,_,y).subscribe({next:S=>{f(S.slice(0,n)),p(!1)},error:S=>{v(S),p(!1)}});return()=>{C.unsubscribe()}},[n,y,b,_]),c.jsx(DX,{header:a,footer:s&&s.length===1&&l&&c.jsx(eqe,{mode:"bleed",style:{width:"100%"},paddingX:2,paddingY:4,tone:"primary",type:"button",intent:"create",params:{type:s[0]},text:u||"Create new ".concat(s[0])}),children:c.jsxs(ge,{children:[g&&c.jsx("div",{children:g.message}),!g&&h&&c.jsx(ge,{padding:4,children:c.jsx(ae,{justify:"center",children:c.jsx(_s,{muted:!0})})}),!g&&!d&&!h&&c.jsx("div",{children:"Could not locate any documents :/"}),c.jsx(Te,{space:2,children:d&&d.map(C=>c.jsx(HCr,{doc:C},C._id))})]})})}function HCr(t){let{doc:e}=t;const n=es().get(e._type);return c.jsx(ge,{flex:1,children:c.jsx(eqe,{intent:"edit",mode:"bleed",padding:1,radius:0,params:{type:e._type,id:Ks(e._id)},style:{width:"100%"},children:n?c.jsx(Tw,{layout:"default",schemaType:n,value:e},e._id):"Schema-type missing"})})}function zj(t){return{name:"document-list-widget",component:function(){return c.jsx(UCr,OX({},t))},layout:t.layout}}const zCr=t=>({name:"singletonPlugin",document:{newDocumentOptions:(e,{creationContext:n})=>n.type==="global"?e.filter(r=>!t.includes(r.templateId)):e,actions:(e,{schemaType:n})=>t.includes(n)?e.filter(({action:r})=>!["unpublish","delete","duplicate"].includes(r)):e}}),WCr=t=>e=>{const n=t.map(i=>e.listItem().title(i.title||"").icon(i.icon).child(e.editor().id(i.name).schemaType(i.name).documentId(i.name).views([e.view.form()]))),r=e.documentTypeListItems().filter(i=>!t.find(s=>s.name===i.getId()));return e.list().title("Content").items([...n,e.divider(),...r])},GCr={name:"default",title:"Blog Studio",projectId:"wogh1fgb",dataset:"development",plugins:[Z_r({widgets:[zj({title:"Recent 10 posts",query:'*[_type == "post"]',limit:10}),zj({title:"Top 10 Author",query:'*[_type == "author"]',limit:10}),zj({title:"Top 10 Category",query:'*[_type == "category"]',limit:10}),zj({title:"Top 10 Tag",query:'*[_type == "tag"]',limit:10}),N_r()]}),Ucr({structure:WCr([eQe])}),$ar(),Tfr(),zCr(["settings"]),Bfr(),ehr(),E5r({mp4_support:"standard"}),S_r()],schema:{types:hYn}};Qzn(document.getElementById("sanity"),GCr,{reactStrictMode:!1,basePath:"/"});export{zv as $,eQ as A,N as B,ge as C,Qcr as D,fE as E,ae as F,wEr as G,Ws as H,Cs as I,us as J,Pi as K,Be as L,vu as M,Or as N,il as O,xEr as P,go as Q,li as R,y7 as S,G as T,Hu as U,Ic as V,d7 as W,rt as X,Re as Y,Pf as Z,TEr as _,ws as a,gre as a$,Ur as a0,Ei as a1,CFe as a2,gu as a3,Fi as a4,nl as a5,VI as a6,Cw as a7,Ls as a8,Ad as a9,Lr as aA,I0 as aB,Nee as aC,Jn as aD,Kc as aE,ZCr as aF,Na as aG,RF as aH,dEr as aI,mEr as aJ,qe as aK,Va as aL,Rd as aM,oEr as aN,SA as aO,j$ as aP,aEr as aQ,GI as aR,mur as aS,stt as aT,pur as aU,Dc as aV,Icr as aW,lur as aX,Nlr as aY,Mn as aZ,Bgt as a_,bFe as aa,eM as ab,IWe as ac,Bh as ad,USn as ae,Yc as af,Qse as ag,uF as ah,qCr as ai,_lr as aj,nw as ak,Sx as al,Rv as am,ogt as an,vo as ao,MC as ap,Jfr as aq,Zu as ar,fr as as,vI as at,Xe as au,co as av,vt as aw,AA as ax,i9 as ay,ci as az,CEr as b,KP as b$,ctt as b0,HJ as b1,re as b2,sF as b3,tWn as b4,lI as b5,iEr as b6,fEr as b7,UXe as b8,lEr as b9,I6 as bA,tee as bB,Fv as bC,LMe as bD,IC as bE,sC as bF,REr as bG,jEr as bH,DEr as bI,kw as bJ,IEr as bK,fI as bL,PEr as bM,LEr as bN,OEr as bO,Kt as bP,Xi as bQ,nFe as bR,R0 as bS,ei as bT,jn as bU,qs as bV,gXt as bW,pee as bX,mee as bY,pa as bZ,flr as b_,nD as ba,j_n as bb,$0 as bc,XCr as bd,J7 as be,AEr as bf,_Er as bg,Iu as bh,rEr as bi,kEr as bj,sEr as bk,Uu as bl,Clr as bm,yEr as bn,bEr as bo,Al as bp,DF as bq,Ulr as br,EEr as bs,o9 as bt,TC as bu,nee as bv,TA as bw,wqe as bx,hI as by,Q7 as bz,SEr as c,Md as c0,lQ as c1,gEr as c2,vr as c3,_0 as c4,er as c5,St as c6,cn as c7,KCr as c8,yz as c9,xRt as ca,Vr as cb,hee as cc,QO as cd,Ti as ce,Zh as cf,ga as cg,zf as ch,Er as ci,AVe as cj,xf as ck,bf as cl,dZ as cm,zMe as cn,wr as co,Bv as cp,Ox as cq,Yu as cr,Ugt as cs,w6t as ct,U3 as cu,M_ as cv,Ke as cw,nYn as cx,LBe as cy,nn as cz,Ce as d,vEr as e,eoe as f,es as g,Zs as h,uu as i,c as j,vee as k,iFn as l,rP as m,jo as n,tm as o,Iv as p,Jse as q,m as r,H as s,Ks as t,btt as u,_s as v,Wc as w,Te as x,b7 as y,dlr as z};
